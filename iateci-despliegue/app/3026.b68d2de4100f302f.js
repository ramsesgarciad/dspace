"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[3026],{63026:(W,d,n)=>{n.r(d),n.d(d,{ROUTES:()=>Z});var r=n(85643),l=n(59072),g=n(47861),C=n(60177),t=n(54438),m=n(7901),p=n(68018),h=n(96697),S=n(23294),y=n(31),I=n(89777),P=n(15202),F=n(2175),$=n(8417),M=n(93007),R=n(85955),x=n(6207);const E=a=>["/entities/person/",a],v=a=>({total:a});function j(a,o){1&a&&(t.nrm(0,"ds-loading",4),t.nI1(1,"translate")),2&a&&t.FS9("message",t.bMT(1,1,"suggestion.loading"))}function A(a,o){1&a&&t.nrm(0,"ds-loading",7)}function U(a,o){1&a&&(t.j41(0,"div",8),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"suggestion.noTargets")," "))}function B(a,o){if(1&a){const i=t.RV6();t.j41(0,"tr",11)(1,"td")(2,"a",13),t.EFF(3),t.k0s()(),t.j41(4,"td")(5,"div",14)(6,"button",15),t.nI1(7,"translate"),t.bIt("click",function(){const s=t.eBV(i).$implicit,u=t.XpG(4);return t.Njj(u.redirectToSuggestions(s.id))}),t.j41(8,"span"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"i",16),t.k0s()()()()}if(2&a){const i=o.$implicit,e=t.XpG(4);t.R7$(2),t.Y8G("routerLink",t.eq3(10,E,e.getTargetUuid(i))),t.R7$(),t.JRh(i.display),t.R7$(3),t.FS9("title",t.i5U(7,4,"suggestion.button.review.title",t.eq3(12,v,i.total.toString()))+i.display),t.R7$(3),t.SpI("",t.i5U(10,7,"suggestion.button.review",t.eq3(14,v,i.total.toString()))," ")}}function G(a,o){if(1&a&&(t.j41(0,"div",9)(1,"table",10)(2,"thead")(3,"tr",11)(4,"th",12),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"th",12),t.EFF(8),t.nI1(9,"translate"),t.k0s()()(),t.j41(10,"tbody"),t.Z7z(11,B,12,16,"tr",11,t.fX1),t.nI1(13,"async"),t.k0s()()()),2&a){const i=t.XpG(3);t.R7$(5),t.JRh(t.bMT(6,2,"suggestion.table.name")),t.R7$(3),t.JRh(t.bMT(9,4,"suggestion.table.actions")),t.R7$(3),t.Dyx(t.bMT(13,6,i.targets$))}}function N(a,o){if(1&a&&(t.DNE(0,U,3,3,"div",8),t.nI1(1,"async"),t.DNE(2,G,14,8,"div",9),t.nI1(3,"async")),2&a){let i,e;const s=t.XpG(2);t.vxM(0===(null==(i=t.bMT(1,2,s.targets$))?null:i.length)?0:-1),t.R7$(2),t.vxM(0!==(null==(e=t.bMT(3,4,s.targets$))?null:e.length)?2:-1)}}function V(a,o){if(1&a){const i=t.RV6();t.j41(0,"ds-pagination",6),t.nI1(1,"async"),t.bIt("paginationChange",function(){t.eBV(i);const s=t.XpG();return t.Njj(s.getSuggestionTargets())}),t.DNE(2,A,1,0,"ds-loading",7),t.nI1(3,"async"),t.DNE(4,N,4,6),t.nI1(5,"async"),t.k0s()}if(2&a){const i=t.XpG();t.Y8G("paginationOptions",i.paginationConfig)("collectionSize",t.bMT(1,6,i.totalElements$))("hideGear",!1)("retainScrollPosition",!1),t.R7$(2),t.vxM(t.bMT(3,8,i.isTargetsProcessing())?2:-1),t.R7$(2),t.vxM(!0!==t.bMT(5,10,i.isTargetsProcessing())?4:-1)}}let X=(()=>{class a{constructor(i,e,s,u){this.paginationService=i,this.suggestionTargetsStateService=e,this.suggestionService=s,this.router=u,this.sourceId=(0,t.hFB)(),this.paginationConfig=Object.assign(new $.W,{id:"stp_"+this.sourceId,pageSizeOptions:[5,10,20,40,60]}),this.subs=[]}ngOnInit(){this.targets$=this.suggestionTargetsStateService.getSuggestionTargets(this.sourceId()),this.totalElements$=this.suggestionTargetsStateService.getSuggestionTargetsTotals(this.sourceId())}ngAfterViewInit(){this.subs.push(this.suggestionTargetsStateService.isSuggestionTargetsLoaded(this.sourceId()).pipe((0,h.s)(1)).subscribe(()=>{this.getSuggestionTargets()}))}isTargetsLoading(){return this.suggestionTargetsStateService.isSuggestionTargetsLoading(this.sourceId())}isTargetsProcessing(){return this.suggestionTargetsStateService.isSuggestionTargetsProcessing(this.sourceId())}redirectToSuggestions(i){this.router.navigate([(0,M.jV)(i)])}ngOnDestroy(){this.suggestionTargetsStateService.dispatchClearSuggestionTargetsAction(this.sourceId()),this.subs.filter(i=>(0,I.a4)(i)).forEach(i=>i.unsubscribe())}getSuggestionTargets(){this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig).pipe((0,S.F)(),(0,h.s)(1)).subscribe(i=>{this.suggestionTargetsStateService.dispatchRetrieveSuggestionTargets(this.sourceId(),i.pageSize,i.currentPage)})}getTargetUuid(i){return this.suggestionService.getTargetUuid(i)}static{this.\u0275fac=function(e){return new(e||a)(t.rXU(y.m),t.rXU(x.x),t.rXU(R.F),t.rXU(m.Ix))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["ds-publication-claim"]],inputs:{sourceId:[1,"sourceId"]},standalone:!0,features:[t.aNF],decls:10,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],[1,"container",3,"message"],[3,"paginationOptions","collectionSize","hideGear","retainScrollPosition"],[3,"paginationChange","paginationOptions","collectionSize","hideGear","retainScrollPosition"],["message","'suggestion.loading' | translate",1,"container"],["role","alert",1,"alert","alert-info","w-100","mb-2","mt-2"],[1,"table-responsive","mt-2"],["id","epeople",1,"table","table-striped","table-hover","table-bordered"],[1,"text-center"],["scope","col"],["target","_blank",3,"routerLink"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"click","title"],[1,"fas","fa-lightbulb"]],template:function(e,s){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.DNE(6,j,2,3,"ds-loading",4),t.nI1(7,"async"),t.DNE(8,V,6,12,"ds-pagination",5),t.nI1(9,"async"),t.k0s()()()),2&e&&(t.R7$(4),t.JRh(t.bMT(5,3,"suggestion.title")),t.R7$(2),t.vxM(t.bMT(7,5,s.isTargetsLoading())?6:-1),t.R7$(2),t.vxM(!0!==t.bMT(9,7,s.isTargetsLoading())?8:-1))},dependencies:[C.Jj,F.e,m.Wk,P.v,p.h,p.D9]})}}return a})();var b=n(79479),D=n(66902),O=n(30607),L=n(22052),z=n(41907),K=n(96745),f=n(40883),T=n(12627),J=n(75170);let Q=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["ds-admin-notifications-publication-claim-page"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(e,s){1&e&&t.nrm(0,"ds-suggestion-sources")},dependencies:[J._]})}}return a})();var c=n(80883);const Z=[{canActivate:[r.t],path:`${c.VZ}`,component:Q,pathMatch:"full",resolve:{breadcrumb:l.S,suggestionTargetParams:b.B},data:{title:"admin.notifications.publicationclaim.page.title",breadcrumbKey:"admin.notifications.publicationclaim",showBreadcrumbsFluid:!1}},{canActivate:[r.t],path:`${c.VZ}/:sourceId`,pathMatch:"full",component:X,resolve:{breadcrumb:g.o,openaireQualityAssuranceEventsParams:b.B},data:{title:"admin.notifications.publicationclaim.page.title",breadcrumbKey:"admin.notifications.publicationclaim",showBreadcrumbsFluid:!1}},{canActivate:[r.t],path:`${c.rn}/:sourceId`,component:f.V,pathMatch:"full",resolve:{breadcrumb:g.o,openaireQualityAssuranceTopicsParams:T.G},data:{title:"admin.quality-assurance.page.title",breadcrumbKey:"admin.quality-assurance",showBreadcrumbsFluid:!1}},{canActivate:[r.t],path:`${c.rn}/:sourceId/target/:targetId`,component:f.V,pathMatch:"full",resolve:{breadcrumb:l.S,openaireQualityAssuranceTopicsParams:T.G},data:{title:"admin.quality-assurance.page.title",breadcrumbKey:"admin.quality-assurance",showBreadcrumbsFluid:!1}},{canActivate:[r.t],path:`${c.rn}`,component:z.E,pathMatch:"full",resolve:{breadcrumb:l.S,openaireQualityAssuranceSourceParams:K.t,sourceData:L.c},data:{title:"admin.notifications.source.breadcrumbs",breadcrumbKey:"admin.notifications.source",showBreadcrumbsFluid:!1}},{canActivate:[r.t],path:`${c.rn}/:sourceId/:topicId`,component:D.k,pathMatch:"full",resolve:{breadcrumb:g.o,openaireQualityAssuranceEventsParams:O.h},data:{title:"admin.notifications.event.page.title",breadcrumbKey:"admin.notifications.event",showBreadcrumbsFluid:!1}}]}}]);