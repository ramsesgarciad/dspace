(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8792],{42589:(B,C,n)=>{"use strict";n.d(C,{Ax:()=>p,P5:()=>c,bL:()=>e,mK:()=>f,w4:()=>m,xl:()=>v});var i=n(15343),t=n(5127);const c="epeople";function e(){return new t.t((0,i.XG)(),c).toString()}function p(E){return new t.t(e(),E,"edit").toString()}const m="groups";function f(){return new t.t((0,i.XG)(),m).toString()}function v(E){return new t.t(f(),E,"edit").toString()}},49601:(B,C,n)=>{"use strict";n.d(C,{_c:()=>c,bA:()=>t,oQ:()=>e});var i=n(6800);const t={EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/EDIT_EPERSON"),CANCEL_EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_EPERSON")};class c{constructor(m){this.type=t.EDIT_EPERSON,this.eperson=m}}class e{constructor(){this.type=t.CANCEL_EDIT_EPERSON}}},68164:(B,C,n)=>{"use strict";n.d(C,{v:()=>ne});var i=n(60177),t=n(89417),c=n(7901),e=n(68018),p=n(84412),m=n(84572),f=n(7673),v=n(25558),E=n(96354),y=n(39901),M=n(96697),b=n(43446),P=n(58956),D=n(13817),I=n(2086),h=n(23681),S=n(31),O=n(4093),L=n(79104),T=n(32413),x=n(9847),N=n(2175),j=n(8417),$=n(42589),k=n(54438);const K=()=>["top","right","bottom"],z=fe=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:fe}),V=fe=>({name:fe}),G=fe=>["btn btn-sm",fe];function X(fe,ae){if(1&fe){const oe=k.RV6();k.j41(0,"button",20),k.nI1(1,"translate"),k.bIt("click",function(){k.eBV(oe);const ve=k.XpG().$implicit,_e=k.XpG(2);return k.Njj(_e.deleteMemberFromGroup(ve.eperson))}),k.nrm(2,"i",21),k.k0s()}if(2&fe){const oe=k.XpG().$implicit,J=k.XpG(2);k.FS9("title",k.i5U(1,4,J.messagePrefix+".table.edit.buttons.remove",k.eq3(7,V,J.dsoNameService.getName(oe.eperson)))),k.Y8G("dsBtnDisabled",J.actionConfig.remove.disabled)("ngClass",k.eq3(9,G,J.actionConfig.remove.css)),k.R7$(2),k.Y8G("ngClass",J.actionConfig.remove.icon)}}function Q(fe,ae){if(1&fe){const oe=k.RV6();k.j41(0,"button",20),k.nI1(1,"translate"),k.bIt("click",function(){k.eBV(oe);const ve=k.XpG().$implicit,_e=k.XpG(2);return k.Njj(_e.addMemberToGroup(ve.eperson))}),k.nrm(2,"i",21),k.k0s()}if(2&fe){const oe=k.XpG().$implicit,J=k.XpG(2);k.FS9("title",k.i5U(1,4,J.messagePrefix+".table.edit.buttons.add",k.eq3(7,V,J.dsoNameService.getName(oe.eperson)))),k.Y8G("dsBtnDisabled",J.actionConfig.add.disabled)("ngClass",k.eq3(9,G,J.actionConfig.add.css)),k.R7$(2),k.Y8G("ngClass",J.actionConfig.add.icon)}}function ee(fe,ae){if(1&fe&&(k.j41(0,"tr")(1,"td",16),k.EFF(2),k.k0s(),k.j41(3,"td",16)(4,"a",17),k.EFF(5),k.k0s()(),k.j41(6,"td",16),k.EFF(7),k.nI1(8,"translate"),k.nrm(9,"br"),k.EFF(10),k.nI1(11,"translate"),k.k0s(),k.j41(12,"td",16)(13,"div",18),k.DNE(14,X,3,11,"button",19)(15,Q,3,11,"button",19),k.k0s()()()),2&fe){const oe=ae.$implicit,J=k.XpG(2);k.R7$(2),k.JRh(oe.eperson.id),k.R7$(2),k.Y8G("routerLink",J.getEPersonEditRoute(oe.eperson.id)),k.R7$(),k.SpI(" ",J.dsoNameService.getName(oe.eperson)," "),k.R7$(2),k.Lme(" ",k.bMT(8,9,J.messagePrefix+".table.email"),": ",oe.eperson.email?oe.eperson.email:"-",""),k.R7$(3),k.Lme(" ",k.bMT(11,11,J.messagePrefix+".table.netid"),": ",oe.eperson.netid?oe.eperson.netid:"-"," "),k.R7$(4),k.vxM(oe.ableToDelete?14:-1),k.R7$(),k.vxM(oe.ableToDelete?-1:15)}}function ie(fe,ae){if(1&fe&&(k.j41(0,"ds-pagination",1),k.nI1(1,"async"),k.j41(2,"div",13)(3,"table",14)(4,"thead")(5,"tr")(6,"th",15),k.EFF(7),k.nI1(8,"translate"),k.k0s(),k.j41(9,"th",15),k.EFF(10),k.nI1(11,"translate"),k.k0s(),k.j41(12,"th",15),k.EFF(13),k.nI1(14,"translate"),k.k0s(),k.j41(15,"th",16),k.EFF(16),k.nI1(17,"translate"),k.k0s()()(),k.j41(18,"tbody"),k.Z7z(19,ee,16,13,"tr",null,k.fX1),k.nI1(21,"async"),k.k0s()()()()),2&fe){let oe,J;const ve=k.XpG();k.Y8G("paginationOptions",ve.config)("collectionSize",null==(oe=k.bMT(1,8,ve.ePeopleMembersOfGroup))?null:oe.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),k.R7$(7),k.JRh(k.bMT(8,10,ve.messagePrefix+".table.id")),k.R7$(3),k.JRh(k.bMT(11,12,ve.messagePrefix+".table.name")),k.R7$(3),k.JRh(k.bMT(14,14,ve.messagePrefix+".table.identity")),k.R7$(3),k.JRh(k.bMT(17,16,ve.messagePrefix+".table.edit")),k.R7$(3),k.Dyx(null==(J=k.bMT(21,18,ve.ePeopleMembersOfGroup))?null:J.page)}}function te(fe,ae){if(1&fe&&(k.j41(0,"div",2),k.EFF(1),k.nI1(2,"translate"),k.k0s()),2&fe){const oe=k.XpG();k.R7$(),k.SpI(" ",k.bMT(2,1,oe.messagePrefix+".no-members-yet")," ")}}function he(fe,ae){if(1&fe&&(k.j41(0,"span"),k.EFF(1),k.nI1(2,"translate"),k.k0s()),2&fe){const oe=k.XpG();k.R7$(),k.SpI(" ",k.bMT(2,1,oe.messagePrefix+".search.head")," ")}}function ye(fe,ae){if(1&fe){const oe=k.RV6();k.j41(0,"tr")(1,"td",16),k.EFF(2),k.k0s(),k.j41(3,"td",16)(4,"a",17),k.EFF(5),k.k0s()(),k.j41(6,"td",16),k.EFF(7),k.nI1(8,"translate"),k.nrm(9,"br"),k.EFF(10),k.nI1(11,"translate"),k.k0s(),k.j41(12,"td",16)(13,"div",18)(14,"button",20),k.nI1(15,"translate"),k.bIt("click",function(){const ve=k.eBV(oe).$implicit,_e=k.XpG(2);return k.Njj(_e.addMemberToGroup(ve))}),k.nrm(16,"i",21),k.k0s()()()()}if(2&fe){const oe=ae.$implicit,J=k.XpG(2);k.R7$(2),k.JRh(oe.id),k.R7$(2),k.Y8G("routerLink",J.getEPersonEditRoute(oe.id)),k.R7$(),k.SpI(" ",J.dsoNameService.getName(oe)," "),k.R7$(2),k.Lme(" ",k.bMT(8,11,J.messagePrefix+".table.email"),": ",oe.email?oe.email:"-",""),k.R7$(3),k.Lme(" ",k.bMT(11,13,J.messagePrefix+".table.netid"),": ",oe.netid?oe.netid:"-"," "),k.R7$(4),k.FS9("title",k.i5U(15,15,J.messagePrefix+".table.edit.buttons.add",k.eq3(18,V,J.dsoNameService.getName(oe)))),k.Y8G("dsBtnDisabled",J.actionConfig.add.disabled)("ngClass",k.eq3(20,G,J.actionConfig.add.css)),k.R7$(2),k.Y8G("ngClass",J.actionConfig.add.icon)}}function re(fe,ae){if(1&fe&&(k.j41(0,"ds-pagination",1),k.nI1(1,"async"),k.j41(2,"div",13)(3,"table",22)(4,"thead")(5,"tr")(6,"th",15),k.EFF(7),k.nI1(8,"translate"),k.k0s(),k.j41(9,"th",15),k.EFF(10),k.nI1(11,"translate"),k.k0s(),k.j41(12,"th",15),k.EFF(13),k.nI1(14,"translate"),k.k0s(),k.j41(15,"th",16),k.EFF(16),k.nI1(17,"translate"),k.k0s()()(),k.j41(18,"tbody"),k.Z7z(19,ye,17,22,"tr",null,k.fX1),k.nI1(21,"async"),k.k0s()()()()),2&fe){let oe,J;const ve=k.XpG();k.Y8G("paginationOptions",ve.configSearch)("collectionSize",null==(oe=k.bMT(1,8,ve.ePeopleSearch))?null:oe.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),k.R7$(7),k.JRh(k.bMT(8,10,ve.messagePrefix+".table.id")),k.R7$(3),k.JRh(k.bMT(11,12,ve.messagePrefix+".table.name")),k.R7$(3),k.JRh(k.bMT(14,14,ve.messagePrefix+".table.identity")),k.R7$(3),k.JRh(k.bMT(17,16,ve.messagePrefix+".table.edit")),k.R7$(3),k.Dyx(null==(J=k.bMT(21,18,ve.ePeopleSearch))?null:J.page)}}function ce(fe,ae){if(1&fe&&(k.j41(0,"div",2),k.EFF(1),k.nI1(2,"translate"),k.k0s()),2&fe){const oe=k.XpG();k.R7$(),k.SpI(" ",k.bMT(2,1,oe.messagePrefix+".no-items")," ")}}var Z=function(fe){return fe[fe.ActiveGroup=0]="ActiveGroup",fe[fe.Members=1]="Members",fe[fe.SearchResults=2]="SearchResults",fe}(Z||{});let ne=(()=>{class fe{constructor(oe,J,ve,_e,Ce,qe,Re,nt){this.groupDataService=oe,this.ePersonDataService=J,this.translateService=ve,this.notificationsService=_e,this.formBuilder=Ce,this.paginationService=qe,this.router=Re,this.dsoNameService=nt,this.actionConfig={add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus fa-fw"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-trash-alt fa-fw"}},this.ePeopleSearch=new p.t(void 0),this.ePeopleMembersOfGroup=new p.t(void 0),this.configSearch=Object.assign(new j.W,{id:"sml",pageSize:5,currentPage:1}),this.config=Object.assign(new j.W,{id:"ml",pageSize:5,currentPage:1}),this.subs=new Map,this.getEPersonEditRoute=$.Ax,this.currentSearchQuery=""}ngOnInit(){this.searchForm=this.formBuilder.group({query:""}),this.subs.set(Z.ActiveGroup,this.groupDataService.getActiveGroup().subscribe(oe=>{null!=oe&&(this.groupBeingEdited=oe,this.retrieveMembers(this.config.currentPage),this.search({query:""}))}))}retrieveMembers(oe){this.unsubFrom(Z.Members),this.subs.set(Z.Members,this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,v.n)(J=>this.ePersonDataService.findListByHref(this.groupBeingEdited._links.epersons.href,{currentPage:J.currentPage,elementsPerPage:J.pageSize})),(0,O.bD)(),(0,E.T)(J=>{if(!J.hasFailed)return J;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:J.errorMessage}))}),(0,v.n)(J=>(0,m.z)([...J.payload.page.map(_e=>(0,m.z)(this.isMemberOfGroup(_e),qe=>{const Re=new h.h;return Re.eperson=_e,Re.ableToDelete=qe,Re}))]).pipe((0,y.U)([]),(0,E.T)(_e=>(0,P.g)(J.payload.pageInfo,_e))))).subscribe(J=>{this.ePeopleMembersOfGroup.next(J)}))}isMemberOfGroup(oe){return(0,f.of)(!0)}unsubFrom(oe){this.subs.has(oe)&&(this.subs.get(oe).unsubscribe(),this.subs.delete(oe))}deleteMemberFromGroup(oe){this.groupDataService.getActiveGroup().pipe((0,M.s)(1)).subscribe(J=>{if(null!=J){const ve=this.groupDataService.deleteMemberFromGroup(J,oe);this.showNotifications("deleteMember",ve,this.dsoNameService.getName(oe),J),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}addMemberToGroup(oe){this.groupDataService.getActiveGroup().pipe((0,M.s)(1)).subscribe(J=>{if(null!=J){const ve=this.groupDataService.addMemberToGroup(J,oe);this.showNotifications("addMember",ve,this.dsoNameService.getName(oe),J),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}search(oe){this.unsubFrom(Z.SearchResults),this.subs.set(Z.SearchResults,this.paginationService.getCurrentPagination(this.configSearch.id,this.configSearch).pipe((0,v.n)(J=>{const ve=oe.query;return null!=ve&&this.currentSearchQuery!==ve&&this.groupBeingEdited&&(this.currentSearchQuery=ve,this.paginationService.resetPage(this.configSearch.id)),this.searchDone=!0,this.ePersonDataService.searchNonMembers(this.currentSearchQuery,this.groupBeingEdited.id,{currentPage:J.currentPage,elementsPerPage:J.pageSize},!1,!0)}),(0,O.bD)(),(0,E.T)(J=>{if(!J.hasFailed)return J;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:J.errorMessage}))}),(0,O.Bo)()).subscribe(J=>{this.ePeopleSearch.next(J)}))}ngOnDestroy(){for(const oe of this.subs.keys())this.unsubFrom(oe);this.paginationService.clearPagination(this.config.id),this.paginationService.clearPagination(this.configSearch.id)}showNotifications(oe,J,ve,_e){J.pipe((0,O.qD)()).subscribe(Ce=>{Ce.hasSucceeded?this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.success."+oe,{name:ve})):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure."+oe,{name:ve}))})}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}static{this.\u0275fac=function(J){return new(J||fe)(k.rXU(I.GroupDataService),k.rXU(D.EPersonDataService),k.rXU(e.c$),k.rXU(x.I),k.rXU(t.ze),k.rXU(S.m),k.rXU(c.Ix),k.rXU(b.f))}}static{this.\u0275cmp=k.VBU({type:fe,selectors:[["ds-members-list"]],inputs:{messagePrefix:"messagePrefix",actionConfig:"actionConfig"},standalone:!0,features:[k.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","me-3"],[1,"mb-3","input-group","me-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"dsBtnDisabled","ngClass","title"],[3,"click","dsBtnDisabled","ngClass","title"],[3,"ngClass"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(J,ve){if(1&J&&(k.qex(0),k.j41(1,"h2",0),k.EFF(2),k.nI1(3,"translate"),k.k0s(),k.j41(4,"h3"),k.EFF(5),k.nI1(6,"translate"),k.k0s(),k.DNE(7,ie,22,20,"ds-pagination",1),k.nI1(8,"async"),k.DNE(9,te,3,3,"div",2),k.nI1(10,"async"),k.nI1(11,"async"),k.j41(12,"h3",3),k.DNE(13,he,3,3,"span",4),k.k0s(),k.j41(14,"form",5),k.bIt("ngSubmit",function(){return ve.search(ve.searchForm.value)}),k.j41(15,"div",6)(16,"div",7),k.nrm(17,"input",8),k.j41(18,"span",9)(19,"button",10),k.nrm(20,"i",11),k.EFF(21),k.nI1(22,"translate"),k.k0s()()()(),k.j41(23,"div")(24,"button",12),k.bIt("click",function(){return ve.clearFormAndResetResult()}),k.EFF(25),k.nI1(26,"translate"),k.k0s()()(),k.DNE(27,re,22,20,"ds-pagination",1),k.nI1(28,"async"),k.DNE(29,ce,3,3,"div",2),k.nI1(30,"async"),k.bVm()),2&J){let _e,Ce,qe,Re;k.R7$(2),k.JRh(k.bMT(3,10,ve.messagePrefix+".head")),k.R7$(3),k.JRh(k.bMT(6,12,ve.messagePrefix+".headMembers")),k.R7$(2),k.vxM((null==(_e=k.bMT(8,14,ve.ePeopleMembersOfGroup))?null:_e.totalElements)>0?7:-1),k.R7$(2),k.vxM(void 0===k.bMT(10,16,ve.ePeopleMembersOfGroup)||0===(null==(Ce=k.bMT(11,18,ve.ePeopleMembersOfGroup))?null:Ce.totalElements)?9:-1),k.R7$(4),k.Y8G("dsContextHelp",k.eq3(29,z,k.lJ4(28,K))),k.R7$(),k.Y8G("formGroup",ve.searchForm),k.R7$(7),k.SpI(" ",k.bMT(22,20,ve.messagePrefix+".search.button"),""),k.R7$(4),k.JRh(k.bMT(26,22,ve.messagePrefix+".button.see-all")),k.R7$(2),k.vxM((null==(qe=k.bMT(28,24,ve.ePeopleSearch))?null:qe.totalElements)>0?27:-1),k.R7$(2),k.vxM(0===(null==(Re=k.bMT(30,26,ve.ePeopleSearch))?null:Re.totalElements)&&ve.searchDone?29:-1)}},dependencies:[i.Jj,L.A,T.G,i.YU,N.e,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,c.Wk,e.h,e.D9],encapsulation:2})}}return fe})()},42319:(B,C,n)=>{"use strict";n.d(C,{C:()=>c,O3:()=>t,Sb:()=>e});var i=n(6800);const t={EDIT_GROUP:(0,i.N)("dspace/epeople-registry/EDIT_GROUP"),CANCEL_EDIT_GROUP:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_GROUP")};class c{constructor(m){this.type=t.EDIT_GROUP,this.group=m}}class e{constructor(){this.type=t.CANCEL_EDIT_GROUP}}},75398:(B,C,n)=>{"use strict";n.d(C,{SH:()=>O,jJ:()=>x});var i=n(84418),t=n.n(i),c=n(25558),e=n(7673),p=n(84572),m=n(96354),f=n(96697),v=n(79096),E=n(78544),y=n(94196),M=n(13817),b=n(4093),P=n(89777),D=n(34180),I=n(54438),h=n(67138),S=n(89564);const O="dsAccessibilityCookie",L="dspace.accessibility.settings",T=["notificationTimeOut","liveRegionTimeOut"];let x=(()=>{class K{constructor(V,G,X,Q,ee){this.cookieService=V,this.authService=G,this.ePersonService=X,this.orejimeService=Q,this.appConfig=ee}get(V,G=null){return this.getAll().pipe((0,m.T)(X=>X[V]),(0,m.T)(X=>(0,P.hj)(X)?X:G))}getAsNumber(V,G=null){return this.get(V).pipe((0,m.T)(X=>(0,P.a4)(X)?parseInt(X,10):NaN),(0,m.T)(X=>isNaN(X)?G:X))}getAll(){return this.getAllSettingsFromAuthenticatedUserMetadata().pipe((0,m.T)(V=>(0,P.hj)(V)?V:this.getAllSettingsFromCookie()),(0,m.T)(V=>(0,P.hj)(V)?V:{}))}getAllSettingsFromCookie(){return this.cookieService.get(O)}getAllSettingsFromAuthenticatedUserMetadata(){return this.authService.getAuthenticatedUserFromStoreIfAuthenticated().pipe((0,f.s)(1),(0,m.T)(V=>(0,P.a4)(V)&&(0,P.a4)(V.firstMetadataValue(L))?JSON.parse(V.firstMetadataValue(L)):{}))}set(V,G){return this.updateSettings({[V]:G})}setSettings(V){return this.setSettingsInAuthenticatedUserMetadata(V).pipe((0,f.s)(1),(0,m.T)(G=>"metadata"===G),(0,c.n)(G=>G?$():this.setSettingsInCookie(V)))}updateSettings(V){return this.getAll().pipe((0,f.s)(1),(0,m.T)(G=>Object.assign({},G,V)),(0,c.n)(G=>this.setSettings(G)))}setSettingsInAuthenticatedUserMetadata(V){return this.authService.getAuthenticatedUserFromStoreIfAuthenticated().pipe((0,f.s)(1),(0,c.n)(G=>{if((0,P.a4)(G)){const X=t()(G);return this.setSettingsInMetadata(X,V)}return k()}))}setSettingsInMetadata(V,G){return(0,P.hj)(G)?V.setMetadata(L,null,JSON.stringify(G)):V.removeMetadata(L),this.ePersonService.createPatchFromCache(V).pipe((0,f.s)(1),(0,c.n)(X=>(0,P.hj)(X)?this.ePersonService.patch(V,X):(0,D.CX)({})),(0,b.qD)(),(0,c.n)(X=>X.hasSucceeded?$():k()))}setSettingsInCookie(V){return(0,P.Tn)(this.orejimeService)?(0,e.of)("failed"):this.orejimeService.getSavedPreferences().pipe((0,m.T)(G=>G.accessibility),(0,m.T)(G=>G?((0,P.hj)(V)?this.cookieService.set(O,V,{expires:this.appConfig.accessibility.cookieExpirationDuration}):this.cookieService.remove(O),"cookie"):"failed"))}clearSettings(){return(0,p.z)([this.setSettingsInCookie({}),this.setSettingsInAuthenticatedUserMetadata({})])}getDefaultValue(V){switch(V){case"notificationTimeOut":return j(E.c.notifications.timeOut.toString());case"liveRegionTimeOut":return j(E.c.liveRegion.messageTimeOutDurationMs.toString());default:return""}}convertFormValuesToStoredValues(V){const G={notificationTimeOut:V.notificationTimeOutEnabled?N(V.notificationTimeOut):"0",liveRegionTimeOut:N(V.liveRegionTimeOut)};return V.notificationTimeOutEnabled&&"0"===V.notificationTimeOut&&delete G.notificationTimeOut,G}convertStoredValuesToFormValues(V){return{notificationTimeOutEnabled:0!==parseFloat(V.notificationTimeOut),notificationTimeOut:j(V.notificationTimeOut),liveRegionTimeOut:j(V.liveRegionTimeOut)}}isValid(V,G){switch(V){case"notificationTimeOut":return!G.notificationTimeOutEnabled||(0,P.Tn)(G.notificationTimeOut)||parseFloat(G.notificationTimeOut)>0;case"liveRegionTimeOut":return(0,P.Tn)(G.liveRegionTimeOut)||parseFloat(G.liveRegionTimeOut)>0;default:throw new Error(`Unhandled accessibility setting during validity check: ${V}`)}}formValuesValid(V){return T.every(G=>this.isValid(G,V))}static{this.\u0275fac=function(G){return new(G||K)(I.KVO(h.O),I.KVO(y.uR),I.KVO(M.EPersonDataService),I.KVO(S.B,8),I.KVO(v.vQ))}}static{this.\u0275prov=I.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();function N(K){const z=parseFloat(K);return isNaN(z)?null:(1e3*z).toString()}function j(K){const z=parseFloat(K);return isNaN(z)?null:(z/1e3).toString()}function $(){return(0,e.of)("metadata")}function k(){return(0,e.of)("failed")}},43374:(B,C,n)=>{"use strict";n.r(C),n.d(C,{LdnServicesService:()=>L});var i=n(96697),t=n(96354),c=n(57775),e=n(10186),p=n(81948),m=n(18328),f=n(72073),v=n(88667),E=n(20881),y=n(4318),M=n(60796),b=n(36343),P=n(49755),D=n(3601),I=n(7094),h=n(5127),S=n(9847),O=n(54438);let L=(()=>{class T extends E.W{constructor(N,j,$,k,K){super("ldnservices",N,j,$,k),this.requestService=N,this.rdbService=j,this.objectCache=$,this.halService=k,this.notificationsService=K,this.findByPatternEndpoint="byInboundPattern",this.findAllData=new v.H(this.linkPath,N,j,$,k,this.responseMsToLive),this.searchData=new M.X(this.linkPath,N,j,$,k,this.responseMsToLive),this.deleteData=new f.I(this.linkPath,N,j,$,k,K,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new y.n(this.linkPath,N,j,$,k,this.comparator,this.responseMsToLive,this.constructIdEndpoint),this.createData=new m.V(this.linkPath,N,j,$,k,K,this.responseMsToLive)}create(N,...j){return this.createData.create(N,...j)}patch(N,j){return this.patchData.patch(N,j)}update(N){return this.patchData.update(N)}commitUpdates(N){return this.patchData.commitUpdates(N)}createPatchFromCache(N){return this.patchData.createPatchFromCache(N)}findAll(N,j,$,...k){return this.findAllData.findAll(N,j,$,...k)}findByInboundPattern(N,j,$,k,...K){const z=[new e.x("pattern",N)],V=Object.assign(new b._,j,{searchParams:z});return this.searchBy(this.findByPatternEndpoint,V,$,k,...K)}delete(N,j){return this.deleteData.delete(N,j)}deleteByHref(N,j){return this.deleteData.deleteByHref(N,j)}searchBy(N,j,$,k,...K){return this.searchData.searchBy(N,j,$,k,...K)}invoke(N,j,$,k){const K=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,t.T)(z=>new h.t(z,N,"processes",j).toString()),(0,t.T)(z=>{const V=this.getInvocationFormData($,k);return new P.E0(K,z,V)})).subscribe(z=>this.requestService.send(z)),this.rdbService.buildFromRequestUUID(K)}getInvocationFormData(N,j){const $=new FormData;return $.set("properties",JSON.stringify(N)),j.forEach(k=>{$.append("file",k)}),$}static{this.\u0275fac=function(j){return new(j||T)(O.KVO(D.B),O.KVO(c.o),O.KVO(p.$),O.KVO(I.Y),O.KVO(S.I))}}static{this.\u0275prov=O.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},89465:(B,C,n)=>{"use strict";n.d(C,{tc:()=>c,uC:()=>e,zd:()=>t});var i=n(44043);const t=new i.v("ldnservice"),c=new i.v("itemfilters"),e=new i.v("itemfilter")},80883:(B,C,n)=>{"use strict";n.d(C,{VZ:()=>t,rn:()=>i,wU:()=>c});const i="quality-assurance",t="publication-claim";function c(){return`/${i}`}},74831:(B,C,n)=>{"use strict";n.d(C,{o:()=>t});var i=n(49891);class t extends i.q{}},12560:(B,C,n)=>{"use strict";n.d(C,{a:()=>v});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(73685),m=n(94152),f=n(78022);let v=class extends p.M{constructor(){super(...arguments),this.type=f.g}static{this.type=f.g}get self(){return this._links.self.href}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([m.aK,(0,i.Sn)("design:type",Object)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"notificationId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"notificationType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"coarNotifyType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"activityStreamType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"inReplyTo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"object",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"relatedItem",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"ldnService",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"context",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"message",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"queueAttempts",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"queueLastStartTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],v.prototype,"origin",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],v.prototype,"target",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"queueStatusLabel",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"queueTimeout",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"queueStatus",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"thumbnail",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",c.c)],v.prototype,"item",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",c.c)],v.prototype,"accessStatus",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(p.M)],v)},78022:(B,C,n)=>{"use strict";n.d(C,{g:()=>t});const t=new(n(44043).v)("message")},12673:(B,C,n)=>{"use strict";n.r(C),n.d(C,{AdminNotifyMessagesService:()=>L});var i=n(22806),t=n(7673),c=n(31943),e=n(73028),p=n(96354),m=n(88141),f=n(25558),v=n(57775),E=n(81948),y=n(20881),M=n(61206),b=n(49755),P=n(3601),D=n(7094),I=n(4093),h=n(9847),S=n(43374),O=n(54438);let L=(()=>{class T extends y.W{constructor(N,j,$,k,K,z,V){super("messages",N,j,$,k),this.requestService=N,this.rdbService=j,this.objectCache=$,this.halService=k,this.notificationsService=K,this.ldnServicesService=z,this.itemDataService=V,this.reprocessEndpoint="enqueueretry"}getDetailedMessages(N){return(0,i.H)(N).pipe((0,e.Z)(j=>j.target||j.origin?this.ldnServicesService.findById((j.target||j.origin).toString()).pipe((0,I.Hz)(),(0,p.T)($=>({...j,ldnService:$.name}))):(0,t.of)(j)),(0,e.Z)(j=>j.object||j.context?this.itemDataService.findById(j.object||j.context).pipe((0,I.Hz)(),(0,p.T)($=>({...j,relatedItem:$.name}))):(0,t.of)(j)),(0,c.S)((j,$)=>[...j,$],[]))}reprocessMessage(N,j){const $=this.requestService.generateRequestId();return this.halService.getEndpoint(this.reprocessEndpoint).pipe((0,p.T)(k=>k.replace("{id}",N.id)),(0,p.T)(k=>new b.Qf($,k)),(0,m.M)(k=>this.requestService.send(k)),(0,f.n)(k=>this.rdbService.buildFromRequestUUID(k.uuid)),(0,I.qD)(),(0,I.Hz)(),(0,e.Z)(k=>this.getDetailedMessages([k]))).pipe((0,e.Z)(k=>j.pipe((0,p.T)(K=>{const z=k[0],V=K.find(X=>X.id===N.id),G=K.indexOf(V);return z.target=N.target,z.object=N.object,z.origin=N.origin,z.context=N.context,K[G]=z,K}))))}static{this.\u0275fac=function(j){return new(j||T)(O.KVO(P.B),O.KVO(v.o),O.KVO(E.$),O.KVO(D.Y),O.KVO(h.I),O.KVO(S.LdnServicesService),O.KVO(M.ItemDataService))}}static{this.\u0275prov=O.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},45879:(B,C,n)=>{"use strict";n.d(C,{Cv:()=>e,Sh:()=>t,ZU:()=>p,hO:()=>c});var i=n(6800);const t={SELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/SELECT_FORMAT"),DESELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_FORMAT"),DESELECT_ALL_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_ALL_FORMAT")};class c{constructor(f){this.type=t.SELECT_FORMAT,this.bitstreamFormat=f}}class e{constructor(f){this.type=t.DESELECT_FORMAT,this.bitstreamFormat=f}}class p{constructor(){this.type=t.DESELECT_ALL_FORMAT}}},75676:(B,C,n)=>{"use strict";n.d(C,{Gr:()=>f,Kt:()=>t,Q6:()=>p,TE:()=>b,Tf:()=>E,Wi:()=>e,dF:()=>v,jC:()=>y,w2:()=>c,yb:()=>M,zn:()=>m});var i=n(6800);const t={EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/EDIT_SCHEMA"),CANCEL_EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/CANCEL_SCHEMA"),SELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/SELECT_SCHEMA"),DESELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_SCHEMA"),DESELECT_ALL_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_SCHEMA"),EDIT_FIELD:(0,i.N)("dspace/metadata-registry/EDIT_FIELD"),CANCEL_EDIT_FIELD:(0,i.N)("dspace/metadata-registry/CANCEL_FIELD"),SELECT_FIELD:(0,i.N)("dspace/metadata-registry/SELECT_FIELD"),DESELECT_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_FIELD"),DESELECT_ALL_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_FIELD")};class c{constructor(D){this.type=t.EDIT_SCHEMA,this.schema=D}}class e{constructor(){this.type=t.CANCEL_EDIT_SCHEMA}}class p{constructor(D){this.type=t.SELECT_SCHEMA,this.schema=D}}class m{constructor(D){this.type=t.DESELECT_SCHEMA,this.schema=D}}class f{constructor(){this.type=t.DESELECT_ALL_SCHEMA}}class v{constructor(D){this.type=t.EDIT_FIELD,this.field=D}}class E{constructor(){this.type=t.CANCEL_EDIT_FIELD}}class y{constructor(D){this.type=t.SELECT_FIELD,this.field=D}}class M{constructor(D){this.type=t.DESELECT_FIELD,this.field=D}}class b{constructor(){this.type=t.DESELECT_ALL_FIELD}}},83:(B,C,n)=>{"use strict";n.d(C,{P$:()=>E,b7:()=>b,iF:()=>v,jE:()=>e,p8:()=>f,uD:()=>p,z$:()=>m});var i=n(15343),t=n(5127),c=n(80883);const e="registries",p="notifications",m="ldn",f="reports",v="notify-dashboard";function E(){return new t.t((0,i.D6)(),e).toString()}function b(){return new t.t(`/${p}`,(0,c.wU)()).toString()}},581:(B,C,n)=>{"use strict";n.d(C,{g:()=>M});var i=n(60177),t=n(7901),c=n(68018),e=n(89777),p=n(96132),m=n(66372),f=n(77983),v=n(33745),E=n(54438);const y=b=>({disabled:b});let M=(()=>{class b extends f.U{constructor(D,I,h,S){super(I,h),this.section=D,this.menuService=I,this.injector=h,this.router=S,this.menuID=m.D.ADMIN,this.itemModel=D.model}ngOnInit(){this.isDisabled=this.itemModel?.disabled||(0,e.Im)(this.itemModel?.link),super.ngOnInit()}navigate(D){D.preventDefault(),this.isDisabled||this.router.navigate(this.itemModel.link)}adminMenuSectionId(D){return`admin-menu-section-${D.accessibilityHandle??D.id}`}adminMenuSectionTitleAccessibilityHandle(D){return`admin-menu-section-${D.accessibilityHandle??D.id}-title`}static{this.\u0275fac=function(I){return new(I||b)(E.rXU("sectionDataProvider"),E.rXU(p.$),E.rXU(E.zZn),E.rXU(t.Ix))}}static{this.\u0275cmp=E.VBU({type:b,selectors:[["ds-admin-sidebar-section"]],standalone:!0,features:[E.Vt3,E.aNF],decls:10,vars:16,consts:[["role","menuitem","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"keyup.space","keyup.enter","ngClass","routerLink"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[3,"id"]],template:function(I,h){1&I&&(E.j41(0,"div")(1,"a",0),E.bIt("keyup.space",function(O){return h.navigate(O)})("keyup.enter",function(O){return h.navigate(O)}),E.j41(2,"div",1),E.nrm(3,"i"),E.k0s(),E.j41(4,"div",2)(5,"div",3)(6,"span",4),E.nI1(7,"dsBrowserOnly"),E.EFF(8),E.nI1(9,"translate"),E.k0s()()()()()),2&I&&(E.R7$(),E.Y8G("ngClass",E.eq3(14,y,h.isDisabled))("routerLink",h.itemModel.link),E.BMQ("aria-disabled",h.isDisabled)("aria-labelledby",h.adminMenuSectionTitleAccessibilityHandle(h.section)),E.R7$(2),E.ZvI("fas fa-",h.section.icon," fa-fw"),E.R7$(3),E.Y8G("id",h.adminMenuSectionTitleAccessibilityHandle(h.section)),E.BMQ("data-test",E.bMT(7,10,h.adminMenuSectionTitleAccessibilityHandle(h.section))),E.R7$(2),E.SpI(" ",E.bMT(9,12,h.itemModel.text)," "))},dependencies:[v.L,i.YU,t.Wk,c.h,c.D9]})}}return b})()},60432:(B,C,n)=>{"use strict";n.r(C),n.d(C,{AdminSidebarComponent:()=>X});var i=n(60177),t=n(58003),c=n(68018),e=n(84412),p=n(84572),m=n(61594),f=n(96354),v=n(70152),E=n(23294),y=n(53993),M=n(94196),b=n(11873),P=n(13957),D=n(15181),I=n(96132),h=n(66372),S=n(87837),O=n(73838),L=n(33745),T=n(54438),x=n(7901);const N=(Q,ee,ie)=>({expanded:Q,collapsed:ee,transitioning:ie}),j=(Q,ee)=>({collapsedWidth:Q,expandedWidth:ee}),$=(Q,ee)=>({value:Q,params:ee});function k(Q,ee){1&Q&&T.eu8(0)}function K(Q,ee){if(1&Q&&(T.DNE(0,k,1,0,"ng-container",15),T.nI1(1,"async"),T.nI1(2,"async")),2&Q){const ie=ee.$implicit,te=T.XpG(2);T.Y8G("ngComponentOutlet",T.bMT(1,2,te.sectionMap$).get(ie.id).component)("ngComponentOutletInjector",T.bMT(2,4,te.sectionMap$).get(ie.id).injector)}}function z(Q,ee){1&Q&&(T.nrm(0,"i",13),T.nI1(1,"translate")),2&Q&&T.Y8G("title",T.bMT(1,1,"menu.section.icon.pin"))}function V(Q,ee){1&Q&&(T.nrm(0,"i",14),T.nI1(1,"translate")),2&Q&&T.Y8G("title",T.bMT(1,1,"menu.section.icon.unpin"))}function G(Q,ee){if(1&Q){const ie=T.RV6();T.j41(0,"nav",1),T.nI1(1,"async"),T.nI1(2,"async"),T.nI1(3,"async"),T.nI1(4,"translate"),T.bIt("@slideSidebar.done",function(he){T.eBV(ie);const ye=T.XpG();return T.Njj(ye.finishSlide(he))})("@slideSidebar.start",function(he){T.eBV(ie);const ye=T.XpG();return T.Njj(ye.startSlide(he))})("mouseenter",function(he){T.eBV(ie);const ye=T.XpG();return T.Njj(ye.handleMouseEnter(he))})("mouseleave",function(he){T.eBV(ie);const ye=T.XpG();return T.Njj(ye.handleMouseLeave(he))}),T.j41(5,"div",2)(6,"div",3)(7,"div",4),T.nrm(8,"img",5),T.nI1(9,"translate"),T.k0s(),T.j41(10,"div",6)(11,"div",7)(12,"h4",8),T.EFF(13),T.nI1(14,"translate"),T.k0s()()()()(),T.j41(15,"div",9)(16,"div",10),T.nI1(17,"translate"),T.Z7z(18,K,3,6,"ng-container",null,T.fX1),T.nI1(20,"async"),T.k0s()(),T.j41(21,"div",11)(22,"a",12),T.nI1(23,"dsBrowserOnly"),T.bIt("click",function(he){T.eBV(ie);const ye=T.XpG();return T.Njj(ye.toggle(he))})("keyup.space",function(he){T.eBV(ie);const ye=T.XpG();return T.Njj(ye.toggle(he))}),T.j41(24,"div",4),T.DNE(25,z,2,3,"i",13),T.nI1(26,"async"),T.DNE(27,V,2,3,"i",14),T.nI1(28,"async"),T.k0s(),T.j41(29,"div",6)(30,"div",7),T.EFF(31),T.nI1(32,"async"),T.nI1(33,"translate"),T.k0s()()()()()}if(2&Q){const ie=T.XpG();T.Y8G("ngClass",T.sMw(36,N,ie.sidebarOpen,ie.sidebarClosed,ie.sidebarTransitioning))("@slideSidebar",T.l_i(43,$,!0!==T.bMT(1,10,ie.sidebarExpanded)?"collapsed":"expanded",T.l_i(40,j,T.bMT(2,12,ie.collapsedSidebarWidth$),T.bMT(3,14,ie.expandedSidebarWidth$)))),T.BMQ("aria-label",T.bMT(4,16,"menu.header.nav.description")),T.R7$(8),T.Y8G("alt",T.bMT(9,18,"menu.header.image.logo")),T.R7$(5),T.JRh(T.bMT(14,20,"menu.header.admin")),T.R7$(3),T.BMQ("aria-label",T.bMT(17,22,"menu.header.admin.description")),T.R7$(2),T.Dyx(T.bMT(20,24,ie.sections)),T.R7$(4),T.BMQ("data-test",T.bMT(23,26,"sidebar-collapse-toggle")),T.R7$(3),T.vxM(T.bMT(26,28,ie.menuCollapsed)?25:-1),T.R7$(2),T.vxM(!0!==T.bMT(28,30,ie.menuCollapsed)?27:-1),T.R7$(4),T.SpI(" ",T.bMT(33,34,T.bMT(32,32,ie.menuCollapsed)?"menu.section.pin":"menu.section.unpin")," ")}}let X=(()=>{class Q extends D.Z{constructor(ie,te,he,ye,re,ce,Z){super(ie,te,re,ce,Z),this.menuService=ie,this.injector=te,this.variableService=he,this.authService=ye,this.authorizationService=re,this.route=ce,this.themeService=Z,this.menuID=h.D.ADMIN,this.sidebarOpen=!0,this.sidebarClosed=!this.sidebarOpen,this.sidebarTransitioning=!this.sidebarOpen,this.inFocus$=new e.t(!1)}ngOnInit(){super.ngOnInit(),this.authService.isAuthenticated().subscribe(ie=>{ie&&this.menuService.showMenu(this.menuID)}),this.menuCollapsed.pipe((0,m.$)()).subscribe(ie=>{this.sidebarOpen=!ie,this.sidebarClosed=ie}),this.sidebarExpanded=(0,p.z)([this.menuCollapsed,this.menuPreviewCollapsed]).pipe((0,f.T)(([ie,te])=>!ie||!te)),this.inFocus$.pipe((0,v.B)(50),(0,E.F)(),(0,y.E)((0,p.z)([this.menuCollapsed,this.menuPreviewCollapsed]))).subscribe(([ie,[te,he]])=>{te&&(ie&&he?this.expandPreview(new Event("focusin \u2192 expand")):!ie&&!he&&this.collapsePreview(new Event("focusout \u2192 collapse")))}),this.menuVisible=this.menuService.isMenuVisibleWithVisibleSections(this.menuID)}handleFocusIn(){this.inFocus$.next(!0)}handleFocusOut(){this.inFocus$.next(!1)}handleMouseEnter(ie){this.inFocus$.getValue()?ie.preventDefault():this.expandPreview(ie)}handleMouseLeave(ie){this.inFocus$.getValue()?ie.preventDefault():this.collapsePreview(ie)}startSlide(ie){this.sidebarTransitioning=!0,"expanded"===ie.toState?this.sidebarClosed=!1:"collapsed"===ie.toState&&(this.sidebarOpen=!1)}finishSlide(ie){this.sidebarTransitioning=!1,"expanded"===ie.fromState?this.sidebarClosed=!0:"collapsed"===ie.fromState&&(this.sidebarOpen=!0)}static{this.\u0275fac=function(te){return new(te||Q)(T.rXU(I.$),T.rXU(T.zZn),T.rXU(S.J),T.rXU(M.uR),T.rXU(b.AuthorizationDataService),T.rXU(x.nX),T.rXU(O.Fs))}}static{this.\u0275cmp=T.VBU({type:Q,selectors:[["ds-base-admin-sidebar"]],hostBindings:function(te,he){1&te&&T.bIt("focusin",function(){return he.handleFocusIn()})("focusout",function(){return he.handleFocusOut()})},inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[T.Vt3,T.aNF],decls:2,vars:3,consts:[["id","admin-sidebar",1,"navbar","navbar-dark","p-0","vh-100",3,"ngClass"],["id","admin-sidebar",1,"navbar","navbar-dark","p-0","vh-100",3,"mouseenter","mouseleave","ngClass"],["id","sidebar-header-container","aria-hidden","true",1,"sidebar-full-width-container"],[1,"sidebar-section-wrapper"],[1,"sidebar-fixed-element-wrapper"],["id","admin-sidebar-logo","src","assets/images/dspace-logo-mini.svg","aria-hidden","true",3,"alt"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[1,"my-1"],["id","sidebar-top-level-items-container",1,"sidebar-full-width-container"],["id","sidebar-top-level-items","role","menubar",1,"sidebar-full-width-container"],["id","sidebar-collapse-toggle-container",1,"sidebar-full-width-container"],["id","sidebar-collapse-toggle","href","javascript:void(0);",1,"sidebar-section-wrapper","sidebar-full-width-container",3,"click","keyup.space"],[1,"fas","fa-fw","fa-angle-double-right",3,"title"],[1,"fas","fa-fw","fa-angle-double-left",3,"title"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(te,he){1&te&&(T.DNE(0,G,34,46,"nav",0),T.nI1(1,"async")),2&te&&T.vxM(T.bMT(1,1,he.menuVisible)?0:-1)},dependencies:[i.Jj,L.L,t.zH,t.QE,i.YU,i.OI,c.D9],styles:["[_nghost-%COMP%]{position:fixed;left:0;top:0;z-index:var(--ds-sidebar-z-index)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{max-width:var(--ds-admin-sidebar-fixed-element-width);display:flex;flex-direction:column;flex-wrap:nowrap}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]{flex:1 1 auto;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:var(--ds-dark-scrollbar-width);height:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-button{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{height:50px;background-color:var(--ds-dark-scrollbar-fg);border-radius:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-resizer{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   img#admin-sidebar-logo[_ngcontent-%COMP%]{height:var(--ds-admin-sidebar-logo-height)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-full-width-container{width:100%;padding-left:0;padding-right:0;margin-left:0;margin-right:0}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-item{padding-top:var(--ds-admin-sidebar-item-padding);padding-bottom:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-fixed-element-wrapper{min-width:var(--ds-admin-sidebar-fixed-element-width);flex:1 1 auto;display:flex;flex-direction:row;justify-content:center;align-items:center}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper{display:flex;flex-wrap:wrap;justify-content:flex-end;max-width:calc(100% - var(--ds-admin-sidebar-fixed-element-width));padding-left:var(--ds-dark-scrollbar-width);overflow-x:hidden}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper>.sidebar-collapsible-element-inner-wrapper{min-width:calc(var(--ds-admin-sidebar-collapsible-element-width) - var(--ds-dark-scrollbar-width));height:100%;padding-right:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]    {color:#fff}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a{color:var(--ds-admin-sidebar-link-color);text-decoration:none}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:hover, [_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:focus{color:var(--ds-admin-sidebar-link-hover-color)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]   .sidebar-fixed-element-wrapper[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}  .browser-firefox-windows{--ds-dark-scrollbar-width: 20px}"],data:{animation:[P.ck]}})}}return Q})()},18705:(B,C,n)=>{"use strict";n.d(C,{W:()=>z});var i=n(60177),t=n(68018),c=n(84572),e=n(96354),p=n(49969);const m=(0,p.iF)({backgroundColor:"{{ startColor }}"}),f=(0,p.iF)({backgroundColor:"{{ endColor }}"}),v=(0,p.hZ)("bgColor",[(0,p.wk)("startBackground",m,{params:{startColor:"*"}}),(0,p.wk)("endBackground",f,{params:{endColor:"*"}}),(0,p.kY)("startBackground <=> endBackground",(0,p.Os)([(0,p.P)("@*",(0,p.MA)()),(0,p.i0)("200ms")]))]);var E=n(59713),y=n(13957),M=n(89777),b=n(96132),P=n(66372),D=n(87837),I=n(33745),h=n(581),S=n(54438),O=n(7901);const L=V=>({expanded:V}),T=V=>({endColor:V}),x=(V,G)=>({value:V,params:G});function N(V,G){1&V&&S.eu8(0)}function j(V,G){1&V&&S.eu8(0)}function $(V,G){if(1&V&&(S.j41(0,"div",12),S.DNE(1,j,1,0,"ng-container",6),S.nI1(2,"async"),S.nI1(3,"async"),S.k0s()),2&V){const X=G.$implicit,Q=S.XpG(3);S.R7$(),S.Y8G("ngComponentOutlet",S.bMT(2,2,Q.sectionMap$).get(X.id).component)("ngComponentOutletInjector",S.bMT(3,4,Q.sectionMap$).get(X.id).injector)}}function k(V,G){if(1&V&&(S.j41(0,"div",8),S.nrm(1,"div",9),S.j41(2,"div",3)(3,"div",10)(4,"div",11),S.nI1(5,"translate"),S.Z7z(6,$,4,6,"div",12,S.fX1),S.nI1(8,"async"),S.k0s()()()()),2&V){const X=S.XpG(2);S.Y8G("@slide",void 0),S.R7$(4),S.Y8G("id",X.adminMenuSectionId(X.section)),S.BMQ("aria-label",S.bMT(5,3,"menu.section."+X.section.id)),S.R7$(2),S.Dyx(S.bMT(8,5,X.subSections$))}}function K(V,G){if(1&V){const X=S.RV6();S.j41(0,"div",0),S.nI1(1,"async"),S.nI1(2,"async"),S.nI1(3,"async"),S.j41(4,"a",1),S.nI1(5,"async"),S.nI1(6,"translate"),S.bIt("click",function(ee){S.eBV(X);const ie=S.XpG();return S.Njj(ie.toggleSection(ee))})("keyup.space",function(ee){S.eBV(X);const ie=S.XpG();return S.Njj(ie.toggleSection(ee))}),S.j41(7,"div",2),S.nrm(8,"i"),S.k0s(),S.j41(9,"div",3)(10,"div",4)(11,"span",5),S.nI1(12,"dsBrowserOnly"),S.DNE(13,N,1,0,"ng-container",6),S.nI1(14,"async"),S.nI1(15,"async"),S.k0s(),S.nrm(16,"i",7),S.nI1(17,"async"),S.k0s()()(),S.DNE(18,k,9,7,"div",8),S.nI1(19,"async"),S.k0s()}if(2&V){let X;const Q=S.XpG();S.Y8G("ngClass",S.eq3(36,L,S.bMT(1,16,Q.isExpanded$)))("@bgColor",S.l_i(40,x,S.bMT(2,18,Q.isExpanded$)?"endBackground":"startBackground",S.eq3(38,T,S.bMT(3,20,Q.sidebarActiveBg$)))),S.R7$(4),S.AVh("disabled",null==Q.section.model?null:Q.section.model.disabled),S.BMQ("aria-controls",Q.adminMenuSectionId(Q.section))("aria-expanded",S.bMT(5,22,Q.isExpanded$))("aria-label",S.bMT(6,24,"menu.section.toggle."+Q.section.id)),S.R7$(4),S.ZvI("fas fa-",null!==(X=Q.section.icon)&&void 0!==X?X:"notdef"," fa-fw"),S.R7$(3),S.Y8G("id",Q.adminMenuSectionTitleAccessibilityHandle(Q.section)),S.BMQ("data-test",S.bMT(12,26,Q.adminMenuSectionTitleAccessibilityHandle(Q.section))),S.R7$(2),S.Y8G("ngComponentOutlet",S.bMT(14,28,Q.sectionMap$).get(Q.section.id).component)("ngComponentOutletInjector",S.bMT(15,30,Q.sectionMap$).get(Q.section.id).injector),S.R7$(3),S.Y8G("@rotate",S.bMT(17,32,Q.isExpanded$)?"expanded":"collapsed"),S.R7$(2),S.vxM(S.bMT(19,34,Q.isExpanded$)?18:-1)}}let z=(()=>{class V extends h.g{constructor(X,Q,ee,ie,te){super(X,Q,ie,te),this.section=X,this.menuService=Q,this.variableService=ee,this.injector=ie,this.router=te,this.menuID=P.D.ADMIN}ngOnInit(){super.ngOnInit(),this.hasSubSections$=this.subSections$.pipe((0,e.T)(X=>(0,M.hj)(X))),this.sidebarActiveBg$=this.variableService.getVariable("--ds-admin-sidebar-active-bg"),this.isSidebarCollapsed$=this.menuService.isMenuCollapsed(this.menuID),this.isSidebarPreviewCollapsed$=this.menuService.isMenuPreviewCollapsed(this.menuID),this.isExpanded$=(0,c.z)([this.active$,this.isSidebarCollapsed$,this.isSidebarPreviewCollapsed$]).pipe((0,e.T)(([X,Q,ee])=>X&&(!Q||!ee)))}toggleSection(X){this.menuService.expandMenuPreview(this.menuID),super.toggleSection(X)}adminMenuSubsectionId(X,Q){return`admin-menu-section-${X}-${Q}`}static{this.\u0275fac=function(Q){return new(Q||V)(S.rXU("sectionDataProvider"),S.rXU(b.$),S.rXU(D.J),S.rXU(S.zZn),S.rXU(O.Ix))}}static{this.\u0275cmp=S.VBU({type:V,selectors:[["ds-expandable-admin-sidebar-section"]],standalone:!0,features:[S.Vt3,S.aNF],decls:2,vars:3,consts:[[3,"ngClass"],["role","menuitem","tabindex","0","aria-haspopup","menu","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"click","keyup.space"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item","toggler-wrapper"],[3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-chevron-right","fa-xs"],[1,"sidebar-section-wrapper","subsection"],[1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper"],["role","menu",1,"sidebar-sub-level-item-list",3,"id"],[1,"sidebar-item"]],template:function(Q,ee){1&Q&&(S.DNE(0,K,20,43,"div",0),S.nI1(1,"async")),2&Q&&S.vxM(S.bMT(1,1,ee.hasSubSections$)?0:-1)},dependencies:[i.Jj,I.L,i.YU,i.OI,t.h,t.D9],styles:["[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]     .ds-menu-item{margin-left:var(--ds-admin-sidebar-section-indent)}[_nghost-%COMP%]   .toggler-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .subsection[_ngcontent-%COMP%]   .sidebar-collapsible-element-inner-wrapper[_ngcontent-%COMP%]{overflow-y:hidden}"],data:{animation:[E.e$,y.M6,v]}})}}return V})()},370:(B,C,n)=>{"use strict";n.d(C,{u:()=>m});var i=n(29710),c=(n(60432),n(54438));const e=["*"];function p(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["collapsedSidebarWidth$","expandedSidebarWidth$"]}getComponentName(){return"AdminSidebarComponent"}importThemedComponent(E){return n(48832)(`./${E}/app/admin/admin-sidebar/admin-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,60432))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=c.xGo(f)))(M||f)}})()}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-admin-sidebar"]],inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},15343:(B,C,n)=>{"use strict";n.d(C,{D6:()=>L,Do:()=>j,EI:()=>oe,ET:()=>P,EX:()=>te,Eo:()=>h,Ep:()=>ce,H_:()=>y,N2:()=>ye,OC:()=>Q,Q:()=>z,RC:()=>re,RD:()=>ie,RZ:()=>ae,Th:()=>x,UP:()=>ne,Vv:()=>K,XG:()=>fe,al:()=>k,bZ:()=>ee,cp:()=>G,dF:()=>M,e_:()=>Z,gf:()=>_e,hV:()=>b,il:()=>N,l2:()=>E,lH:()=>J,n:()=>he,pU:()=>O,pX:()=>T,sB:()=>S,sT:()=>$,uz:()=>D,wN:()=>X});var i=n(47067),t=n(39015),c=n(48145),e=n(10406),p=n(15862),m=n(5127),f=n(92767),v=n(89777);const E="bitstreams",y="bitstream";function M(){return`/${E}`}function b(nt){return new m.t(M(),nt.uuid,"download").toString()}function P(nt,Ge){return{routerLink:new m.t((0,f.Fy)(),nt.uuid,"request-a-copy").toString(),queryParams:{bitstream:Ge.uuid}}}function D(nt,Ge){const Ke={routerLink:new m.t(M(),nt.uuid,"download").toString(),queryParams:{}};return(0,v.a4)(Ge)&&(Ke.queryParams={accessToken:Ge}),Ke}const h="home";function S(){return`/${h}`}const O="admin";function L(){return`/${O}`}const T="profile";function x(){return`/${T}`}const N="register";function j(){return`/${N}`}const $="forgot";function k(){return`/${$}`}const K="workflowitems";function z(){return`/${K}`}const V="workspaceitems";function G(){return`/${V}`}function X(nt){if((0,v.a4)(nt))switch(nt.type){case e.E.type.value:return(0,t.c5)(nt.uuid);case c.p.type.value:return(0,i.JW)(nt.uuid);case p.q.type.value:return(0,f._o)(nt)}}const Q="403";function ee(){return`/${Q}`}const ie="404";function te(){return`/${ie}`}const he="500";function ye(){return`/${he}`}const re="error",ce="info";function Z(){return`/${ce}`}const ne="access-control";function fe(){return`/${ne}`}const ae="request-a-copy";function oe(){return`/${ae}`}const J="health",ve="subscriptions";function _e(){return`/${ve}`}},23679:(B,C,n)=>{"use strict";n.d(C,{rd:()=>Rt,pc:()=>$n,ox:()=>Sn,wP:()=>Di});var i=n(20766),t=n(59640),c=n(49601);const e={editEPerson:null};var m=n(42319);const f={editGroup:null};var E=n(75676);const y={editSchema:null,selectedSchemas:[],editField:null,selectedFields:[]};var b=n(94404);const P={expandedNodes:[],loadingNode:null};var I=n(77270),O=n(1300);const L={allIconsVisible:!1,models:{}};function x(bt,_t,En){const{[_t]:Tn,...ni}=bt.models,oi={...Tn,isTooltipVisible:En(Tn.isTooltipVisible)},ai={...ni,[_t]:oi};return{...bt,models:ai}}var N=n(89777),j=n(19209);function k(bt,_t,En){return Object.assign({},bt,{[_t]:En})}var K=n(48125),z=n.n(K),V=n(63448),G=n.n(V),X=n(59726);const Q=Object.create(null);var fe=n(66372);const ae={[fe.D.ADMIN]:{id:fe.D.ADMIN,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}},[fe.D.PUBLIC]:{id:fe.D.PUBLIC,collapsed:!0,previewCollapsed:!0,visible:!0,sections:{},sectionToSubsectionIndex:{}},[fe.D.DSO_EDIT]:{id:fe.D.DSO_EDIT,collapsed:!0,previewCollapsed:!0,visible:!0,sections:{},sectionToSubsectionIndex:{}}};var oe=n(25428);function Te(bt,_t,En){const Tn=bt[_t.menuID],ni=Object.assign({},Tn.sections,{[En.id]:En}),oi=Object.assign({},Tn,{sections:ni});return Object.assign({},bt,{[_t.menuID]:oi})}function pt(bt,_t,En){const ni=bt[_t.menuID].sections[_t.id];return(0,N.a4)(ni)?Te(bt,_t,Object.assign({},ni,En)):bt}var He=n(37688);const Bt=[];var Ee=n(56361);function Ot(bt){return{id:bt,selection:[]}}function wt(bt,_t){return bt.findIndex(En=>En.equals(_t))>=0}var mt=n(53844);const ln=Object.create(null);var Et=n(84733);const kt=Object.create({});var Jt=n(53186);const sn={width:null,height:null};var Gt=n(75548);const Je=Object.create(null);var Le=n(16464);const ze={sidebarCollapsed:!0};var Vt=n(97402);const fn={currentTheme:null};var tn=n(59788);const dt=Object.create(null),Rt={router:i.C_,hostWindow:function zt(bt=sn,_t){return _t.type===Jt.O.RESIZE?Object.assign({},bt,_t.payload):bt},forms:function ee(bt=Q,_t){switch(_t.type){case X.AI.FORM_INIT:return function ye(bt,_t){const En={data:_t.payload.formData,valid:_t.payload.valid,touched:{},errors:[]};if((0,N.a4)(bt[_t.payload.formId])){const Tn=Object.assign({},bt);return Tn[_t.payload.formId]=Object.assign({},Tn[_t.payload.formId],En),Tn}return Object.assign({},bt,{[_t.payload.formId]:En})}(bt,_t);case X.AI.FORM_CHANGE:return function re(bt,_t){if((0,N.a4)(bt[_t.payload.formId])){const En=Object.assign({},bt);return En[_t.payload.formId]=Object.assign({},En[_t.payload.formId],{data:_t.payload.formData,valid:bt[_t.payload.formId].valid}),En}return bt}(bt,_t);case X.AI.FORM_ADD_TOUCHED:return function ne(bt,_t){if((0,N.a4)(bt[_t.payload.formId])){const En=Object.assign({},bt),Tn=Object.assign({},En[_t.payload.formId]);return En[_t.payload.formId]=Tn,Tn.touched={...Tn.touched},_t.payload.touched.forEach(ni=>Tn.touched[ni]=!0),En}return bt}(bt,_t);case X.AI.FORM_REMOVE:return function Z(bt,_t){if((0,N.a4)(bt[_t.payload.formId])){const En=Object.assign({},bt);return delete En[_t.payload.formId],En}return bt}(bt,_t);case X.AI.FORM_STATUS_CHANGE:return function ce(bt,_t){if((0,N.a4)(bt[_t.payload.formId])){const En=Object.assign({},bt);return En[_t.payload.formId]=Object.assign({},En[_t.payload.formId],{data:bt[_t.payload.formId].data,valid:_t.payload.valid}),En}return Object.assign({},bt,{[_t.payload.formId]:{data:bt[_t.payload.formId].data,valid:_t.payload.valid}})}(bt,_t);case X.AI.FORM_ADD_ERROR:return function ie(bt,_t){const En=_t.payload.formId;if((0,N.a4)(bt[En])){const Tn={fieldId:_t.payload.fieldId,fieldIndex:_t.payload.fieldIndex,message:_t.payload.errorMessage},ni=_t.payload.fieldId.replace(/\_/g,"."),oi=Object.assign({},bt[En].touched,{[ni]:!0});return Object.assign({},bt,{[En]:{data:bt[En].data,valid:bt[En].valid,errors:bt[En].errors?G()(bt[En].errors.concat(Tn),z()):[].concat(Tn),touched:oi}})}return bt}(bt,_t);case X.AI.FORM_REMOVE_ERROR:return function te(bt,_t){const En=_t.payload.formId,Tn=_t.payload.fieldId,ni=_t.payload.fieldIndex;if((0,N.a4)(bt[En])){const oi=bt[En].errors.filter(ns=>ns.fieldId!==Tn||ns.fieldIndex!==ni),ai=Object.assign({},bt);return ai[En]=Object.assign({},bt[En],{errors:oi}),ai}return bt}(bt,_t);case X.AI.FORM_CLEAR_ERRORS:return function he(bt,_t){const En=_t.payload.formId;if((0,N.a4)(bt[En])){const Tn=[],ni=Object.assign({},bt);return ni[En]=Object.assign({},bt[En],{errors:Tn}),ni}return bt}(bt,_t);default:return bt}},metadataRegistry:function M(bt=y,_t){switch(_t.type){case E.Kt.EDIT_SCHEMA:return Object.assign({},bt,{editSchema:_t.schema});case E.Kt.CANCEL_EDIT_SCHEMA:return Object.assign({},bt,{editSchema:null});case E.Kt.SELECT_SCHEMA:return Object.assign({},bt,{selectedSchemas:[...bt.selectedSchemas,_t.schema]});case E.Kt.DESELECT_SCHEMA:return Object.assign({},bt,{selectedSchemas:bt.selectedSchemas.filter(En=>En!==_t.schema)});case E.Kt.DESELECT_ALL_SCHEMA:return Object.assign({},bt,{selectedSchemas:[]});case E.Kt.EDIT_FIELD:return Object.assign({},bt,{editField:_t.field});case E.Kt.CANCEL_EDIT_FIELD:return Object.assign({},bt,{editField:null});case E.Kt.SELECT_FIELD:return Object.assign({},bt,{selectedFields:[...bt.selectedFields,_t.field]});case E.Kt.DESELECT_FIELD:return Object.assign({},bt,{selectedFields:bt.selectedFields.filter(En=>En!==_t.field)});case E.Kt.DESELECT_ALL_FIELD:return Object.assign({},bt,{selectedFields:[]});default:return bt}},notifications:function it(bt=Bt,_t){switch(_t.type){case He.Is.NEW_NOTIFICATION:return[...bt,_t.payload];case He.Is.REMOVE_ALL_NOTIFICATIONS:return[];case He.Is.REMOVE_NOTIFICATION:return((bt,_t)=>bt.filter(En=>En.id!==_t.payload))(bt,_t);default:return bt}},sidebar:function lt(bt=ze,_t){switch(_t.type){case Le.Kd.COLLAPSE:return Object.assign({},bt,{sidebarCollapsed:!0});case Le.Kd.EXPAND:return Object.assign({},bt,{sidebarCollapsed:!1});case Le.Kd.TOGGLE:return Object.assign({},bt,{sidebarCollapsed:!bt.sidebarCollapsed});default:return bt}},searchFilter:function ke(bt=Je,_t){switch(_t.type){case Gt.y$.INITIALIZE:{const En=_t;return Object.assign({},bt,{[_t.filterName]:{filterCollapsed:!En.initiallyExpanded,minimized:!1,page:1}})}case Gt.y$.COLLAPSE:return Object.assign({},bt,{[_t.filterName]:{filterCollapsed:!0,minimized:bt[_t.filterName].minimized,page:bt[_t.filterName].page}});case Gt.y$.EXPAND:return Object.assign({},bt,{[_t.filterName]:{filterCollapsed:!1,minimized:bt[_t.filterName].minimized,page:bt[_t.filterName].page}});case Gt.y$.DECREMENT_PAGE:{const En=bt[_t.filterName].page-1;return Object.assign({},bt,{[_t.filterName]:{filterCollapsed:bt[_t.filterName].filterCollapsed,minimized:bt[_t.filterName].minimized,page:En>=1?En:1}})}case Gt.y$.INCREMENT_PAGE:return Object.assign({},bt,{[_t.filterName]:{filterCollapsed:bt[_t.filterName].filterCollapsed,minimized:bt[_t.filterName].minimized,page:bt[_t.filterName].page+1}});case Gt.y$.MINIMIZE_ALL:return Object.assign({},...Object.entries(bt).map(([En,Tn])=>({[En]:{...Tn,minimized:!0}})));case Gt.y$.RESET_PAGE:return Object.assign({},bt,{[_t.filterName]:{filterCollapsed:bt[_t.filterName].filterCollapsed,minimized:!1,page:1}});case Gt.y$.TOGGLE:return Object.assign({},bt,{[_t.filterName]:{filterCollapsed:!bt[_t.filterName].filterCollapsed,minimized:bt[_t.filterName].minimized,page:bt[_t.filterName].page}});default:return bt}},truncatable:function Lt(bt=dt,_t){switch(_t.type){case tn.VR.COLLAPSE:return Object.assign({},bt,{[_t.id]:{collapsed:!0}});case tn.VR.EXPAND:return Object.assign({},bt,{[_t.id]:{collapsed:!1}});case tn.VR.TOGGLE:return bt[_t.id]||(bt[_t.id]={collapsed:!1}),Object.assign({},bt,{[_t.id]:{collapsed:!bt[_t.id].collapsed}});default:return bt}},cssVariables:function vt(bt=kt,_t){switch(_t.type){case Et.$s.ADD:{const En=_t.payload;return Object.assign({},bt,{[En.name]:En.value})}case Et.$s.ADD_ALL:return Object.assign({},bt,..._t.payload.map(({key:Tn,value:ni})=>({[Tn]:ni})));case Et.$s.CLEAR:return kt;default:return bt}},theme:function At(bt=fn,_t){return _t.type===Vt.t.SET?{currentTheme:_t.payload.name}:bt},menus:function J(bt=ae,_t){switch(_t.type){case oe.jZ.COLLAPSE_MENU:{const En=Object.assign({},bt[_t.menuID],{collapsed:!0});return Object.assign({},bt,{[_t.menuID]:En})}case oe.jZ.EXPAND_MENU:{const En=Object.assign({},bt[_t.menuID],{collapsed:!1});return Object.assign({},bt,{[_t.menuID]:En})}case oe.jZ.COLLAPSE_MENU_PREVIEW:{const En=Object.assign({},bt[_t.menuID],{previewCollapsed:!0});return Object.assign({},bt,{[_t.menuID]:En})}case oe.jZ.EXPAND_MENU_PREVIEW:{const En=Object.assign({},bt[_t.menuID],{previewCollapsed:!1});return Object.assign({},bt,{[_t.menuID]:En})}case oe.jZ.TOGGLE_MENU:{const En=bt[_t.menuID],Tn=Object.assign({},En,{collapsed:!En.collapsed});return Object.assign({},bt,{[_t.menuID]:Tn})}case oe.jZ.SHOW_MENU:{const En=Object.assign({},bt[_t.menuID],{visible:!0});return Object.assign({},bt,{[_t.menuID]:En})}case oe.jZ.HIDE_MENU:{const En=Object.assign({},bt[_t.menuID],{visible:!1});return Object.assign({},bt,{[_t.menuID]:En})}case oe.jZ.REINIT_MENUS:return Object.assign({},ae);case oe.jZ.ADD_SECTION:return function ve(bt,_t){return function _e(bt,_t){const En=bt[_t.menuID],Tn={},ni={};Object.values(En.sections).sort((ai,ns)=>(ai.index||0)-(ns.index||0)).forEach(ai=>{if(Tn[ai.id]=ai,(0,N.a4)(ai.parentID)){const ns=(0,N.a4)(ni[ai.parentID])?ni[ai.parentID]:[];ni[ai.parentID]=[...ns,ai.id]}});const oi=Object.assign({},En,{sections:Tn,sectionToSubsectionIndex:ni});return Object.assign({},bt,{[_t.menuID]:oi})}(Te(bt,_t,_t.section),_t)}(bt,_t);case oe.jZ.REMOVE_SECTION:return function Ce(bt,_t){const Tn=_t.id,ni=function qe(bt,_t,En){const Tn=_t.id,ni=_t.parentID;if((0,N.a4)(ni)){const oi=bt[En],ai=oi.sectionToSubsectionIndex,ns=(0,N.a4)(ai[ni])?ai[ni]:[],is=Object.assign({},ai,{[ni]:ns.filter(ci=>ci!==Tn)}),si=Object.assign({},oi,{sectionToSubsectionIndex:is});return Object.assign({},bt,{[En]:si})}return bt}(bt,bt[_t.menuID].sections[_t.id],_t.menuID),oi=Object.assign({},ni[_t.menuID],{sections:Object.assign({},ni[_t.menuID].sections)});return delete oi.sections[Tn],Object.assign({},ni,{[_t.menuID]:oi})}(bt,_t);case oe.jZ.ACTIVATE_SECTION:return function at(bt,_t){if((0,N.a4)(bt[_t.menuID].sections[_t.id]))return pt(bt,_t,{active:!0})}(bt,_t);case oe.jZ.DEACTIVATE_SECTION:return function Ge(bt,_t){if((0,N.a4)(bt[_t.menuID].sections[_t.id]))return pt(bt,_t,{active:!1})}(bt,_t);case oe.jZ.TOGGLE_ACTIVE_SECTION:return function Ke(bt,_t){const En=bt[_t.menuID].sections[_t.id];return(0,N.a4)(En)?pt(bt,_t,{active:!En.active}):bt}(bt,_t);case oe.jZ.HIDE_SECTION:return function Re(bt,_t){return pt(bt,_t,{visible:!1})}(bt,_t);case oe.jZ.SHOW_SECTION:return function nt(bt,_t){return pt(bt,_t,{visible:!0})}(bt,_t);default:return bt}},objectSelection:function we(bt=ln,_t){switch(_t.type){case mt.T8.INITIAL_SELECT:return(0,N.Im)(bt)||(0,N.Im)(bt[_t.key])||(0,N.Im)(bt[_t.key][_t.id])?Object.assign({},bt,{[_t.key]:Object.assign({},bt[_t.key],{[_t.id]:{checked:!0}})}):bt;case mt.T8.INITIAL_DESELECT:return(0,N.Im)(bt)||(0,N.Im)(bt[_t.key])||(0,N.Im)(bt[_t.key][_t.id])?Object.assign({},bt,{[_t.key]:Object.assign({},bt[_t.key],{[_t.id]:{checked:!1}})}):bt;case mt.T8.SELECT:return Object.assign({},bt,{[_t.key]:Object.assign({},bt[_t.key],{[_t.id]:{checked:!0}})});case mt.T8.DESELECT:return Object.assign({},bt,{[_t.key]:Object.assign({},bt[_t.key],{[_t.id]:{checked:!1}})});case mt.T8.SWITCH:return Object.assign({},bt,{[_t.key]:Object.assign({},bt[_t.key],{[_t.id]:{checked:!!((0,N.Im)(bt)||(0,N.Im)(bt[_t.key])||(0,N.Im)(bt[_t.key][_t.id]))||!bt[_t.key][_t.id].checked}})});case mt.T8.RESET:return(0,N.Im)(_t.key)?{}:Object.assign({},bt,{[_t.key]:{}});default:return bt}},selectableLists:function je(bt={},_t){const En=bt[_t.id]||Ot(_t.id);switch(_t.type){case Ee.Sg.SELECT:{const Tn=function ft(bt,_t){const En=_t.payload.filter(ni=>!wt(bt.selection,ni)),Tn=[...bt.selection,...En];return Object.assign({},bt,{selection:Tn})}(En,_t);return Object.assign({},bt,{[_t.id]:Tn})}case Ee.Sg.SELECT_SINGLE:{const Tn=function vn(bt,_t){let En=bt.selection;return wt(bt.selection,_t.payload.object)||(En=[...bt.selection,_t.payload.object]),Object.assign({},bt,{selection:En})}(En,_t);return Object.assign({},bt,{[_t.id]:Tn})}case Ee.Sg.DESELECT:{const Tn=function hn(bt,_t){const En=bt.selection.filter(Tn=>(0,N.Tn)(_t.payload.find(ni=>ni.equals(Tn))));return Object.assign({},bt,{selection:En})}(En,_t);return Object.assign({},bt,{[_t.id]:Tn})}case Ee.Sg.DESELECT_SINGLE:{const Tn=function Un(bt,_t){const En=bt.selection.filter(Tn=>!Tn.equals(_t.payload));return Object.assign({},bt,{selection:En})}(En,_t);return Object.assign({},bt,{[_t.id]:Tn})}case Ee.Sg.SET_SELECTION:{const Tn=function Ct(bt,_t){return Object.assign({},bt,{selection:_t.payload})}(En,_t);return Object.assign({},bt,{[_t.id]:Tn})}case Ee.Sg.DESELECT_ALL:{const Tn=Ot(_t.id);return Object.assign({},bt,{[_t.id]:Tn})}default:return bt}},relationshipLists:function $(bt={},_t){switch(_t.type){case j.SF.SET_NAME_VARIANT:{const ni=k(bt[_t.payload.listID]||{},_t.payload.itemID,_t.payload.nameVariant);return Object.assign({},bt,{[_t.payload.listID]:ni})}case j.SF.REMOVE_NAME_VARIANT:{const En=bt[_t.payload.listID];if((0,N.a4)(En)&&(0,N.a4)(En[_t.payload.itemID])){const Tn=k(En,_t.payload.itemID,void 0);return Object.assign({},bt,{[_t.payload.listID]:Tn})}return bt}default:return bt}},communityList:function D(bt=P,_t){return _t.type===b.x.SAVE?Object.assign({},bt,{expandedNodes:_t.payload.expandedNodes,loadingNode:_t.payload.loadingNode}):bt},epeopleRegistry:function p(bt=e,_t){switch(_t.type){case c.bA.EDIT_EPERSON:return Object.assign({},bt,{editEPerson:_t.eperson});case c.bA.CANCEL_EDIT_EPERSON:return Object.assign({},bt,{editEPerson:null});default:return bt}},groupRegistry:function v(bt=f,_t){switch(_t.type){case m.O3.EDIT_GROUP:return Object.assign({},bt,{editGroup:_t.group});case m.O3.CANCEL_EDIT_GROUP:return Object.assign({},bt,{editGroup:null});default:return bt}},correlationId:(bt=null,_t)=>_t.type===I.N.SET?_t.payload:bt,contextHelp:function T(bt=L,_t){switch(_t.type){case O.y5.CONTEXT_HELP_TOGGLE_ICONS:return{...bt,allIconsVisible:!bt.allIconsVisible};case O.y5.CONTEXT_HELP_ADD:{const En={...bt.models,[_t.model.id]:_t.model};return{...bt,models:En}}case O.y5.CONTEXT_HELP_REMOVE:{const{[_t.id]:En,...Tn}=bt.models;return{...bt,models:Tn}}case O.y5.CONTEXT_HELP_TOGGLE_TOOLTIP:return x(bt,_t.id,En=>!En);case O.y5.CONTEXT_HELP_SHOW_TOOLTIP:return x(bt,_t.id,En=>!0);case O.y5.CONTEXT_HELP_HIDE_TOOLTIP:return x(bt,_t.id,En=>!1);default:return bt}}},Sn=bt=>bt.router;function $n(bt,_t){return(0,t.Mz)(_t,En=>{if((0,N.a4)(En))return En[bt]})}const Di={runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}},12816:(B,C,n)=>{"use strict";n.r(C),n.d(C,{BreadcrumbsComponent:()=>h});var i=n(60177),t=n(7901),c=n(58003),e=n(68018),p=n(50186),m=n(54438),f=n(38248);const v=()=>({text:"home.breadcrumbs",url:"/"});function E(S,O){1&S&&m.eu8(0)}function y(S,O){1&S&&m.eu8(0)}function M(S,O){if(1&S&&m.DNE(0,y,1,0,"ng-container",5),2&S){const L=O.$implicit,T=O.$index,x=O.$count;m.XpG(2);const N=m.sdS(4),j=m.sdS(6);m.Y8G("ngTemplateOutlet",T!==x-1?N:j)("ngTemplateOutletContext",L)}}function b(S,O){if(1&S&&(m.j41(0,"nav",3)(1,"ol",4),m.DNE(2,E,1,0,"ng-container",5),m.Z7z(3,M,1,2,"ng-container",null,m.fX1),m.k0s()()),2&S){const L=m.XpG().ngVar,T=m.sdS(4),x=m.sdS(6);m.R7$(2),m.Y8G("ngTemplateOutlet",(null==L?null:L.length)>0?T:x)("ngTemplateOutletContext",m.lJ4(2,v)),m.R7$(),m.Dyx(L)}}function P(S,O){if(1&S&&(m.j41(0,"li",6)(1,"div",7)(2,"a",8),m.nI1(3,"translate"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&S){const L=O.text,T=O.url;m.R7$(2),m.Y8G("routerLink",T)("ngbTooltip",m.bMT(3,3,L)),m.R7$(2),m.JRh(m.bMT(5,5,L))}}function D(S,O){if(1&S&&(m.j41(0,"li",9)(1,"div",7)(2,"div",10),m.EFF(3),m.nI1(4,"translate"),m.k0s()()()),2&S){const L=O.text;m.R7$(3),m.JRh(m.bMT(4,1,L))}}function I(S,O){if(1&S&&(m.qex(0),m.DNE(1,b,5,3,"nav",3),m.nI1(2,"async"),m.DNE(3,P,6,7,"ng-template",null,0,m.C5r)(5,D,5,3,"ng-template",null,1,m.C5r),m.bVm()),2&S){const L=m.XpG();m.R7$(),m.vxM(m.bMT(2,1,L.showBreadcrumbs$)?1:-1)}}let h=(()=>{class S{constructor(L){this.breadcrumbsService=L,this.breadcrumbs$=L.breadcrumbs$,this.showBreadcrumbs$=L.showBreadcrumbs$}static{this.\u0275fac=function(T){return new(T||S)(m.rXU(f.E))}}static{this.\u0275cmp=m.VBU({type:S,selectors:[["ds-base-breadcrumbs"]],standalone:!0,features:[m.aNF],decls:2,vars:3,consts:[["breadcrumb",""],["activeBreadcrumb",""],[4,"ngVar"],["aria-label","breadcrumb",1,"nav-breadcrumb"],[1,"container","breadcrumb","my-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"breadcrumb-item"],[1,"breadcrumb-item-limiter"],["placement","bottom","role","link","tabindex","0",1,"text-truncate",3,"routerLink","ngbTooltip"],["aria-current","page",1,"breadcrumb-item","active"],[1,"text-truncate"]],template:function(T,x){1&T&&(m.DNE(0,I,7,3,"ng-container",2),m.nI1(1,"async")),2&T&&m.Y8G("ngVar",m.bMT(1,1,x.breadcrumbs$))},dependencies:[i.Jj,c.n8,c.md,i.T3,t.Wk,e.h,e.D9,p.r],styles:['@charset "UTF-8";.nav-breadcrumb[_ngcontent-%COMP%]{background-color:var(--ds-breadcrumb-bg)!important}.breadcrumb[_ngcontent-%COMP%]{border-radius:0;padding-bottom:calc(var(--ds-content-spacing) / 2);padding-top:calc(var(--ds-content-spacing) / 2);background-color:var(--ds-breadcrumb-bg)!important;padding-left:calc(var(--bs-spacer) * .75);padding-right:calc(var(--bs-spacer) * .75)}li.breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb-item-limiter[_ngcontent-%COMP%]{display:inline-block;max-width:var(--ds-breadcrumb-max-length)}.breadcrumb-item-limiter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;display:block}li.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-color)}li.breadcrumb-item.active[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-active-color)}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:block;content:"\\2022"!important}']})}}return S})()},38248:(B,C,n)=>{"use strict";n.d(C,{E:()=>M});var i=n(7901),t=n(92771),c=n(84572),e=n(7673),p=n(5964),m=n(88141),f=n(25558),v=n(96354),E=n(89777),y=n(54438);let M=(()=>{class b{constructor(D,I){this.route=D,this.router=I,this.breadcrumbs$=new t.m(1),this.showBreadcrumbs$=new t.m(1)}listenForRouteChanges(){this.router.events.pipe((0,p.p)(D=>D instanceof i.wF),(0,m.M)(()=>this.reset()),(0,f.n)(()=>this.resolveBreadcrumbs(this.route.root))).subscribe(this.breadcrumbs$)}resolveBreadcrumbs(D){const I=D.snapshot.data,h=D.snapshot.routeConfig,S=(0,E.Tn)(D.firstChild);if(S&&((0,E.a4)(I.showBreadcrumbs)?this.showBreadcrumbs$.next(I.showBreadcrumbs):(0,E.b0)(I.breadcrumb)&&this.showBreadcrumbs$.next(!1)),(0,E.a4)(I)&&(0,E.a4)(I.breadcrumb)&&(0,E.a4)(h)&&(0,E.a4)(h.resolve)&&(0,E.a4)(h.resolve.breadcrumb)){const{provider:O,key:L,url:T}=I.breadcrumb;return S?O.getBreadcrumbs(L,T):(0,c.z)(O.getBreadcrumbs(L,T),this.resolveBreadcrumbs(D.firstChild)).pipe((0,v.T)(x=>[].concat.apply([],x)))}return S?(0,e.of)([]):this.resolveBreadcrumbs(D.firstChild)}reset(){this.showBreadcrumbs$.next(!0)}static{this.\u0275fac=function(I){return new(I||b)(y.KVO(i.nX),y.KVO(i.Ix))}}static{this.\u0275prov=y.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}}return b})()},32954:(B,C,n)=>{"use strict";n.d(C,{B:()=>p});var i=n(29710),t=n(54438);const c=["*"];function e(m,f){}let p=(()=>{class m extends i.J{getComponentName(){return"BreadcrumbsComponent"}importThemedComponent(v){return n(32012)(`./${v}/app/breadcrumbs/breadcrumbs.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,12816))}static{this.\u0275fac=(()=>{let v;return function(y){return(v||(v=t.xGo(m)))(y||m)}})()}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-breadcrumbs"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:c,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(E,y){1&E&&(t.NAR(),t.DNE(0,e,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return m})()},16743:(B,C,n)=>{"use strict";n.d(C,{v0:()=>Q,el:()=>ee,M0:()=>te});var i=n(60177),t=n(54438),c=n(68018),e=n(84412),p=n(7673),m=n(84572),f=n(96354),v=n(23294),E=n(92046),y=n(79096),M=n(78544),b=n(43446),P=n(57168);class D{constructor(ye,re,ce,Z,ne,fe){this.metadataDefinition=ye,this.pagination=re,this.sort=ce,this.startsWith=Z,this.scope=ne,this.fetchThumbnail=fe}}var I=n(70998),h=n(98733),S=n(31),L=(n(40940),n(4093)),T=n(89777),x=n(15202),N=n(8417),j=n(41358),k=(n(55104),n(7901));const K=he=>({startsWith:he}),z=(he,ye,re)=>({field:he,startsWith:ye,value:re});function V(he,ye){if(1&he){const re=t.RV6();t.j41(0,"ds-browse-by",4),t.nI1(1,"translate"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nI1(4,"async"),t.nI1(5,"async"),t.bIt("prev",function(){t.eBV(re);const Z=t.XpG(2);return t.Njj(Z.goPrev())})("next",function(){t.eBV(re);const Z=t.XpG(2);return t.Njj(Z.goNext())}),t.k0s()}if(2&he){const re=t.XpG(2);t.FS9("title",t.i5U(3,12,"browse.title",t.sMw(21,z,t.bMT(1,7,"browse.metadata."+re.browseId),re.startsWith?t.i5U(2,9,"browse.startsWith",t.eq3(19,K,'"'+re.startsWith+'"')):"",re.value?'"'+re.value+'"':""))),t.Y8G("displayTitle",re.displayTitle)("objects$",void 0!==re.items$?re.items$:re.browseEntries$)("paginationConfig",t.bMT(4,15,re.currentPagination$))("sortConfig",t.bMT(5,17,re.currentSort$))("type",re.startsWithType)("startsWithOptions",re.startsWithOptions)}}function G(he,ye){1&he&&(t.nrm(0,"ds-loading",3),t.nI1(1,"translate")),2&he&&t.FS9("message",t.bMT(1,1,"loading.browse-by-page"))}function X(he,ye){if(1&he&&(t.j41(0,"section",0)(1,"div",1),t.DNE(2,V,6,25,"ds-browse-by",2),t.nI1(3,"async"),t.DNE(4,G,2,3,"ds-loading",3),t.nI1(5,"async"),t.k0s()()),2&he){const re=t.XpG();t.R7$(2),t.vxM(!0!==t.bMT(3,2,re.loading$)?2:-1),t.R7$(2),t.vxM(t.bMT(5,4,re.loading$)?4:-1)}}const Q="bbm";let ee=(()=>{class he{constructor(re,ce,Z,ne,fe,ae,oe,J){this.route=re,this.browseService=ce,this.dsoService=Z,this.paginationService=ne,this.router=fe,this.appConfig=ae,this.dsoNameService=oe,this.platformId=J,this.displayTitle=!0,this.scope$=new e.t(void 0),this.subs=[],this.defaultBrowseId="author",this.browseId=this.defaultBrowseId,this.startsWithType=j.c.text,this.value="",this.loading$=(0,p.of)(!0),this.ssrRenderingDisabled=!1,this.fetchThumbnails=this.appConfig.browseBy.showThumbnails,this.paginationConfig=Object.assign(new N.W,{id:Q,currentPage:1,pageSize:this.appConfig.browseBy.pageSize}),this.ssrRenderingDisabled=!this.renderOnServerSide&&!M.c.ssr.enableBrowseComponent&&(0,i.Vy)(this.platformId)}ngOnInit(){if(this.ssrRenderingDisabled)return void(this.loading$=(0,p.of)(!1));const re=new I.z("default",I.U.ASC);this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,re);const ce=(0,m.z)([this.route.params,this.route.queryParams]).pipe((0,f.T)(([Z,ne])=>Object.assign({},Z,ne)),(0,v.F)((Z,ne)=>Z.id===ne.id&&Z.authority===ne.authority&&Z.value===ne.value&&Z.startsWith===ne.startsWith));this.subs.push((0,m.z)([ce,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([Z,ne,fe,ae])=>{this.browseId=Z.id||this.defaultBrowseId,this.authority=Z.authority,this.value="string"==typeof Z.value?Z.value.trim():"",(void 0===Z.startsWith||""===Z.startsWith)&&(this.startsWith=void 0),this.startsWith="string"==typeof Z.startsWith?Z.startsWith.trim():"",(0,T.hj)(this.value)?this.updatePageWithItems(te(Z,ne,fe,ae,this.browseId,this.fetchThumbnails),this.value,this.authority):this.updatePage(te(Z,ne,fe,ae,this.browseId,!1))})),this.updateStartsWithTextOptions()}ngOnChanges(re){(0,T.a4)(re.scope)&&this.scope$.next(this.scope)}updateStartsWithTextOptions(){this.startsWithOptions=["0-9",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")]}updatePage(re){this.browseEntries$=this.browseService.getBrowseEntriesFor(re),this.loading$=this.browseEntries$.pipe((0,f.T)(ce=>ce.isLoading)),this.items$=void 0}updatePageWithItems(re,ce,Z){this.items$=this.browseService.getBrowseItemsFor(ce,Z,re),this.loading$=this.items$.pipe((0,f.T)(ne=>ne.isLoading))}goPrev(){this.items$?this.items$.pipe((0,L.yd)()).subscribe(re=>{this.items$=this.browseService.getPrevBrowseItems(re)}):this.browseEntries$&&this.browseEntries$.pipe((0,L.yd)()).subscribe(re=>{this.browseEntries$=this.browseService.getPrevBrowseEntries(re)})}goNext(){this.items$?this.items$.pipe((0,L.yd)()).subscribe(re=>{this.items$=this.browseService.getNextBrowseItems(re)}):this.browseEntries$&&this.browseEntries$.pipe((0,L.yd)()).subscribe(re=>{this.browseEntries$=this.browseService.getNextBrowseEntries(re)})}ngOnDestroy(){this.subs.filter(re=>(0,T.a4)(re)).forEach(re=>re.unsubscribe()),this.paginationService.clearPagination(this.paginationConfig.id)}static{this.\u0275fac=function(ce){return new(ce||he)(t.rXU(k.nX),t.rXU(P.q),t.rXU(h.DSpaceObjectDataService),t.rXU(S.m),t.rXU(k.Ix),t.rXU(y.vQ),t.rXU(b.f),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:he,selectors:[["ds-browse-by-metadata"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle",renderOnServerSide:"renderOnServerSide"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:1,consts:[[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],[1,"col-12","w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"],[1,"col-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"]],template:function(ce,Z){1&ce&&t.DNE(0,X,6,6,"section",0),2&ce&&t.vxM(Z.ssrRenderingDisabled?-1:0)},dependencies:[i.Jj,E.U,x.v,c.h,c.D9]})}}return he})();function te(he,ye,re,ce,Z,ne){return new D(Z,re,ce,he.startsWith,ye,ne)}},55104:(B,C,n)=>{"use strict";n.d(C,{O:()=>i});var i=function(t){return t.Title="title",t.Metadata="text",t.Date="date",t.Hierarchy="hierarchy",t}(i||{})},29297:(B,C,n)=>{"use strict";n.d(C,{cv:()=>qe});var i=n(40940),t=n(89777),c=n(21193),e=n(60177),p=n(54438),m=n(68018),f=n(7673),v=n(84572),E=n(96354),y=n(23294),M=n(92046),b=n(79096),P=n(78544),D=n(43446),I=n(57168),h=n(70998),S=n(98733),O=n(31),L=n(50813),T=n(15202),x=n(41358),N=n(16743),j=n(7901);const $=Re=>({startsWith:Re}),k=(Re,nt,Ge)=>({field:Re,startsWith:nt,value:Ge});function K(Re,nt){if(1&Re){const Ge=p.RV6();p.j41(0,"ds-browse-by",4),p.nI1(1,"translate"),p.nI1(2,"translate"),p.nI1(3,"translate"),p.nI1(4,"async"),p.nI1(5,"async"),p.bIt("prev",function(){p.eBV(Ge);const Ke=p.XpG(2);return p.Njj(Ke.goPrev())})("next",function(){p.eBV(Ge);const Ke=p.XpG(2);return p.Njj(Ke.goNext())}),p.k0s()}if(2&Re){const Ge=p.XpG(2);p.FS9("title",p.i5U(3,12,"browse.title",p.sMw(21,k,p.bMT(1,7,"browse.metadata."+Ge.browseId),Ge.startsWith?p.i5U(2,9,"browse.startsWith",p.eq3(19,$,'"'+Ge.startsWith+'"')):"",Ge.value?'"'+Ge.value+'"':""))),p.Y8G("displayTitle",Ge.displayTitle)("objects$",void 0!==Ge.items$?Ge.items$:Ge.browseEntries$)("paginationConfig",p.bMT(4,15,Ge.currentPagination$))("sortConfig",p.bMT(5,17,Ge.currentSort$))("type",Ge.startsWithType)("startsWithOptions",Ge.startsWithOptions)}}function z(Re,nt){1&Re&&(p.nrm(0,"ds-loading",3),p.nI1(1,"translate")),2&Re&&p.FS9("message",p.bMT(1,1,"loading.browse-by-page"))}function V(Re,nt){if(1&Re&&(p.j41(0,"section",0)(1,"div",1),p.DNE(2,K,6,25,"ds-browse-by",2),p.nI1(3,"async"),p.DNE(4,z,2,3,"ds-loading",3),p.nI1(5,"async"),p.k0s()()),2&Re){const Ge=p.XpG();p.R7$(2),p.vxM(!0!==p.bMT(3,2,Ge.loading$)?2:-1),p.R7$(2),p.vxM(p.bMT(5,4,Ge.loading$)?4:-1)}}let G=(()=>{class Re extends N.el{constructor(Ge,at,Ke,Te,pt,He,Bt,it,Tt){super(Ge,at,Ke,Te,pt,He,Bt,Tt),this.route=Ge,this.browseService=at,this.dsoService=Ke,this.paginationService=Te,this.router=pt,this.appConfig=He,this.dsoNameService=Bt,this.cdRef=it,this.platformId=Tt,this.defaultMetadataKeys=["dc.date.issued"]}ngOnInit(){if(!this.renderOnServerSide&&!P.c.ssr.enableBrowseComponent&&(0,e.Vy)(this.platformId))return void(this.loading$=(0,f.of)(!1));const Ge=new h.z("default",h.U.ASC);this.startsWithType=x.c.date,this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,Ge);const at=(0,v.z)([this.route.params,this.route.queryParams]).pipe((0,E.T)(([Ke,Te])=>Object.assign({},Ke,Te)),(0,y.F)((Ke,Te)=>Ke.id===Te.id&&Ke.startsWith===Te.startsWith));this.subs.push((0,v.z)([at,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([Ke,Te,pt,He])=>{const Bt=Ke.browseDefinition?Ke.browseDefinition.metadataKeys:this.defaultMetadataKeys;this.browseId=Ke.id||this.defaultBrowseId,this.startsWith=+Ke.startsWith||Ke.startsWith;const it=(0,N.M0)(Ke,Te,pt,He,this.browseId,this.fetchThumbnails);this.updatePageWithItems(it,this.value,void 0),this.updateStartsWithOptions(this.browseId,Bt,Ke.scope)}))}updateStartsWithOptions(Ge,at,Ke){const Te=this.browseService.getFirstItemFor(Ge,Ke,h.U.ASC),pt=this.browseService.getFirstItemFor(Ge,Ke,h.U.DESC);this.loading$=(0,v.z)([Te,pt]).pipe((0,E.T)(([He,Bt])=>He.isLoading||Bt.isLoading)),this.subs.push((0,v.z)([Te,pt]).subscribe(([He,Bt])=>{let it=this.getLimit(He,at,this.appConfig.browseBy.defaultLowerLimit);const Tt=this.getLimit(Bt,at,(new Date).getUTCFullYear()),Ee=[],je=5*Math.floor((Tt-this.appConfig.browseBy.oneYearLimit)/5),ft=10*Math.floor((Tt-this.appConfig.browseBy.fiveYearLimit)/10);it-=it<=ft?10:it<=je?5:1;let vn=Tt;for(;vn>it;)Ee.push(vn),vn<=ft?vn-=10:vn<=je?vn-=5:vn--;(0,t.hj)(Ee)&&(this.startsWithOptions=Ee,this.cdRef.detectChanges())}))}getLimit(Ge,at,Ke){if((0,t.a4)(Ge.payload)){const Te=Ge.payload.firstMetadataValue(at);if((0,t.hj)(Te)&&(0,L.vd)(Te)){const pt=new Date(Te);return isNaN(pt.getUTCFullYear())?Ke:pt.getUTCFullYear()}return(new Date).getUTCFullYear()}}static{this.\u0275fac=function(at){return new(at||Re)(p.rXU(j.nX),p.rXU(I.q),p.rXU(S.DSpaceObjectDataService),p.rXU(O.m),p.rXU(j.Ix),p.rXU(b.vQ),p.rXU(D.f),p.rXU(p.gRc),p.rXU(p.Agw))}}static{this.\u0275cmp=p.VBU({type:Re,selectors:[["ds-browse-by-date"]],standalone:!0,features:[p.Vt3,p.aNF],decls:1,vars:1,consts:[[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],[1,"col-12","w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"],[1,"col-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"]],template:function(at,Ke){1&at&&p.DNE(0,V,6,6,"section",0),2&at&&p.vxM(Ke.ssrRenderingDisabled?-1:0)},dependencies:[e.Jj,M.U,T.v,m.h,m.D9]})}}return Re})();var X=n(84412),Q=n(25630),ee=n(55104);const ie=()=>["/search"],te=Re=>({field:Re,startsWith:"",value:""});function he(Re,nt){if(1&Re&&(p.j41(0,"h1"),p.EFF(1),p.nI1(2,"translate"),p.nI1(3,"translate"),p.k0s()),2&Re){const Ge=p.XpG();p.R7$(),p.SpI(" ",p.i5U(3,3,"browse.title",p.eq3(6,te,p.bMT(2,1,"browse.metadata."+Ge.vocabularyName)))," ")}}let ye=(()=>{class Re{constructor(Ge,at){this.route=Ge,this.translate=at,this.displayTitle=!0,this.scope$=new X.t(void 0),this.selectedItems=[],this.subs=[]}ngOnInit(){this.browseDefinition$=this.route.data.pipe((0,E.T)(Ge=>Ge.browseDefinition)),this.subs.push(this.browseDefinition$.subscribe(Ge=>{this.selectedItems=[],this.facetType=Ge.facetType,this.vocabularyName=Ge.vocabulary,this.vocabularyOptions={name:this.vocabularyName,closed:!0},this.description=this.translate.instant(`browse.metadata.${this.vocabularyName}.tree.description`)})),this.subs.push(this.scope$.subscribe(()=>{this.updateQueryParams()}))}ngOnChanges(){this.scope$.next(this.scope)}onSelect(Ge){this.selectedItems.push(Ge),this.filterValues=this.selectedItems.map(at=>`${at.value},equals`),this.updateQueryParams()}onDeselect(Ge){this.selectedItems=this.selectedItems.filter(at=>at.id!==Ge.id),this.filterValues=this.filterValues.filter(at=>at!==`${Ge.value},equals`),this.updateQueryParams()}updateQueryParams(){this.queryParams={["f."+this.facetType]:this.filterValues},(0,t.a4)(this.scope)&&(this.queryParams.scope=this.scope)}ngOnDestroy(){this.subs.forEach(Ge=>Ge.unsubscribe())}static{this.\u0275fac=function(at){return new(at||Re)(p.rXU(j.nX),p.rXU(m.c$))}}static{this.\u0275cmp=p.VBU({type:Re,selectors:[["ds-browse-by-taxonomy"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle"},standalone:!0,features:[p.OA$,p.aNF],decls:7,vars:12,consts:[[1,"mb-3"],[3,"select","deselect","description","vocabularyOptions","multiSelect","showAdd"],["role","link","tabindex","0",1,"btn","btn-primary",3,"routerLink","queryParams","queryParamsHandling"]],template:function(at,Ke){1&at&&(p.j41(0,"section"),p.DNE(1,he,4,8,"h1"),p.j41(2,"div",0)(3,"ds-vocabulary-treeview",1),p.bIt("select",function(pt){return Ke.onSelect(pt)})("deselect",function(pt){return Ke.onDeselect(pt)}),p.k0s()(),p.j41(4,"a",2),p.EFF(5),p.nI1(6,"translate"),p.k0s()()),2&at&&(p.R7$(),p.vxM(Ke.displayTitle?1:-1),p.R7$(2),p.Y8G("description",Ke.description)("vocabularyOptions",Ke.vocabularyOptions)("multiSelect",!0)("showAdd",!1),p.R7$(),p.Y8G("routerLink",p.lJ4(11,ie))("queryParams",Ke.queryParams)("queryParamsHandling","merge"),p.R7$(),p.SpI(" ",p.bMT(6,9,"browse.taxonomy.button"),""))},dependencies:[j.Wk,m.D9,Q.P]})}}return Re})();const re=Re=>({startsWith:Re}),ce=(Re,nt,Ge)=>({field:Re,startsWith:nt,value:Ge});function Z(Re,nt){if(1&Re){const Ge=p.RV6();p.j41(0,"ds-browse-by",4),p.nI1(1,"translate"),p.nI1(2,"translate"),p.nI1(3,"translate"),p.nI1(4,"async"),p.nI1(5,"async"),p.bIt("prev",function(){p.eBV(Ge);const Ke=p.XpG(2);return p.Njj(Ke.goPrev())})("next",function(){p.eBV(Ge);const Ke=p.XpG(2);return p.Njj(Ke.goNext())}),p.k0s()}if(2&Re){const Ge=p.XpG(2);p.FS9("title",p.i5U(3,12,"browse.title",p.sMw(21,ce,p.bMT(1,7,"browse.metadata."+Ge.browseId),Ge.startsWith?p.i5U(2,9,"browse.startsWith",p.eq3(19,re,'"'+Ge.startsWith+'"')):"",Ge.value?'"'+Ge.value+'"':""))),p.Y8G("displayTitle",Ge.displayTitle)("objects$",void 0!==Ge.items$?Ge.items$:Ge.browseEntries$)("paginationConfig",p.bMT(4,15,Ge.currentPagination$))("sortConfig",p.bMT(5,17,Ge.currentSort$))("type",Ge.startsWithType)("startsWithOptions",Ge.startsWithOptions)}}function ne(Re,nt){1&Re&&(p.nrm(0,"ds-loading",3),p.nI1(1,"translate")),2&Re&&p.FS9("message",p.bMT(1,1,"loading.browse-by-page"))}function fe(Re,nt){if(1&Re&&(p.j41(0,"section",0)(1,"div",1),p.DNE(2,Z,6,25,"ds-browse-by",2),p.nI1(3,"async"),p.DNE(4,ne,2,3,"ds-loading",3),p.nI1(5,"async"),p.k0s()()),2&Re){const Ge=p.XpG();p.R7$(2),p.vxM(!0!==p.bMT(3,2,Ge.loading$)?2:-1),p.R7$(2),p.vxM(p.bMT(5,4,Ge.loading$)?4:-1)}}let ae=(()=>{class Re extends N.el{ngOnInit(){if(!this.renderOnServerSide&&!P.c.ssr.enableBrowseComponent&&(0,e.Vy)(this.platformId))return void(this.loading$=(0,f.of)(!1));const Ge=new h.z("dc.title",h.U.ASC);this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,Ge);const at=(0,v.z)([this.route.params,this.route.queryParams]).pipe((0,E.T)(([Ke,Te])=>Object.assign({},Ke,Te)),(0,y.F)((Ke,Te)=>Ke.id===Te.id&&Ke.startsWith===Te.startsWith));this.subs.push((0,v.z)([at,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([Ke,Te,pt,He])=>{this.startsWith=+Ke.startsWith||Ke.startsWith,this.browseId=Ke.id||this.defaultBrowseId,this.updatePageWithItems((0,N.M0)(Ke,Te,pt,He,this.browseId,this.fetchThumbnails),void 0,void 0)})),this.updateStartsWithTextOptions()}static{this.\u0275fac=(()=>{let Ge;return function(Ke){return(Ge||(Ge=p.xGo(Re)))(Ke||Re)}})()}static{this.\u0275cmp=p.VBU({type:Re,selectors:[["ds-browse-by-title"]],standalone:!0,features:[p.Vt3,p.aNF],decls:1,vars:1,consts:[[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],[1,"col-12","w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"],[1,"col-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"]],template:function(at,Ke){1&at&&p.DNE(0,fe,6,6,"section",0),2&at&&p.vxM(Ke.ssrRenderingDisabled?-1:0)},dependencies:[e.Jj,M.U,T.v,m.h,m.D9]})}}return Re})();const oe=ee.O.Metadata,J=i.o.Any,_e=new Map([[ee.O.Date,new Map([[J,new Map([[c.SS,G]])]])],[ee.O.Metadata,new Map([[J,new Map([[c.SS,N.el]])]])],[ee.O.Hierarchy,new Map([[J,new Map([[c.SS,ye]])]])],[ee.O.Title,new Map([[J,new Map([[c.SS,ae]])]])]]);function qe(Re,nt,Ge){let at=_e.get(Re);(0,t.Tn)(at)&&(at=_e.get(oe));let Ke=at.get(nt);(0,t.Tn)(Ke)&&(Ke=at.get(J));const Te=(0,c.eW)(Ke,Ge);return(0,t.Tn)(Te)?Ke.get(c.SS):Te}},47067:(B,C,n)=>{"use strict";n.d(C,{BW:()=>v,CC:()=>c,Cb:()=>t,JW:()=>p,WJ:()=>P,_:()=>M,_E:()=>m,dv:()=>E,gH:()=>f,gj:()=>y});var i=n(5127);const t="parent",c="collections";function e(){return`/${c}`}function p(D){return new i.t(e(),D).toString()}function m(D){return new i.t(e(),D,M).toString()}function f(){return new i.t(e(),y).toString()}function v(D){return new i.t(p(D),M,b).toString()}function E(D){return new i.t(p(D),P).toString()}const y="create",M="edit",b="roles",P="itemtemplate"},94404:(B,C,n)=>{"use strict";n.d(C,{H:()=>c,x:()=>t});const t={SAVE:(0,n(6800).N)("dspace/community-list-page/SAVE")};class c{constructor(p,m){this.type=t.SAVE,this.payload={expandedNodes:p,loadingNode:m}}}},39015:(B,C,n)=>{"use strict";n.d(C,{D6:()=>y,EU:()=>E,b2:()=>e,c5:()=>m,f2:()=>c,lG:()=>v,pk:()=>f,zQ:()=>M});var i=n(47067),t=n(5127);const c="parent",e="communities";function p(){return`/${e}`}function m(P){return new t.t(p(),P).toString()}function f(P){return new t.t(p(),P,M).toString()}function v(){return new t.t(p(),y).toString()}function E(P){return new t.t((0,i.JW)(P),M,b).toString()}const y="create",M="edit",b="roles"},14563:(B,C,n)=>{"use strict";n.d(C,{q:()=>E});var i=n(59640),t=n(30113),c=n.n(t),e=n(96354),p=n(29747),m=n(38196),f=n(12321),v=n(54438);let E=(()=>{class y{constructor(b){this.store=b}getAuthMethods(b,P){return this.store.pipe((0,i.Lt)(f.hx),(0,e.T)(D=>D.filter(I=>null==P||I.authMethodType!==P).filter(I=>void 0!==(0,p.H)(b,I.authMethodType)).sort((I,h)=>I.position-h.position)),(0,e.T)(D=>c()(D.filter(I=>I.authMethodType!==m.Q.Ip),"authMethodType")))}static{this.\u0275fac=function(P){return new(P||y)(v.KVO(i.il))}}static{this.\u0275prov=v.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},95828:(B,C,n)=>{"use strict";n.d(C,{H:()=>M});var i=n(5964),t=n(96354),c=n(23294),e=n(96697),p=n(25558),m=n(88141),f=n(89777),v=n(49755),E=n(4093),y=n(5127);class M{constructor(P,D,I){this.halService=P,this.requestService=D,this.rdbService=I,this.linkName="authn",this.shortlivedtokensEndpoint="shortlivedtokens"}fetchRequest(P,...D){return this.rdbService.buildFromRequestUUID(P,...D).pipe((0,E.qD)())}getEndpointByMethod(P,D,...I){let h=(0,f.hj)(D)?`${P}/${D}`:`${P}`;return I?.length>0&&I.forEach((S,O)=>{h+=(0===O?"?":"&")+`embed=${S.name}`}),h}postToEndpoint(P,D,I){const h=this.requestService.generateRequestId(),S=this.halService.getEndpoint(this.linkName);return S.pipe((0,i.p)(O=>(0,f.hj)(O)),(0,t.T)(O=>this.getEndpointByMethod(O,P)),(0,c.F)(),(0,t.T)(O=>new v.Qf(h,O,D,I)),(0,e.s)(1)).subscribe(O=>{this.requestService.send(O)}),S.pipe((0,p.n)(()=>this.fetchRequest(h)))}getRequest(P,D,...I){const h=this.requestService.generateRequestId(),S=this.halService.getEndpoint(this.linkName);return S.pipe((0,i.p)(O=>(0,f.hj)(O)),(0,t.T)(O=>this.getEndpointByMethod(O,P,...I)),(0,c.F)(),(0,t.T)(O=>new v.IP(h,O,void 0,D)),(0,e.s)(1)).subscribe(O=>{this.requestService.send(O)}),S.pipe((0,p.n)(()=>this.fetchRequest(h,...I)))}getShortlivedToken(){return this.halService.getEndpoint(this.linkName).pipe((0,i.p)(P=>(0,f.hj)(P)),(0,c.F)(),(0,t.T)(P=>new y.t(P,this.shortlivedtokensEndpoint).toString()),(0,p.n)(P=>this.createShortLivedTokenRequest(P)),(0,m.M)(P=>this.requestService.send(P)),(0,p.n)(P=>this.rdbService.buildFromRequestUUID(P.uuid)),(0,E.qD)(),(0,t.T)(P=>P.hasSucceeded?P.payload.value:null))}}},45124:(B,C,n)=>{"use strict";n.d(C,{$K:()=>L,$X:()=>k,D9:()=>p,FD:()=>z,G2:()=>D,HQ:()=>f,IO:()=>O,IV:()=>m,JT:()=>G,K0:()=>V,S3:()=>E,Sn:()=>c,VU:()=>P,Wu:()=>h,YO:()=>K,Yk:()=>t,cU:()=>X,dj:()=>S,du:()=>b,e0:()=>y,eh:()=>N,es:()=>Q,j3:()=>j,kZ:()=>T,ks:()=>e,mg:()=>M,nB:()=>x,qY:()=>$,sy:()=>v,v1:()=>ee});var i=n(6800);const t={AUTHENTICATE:(0,i.N)("dspace/auth/AUTHENTICATE"),AUTHENTICATE_ERROR:(0,i.N)("dspace/auth/AUTHENTICATE_ERROR"),AUTHENTICATE_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATE_SUCCESS"),AUTHENTICATED:(0,i.N)("dspace/auth/AUTHENTICATED"),AUTHENTICATED_ERROR:(0,i.N)("dspace/auth/AUTHENTICATED_ERROR"),AUTHENTICATED_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATED_SUCCESS"),CHECK_AUTHENTICATION_TOKEN:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN"),CHECK_AUTHENTICATION_TOKEN_COOKIE:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN_COOKIE"),SET_AUTH_COOKIE_STATUS:(0,i.N)("dspace/auth/SET_AUTH_COOKIE_STATUS"),RETRIEVE_AUTH_METHODS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS"),RETRIEVE_AUTH_METHODS_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_SUCCESS"),RETRIEVE_AUTH_METHODS_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_ERROR"),REDIRECT_TOKEN_EXPIRED:(0,i.N)("dspace/auth/REDIRECT_TOKEN_EXPIRED"),REDIRECT_AUTHENTICATION_REQUIRED:(0,i.N)("dspace/auth/REDIRECT_AUTHENTICATION_REQUIRED"),REFRESH_TOKEN:(0,i.N)("dspace/auth/REFRESH_TOKEN"),REFRESH_TOKEN_SUCCESS:(0,i.N)("dspace/auth/REFRESH_TOKEN_SUCCESS"),REFRESH_TOKEN_ERROR:(0,i.N)("dspace/auth/REFRESH_TOKEN_ERROR"),RETRIEVE_TOKEN:(0,i.N)("dspace/auth/RETRIEVE_TOKEN"),ADD_MESSAGE:(0,i.N)("dspace/auth/ADD_MESSAGE"),RESET_MESSAGES:(0,i.N)("dspace/auth/RESET_MESSAGES"),LOG_OUT:(0,i.N)("dspace/auth/LOG_OUT"),LOG_OUT_ERROR:(0,i.N)("dspace/auth/LOG_OUT_ERROR"),LOG_OUT_SUCCESS:(0,i.N)("dspace/auth/LOG_OUT_SUCCESS"),SET_REDIRECT_URL:(0,i.N)("dspace/auth/SET_REDIRECT_URL"),RETRIEVE_AUTHENTICATED_EPERSON:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON"),RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS"),RETRIEVE_AUTHENTICATED_EPERSON_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_ERROR"),REDIRECT_AFTER_LOGIN_SUCCESS:(0,i.N)("dspace/auth/REDIRECT_AFTER_LOGIN_SUCCESS"),SET_USER_AS_IDLE:(0,i.N)("dspace/auth/SET_USER_AS_IDLE"),UNSET_USER_AS_IDLE:(0,i.N)("dspace/auth/UNSET_USER_AS_IDLE")};class c{constructor(te,he){this.type=t.AUTHENTICATE,this.payload={email:te,password:he}}}class e{constructor(te){this.type=t.AUTHENTICATED,this.payload=te}}class p{constructor(te,he,ye){this.type=t.AUTHENTICATED_SUCCESS,this.payload={authenticated:te,authToken:he,userHref:ye}}}class m{constructor(te){this.type=t.AUTHENTICATED_ERROR,this.payload=te}}class f{constructor(te){this.type=t.AUTHENTICATE_ERROR,this.payload=te}}class v{constructor(te){this.type=t.AUTHENTICATE_SUCCESS,this.payload=te}}class E{constructor(){this.type=t.CHECK_AUTHENTICATION_TOKEN}}class y{constructor(){this.type=t.CHECK_AUTHENTICATION_TOKEN_COOKIE}}class M{constructor(te){this.type=t.SET_AUTH_COOKIE_STATUS,this.payload=!1,this.payload=te}}class b{constructor(te){this.payload=te,this.type=t.LOG_OUT}}class P{constructor(te){this.type=t.LOG_OUT_ERROR,this.payload=te}}class D{constructor(te){this.payload=te,this.type=t.LOG_OUT_SUCCESS}}class h{constructor(te){this.type=t.REDIRECT_TOKEN_EXPIRED,this.payload=te}}class S{constructor(te){this.type=t.REFRESH_TOKEN,this.payload=te}}class O{constructor(te){this.type=t.REFRESH_TOKEN_SUCCESS,this.payload=te}}class L{constructor(){this.type=t.REFRESH_TOKEN_ERROR}}class T{constructor(){this.type=t.RETRIEVE_TOKEN}}class x{constructor(te){this.type=t.ADD_MESSAGE,this.payload=te}}class N{constructor(){this.type=t.RESET_MESSAGES}}class j{constructor(te){this.type=t.RETRIEVE_AUTH_METHODS,this.payload=te}}class ${constructor(te){this.type=t.RETRIEVE_AUTH_METHODS_SUCCESS,this.payload=te}}class k{constructor(){this.type=t.RETRIEVE_AUTH_METHODS_ERROR}}class K{constructor(te){this.type=t.SET_REDIRECT_URL,this.payload=te}}class z{constructor(te){this.type=t.REDIRECT_AFTER_LOGIN_SUCCESS,this.payload=te}}class V{constructor(te){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON,this.payload=te}}class G{constructor(te){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS,this.payload=te}}class X{constructor(te){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON_ERROR,this.payload=te}}class Q{constructor(){this.type=t.SET_USER_AS_IDLE}}class ee{constructor(){this.type=t.UNSET_USER_AS_IDLE}}},94196:(B,C,n)=>{"use strict";n.d(C,{Ru:()=>ee,S0:()=>Q,kL:()=>ie,of:()=>te,uR:()=>he});var i=n(21626),t=n(59640),c=n(7673),e=n(5964),p=n(99172),m=n(96354),f=n(25558),v=n(96697),E=n(78544),y=n(89777),M=n(9847),b=n(34180),P=n(4600),D=n(58956),I=n(13817),h=n(87507),S=n(19252),O=n(4093),L=n(73409),T=n(5127),x=n(45124),N=n(95828),j=n(14700),$=n(34298),k=n(12321),K=n(54438),z=n(7901),V=n(67138),G=n(95488),X=n(68018);const Q="/login",ee="/logout",ie="dsRedirectUrl",te="dsImpersonatingEPerson";let he=(()=>{class ye{constructor(ce,Z,ne,fe,ae,oe,J,ve,_e,Ce){this._window=ce,this.authRequestService=Z,this.epersonService=ne,this.router=fe,this.routeService=ae,this.storage=oe,this.store=J,this.hardRedirectService=ve,this.notificationService=_e,this.translateService=Ce,this.store.pipe((0,e.p)(qe=>void 0!==qe?.core?.auth),(0,t.Lt)(k.wR),(0,p.Z)(!1)).subscribe(qe=>this._authenticated=qe)}authenticate(ce,Z){const ne=`password=${encodeURIComponent(Z)}&user=${encodeURIComponent(ce)}`,fe=Object.create({});let ae=new i.Lr;return ae=ae.append("Content-Type","application/x-www-form-urlencoded"),fe.headers=ae,this.authRequestService.postToEndpoint("login",ne,fe).pipe((0,m.T)(oe=>{if((0,y.a4)(oe.payload)&&oe.payload.authenticated)return oe.payload;throw new Error("auth.errors.invalid-user")}))}checkAuthenticationCookie(){const ce=Object.create({});let Z=new i.Lr;return Z=Z.append("Accept","application/json"),ce.headers=Z,ce.withCredentials=!0,this.authRequestService.getRequest("status",ce).pipe((0,m.T)(ne=>Object.assign(new j.T,ne.payload)))}isAuthenticated(){return this.store.pipe((0,t.Lt)(k.wR))}isAuthenticationLoaded(){return this.store.pipe((0,t.Lt)(k.TR))}setExternalAuthStatus(ce){this.store.dispatch(new x.mg(ce))}isExternalAuthentication(){return this.store.pipe((0,t.Lt)(k.qD))}authenticatedUser(ce){const Z=Object.create({});let ne=new i.Lr;return ne=ne.append("Accept","application/json"),ne=ne.append("Authorization",`Bearer ${ce.accessToken}`),Z.headers=ne,this.authRequestService.getRequest("status",Z).pipe((0,m.T)(fe=>{const ae=fe.payload;if((0,y.a4)(ae)&&ae.authenticated)return ae._links.eperson.href;throw new Error("Not authenticated")}))}retrieveAuthenticatedUserByHref(ce){return this.epersonService.findByHref(ce).pipe((0,O.Hz)())}retrieveAuthenticatedUserById(ce){return this.epersonService.findById(ce).pipe((0,O.Hz)())}getAuthenticatedUserFromStore(){return this.store.pipe((0,t.Lt)(k.At),(0,y.Az)(),(0,f.n)(ce=>this.epersonService.findById(ce)),(0,O.Hz)())}getAuthenticatedUserIdFromStore(){return this.store.pipe((0,t.Lt)(k.At))}getAuthenticatedUserFromStoreIfAuthenticated(){return this.store.pipe((0,t.Lt)(k.At),(0,f.n)(ce=>(0,y.a4)(ce)?this.epersonService.findById(ce).pipe((0,O.ak)()):(0,c.of)(null)))}checkAuthenticationToken(){this.store.dispatch(new x.S3)}getSpecialGroupsFromAuthStatus(){return this.authRequestService.getRequest("status",null,(0,P.s)("specialGroups")).pipe((0,O.qD)(),(0,f.n)(ce=>ce.hasSucceeded?ce.payload.specialGroups:(0,b.CX)((0,D.g)(new L.Q,[]))))}hasValidAuthenticationToken(){return this.store.pipe((0,t.Lt)(k.Y5),(0,v.s)(1),(0,m.T)(ce=>{const Z=(0,y.hj)(ce)?ce:this.storage.get($.R);if((0,y.hj)(Z)&&Z.hasOwnProperty("accessToken")&&(0,y.hj)(Z.accessToken)&&!this.isTokenExpired(Z))return Z;throw!1}))}refreshAuthenticationToken(ce){const Z=Object.create({});let ne=new i.Lr;return ne=ne.append("Accept","application/json"),ce&&ce.accessToken&&(ne=ne.append("Authorization",`Bearer ${ce.accessToken}`)),Z.headers=ne,Z.withCredentials=!0,this.authRequestService.postToEndpoint("login",{},Z).pipe((0,m.T)(fe=>{const ae=fe.payload;if((0,y.a4)(ae)&&ae.authenticated)return ae.token;throw new Error("Not authenticated")}))}resetAuthenticationError(){this.store.dispatch(new x.eh)}retrieveAuthMethodsFromAuthStatus(ce){let Z=[];return(0,y.hj)(ce.authMethods)&&(Z=ce.authMethods),(0,c.of)(Z)}logout(){let ce=new i.Lr;return ce=ce.append("Content-Type","application/x-www-form-urlencoded"),this.authRequestService.postToEndpoint("logout",Object.create({headers:ce,responseType:"text"})).pipe((0,m.T)(ne=>{const fe=ne.payload;if((0,y.a4)(fe)&&!fe.authenticated)return!0;throw new Error("auth.errors.invalid-user")}))}buildAuthHeader(ce){return(0,y.Im)(ce)&&(ce=this.getToken()),this._authenticated&&(0,y.Pe)(ce)?`Bearer ${ce.accessToken}`:""}getToken(){let ce;return this.store.pipe((0,v.s)(1),(0,t.Lt)(k.Y5)).subscribe(Z=>{ce=Z||null}),ce}trackTokenExpiration(){let ce,Z=!1;this.store.pipe((0,t.Lt)(k.Y5)).subscribe(ne=>{if(Z&&void 0!==ce&&void 0===ne&&(this.notificationService.error(this.translateService.get("auth.messages.token-refresh-failed")),setTimeout(()=>this.navigateToRedirectUrl(this.hardRedirectService.getCurrentRoute()),1e4),Z=!1),Z&&void 0!==ne&&ce.expires!==ne.expires&&(Z=!1),!Z&&(ce=ne||null,null!=ce)){let fe=ce.expires-(new Date).getTime()-E.c.auth.rest.timeLeftBeforeTokenRefresh;fe<0&&(fe=0),(0,y.a4)(this.tokenRefreshTimer)&&clearTimeout(this.tokenRefreshTimer),this.tokenRefreshTimer=setTimeout(()=>{this.store.dispatch(new x.dj(ce)),Z=!0},fe)}})}isTokenExpiring(){return this.store.pipe((0,t.Lt)(k.Pc),(0,v.s)(1),(0,m.T)(ce=>!this.isTokenExpired()&&!ce&&this.getToken().expires-3e5<Date.now()))}isTokenExpired(ce){return(ce=ce||this.getToken())&&ce.expires<Date.now()}storeToken(ce){const Z=Date.now()+864e5,fe={expires:new Date(Z)};return this.storage.set($.R,ce,fe)}removeToken(){return this.storage.remove($.R)}replaceToken(ce){return this.removeToken(),this.storeToken(ce)}redirectToLogin(){this.router.navigate([Q])}redirectToLoginWhenTokenExpired(){const ce=Q+"?expired=true";this._window.nativeWindow.location?this._window.nativeWindow.location.href=ce:this.router.navigateByUrl(ce)}navigateToRedirectUrl(ce){if(!(0,y.a4)(ce)||!ce.includes("reload/")){let Z=`reload/${(new Date).getTime()}`;(0,y.hj)(ce)&&!ce.startsWith(Q)&&(Z+=`?redirect=${encodeURIComponent(ce)}`),this.hardRedirectService.redirect(Z)}}refreshAfterLogout(){this.navigateToRedirectUrl(void 0)}getRedirectUrl(){return this.store.pipe((0,t.Lt)(k.M3),(0,m.T)(ce=>(0,y.a4)(ce)?ce:this.storage.get(ie)))}setRedirectUrl(ce){const Z=Date.now()+36e5,fe={expires:new Date(Z)};this.storage.set(ie,ce,fe),this.store.dispatch(new x.YO((0,y.EA)(ce)?ce:""))}setRedirectUrlIfNotSet(ce){this.getRedirectUrl().pipe((0,v.s)(1)).subscribe(Z=>{(0,y.Tn)(Z)&&this.setRedirectUrl(ce)})}getExternalServerRedirectUrl(ce,Z,ne){const fe=new T.t(ce,Z).toString();let ae=ne;const J=/\?redirectUrl=(.*)/g.exec(ne),ve=J&&J[1]?J[1]:null;return(0,y.Pe)(ve)&&ve!==fe&&(ae=ne.replace(/\?redirectUrl=(.*)/g,`?redirectUrl=${fe}`)),ae}clearRedirectUrl(){this.store.dispatch(new x.YO(void 0)),this.storage.remove(ie)}impersonate(ce){this.storage.set(te,ce),this.refreshAfterLogout()}stopImpersonating(){this.storage.remove(te)}stopImpersonatingAndRefresh(){this.stopImpersonating(),this.refreshAfterLogout()}getImpersonateID(){return this.storage.get(te)}isImpersonating(){return(0,y.a4)(this.getImpersonateID())}isImpersonatingUser(ce){return this.getImpersonateID()===ce}getShortlivedToken(){return this.isAuthenticated().pipe((0,f.n)(ce=>ce?this.authRequestService.getShortlivedToken():(0,c.of)(null)))}isUserIdle(){return this.store.pipe((0,t.Lt)(k.xB))}setIdle(ce){this.store.dispatch(ce?new x.es:new x.v1)}static{this.\u0275fac=function(Z){return new(Z||ye)(K.KVO(S.lc),K.KVO(N.H),K.KVO(I.EPersonDataService),K.KVO(z.Ix),K.KVO(h.v$),K.KVO(V.O),K.KVO(t.il),K.KVO(G.$),K.KVO(M.I),K.KVO(X.c$))}}static{this.\u0275prov=K.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}return ye})()},85643:(B,C,n)=>{"use strict";n.d(C,{t:()=>E});var i=n(54438),t=n(7901),c=n(59640),e=n(47677),p=n(25558),m=n(96354),f=n(94196),v=n(12321);const E=(M,b,P=(0,i.WQX)(f.uR),D=(0,i.WQX)(t.Ix),I=(0,i.WQX)(c.il))=>{const h=b.url;return I.pipe((0,c.Lt)(v.VV)).pipe((0,e.I)(S=>!1===S),(0,p.n)(()=>I.pipe((0,c.Lt)(v.wR))),(0,m.T)(S=>S||(P.setRedirectUrl(h),P.removeToken(),D.createUrlTree([f.S0]))))}},14700:(B,C,n)=>{"use strict";n.d(C,{T:()=>b});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(96283),m=n(70963),f=n(59922),v=n(44043),E=n(94152);const y=new v.v("status");var M=n(34298);let b=class{static{this.type=y}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],b.prototype,"id",void 0),(0,i.Cg)([E.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],b.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new p.a("auth-status"),"id"),(0,i.Sn)("design:type",String)],b.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],b.prototype,"okay",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],b.prototype,"authenticated",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],b.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",c.c)],b.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(f.U,!0),(0,i.Sn)("design:type",c.c)],b.prototype,"specialGroups",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",M.S)],b.prototype,"token",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],b.prototype,"error",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],b.prototype,"authMethods",void 0),b=(0,i.Cg)([e.gV],b)},34298:(B,C,n)=>{"use strict";function i(E){this.message=E}n.d(C,{S:()=>v,R:()=>f}),(i.prototype=new Error).name="InvalidCharacterError";var t=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(E){var y=String(E).replace(/=+$/,"");if(y.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var M,b,P=0,D=0,I="";b=y.charAt(D++);~b&&(M=P%4?64*M+b:b,P++%4)?I+=String.fromCharCode(255&M>>(-2*P&6)):0)b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b);return I};function e(E){this.message=E}(e.prototype=new Error).name="InvalidTokenError";const f="dsAuthInfo";class v{constructor(y){this.accessToken=y.replace("Bearer ","");try{const M=function p(E,y){if("string"!=typeof E)throw new e("Invalid token specified");var M=!0===(y=y||{}).header?0:1;try{return JSON.parse(function c(E){var y=E.replace(/-/g,"+").replace(/_/g,"/");switch(y.length%4){case 0:break;case 2:y+="==";break;case 3:y+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(t(y).replace(/(.)/g,function(b,P){var D=P.charCodeAt(0).toString(16).toUpperCase();return D.length<2&&(D="0"+D),"%"+D}))}catch{return t(y)}}(E.split(".")[M]))}catch(b){throw new e("Invalid token specified: "+b.message)}}(this.accessToken);this.expires=1e3*M.exp}catch{this.expires=0}}}},38196:(B,C,n)=>{"use strict";n.d(C,{Q:()=>i});var i=function(t){return t.Password="password",t.Shibboleth="shibboleth",t.Ldap="ldap",t.Ip="ip",t.X509="x509",t.Oidc="oidc",t.Orcid="orcid",t.Saml="saml",t}(i||{})},93635:(B,C,n)=>{"use strict";n.d(C,{q:()=>t});var i=n(38196);class t{constructor(e,p,m){switch(this.position=p,e){case"ip":this.authMethodType=i.Q.Ip;break;case"ldap":this.authMethodType=i.Q.Ldap;break;case"shibboleth":this.authMethodType=i.Q.Shibboleth,this.location=m;break;case"x509":this.authMethodType=i.Q.X509;break;case"password":this.authMethodType=i.Q.Password;break;case"oidc":this.authMethodType=i.Q.Oidc,this.location=m;break;case"orcid":this.authMethodType=i.Q.Orcid,this.location=m;break;case"saml":this.authMethodType=i.Q.Saml,this.location=m}}}},23536:(B,C,n)=>{"use strict";n.d(C,{o:()=>i});var i=function(t){return t.Orcid="ORCID",t.Validation="VALIDATION_",t}(i||{})},12321:(B,C,n)=>{"use strict";n.d(C,{At:()=>T,F8:()=>X,Gv:()=>z,H8:()=>x,M3:()=>ee,Pc:()=>V,TR:()=>$,VV:()=>K,Y5:()=>G,dx:()=>N,hx:()=>L,qD:()=>k,wR:()=>j,xB:()=>ie});var i=n(59640),t=n(30269);const c=(0,i.Mz)(t.N,te=>te.auth),L=(0,i.Mz)(c,te=>te.authMethods),T=(0,i.Mz)(c,te=>te.userId),x=(0,i.Mz)(c,te=>te.error),N=(0,i.Mz)(c,te=>te.info),j=(0,i.Mz)(c,te=>te.authenticated),$=(0,i.Mz)(c,te=>te.loaded),k=(0,i.Mz)(c,te=>te.externalAuth),K=(0,i.Mz)(c,te=>te.loading),z=(0,i.Mz)(c,te=>te.blocking),V=(0,i.Mz)(c,te=>te.refreshing),G=(0,i.Mz)(c,te=>te.authToken),X=(0,i.Mz)(c,te=>te.error),ee=((0,i.Mz)(c,te=>te.error),(0,i.Mz)(c,te=>te.redirectUrl)),ie=(0,i.Mz)(c,te=>te.idle)},43446:(B,C,n)=>{"use strict";n.d(C,{f:()=>p});var i=n(89777),t=n(61880),c=n(54438),e=n(68018);let p=(()=>{class m{constructor(v){this.translateService=v,this.factories={EPerson:E=>{const y=E.firstMetadataValue("eperson.firstname"),M=E.firstMetadataValue("eperson.lastname");return(0,i.Im)(y)&&(0,i.Im)(M)?this.translateService.instant("dso.name.unnamed"):(0,i.Im)(y)||(0,i.Im)(M)?y||M:`${y} ${M}`},Person:E=>{const y=E.firstMetadataValue("person.familyName"),M=E.firstMetadataValue("person.givenName");return(0,i.Im)(y)&&(0,i.Im)(M)?E.firstMetadataValue("dc.title")||this.translateService.instant("dso.name.unnamed"):(0,i.Im)(y)||(0,i.Im)(M)?y||M:`${y}, ${M}`},OrgUnit:E=>E.firstMetadataValue("organization.legalName")||this.translateService.instant("dso.name.untitled"),Default:E=>E.firstMetadataValue("dc.title")||E.name||this.translateService.instant("dso.name.untitled")}}getName(v){if(v){const y=v.getRenderTypes().filter(b=>"string"==typeof b).find(b=>Object.keys(this.factories).includes(b));let M;return(0,i.a4)(y)&&(M=this.factories[y](v)),(0,i.Im)(M)&&(M=this.factories.Default(v)),M}return""}getHitHighlights(v,E){const M=E.getRenderTypes().filter(b=>"string"==typeof b).find(b=>["Person","OrgUnit"].includes(b));if("Person"===M){const b=this.firstMetadataValue(v,E,"person.familyName"),P=this.firstMetadataValue(v,E,"person.givenName");return(0,i.Im)(b)&&(0,i.Im)(P)?this.firstMetadataValue(v,E,"dc.title")||E.name:(0,i.Im)(b)||(0,i.Im)(P)?b||P:`${b}, ${P}`}return"OrgUnit"===M?this.firstMetadataValue(v,E,"organization.legalName")||this.translateService.instant("dso.name.untitled"):this.firstMetadataValue(v,E,"dc.title")||E.name||this.translateService.instant("dso.name.untitled")}firstMetadataValue(v,E,y){return t.O.firstValue([v.hitHighlights,E.metadata],y)}static{this.\u0275fac=function(E){return new(E||m)(c.KVO(e.c$))}}static{this.\u0275prov=c.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},54009:(B,C,n)=>{"use strict";n.r(C),n.d(C,{BrowseDefinitionDataService:()=>h,createAndSendBrowseDefinitionGetRequest:()=>D});var i=n(7673),t=n(96697),c=n(89777),e=n(57775),p=n(10186),m=n(81948),f=n(88667),v=n(20881),E=n(60796),y=n(49755),M=n(3601),b=n(7094),P=n(54438);const D=(S,O,L,T=!0)=>{(0,c.hj)(L)&&("string"==typeof L&&(L=(0,i.of)(L)),L.pipe((0,c.VT)(),(0,t.s)(1)).subscribe(x=>{const N=S.generateRequestId(),j=new y.FQ(N,x);(0,c.a4)(O)&&(j.responseMsToLive=O),S.send(j,T)}))};class I extends f.H{createAndSendGetRequest(O,L=!0){D(this.requestService,this.responseMsToLive,O,L)}}let h=(()=>{class S extends v.W{constructor(L,T,x,N){super("browses",L,T,x,N),this.requestService=L,this.rdbService=T,this.objectCache=x,this.halService=N,this.searchData=new E.X(this.linkPath,L,T,x,N,this.responseMsToLive),this.findAllData=new I(this.linkPath,L,T,x,N,this.responseMsToLive)}findAll(L={},T=!0,x=!0,...N){return this.findAllData.findAll(L,T,x,...N)}searchBy(L,T,x,N,...j){return this.searchData.searchBy(L,T,x,N,...j)}getSearchByHref(L,T,...x){return this.searchData.getSearchByHref(L,T,...x)}findByFields(L,T=!0,x=!0,...N){const j=[];j.push(new p.x("fields",L));const $=this.getSearchByHref("byFields",{searchParams:j},...N);return this.findByHref($,T,x,...N)}createAndSendGetRequest(L,T=!0){D(this.requestService,this.responseMsToLive,L,T)}static{this.\u0275fac=function(T){return new(T||S)(P.KVO(M.B),P.KVO(e.o),P.KVO(m.$),P.KVO(b.Y))}}static{this.\u0275prov=P.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},57168:(B,C,n)=>{"use strict";n.d(C,{q:()=>I});var i=n(96354),t=n(99172),c=n(23294),e=n(78544),p=n(89777),m=n(4600),f=n(82245),v=n(3601),E=n(7094),y=n(4093),M=n(5127),b=n(54009),P=n(54438);function D(){const h=[(0,m.s)("thumbnail")];return e.c.item.showAccessStatuses&&h.push((0,m.s)("accessStatus")),h}let I=(()=>{class h{static toSearchKeyArray(O){const L=O.split("."),T=[];T.push("*");for(let x=0;x<L.length-1;x++){const j=[...L.slice(0,x+1),"*"].join(".");T.push(j)}return T.push(O),T}constructor(O,L,T,x){this.requestService=O,this.halService=L,this.browseDefinitionDataService=T,this.hrefOnlyDataService=x,this.linkPath="browses"}getBrowseDefinitions(){return this.browseDefinitionDataService.findAll({elementsPerPage:9999}).pipe((0,y.yd)())}getBrowseEntriesFor(O){const L=this.getBrowseDefinitions().pipe((0,y.Jq)(O.metadataDefinition),(0,p.Az)(),(0,i.T)(T=>T.entries.href||T.entries),(0,p.Az)(),(0,i.T)(T=>{const x=[];return(0,p.hj)(O.scope)&&x.push(`scope=${O.scope}`),(0,p.hj)(O.sort)&&x.push(`sort=${O.sort.field},${O.sort.direction}`),(0,p.hj)(O.pagination)&&(x.push("page="+(O.pagination.currentPage-1)),x.push(`size=${O.pagination.pageSize}`)),(0,p.hj)(O.startsWith)&&x.push(`startsWith=${O.startsWith}`),(0,p.hj)(x)&&(T=new M.t(T,`?${x.join("&")}`).toString()),T}));return O.fetchThumbnail?this.hrefOnlyDataService.findListByHref(L,{},void 0,void 0,...D()):this.hrefOnlyDataService.findListByHref(L)}getBrowseItemsFor(O,L,T){const x=this.getBrowseDefinitions().pipe((0,y.Jq)(T.metadataDefinition),(0,p.Az)(),(0,i.T)(N=>N.items.href||N.items),(0,p.Az)(),(0,i.T)(N=>{const j=[];return(0,p.hj)(T.scope)&&j.push(`scope=${T.scope}`),(0,p.hj)(T.sort)&&j.push(`sort=${T.sort.field},${T.sort.direction}`),(0,p.hj)(T.pagination)&&(j.push("page="+(T.pagination.currentPage-1)),j.push(`size=${T.pagination.pageSize}`)),(0,p.hj)(T.startsWith)&&j.push(`startsWith=${T.startsWith}`),(0,p.hj)(O)&&j.push(`filterValue=${encodeURIComponent(O)}`),(0,p.hj)(L)&&j.push(`filterAuthority=${encodeURIComponent(L)}`),(0,p.hj)(j)&&(N=new M.t(N,`?${j.join("&")}`).toString()),N}));return T.fetchThumbnail?this.hrefOnlyDataService.findListByHref(x,{},void 0,void 0,...D()):this.hrefOnlyDataService.findListByHref(x)}getFirstItemFor(O,L,T){const x=this.getBrowseDefinitions().pipe((0,y.Jq)(O),(0,p.Az)(),(0,i.T)(N=>N.items.href||N.items),(0,p.Az)(),(0,i.T)(N=>{const j=[];return(0,p.a4)(L)&&j.push(`scope=${L}`),j.push("page=0"),j.push("size=1"),T&&j.push("sort=default,"+T),(0,p.hj)(j)&&(N=new M.t(N,`?${j.join("&")}`).toString()),N}));return this.hrefOnlyDataService.findListByHref(x).pipe((0,y.yd)(),(0,y.GD)())}getPrevBrowseItems(O){return this.hrefOnlyDataService.findListByHref(O.payload.prev)}getNextBrowseItems(O){return this.hrefOnlyDataService.findListByHref(O.payload.next)}getPrevBrowseEntries(O){return this.hrefOnlyDataService.findListByHref(O.payload.prev)}getNextBrowseEntries(O){return this.hrefOnlyDataService.findListByHref(O.payload.next)}getBrowseURLFor(O,L){const T=h.toSearchKeyArray(O);return this.getBrowseDefinitions().pipe((0,y.Bo)(),(0,y.W8)(),(0,i.T)(x=>x.find(N=>{let j="";return Array.isArray(N.metadataKeys)&&(j=N.metadataKeys.find($=>T.indexOf($)>=0)),(0,p.hj)(j)})),(0,i.T)(x=>{if((0,p.Im)(x)||(0,p.Im)(x._links)||(0,p.Im)(x._links[L]))throw new Error(`A browse endpoint for ${L} on ${O} isn't configured`);return x._links[L]||x._links[L].href}),(0,t.Z)(void 0),(0,c.F)())}static{this.\u0275fac=function(L){return new(L||h)(P.KVO(v.B),P.KVO(E.Y),P.KVO(b.BrowseDefinitionDataService),P.KVO(f.HrefOnlyDataService))}}static{this.\u0275prov=P.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},72153:(B,C,n)=>{"use strict";n.d(C,{FR:()=>m,O3:()=>L,Qt:()=>P,gV:()=>b,nf:()=>S,o8:()=>T,qP:()=>p});var i=n(54438),t=n(89777),c=n(45451);new i.nKC("getDataServiceFor",{providedIn:"root",factory:()=>I});const p=new i.nKC("getLinkDefinition",{providedIn:"root",factory:()=>L}),m=new i.nKC("getLinkDefinitions",{providedIn:"root",factory:()=>O}),E=(Symbol("resolvedLink"),new Map),y=new Map,M=new Map;function b(x){E.set(x.type.value,x)}function P(x){return E.get((0,c.zA)(x))}function I(x){return y.get(x.value)}const S=(x,N=!1,j)=>($,k)=>{let K=M.get($.constructor);(0,t.Tn)(K)&&(K=new Map),(0,t.Tn)(j)&&(j=k),K.set(j,{resourceType:x,isList:N,linkName:j,propertyName:k}),M.set($.constructor,K)},O=x=>M.get(x),L=(x,N)=>{const j=M.get(x);if((0,t.a4)(j))return j.get(N)};function T(x){return N=>{const j=M.get(x)||new Map,$=M.get(N)||new Map;j.forEach((k,K)=>{$.has(K)||$.set(K,k)}),M.set(N,$)}}},8177:(B,C,n)=>{"use strict";n.d(C,{_:()=>E});var i=n(983),t=n(25558),c=n(99437),e=n(79096),p=n(89777),m=n(44583),f=n(72153),v=n(54438);let E=(()=>{class y{constructor(b,P,D,I){this.injector=b,this.map=P,this.getLinkDefinition=D,this.getLinkDefinitions=I}resolveLinks(b,...P){return P.forEach(D=>{this.resolveLink(b,D)}),b}resolveLinkWithoutAttaching(b,P){const D=this.getLinkDefinition(b.constructor,P.name);if((0,p.a4)(D))return(0,m.M)(this.map,D.resourceType.value,this.injector).pipe((0,t.n)(h=>{const S=b._links[D.linkName];if((0,p.a4)(S)){const O=S.href;try{return D.isList?h.findListByHref(O,P.findListOptions,P.useCachedVersionIfAvailable,P.reRequestOnStale,...P.linksToFollow):h.findByHref(O,P.useCachedVersionIfAvailable,P.reRequestOnStale,...P.linksToFollow)}catch(L){throw console.error(`Something went wrong when using ${D.resourceType.value}) ${(0,p.a4)(h)?"":"(undefined) "}to resolve link ${String(P.name)} at ${O}`),L}}return i.w}),(0,c.W)(h=>{throw new Error(`The @link() for ${String(P.name)} on ${b.constructor.name} models uses the resource type ${D.resourceType.value.toUpperCase()}, but there is no service with an @dataService(${D.resourceType.value.toUpperCase()}) annotation in order to retrieve it`)}));if(!P.isOptional)throw new Error(`followLink('${String(P.name)}') was used as a required link for a ${b.constructor.name}, but there is no property on ${b.constructor.name} models with an @link() for ${String(P.name)}`);return i.w}resolveLink(b,P){const I=this.getLinkDefinitions(b.constructor).get(P.name);return(0,p.hj)(I)?b[I.propertyName]=this.resolveLinkWithoutAttaching(b,P):b[P.name]=this.resolveLinkWithoutAttaching(b,P),b}removeResolvedLinks(b){const P=Object.assign(new b.constructor,b),D=this.getLinkDefinitions(b.constructor);return(0,p.hj)(D)&&D.forEach(I=>{P[I.propertyName]=void 0}),P}static{this.\u0275fac=function(P){return new(P||y)(v.KVO(v.zZn),v.KVO(e.l9),v.KVO(f.qP),v.KVO(f.FR))}}static{this.\u0275prov=v.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},57775:(B,C,n)=>{"use strict";n.d(C,{o:()=>K});var i=n(7673),t=n(84572),c=n(77876),e=n(25558),p=n(96354),m=n(99172),f=n(5964),v=n(23294),y=n(89777),M=n(34180),b=n(4600),P=n(58956),D=n(66946),I=n(25788),h=n(3601),S=n(85186),O=n(35331),L=n(4093),T=n(85426),x=n(45451),N=n(81948),j=n(72153),$=n(8177),k=n(54438);let K=(()=>{class z{constructor(G,X,Q){this.objectCache=G,this.linkService=X,this.requestService=Q}buildPayload(G,X,...Q){return(0,y.Tn)(X)&&(X=(0,i.of)(void 0)),(0,t.z)([X,G]).pipe((0,e.n)(([ee,ie])=>{const te=this.hasExactMatchInObjectCache(ee,ie);return(0,y.a4)(ie.response)&&(te||this.isCacheablePayload(ie)||this.isUnCacheablePayload(ie))?te?this.objectCache.getObjectByHref(ee):this.isCacheablePayload(ie)?this.objectCache.getObjectByHref(ie.response.payloadLink.href):[this.plainObjectToInstance(ie.response.unCacheableObject)]:(0,S.yO)(ie.state)?[null]:[void 0]}),(0,e.n)(ee=>{if((0,y.a4)(ee)){if((0,x.zA)(ee.type)===D.v.value)return this.buildPaginatedList(ee,...Q);if((0,y.hj)(Q))return[this.linkService.resolveLinks(ee,...Q)]}return[ee]}))}plainObjectToInstance(G){const X=(0,j.Qt)(G.type);return Object.assign("function"==typeof X?new X:{},G)}hasExactMatchInObjectCache(G,X){return(0,y.a4)(X)&&(0,y.a4)(X.request)&&(0,y.hj)(X.request.uuid)&&(0,y.a4)(G)&&this.objectCache.hasByHref(G,X.request.uuid)}isCacheablePayload(G){return(0,y.a4)(G.response.payloadLink)&&(0,y.hj)(G.response.payloadLink.href)}isUnCacheablePayload(G){return(0,y.a4)(G.response.unCacheableObject)}buildPaginatedList(G,...X){const Q=X.find(te=>"page"===te.name),ee=X.filter(te=>"page"!==te.name),ie=Object.assign(new P.O,G);if((0,y.a4)(Q)){if((0,y.Im)(ie.page)){const te=ie._links.page.map(he=>he.href);return this.objectCache.getList(te).pipe((0,p.T)(he=>(ie.page=he.map(ye=>this.plainObjectToInstance(ye)).map(ye=>this.linkService.resolveLinks(ye,...Q.linksToFollow)),(0,y.hj)(ee)?this.linkService.resolveLinks(ie,...ee):ie)))}if(ie.page=ie.page.filter(te=>null!=te).map(te=>this.plainObjectToInstance(te)).map(te=>this.linkService.resolveLinks(te,...Q.linksToFollow)),(0,y.hj)(ee))return(0,i.of)(this.linkService.resolveLinks(ie,...ee))}return(0,i.of)(ie)}buildFromRequestUUID(G,...X){"string"==typeof G&&(G=(0,i.of)(G));const Q=G.pipe((0,T.m9)(this.requestService)),ee=this.buildPayload(Q,void 0,...X);return this.toRemoteDataObservable(Q,ee)}buildFromRequestUUIDAndAwait(G,X,...Q){const ee=this.buildFromRequestUUID(G,...Q),ie=new c.h;return ee.pipe((0,L.qD)(),(0,e.n)(te=>te.hasSucceeded?X(te):[!0])).subscribe(()=>{ie.next(!0),ie.complete()}),ee.pipe((0,e.n)(te=>te.hasSucceeded?ie.pipe((0,p.T)(()=>te)):[te]))}buildFromHref(G,...X){"string"==typeof G&&(G=(0,i.of)(G));const Q=(G=G.pipe((0,p.T)(te=>(0,O.tJ)(te)))).pipe((0,e.n)(te=>this.objectCache.getRequestUUIDBySelfLink(te))),ee=(0,t.z)([G.pipe((0,T.Ky)(this.requestService),(0,m.Z)(void 0)),Q.pipe((0,T.m9)(this.requestService),(0,m.Z)(void 0))]).pipe((0,f.p)(([te,he])=>(0,y.a4)(te)||(0,y.a4)(he)),(0,p.T)(([te,he])=>(0,y.Tn)(he)?te:(0,y.Tn)(te)?he:(0,S.QO)(te.state)&&(0,S.QO)(he.state)||!(0,S.QO)(te.state)&&!(0,S.QO)(he.state)?te.lastUpdated>=he.lastUpdated?te:he:(0,S.QO)(he.state)?te:he)),ie=this.buildPayload(ee,G,...X);return this.toRemoteDataObservable(ee,ie).pipe(function E(z,V){return(0,v.F)((G,X)=>V?V(G[z],X[z]):G[z]===X[z])}("lastUpdated"))}buildSingle(G,...X){return this.buildFromHref(G,...X)}toRemoteDataObservable(G,X){return(0,t.z)([G,X]).pipe((0,f.p)(([Q,ee])=>(0,y.a4)(Q)&&!((0,S.yO)(Q.state)&&(0,y.b0)(ee))),(0,p.T)(([Q,ee])=>{let ie=Q.response;return(0,y.Tn)(ie)&&(ie={}),new I.j(ie.timeCompleted,Q.request.responseMsToLive,Q.lastUpdated,Q.state,ie.errorMessage,ee,ie.statusCode)}))}buildList(G,...X){return this.buildFromHref(G,(0,b.s)("page",{shouldEmbed:!1},...X))}aggregate(G){return(0,y.Im)(G)?(0,M.CX)([],(new Date).getTime()):(0,t.z)(G).pipe((0,p.T)(X=>{const Q=X.map(Z=>Z.timeCompleted).reduce((Z,ne)=>ne>Z?ne:Z),ee=X.map(Z=>Z.msToLive).reduce((Z,ne)=>ne<Z?ne:Z),ie=X.map(Z=>Z.lastUpdated).reduce((Z,ne)=>ne>Z?ne:Z);let te;te=X.some(Z=>Z.isRequestPending)?S.zE.RequestPending:X.some(Z=>Z.isResponsePending)?S.zE.ResponsePending:X.some(Z=>Z.isErrorStale)?S.zE.ErrorStale:X.some(Z=>Z.isError)?S.zE.Error:X.some(Z=>Z.isSuccessStale)?S.zE.SuccessStale:S.zE.Success;const he=X.map(Z=>Z.errorMessage).map((Z,ne)=>{if((0,y.a4)(Z))return`[${ne}]: ${Z}`}).filter(Z=>(0,y.a4)(Z)).join(", "),ye=new Set(X.map(Z=>Z.statusCode));let re;1===ye.size?re=ye.values().next().value:ye.size>1&&(re=207);const ce=X.map(Z=>Z.payload);return new I.j(Q,ee,ie,te,he,ce,re)}))}static{this.\u0275fac=function(X){return new(X||z)(k.KVO(N.$),k.KVO($._),k.KVO(h.B))}}static{this.\u0275prov=k.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},56538:(B,C,n)=>{"use strict";n.d(C,{I:()=>t});class i{}class t extends i{}},96283:(B,C,n)=>{"use strict";n.d(C,{a:()=>t});var i=n(89777);class t{constructor(e){this.prefix=e}Serialize(e){}Deserialize(e){return(0,i.a4)(e)?`${this.prefix}-${e}`:e}}},10186:(B,C,n)=>{"use strict";n.d(C,{x:()=>i});class i{constructor(c,e,p=!0){this.fieldName=c,this.fieldValue=e,this.encodeValue=p,p&&(this.fieldValue=encodeURIComponent(e))}}},70998:(B,C,n)=>{"use strict";n.d(C,{U:()=>i,z:()=>t});var i=function(c){return c.ASC="ASC",c.DESC="DESC",c}(i||{});class t{constructor(e,p){this.field=e,this.direction=p}}},1708:(B,C,n)=>{"use strict";n.d(C,{Bc:()=>v,YA:()=>c,Yp:()=>p,dL:()=>m,db:()=>t,gL:()=>f,ok:()=>E,sI:()=>e});var i=n(6800);const t={ADD:(0,i.N)("dspace/core/cache/object/ADD"),REMOVE:(0,i.N)("dspace/core/cache/object/REMOVE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/cache/object/RESET_TIMESTAMPS"),ADD_PATCH:(0,i.N)("dspace/core/cache/object/ADD_PATCH"),APPLY_PATCH:(0,i.N)("dspace/core/cache/object/APPLY_PATCH"),ADD_DEPENDENTS:(0,i.N)("dspace/core/cache/object/ADD_DEPENDENTS"),REMOVE_DEPENDENTS:(0,i.N)("dspace/core/cache/object/REMOVE_DEPENDENTS")};class c{constructor(M,b,P,D,I){this.type=t.ADD,this.payload={objectToCache:M,timeCompleted:b,msToLive:P,requestUUID:D,alternativeLink:I}}}class e{constructor(M){this.type=t.REMOVE,this.payload=M}}class p{constructor(M){this.type=t.RESET_TIMESTAMPS,this.payload=M}}class m{constructor(M,b){this.type=t.ADD_PATCH,this.payload={href:M,operations:b}}}class f{constructor(M){this.type=t.APPLY_PATCH,this.payload=M}}class v{constructor(M,b){this.type=t.ADD_DEPENDENTS,this.payload={href:M,dependentRequestUUIDs:b}}}class E{constructor(M){this.type=t.REMOVE_DEPENDENTS,this.payload=M}}},45451:(B,C,n)=>{"use strict";n.d(C,{gT:()=>f,zA:()=>e});var i=n(93583),t=n(89777),c=n(1708);const e=I=>{if((0,t.a4)(I)){if("string"==typeof I)return I;if("string"==typeof I.value)return I.value}},m=Object.create(null);function f(I=m,h){switch(h.type){case c.db.ADD:return function v(I,h){const S=(0,t.a4)(h.payload.objectToCache?._links?.self)?h.payload.objectToCache._links.self.href:h.payload.alternativeLink,O=I[S]||{},L=(0,t.a4)(h.payload.alternativeLink)?[h.payload.alternativeLink]:[];return(0,t.a4)(S)?Object.assign({},I,{[S]:{data:h.payload.objectToCache,timeCompleted:h.payload.timeCompleted,msToLive:h.payload.msToLive,requestUUIDs:[h.payload.requestUUID,...O.requestUUIDs||[]],dependentRequestUUIDs:O.dependentRequestUUIDs||[],isDirty:(0,t.hj)(O.patches),patches:O.patches||[],alternativeLinks:[...O.alternativeLinks||[],...L]}}):I}(I,h);case c.db.REMOVE:return function E(I,h){if((0,t.a4)(I[h.payload])){const S=Object.assign({},I);return delete S[h.payload],S}return I}(I,h);case c.db.RESET_TIMESTAMPS:return function y(I,h){const S=Object.create(null);return Object.keys(I).forEach(O=>{S[O]=Object.assign({},I[O],{timeCompleted:h.payload})}),S}(I,h);case c.db.ADD_PATCH:return function M(I,h){const S=h.payload.href,O=h.payload.operations,L=Object.assign({},I);return(0,t.a4)(L[S])&&(L[S]=Object.assign({},L[S],{patches:[...L[S].patches,{operations:O}],isDirty:!0})),L}(I,h);case c.db.APPLY_PATCH:return function b(I,h){const S=h.payload,O=Object.assign({},I);if((0,t.a4)(O[S])){const L=[].concat(...O[S].patches.map(x=>x.operations)),T=(0,i.X6)(O[S].data,L,void 0,!1);O[S]=Object.assign({},O[S],{data:T.newDocument,patches:[]})}return O}(I,h);case c.db.ADD_DEPENDENTS:return function P(I,h){const S=h.payload.href,O=Object.assign({},I);return(0,t.a4)(O[S])&&(O[S]=Object.assign({},O[S],{dependentRequestUUIDs:[...new Set([...O[S]?.dependentRequestUUIDs||[],...h.payload.dependentRequestUUIDs])]})),O}(I,h);case c.db.REMOVE_DEPENDENTS:return function D(I,h){const S=h.payload,O=Object.assign({},I);return(0,t.a4)(O[S])&&(O[S]=Object.assign({},O[S],{dependentRequestUUIDs:[]})),O}(I,h);default:return I}}},81948:(B,C,n)=>{"use strict";n.d(C,{$:()=>$});var i=n(59640),t=n(93583),c=n(84572),e=n(7673),p=n(96354),m=n(96697),f=n(73028),v=n(5964),E=n(25558),y=n(23294),M=n(89777),b=n(30269),P=n(51801),D=n(77274),I=n(35331),h=n(25056),S=n(72153),O=n(8177),L=n(1708),T=n(36482),x=n(54438);const N=(0,i.Mz)(b.N,k=>k["cache/object"]);let $=(()=>{class k{constructor(z,V){this.store=z,this.linkService=V}add(z,V,G,X){(0,M.a4)(z)&&(z=this.linkService.removeResolvedLinks(z)),this.store.dispatch(new L.YA(z,(new Date).getTime(),V,G,X))}remove(z){this.removeRelatedLinksFromIndex(z),this.store.dispatch(new L.sI(z))}removeRelatedLinksFromIndex(z){const V=this.getByHref(z),G=V.pipe((0,p.T)(Q=>Q.alternativeLinks),(0,m.s)(1)),X=V.pipe((0,p.T)(Q=>Object.entries(Q.data._links).filter(([ee,ie])=>"self"!==ee).map(([ee,ie])=>ie.href)),(0,m.s)(1));this.removeLinksFromAlternativeLinkIndex(G),this.removeLinksFromAlternativeLinkIndex(X)}removeLinksFromAlternativeLinkIndex(z){z.subscribe(V=>V.forEach(G=>{this.store.dispatch(new D.NL(h.U.ALTERNATIVE_OBJECT_LINK,G))}))}getObjectByUUID(z){return this.store.pipe((0,i.Lt)((0,I.vH)(z)),(0,f.Z)(V=>this.getObjectByHref(V)))}getObjectByHref(z){return this.getByHref(z).pipe((0,p.T)(V=>{if((0,M.hj)(V.patches)){const G=[].concat(...V.patches.map(Q=>Q.operations)),X=(0,t.X6)(V.data,G,void 0,!1).newDocument;return Object.assign({},V,{data:X})}return V}),(0,p.T)(V=>{if((0,M.a4)(V.data)){const G=(0,S.Qt)(V.data.type);if("function"!=typeof G)throw new Error(`${G} is not a valid constructor for ${JSON.stringify(V.data)}`);return Object.assign(new G,V.data)}return null}))}getByHref(z){return(0,c.z)([this.getByAlternativeLink(z),this.getBySelfLink(z)]).pipe((0,p.T)(V=>V.find(G=>(0,M.a4)(G))),(0,v.p)(V=>(0,M.a4)(V)))}getBySelfLink(z){return this.store.pipe((0,i.Lt)((k=>(0,i.Mz)(N,K=>K[k]))(z)))}getByAlternativeLink(z){return this.store.pipe((0,i.Lt)((0,I.Fn)(z)),(0,E.n)(V=>this.getBySelfLink(V)))}getRequestUUIDBySelfLink(z){return this.getByHref(z).pipe((0,p.T)(V=>V.requestUUIDs[0]),(0,y.F)())}getRequestUUIDByObjectUUID(z){return this.store.pipe((0,i.Lt)((0,I.vH)(z)),(0,f.Z)(V=>this.getRequestUUIDBySelfLink(V)))}getList(z){return(0,M.Im)(z)?(0,e.of)([]):(0,c.z)(z.map(V=>this.getObjectByHref(V)))}hasByUUID(z){let V=!1;return this.store.pipe((0,i.Lt)((0,I.vH)(z)),(0,m.s)(1)).subscribe(G=>V=this.hasByHref(G)),V}hasByHref(z,V){let G=!1;return this.getByHref(z).subscribe(X=>{G=!(0,M.hj)(V)||X.requestUUIDs.includes(V)}).unsubscribe(),G}hasByHref$(z){return(0,c.z)(this.getBySelfLink(z),this.getByAlternativeLink(z)).pipe((0,p.T)(V=>V.some(G=>(0,M.a4)(G))))}addPatch(z,V){this.store.dispatch(new L.dL(z,V)),this.store.dispatch(new T.Fs(z,P.D.PATCH))}isDirty(z){return(0,M.hj)(z.patches)}applyPatchesToCachedObject(z){this.store.dispatch(new L.gL(z))}addDependency(z,V){(0,M.Tn)(z)||(0,M.Tn)(V)||("string"==typeof z&&(z=(0,e.of)(z)),"string"==typeof V&&(V=(0,e.of)(V)),(0,c.z)([z,V.pipe((0,E.n)(G=>this.resolveSelfLink(G)))]).pipe((0,E.n)(([G,X])=>{const Q=(0,e.of)(X);return(0,c.z)([Q,Q.pipe((0,E.n)(ee=>this.getBySelfLink(ee)),(0,p.T)(ee=>ee?.dependentRequestUUIDs||[])),this.getByHref(G).pipe((0,p.T)(ee=>ee?.requestUUIDs?.[0]))])}),(0,m.s)(1)).subscribe(([G,X,Q])=>{(0,M.a4)(G)&&(0,M.a4)(Q)&&!X.includes(Q)&&this.store.dispatch(new L.Bc(G,[Q]))}))}removeDependents(z){this.resolveSelfLink(z).pipe((0,m.s)(1)).subscribe(V=>{(0,M.a4)(V)&&this.store.dispatch(new L.ok(V))})}resolveSelfLink(z){return this.getBySelfLink(z).pipe((0,E.n)(V=>(0,M.hj)(V)?[z]:this.store.pipe((0,i.Lt)((0,I.Fn)(z)))))}static{this.\u0275fac=function(V){return new(V||k)(x.KVO(i.il),x.KVO(O._))}}static{this.\u0275prov=x.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})()},76456:(B,C,n)=>{"use strict";n.d(C,{Ku:()=>i,_p:()=>m,bM:()=>c,hT:()=>t});class i{constructor(I,h,S){this.isSuccessful=I,this.statusCode=h,this.statusText=S,this.toCache=!0}}class t extends i{constructor(I,h,S){super(!0,I,`${I}`),this.link=h,this.unCacheableObject=S}}class c extends i{constructor(I,h,S,O){super(!0,h,S),this.resourceSelfLinks=I,this.statusCode=h,this.statusText=S,this.pageInfo=O}}class m extends i{constructor(I){super(!1,I.statusCode,I.statusText),console.error(I),this.errorMessage=I.message}}},36482:(B,C,n)=>{"use strict";n.d(C,{Fs:()=>c,G9:()=>t,a0:()=>p,eR:()=>e});var i=n(6800);const t={ADD:(0,i.N)("dspace/core/cache/syncbuffer/ADD"),COMMIT:(0,i.N)("dspace/core/cache/syncbuffer/COMMIT"),EMPTY:(0,i.N)("dspace/core/cache/syncbuffer/EMPTY")};class c{constructor(f,v){this.type=t.ADD,this.payload={href:f,method:v}}}class e{constructor(f){this.type=t.COMMIT,this.payload=f}}class p{constructor(f){this.type=t.EMPTY,this.payload=f}}},85500:(B,C,n)=>{"use strict";n.d(C,{P:()=>f});var i=n(96354),t=n(94925),c=n(11873),e=n(6170),p=n(4093),m=n(54438);let f=(()=>{class v{constructor(y,M){this.configService=y,this.authorizationService=M,this._inboxRelationLink="http://www.w3.org/ns/ldp#inbox"}isCoarConfigEnabled(){return this.authorizationService.isAuthorized(e._.CoarNotifyEnabled)}getCoarLdnLocalInboxUrls(){return this.configService.findByPropertyName("ldn.notify.inbox").pipe((0,p.qD)(),(0,i.T)(y=>y.hasSucceeded?y.payload.values:[]))}getInboxRelationLink(){return this._inboxRelationLink}static{this.\u0275fac=function(M){return new(M||v)(m.KVO(t.ConfigurationDataService),m.KVO(c.AuthorizationDataService))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},29706:(B,C,n)=>{"use strict";n.d(C,{X:()=>f});var i=n(31635),t=n(74850),c=n(72153),e=n(58956),p=n(80541),m=n(2523);let f=class extends p.G{static{this.type=m.gf}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"isDefault",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",e.O)],f.prototype,"sections",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(p.G)],f)},52711:(B,C,n)=>{"use strict";n.d(C,{M:()=>m});var i=n(31635),t=n(74850),c=n(72153),e=n(29706),p=n(2523);let m=class extends e.X{static{this.type=p.Nm}};m=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(e.X)],m)},4341:(B,C,n)=>{"use strict";n.d(C,{E:()=>m});var i=n(31635),t=n(74850),c=n(72153),e=n(80541),p=n(2523);let m=class extends e.G{static{this.type=p.vH}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],m.prototype,"rows",void 0),m=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(e.G)],m)},75534:(B,C,n)=>{"use strict";n.d(C,{f:()=>m});var i=n(31635),t=n(74850),c=n(72153),e=n(4341),p=n(2523);let m=class extends e.E{static{this.type=p.KX}};m=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(e.E)],m)},2523:(B,C,n)=>{"use strict";n.d(C,{KX:()=>p,Lq:()=>m,NS:()=>y,Nm:()=>t,V_:()=>v,WJ:()=>f,XI:()=>M,gf:()=>c,mU:()=>E,vH:()=>e});var i=n(44043);const t=new i.v("submissiondefinitions"),c=new i.v("submissiondefinition"),e=new i.v("submissionform"),p=new i.v("submissionforms"),m=new i.v("submissionsections"),f=new i.v("submissionsection"),v=new i.v("submissionuploads"),E=new i.v("submissionupload"),y=new i.v("submissionaccessoption"),M=new i.v("bulkaccessconditionoption")},80541:(B,C,n)=>{"use strict";n.d(C,{G:()=>p});var i=n(31635),t=n(74850),c=n(44043),e=n(94152);class p{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"name",void 0),(0,i.Cg)([e.aK,t.autoserialize,(0,i.Sn)("design:type",c.v)],p.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],p.prototype,"_links",void 0)},30269:(B,C,n)=>{"use strict";n.d(C,{N:()=>t});const t=(0,n(59640).UX)("core")},84202:(B,C,n)=>{"use strict";n.d(C,{aE:()=>E});var i=n(78544),t=n(89777),c=n(72153),e=n(60428),p=n(73409),m=n(58956);function f(y){return(0,t.hj)(y._links)&&(0,t.a4)(y._links.self)}function v(y){return(0,t.a4)(y.page)&&(0,t.a4)(y.page.size)&&(0,t.a4)(y.page.totalElements)&&(0,t.a4)(y.page.totalPages)&&(0,t.a4)(y.page.number)}class E{constructor(){this.shouldDirectlyAttachEmbeds=!1,this.serializerConstructor=e.T}process(M,b,P){if((0,t.hj)(M)){if((0,t.Tn)(M)||"object"!=typeof M)return M;if(v(M))return this.processPaginatedList(M,b);if(Array.isArray(M))return this.processArray(M,b);if(f(M)){const I=this.deserialize(M);return(0,t.hj)(M._embedded)&&Object.keys(M._embedded).filter(h=>M._embedded.hasOwnProperty(h)).forEach(h=>{const S=this.process(M._embedded[h],b,M._links[h].href);(0,t.a4)(I)&&this.shouldDirectlyAttachEmbeds&&(0,t.hj)(S)&&(v(M._embedded[h])?(I[h]=S,I[h].page=S.page.map(O=>this.retrieveObjectOrUrl(O))):f(M._embedded[h])?I[h]=this.retrieveObjectOrUrl(S):Array.isArray(S)&&(I[h]=S.map(O=>this.retrieveObjectOrUrl(O))))}),this.cache(I,b,M,P),I}const D={};return Object.keys(M).filter(I=>M.hasOwnProperty(I)).filter(I=>(0,t.a4)(M[I])).forEach(I=>{D[I]=this.process(M[I],b)}),D}}processPaginatedList(M,b){const P=this.processPageInfo(M);let D=M._embedded;(0,t.Tn)(D)?D=[]:Array.isArray(D)||(D=this.flattenSingleKeyObject(D));const I=this.processArray(D,b);return(0,m.g)(P,I)}processArray(M,b){let P=[];return M.forEach(D=>{P=[...P,this.process(D,b)]}),P}deserialize(M){const b=M.type;if((0,t.a4)(b)){const P=(0,c.Qt)(b);return(0,t.a4)(P)?new this.serializerConstructor(P).deserialize(M):(console.warn("cannot deserialize type "+b),null)}return console.warn("cannot deserialize type "+b),null}cache(M,b,P,D){this.toCache&&this.addToObjectCache(M,b,P,D)}addToObjectCache(M,b,P,D){if((0,t.Tn)(M)||(0,t.Tn)(M._links)||(0,t.Tn)(M._links.self)||(0,t.Tn)(M._links.self.href)){const I=(0,t.a4)(P)&&(0,t.a4)(P.type)?P.type:"object";let h;return h=(0,t.a4)(P._embedded)?JSON.stringify(Object.assign({},P,{_embedded:"..."})):JSON.stringify(P),void console.warn(`Can't cache incomplete ${I}: ${JSON.stringify(M)}, parsed from (partial) response: ${h}`)}this.objectCache.add(M,(0,t.a4)(b.responseMsToLive)?b.responseMsToLive:i.c.cache.msToLive.default,b.uuid,D)}processPageInfo(M){if((0,t.a4)(M.page)){const b=Object.assign({},M.page,{_links:M._links}),P=new e.T(p.Q).deserialize(b);return P.currentPage>=0&&Object.assign(P,{currentPage:P.currentPage+1}),P}}flattenSingleKeyObject(M){const b=Object.keys(M);if(1!==b.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(M)}`);return M[b[0]]}retrieveObjectOrUrl(M){return this.toCache?M._links.self.href:M}isSuccessStatus(M){return M>=200&&M<300}}},90066:(B,C,n)=>{"use strict";n.d(C,{L:()=>O});var i=n(7673),t=n(44668),c=n(77876),e=n(22806),p=n(88141),m=n(96697),f=n(96354),v=n(28492),E=n(25558),y=n(73028),M=n(56594),b=n(89777),P=n(72153),D=n(4093),I=n(5127),h=n(49755);class O{constructor(T,x,N,j,$,k){this.linkPath=T,this.requestService=x,this.rdbService=N,this.objectCache=j,this.halService=$,this.responseMsToLive=k}getBrowseEndpoint(T={},x){return this.getEndpoint()}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}buildHrefFromFindOptions(T,x,N=[],...j){let $=[...N];return(0,b.a4)(x.currentPage)&&"number"==typeof x.currentPage&&($=this.addHrefArg(T,$,"page="+(x.currentPage-1))),(0,b.a4)(x.elementsPerPage)&&($=this.addHrefArg(T,$,`size=${x.elementsPerPage}`)),(0,b.a4)(x.sort)&&($=this.addHrefArg(T,$,`sort=${x.sort.field},${x.sort.direction}`)),(0,b.a4)(x.startsWith)&&($=this.addHrefArg(T,$,`startsWith=${x.startsWith}`)),(0,b.a4)(x.searchParams)&&x.searchParams.forEach(k=>{$=this.addHrefArg(T,$,`${k.fieldName}=${k.fieldValue}`)}),$=this.addEmbedParams(T,$,...j),(0,b.hj)($)?new I.t(T,`?${$.join("&")}`).toString():T}buildHrefWithParams(T,x,...N){let j=[];return(0,b.a4)(x)&&x.forEach($=>{j=this.addHrefArg(T,j,`${$.fieldName}=${$.fieldValue}`)}),j=this.addEmbedParams(T,j,...N),(0,b.hj)(j)?new I.t(T,`?${j.join("&")}`).toString():T}addEmbedParams(T,x,...N){return N.forEach(j=>{if((0,b.a4)(j)&&j.shouldEmbed){const $="embed="+String(j.name);(0,b.a4)(j.findListOptions)&&(0,b.a4)(j.findListOptions.elementsPerPage)&&(x=this.addHrefArg(T,x,"embed.size="+String(j.name)+"="+j.findListOptions.elementsPerPage)),x=(0,b.hj)(j.linksToFollow)?this.addNestedEmbeds($,T,x,...j.linksToFollow):this.addHrefArg(T,x,$)}}),x}addHrefArg(T,x,N){return T.includes(N)||x.includes(N)?[...x]:[...x,N]}addNestedEmbeds(T,x,N,...j){let $=T;return j.forEach(k=>{if((0,b.a4)(k)&&k.shouldEmbed){if($=$+"%2F"+String(k.name),(0,b.a4)(k.findListOptions)&&(0,b.a4)(k.findListOptions.elementsPerPage)){const K="embed.size="+$.split("=")[1]+"="+k.findListOptions.elementsPerPage;N=this.addHrefArg(x,N,K)}N=(0,b.a4)(k.linksToFollow)&&(0,b.hj)(k.linksToFollow)?this.addNestedEmbeds($,x,N,...k.linksToFollow):this.addHrefArg(x,N,$)}}),N}reRequestStaleRemoteData(T,x){return N=>!0===T?N.pipe((0,p.M)(j=>{(0,b.a4)(j)&&j.isStale&&x()})):N}findByHref(T,x=!0,N=!0,...j){"string"==typeof T&&(T=(0,i.of)(T));const $=T.pipe((0,b.VT)(),(0,m.s)(1),(0,f.T)(z=>this.buildHrefFromFindOptions(z,{},[],...j)),(0,t.t)({bufferSize:1,refCount:!0})),k=(new Date).getTime();this.createAndSendGetRequest($,x);const K=this.rdbService.buildSingle($,...j).pipe((0,v.j)(z=>z.isStale||!x&&z.lastUpdated<k),this.reRequestStaleRemoteData(N,()=>this.findByHref(T,x,N,...j)));return K.pipe((0,p.M)(z=>{if((0,b.a4)(z?.payload?._links))for(const V of Object.keys(z.payload._links)){const G=(0,P.O3)(z.payload.constructor,V);if(G?.propertyName&&(0,b.a4)(z.payload[G.propertyName])&&"self"!==V){const X=[].concat(z.payload._links[V]);for(const Q of X)(0,b.a4)(Q?.href)&&this.addDependency(K,Q.href)}}}))}findListByHref(T,x={},N=!0,j=!0,...$){"string"==typeof T&&(T=(0,i.of)(T));const k=T.pipe((0,b.VT)(),(0,m.s)(1),(0,f.T)(V=>this.buildHrefFromFindOptions(V,x,[],...$)),(0,t.t)({bufferSize:1,refCount:!0})),K=(new Date).getTime();this.createAndSendGetRequest(k,N);const z=this.rdbService.buildList(k,...$).pipe((0,v.j)(V=>V.isStale||!N&&V.lastUpdated<K),this.reRequestStaleRemoteData(j,()=>this.findListByHref(T,x,N,j,...$)));return z.pipe((0,p.M)(V=>{if((0,b.a4)(V?.payload?.page))for(const G of V.payload.page)if((0,b.a4)(G?._links))for(const X of Object.keys(G._links)){const Q=(0,P.O3)(G.constructor,X);if(Q?.propertyName&&"self"!==X&&(0,b.a4)(G[Q.propertyName])){const ee=[].concat(G._links[X]);for(const ie of ee)(0,b.a4)(ie?.href)&&this.addDependency(z,ie.href)}}}))}createAndSendGetRequest(T,x=!0){(0,b.hj)(T)&&("string"==typeof T&&(T=(0,i.of)(T)),T.pipe((0,b.VT)(),(0,m.s)(1)).subscribe(N=>{const j=this.requestService.generateRequestId(),$=new h.IP(j,N);(0,b.a4)(this.responseMsToLive)&&($.responseMsToLive=this.responseMsToLive),this.requestService.send($,x)}))}hasCachedResponse(T){if((0,b.hj)(T))return"string"==typeof T&&(T=(0,i.of)(T)),T.pipe((0,b.VT)(),(0,m.s)(1),(0,f.T)(x=>{const N=this.requestService.generateRequestId(),j=new h.IP(N,x);return!this.requestService.shouldDispatchRequest(j,!0)}));throw new Error("Can't check whether there is a cached response for an empty href$")}hasCachedErrorResponse(T){return this.hasCachedResponse(T).pipe((0,E.n)(x=>x?this.rdbService.buildSingle(T).pipe((0,D.qD)(),(0,f.T)(N=>N.hasFailed)):(0,i.of)(!1)))}getLinkPath(){return this.linkPath}addDependency(T,x){this.objectCache.addDependency(T.pipe((0,D.qD)(),(0,E.n)(N=>N.hasSucceeded?[N.payload._links.self.href]:[void 0])),x)}invalidateByHref(T){const x=new c.h;return this.objectCache.getByHref(T).pipe((0,m.s)(1),(0,E.n)(N=>(0,e.H)([...N.requestUUIDs,...N.dependentRequestUUIDs]).pipe((0,y.Z)(j=>this.requestService.setStaleByUUID(j)),(0,M.$)()))).subscribe(()=>{this.objectCache.removeDependents(T),x.next(!0),x.complete()}),x}}},18328:(B,C,n)=>{"use strict";n.d(C,{V:()=>M});var i=n(23294),t=n(96354),c=n(96697),e=n(77048),p=n(89777),m=n(74745),f=n(72153),v=n(60428),E=n(49755),y=n(90066);class M extends y.L{constructor(P,D,I,h,S,O,L){super(P,D,I,h,S,L),this.linkPath=P,this.requestService=D,this.rdbService=I,this.objectCache=h,this.halService=S,this.notificationsService=O,this.responseMsToLive=L}create(P,...D){const I=this.getEndpoint().pipe((0,p.VT)(),(0,i.F)(),(0,t.T)(h=>this.buildHrefWithParams(h,D)));return this.createOnEndpoint(P,I)}createOnEndpoint(P,D){const I=this.requestService.generateRequestId(),h=new v.T((0,f.Qt)(P.type)).serialize(P);D.pipe((0,c.s)(1)).subscribe(O=>{const L=new E.QU(I,O,JSON.stringify(h));(0,p.a4)(this.responseMsToLive)&&(L.responseMsToLive=this.responseMsToLive),this.requestService.send(L)});const S=this.rdbService.buildFromRequestUUID(I);return S.pipe((0,e.v)(O=>O.isLoading,!0)).subscribe(O=>{O.hasFailed&&this.notificationsService.error("Server Error:",O.errorMessage,new m.y(-1))}),S}}},72073:(B,C,n)=>{"use strict";n.d(C,{I:()=>p});var i=n(25558),t=n(89777),c=n(49755),e=n(20881);class p extends e.W{constructor(f,v,E,y,M,b,P,D){if(super(f,v,E,y,M,P,D),this.linkPath=f,this.requestService=v,this.rdbService=E,this.objectCache=y,this.halService=M,this.notificationsService=b,this.responseMsToLive=P,this.constructIdEndpoint=D,(0,t.Tn)(D))throw new Error(`DeleteDataImpl initialized without a constructIdEndpoint method (linkPath: ${f})`)}delete(f,v){return this.getIDHrefObs(f).pipe((0,i.n)(E=>this.deleteByHref(E,v)))}deleteByHref(f,v){const E=this.requestService.generateRequestId();let y=f;v&&v.forEach(b=>y+=(y.includes("?")?"&":"?")+"copyVirtualMetadata="+b);const M=new c.$(E,y);return(0,t.a4)(this.responseMsToLive)&&(M.responseMsToLive=this.responseMsToLive),this.requestService.send(M),this.rdbService.buildFromRequestUUIDAndAwait(E,()=>this.invalidateByHref(f))}}},88667:(B,C,n)=>{"use strict";n.d(C,{H:()=>m});var i=n(5964),t=n(96354),c=n(23294),e=n(89777),p=n(90066);class m extends p.L{constructor(v,E,y,M,b,P){super(v,E,y,M,b,P),this.linkPath=v,this.requestService=E,this.rdbService=y,this.objectCache=M,this.halService=b,this.responseMsToLive=P}findAll(v={},E=!0,y=!0,...M){return this.findListByHref(this.getFindAllHref(v),v,E,y,...M)}getFindAllHref(v={},E,...y){const M=[];return this.getBrowseEndpoint(v).pipe((0,i.p)(P=>(0,e.hj)(P)),(0,t.T)(P=>(0,e.hj)(E)?`${P}/${E}`:P),(0,c.F)()).pipe((0,t.T)(P=>this.buildHrefFromFindOptions(P,v,M,...y)))}}},20881:(B,C,n)=>{"use strict";n.d(C,{W:()=>m});var i=n(96354),t=n(96697),c=n(25558),e=n(90066);const p=(f,v)=>`${f}/${v}`;class m extends e.L{constructor(v,E,y,M,b,P,D=p){super(v,E,y,M,b,P),this.linkPath=v,this.requestService=E,this.rdbService=y,this.objectCache=M,this.halService=b,this.responseMsToLive=P,this.constructIdEndpoint=D}findById(v,E=!0,y=!0,...M){const b=this.getIDHrefObs(encodeURIComponent(v),...M);return this.findByHref(b,E,y,...M)}getIDHref(v,E,...y){return this.buildHrefFromFindOptions(this.constructIdEndpoint(v,E),{},[],...y)}getIDHrefObs(v,...E){return this.getEndpoint().pipe((0,i.T)(y=>this.getIDHref(y,v,...E)))}invalidateById(v){const E=this.getIDHrefObs(v).pipe((0,t.s)(1),(0,c.n)(y=>this.invalidateByHref(y)));return E.subscribe(),E}}},4318:(B,C,n)=>{"use strict";n.d(C,{n:()=>v});var i=n(96354),t=n(47677),c=n(73028),e=n(89777),p=n(4093),m=n(49755),f=n(20881);class v extends f.W{constructor(y,M,b,P,D,I,h,S){if(super(y,M,b,P,D,h,S),this.linkPath=y,this.requestService=M,this.rdbService=b,this.objectCache=P,this.halService=D,this.comparator=I,this.responseMsToLive=h,this.constructIdEndpoint=S,(0,e.Tn)(S))throw new Error(`PatchDataImpl initialized without a constructIdEndpoint method (linkPath: ${y})`)}patch(y,M){const b=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)(D=>this.getIDHref(D,y.uuid))).pipe((0,t.I)(D=>(0,e.a4)(D))).subscribe(D=>{const I=new m.EA(b,D,M);(0,e.a4)(this.responseMsToLive)&&(I.responseMsToLive=this.responseMsToLive),this.requestService.send(I)}),this.rdbService.buildFromRequestUUIDAndAwait(b,()=>this.invalidateByHref(y._links.self.href))}update(y){return this.createPatchFromCache(y).pipe((0,c.Z)(M=>((0,e.hj)(M)&&this.objectCache.addPatch(y._links.self.href,M),this.findByHref(y._links.self.href,!0,!0))))}commitUpdates(y){this.requestService.commit(y)}createPatchFromCache(y){return this.findByHref(y._links.self.href,!0,!1).pipe((0,p.yd)(),(0,p.Bo)(),(0,i.T)(b=>this.comparator.diff(b,y)))}}},53271:(B,C,n)=>{"use strict";n.d(C,{W:()=>p});var i=n(89777),t=n(60428),c=n(49755),e=n(90066);class p extends e.L{constructor(f,v,E,y,M,b){super(f,v,E,y,M,b),this.linkPath=f,this.requestService=v,this.rdbService=E,this.objectCache=y,this.halService=M,this.responseMsToLive=b}put(f){const v=this.requestService.generateRequestId(),E=new t.T(f.constructor).serialize(f),y=new c.v_(v,f._links.self.href,E);return(0,i.a4)(this.responseMsToLive)&&(y.responseMsToLive=this.responseMsToLive),this.requestService.send(y),this.rdbService.buildFromRequestUUID(v)}}},60796:(B,C,n)=>{"use strict";n.d(C,{X:()=>m});var i=n(96354),t=n(5964),c=n(89777),e=n(90066);const p=(f,v)=>`${f}/search/${v}`;class m extends e.L{constructor(v,E,y,M,b,P,D=p){if(super(v,E,y,M,b,P),this.linkPath=v,this.requestService=E,this.rdbService=y,this.objectCache=M,this.halService=b,this.responseMsToLive=P,this.constructSearchEndpoint=D,(0,c.Tn)(D))throw new Error(`SearchDataImpl initialized without a constructSearchEndpoint method (linkPath: ${v})`)}searchBy(v,E={},y=!0,M=!0,...b){const P=this.getSearchByHref(v,E,...b);return this.findListByHref(P,void 0,y,M,...b)}getSearchByHref(v,E={},...y){const M=[];return this.getSearchEndpoint(v).pipe((0,i.T)(P=>this.buildHrefFromFindOptions(P,E,M,...y)))}getSearchEndpoint(v){return this.halService.getEndpoint(this.linkPath).pipe((0,t.p)(E=>(0,c.hj)(E)),(0,i.T)(E=>this.constructSearchEndpoint(E,v)))}}},4266:(B,C,n)=>{"use strict";n.r(C),n.d(C,{BitstreamDataService:()=>X});var i=n(21626),t=n(84572),c=n(983),e=n(25558),p=n(96354),m=n(96697),f=n(47677),v=n(89777),E=n(9847),y=n(34180),M=n(4600),b=n(57775),P=n(10186),D=n(81948),I=n(7094),h=n(4093),S=n(73409),O=n(85426),L=n(72073),T=n(20881),x=n(4318),N=n(60796),j=n(32336),$=n(37419),k=n(73054),K=n(58956),z=n(49755),V=n(3601),G=n(54438);let X=(()=>{class Q extends T.W{constructor(ie,te,he,ye,re,ce,Z,ne){super("bitstreams",ie,te,he,ye),this.requestService=ie,this.rdbService=te,this.objectCache=he,this.halService=ye,this.bundleService=re,this.bitstreamFormatService=ce,this.comparator=Z,this.notificationsService=ne,this.searchData=new N.X(this.linkPath,ie,te,he,ye,this.responseMsToLive),this.patchData=new x.n(this.linkPath,ie,te,he,ye,Z,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new L.I(this.linkPath,ie,te,he,ye,ne,this.responseMsToLive,this.constructIdEndpoint)}findAllByBundle(ie,te,he=!0,ye=!0,...re){return this.findListByHref(ie._links.bitstreams.href,te,he,ye,...re)}findAllByItemAndBundleName(ie,te,he,ye=!0,re=!0,...ce){return this.bundleService.findByItemAndName(ie,te).pipe((0,e.n)(Z=>Z.hasSucceeded&&(0,v.a4)(Z.payload)?this.findAllByBundle(Z.payload,he,ye,re,...ce):Z.hasSucceeded||404!==Z.statusCode?[Z]:(0,y.CX)((0,K.g)(new S.Q,[]),(new Date).getTime())))}updateFormat(ie,te){const he=this.requestService.generateRequestId(),ye=this.getBrowseEndpoint().pipe((0,p.T)(ce=>`${ce}/${ie.id}`),(0,e.n)(ce=>this.halService.getEndpoint("format",ce))),re=this.bitstreamFormatService.getBrowseEndpoint().pipe((0,p.T)(ce=>`${ce}/${te.id}`));return(0,t.z)([ye,re]).pipe((0,p.T)(([ce,Z])=>{const ne=Object.create({});let fe=new i.Lr;return fe=fe.append("Content-Type","text/uri-list"),ne.headers=fe,new z.v_(he,ce,Z,ne)}),(0,O.w$)(this.requestService),(0,m.s)(1)).subscribe(()=>{this.deleteFormatCache(ie)}),this.rdbService.buildFromRequestUUID(he)}deleteFormatCache(ie){const te=ie.self+"/format";this.requestService.setStaleByHrefSubstring(te),this.objectCache.getByHref(te).pipe((0,m.s)(1)).subscribe(he=>{if(he.requestUUIDs&&he.requestUUIDs.length>0){const ye=he.requestUUIDs[0];this.requestService.hasByUUID(ye)&&this.requestService.setStaleByUUID(ye)}})}findByItemHandle(ie,te,he,ye=!0,re=!0,...ce){const Z=[];Z.push(new P.x("handle",ie)),(0,v.a4)(te)&&Z.push(new P.x("sequenceId",te)),(0,v.a4)(he)&&Z.push(new P.x("filename",he));const ne=this.getSearchByHref("byItemHandle",{searchParams:Z},...ce);return this.findByHref(ne,ye,re,...ce)}getSearchByHref(ie,te,...he){return this.searchData.getSearchByHref(ie,te,...he)}findPrimaryBitstreamByItemAndName(ie,te,he=!0,ye=!0,re){return this.bundleService.findByItemAndName(ie,te,he,ye,re,(0,M.s)("primaryBitstream")).pipe((0,h.qD)(),(0,e.n)(ce=>ce.hasSucceeded?ce.payload.primaryBitstream.pipe((0,h.qD)(),(0,p.T)(Z=>Z.hasSucceeded?Z.payload:null)):c.w))}searchBy(ie,te,he,ye,...re){return this.searchData.searchBy(ie,te,he,ye,...re)}commitUpdates(ie){this.patchData.commitUpdates(ie)}patch(ie,te){return this.patchData.patch(ie,te)}update(ie){return this.patchData.update(ie)}createPatchFromCache(ie){return this.patchData.createPatchFromCache(ie)}delete(ie,te){return this.deleteData.delete(ie,te)}deleteByHref(ie,te){return this.deleteData.deleteByHref(ie,te)}removeMultiple(ie){const te=ie.map(re=>({op:"remove",path:`/bitstreams/${re.id}`})),he=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,f.I)(re=>(0,v.a4)(re))).subscribe(re=>{const ce=new z.EA(he,re,te);(0,v.a4)(this.responseMsToLive)&&(ce.responseMsToLive=this.responseMsToLive),this.requestService.send(ce)}),this.rdbService.buildFromRequestUUIDAndAwait(he,()=>(0,t.z)(ie.map(re=>this.invalidateByHref(re._links.self.href))))}static{this.\u0275fac=function(te){return new(te||Q)(G.KVO(V.B),G.KVO(b.o),G.KVO(D.$),G.KVO(I.Y),G.KVO($.BundleDataService),G.KVO(j.BitstreamFormatDataService),G.KVO(k.j),G.KVO(E.I))}}static{this.\u0275prov=G.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},32336:(B,C,n)=>{"use strict";n.r(C),n.d(C,{BitstreamFormatDataService:()=>T});var i=n(59640),t=n(96354),c=n(23294),e=n(88141),p=n(45879),m=n(9847),f=n(57775),v=n(81948),E=n(30269),y=n(7094),M=n(85426),b=n(72073),P=n(88667),D=n(20881),I=n(49755),h=n(3601),S=n(54438);const O=(0,i.Mz)(E.N,x=>x.bitstreamFormats),L=(0,i.Mz)(O,x=>x.selectedBitstreamFormats);let T=(()=>{class x extends D.W{constructor(j,$,k,K,z,V){super("bitstreamformats",j,$,k,K),this.requestService=j,this.rdbService=$,this.objectCache=k,this.halService=K,this.notificationsService=z,this.store=V,this.linkPath="bitstreamformats",this.findAllData=new P.H(this.linkPath,j,$,k,K,this.responseMsToLive),this.deleteData=new b.I(this.linkPath,j,$,k,K,z,this.responseMsToLive,this.constructIdEndpoint)}getUpdateEndpoint(j){return this.getBrowseEndpoint().pipe((0,t.T)($=>this.getIDHref($,j)))}getCreateEndpoint(){return this.getBrowseEndpoint()}updateBitstreamFormat(j){const $=this.requestService.generateRequestId();return this.getUpdateEndpoint(j.id).pipe((0,c.F)(),(0,t.T)(k=>new I.v_($,k,j)),(0,M.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID($)}createBitstreamFormat(j){const $=this.requestService.generateRequestId();return this.getCreateEndpoint().pipe((0,t.T)(k=>new I.Qf($,k,j)),(0,M.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID($)}clearBitStreamFormatRequests(){return this.getBrowseEndpoint().pipe((0,e.M)(j=>this.requestService.removeByHrefSubstring(j)))}getSelectedBitstreamFormats(){return this.store.pipe((0,i.Lt)(L))}selectBitstreamFormat(j){this.store.dispatch(new p.hO(j))}deselectBitstreamFormat(j){this.store.dispatch(new p.Cv(j))}deselectAllBitstreamFormats(){this.store.dispatch(new p.ZU)}findByBitstream(j){return this.findByHref(j._links.format.href)}findAll(j,$,k,...K){return this.findAllData.findAll(j,$,k,...K)}delete(j,$){return this.deleteData.delete(j,$)}deleteByHref(j,$){return this.deleteData.deleteByHref(j,$)}static{this.\u0275fac=function($){return new($||x)(S.KVO(h.B),S.KVO(f.o),S.KVO(v.$),S.KVO(y.Y),S.KVO(m.I),S.KVO(i.il))}}static{this.\u0275prov=S.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})()},37419:(B,C,n)=>{"use strict";n.r(C),n.d(C,{BundleDataService:()=>h});var i=n(96354),t=n(25558),c=n(96697),e=n(89777),p=n(57775),m=n(81948),f=n(7094),v=n(20881),E=n(4318),y=n(73054),M=n(25788),b=n(49755),P=n(3601),D=n(85186),I=n(54438);let h=(()=>{class S extends v.W{constructor(L,T,x,N,j){super("bundles",L,T,x,N),this.requestService=L,this.rdbService=T,this.objectCache=x,this.halService=N,this.comparator=j,this.bitstreamsEndpoint="bitstreams",this.patchData=new E.n(this.linkPath,L,T,x,N,j,this.responseMsToLive,this.constructIdEndpoint)}findAllByItem(L,T,x=!0,N=!0,...j){return this.findListByHref(L._links.bundles.href,T,x,N,...j)}findByItemAndName(L,T,x=!0,N=!0,j,...$){return this.findAllByItem(L,j??{elementsPerPage:9999},x,N,...$).pipe((0,i.T)(K=>{if((0,e.a4)(K.payload)&&(0,e.a4)(K.payload.page)){const z=K.payload.page.find(V=>V.name===T);return(0,e.a4)(z)?new M.j(K.timeCompleted,K.msToLive,K.lastUpdated,D.zE.Success,null,z,200):new M.j(K.timeCompleted,K.msToLive,K.lastUpdated,D.zE.Error,`The bundle with name ${T} was not found.`,null,404)}return K}))}getBitstreamsEndpoint(L,T){return this.getBrowseEndpoint().pipe((0,t.n)(x=>this.halService.getEndpoint(this.bitstreamsEndpoint,`${x}/${L}`)),(0,i.T)(x=>T?T.toRestUrl(x):x))}getBitstreams(L,T,...x){const N=this.getBitstreamsEndpoint(L,T);return N.pipe((0,c.s)(1)).subscribe(j=>{const $=new b.IP(this.requestService.generateRequestId(),j);this.requestService.send($,!0)}),this.rdbService.buildList(N,...x)}commitUpdates(L){this.patchData.commitUpdates(L)}patch(L,T){return this.patchData.patch(L,T)}update(L){return this.patchData.update(L)}createPatchFromCache(L){return this.patchData.createPatchFromCache(L)}static{this.\u0275fac=function(T){return new(T||S)(I.KVO(P.B),I.KVO(p.o),I.KVO(m.$),I.KVO(f.Y),I.KVO(y.j))}}static{this.\u0275prov=I.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},69295:(B,C,n)=>{"use strict";n.r(C),n.d(C,{CollectionDataService:()=>k});var i=n(21626),t=n(96354),c=n(25558),e=n(96697),p=n(5964),m=n(89777),f=n(74745),v=n(9847),E=n(57775),y=n(10186),M=n(81948),b=n(60428),P=n(43125),D=n(7094),I=n(4093),h=n(4266),S=n(54104),O=n(30684),L=n(73054),T=n(36343),x=n(49755),N=n(3601),j=n(54438),$=n(68018);let k=(()=>{class K extends S.x{constructor(V,G,X,Q,ee,ie,te,he,ye){super("collections",V,G,X,Q,ee,ie,te),this.requestService=V,this.rdbService=G,this.objectCache=X,this.halService=Q,this.comparator=ee,this.notificationsService=ie,this.bitstreamDataService=te,this.communityDataService=he,this.translate=ye,this.errorTitle="collection.source.update.notifications.error.title",this.contentSourceError="collection.source.update.notifications.error.content"}getAuthorizedCollection(V,G={},X=!0,Q=!0,ee="findSubmitAuthorized",...ie){return G=Object.assign({},G,{searchParams:[new y.x("query",V)]}),this.searchBy(ee,G,X,Q,...ie).pipe((0,I.bD)())}getAuthorizedCollectionByEntityType(V,G,X={},Q=!0,...ee){return X=Object.assign({},X,{searchParams:[new y.x("query",V),new y.x("entityType",G)]}),this.searchBy("findSubmitAuthorizedByEntityType",X,!0,Q,...ee).pipe((0,I.bD)())}getAuthorizedCollectionByCommunity(V,G,X={},Q=!0){return X=Object.assign({},X,{searchParams:[new y.x("uuid",V),new y.x("query",G)]}),this.searchBy("findSubmitAuthorizedByCommunity",X,Q).pipe((0,I.bD)())}getAuthorizedCollectionByCommunityAndEntityType(V,G,X={},Q=!0,...ee){const te=[new y.x("uuid",V),new y.x("entityType",G)];return X=Object.assign({},X,{searchParams:te}),this.searchBy("findSubmitAuthorizedByCommunityAndEntityType",X,!0,Q,...ee).pipe((0,I.bD)())}hasAuthorizedCollection(){const G=new T._;return G.elementsPerPage=1,this.searchBy("findSubmitAuthorized",G).pipe((0,I.qD)(),(0,t.T)(X=>X?.payload?.totalElements>0))}getHarvesterEndpoint(V){return this.halService.getEndpoint(this.linkPath).pipe((0,c.n)(G=>this.halService.getEndpoint("harvester",`${G}/${V}`)))}getContentSource(V,G=!0){const X=this.getHarvesterEndpoint(V).pipe((0,m.VT)(),(0,e.s)(1));return X.subscribe(Q=>{const ee=new x.IL(this.requestService.generateRequestId(),Q);this.requestService.send(ee,G)}),this.rdbService.buildSingle(X)}updateContentSource(V,G){const X=this.requestService.generateRequestId(),Q=new b.T(P.Z).serialize(G);return this.getHarvesterEndpoint(V).pipe((0,e.s)(1),(0,t.T)(ie=>{const te=Object.create({});let he=new i.Lr;return he=he.append("Content-Type","application/json"),te.headers=he,new x.xu(X,ie,JSON.stringify(Q),te)})).subscribe(ie=>this.requestService.send(ie)),this.rdbService.buildFromRequestUUID(X).pipe((0,I.qD)(),(0,t.T)(ie=>ie.hasFailed?(0,m.a4)(ie.errorMessage)?this.notificationsService.error(this.translate.instant(this.errorTitle),422===ie.statusCode?this.translate.instant(this.contentSourceError):ie.errorMessage,new f.y(-1)):void 0:ie),(0,m.VT)(),(0,t.T)(ie=>(0,m.hj)(ie.payload)?ie.payload:ie))}getFindByParentHref(V){return this.halService.getEndpoint("communities").pipe((0,c.n)(G=>this.halService.getEndpoint("collections",`${G}/${V}`)))}findOwningCollectionFor(V){return this.findByHref(V._links.owningCollection.href)}findMappedCollectionsFor(V,G){return this.findListByHref(V._links.mappedCollections.href,G)}getScopeCommunityHref(V){return this.communityDataService.getEndpoint().pipe((0,t.T)(G=>this.communityDataService.getIDHref(G,V.scopeID)),(0,p.p)(G=>(0,m.hj)(G)),(0,e.s)(1))}static{this.\u0275fac=function(G){return new(G||K)(j.KVO(N.B),j.KVO(E.o),j.KVO(M.$),j.KVO(D.Y),j.KVO(L.j),j.KVO(v.I),j.KVO(h.BitstreamDataService),j.KVO(O.CommunityDataService),j.KVO($.c$))}}static{this.\u0275prov=j.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})()},54104:(B,C,n)=>{"use strict";n.d(C,{x:()=>S});var i=n(84572),t=n(25558),c=n(96354),e=n(5964),p=n(23294),m=n(96697),f=n(89777),v=n(34180),E=n(4093),y=n(5127),M=n(18328),b=n(72073),P=n(88667),D=n(20881),I=n(4318),h=n(60796);class S extends D.W{constructor(L,T,x,N,j,$,k,K){super(L,T,x,N,j),this.linkPath=L,this.requestService=T,this.rdbService=x,this.objectCache=N,this.halService=j,this.comparator=$,this.notificationsService=k,this.bitstreamDataService=K,this.createData=new M.V(this.linkPath,T,x,N,j,k,this.responseMsToLive),this.findAllData=new P.H(this.linkPath,T,x,N,j,this.responseMsToLive),this.searchData=new h.X(this.linkPath,T,x,N,j,this.responseMsToLive),this.patchData=new I.n(this.linkPath,T,x,N,j,$,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new b.I(this.linkPath,T,x,N,j,k,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(L={},T=this.linkPath){if((0,f.Im)(L.scopeID))return this.halService.getEndpoint(T);{const x=this.getScopeCommunityHref(L);return this.createAndSendGetRequest(x,!0),x.pipe((0,t.n)(N=>this.rdbService.buildSingle(N)),(0,E.qD)(),(0,c.T)(N=>{if(N.hasFailed)throw new Error(`The Community with scope ${L.scopeID} couldn't be retrieved`);return N.payload._links[T]}),(0,e.p)(N=>(0,f.hj)(N)),(0,c.T)(N=>N.href),(0,p.F)())}}findByParent(L,T={},...x){const N=this.getFindByParentHref(L).pipe((0,c.T)(j=>this.buildHrefFromFindOptions(j,T)));return this.findListByHref(N,T,!0,!0,...x)}getLogoEndpoint(L){return this.halService.getEndpoint(this.linkPath).pipe((0,c.T)(T=>new y.t(T,L,"logo").toString()))}deleteLogo(L){const T=L.logo;return(0,f.a4)(T)?T.pipe((0,E.qD)(),(0,t.n)(x=>x.hasFailed?(console.error(`Couldn't retrieve the logo '${L._links.logo.href}' in order to delete it.`),[x]):this.bitstreamDataService.deleteByHref(x.payload._links.self.href))):(0,v.PM)("The given object doesn't have a logo",400)}refreshCache(L){const T=this.parentCommunityUrlLookup(L);(0,f.a4)(T)&&(0,i.z)([this.findByHref(T).pipe((0,E.qD)()),this.halService.getEndpoint("communities/search/top").pipe((0,m.s)(1))]).subscribe(([x,N])=>{x.hasSucceeded&&(0,f.hj)(x.payload)&&(0,f.hj)(x.payload.id)?this.requestService.setStaleByHrefSubstring(x.payload.id):this.requestService.setStaleByHrefSubstring(N)})}parentCommunityUrlLookup(L){const T=L._links.parentCommunity;return(0,f.hj)(T)?T.href:null}create(L,...T){return this.createData.create(L,...T)}findAll(L,T,x,...N){return this.findAllData.findAll(L,T,x,...N)}searchBy(L,T,x,N,...j){return this.searchData.searchBy(L,T,x,N,...j)}commitUpdates(L){this.patchData.commitUpdates(L)}patch(L,T){return this.patchData.patch(L,T)}update(L){return this.patchData.update(L)}createPatchFromCache(L){return this.patchData.createPatchFromCache(L)}delete(L,T){return this.deleteData.delete(L,T)}deleteByHref(L,T){return this.deleteData.deleteByHref(L,T)}}},30684:(B,C,n)=>{"use strict";n.r(C),n.d(C,{CommunityDataService:()=>S});var i=n(96354),t=n(25558),c=n(5964),e=n(96697),p=n(89777),m=n(9847),f=n(57775),v=n(10186),E=n(81948),y=n(7094),M=n(4093),b=n(4266),P=n(54104),D=n(73054),I=n(3601),h=n(54438);let S=(()=>{class O extends P.x{constructor(T,x,N,j,$,k,K){super("communities",T,x,N,j,$,k,K),this.requestService=T,this.rdbService=x,this.objectCache=N,this.halService=j,this.comparator=$,this.notificationsService=k,this.bitstreamDataService=K,this.topLinkPath="search/top"}getAuthorizedCommunity(T,x={},N=!0,j=!0,...$){return x=Object.assign({},x,{searchParams:[new v.x("query",T)]}),this.searchBy("findAdminAuthorized",x,N,j,...$).pipe((0,M.bD)())}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}findTop(T={},...x){return this.getEndpoint().pipe((0,i.T)(N=>`${N}/search/top`),(0,t.n)(N=>this.findListByHref(N,T,!0,!0,...x)))}getFindByParentHref(T){return this.halService.getEndpoint(this.linkPath).pipe((0,t.n)(x=>this.halService.getEndpoint("subcommunities",`${x}/${T}`)))}getScopeCommunityHref(T){return this.getEndpoint().pipe((0,i.T)(x=>this.getIDHref(x,T.scopeID)),(0,c.p)(x=>(0,p.hj)(x)),(0,e.s)(1))}static{this.\u0275fac=function(x){return new(x||O)(h.KVO(I.B),h.KVO(f.o),h.KVO(E.$),h.KVO(y.Y),h.KVO(D.j),h.KVO(m.I),h.KVO(b.BitstreamDataService))}}static{this.\u0275prov=h.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},94925:(B,C,n)=>{"use strict";n.r(C),n.d(C,{ConfigurationDataService:()=>f});var i=n(57775),t=n(81948),c=n(7094),e=n(20881),p=n(3601),m=n(54438);let f=(()=>{class v extends e.W{constructor(y,M,b,P){super("properties",y,M,b,P),this.requestService=y,this.rdbService=M,this.objectCache=b,this.halService=P}findByPropertyName(y){return this.findById(y)}static{this.\u0275fac=function(M){return new(M||v)(m.KVO(p.B),m.KVO(i.o),m.KVO(t.$),m.KVO(c.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},96443:(B,C,n)=>{"use strict";n.d(C,{Y:()=>f});var i=n(93583),t=n(72153),c=n(74850);class e{constructor(E){this.modelType=E}serialize(E){return p((0,c.Serialize)(E,this.modelType))}serializeArray(E){return p((0,c.Serialize)(E,this.modelType))}deserialize(E){if(Array.isArray(E))throw new Error("Expected a single model, use deserializeArray() instead");return(0,c.Deserialize)(E,this.modelType)}deserializeArray(E){if(!Array.isArray(E))throw new Error("Expected an Array, use deserialize() instead");return(0,c.Deserialize)(E,this.modelType)}}function p(v){const E={};for(const[y,M]of Object.entries(v))null!==M&&(E[y]=M);return E}var m=n(54438);let f=(()=>{class v{diff(y,M){const b=new e((0,t.Qt)(y.type)),P=new e((0,t.Qt)(M.type));return(0,i.UD)(b.serialize(y),P.serialize(M))}static{this.\u0275fac=function(M){return new(M||v)}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},73054:(B,C,n)=>{"use strict";n.d(C,{j:()=>p});var i=n(93583),t=n(84418),c=n.n(t),e=n(54438);let p=(()=>{class m{diff(v,E){return(0,i.UD)(this.filterUUIDsFromMetadata(v.metadata),this.filterUUIDsFromMetadata(E.metadata)).map(y=>Object.assign({},y,{path:"/metadata"+y.path}))}filterUUIDsFromMetadata(v){const E=c()(v);for(const y of Object.keys(E))for(const M of E[y])M.uuid=void 0;return E}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},98733:(B,C,n)=>{"use strict";n.r(C),n.d(C,{DSpaceObjectDataService:()=>f});var i=n(57775),t=n(81948),c=n(7094),e=n(20881),p=n(3601),m=n(54438);let f=(()=>{class v extends e.W{constructor(y,M,b,P){super("dso",y,M,b,P,void 0,(D,I)=>D.replace(/{\?uuid}/,`?uuid=${I}`)),this.requestService=y,this.rdbService=M,this.objectCache=b,this.halService=P}static{this.\u0275fac=function(M){return new(M||v)(m.KVO(p.B),m.KVO(i.o),m.KVO(t.$),m.KVO(c.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},81640:(B,C,n)=>{"use strict";n.d(C,{D3:()=>h,k_:()=>P});var i=n(78544),t=n(89777),c=n(72153),e=n(81948),p=n(76456),m=n(60428),f=n(35331),v=n(73409),E=n(5127),y=n(58956),M=n(51801),b=n(54438);function P(S){return(0,t.a4)(S)&&(0,t.a4)(S._links)&&(0,t.a4)(S._links.self)&&(0,t.a4)(S._links.self.href)}const I=S=>S.split("?").map(O=>O.split("&")).reduce((O,L)=>[...O,...L]);let h=(()=>{class S{constructor(L){this.objectCache=L,this.serializerConstructor=m.T}parse(L,T){let x;T=this.ensureSelfLink(L,T),L.method===M.D.GET&&(x=(0,f.tJ)(L.href));const N=this.process(T.payload,L,x);return(0,t.a4)(N)?P(N)?new p.hT(T.statusCode,N._links.self):new p.hT(T.statusCode,void 0,N):new p.hT(T.statusCode)}process(L,T,x){const N=(0,f.fW)(T.href);if((0,t.hj)(L)){if((0,t.Tn)(L)||"object"!=typeof L)return L;if(function D(S){return(0,t.a4)(S.page)&&(0,t.a4)(S.page.size)&&(0,t.a4)(S.page.totalElements)&&(0,t.a4)(S.page.totalPages)&&(0,t.a4)(S.page.number)}(L))return this.processPaginatedList(L,T,x);if(Array.isArray(L))return this.processArray(L,T);if(P(L)){const $=this.deserialize(L);return(0,t.hj)(L._embedded)&&Object.keys(L._embedded).filter(k=>L._embedded.hasOwnProperty(k)).forEach(k=>{let K=L._links[k].href;const z=N.find(V=>V.name===k);(0,t.a4)(z)&&(K=new E.t(K,`?size=${z.size}`).toString()),null==L._embedded[k]?this.addToObjectCache(null,T,L,K):P(L._embedded[k])||this.objectCache.add(L._embedded[k],(0,t.a4)(T.responseMsToLive)?T.responseMsToLive:i.c.cache.msToLive.default,T.uuid,K),this.process(L._embedded[k],T,K)}),this.addToObjectCache($,T,L,x),$}const j={};return Object.keys(L).filter($=>L.hasOwnProperty($)).filter($=>(0,t.a4)(L[$])).forEach($=>{j[$]=this.process(L[$],T)}),j}}ensureSelfLink(L,T){const x=(0,f.tJ)(L.href);if(L.method===M.D.GET&&(0,t.a4)(T)&&(0,t.a4)(T.payload)&&(0,t.a4)(T.payload._links))if((0,t.Tn)(T.payload._links.self)||(0,t.Tn)(T.payload._links.self.href))console.warn(`The response for '${L.href}' doesn't have a self link. This could mean there's an issue with the REST endpoint`),T.payload._links=Object.assign({},T.payload._links,{self:{href:x}});else{const N=I(x),j=I(T.payload._links.self.href);N[0]===j[0]&&(N.some($=>!j.includes($))||j.some($=>!N.includes($)))&&(console.warn(`The response for '${x}' has the self link '${T.payload._links.self.href}'. These don't match. This could mean there's an issue with the REST endpoint`),T.payload._links=Object.assign({},T.payload._links,{self:{href:x}}))}return T}processPaginatedList(L,T,x){const N=this.processPageInfo(L);let j=L._embedded;(0,t.Tn)(j)?j=[]:Array.isArray(j)||(j=this.flattenSingleKeyObject(j));const $=this.processArray(j,T),k=(0,y.g)(N,$,!0,L._links);return this.addToObjectCache(k,T,L,x),k}processArray(L,T){let x=[];return L.forEach(N=>{x=[...x,this.process(N,T)]}),x}deserialize(L){const T=L.type,x=this.getConstructorFor(T);return(0,t.a4)(x)?new this.serializerConstructor(x).deserialize(L):(console.warn("cannot deserialize type "+T),null)}getConstructorFor(L){return(0,t.a4)(L)?(0,c.Qt)(L):null}addToObjectCache(L,T,x,N){if((0,t.a4)(L)&&!P(L)){const j=(0,t.a4)(x)&&(0,t.a4)(x.type)?x.type:"object";let $;return $=(0,t.a4)(x._embedded)?JSON.stringify(Object.assign({},x,{_embedded:"..."})):JSON.stringify(x),void console.warn(`Can't cache incomplete ${j}: ${JSON.stringify(L)}, parsed from (partial) response: ${$}`)}(0,t.a4)(L)&&N===L._links.self.href&&(N=void 0),this.objectCache.add(L,(0,t.a4)(T.responseMsToLive)?T.responseMsToLive:i.c.cache.msToLive.default,T.uuid,N)}processPageInfo(L){if((0,t.a4)(L.page)){const T=new m.T(v.Q).deserialize(L.page);return T.currentPage>=0&&Object.assign(T,{currentPage:T.currentPage+1}),T}}flattenSingleKeyObject(L){const T=Object.keys(L);if(1!==T.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(L)}`);return L[T[0]]}isSuccessStatus(L){return L>=200&&L<300}static{this.\u0275fac=function(T){return new(T||S)(b.KVO(e.$))}}static{this.\u0275prov=b.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},67685:(B,C,n)=>{"use strict";n.d(C,{f:()=>D});var i=n(25558),t=n(96354),c=n(96697),e=n(57775),p=n(81948),m=n(7094),f=n(4093),v=n(90066),E=n(88667),y=n(60796),M=n(88392),b=n(3601),P=n(54438);let D=(()=>{class I extends v.L{constructor(S,O,L,T,x){super("entitytypes",S,O,L,T),this.requestService=S,this.rdbService=O,this.objectCache=L,this.halService=T,this.relationshipTypeService=x,this.findAllData=new E.H(this.linkPath,S,O,L,T,this.responseMsToLive),this.searchData=new y.X(this.linkPath,S,O,L,T,this.responseMsToLive)}getBrowseEndpoint(S,O){return this.halService.getEndpoint(this.linkPath)}getRelationshipTypesEndpoint(S){return this.halService.getEndpoint(this.linkPath).pipe((0,i.n)(O=>this.halService.getEndpoint("relationshiptypes",`${O}/${S}`)))}isLeftType(S,O){return S.leftType.pipe((0,f.yd)(),(0,f.Bo)(),(0,t.T)(L=>L.uuid===O.uuid))}getAllAuthorizedRelationshipType(S={}){return this.searchBy("findAllByAuthorizedCollection",S).pipe((0,f.bD)())}hasMoreThanOneAuthorized(){return this.getAllAuthorizedRelationshipType({elementsPerPage:2,currentPage:1}).pipe((0,t.T)(O=>{let L;return L=!!O.payload&&O.payload.page.length>1,L}))}getAllAuthorizedRelationshipTypeImport(S={}){return this.searchBy("findAllByAuthorizedExternalSource",S).pipe((0,f.bD)())}hasMoreThanOneAuthorizedImport(){return this.getAllAuthorizedRelationshipTypeImport({elementsPerPage:2,currentPage:1}).pipe((0,c.s)(1),(0,t.T)(O=>O?.payload?.totalElements>1))}getEntityTypeRelationships(S,O=!0,L=!0,...T){const x=this.getRelationshipTypesEndpoint(S);return this.relationshipTypeService.findListByHref(x,void 0,O,L,...T)}getEntityTypeByLabel(S){return this.halService.getEndpoint(this.linkPath).pipe((0,c.s)(1),(0,i.n)(O=>this.findByHref(O+"/label/"+S)))}findAll(S,O,L,...T){return this.findAllData.findAll(S,O,L,...T)}searchBy(S,O,L,T,...x){return this.searchData.searchBy(S,O,L,T,...x)}static{this.\u0275fac=function(O){return new(O||I)(P.KVO(b.B),P.KVO(e.o),P.KVO(p.$),P.KVO(m.Y),P.KVO(M.RelationshipTypeDataService))}}static{this.\u0275prov=P.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},58866:(B,C,n)=>{"use strict";n.d(C,{Q:()=>P});var i=n(96354),t=n(25558),c=n(23294),e=n(96697),p=n(89777),m=n(57775),f=n(81948),v=n(7094),E=n(20881),y=n(60796),M=n(3601),b=n(54438);let P=(()=>{class D extends E.W{constructor(h,S,O,L){super("externalsources",h,S,O,L),this.requestService=h,this.rdbService=S,this.objectCache=O,this.halService=L,this.searchData=new y.X(this.linkPath,h,S,O,L,this.responseMsToLive)}getBrowseEndpoint(h={},S=this.linkPath){return this.halService.getEndpoint(S)}getEntriesEndpoint(h){return this.getBrowseEndpoint().pipe((0,i.T)(S=>this.getIDHref(S,h)),(0,t.n)(S=>this.halService.getEndpoint("entries",S)))}getExternalSourceEntries(h,S,O=!0,L=!0,...T){const x=this.getEntriesEndpoint(h).pipe((0,p.VT)(),(0,c.F)(),(0,i.T)(N=>(0,p.a4)(S)?S.toRestUrl(N):N),(0,e.s)(1));return this.hasCachedErrorResponse(x).pipe((0,t.n)(N=>this.findListByHref(x,void 0,!N,L,...T)))}searchBy(h,S,O,L,...T){return this.searchData.searchBy(h,S,O,L,...T)}static{this.\u0275fac=function(S){return new(S||D)(b.KVO(M.B),b.KVO(m.o),b.KVO(f.$),b.KVO(v.Y))}}static{this.\u0275prov=b.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},11873:(B,C,n)=>{"use strict";n.r(C),n.d(C,{AuthorizationDataService:()=>j});var i=n(7673),t=n(96354),c=n(99437),e=n(25558),p=n(89777),m=n(4600),f=n(57775),v=n(10186),E=n(81948),y=n(7094),M=n(4093),b=n(90066),P=n(60796),D=n(36343),I=n(3601),h=n(45402);class S{constructor(k,K,z){this.objectUrl=k,this.ePersonUuid=K,this.featureId=z}}var O=n(84572),N=n(54438);let j=(()=>{class $ extends b.L{constructor(K,z,V,G,X){super("authorizations",K,z,V,G),this.requestService=K,this.rdbService=z,this.objectCache=V,this.halService=G,this.siteService=X,this.linkPath="authorizations",this.searchByObjectPath="object",this.searchData=new P.X(this.linkPath,K,z,V,G,this.responseMsToLive)}invalidateAuthorizationsRequestCache(){this.requestService.setStaleByHrefSubstring(this.linkPath)}isAuthorized(K,z,V,G=!0,X=!0){return this.searchByObject(K,z,V,{},G,X,(0,m.s)("feature")).pipe((0,M.qD)(),(0,t.T)(Q=>401!==Q.statusCode&&(0,p.a4)(Q.payload)&&(0,p.hj)(Q.payload.page)?Q.payload.page:[]),(0,c.W)(()=>(0,i.of)([])),($=>k=>k.pipe((0,e.n)(K=>(0,p.hj)(K)?(0,O.z)([...K.filter(z=>(0,p.a4)(z.feature)).map(z=>z.feature.pipe((0,M.ak)()))]):(0,i.of)([])),(0,t.T)(K=>K.filter(z=>z.id===$.valueOf()).length>0)))(K))}searchByObject(K,z,V,G={},X=!0,Q=!0,...ee){const ie=(0,i.of)(z).pipe((0,e.n)(he=>(0,p.Tn)(he)?this.siteService.find().pipe((0,t.T)(ye=>ye.self)):(0,i.of)(he))),te=ie.pipe((0,t.T)(he=>new S(he,V,K)),(0,e.n)(he=>this.searchBy(this.searchByObjectPath,this.createSearchOptions(he.objectUrl,G,he.ePersonUuid,he.featureId),X,Q,...ee)));return this.addDependency(te,ie),te}createSearchOptions(K,z={},V,G){let X=[];return(0,p.hj)(z.searchParams)&&(X=[...z.searchParams]),X.push(new v.x("uri",K,!1)),(0,p.a4)(G)&&X.push(new v.x("feature",G)),(0,p.a4)(V)&&X.push(new v.x("eperson",V)),Object.assign(new D._,z,{searchParams:[...X]})}searchBy(K,z,V,G,...X){return this.searchData.searchBy(K,z,V,G,...X)}static{this.\u0275fac=function(z){return new(z||$)(N.KVO(I.B),N.KVO(f.o),N.KVO(E.$),N.KVO(y.Y),N.KVO(h.SiteDataService))}}static{this.\u0275prov=N.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})()},54761:(B,C,n)=>{"use strict";n.d(C,{i:()=>e});var i=n(7673),t=n(6170);const e=(0,n(61457).L)(()=>(0,i.of)(t._.CanManageGroups))},61457:(B,C,n)=>{"use strict";n.d(C,{L:()=>c});var i=n(96354),t=n(8245);const c=(e,p,m)=>(0,t.h)((f,v)=>e(f,v).pipe((0,i.T)(E=>[E])),p,m)},42657:(B,C,n)=>{"use strict";n.d(C,{Y:()=>e});var i=n(7673),t=n(6170);const e=(0,n(61457).L)(()=>(0,i.of)(t._.AdministratorOf))},8245:(B,C,n)=>{"use strict";n.d(C,{h:()=>y});var i=n(54438),t=n(7901),c=n(7673),e=n(84572),p=n(25558),m=n(94196),f=n(19548),v=n(11873);const E=()=>(0,c.of)(void 0),y=(M,b=E,P=E)=>(D,I)=>{const h=(0,i.WQX)(v.AuthorizationDataService),S=(0,i.WQX)(t.Ix),O=(0,i.WQX)(m.uR);return(0,e.z)([M(D,I),b(D,I),P(D,I)]).pipe((0,p.n)(([L,T,x])=>(0,e.z)(L.map(N=>h.isAuthorized(N,T,x)))),(0,f.ci)(S,O,I.url))}},6170:(B,C,n)=>{"use strict";n.d(C,{_:()=>i});var i=function(t){return t.LoginOnBehalfOf="loginOnBehalfOf",t.AdministratorOf="administratorOf",t.CanDelete="canDelete",t.CanEditMetadata="canEditMetadata",t.WithdrawItem="withdrawItem",t.ReinstateItem="reinstateItem",t.EPersonRegistration="epersonRegistration",t.CanManageGroups="canManageGroups",t.CanManageGroup="canManageGroup",t.IsCollectionAdmin="isCollectionAdmin",t.IsCommunityAdmin="isCommunityAdmin",t.CanChangePassword="canChangePassword",t.CanDownload="canDownload",t.CanRequestACopy="canRequestACopy",t.CanManageVersions="canManageVersions",t.CanManageBitstreamBundles="canManageBitstreamBundles",t.CanManageRelationships="canManageRelationships",t.CanManageMappings="canManageMappings",t.CanManagePolicies="canManagePolicies",t.CanMakePrivate="canMakePrivate",t.CanMove="canMove",t.CanEditVersion="canEditVersion",t.CanDeleteVersion="canDeleteVersion",t.CanCreateVersion="canCreateVersion",t.CanViewUsageStatistics="canViewUsageStatistics",t.CanSendFeedback="canSendFeedback",t.CanClaimItem="canClaimItem",t.CanSynchronizeWithORCID="canSynchronizeWithORCID",t.CanSubmit="canSubmit",t.CanEditItem="canEditItem",t.CanRegisterDOI="canRegisterDOI",t.CanSubscribe="canSubscribeDso",t.CoarNotifyEnabled="coarNotifyEnabled",t.CanSeeQA="canSeeQA",t.EPersonForgotPassword="epersonForgotPassword",t}(i||{})},36343:(B,C,n)=>{"use strict";n.d(C,{_:()=>i});class i{}},82245:(B,C,n)=>{"use strict";n.r(C),n.d(C,{HrefOnlyDataService:()=>f});var i=n(57775),t=n(81948),c=n(7094),e=n(90066),p=n(3601),m=n(54438);let f=(()=>{class v{constructor(y,M,b,P){this.requestService=y,this.rdbService=M,this.objectCache=b,this.halService=P,this.dataService=new e.L(void 0,y,M,b,P)}findByHref(y,M=!0,b=!0,...P){return this.dataService.findByHref(y,M,b,...P)}findListByHref(y,M={},b=!0,P=!0,...D){return this.dataService.findListByHref(y,M,b,P,...D)}static{this.\u0275fac=function(M){return new(M||v)(m.KVO(p.B),m.KVO(i.o),m.KVO(t.$),m.KVO(c.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},61206:(B,C,n)=>{"use strict";n.r(C),n.d(C,{BaseItemDataService:()=>K,ItemDataService:()=>z});var i=n(21626),t=n(5964),c=n(96354),e=n(23294),p=n(25558),m=n(96697),f=n(47677),v=n(89777),E=n(9847),y=n(57168),M=n(57775),b=n(81948),P=n(7094),D=n(85426),I=n(5127),h=n(18328),S=n(72073),O=n(20881),L=n(4318),T=n(37419),x=n(73054),N=n(49755),j=n(3601),$=n(74642),k=n(54438);class K extends O.W{constructor(G,X,Q,ee,ie,te,he,ye,re,ce=(Z,ne)=>`${Z}/${ne}`){super(G,X,Q,ee,ie,void 0,ce),this.linkPath=G,this.requestService=X,this.rdbService=Q,this.objectCache=ee,this.halService=ie,this.notificationsService=te,this.comparator=he,this.browseService=ye,this.bundleService=re,this.constructIdEndpoint=ce,this.createData=new h.V(this.linkPath,X,Q,ee,ie,te,this.responseMsToLive),this.patchData=new L.n(this.linkPath,X,Q,ee,ie,he,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new S.I(this.linkPath,X,Q,ee,ie,te,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(G={},X=this.linkPath){let Q="dc.date.issued";return G.sort&&G.sort.field&&(Q=G.sort.field),this.browseService.getBrowseURLFor(Q,X).pipe((0,t.p)(ee=>(0,v.hj)(ee)),(0,c.T)(ee=>new I.t(ee,`?scope=${G.scopeID}`).toString()),(0,e.F)())}getMappedCollectionsEndpoint(G,X){return this.halService.getEndpoint(this.linkPath).pipe((0,c.T)(Q=>this.getIDHref(Q,G)),(0,c.T)(Q=>`${Q}/mappedCollections${X?`/${X}`:""}`))}removeMappingFromCollection(G,X){return this.getMappedCollectionsEndpoint(G,X).pipe((0,v.VT)(),(0,e.F)(),(0,c.T)(Q=>new N.$(this.requestService.generateRequestId(),Q)),(0,D.w$)(this.requestService),(0,p.n)(Q=>this.rdbService.buildFromRequestUUID(Q.uuid)))}mapToCollection(G,X){return this.getMappedCollectionsEndpoint(G).pipe((0,v.VT)(),(0,e.F)(),(0,c.T)(Q=>{const ee=Object.create({});let ie=new i.Lr;return ie=ie.append("Content-Type","text/uri-list"),ee.headers=ie,new N.Qf(this.requestService.generateRequestId(),Q,X,ee)}),(0,D.w$)(this.requestService),(0,p.n)(Q=>this.rdbService.buildFromRequestUUID(Q.uuid)))}setWithDrawn(G,X){const Q={op:"replace",path:"/withdrawn",value:X};return this.requestService.removeByHrefSubstring("/discover"),this.patch(G,[Q])}setDiscoverable(G,X){const Q={op:"replace",path:"/discoverable",value:X};return this.requestService.removeByHrefSubstring("/discover"),this.patch(G,[Q])}getBundlesEndpoint(G){return this.halService.getEndpoint(this.linkPath).pipe((0,p.n)(X=>this.halService.getEndpoint("bundles",`${X}/${G}`)))}getBundles(G,X){const Q=this.getBundlesEndpoint(G).pipe((0,c.T)(ee=>X?X.toRestUrl(ee):ee));return Q.pipe((0,m.s)(1)).subscribe(ee=>{const ie=new N.IP(this.requestService.generateRequestId(),ee);this.requestService.send(ie)}),this.rdbService.buildList(Q)}createBundle(G,X,Q){const ee=this.requestService.generateRequestId(),ie=this.getBundlesEndpoint(G),te={name:X,metadata:Q||{}};return ie.pipe((0,m.s)(1)).subscribe(he=>{const ye=Object.create({});let re=new i.Lr;re=re.append("Content-Type","application/json"),ye.headers=re;const ce=new N.Qf(ee,he,JSON.stringify(te),ye);this.requestService.send(ce)}),this.rdbService.buildFromRequestUUID(ee)}getIdentifiersEndpoint(G){return this.halService.getEndpoint(this.linkPath).pipe((0,p.n)(X=>this.halService.getEndpoint("identifiers",`${X}/${G}`)))}getMoveItemEndpoint(G,X){return this.halService.getEndpoint(this.linkPath).pipe((0,c.T)(Q=>this.getIDHref(Q,G)),(0,c.T)(Q=>`${Q}/owningCollection?inheritPolicies=${X}`))}moveToCollection(G,X,Q){const ee=Object.create({});let ie=new i.Lr;ie=ie.append("Content-Type","text/uri-list"),ee.headers=ie;const te=this.requestService.generateRequestId();return this.getMoveItemEndpoint(G,Q).pipe((0,f.I)(ye=>(0,v.a4)(ye)),(0,c.T)(ye=>{const re=new N.v_(te,ye,X._links.self.href,ee);return Object.assign(re,{getResponseParser:()=>$.M}),re})).subscribe(ye=>{this.requestService.send(ye)}),this.rdbService.buildFromRequestUUID(te)}importExternalSourceEntry(G,X){const Q=Object.create({});let ee=new i.Lr;ee=ee.append("Content-Type","text/uri-list"),Q.headers=ee;const ie=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,c.T)(he=>`${he}?owningCollection=${X}`)).pipe((0,f.I)(he=>(0,v.a4)(he)),(0,c.T)(he=>{const ye=new N.Qf(ie,he,G._links.self.href,Q);this.requestService.send(ye)})).subscribe(),this.rdbService.buildFromRequestUUID(ie)}getBitstreamsEndpoint(G){return this.halService.getEndpoint(this.linkPath).pipe((0,p.n)(X=>this.halService.getEndpoint("bitstreams",`${X}/${G}`)))}invalidateItemCache(G){this.requestService.setStaleByHrefSubstring("item/"+G)}commitUpdates(G){this.patchData.commitUpdates(G)}patch(G,X){return this.patchData.patch(G,X)}update(G){return this.patchData.update(G)}createPatchFromCache(G){return this.patchData.createPatchFromCache(G)}delete(G,X){return this.deleteData.delete(G,X)}deleteByHref(G,X){return this.deleteData.deleteByHref(G,X)}create(G,...X){return this.createData.create(G,...X)}}let z=(()=>{class V extends K{constructor(X,Q,ee,ie,te,he,ye,re){super("items",X,Q,ee,ie,te,he,ye,re),this.requestService=X,this.rdbService=Q,this.objectCache=ee,this.halService=ie,this.notificationsService=te,this.comparator=he,this.browseService=ye,this.bundleService=re}static{this.\u0275fac=function(Q){return new(Q||V)(k.KVO(j.B),k.KVO(M.o),k.KVO(b.$),k.KVO(P.Y),k.KVO(E.I),k.KVO(x.j),k.KVO(y.q),k.KVO(T.BundleDataService))}}static{this.\u0275prov=k.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}}return V})()},68841:(B,C,n)=>{"use strict";n.d(C,{c:()=>V});var i=n(92771),t=n(30017),c=n(98071),e=n(21413),p=n(58750),m=n(39974),f=n(71985);const E={connector:()=>new e.B};var b=n(77048),P=n(79131),D=n(9326),I=n(22806),S=n(96697),O=n(96354),L=n(99172),T=n(23294),x=n(8417),N=n(30726),j=n(4093),$=n(94314),k=n(58866),K=n(3601),z=n(54438);let V=(()=>{class G{constructor(Q,ee,ie){this.externalSourceService=Q,this.searchService=ee,this.requestService=ie,this.singleResultOptions=Object.assign(new x.W,{id:"single-result-options",pageSize:1})}getLocalResults(Q,ee,ie=!0){const te=Object.assign(new N.C({}),ee,{fixedFilter:Q.filter,configuration:Q.searchConfiguration});return ie&&(this.searchConfig=te),this.searchService.search(te).pipe(function M(G,X){const Q=(0,c.T)(G)?G:()=>G;return(0,c.T)(X)?function y(G,X=E){const{connector:Q}=X;return(0,m.N)((ee,ie)=>{const te=Q();(0,p.Tg)(G(function v(G){return new f.c(X=>G.subscribe(X))}(te))).subscribe(ie),ie.add(ee.subscribe(te))})}(X,{connector:Q}):ee=>new t.G(ee,Q)}(()=>new i.m(1),he=>he.pipe((0,b.v)(ye=>ye.isLoading),function h(...G){const X=(0,D.lI)(G);return(0,m.N)((Q,ee)=>{(0,P.K)()((0,I.H)([Q,...G],X)).subscribe(ee)})}(he.pipe((0,S.s)(1))))))}getTotalLocalResults(Q,ee){return this.getLocalResults(Q,Object.assign(new N.C({}),ee,{pagination:this.singleResultOptions}),!1).pipe((0,j.v7)(),(0,j.Bo)(),(0,O.T)(ie=>ie.totalElements),(0,L.Z)(0))}getTotalExternalResults(Q,ee){return this.externalSourceService.getExternalSourceEntries(Q.id,Object.assign(new N.C({}),ee,{pagination:this.singleResultOptions})).pipe((0,j.v7)(),(0,j.Bo)(),(0,O.T)(ie=>ie.totalElements),(0,L.Z)(0),(0,T.F)())}removeLocalResultsCache(){this.searchService.getEndpoint().subscribe(Q=>this.requestService.removeByHrefSubstring(Q))}static{this.\u0275fac=function(ee){return new(ee||G)(z.KVO(k.Q),z.KVO($.S),z.KVO(K.B))}}static{this.\u0275prov=z.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})()},3079:(B,C,n)=>{"use strict";n.d(C,{B:()=>i});var i=function(t){return t[t.UPDATE=0]="UPDATE",t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t}(i||{})},94289:(B,C,n)=>{"use strict";n.d(C,{Ft:()=>t,KD:()=>m,S3:()=>y,XO:()=>e,Y8:()=>v,g$:()=>c,jX:()=>E,mW:()=>b,nY:()=>p,wS:()=>f,zJ:()=>M});var i=n(6800);const t={INITIALIZE_FIELDS:(0,i.N)("dspace/core/cache/object-updates/INITIALIZE_FIELDS"),SET_EDITABLE_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_EDITABLE_FIELD"),SET_VALID_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_VALID_FIELD"),ADD_FIELD:(0,i.N)("dspace/core/cache/object-updates/ADD_FIELD"),SELECT_VIRTUAL_METADATA:(0,i.N)("dspace/core/cache/object-updates/SELECT_VIRTUAL_METADATA"),DISCARD:(0,i.N)("dspace/core/cache/object-updates/DISCARD"),REINSTATE:(0,i.N)("dspace/core/cache/object-updates/REINSTATE"),REMOVE:(0,i.N)("dspace/core/cache/object-updates/REMOVE"),REMOVE_ALL:(0,i.N)("dspace/core/cache/object-updates/REMOVE_ALL"),REMOVE_FIELD:(0,i.N)("dspace/core/cache/object-updates/REMOVE_FIELD")};class c{constructor(D,I,h,S){this.type=t.INITIALIZE_FIELDS,this.payload={url:D,fields:I,lastModified:h,patchOperationService:S}}}class e{constructor(D,I,h){this.type=t.ADD_FIELD,this.payload={url:D,field:I,changeType:h}}}class p{constructor(D,I,h,S){this.type=t.SELECT_VIRTUAL_METADATA,this.payload={url:D,source:I,uuid:h,select:S}}}class m{constructor(D,I,h){this.type=t.SET_EDITABLE_FIELD,this.payload={url:D,uuid:I,editable:h}}}class f{constructor(D,I,h){this.type=t.SET_VALID_FIELD,this.payload={url:D,uuid:I,isValid:h}}}class v{constructor(D,I,h=!1){this.type=t.DISCARD,this.payload={url:D,notification:I,discardAll:h}}}class E{constructor(D){this.type=t.REINSTATE,this.payload={url:D}}}class y{constructor(D){this.type=t.REMOVE,this.payload={url:D}}}class M{constructor(){this.type=t.REMOVE_ALL}}class b{constructor(D,I){this.type=t.REMOVE_FIELD,this.payload={url:D,uuid:I}}}},96266:(B,C,n)=>{"use strict";n.d(C,{O:()=>v,U:()=>e});var i=n(89777),t=n(3079),c=n(94289);const e="/trash",p={editable:!1,isNew:!1,isValid:!0},m={editable:!0,isNew:!0,isValid:void 0},f=Object.create(null);function v(j=f,$){switch($.type){case c.Ft.INITIALIZE_FIELDS:return function E(j,$){const k=$.payload.url,z=$.payload.lastModified,V=$.payload.patchOperationService,G=function N(j){const $=j.map(K=>K.uuid),k={};return $.forEach(K=>k[K]=p),k}($.payload.fields),X=Object.assign({},j[k],{fieldStates:G},{fieldUpdates:{}},{virtualMetadataSources:{}},{lastModified:z},{patchOperationService:V});return Object.assign({},j,{[k]:X})}(j,$);case c.Ft.ADD_FIELD:return function y(j,$){const k=$.payload.url,K=$.payload.field,z=$.payload.changeType,V=j[k]||{fieldUpdates:{}};let G=V.fieldStates;z===t.B.ADD&&(G=Object.assign({},{[K.uuid]:m},V.fieldStates));let X=V.fieldUpdates[K.uuid]||{};const Q=function L(j,$){return(0,i.Tn)($)?j:(0,i.Tn)(j)?$:j.valueOf()>$.valueOf()?j:$}(X.changeType,z);X=Object.assign({},{field:K,changeType:Q});const ee=Object.assign({},V.fieldUpdates,{[K.uuid]:X}),ie=Object.assign({},V,{fieldStates:G},{fieldUpdates:ee});return Object.assign({},j,{[k]:ie})}(j,$);case c.Ft.SELECT_VIRTUAL_METADATA:return function M(j,$){const k=$.payload.url,K=$.payload.source,z=$.payload.uuid,V=$.payload.select,G=j[k]||{},X=Object.assign({},G.virtualMetadataSources[K],{[z]:V}),Q=Object.assign({},G.virtualMetadataSources,{[K]:X}),ee=Object.assign({},G,{virtualMetadataSources:Q});return Object.assign({},j,{[k]:ee})}(j,$);case c.Ft.DISCARD:return function b(j,$){if($.payload.discardAll){let k=Object.assign({},j);return Object.keys(j).filter(K=>!K.endsWith(e)).forEach(K=>{k=P(K,k)}),k}return P($.payload.url,j)}(j,$);case c.Ft.REINSTATE:return function D(j,$){const k=$.payload.url,K=j[k+e],z=Object.assign({},j,{[k]:K});return delete z[k+e],z}(j,$);case c.Ft.REMOVE:return function I(j,$){return function h(j,$){const k=Object.assign({},j);return delete k[$+e],k}(j,$.payload.url)}(j,$);case c.Ft.REMOVE_ALL:return function S(j){const $=Object.assign({},j);return Object.keys(j).filter(k=>k.endsWith(e)).forEach(k=>{delete $[k]}),$}(j);case c.Ft.REMOVE_FIELD:return function O(j,$){const k=$.payload.url,K=$.payload.uuid;let z=j[k];if((0,i.a4)(z)){const V=Object.assign({},z.fieldUpdates);(0,i.a4)(V[K])&&delete V[K];const G=Object.assign({},z.fieldStates);(0,i.a4)(G[K])&&(G[K].isNew?delete G[K]:G[K]=Object.assign({},G[K],{editable:!1,isValid:!0})),z=Object.assign({},j[k],{fieldUpdates:V,fieldStates:G})}return Object.assign({},j,{[k]:z})}(j,$);case c.Ft.SET_EDITABLE_FIELD:return function T(j,$){const k=$.payload.url,K=$.payload.uuid,V=j[k],X=Object.assign({},V.fieldStates[K],{editable:$.payload.editable}),Q=Object.assign({},V.fieldStates,{[K]:X}),ee=Object.assign({},V,{fieldStates:Q});return Object.assign({},j,{[k]:ee})}(j,$);case c.Ft.SET_VALID_FIELD:return function x(j,$){const k=$.payload.url,K=$.payload.uuid,V=j[k],X=Object.assign({},V.fieldStates[K],{isValid:$.payload.isValid}),Q=Object.assign({},V.fieldStates,{[K]:X}),ee=Object.assign({},V,{fieldStates:Q});return Object.assign({},j,{[k]:ee})}(j,$);default:return j}}function P(j,$){const k=$[j],K={};Object.keys(k.fieldStates).forEach(V=>{const G=k.fieldStates[V];G.isNew||(K[V]=Object.assign({},G,{editable:!1,isValid:!0}))});const z=Object.assign({},k,{fieldUpdates:{},fieldStates:K});return Object.assign({},$,{[j]:z},{[j+e]:k})}},58956:(B,C,n)=>{"use strict";n.d(C,{O:()=>M,g:()=>y});var i=n(31635),t=n(74850),c=n(89777),e=n(72153),p=n(56538),m=n(73409),f=n(44043),v=n(94152),E=n(66946);const y=(b,P,D=!1,I)=>{const h=new M;let S;return(0,c.Tn)(b)&&(b=new m.Q),h.pageInfo=b,(0,c.Im)(P)?S=[]:(S=P.map(O=>(0,c.a4)(O)&&(0,c.a4)(O._links)&&(0,c.a4)(O._links.self)?O._links.self:null),S.every(O=>(0,c.Tn)(O))&&(S=void 0)),h._links=Object.assign({},I,b._links,{page:S}),(!D||(0,c.b0)(S))&&(h.page=P),h};let M=class extends p.I{constructor(){super(...arguments),this.type=E.v}static{this.type=E.v}get elementsPerPage(){return(0,c.a4)(this.pageInfo)&&(0,c.a4)(this.pageInfo.elementsPerPage)?this.pageInfo.elementsPerPage:this.getPageLength()}set elementsPerPage(P){this.pageInfo.elementsPerPage=P}get totalElements(){return(0,c.a4)(this.pageInfo)&&(0,c.a4)(this.pageInfo.totalElements)?this.pageInfo.totalElements:this.getPageLength()}set totalElements(P){this.pageInfo.totalElements=P}get totalPages(){return(0,c.a4)(this.pageInfo)&&(0,c.a4)(this.pageInfo.totalPages)?this.pageInfo.totalPages:1}set totalPages(P){this.pageInfo.totalPages=P}get currentPage(){return(0,c.a4)(this.pageInfo)&&(0,c.a4)(this.pageInfo.currentPage)?this.pageInfo.currentPage:1}set currentPage(P){this.pageInfo.currentPage=P}get first(){if((0,c.a4)(this._links.first)&&(0,c.a4)(this._links.first.href))return this._links.first.href}set first(P){this._links.first={href:P},this.pageInfo._links.first={href:P}}get prev(){if((0,c.a4)(this._links.prev)&&(0,c.a4)(this._links.prev.href))return this._links.prev.href}set prev(P){this._links.prev={href:P},this.pageInfo._links.prev={href:P}}get next(){if((0,c.a4)(this._links.next)&&(0,c.a4)(this._links.next.href))return this._links.next.href}set next(P){this._links.next={href:P},this.pageInfo._links.next={href:P}}get last(){if((0,c.a4)(this._links.last)&&(0,c.a4)(this._links.last.href))return this._links.last.href}set last(P){this._links.last={href:P},this.pageInfo._links.last={href:P}}get self(){return this._links.self.href}set self(P){this._links.self={href:P},this.pageInfo._links.self={href:P}}getPageLength(){return Array.isArray(this.page)?this.page.length:0}};(0,i.Cg)([v.aK,(0,i.Sn)("design:type",Object)],M.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",f.v)],M.prototype,"objectType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",m.Q)],M.prototype,"pageInfo",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],M.prototype,"_links",void 0),M=(0,i.Cg)([e.gV],M)},66946:(B,C,n)=>{"use strict";n.d(C,{v:()=>t});const t=new(n(44043).v)("paginated-list")},60696:(B,C,n)=>{"use strict";n.r(C),n.d(C,{BATCH_EXPORT_SCRIPT_NAME:()=>S,BATCH_IMPORT_SCRIPT_NAME:()=>h,METADATA_EXPORT_SCRIPT_NAME:()=>I,METADATA_IMPORT_SCRIPT_NAME:()=>D,ScriptDataService:()=>O});var i=n(96697),t=n(96354),c=n(89777),e=n(57775),p=n(81948),m=n(7094),f=n(4093),v=n(5127),E=n(88667),y=n(20881),M=n(49755),b=n(3601),P=n(54438);const D="metadata-import",I="metadata-export",h="import",S="export";let O=(()=>{class L extends y.W{constructor(x,N,j,$){super("scripts",x,N,j,$),this.requestService=x,this.rdbService=N,this.objectCache=j,this.halService=$,this.findAllData=new E.H(this.linkPath,x,N,j,$,this.responseMsToLive)}invoke(x,N,j){const $=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,t.T)(k=>new v.t(k,x,"processes").toString()),(0,t.T)(k=>{const K=this.getInvocationFormData(N,j);return new M.E0($,k,K)})).subscribe(k=>this.requestService.send(k)),this.rdbService.buildFromRequestUUID($)}getInvocationFormData(x,N){const j=new FormData;return j.set("properties",JSON.stringify(x)),N.forEach($=>{j.append("file",$)}),j}scriptWithNameExistsAndCanExecute(x){return this.findById(x).pipe((0,f.qD)(),(0,t.T)(N=>(0,c.a4)(N.payload)))}findAll(x,N,j,...$){return this.findAllData.findAll(x,N,j,...$)}static{this.\u0275fac=function(N){return new(N||L)(P.KVO(b.B),P.KVO(e.o),P.KVO(p.$),P.KVO(m.Y))}}static{this.\u0275prov=P.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},87433:(B,C,n)=>{"use strict";n.r(C),n.d(C,{RelationshipDataService:()=>oe});var i=n(21626),t=n(59640),c=n(84572),e=n(7673),p=n(96354),m=n(96697),f=n(23294),v=n(25558),E=n(88141),y=n(5964),M=n(99172),b=n(73028),P=n(79096),D=n(23679),I=n(34068),h=n(89777),S=n(19209),O=n(4600),L=n(89856),T=n(57775),x=n(10186),N=n(81948),j=n(75082),$=n(7094),k=n(9575),K=n(66290),z=n(60032),V=n(4093),G=n(85426),X=n(20881),Q=n(53271),ee=n(60796),ie=n(36343),te=n(61206),he=n(49755),ye=n(3601),re=n(85186),ce=n(54438);const Z=J=>J.relationshipLists,ne=J=>(0,D.pc)(J,Z),ae=J=>ve=>ve.pipe((0,V.ak)(),(0,p.T)(_e=>_e.uuid===J.uuid));let oe=(()=>{class J extends X.W{constructor(_e,Ce,qe,Re,nt,Ge,at,Ke,Te){super("relationships",_e,Ce,Re,qe,9e5),this.requestService=_e,this.rdbService=Ce,this.halService=qe,this.objectCache=Re,this.metadataService=nt,this.itemService=Ge,this.appStore=at,this.paginatedRelationsToItems=Ke,this.appConfig=Te,this.searchData=new ee.X(this.linkPath,_e,Ce,Re,qe,this.responseMsToLive),this.putData=new Q.W(this.linkPath,_e,Ce,Re,qe,this.responseMsToLive)}getRelationshipEndpoint(_e){return this.getBrowseEndpoint().pipe((0,p.T)(Ce=>`${Ce}/${_e}`))}deleteRelationship(_e,Ce,qe=!0){return this.getRelationshipEndpoint(_e).pipe((0,h.VT)(),(0,m.s)(1),(0,f.F)(),(0,p.T)(Re=>new he.$(this.requestService.generateRequestId(),Re+"?copyVirtualMetadata="+Ce)),(0,G.w$)(this.requestService),(0,v.n)(Re=>this.rdbService.buildFromRequestUUID(Re.uuid)),(0,V.qD)(),(0,E.M)(()=>{qe&&this.refreshRelationshipItemsInCacheByRelationship(_e)}))}addRelationship(_e,Ce,qe,Re,nt,Ge=!0){const at=Object.create({});let Ke=new i.Lr;return Ke=Ke.append("Content-Type","text/uri-list"),at.headers=Ke,this.halService.getEndpoint(this.linkPath).pipe((0,h.VT)(),(0,m.s)(1),(0,p.T)(Te=>`${Te}?relationshipType=${_e}`),(0,p.T)(Te=>(0,h.hj)(Re)?`${Te}&leftwardValue=${Re}`:Te),(0,p.T)(Te=>(0,h.hj)(nt)?`${Te}&rightwardValue=${nt}`:Te),(0,p.T)(Te=>new he.Qf(this.requestService.generateRequestId(),Te,`${Ce.self} \n ${qe.self}`,at)),(0,G.w$)(this.requestService),(0,v.n)(Te=>this.rdbService.buildFromRequestUUID(Te.uuid)),(0,V.qD)(),(0,E.M)(()=>{Ge&&(this.refreshRelationshipItemsInCache(Ce),this.refreshRelationshipItemsInCache(qe))}))}refreshRelationshipItemsInCacheByRelationship(_e){this.findById(_e,!0,!1,(0,O.s)("leftItem"),(0,O.s)("rightItem")).pipe((0,V.yd)(),(0,V.Bo)(),(0,v.n)(Ce=>(0,c.z)(Ce.leftItem.pipe((0,V.yd)(),(0,V.Bo)()),Ce.rightItem.pipe((0,V.yd)(),(0,V.Bo)()))),(0,m.s)(1)).subscribe(([Ce,qe])=>{this.refreshRelationshipItemsInCache(Ce),this.refreshRelationshipItemsInCache(qe)})}refreshRelationshipItemsInCache(_e){this.objectCache.remove(_e._links.self.href),this.requestService.removeByHrefSubstring(_e.uuid),(0,c.z)([this.objectCache.hasByHref$(_e._links.self.href),this.requestService.hasByHref$(_e.self)]).pipe((0,y.p)(([Ce,qe])=>!Ce&&!qe),(0,m.s)(1)).subscribe(()=>this.itemService.findByHref(_e._links.self.href))}getItemRelationshipsArray(_e,...Ce){return this.findListByHref(_e._links.relationships.href,void 0,!0,!1,...Ce).pipe((0,V.yd)(),(0,V.Bo)(),(0,p.T)(qe=>qe.page),(0,h.Az)(),(0,f.F)((0,I.W2)()))}getRelationshipTypeLabelsByItem(_e){return this.getItemRelationshipsArray(_e,(0,O.s)("leftItem"),(0,O.s)("rightItem"),(0,O.s)("relationshipType")).pipe((0,v.n)(Ce=>(0,c.z)(Ce.map(qe=>this.getRelationshipTypeLabelByRelationshipAndItem(qe,_e)))),(0,p.T)(Ce=>Array.from(new Set(Ce))))}getRelationshipTypeLabelByRelationshipAndItem(_e,Ce){return _e.leftItem.pipe((0,V.yd)(),(0,p.T)(qe=>qe.payload),(0,v.n)(qe=>_e.relationshipType.pipe((0,V.yd)(),(0,p.T)(Re=>Re.payload),(0,p.T)(Re=>qe.uuid===Ce.uuid?Re.leftwardType:Re.rightwardType))))}getRelatedItems(_e){return this.getItemRelationshipsArray(_e,(0,O.s)("leftItem"),(0,O.s)("rightItem"),(0,O.s)("relationshipType")).pipe((0,I.NG)(_e.uuid))}getRelatedItemsByLabel(_e,Ce,qe){const Re=(0,L.nW)(qe.fetchThumbnail,this.appConfig.item.showAccessStatuses);return Re.push((0,O.s)("relationshipType")),this.getItemRelationshipsByLabel(_e,Ce,qe,!0,!0,...Re).pipe(this.paginatedRelationsToItems(_e.uuid))}getItemRelationshipsByLabel(_e,Ce,qe,Re=!0,nt=!0,...Ge){let at=new ie._;qe&&(at=Object.assign(new ie._,qe));const Ke=[new x.x("label",Ce),new x.x("dso",_e.id)];at.searchParams=at.searchParams?[...at.searchParams,...Ke]:Ke;const Te=this.searchBy("byLabel",at,Re,!1,...Ge);return this.addDependency(Te,_e._links.self.href),Te.pipe(this.reRequestStaleRemoteData(nt,()=>this.getItemRelationshipsByLabel(_e,Ce,qe,Re,nt,...Ge)))}getRelationshipsByRelatedItemIds(_e,Ce){return this.getItemRelationshipsArray(_e,(0,O.s)("leftItem"),(0,O.s)("rightItem")).pipe((0,v.n)(qe=>(0,c.z)(qe.map(Re=>{const nt=this.isItemInUUIDArray(Re.leftItem,Ce),Ge=this.isItemInUUIDArray(Re.rightItem,Ce);return(0,c.z)([nt,Ge]).pipe((0,y.p)(([at,Ke])=>at||Ke),(0,p.T)(()=>Re),(0,M.Z)(void 0))}))),(0,p.T)(qe=>qe.filter(Re=>(0,h.a4)(Re))))}isItemInUUIDArray(_e,Ce){return _e.pipe((0,V.yd)(),(0,p.T)(qe=>qe.payload),(0,p.T)(qe=>Ce.includes(qe.uuid)))}getRelationshipByItemsAndLabel(_e,Ce,qe,Re){return this.getItemRelationshipsByLabel(_e,qe,Re,!0,!1,(0,O.s)("relationshipType"),(0,O.s)("leftItem"),(0,O.s)("rightItem")).pipe((0,V.yd)(),(0,b.Z)(nt=>nt.payload.page),(0,b.Z)(nt=>(0,c.z)([this.itemService.findByHref(nt._links.leftItem.href).pipe(ae(Ce)),this.itemService.findByHref(nt._links.rightItem.href).pipe(ae(Ce))]).pipe((0,p.T)(([Ge,at])=>Ge||at),(0,p.T)(Ge=>Ge?nt:void 0))),(0,y.p)(nt=>(0,h.a4)(nt)),(0,m.s)(1))}setNameVariant(_e,Ce,qe){this.appStore.dispatch(new S.dD(_e,Ce,qe))}getNameVariant(_e,Ce){return this.appStore.pipe((0,t.Lt)(((J,ve)=>(0,D.pc)(ve,ne(J)))(_e,Ce)))}removeNameVariant(_e,Ce){this.appStore.dispatch(new S.zH(_e,Ce))}getNameVariantsByListID(_e){return this.appStore.pipe((0,t.Lt)(ne(_e)))}updateNameVariant(_e,Ce,qe,Re){return this.getRelationshipByItemsAndLabel(_e,Ce,qe).pipe((0,v.n)(nt=>nt.relationshipType.pipe((0,V.yd)(),(0,V.Bo)(),(0,p.T)(Ge=>({relation:nt,type:Ge})))),(0,v.n)(nt=>{const{relation:Ge,type:at}=nt;let Ke;return Ke=Object.assign(new k.b,Ge,qe===at.leftwardType?{rightwardValue:Re}:{leftwardValue:Re}),this.update(Ke)}))}isLeftItem(_e,Ce){return _e.leftItem.pipe((0,V.yd)(),(0,V.Bo)(),(0,y.p)(qe=>(0,h.a4)(qe)&&(0,h.hj)(qe.uuid)),(0,p.T)(qe=>qe.uuid===Ce.uuid))}updatePlace(_e){let Ce;Ce=Object.assign(new k.b,_e.relationship,_e.useLeftItem?{rightPlace:_e.newIndex}:{leftPlace:_e.newIndex});const qe=this.update(Ce);return qe.pipe((0,y.p)(Re=>Re.state===re.zE.ResponsePending),(0,m.s)(1)).subscribe(Re=>{Re.state===re.zE.ResponsePending&&this.refreshRelationshipItemsInCacheByRelationship(_e.relationship.id)}),qe}update(_e){return this.putData.put(_e)}searchByItemsAndType(_e,Ce,qe,Re){const nt=[new x.x("typeId",_e),new x.x("focusItem",Ce),new x.x("relationshipLabel",qe),new x.x("size",Re.length),new x.x("embed","leftItem"),new x.x("embed","rightItem")];Re.forEach(at=>{nt.push(new x.x("relatedItem",at))});const Ge=this.searchBy("byItemsAndType",{searchParams:nt});return Re.forEach(at=>{this.addDependency(Ge,this.itemService.getIDHrefObs(encodeURIComponent(at)))}),Ge}searchBy(_e,Ce,qe,Re,...nt){return this.searchData.searchBy(_e,Ce,qe,Re,...nt)}resolveMetadataRepresentation(_e,Ce,qe){return this.metadataService.isVirtual(_e)?this.findById(this.metadataService.virtualValue(_e),!0,!1,(0,O.s)("leftItem"),(0,O.s)("rightItem")).pipe((0,V.yd)(),(0,v.n)(Re=>(0,c.z)(Re.payload.leftItem,Re.payload.rightItem).pipe((0,y.p)(([nt,Ge])=>nt.hasCompleted&&Ge.hasCompleted),(0,p.T)(([nt,Ge])=>nt.hasSucceeded&&Ge.hasSucceeded?Ge.hasSucceeded&&nt.payload.id===Ce.id?Ge.payload:Ge.payload.id===Ce.id?nt.payload:void 0:null),(0,p.T)(nt=>(0,h.a4)(nt)?Object.assign(new K.y(_e),nt):Object.assign(new z.Q(qe),_e))))):(0,e.of)(Object.assign(new z.Q(qe),_e))}static{this.\u0275fac=function(Ce){return new(Ce||J)(ce.KVO(ye.B),ce.KVO(T.o),ce.KVO($.Y),ce.KVO(N.$),ce.KVO(j.T),ce.KVO(te.ItemDataService),ce.KVO(t.il),ce.KVO(I.ky),ce.KVO(P.vQ))}}static{this.\u0275prov=ce.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})()},88392:(B,C,n)=>{"use strict";n.r(C),n.d(C,{RelationshipTypeDataService:()=>L});var i=n(84572),t=n(25558),c=n(73028),e=n(56594),p=n(96354),m=n(89777),f=n(4600),v=n(57775),E=n(10186),y=n(81948),M=n(7094),b=n(4093),P=n(90066),D=n(88667),I=n(60796),h=n(3601),S=n(54438);const O=(T,x)=>T.hasSucceeded&&T.payload.label===x;let L=(()=>{class T extends P.L{constructor(N,j,$,k){super("relationshiptypes",N,j,$,k),this.requestService=N,this.rdbService=j,this.objectCache=$,this.halService=k,this.searchData=new I.X(this.linkPath,N,j,$,k,this.responseMsToLive),this.findAllData=new D.H(this.linkPath,N,j,$,k,this.responseMsToLive)}getRelationshipTypeByLabelAndTypes(N,j,$){return this.findAllData.findAll({currentPage:1,elementsPerPage:9999},!0,!0,(0,f.s)("leftType"),(0,f.s)("rightType")).pipe((0,b.yd)(),(0,t.n)(k=>k.payload.page),(0,c.Z)(k=>k.leftwardType===N?this.checkType(k,j,$):k.rightwardType===N?this.checkType(k,$,j):[null]),(0,e.$)(),(0,p.T)(k=>{const K=k.find(z=>(0,m.a4)(z));return(0,m.a4)(K)?K:null}))}checkType(N,j,$){return(0,i.z)([N.leftType.pipe((0,b.qD)()),N.rightType.pipe((0,b.qD)())]).pipe((0,p.T)(([k,K])=>O(k,j)&&O(K,$)?N:null))}searchByEntityType(N,j=!0,$=!0,...k){return this.searchData.searchBy("byEntityType",{searchParams:[new E.x("type",N),new E.x("size",100)]},j,$,...k).pipe((0,b.yd)(),(0,b.Bo)())}static{this.\u0275fac=function(j){return new(j||T)(S.KVO(h.B),S.KVO(v.o),S.KVO(y.$),S.KVO(M.Y))}}static{this.\u0275prov=S.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},25788:(B,C,n)=>{"use strict";n.d(C,{j:()=>t});var i=n(85186);class t{constructor(e,p,m,f,v,E,y){this.timeCompleted=e,this.msToLive=p,this.lastUpdated=m,this.state=f,this.errorMessage=v,this.payload=E,this.statusCode=y}get isRequestPending(){return(0,i.DB)(this.state)}get isResponsePending(){return(0,i.vT)(this.state)}get isError(){return(0,i.bJ)(this.state)}get isSuccess(){return(0,i.oJ)(this.state)}get isErrorStale(){return(0,i.uN)(this.state)}get isSuccessStale(){return(0,i.DF)(this.state)}get isLoading(){return(0,i.VP)(this.state)}get hasFailed(){return(0,i.WN)(this.state)}get hasSucceeded(){return(0,i.yO)(this.state)}get hasCompleted(){return(0,i.Uj)(this.state)}get isStale(){return(0,i.QO)(this.state)}get hasNoContent(){return 204===this.statusCode}}},85186:(B,C,n)=>{"use strict";n.d(C,{DB:()=>t,DF:()=>m,QO:()=>P,Uj:()=>b,VP:()=>E,WN:()=>y,bJ:()=>c,oJ:()=>e,uN:()=>p,vT:()=>f,yO:()=>M,zE:()=>i});var i=function(D){return D.RequestPending="RequestPending",D.ResponsePending="ResponsePending",D.Error="Error",D.Success="Success",D.ResponsePendingStale="ResponsePendingStale",D.ErrorStale="ErrorStale",D.SuccessStale="SuccessStale",D}(i||{});const t=D=>D===i.RequestPending,c=D=>D===i.Error,e=D=>D===i.Success,p=D=>D===i.ErrorStale,m=D=>D===i.SuccessStale,f=D=>D===i.ResponsePending,v=D=>D===i.ResponsePendingStale,E=D=>t(D)||f(D)||v(D),y=D=>{if(!E(D))return c(D)||p(D)},M=D=>{if(!E(D))return e(D)||m(D)},b=D=>!E(D),P=D=>v(D)||m(D)||p(D)},88884:(B,C,n)=>{"use strict";n.d(C,{G:()=>i});class i extends Error{}},51553:(B,C,n)=>{"use strict";n.d(C,{Di:()=>m,Gl:()=>f,HL:()=>v,PW:()=>p,cX:()=>E,tO:()=>t,uw:()=>e});var i=n(6800);const t={CONFIGURE:(0,i.N)("dspace/core/data/request/CONFIGURE"),EXECUTE:(0,i.N)("dspace/core/data/request/EXECUTE"),SUCCESS:(0,i.N)("dspace/core/data/request/SUCCESS"),ERROR:(0,i.N)("dspace/core/data/request/ERROR"),STALE:(0,i.N)("dspace/core/data/request/STALE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/data/request/RESET_TIMESTAMPS"),REMOVE:(0,i.N)("dspace/core/data/request/REMOVE")};class c{constructor(){this.lastUpdated=(new Date).getTime()}}class e extends c{constructor(b){super(),this.type=t.CONFIGURE,this.payload=b}}class p extends c{constructor(b){super(),this.type=t.EXECUTE,this.payload=b}}class m extends c{constructor(b,P,D,I){super(),this.type=t.SUCCESS,this.payload={uuid:b,timeCompleted:(new Date).getTime(),statusCode:P,link:D,unCacheableObject:I}}}class f extends c{constructor(b,P,D){super(),this.type=t.ERROR,this.payload={uuid:b,timeCompleted:(new Date).getTime(),statusCode:P,errorMessage:D}}}class v extends c{constructor(b){super(),this.type=t.STALE,this.payload={uuid:b}}}class E{constructor(b){this.type=t.RESET_TIMESTAMPS,this.payload=b}}},49755:(B,C,n)=>{"use strict";n.d(C,{FQ:()=>re,IL:()=>ve,QU:()=>J,Dk:()=>Ce,$:()=>ie,ld:()=>Z,IP:()=>G,Wx:()=>z,E0:()=>Q,WP:()=>nt,EA:()=>ye,Qf:()=>X,v_:()=>ee,Rn:()=>fe,e$:()=>ae,aY:()=>oe,Iu:()=>ne,_w:()=>Re,$I:()=>qe,xu:()=>_e});var i=n(74242),t=n(81948),c=n(76456),e=n(84202),p=n(54438);let m=(()=>{class Ge extends e.aE{constructor(Ke){super(),this.objectCache=Ke,this.toCache=!1}parse(Ke,Te){if(this.isSuccessStatus(Te.statusCode))return new c.hT(Te.statusCode);throw new Error("Unexpected response from server")}static{this.\u0275fac=function(Te){return new(Te||Ge)(p.KVO(t.$))}}static{this.\u0275prov=p.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})();var f=n(89777),v=n(35953),E=n(58771),y=n(80033),M=n(34621),b=n(62571),P=n(83800),D=n(61806),I=n(81640);let h=(()=>{class Ge extends I.D3{constructor(Ke){super(Ke),this.objectCache=Ke}deserialize(Ke){const Te=Ke.browseType;if(Ke.type===v.z.value&&(0,f.a4)(Te)){let pt;if(Te===b.L.value)pt=new this.serializerConstructor(M.R);else if(Te===y.z.value)pt=new this.serializerConstructor(E.P);else{if(Te!==D.o.value)throw new Error("An error occurred while retrieving the browse definitions.");pt=new this.serializerConstructor(P.f)}return pt.deserialize(Ke)}throw new Error("An error occurred while retrieving the browse definitions.")}static{this.\u0275fac=function(Te){return new(Te||Ge)(p.KVO(t.$))}}static{this.\u0275prov=p.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})();var S=n(60428),O=n(43125);class L{}let T=(()=>{class Ge extends I.D3{parse(Ke,Te){const pt=Te.payload,He=new S.T(O.Z).deserialize(pt);let Bt=[];return pt._embedded&&pt._embedded.harvestermetadata&&pt._embedded.harvestermetadata.configs&&(Bt=new S.T(L).serializeArray(pt._embedded.harvestermetadata.configs)),He.metadataConfigs=Bt,this.addToObjectCache(He,Ke,Te),new c.hT(Te.statusCode,He._links.self)}static{this.\u0275fac=(()=>{let Ke;return function(pt){return(Ke||(Ke=p.xGo(Ge)))(pt||Ge)}})()}static{this.\u0275prov=p.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})();var x=n(78544),N=n(72153);let j=(()=>{class Ge extends I.D3{parse(Ke,Te){try{Te=this.ensureSelfLink(Ke,Te);const pt=this.process(Te.payload,Ke);if((0,f.a4)(pt)){const He=pt.type;let Bt;return(0,f.a4)(He)&&(Bt=(0,N.Qt)(He)),(0,I.k_)(pt)&&(0,f.a4)(Bt)?new c.hT(Te.statusCode,pt._links.self):new c.hT(Te.statusCode,void 0,pt)}return new c.hT(Te.statusCode)}catch{return console.warn(`Couldn't parse endpoint request at ${Ke.href}`),new c.hT(Te.statusCode,void 0,{_links:Te.payload._links})}}deserialize(Ke){const Te=Ke.type;if((0,f.a4)(Te)){const pt=(0,N.Qt)(Te);if((0,f.a4)(pt))return new this.serializerConstructor(pt).deserialize(Ke)}return Ke}addToObjectCache(Ke,Te,pt,He){if(!(0,I.k_)(Ke)){const Bt=(0,f.a4)(pt)&&(0,f.a4)(pt.type)?pt.type:"object";let it;return it=(0,f.a4)(pt._embedded)?JSON.stringify(Object.assign({},pt,{_embedded:"..."})):JSON.stringify(pt),void console.warn(`Can't cache incomplete ${Bt}: ${JSON.stringify(Ke)}, parsed from (partial) response: ${it}`)}(0,f.a4)(this.getConstructorFor(Ke.type))&&this.objectCache.add(Ke,(0,f.a4)(Te.responseMsToLive)?Te.responseMsToLive:x.c.cache.msToLive.default,Te.uuid,He)}static{this.\u0275fac=(()=>{let Ke;return function(pt){return(Ke||(Ke=p.xGo(Ge)))(pt||Ge)}})()}static{this.\u0275prov=p.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})();var $=n(51801);class k{constructor(at,Ke,Te=$.D.GET,pt,He){this.uuid=at,this.href=Ke,this.method=Te,this.body=pt,this.options=He,this.responseMsToLive=x.c.cache.msToLive.default,this.isMultipart=!1}}class K extends k{}var z=function(Ge){return Ge.UUID="uuid",Ge.HANDLE="handle",Ge}(z||{});class V extends K{getResponseParser(){return I.D3}}class G extends V{constructor(at,Ke,Te,pt){super(at,Ke,$.D.GET,Te,pt),this.uuid=at,this.href=Ke,this.body=Te,this.options=pt}}class X extends V{constructor(at,Ke,Te,pt){super(at,Ke,$.D.POST,Te),this.uuid=at,this.href=Ke,this.body=Te,this.options=pt}}class Q extends V{constructor(at,Ke,Te,pt){super(at,Ke,$.D.POST,Te),this.uuid=at,this.href=Ke,this.body=Te,this.options=pt,this.isMultipart=!0}}class ee extends V{constructor(at,Ke,Te,pt){super(at,Ke,$.D.PUT,Te),this.uuid=at,this.href=Ke,this.body=Te,this.options=pt}}class ie extends V{constructor(at,Ke,Te,pt){super(at,Ke,$.D.DELETE,Te),this.uuid=at,this.href=Ke,this.body=Te,this.options=pt}}class ye extends V{constructor(at,Ke,Te,pt){super(at,Ke,$.D.PATCH,Te),this.uuid=at,this.href=Ke,this.body=Te,this.options=pt}}class re extends V{getResponseParser(){return h}}class Z extends G{getResponseParser(){return j}}class ne extends G{constructor(at,Ke){super(at,Ke)}getResponseParser(){return i.BE}}class fe extends ie{constructor(at,Ke){super(at,Ke),this.uuid=at,this.href=Ke}getResponseParser(){return i.BE}}class ae extends ye{constructor(at,Ke,Te){super(at,Ke,Te),this.uuid=at,this.href=Ke,this.body=Te}getResponseParser(){return i.BE}}class oe extends X{constructor(at,Ke,Te,pt){super(at,Ke,Te,pt),this.uuid=at,this.href=Ke,this.body=Te,this.options=pt}getResponseParser(){return i.BE}}class J extends X{constructor(at,Ke,Te,pt){super(at,Ke,Te,pt),this.body=Te,this.options=pt}}class ve extends G{constructor(at,Ke){super(at,Ke)}getResponseParser(){return T}}class _e extends ee{constructor(at,Ke,Te,pt){super(at,Ke,Te,pt),this.body=Te,this.options=pt}getResponseParser(){return T}}class Ce extends ie{constructor(at,Ke,Te){super(at,Ke),this.resourceID=Te}}class qe extends X{constructor(at,Ke,Te,pt){super(at,Ke,Te,pt),this.body=Te,this.options=pt}getResponseParser(){return m}}class Re extends ie{constructor(at,Ke,Te,pt){super(at,Ke,Te,pt),this.body=Te,this.options=pt}getResponseParser(){return m}}class nt extends G{constructor(){super(...arguments),this.responseMsToLive=1e4}}},3601:(B,C,n)=>{"use strict";n.d(C,{B:()=>Q});var i=n(21626),t=n(59640),c=n(84418),e=n.n(c),p=n(25007),m=n(22806),f=n(96697),v=n(96354),E=n(88141),y=n(25558),M=n(73028),b=n(47677),P=n(56594),D=n(5964),I=n(89777),h=n(81948),S=n(36482),O=n(30269),L=n(35331),T=n(51553),x=n(85186),N=n(51801),j=n(54438),$=n(65148);const k=(0,t.Mz)(O.N,ee=>ee["data/request"]),X=ee=>{if((0,I.Tn)(ee))return!1;if((0,x.VP)(ee.state))return!0;if((0,x.QO)(ee.state))return!1;{const ie=ee.response.timeCompleted+ee.request.responseMsToLive;return!((new Date).getTime()>ie)}};let Q=(()=>{class ee{constructor(te,he,ye){this.objectCache=te,this.uuidService=he,this.store=ye,this.requestsOnTheirWayToTheStore=[]}generateRequestId(){return`client/${this.uuidService.generate()}`}isPending(te){if(te.method!==N.D.GET)return!1;if(this.requestsOnTheirWayToTheStore.includes(te.href))return!0;let he=!1;return this.getByHref(te.href).pipe((0,f.s)(1)).subscribe(ye=>{he=(0,I.a4)(ye)&&(0,x.VP)(ye.state)&&!(0,x.QO)(ye.state)}),he}getByUUID(te){return this.store.pipe((0,t.Lt)((ee=>(0,t.Mz)(k,ie=>(0,I.a4)(ie)?ie[ee]:void 0))(te)),this.fixRequestHeaders(),this.checkStale())}fixRequestHeaders(){return te=>te.pipe((0,v.T)(he=>((0,I.a4)(he)&&(0,I.a4)(he.request)&&(0,I.a4)(he.request.options)&&(0,I.a4)(he.request.options.headers)&&((he=e()(he)).request.options.headers=Object.assign(new i.Lr,he.request.options.headers)),he)))}checkStale(){return te=>te.pipe((0,E.M)(he=>{(0,I.a4)(he)&&(0,I.a4)(he.request)&&!(0,x.QO)(he.state)&&!X(he)&&p.$.schedule(()=>this.store.dispatch(new T.HL(he.request.uuid)))}))}getByHref(te){return this.store.pipe((0,t.Lt)((ee=>(0,t.Mz)(L.bS,k,(ie,te)=>{let he;if((0,I.a4)(ie))return he=ie[(0,L.tJ)(ee)],(0,I.a4)(te)?te[he]:void 0}))(te)),this.fixRequestHeaders(),this.checkStale())}send(te,he=!1){return he&&te.method!==N.D.GET&&console.warn(`${JSON.stringify(te,null,2)} is not a GET request. In general only GET requests should reuse cached data.`),!!this.shouldDispatchRequest(te,he)&&(this.dispatchRequest(te),te.method===N.D.GET&&this.trackRequestsOnTheirWayToTheStore(te),!0)}uriEncodeBody(te){let he="";return(0,I.hj)(te)&&"object"==typeof te&&Object.keys(te).forEach(ye=>{const re=encodeURIComponent(ye);if(Array.isArray(te[ye]))for(const ce of te[ye]){const ne=`${re}=${encodeURIComponent(ce)}`;he=(0,I.Im)(he)?he.concat(ne):he.concat("&",ne)}else{const Z=`${re}=${encodeURIComponent(te[ye])}`;he=(0,I.Im)(he)?he.concat(Z):he.concat("&",Z)}}),he}removeByHrefSubstring(te){return this.setStaleByHrefSubstring(te)}setStaleByHrefSubstring(te){const he=this.store.pipe((0,t.Lt)(((ee,ie)=>(0,t.Mz)(ee,te=>((ee,ie)=>{let te=[];return(0,I.hj)(ee)&&(te=Object.keys(ee).filter(he=>he.includes(ie)).map(he=>ee[he])),te})(te,ie)))(L.bS,te)),(0,f.s)(1));return he.subscribe(ye=>{for(const re of ye)this.store.dispatch(new T.HL(re))}),this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(ye=>ye.indexOf(te)<0),he.pipe((0,y.n)(ye=>(0,I.Im)(ye)?[!0]:(0,m.H)(ye).pipe((0,M.Z)(re=>this.getByUUID(re)),(0,v.T)(re=>(0,I.Tn)(re)||(0,x.QO)(re.state)),(0,b.I)(re=>!0===re),(0,P.$)(),(0,v.T)(()=>!0))))}setStaleByUUID(te){return this.store.dispatch(new T.HL(te)),this.getByUUID(te).pipe((0,v.T)(he=>(0,x.QO)(he.state)),(0,D.p)(he=>he),(0,f.s)(1))}setStaleByHref(te){const he=this.getByHref(te);return he.pipe((0,D.p)(ye=>(0,I.hj)(ye)),(0,v.T)(ye=>ye.request.uuid),(0,f.s)(1)).subscribe(ye=>{this.store.dispatch(new T.HL(ye))}),he.pipe((0,v.T)(ye=>(0,x.QO)(ye.state)),(0,D.p)(ye=>ye),(0,f.s)(1))}shouldDispatchRequest(te,he){if(te.method!==N.D.GET)return!0;if(this.isPending(te))return!1;if(he){const ye=(0,L.tJ)(te.href);if(!0===this.hasByHref(ye))return!1;{let re=!1;return this.objectCache.getByHref(ye).subscribe(ce=>{re=this.hasByUUID(ce.requestUUIDs[0])}).unsubscribe(),!re}}return!0}dispatchRequest(te){p.$.schedule(()=>{this.store.dispatch(new T.uw(te)),this.store.dispatch(new T.PW(te.uuid))})}trackRequestsOnTheirWayToTheStore(te){this.requestsOnTheirWayToTheStore=[...this.requestsOnTheirWayToTheStore,te.href],this.getByHref(te.href).pipe((0,D.p)(he=>(0,I.a4)(he)&&(0,I.a4)(he.request)&&he.request.uuid===te.uuid),(0,f.s)(1)).subscribe(he=>{this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(ye=>ye!==te.href)})}commit(te){this.store.dispatch(new S.eR(te))}hasByHref(te,he=!0){let ye=!1;return this.hasByHref$(te,he).subscribe(re=>ye=re).unsubscribe(),ye}hasByHref$(te,he=!0){return this.getByHref(te).pipe((0,v.T)(ye=>he?X(ye):(0,I.a4)(ye)))}hasByUUID(te,he=!0){let ye=!1;return this.hasByUUID$(te,he).subscribe(re=>ye=re).unsubscribe(),ye}hasByUUID$(te,he=!0){return this.getByUUID(te).pipe((0,v.T)(ye=>he?X(ye):(0,I.a4)(ye)))}static{this.\u0275fac=function(he){return new(he||ee)(j.KVO(h.$),j.KVO($.v),j.KVO(t.il))}}static{this.\u0275prov=j.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})()},51801:(B,C,n)=>{"use strict";n.d(C,{D:()=>i});var i=function(t){return t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t.OPTIONS="OPTIONS",t.HEAD="HEAD",t.PATCH="PATCH",t}(i||{})},82923:(B,C,n)=>{"use strict";n.r(C),n.d(C,{RootDataService:()=>M});var i=n(7673),t=n(99437),c=n(96354),e=n(57775),p=n(81948),m=n(7094),f=n(4093),v=n(90066),E=n(3601),y=n(54438);let M=(()=>{class b extends v.L{constructor(D,I,h,S){super("",D,I,h,S,216e5),this.requestService=D,this.rdbService=I,this.objectCache=h,this.halService=S}checkServerAvailability(){return this.findRoot().pipe((0,t.W)(D=>(console.error(D),(0,i.of)(!1))),(0,f.qD)(),(0,c.T)(D=>200===D.statusCode))}findRoot(D=!0,I=!0,...h){return this.findByHref(this.halService.getRootHref(),D,I,...h)}invalidateRootCache(){this.requestService.setStaleByHref(this.halService.getRootHref())}static{this.\u0275fac=function(I){return new(I||b)(y.KVO(E.B),y.KVO(e.o),y.KVO(p.$),y.KVO(m.Y))}}static{this.\u0275prov=y.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}}return b})()},78341:(B,C,n)=>{"use strict";n.d(C,{z:()=>v});var i=n(89777),t=n(97104),c=n(76456),e=n(60428),p=n(54095),m=n(81640),f=n(54438);let v=(()=>{class E extends m.D3{parse(M,b){const D=b.payload._embedded.searchResult||{_embedded:{objects:[]}};D.appliedFilters=b.payload.appliedFilters,D.sort=b.payload.sort,D.scope=b.payload.scope,D.configuration=b.payload.configuration;const I=D._embedded.objects.map(L=>L.hitHighlights).map(L=>{const T={};if(L)for(const x of Object.keys(L)){const N=Object.assign(new p.vD,{value:L[x].join("..."),language:null});T[x]=[N]}return T}),h=D._embedded.objects.filter(L=>(0,i.a4)(L._embedded)).map(L=>L._embedded.indexableObject).map(L=>this.process(L,M)).map(L=>L._links.self.href).reduce((L,T)=>[...L,T],[]),S=D._embedded.objects.filter(L=>(0,i.a4)(L._embedded)).map((L,T)=>Object.assign({},L,{indexableObject:h[T],hitHighlights:I[T]}));D.objects=S;const O=new e.T(t.n).deserialize(D);return O.pageInfo=this.processPageInfo(D),this.addToObjectCache(O,M,b),new c.hT(b.statusCode,O._links.self)}static{this.\u0275fac=(()=>{let M;return function(P){return(M||(M=f.xGo(E)))(P||E)}})()}static{this.\u0275prov=f.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},45402:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SiteDataService:()=>y});var i=n(96354),t=n(57775),c=n(81948),e=n(7094),p=n(4093),m=n(90066),f=n(88667),v=n(3601),E=n(54438);let y=(()=>{class M extends m.L{constructor(P,D,I,h){super("sites",P,D,I,h),this.requestService=P,this.rdbService=D,this.objectCache=I,this.halService=h,this.findAllData=new f.H(this.linkPath,P,D,I,h,this.responseMsToLive)}find(){return this.findAll().pipe((0,p.yd)(),(0,i.T)(P=>P.payload),(0,i.T)(P=>P.page[0]))}findAll(P,D,I,...h){return this.findAllData.findAll(P,D,I,...h)}static{this.\u0275fac=function(D){return new(D||M)(E.KVO(v.B),E.KVO(t.o),E.KVO(c.$),E.KVO(e.Y))}}static{this.\u0275prov=E.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},74642:(B,C,n)=>{"use strict";n.d(C,{M:()=>c});var i=n(76456),t=n(54438);let c=(()=>{class e{parse(m,f){return new i.Ku(f.statusCode>=200&&f.statusCode<300,f.statusCode,f.statusText)}static{this.\u0275fac=function(f){return new(f||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},35659:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SystemWideAlertDataService:()=>b});var i=n(9847),t=n(57775),c=n(81948),e=n(7094),p=n(18328),m=n(88667),f=n(20881),v=n(53271),E=n(60796),y=n(3601),M=n(54438);let b=(()=>{class P extends f.W{constructor(I,h,S,O,L){super("systemwidealerts",I,h,S,O),this.requestService=I,this.rdbService=h,this.objectCache=S,this.halService=O,this.notificationsService=L,this.findAllData=new m.H(this.linkPath,I,h,S,O,this.responseMsToLive),this.createData=new p.V(this.linkPath,I,h,S,O,L,this.responseMsToLive),this.putData=new v.W(this.linkPath,I,h,S,O,this.responseMsToLive),this.searchData=new E.X(this.linkPath,I,h,S,O,this.responseMsToLive)}findAll(I,h,S,...O){return this.findAllData.findAll(I,h,S,...O)}create(I,...h){return this.createData.create(I,...h)}put(I){return this.putData.put(I)}searchBy(I,h,S,O,...L){return this.searchData.searchBy(I,h,S,O,...L)}static{this.\u0275fac=function(h){return new(h||P)(M.KVO(y.B),M.KVO(t.o),M.KVO(c.$),M.KVO(e.Y),M.KVO(i.I))}}static{this.\u0275prov=M.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})()},57439:(B,C,n)=>{"use strict";n.r(C),n.d(C,{VersionDataService:()=>I});var i=n(983),t=n(25558),c=n(96354),e=n(89777),p=n(4600),m=n(57775),f=n(81948),v=n(7094),E=n(4093),y=n(20881),M=n(4318),b=n(96443),P=n(3601),D=n(54438);let I=(()=>{class h extends y.W{constructor(O,L,T,x,N){super("versions",O,L,T,x),this.requestService=O,this.rdbService=L,this.objectCache=T,this.halService=x,this.comparator=N,this.patchData=new M.n(this.linkPath,O,L,T,x,N,this.responseMsToLive,this.constructIdEndpoint)}getHistoryFromVersion(O,L=!1,T=!0){return(0,e.hj)(O)?this.findById(O.id,L,T,(0,p.s)("versionhistory")).pipe((0,E.ak)(),(0,t.n)(x=>x.versionhistory),(0,E.ak)()):i.w}getHistoryIdFromVersion(O){return this.getHistoryFromVersion(O).pipe((0,c.T)(L=>L.id))}patch(O,L){return this.patchData.patch(O,L)}update(O){return this.patchData.update(O)}commitUpdates(O){this.patchData.commitUpdates(O)}createPatchFromCache(O){return this.patchData.createPatchFromCache(O)}static{this.\u0275fac=function(L){return new(L||h)(D.KVO(P.B),D.KVO(m.o),D.KVO(f.$),D.KVO(v.Y),D.KVO(b.Y))}}static{this.\u0275prov=D.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},7164:(B,C,n)=>{"use strict";n.r(C),n.d(C,{VersionHistoryDataService:()=>N});var i=n(21626),t=n(84572),c=n(7673),e=n(25558),p=n(96354),m=n(96697),f=n(47677),v=n(5964),E=n(89777),y=n(8417),M=n(30726),b=n(4600),P=n(57775),D=n(81948),I=n(7094),h=n(4093),S=n(20881),O=n(49755),L=n(3601),T=n(57439),x=n(54438);let N=(()=>{class j extends S.W{constructor(k,K,z,V,G){super("versionhistories",k,K,z,V),this.requestService=k,this.rdbService=K,this.objectCache=z,this.halService=V,this.versionDataService=G,this.versionsEndpoint="versions"}getBrowseEndpoint(k={},K){return this.halService.getEndpoint(this.linkPath)}getVersionsEndpoint(k){return this.getBrowseEndpoint().pipe((0,e.n)(K=>this.halService.getEndpoint(this.versionsEndpoint,`${K}/${k}`)))}getVersions(k,K,z=!0,V=!0,...G){const X=this.getVersionsEndpoint(k).pipe((0,p.T)(Q=>K?K.toRestUrl(Q):Q));return this.versionDataService.findListByHref(X,void 0,z,V,...G)}createVersion(k,K){const z=this.requestService.generateRequestId(),V=Object.create({});let G=new i.Lr;return G=G.append("Content-Type","text/uri-list"),V.headers=G,this.halService.getEndpoint(this.versionsEndpoint).pipe((0,m.s)(1),(0,p.T)(X=>K?.length>0?`${X}?summary=${encodeURIComponent(K)}`:`${X}`),(0,f.I)(X=>(0,E.a4)(X))).subscribe(X=>{const Q=new O.Qf(z,X,k,V);(0,E.a4)(this.responseMsToLive)&&(Q.responseMsToLive=this.responseMsToLive),this.requestService.send(Q)}),this.rdbService.buildFromRequestUUIDAndAwait(z,X=>(0,t.z)([this.requestService.setStaleByHrefSubstring(X.payload._links.self.href),this.requestService.setStaleByHrefSubstring(X.payload._links.versionhistory.href)])).pipe((0,h.qD)())}getLatestVersionFromHistory$(k){const K=Object.assign(new y.W,{id:"item-newest-version-options",currentPage:1,pageSize:1}),z=new M.C({pagination:K});return this.getVersions(k.id,z,!1,!0,(0,b.s)("item")).pipe((0,h.v7)(),(0,h.Bo)(),(0,E.Az)(),(0,v.p)(V=>V.page.length>0),(0,p.T)(V=>V.page[0]))}getLatestVersion$(k){return k.id?this.versionDataService.findById(k.id,!1,!0,(0,b.s)("versionhistory")).pipe((0,h.ak)(),(0,e.n)(K=>K.versionhistory),(0,h.ak)(),(0,e.n)(K=>this.getLatestVersionFromHistory$(K))):(0,c.of)(null)}isLatest$(k){return k?this.getLatestVersion$(k).pipe((0,m.s)(1),(0,e.n)(K=>(0,c.of)(k.version===K.version))):(0,c.of)(null)}hasDraftVersion$(k){return this.versionDataService.findByHref(k,!1,!0,(0,b.s)("versionhistory")).pipe((0,h.qD)(),(0,e.n)(K=>K.hasSucceeded&&!K.hasNoContent&&(0,E.a4)(K.payload)?K.payload.versionhistory.pipe((0,h.qD)(),(0,p.T)(z=>!(!z.hasSucceeded||z.hasNoContent)&&z.payload.draftVersion)):(0,c.of)(!1)))}getLatestVersionItemFromHistory$(k){return this.getLatestVersionFromHistory$(k).pipe((0,e.n)(K=>K.item),(0,h.ak)())}getVersionHistoryFromVersion$(k){return this.versionDataService.getHistoryIdFromVersion(k).pipe((0,m.s)(1),(0,e.n)(K=>this.findById(K)),(0,h.ak)())}invalidateVersionHistoryCache(k){this.requestService.setStaleByHrefSubstring("versioning/versionhistories/"+k)}static{this.\u0275fac=function(K){return new(K||j)(x.KVO(L.B),x.KVO(P.o),x.KVO(D.$),x.KVO(I.Y),x.KVO(T.VersionDataService))}}static{this.\u0275prov=x.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}}return j})()},14597:(B,C,n)=>{"use strict";n.r(C),n.d(C,{WorkflowActionDataService:()=>f});var i=n(57775),t=n(81948),c=n(7094),e=n(20881),p=n(3601),m=n(54438);let f=(()=>{class v extends e.W{constructor(y,M,b,P){super("workflowactions",y,M,b,P),this.requestService=y,this.rdbService=M,this.objectCache=b,this.halService=P,this.linkPath="workflowactions"}static{this.\u0275fac=function(M){return new(M||v)(m.KVO(p.B),m.KVO(i.o),m.KVO(t.$),m.KVO(c.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},32506:(B,C,n)=>{"use strict";n.d(C,{Y:()=>y});var i=n(21626),t=n(18810),c=n(96354),e=n(99437),p=n(89777),m=n(88884),f=n(51801),v=n(54438);const E="application/json; charset=utf-8";let y=(()=>{class M{constructor(P){this.http=P}get(P){const D={observe:"response",headers:new i.Lr({"Content-Type":E})};return this.http.get(P,D).pipe((0,c.T)(I=>({payload:I.body,statusCode:I.status,statusText:I.statusText})),(0,e.W)(I=>(0,t.$)(()=>(console.log("Error: ",I),this.handleHttpError(I)))))}request(P,D,I,h,S){const O={};return O.body=I,P===f.D.POST&&(0,p.hj)(I)&&(0,p.hj)(I.name)&&(O.body=this.buildFormData(I)),O.observe="response",h&&h.responseType&&(O.responseType=h.responseType),O.headers=(0,p.Tn)(h)||(0,p.Tn)(h.headers)?new i.Lr:h.headers,h&&h.params&&(O.params=h.params),h&&h.withCredentials&&(O.withCredentials=h.withCredentials),!O.headers.has("Content-Type")&&!S&&(O.headers=O.headers.set("Content-Type",E)),this.http.request(P,D,O).pipe((0,c.T)(L=>({payload:L.body,headers:L.headers,statusCode:L.status,statusText:L.statusText})),(0,e.W)(L=>(0,t.$)(()=>this.handleHttpError(L))))}buildFormData(P){const D=new FormData;if(D.append("name",P.name),P.metadata)for(const I of Object.keys(P.metadata))for(const h of P.allMetadataValues(I))D.append(I,h);return D}handleHttpError(P){if(P instanceof i.yz){const D=new m.G((0,p.hj)(P?.error?.message)?P.error.message:P.message);return D.statusCode=P.status,D.statusText=P.statusText,D}return console.error("Cannot construct RequestError from",P),P}static{this.\u0275fac=function(D){return new(D||M)(v.KVO(i.Qq))}}static{this.\u0275prov=v.jDH({token:M,factory:M.\u0275fac})}}return M})()},60428:(B,C,n)=>{"use strict";n.d(C,{T:()=>t});var i=n(74850);class t{constructor(e){this.modelType=e}serialize(e){return(0,i.Serialize)(e,this.modelType)}serializeArray(e){return(0,i.Serialize)(e,this.modelType)}deserialize(e){if(Array.isArray(e))throw new Error("Expected a single model, use deserializeArray() instead");return(0,i.Deserialize)(e,this.modelType)}deserializeArray(e){if(!Array.isArray(e))throw new Error("Expected an Array, use deserialize() instead");return(0,i.Deserialize)(e,this.modelType)}}},17102:(B,C,n)=>{"use strict";n.d(C,{e:()=>m});var i=n(54438),t=n(7901),c=n(7673),e=n(78544),p=n(19548);const m=f=>(v,E)=>{const y=(0,i.WQX)(t.Ix);return e.c.info.enableEndUserAgreement?f().pipe((0,p.gM)(y,E.url)):(0,c.of)(!0)}},40220:(B,C,n)=>{"use strict";n.d(C,{GH:()=>P,Mk:()=>b});var i=n(7673),t=n(25558),c=n(96354),e=n(96697),p=n(89777),m=n(94196),f=n(13817),v=n(4093),E=n(54438),y=n(67138);const M="hasAgreedEndUser",b="dspace.agreements.end-user";let P=(()=>{class D{constructor(h,S,O){this.cookie=h,this.authService=S,this.ePersonService=O}hasCurrentUserOrCookieAcceptedAgreement(h){return this.isCookieAccepted()?(0,i.of)(!0):this.hasCurrentUserAcceptedAgreement(h)}hasCurrentUserAcceptedAgreement(h){return this.authService.isAuthenticated().pipe((0,t.n)(S=>S?this.authService.getAuthenticatedUserFromStore().pipe((0,c.T)(O=>(0,p.a4)(O)&&O.hasMetadata(b)&&"true"===O.firstMetadata(b).value)):(0,i.of)(h)))}setUserAcceptedAgreement(h){return this.authService.isAuthenticated().pipe((0,t.n)(S=>S?this.authService.getAuthenticatedUserFromStore().pipe((0,e.s)(1),(0,t.n)(O=>{const L={value:String(h)};let T;return T=O.hasMetadata(b)?{op:"replace",path:`/metadata/${b}/0`,value:L}:{op:"add",path:`/metadata/${b}`,value:[L]},this.ePersonService.patch(O,[T])}),(0,v.qD)(),(0,c.T)(O=>O.hasSucceeded)):(this.setCookieAccepted(h),(0,i.of)(!0))),(0,e.s)(1))}isCookieAccepted(){return!0===this.cookie.get(M)}setCookieAccepted(h){this.cookie.set(M,h)}removeCookieAccepted(){this.cookie.remove(M)}static{this.\u0275fac=function(S){return new(S||D)(E.KVO(y.O),E.KVO(m.uR),E.KVO(f.EPersonDataService))}}static{this.\u0275prov=E.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},13817:(B,C,n)=>{"use strict";n.r(C),n.d(C,{EPersonDataService:()=>G,editEPersonSelector:()=>V});var i=n(59640),t=n(96354),c=n(96697),e=n(47677),p=n(42589),m=n(49601),f=n(89777),v=n(9847),E=n(57775),y=n(10186),M=n(81948),b=n(18328),P=n(72073),D=n(20881),I=n(4318),h=n(60796),S=n(73054),O=n(36343),L=n(58956),T=n(25788),x=n(49755),N=n(3601),j=n(7094),$=n(4093),k=n(73409),K=n(54438);const V=(0,i.Mz)(X=>X.epeopleRegistry,X=>X.editEPerson);let G=(()=>{class X extends D.W{constructor(ee,ie,te,he,ye,re,ce){super("epersons",ee,ie,te,he),this.requestService=ee,this.rdbService=ie,this.objectCache=te,this.halService=he,this.comparator=ye,this.notificationsService=re,this.store=ce,this.searchByEmailPath="byEmail",this.searchByMetadataPath="byMetadata",this.createData=new b.V(this.linkPath,ee,ie,te,he,re,this.responseMsToLive),this.searchData=new h.X(this.linkPath,ee,ie,te,he,this.responseMsToLive),this.patchData=new I.n(this.linkPath,ee,ie,te,he,ye,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new P.I(this.linkPath,ee,ie,te,he,re,this.responseMsToLive,this.constructIdEndpoint)}searchByScope(ee,ie,te={},he,ye=!0){switch(ee){case"metadata":default:return this.getEpeopleByMetadata(ie.trim(),te,he,ye);case"email":return this.getEPersonByEmail(ie.trim(),he,ye).pipe((0,t.T)(re=>{if(re.hasSucceeded){let ce;return ce=204===re.statusCode||(0,f.Tn)(re.payload)?[]:[re.payload],new T.j(re.timeCompleted,re.msToLive,re.lastUpdated,re.state,re.errorMessage,(0,L.g)(new k.Q({elementsPerPage:te.elementsPerPage,totalElements:ce.length,totalPages:ce.length,currentPage:1}),ce),re.statusCode)}return re}))}}getEPersonByEmail(ee,ie=!0,te=!0,...he){const ye=new O._;ye.searchParams=[new y.x("email",ee)];const re=this.searchData.getSearchByHref(this.searchByEmailPath,ye,...he);return this.findByHref(re,ie,te,...he)}getEpeopleByMetadata(ee,ie,te=!0,he=!0,...ye){const re=[new y.x("query",ee)];return this.getEPeopleBy(re,this.searchByMetadataPath,ie,te,he,...ye)}getEPeopleBy(ee,ie,te,he=!0,ye=!0,...re){let ce=new O._;return te&&(ce=Object.assign(new O._,te)),ce.searchParams=ce.searchParams?[...ce.searchParams,...ee]:ee,this.searchBy(ie,ce,he,ye,...re)}searchNonMembers(ee,ie,te,he=!0,ye=!0,...re){const ce=[new y.x("query",ee),new y.x("group",ie)];let Z=new O._;return te&&(Z=Object.assign(new O._,te)),Z.searchParams=Z.searchParams?[...Z.searchParams,...ce]:ce,this.searchBy("isNotMemberOf",Z,he,ye,...re)}updateEPerson(ee){const ie=this.requestService.generateRequestId();return this.findByHref(ee._links.self.href,!0,!1).pipe((0,$.yd)(),(0,$.Bo)(),(0,c.s)(1)).subscribe(he=>{const ye=this.generateOperations(he,ee),re=new x.EA(ie,ee._links.self.href,ye);return this.requestService.send(re)}),this.rdbService.buildFromRequestUUID(ie)}generateOperations(ee,ie){let te=this.comparator.diff(ee,ie).filter(he=>["replace","add"].includes(he.op));return(0,f.a4)(ee.email)&&ee.email!==ie.email&&(te=[...te,{op:"replace",path:"/email",value:ie.email}]),(0,f.a4)(ee.requireCertificate)&&ee.requireCertificate!==ie.requireCertificate&&(te=[...te,{op:"replace",path:"/certificate",value:ie.requireCertificate}]),(0,f.a4)(ee.canLogIn)&&ee.canLogIn!==ie.canLogIn&&(te=[...te,{op:"replace",path:"/canLogIn",value:ie.canLogIn}]),te}clearEPersonRequests(){this.getBrowseEndpoint().pipe((0,c.s)(1)).subscribe(ee=>{this.requestService.removeByHrefSubstring(ee)})}clearLinkRequests(ee){this.requestService.setStaleByHrefSubstring(ee)}getActiveEPerson(){return this.store.pipe((0,i.Lt)(V))}cancelEditEPerson(){this.store.dispatch(new m.oQ)}editEPerson(ee){this.store.dispatch(new m._c(ee))}deleteEPerson(ee){return this.delete(ee.id)}startEditingNewEPerson(ee){return this.getActiveEPerson().pipe((0,c.s)(1)).subscribe(ie=>{ee===ie?this.cancelEditEPerson():this.editEPerson(ee)}),(0,p.Ax)(ee.id)}createEPersonForToken(ee,ie){const te=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,t.T)(ye=>`${ye}?token=${ie}`)).pipe((0,e.I)(ye=>(0,f.a4)(ye))).subscribe(ye=>{const re=new x.Qf(te,ye,ee);this.requestService.send(re)}),this.rdbService.buildFromRequestUUID(te)}patchPasswordWithToken(ee,ie,te){const he=this.requestService.generateRequestId(),ye=Object.assign({op:"add",path:"/password",value:{new_password:te}});return this.halService.getEndpoint(this.linkPath).pipe((0,t.T)(ce=>this.getIDHref(ce,ee)),(0,t.T)(ce=>`${ce}?token=${ie}`)).pipe((0,e.I)(ce=>(0,f.a4)(ce))).subscribe(ce=>{const Z=new x.EA(he,ce,[ye]);this.requestService.send(Z)}),this.rdbService.buildFromRequestUUID(he)}mergeEPersonDataWithToken(ee,ie,te){const he=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,t.T)(re=>(0,f.a4)(te)?`${re}/${ee}?token=${ie}&override=${te}`:`${re}/${ee}?token=${ie}`)).pipe((0,e.I)(re=>(0,f.a4)(re))).subscribe(re=>{const ce=new x.Qf(he,re);this.requestService.send(ce)}),this.rdbService.buildFromRequestUUID(he)}create(ee,...ie){return this.createData.create(ee,...ie)}searchBy(ee,ie,te,he,...ye){return this.searchData.searchBy(ee,ie,te,he,...ye)}createPatchFromCache(ee){return this.patchData.createPatchFromCache(ee)}patch(ee,ie){return this.patchData.patch(ee,ie)}update(ee){return this.patchData.update(ee)}commitUpdates(ee){this.patchData.commitUpdates(ee)}delete(ee,ie){return this.deleteData.delete(ee,ie)}deleteByHref(ee,ie){return this.deleteData.deleteByHref(ee,ie)}static{this.\u0275fac=function(ie){return new(ie||X)(K.KVO(N.B),K.KVO(E.o),K.KVO(M.$),K.KVO(j.Y),K.KVO(S.j),K.KVO(v.I),K.KVO(i.il))}}static{this.\u0275prov=K.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})()},2086:(B,C,n)=>{"use strict";n.r(C),n.d(C,{GroupDataService:()=>z});var i=n(21626),t=n(59640),c=n(44437),e=n(96697),p=n(42589),m=n(42319),f=n(9847),v=n(43446),E=n(57775),y=n(10186),M=n(81948),b=n(18328),P=n(72073),D=n(20881),I=n(4318),h=n(60796),S=n(73054),O=n(36343),L=n(49755),T=n(3601),x=n(7094),N=n(4093),j=n(49340),$=n(54438);const K=(0,t.Mz)(V=>V.groupRegistry,V=>V.editGroup);let z=(()=>{class V extends D.W{constructor(X,Q,ee,ie,te,he,ye,re){super("groups",X,Q,ee,ie),this.requestService=X,this.rdbService=Q,this.objectCache=ee,this.halService=ie,this.comparator=te,this.notificationsService=he,this.nameService=ye,this.store=re,this.browseEndpoint="",this.ePersonsEndpoint="epersons",this.subgroupsEndpoint="subgroups",this.createData=new b.V(this.linkPath,X,Q,ee,ie,he,this.responseMsToLive),this.searchData=new h.X(this.linkPath,X,Q,ee,ie,this.responseMsToLive),this.patchData=new I.n(this.linkPath,X,Q,ee,ie,te,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new P.I(this.linkPath,X,Q,ee,ie,he,this.responseMsToLive,this.constructIdEndpoint)}searchGroups(X,Q,ee=!0,ie=!0,...te){const he=[new y.x("query",X)];let ye=new O._;return Q&&(ye=Object.assign(new O._,Q)),ye.searchParams=ye.searchParams?[...ye.searchParams,...he]:he,this.searchBy("byMetadata",ye,ee,ie,...te)}searchNonMemberGroups(X,Q,ee,ie=!0,te=!0,...he){const ye=[new y.x("query",X),new y.x("group",Q)];let re=new O._;return ee&&(re=Object.assign(new O._,ee)),re.searchParams=re.searchParams?[...re.searchParams,...ye]:ye,this.searchBy("isNotMemberOf",re,ie,te,...he)}addSubGroupToGroup(X,Q){const ee=this.requestService.generateRequestId(),ie=Object.create({});let te=new i.Lr;te=te.append("Content-Type","text/uri-list"),ie.headers=te;const he=new L.Qf(ee,X.self+"/"+this.subgroupsEndpoint,Q.self,ie);return this.requestService.send(he),this.rdbService.buildFromRequestUUIDAndAwait(ee,()=>(0,c.y)(this.invalidateByHref(X._links.self.href),this.requestService.setStaleByHrefSubstring(X._links.subgroups.href).pipe((0,e.s)(1))))}deleteSubGroupFromGroup(X,Q){const ee=this.requestService.generateRequestId(),ie=new L.$(ee,X.self+"/"+this.subgroupsEndpoint+"/"+Q.id);return this.requestService.send(ie),this.rdbService.buildFromRequestUUIDAndAwait(ee,()=>(0,c.y)(this.invalidateByHref(X._links.self.href),this.requestService.setStaleByHrefSubstring(X._links.subgroups.href).pipe((0,e.s)(1))))}addMemberToGroup(X,Q){const ee=this.requestService.generateRequestId(),ie=Object.create({});let te=new i.Lr;te=te.append("Content-Type","text/uri-list"),ie.headers=te;const he=new L.Qf(ee,X.self+"/"+this.ePersonsEndpoint,Q.self,ie);return this.requestService.send(he),this.rdbService.buildFromRequestUUIDAndAwait(ee,()=>(0,c.y)(this.invalidateByHref(Q._links.self.href),this.requestService.setStaleByHrefSubstring(Q._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(X._links.epersons.href).pipe((0,e.s)(1))))}deleteMemberFromGroup(X,Q){const ee=this.requestService.generateRequestId(),ie=new L.$(ee,X.self+"/"+this.ePersonsEndpoint+"/"+Q.id);return this.requestService.send(ie),this.rdbService.buildFromRequestUUIDAndAwait(ee,()=>(0,c.y)(this.invalidateByHref(Q._links.self.href),this.requestService.setStaleByHrefSubstring(Q._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(X._links.epersons.href).pipe((0,e.s)(1))))}getActiveGroup(){return this.store.pipe((0,t.Lt)(K))}cancelEditGroup(){this.store.dispatch(new m.Sb)}editGroup(X){this.store.dispatch(new m.C(X))}clearGroupsRequests(){this.getBrowseEndpoint().pipe((0,e.s)(1)).subscribe(X=>{this.requestService.removeByHrefSubstring(X)})}clearGroupLinkRequests(X){this.requestService.setStaleByHrefSubstring(X)}getGroupRegistryRouterLink(){return"/access-control/groups"}startEditingNewGroup(X){return this.getActiveGroup().pipe((0,e.s)(1)).subscribe(Q=>{X===Q?this.cancelEditGroup():this.editGroup(X)}),this.getGroupEditPageRouterLinkWithID(X.id)}getGroupEditPageRouterLink(X){return(0,p.xl)(X.id)}getGroupEditPageRouterLinkWithID(X){return(0,p.xl)(X)}getUUIDFromString(X){let Q="";const ee=X.match(/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/g);return null!=ee&&(Q=ee[0]),Q}createComcolGroup(X,Q,ee){const ie=this.requestService.generateRequestId(),te=Object.assign(new j.Y,{metadata:{"dc.description":[{value:`${this.nameService.getName(X)} ${Q} group`}]}});this.requestService.send(new L.QU(ie,ee,JSON.stringify(te)));const he=this.rdbService.buildFromRequestUUID(ie).pipe((0,N.qD)());return he.subscribe(ye=>{ye.hasSucceeded&&this.requestService.removeByHrefSubstring(ee)}),he}deleteComcolGroup(X){const Q=this.requestService.generateRequestId();this.requestService.send(new L.$(Q,X));const ee=this.rdbService.buildFromRequestUUID(Q).pipe((0,N.qD)());return ee.subscribe(ie=>{ie.hasSucceeded&&this.requestService.removeByHrefSubstring(X)}),ee}create(X,...Q){return this.createData.create(X,...Q)}searchBy(X,Q,ee,ie,...te){return this.searchData.searchBy(X,Q,ee,ie,...te)}createPatchFromCache(X){return this.patchData.createPatchFromCache(X)}patch(X,Q){return this.patchData.patch(X,Q)}update(X){return this.patchData.update(X)}commitUpdates(X){this.patchData.commitUpdates(X)}delete(X,Q){return this.deleteData.delete(X,Q)}deleteByHref(X,Q){return this.deleteData.deleteByHref(X,Q)}static{this.\u0275fac=function(Q){return new(Q||V)($.KVO(T.B),$.KVO(E.o),$.KVO(M.$),$.KVO(x.Y),$.KVO(S.j),$.KVO(f.I),$.KVO(v.f),$.KVO(t.il))}}static{this.\u0275prov=$.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}}return V})()},23681:(B,C,n)=>{"use strict";n.d(C,{h:()=>i});class i{}},89253:(B,C,n)=>{"use strict";n.d(C,{f:()=>v});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(73685),m=n(70963),f=n(59922);let v=class extends p.M{static{this.type=m.N}get name(){return this.firstMetadataValue("eperson.firstname")+" "+this.firstMetadataValue("eperson.lastname")}getRenderTypes(){return["EPerson",this.constructor.name,...super.getRenderTypes()]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"handle",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"netid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"lastActive",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"canLogIn",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"email",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"requireCertificate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"selfRegistered",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"password",void 0),(0,i.Cg)([(0,e.nf)(f.U,!0),(0,i.Sn)("design:type",c.c)],v.prototype,"groups",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(p.M)],v)},70963:(B,C,n)=>{"use strict";n.d(C,{N:()=>t});const t=new(n(44043).v)("eperson")},49340:(B,C,n)=>{"use strict";n.d(C,{Y:()=>y});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(73685),m=n(80675),f=n(94152),v=n(70963),E=n(59922);let y=class extends p.M{static{this.type=E.U}};(0,i.Cg)([f.aK,(0,t.autoserializeAs)("name"),(0,i.Sn)("design:type",String)],y.prototype,"_name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"handle",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"permanent",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.U,!0),(0,i.Sn)("design:type",c.c)],y.prototype,"subgroups",void 0),(0,i.Cg)([(0,e.nf)(v.N,!0),(0,i.Sn)("design:type",c.c)],y.prototype,"epersons",void 0),(0,i.Cg)([(0,e.nf)(m.X),(0,i.Sn)("design:type",c.c)],y.prototype,"object",void 0),y=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(p.M)],y)},59922:(B,C,n)=>{"use strict";n.d(C,{U:()=>t});const t=new(n(44043).v)("group")},49229:(B,C,n)=>{"use strict";n.d(C,{z:()=>t});const t=new(n(44043).v)("workflowitem")},16811:(B,C,n)=>{"use strict";n.d(C,{l:()=>t});const t=new(n(44043).v)("workspaceitem")},44242:(B,C,n)=>{"use strict";n.d(C,{BA:()=>S,oL:()=>h,wq:()=>O});var i=n(60177),t=n(84412),c=n(983),e=n(84572),p=n(7673),m=n(96697),f=n(96354),v=n(25558),E=n(88141),y=n(89777),M=n(94925),b=n(19252),P=n(4093),D=n(54438),I=n(67138);const h="_GRECAPTCHA",S="google-recaptcha";let O=(()=>{class L{captchaKey(){return this.captchaKeySubject$.asObservable()}captchaMode(){return this.captchaModeSubject$.asObservable()}captchaVersion(){return this.captchaVersionSubject$.asObservable()}constructor(x,N,j,$,k){this.cookieService=x,this._document=N,this._window=j,this.configService=k,this.captchaVersionSubject$=new t.t(null),this.captchaKeySubject$=new t.t(null),this.captchaModeSubject$=new t.t(null),this.refreshCaptchaScript=()=>{this.loadRecaptchaProperties().subscribe()},this._window.nativeWindow&&(this._window.nativeWindow.refreshCaptchaScript=this.refreshCaptchaScript),this.renderer=$.createRenderer(null,null),this.configService.findByPropertyName("registration.verification.enabled").pipe((0,m.s)(1),(0,P.qD)(),(0,f.T)(z=>z.hasSucceeded&&z.payload&&(0,y.hj)(z.payload.values)&&"true"===z.payload.values[0].toLowerCase())).pipe((0,v.n)(z=>z?this.loadRecaptchaProperties():c.w)).subscribe()}loadRecaptchaProperties(){const x=this.configService.findByPropertyName("google.recaptcha.key.site").pipe((0,P.qD)()),N=this.configService.findByPropertyName("google.recaptcha.version").pipe((0,P.qD)()),j=this.configService.findByPropertyName("google.recaptcha.mode").pipe((0,P.qD)());return(0,e.z)([N,j,x]).pipe((0,E.M)(([$,k,K])=>{if(this.cookieService.get("orejime-anonymous")&&this.cookieService.get("orejime-anonymous")[S]&&K.hasSucceeded&&$.hasSucceeded&&(0,y.hj)($.payload?.values)&&(0,y.hj)(K.payload?.values)){const z=K.payload?.values[0],V=$.payload?.values[0];let G;switch(this.captchaKeySubject$.next(z),this.captchaVersionSubject$.next(V),V){case"v3":K.hasSucceeded&&(0,y.hj)(K.payload?.values)&&(G=this.buildCaptchaUrl(z),this.captchaModeSubject$.next("invisible"));break;case"v2":k.hasSucceeded&&(0,y.hj)(k.payload?.values)&&(G=this.buildCaptchaUrl(),this.captchaModeSubject$.next(k.payload?.values[0]))}G&&this.loadScript(G)}}))}getRecaptchaToken(x){return this.captchaKey().pipe((0,v.n)(N=>grecaptcha.execute(N,{action:x})))}executeRecaptcha(){return(0,p.of)(grecaptcha.execute())}getRecaptchaTokenResponse(){return grecaptcha.getResponse()}buildCaptchaUrl(x){const N="https://www.google.com/recaptcha/api.js";return x?`${N}?render=${x}`:N}loadScript(x){return new Promise((N,j)=>{const $=this.renderer.createElement("script");$.type="text/javascript",$.src=x,$.text="",$.onload=N,$.onerror=j,this.renderer.appendChild(this._document.head,$)})}static{this.\u0275fac=function(N){return new(N||L)(D.KVO(I.O),D.KVO(i.qQ),D.KVO(b.lc),D.KVO(D._9s),D.KVO(M.ConfigurationDataService))}}static{this.\u0275prov=D.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},75794:(B,C,n)=>{"use strict";n.d(C,{_:()=>c,i:()=>t});var i=n(6800);const t={ADD_TO_HISTORY:(0,i.N)("dspace/history/ADD_TO_HISTORY"),GET_HISTORY:(0,i.N)("dspace/history/GET_HISTORY")};class c{constructor(p){this.type=t.ADD_TO_HISTORY,this.payload={url:p}}}},25056:(B,C,n)=>{"use strict";n.d(C,{U:()=>i});var i=function(t){return t.OBJECT="object/uuid-to-self-link",t.REQUEST="get-request/href-to-uuid",t.ALTERNATIVE_OBJECT_LINK="object/alt-link-to-self-link",t}(i||{})},77274:(B,C,n)=>{"use strict";n.d(C,{H9:()=>e,Lv:()=>c,NL:()=>p,WJ:()=>t});var i=n(6800);const t={ADD:(0,i.N)("dspace/core/index/ADD"),REMOVE_BY_VALUE:(0,i.N)("dspace/core/index/REMOVE_BY_VALUE"),REMOVE_BY_SUBSTRING:(0,i.N)("dspace/core/index/REMOVE_BY_SUBSTRING")};class c{constructor(f,v,E){this.type=t.ADD,this.payload={name:f,key:v,value:E}}}class e{constructor(f,v){this.type=t.REMOVE_BY_VALUE,this.payload={name:f,value:v}}}class p{constructor(f,v){this.type=t.REMOVE_BY_SUBSTRING,this.payload={name:f,value:v}}}},35331:(B,C,n)=>{"use strict";n.d(C,{Fn:()=>D,Qc:()=>P,bS:()=>y,fW:()=>f,tJ:()=>m,vH:()=>b});var i=n(59640),t=n(89777),c=n(30269),e=n(5127),p=n(25056);const m=I=>{if((0,t.hj)(I))try{const h=new URL(I);if((0,t.hj)(h.search)){const S=h.search.split(/[?|&]/).filter(L=>(0,t.hj)(L)).filter(L=>!(L.startsWith("embed=")||L.startsWith("embed.size=")));let O="";return(0,t.hj)(S)&&(O=`?${S.join("&")}`),I=new e.t(h.origin,h.pathname,O).toString()}}catch{}return I},f=I=>{if((0,t.hj)(I))try{const h=new URL(I);if((0,t.hj)(h.search))return h.search.split(/[?|&]/).filter(S=>(0,t.hj)(S)).map(S=>S.match(/^embed.size=([^=]+)=(\d+)$/)).filter(S=>(0,t.a4)(S)&&(0,t.a4)(S[1])&&(0,t.a4)(S[2])).map(S=>({name:S[1],size:Number(S[2])}))}catch{}return[]},v=(0,i.Mz)(c.N,I=>I.index),E=(0,i.Mz)(v,I=>I[p.U.OBJECT]),y=(0,i.Mz)(v,I=>I[p.U.REQUEST]),M=(0,i.Mz)(v,I=>I[p.U.ALTERNATIVE_OBJECT_LINK]),b=I=>(0,i.Mz)(E,h=>(0,t.a4)(h)?h[I]:void 0),P=I=>(0,i.Mz)(y,h=>(0,t.a4)(h)?h[m(I)]:void 0),D=I=>(0,i.Mz)(M,h=>(0,t.a4)(h)?h[I]:void 0)},33553:(B,C,n)=>{"use strict";n.d(C,{S:()=>c});var i=n(89777),t=n(5127);class c extends t.t{constructor(p,...m){super(p,...m),this._rootElement=p,this._subRootElement=m.join("/")}get rootElement(){return this._rootElement}get subRootElement(){return this._subRootElement}getPath(p){(0,i.EA)(p)&&Array.isArray(p)&&(p=p.join("/"));let m="/"+this.toString();return(0,i.EA)(p)&&(m+="/"+p),{rootElement:this._rootElement,subRootElement:this._subRootElement,path:m}}}},46755:(B,C,n)=>{"use strict";n.d(C,{Bp:()=>P,Ce:()=>t,MI:()=>c,QZ:()=>M,X2:()=>v,Zd:()=>e,kM:()=>b,pg:()=>m,qy:()=>f,td:()=>y,v$:()=>p});var i=n(6800);const t={NEW_JSON_PATCH_ADD_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_ADD_OPERATION"),NEW_JSON_PATCH_COPY_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_COPY_OPERATION"),NEW_JSON_PATCH_MOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_MOVE_OPERATION"),NEW_JSON_PATCH_REMOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REMOVE_OPERATION"),NEW_JSON_PATCH_REPLACE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REPLACE_OPERATION"),COMMIT_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/COMMIT_JSON_PATCH_OPERATIONS"),ROLLBACK_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/ROLLBACK_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATION:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATION"),START_TRANSACTION_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/START_TRANSACTION_JSON_PATCH_OPERATIONS"),DELETE_PENDING_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/DELETE_PENDING_JSON_PATCH_OPERATIONS")};class c{constructor(I,h){this.type=t.COMMIT_JSON_PATCH_OPERATIONS,this.payload={resourceType:I,resourceId:h}}}class e{constructor(I,h){this.type=t.ROLLBACK_JSON_PATCH_OPERATIONS,this.payload={resourceType:I,resourceId:h}}}class p{constructor(I,h,S){this.type=t.START_TRANSACTION_JSON_PATCH_OPERATIONS,this.payload={resourceType:I,resourceId:h,startTime:S}}}class m{constructor(I,h){this.type=t.FLUSH_JSON_PATCH_OPERATIONS,this.payload={resourceType:I,resourceId:h}}}class f{constructor(I,h,S){this.type=t.FLUSH_JSON_PATCH_OPERATION,this.payload={resourceType:I,resourceId:h,path:S}}}class v{constructor(I,h,S,O){this.type=t.NEW_JSON_PATCH_ADD_OPERATION,this.payload={resourceType:I,resourceId:h,path:S,value:O}}}class y{constructor(I,h,S,O){this.type=t.NEW_JSON_PATCH_MOVE_OPERATION,this.payload={resourceType:I,resourceId:h,from:S,path:O}}}class M{constructor(I,h,S){this.type=t.NEW_JSON_PATCH_REMOVE_OPERATION,this.payload={resourceType:I,resourceId:h,path:S}}}class b{constructor(I,h,S,O){this.type=t.NEW_JSON_PATCH_REPLACE_OPERATION,this.payload={resourceType:I,resourceId:h,path:S,value:O}}}class P{constructor(){this.type=t.DELETE_PENDING_JSON_PATCH_OPERATIONS}}},44583:(B,C,n)=>{"use strict";n.d(C,{M:()=>t});var i=n(59030);function t(c,e,p){return(0,i.v)(()=>c.has(e)&&"function"==typeof c.get(e)?c.get(e)().then(f=>p.get("default"in f?f.default:f)).catch(f=>{throw f}):null)}},97576:(B,C,n)=>{"use strict";n.d(C,{iH:()=>S,m4:()=>I});var i=n(60177),t=n(84572),c=n(7673),e=n(96697),p=n(73028),m=n(96354),f=n(78544),v=n(89777),E=n(94196),y=n(87507),M=n(19252),b=n(54438),P=n(67138),D=n(68018);const I="dsLanguage";var h=function(O){return O[O.UI=0]="UI",O[O.EPERSON=1]="EPERSON",O[O.BROWSER=2]="BROWSER",O}(h||{});let S=(()=>{class O{constructor(T,x,N,j,$,k){this._window=T,this.cookie=x,this.translate=N,this.authService=j,this.routeService=$,this.document=k,this.EPERSON_LANG_METADATA="eperson.language"}getCurrentLanguageCode(){let T=this.getLanguageCodeFromCookie();return((0,v.Im)(T)||void 0===f.c.languages.find(x=>x.code===T&&x.active))&&(T=this.translate.getLangs().includes(this.translate.getBrowserLang())?this.translate.getBrowserLang():f.c.defaultLanguage),T}getLanguageCodeList(){return(0,t.z)([this.authService.isAuthenticated(),this.authService.isAuthenticationLoaded()]).pipe((0,e.s)(1),(0,p.Z)(([x,N])=>(0,c.of)([]).pipe((0,m.T)($=>{const k=[];return this.translate.currentLang&&k.push(...this.setQuality([this.translate.currentLang],h.UI,!1)),(0,v.hj)($)&&k.push(...$),navigator.languages&&k.push(...this.setQuality(Object.assign([],navigator.languages),h.BROWSER,!(0,v.Im)(this.translate.currentLang))),k}))))}getLanguageCodeFromCookie(){return this.cookie.get(I)}saveLanguageCodeToCookie(T){this.cookie.set(I,T)}setCurrentLanguageCode(T){(0,v.Im)(T)&&(T=this.getCurrentLanguageCode()),this.translate.use(T),this.saveLanguageCodeToCookie(T),this.document.documentElement.lang=T}setQuality(T,x,N){const j=[];let $=0;const k=T.length>10?T.length:10;let K;switch(x){case h.EPERSON:K=2;break;case h.BROWSER:K=N?10:1;break;default:K=1}return T.forEach(z=>{let V=z+";q=",G=(k-$++)/k;G=T.length>10?G.toFixed(2):G,V+=G/K,j.push(V)}),j}refreshAfterChangeLanguage(){this.routeService.getCurrentUrl().pipe((0,e.s)(1)).subscribe(T=>{this._window.nativeWindow.location.href=`reload/${(new Date).getTime()}?redirect=`+encodeURIComponent(T)})}static{this.\u0275fac=function(x){return new(x||O)(b.KVO(M.lc),b.KVO(P.O),b.KVO(D.c$),b.KVO(E.uR),b.KVO(y.v$),b.KVO(i.qQ))}}static{this.\u0275prov=b.jDH({token:O,factory:O.\u0275fac})}}return O})()},33749:(B,C,n)=>{"use strict";n.d(C,{A:()=>M});var i=n(31635),t=n(74850),c=n(71985),e=n(89777),p=n(77766),m=n(72153),f=n(44043),v=n(94152),E=n(46499),y=n(23942);let M=class extends p.u{static{this.type=E.R}toString(P="."){let D=this.element;return(0,e.hj)(this.qualifier)&&(D+=P+this.qualifier),D}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([v.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],M.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],M.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"element",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"qualifier",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"scopeNote",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],M.prototype,"_links",void 0),(0,i.Cg)([(0,m.nf)(y.M),(0,i.Sn)("design:type",c.c)],M.prototype,"schema",void 0),M=(0,i.Cg)([m.gV],M)},46499:(B,C,n)=>{"use strict";n.d(C,{R:()=>t});const t=new(n(44043).v)("metadatafield")},27632:(B,C,n)=>{"use strict";n.d(C,{p:()=>v});var i=n(31635),t=n(74850),c=n(77766),e=n(72153),p=n(44043),m=n(94152),f=n(23942);let v=class extends c.u{static{this.type=f.M}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"id",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"prefix",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"namespace",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([e.gV],v)},23942:(B,C,n)=>{"use strict";n.d(C,{M:()=>t});const t=new(n(44043).v)("metadataschema")},75082:(B,C,n)=>{"use strict";n.d(C,{T:()=>e});var i=n(89777),t=n(54095),c=n(54438);let e=(()=>{class p{isVirtual(f){return(0,i.a4)(f?.authority)&&f.authority.startsWith(t.BY)}virtualValue(f){if(this.isVirtual(f))return f.authority.substring(f.authority.indexOf(t.BY)+t.BY.length)}static{this.\u0275fac=function(v){return new(v||p)}}static{this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},78130:(B,C,n)=>{"use strict";n.r(C),n.d(C,{QualityAssuranceEventDataService:()=>T});var i=n(21626),t=n(47677),c=n(96697),e=n(25558),p=n(89777),m=n(9847),f=n(57775),v=n(10186),E=n(81948),y=n(18328),M=n(72073),b=n(20881),P=n(4318),D=n(60796),I=n(96443),h=n(49755),S=n(3601),O=n(7094),L=n(54438);let T=(()=>{class x extends b.W{constructor(j,$,k,K,z,V){super("qualityassuranceevents",j,$,k,K),this.requestService=j,this.rdbService=$,this.objectCache=k,this.halService=K,this.notificationsService=z,this.comparator=V,this.createData=new y.V(this.linkPath,j,$,k,K,z,this.responseMsToLive),this.deleteData=new M.I(this.linkPath,j,$,k,K,z,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new P.n(this.linkPath,j,$,k,K,V,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new D.X(this.linkPath,j,$,k,K,this.responseMsToLive)}getEventsByTopic(j,$={},...k){return $.searchParams=[new v.x("topic",j)],this.searchData.searchBy("findByTopic",$,!0,!0,...k)}searchEventsByTopic(j={},...$){return this.searchData.searchBy("findByTopic",j,!0,!0,...$)}clearFindByTopicRequests(){this.requestService.setStaleByHrefSubstring("findByTopic")}getEvent(j,...$){return this.findById(j,!0,!0,...$)}patchEvent(j,$,k){return this.patchData.patch($,[{path:"/status",op:"replace",value:j}])}boundProject(j,$){return this.postOnRelated(j,$)}removeProject(j){return this.deleteOnRelated(j)}deleteOnRelated(j){const $=this.requestService.generateRequestId();return this.getIDHrefObs(j).pipe((0,t.I)(K=>(0,p.a4)(K))).subscribe(K=>{const z=new h.Dk($,K+"/related",j);(0,p.a4)(this.responseMsToLive)&&(z.responseMsToLive=this.responseMsToLive),this.requestService.send(z)}),this.rdbService.buildFromRequestUUID($)}postOnRelated(j,$,k){const K=this.requestService.generateRequestId();return this.getIDHrefObs(j).pipe((0,c.s)(1)).subscribe(V=>{const G=new h.Qf(K,V+"/related?item="+$,k);(0,p.a4)(this.responseMsToLive)&&(G.responseMsToLive=this.responseMsToLive),this.requestService.send(G)}),this.rdbService.buildFromRequestUUID(K)}postData(j,$,k,K){const z=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,e.n)(G=>{const X=Object.create({});let Q=new i.Lr;Q=Q.append("Content-Type","application/json"),X.headers=Q;let ee=new i.Nl;ee=ee.append("target",j).append("correctionType",$),X.params=ee;const ie=new h.Qf(z,G,{reason:K},X);return(0,p.a4)(this.responseMsToLive)&&(ie.responseMsToLive=this.responseMsToLive),this.requestService.send(ie),this.rdbService.buildFromRequestUUID(z)}))}deleteQAEvent(j){return this.deleteData.delete(j.id)}static{this.\u0275fac=function($){return new($||x)(L.KVO(S.B),L.KVO(f.o),L.KVO(E.$),L.KVO(O.Y),L.KVO(m.I),L.KVO(I.Y))}}static{this.\u0275prov=L.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})()},20387:(B,C,n)=>{"use strict";n.r(C),n.d(C,{QualityAssuranceSourceDataService:()=>y});var i=n(9847),t=n(57775),c=n(81948),e=n(88667),p=n(20881),m=n(60796),f=n(3601),v=n(7094),E=n(54438);let y=(()=>{class M extends p.W{constructor(P,D,I,h,S){super("qualityassurancesources",P,D,I,h),this.requestService=P,this.rdbService=D,this.objectCache=I,this.halService=h,this.notificationsService=S,this.searchByTargetMethod="byTarget",this.findAllData=new e.H(this.linkPath,P,D,I,h,this.responseMsToLive),this.searchAllData=new m.X(this.linkPath,P,D,I,h,this.responseMsToLive)}getSources(P={},D=!0,I=!0,...h){return this.findAllData.findAll(P,D,I,...h)}clearFindAllSourceRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancesources")}getSource(P,D=!0,I=!0,...h){return this.findById(P,D,I,...h)}getSourcesByTarget(P={},D=!0,I=!0,...h){return this.searchAllData.searchBy(this.searchByTargetMethod,P,D,I,...h)}static{this.\u0275fac=function(D){return new(D||M)(E.KVO(f.B),E.KVO(t.o),E.KVO(c.$),E.KVO(v.Y),E.KVO(i.I))}}static{this.\u0275prov=E.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},45688:(B,C,n)=>{"use strict";n.r(C),n.d(C,{QualityAssuranceTopicDataService:()=>y});var i=n(9847),t=n(57775),c=n(81948),e=n(88667),p=n(20881),m=n(60796),f=n(3601),v=n(7094),E=n(54438);let y=(()=>{class M extends p.W{constructor(P,D,I,h,S){super("qualityassurancetopics",P,D,I,h),this.requestService=P,this.rdbService=D,this.objectCache=I,this.halService=h,this.notificationsService=S,this.searchByTargetMethod="byTarget",this.searchBySourceMethod="bySource",this.findAllData=new e.H(this.linkPath,P,D,I,h,this.responseMsToLive),this.searchData=new m.X(this.linkPath,P,D,I,h,this.responseMsToLive)}searchTopicsByTarget(P={},D=!0,I=!0,...h){return this.searchData.searchBy(this.searchByTargetMethod,P,D,I,...h)}searchTopicsBySource(P={},D=!0,I=!0,...h){return this.searchData.searchBy(this.searchBySourceMethod,P,D,I,...h)}clearFindAllTopicsRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancetopics")}getTopic(P,D=!0,I=!0,...h){return this.findById(P,D,I,...h)}static{this.\u0275fac=function(D){return new(D||M)(E.KVO(f.B),E.KVO(t.o),E.KVO(c.$),E.KVO(v.Y),E.KVO(i.I))}}static{this.\u0275prov=E.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},90762:(B,C,n)=>{"use strict";n.d(C,{P:()=>t});const t=new(n(44043).v)("suggestion")},60781:(B,C,n)=>{"use strict";n.d(C,{V:()=>v});var i=n(31635),t=n(74850),c=n(72153),e=n(54095),p=n(44043),m=n(94152),f=n(90762);let v=class{static{this.type=f.P}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"source",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"externalSourceUri",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"score",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],v.prototype,"evidences",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(e.Of),(0,i.Sn)("design:type",e.Cr)],v.prototype,"metadata",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],v.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([c.gV],v)},295:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SuggestionDataService:()=>b});var i=n(9847),t=n(57775),c=n(10186),e=n(81948),p=n(72073),m=n(20881),f=n(60796),v=n(3601),E=n(7094),y=n(54438),M=n(21626);let b=(()=>{class P extends m.W{constructor(I,h,S,O,L,T){super("suggestions",I,h,S,O),this.requestService=I,this.rdbService=h,this.objectCache=S,this.halService=O,this.notificationsService=L,this.http=T,this.searchFindByTargetAndSourceMethod="findByTargetAndSource",this.deleteData=new p.I(this.linkPath,I,h,S,O,L,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new f.X(this.linkPath,I,h,S,O,this.responseMsToLive)}deleteSuggestion(I){return this.deleteData.delete(I)}getSuggestionsByTargetAndSource(I,h,S={},...O){return S.searchParams=[new c.x("target",I),new c.x("source",h)],this.searchData.searchBy(this.searchFindByTargetAndSourceMethod,S,!1,!0,...O)}clearSuggestionRequests(){this.requestService.setStaleByHrefSubstring(this.searchFindByTargetAndSourceMethod)}static{this.\u0275fac=function(h){return new(h||P)(y.KVO(v.B),y.KVO(t.o),y.KVO(e.$),y.KVO(E.Y),y.KVO(i.I),y.KVO(M.Qq))}}static{this.\u0275prov=y.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})()},64959:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SuggestionTargetDataService:()=>D});var i=n(9847),t=n(57775),c=n(10186),e=n(81948),p=n(88667),m=n(20881),f=n(60796),v=n(96443),E=n(3601),y=n(7094),M=n(54438),b=n(59640),P=n(21626);let D=(()=>{class I extends m.W{constructor(S,O,L,T,x,N,j,$){super("suggestiontargets",S,O,T,x),this.requestService=S,this.rdbService=O,this.store=L,this.objectCache=T,this.halService=x,this.notificationsService=N,this.http=j,this.comparator=$,this.linkPath="suggestiontargets",this.searchFindBySourceMethod="findBySource",this.searchFindByTargetMethod="findByTarget",this.findAllData=new p.H(this.linkPath,S,O,T,x,this.responseMsToLive),this.searchData=new f.X(this.linkPath,S,O,T,x,this.responseMsToLive)}getTargetsBySource(S,O={},L=!0,T=!0,...x){return O.searchParams=[new c.x("source",S)],this.searchBy(this.searchFindBySourceMethod,O,L,T,...x)}getTargetsByUser(S,O={},...L){return O.searchParams=[new c.x("target",S)],this.searchBy(this.searchFindByTargetMethod,O,!0,!0,...L)}getTargetById(S){return this.findById(S)}searchBy(S,O,L,T,...x){return this.searchData.searchBy(S,O,L,T,...x)}findAll(S={},O=!0,L=!0,...T){return this.findAllData.findAll(S,O,L,...T)}static{this.\u0275fac=function(O){return new(O||I)(M.KVO(E.B),M.KVO(t.o),M.KVO(b.il),M.KVO(e.$),M.KVO(y.Y),M.KVO(i.I),M.KVO(P.Qq),M.KVO(v.Y))}}static{this.\u0275prov=M.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},31:(B,C,n)=>{"use strict";n.d(C,{m:()=>D});var i=n(84572),t=n(96354),c=n(5964),e=n(96697),p=n(89777),f=n(94525),v=n(8417),E=n(70998),y=n(36343),M=n(87507),b=n(54438),P=n(7901);let D=(()=>{class I{constructor(S,O){this.routeService=S,this.router=O,this.defaultSortOptions=new E.z("dc.title",E.U.ASC),this.clearParams={}}getCurrentPagination(S,O){const L=this.routeService.getQueryParameterValue(`${S}.page`),T=this.routeService.getQueryParameterValue(`${S}.rpp`);return(0,i.z)([L,T]).pipe((0,t.T)(([x,N])=>Object.assign(new v.W,O,{currentPage:this.convertToNumeric(x,O.currentPage),pageSize:this.getBestMatchPageSize(N,O)})))}getCurrentSort(S,O,L){!L&&((0,p.Im)(O)||!(0,p.a4)(O))&&(O=this.defaultSortOptions);const T=this.routeService.getQueryParameterValue(`${S}.sd`),x=this.routeService.getQueryParameterValue(`${S}.sf`);return(0,i.z)([T,x]).pipe((0,t.T)(([N,j])=>new E.z(j||O?.field,E.U[N]||O?.direction)))}getFindListOptions(S,O,L){const T=new v.W;T.currentPage=O.currentPage,T.pageSize=O.elementsPerPage;const x=this.getCurrentPagination(S,T),N=this.getCurrentSort(S,O.sort,L);return(0,i.z)([x,N]).pipe((0,c.p)(([j,$])=>(0,p.a4)(j)&&(0,p.a4)($)),(0,t.T)(([j,$])=>Object.assign(new y._,O,{sort:$,currentPage:j.currentPage,elementsPerPage:j.pageSize})))}resetPage(S){this.updateRoute(S,{page:1})}updateRoute(S,O,L,T,x){this.updateRouteWithUrl(S,[],O,L,T,x)}updateRouteWithUrl(S,O,L,T,x,N){this.getCurrentRouting(S).subscribe(j=>{const $=this.getParametersWithIdName(S,j),k=this.getParametersWithIdName(S,L);if((0,p.hj)((0,f.iv)(k,$))||(0,p.hj)(T)||(0,p.hj)(this.clearParams)){const K=Object.assign({},this.clearParams,$,k,T);this.router.navigate(O,x?{queryParams:K,queryParamsHandling:"merge",fragment:`p-${S}`,...N}:{queryParams:K,queryParamsHandling:"merge",...N}),this.clearParams={}}})}clearPagination(S){const O={};O[`${S}.page`]=null,O[`${S}.rpp`]=null,O[`${S}.sf`]=null,O[`${S}.sd`]=null,Object.assign(this.clearParams,O)}getPageParam(S){return`${S}.page`}getCurrentRouting(S){return this.getFindListOptions(S,{},!0).pipe((0,e.s)(1),(0,t.T)(O=>({page:O.currentPage,pageSize:O.elementsPerPage,sortField:O.sort.field,sortDirection:O.sort.direction})))}getParametersWithIdName(S,O){const L={};return(0,p.a4)(O.page)&&(L[`${S}.page`]=`${O.page}`),(0,p.a4)(O.pageSize)&&(L[`${S}.rpp`]=`${O.pageSize}`),(0,p.a4)(O.sortField)&&(L[`${S}.sf`]=`${O.sortField}`),(0,p.a4)(O.sortDirection)&&(L[`${S}.sd`]=`${O.sortDirection}`),L}convertToNumeric(S,O){let L=O;return function m(I){return!Array.isArray(I)&&I-parseFloat(I)+1>=0}(S)&&(L=+S),L}getBestMatchPageSize(S,O){const L=this.convertToNumeric(S,O.pageSize),T=O.pageSizeOptions.map(N=>Math.abs(N-L)),x=Math.min.apply(Math,T);return O.pageSizeOptions[T.indexOf(x)]}static{this.\u0275fac=function(O){return new(O||I)(b.KVO(M.v$),b.KVO(P.Ix))}}static{this.\u0275prov=b.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},12207:(B,C,n)=>{"use strict";n.d(C,{w:()=>y});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(56538),m=n(46884),f=n(44043),v=n(94152),E=n(78397);let y=class extends p.I{static{this.type=E.T}};(0,i.Cg)([v.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([(0,t.deserializeAs)("id"),(0,i.Sn)("design:type",String)],y.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"visible",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.U),(0,i.Sn)("design:type",c.c)],y.prototype,"item",void 0),y=(0,i.Cg)([e.gV],y)},78397:(B,C,n)=>{"use strict";n.d(C,{T:()=>t});const t=new(n(44043).v)("profile")},89894:(B,C,n)=>{"use strict";n.r(C),n.d(C,{ResearcherProfileDataService:()=>K});var i=n(21626),t=n(7673),c=n(96354),e=n(47677),p=n(73028),m=n(89777),f=n(9847),v=n(34180),E=n(4600),y=n(57775),M=n(81948),b=n(18328),P=n(72073),D=n(20881),I=n(4318),h=n(60796),S=n(96443),O=n(61206),L=n(49755),T=n(3601),x=n(7094),N=n(4093),j=n(12207),$=n(54438),k=n(7901);let K=(()=>{class z extends D.W{constructor(G,X,Q,ee,ie,te,he,ye){super("profiles",G,X,Q,ee,1e4),this.requestService=G,this.rdbService=X,this.objectCache=Q,this.halService=ee,this.notificationsService=ie,this.router=te,this.comparator=he,this.itemService=ye,this.createData=new b.V(this.linkPath,G,X,Q,ee,ie,this.responseMsToLive),this.patchData=new I.n(this.linkPath,G,X,Q,ee,he,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new h.X(this.linkPath,G,X,Q,ee,this.responseMsToLive),this.deleteData=new P.I(this.linkPath,G,X,Q,ee,ie,this.responseMsToLive,this.constructIdEndpoint)}findByRelatedItem(G){const X=G.firstMetadata("dspace.object.owner")?.authority;return(0,m.Im)(X)?(0,v.PM)():this.findById(X)}findRelatedItemId(G){return(G.item?G.item:this.itemService.findByHref(G._links.item.href,!1)).pipe((0,N.qD)(),(0,c.T)(Q=>Q.hasSucceeded&&Q.payload?Q.payload.id:null))}setVisibility(G,X){return this.patch(G,[{path:"/visible",op:"replace",value:X}])}createFromExternalSource(G){const X=Object.create({});let Q=new i.Lr;Q=Q.append("Content-Type","text/uri-list"),X.headers=Q;const ee=this.requestService.generateRequestId();return this.halService.getEndpoint(this.getLinkPath()).pipe((0,e.I)(te=>(0,m.a4)(te)),(0,c.T)(te=>this.buildHrefWithParams(te,[],(0,E.s)("item")))).subscribe(te=>{const he=new L.Qf(ee,te,G,X);this.requestService.send(he)}),this.rdbService.buildFromRequestUUID(ee,(0,E.s)("item"))}createFromExternalSourceAndReturnRelatedItemId(G){return this.createFromExternalSource(G).pipe((0,N.qD)(),(0,p.Z)(X=>X.hasSucceeded?this.findRelatedItemId(X.payload):(0,t.of)(null)))}create(G,...X){return(0,m.Im)(G)&&(G=new j.w),this.createData.create(G,...X)}searchBy(G,X,Q,ee,...ie){return this.searchData.searchBy(G,X,Q,ee,...ie)}getSearchByHref(G,X,...Q){return this.searchData.getSearchByHref(G,X,...Q)}commitUpdates(G){this.patchData.commitUpdates(G)}createPatchFromCache(G){return this.patchData.createPatchFromCache(G)}patch(G,X){return this.patchData.patch(G,X)}update(G){return this.patchData.update(G)}delete(G,X){return this.deleteData.delete(G,X)}deleteByHref(G,X){return this.deleteData.deleteByHref(G,X)}static{this.\u0275fac=function(X){return new(X||z)($.KVO(T.B),$.KVO(y.o),$.KVO(M.$),$.KVO(x.Y),$.KVO(f.I),$.KVO(k.Ix),$.KVO(S.Y),$.KVO(O.ItemDataService))}}static{this.\u0275prov=$.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},32795:(B,C,n)=>{"use strict";n.d(C,{X:()=>i});var i=function(t){return t.READ="READ",t.WRITE="WRITE",t.DELETE="DELETE",t.ADD="ADD",t.REMOVE="REMOVE",t[t.WORKFLOW_STEP_1=5]="WORKFLOW_STEP_1",t[t.WORKFLOW_STEP_2=6]="WORKFLOW_STEP_2",t[t.WORKFLOW_STEP_3=7]="WORKFLOW_STEP_3",t[t.WORKFLOW_ABORT=8]="WORKFLOW_ABORT",t.DEFAULT_BITSTREAM_READ="DEFAULT_BITSTREAM_READ",t.DEFAULT_ITEM_READ="DEFAULT_ITEM_READ",t.ADMIN="ADMIN",t.WITHDRAWN_READ="WITHDRAWN_READ",t}(i||{})},36835:(B,C,n)=>{"use strict";n.d(C,{t:()=>i});var i=function(t){return t.TYPE_SUBMISSION="TYPE_SUBMISSION",t.TYPE_WORKFLOW="TYPE_WORKFLOW",t.TYPE_INHERITED="TYPE_INHERITED",t.TYPE_CUSTOM="TYPE_CUSTOM",t}(i||{})},77123:(B,C,n)=>{"use strict";n.d(C,{h:()=>P});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(96283),m=n(70963),f=n(59922),v=n(44043),E=n(94152),b=(n(32795),n(36835),n(10129));let P=class{static{this.type=b.O}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"policyType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],P.prototype,"action",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"startDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"endDate",void 0),(0,i.Cg)([E.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],P.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new p.a("resource-policy"),"id"),(0,i.Sn)("design:type",String)],P.prototype,"uuid",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],P.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",c.c)],P.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(f.U),(0,i.Sn)("design:type",c.c)],P.prototype,"group",void 0),P=(0,i.Cg)([e.gV],P)},10129:(B,C,n)=>{"use strict";n.d(C,{O:()=>t});const t=new(n(44043).v)("resourcepolicy")},8672:(B,C,n)=>{"use strict";n.d(C,{T:()=>i});var i=function(t){return t.Submitter="submitter",t.Controller="controller",t.Admin="admin",t}(i||{})},70161:(B,C,n)=>{"use strict";n.d(C,{W:()=>m});var i=n(7673),t=n(23294),c=n(69295),e=n(8672),p=n(54438);let m=(()=>{class f{constructor(E){this.collectionService=E}isSubmitter(){return this.collectionService.hasAuthorizedCollection().pipe((0,t.F)())}isController(){return(0,i.of)(!0)}isAdmin(){return(0,i.of)(!1)}checkRole(E){let y;switch(E){case e.T.Submitter:y=this.isSubmitter();break;case e.T.Controller:y=this.isController();break;case e.T.Admin:y=this.isAdmin()}return y}static{this.\u0275fac=function(y){return new(y||f)(p.KVO(c.CollectionDataService))}}static{this.\u0275prov=p.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},67138:(B,C,n)=>{"use strict";n.d(C,{O:()=>c});var i=n(21413),t=n(54438);let c=(()=>{class e{constructor(){this.cookieSource=new i.B,this.cookies$=this.cookieSource.asObservable()}updateSource(){this.cookieSource.next(this.getAll())}static{this.\u0275fac=function(f){return new(f||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})()},95488:(B,C,n)=>{"use strict";n.d(C,{$:()=>t});var i=n(54438);let t=(()=>{class c{static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275prov=i.jDH({token:c,factory:c.\u0275fac})}}return c})()},47561:(B,C,n)=>{"use strict";n.d(C,{m:()=>c});var i=n(60177),t=n(54438);let c=(()=>{class e{constructor(m,f){this.rendererFactory=m,this.document=f}addTag(m){try{const f=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.gXe.None,styles:[],data:{}}),v=f.createElement("link"),E=this.document.head;if(null===E)throw new Error("<head> not found within DOCUMENT.");return Object.keys(m).forEach(y=>f.setAttribute(v,y,m[y])),f.appendChild(E,v),f}catch(f){console.error("Error within linkService: ",f)}}removeTag(m){if(m)try{const f=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.gXe.None,styles:[],data:{}}),v=this.document.head;if(null===v)throw new Error("<head> not found within DOCUMENT.");const E=this.document.querySelectorAll("link["+m+"]");for(const y of E)f.removeChild(v,y)}catch(f){f instanceof Error&&console.error("Error while removing tag: "+f.message)}}static{this.\u0275fac=function(f){return new(f||e)(t.KVO(t._9s),t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},64691:(B,C,n)=>{"use strict";n.d(C,{f:()=>t});var i=n(54438);let t=(()=>{class c{static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275prov=i.jDH({token:c,factory:c.\u0275fac})}}return c})()},20009:(B,C,n)=>{"use strict";n.d(C,{$H:()=>m,HH:()=>t,Yb:()=>v,eL:()=>f,fP:()=>e,hX:()=>c,sV:()=>E});var i=n(6800);const t={SET_QUERY_PARAMETERS:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETERS"),SET_PARAMETERS:(0,i.N)("dspace/core/route/SET_PARAMETERS"),ADD_QUERY_PARAMETER:(0,i.N)("dspace/core/route/ADD_QUERY_PARAMETER"),ADD_PARAMETER:(0,i.N)("dspace/core/route/ADD_PARAMETER"),SET_QUERY_PARAMETER:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETER"),SET_PARAMETER:(0,i.N)("dspace/core/route/SET_PARAMETER"),RESET:(0,i.N)("dspace/core/route/RESET")};class c{constructor(M){this.type=t.SET_QUERY_PARAMETERS,this.payload=M}}class e{constructor(M){this.type=t.SET_PARAMETERS,this.payload=M}}class m{constructor(M,b){this.type=t.ADD_PARAMETER,this.payload={key:M,value:b}}}class f{constructor(M,b){this.type=t.SET_QUERY_PARAMETER,this.payload={key:M,value:b}}}class v{constructor(M,b){this.type=t.SET_PARAMETER,this.payload={key:M,value:b}}}class E{constructor(){this.type=t.RESET}}},87507:(B,C,n)=>{"use strict";n.d(C,{v$:()=>x});var i=n(7901),t=n(59640),c=n(48125),e=n.n(c),p=n(84572),m=n(96354),f=n(23294),v=n(5964),E=n(96697),y=n(89777),M=n(30269),b=n(75794);const P=(0,t.Mz)(M.N,N=>N.history);var D=n(20009),I=n(54438);const h=(0,t.Mz)(M.N,N=>(0,y.a4)(N)&&(0,y.a4)(N.route)?N.route.params:void 0);(0,t.Mz)(M.N,N=>(0,y.a4)(N)&&(0,y.a4)(N.route)?N.route.queryParams:void 0);let x=(()=>{class N{constructor($,k,K){this.route=$,this.router=k,this.store=K,this.saveRouting()}getQueryParameterValues($){return this.getQueryParamMap().pipe((0,m.T)(k=>[...k.getAll($)]),(0,f.F)((k,K)=>JSON.stringify(k)===JSON.stringify(K)))}getQueryParameterValue($){return this.getQueryParamMap().pipe((0,m.T)(k=>k.get($)),(0,f.F)())}hasQueryParam($){return this.getQueryParamMap().pipe((0,m.T)(k=>k.has($)),(0,f.F)())}hasQueryParamWithValue($,k){return this.getQueryParamMap().pipe((0,m.T)(K=>K.getAll($).indexOf(k)>-1),(0,f.F)())}getRouteParameterValue($){return this.store.pipe((0,t.Lt)((N=>function T(N,j){return(0,t.Mz)(j,$=>{if((0,y.a4)($))return $[N]})}(N,h))($)))}getRouteDataValue($){return this.route.data.pipe((0,m.T)(k=>k[$]),(0,f.F)())}getQueryParamsWithPrefix($){return this.getQueryParamMap().pipe((0,m.T)(k=>{const K={};return k.keys.filter(z=>z.startsWith($)).forEach(z=>{K[z]=[...k.getAll(z)]}),K}),(0,f.F)((k,K)=>JSON.stringify(k)===JSON.stringify(K)))}getQueryParamMap(){return this.route.queryParamMap.pipe((0,m.T)($=>{const k=this.router.routerState.snapshot;return e()($,k.root.queryParamMap)?$:k.root.queryParamMap}))}saveRouting(){this.router.events.pipe((0,v.p)($=>$ instanceof i.wF)).subscribe($=>{this.store.dispatch(new b._($.urlAfterRedirects))})}getRouteParams(){let $=this.route;for(;$.firstChild;)$=$.firstChild;return $.params}getHistory(){return this.store.pipe((0,t.Lt)(P))}getCurrentUrl(){return this.getHistory().pipe((0,m.T)($=>$[$.length-1]||""))}getPreviousUrl(){return this.getHistory().pipe((0,m.T)($=>$[$.length-2]||""))}addParameter($,k){this.store.dispatch(new D.$H($,k))}setParameter($,k){this.store.dispatch(new D.Yb($,k))}setQueryParameter($,k){this.store.dispatch(new D.eL($,k))}setCurrentRouteInfo(){(0,p.z)(this.getRouteParams(),this.route.queryParams).pipe((0,E.s)(1)).subscribe(([$,k])=>{this.store.dispatch(new D.fP($)),this.store.dispatch(new D.hX(k))})}getParamsExceptValue($,k){return this.route.queryParams.pipe((0,m.T)(K=>{const z=Object.assign({},K),V=z[$];return V===k||void 0===k?delete z[$]:Array.isArray(V)&&V.includes(k)&&(z[$]=V.filter(G=>G!==k),0===z[$].length&&delete z[$]),z}))}getParamsWithAdditionalValue($,k){return this.route.queryParams.pipe((0,m.T)(K=>{const z=Object.assign({},K),V=z[$];return z[$]=void 0===V?k:Array.isArray(V)?[...V,k]:[V,k],z}))}static{this.\u0275fac=function(k){return new(k||N)(I.KVO(i.nX),I.KVO(i.Ix),I.KVO(t.il))}}static{this.\u0275prov=I.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})()},80193:(B,C,n)=>{"use strict";n.d(C,{w:()=>c});var i=n(95532),t=n(54438);let c=(()=>{class e{constructor(m){this.response=m}setStatus(m,f){return this.response&&(this.response.statusCode=m,f&&(this.response.statusMessage=f)),this}setUnauthorized(m="Unauthorized"){return this.setStatus(401,m)}setForbidden(m="Forbidden"){return this.setStatus(403,m)}setNotFound(m="Not found"){return this.setStatus(404,m)}setInternalServerError(m="Internal Server Error"){return this.setStatus(500,m)}setHeader(m,f){this.response&&this.response.setHeader(m,f)}static{this.\u0275fac=function(f){return new(f||e)(t.KVO(i.C,8))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},19252:(B,C,n)=>{"use strict";n.d(C,{lc:()=>t});const t=new(n(54438).nKC)("NativeWindowService",{providedIn:"root",factory:function e(){return new c}});class c{get nativeWindow(){return typeof window<"u"&&window}}},19548:(B,C,n)=>{"use strict";n.d(C,{QD:()=>E,ci:()=>M,gM:()=>b});var i=n(54438),t=n(84572),c=n(53993),e=n(5964),p=n(96354),m=n(15343),f=n(62877);new i.nKC("redirectOn4xx",{providedIn:"root",factory:()=>E});const E=(P,D)=>I=>I.pipe((0,c.E)(D.isAuthenticated()),(0,e.p)(([h,S])=>{if(h.hasFailed){if(404===h.statusCode||422===h.statusCode)return P.navigateByUrl((0,m.EX)(),{skipLocationChange:!0}),!1;if(403===h.statusCode||401===h.statusCode)return S?(P.navigateByUrl((0,m.bZ)(),{skipLocationChange:!0}),!1):(D.setRedirectUrl(P.url),P.navigateByUrl("login"),!1)}return!0}),(0,p.T)(([h])=>h)),M=(P,D,I)=>h=>(0,t.z)(h,D.isAuthenticated()).pipe((0,p.T)(([S,O])=>!!S.some(L=>!0===L)||(O?P.parseUrl((0,m.bZ)()):(D.setRedirectUrl(I),P.parseUrl("login"))))),b=(P,D)=>I=>I.pipe((0,p.T)(h=>{const S={redirect:encodeURIComponent(D)};return h||P.createUrlTree([(0,f.KN)()],{queryParams:S})}))},2454:(B,C,n)=>{"use strict";n.d(C,{c:()=>i});var i=function(t){return t.Known="KNOWN",t.Unknown="UNKNOWN",t.Supported="SUPPORTED",t}(i||{})},36480:(B,C,n)=>{"use strict";n.d(C,{v:()=>E});var i=n(31635),t=n(74850),c=n(72153),e=n(96283),p=n(94152),m=n(83286),v=(n(2454),n(44043));let E=class{static{this.type=m.a}};(0,i.Cg)([p.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],E.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"shortDescription",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"mimetype",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"supportLevel",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],E.prototype,"internal",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],E.prototype,"extensions",void 0),(0,i.Cg)([(0,t.deserializeAs)(new e.a("bitstream-format"),"id"),(0,i.Sn)("design:type",String)],E.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([c.gV],E)},83286:(B,C,n)=>{"use strict";n.d(C,{a:()=>t});const t=new(n(44043).v)("bitstreamformat")},21832:(B,C,n)=>{"use strict";n.d(C,{_:()=>y});var i=n(31635),t=n(74850),c=n(71985),e=n(442),p=n(72153),m=n(74942),f=n(83286),v=n(24759),E=n(73685);let y=class extends E.M{static{this.type=m.e}getParentLinkKey(){return"format"}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"sizeBytes",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"bundleName",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,p.nf)(m.e,!1,"thumbnail"),(0,i.Sn)("design:type",c.c)],y.prototype,"thumbnail",void 0),(0,i.Cg)([(0,p.nf)(f.a,!1,"format"),(0,i.Sn)("design:type",c.c)],y.prototype,"format",void 0),(0,i.Cg)([(0,p.nf)(v.d),(0,i.Sn)("design:type",c.c)],y.prototype,"bundle",void 0),(0,i.Cg)([(0,p.nf)(e.E,!1,"accessStatus"),(0,i.Sn)("design:type",c.c)],y.prototype,"accessStatus",void 0),y=(0,i.Cg)([p.gV,(0,t.inheritSerialization)(E.M)],y)},74942:(B,C,n)=>{"use strict";n.d(C,{e:()=>t});const t=new(n(44043).v)("bitstream")},611:(B,C,n)=>{"use strict";n.d(C,{o:()=>e});var i=n(31635),t=n(74850),c=n(56538);class e extends c.I{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],e.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)("metadata"),(0,i.Sn)("design:type",Array)],e.prototype,"metadataKeys",void 0)},35953:(B,C,n)=>{"use strict";n.d(C,{z:()=>t});const t=new(n(44043).v)("browse")},41033:(B,C,n)=>{"use strict";n.d(C,{N:()=>E});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(74942),m=n(24759),f=n(73685),v=n(46884);let E=class extends f.M{static{this.type=m.d}};(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(p.e),(0,i.Sn)("design:type",c.c)],E.prototype,"primaryBitstream",void 0),(0,i.Cg)([(0,e.nf)(p.e,!0),(0,i.Sn)("design:type",c.c)],E.prototype,"bitstreams",void 0),(0,i.Cg)([(0,e.nf)(v.U),(0,i.Sn)("design:type",c.c)],E.prototype,"item",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],E)},24759:(B,C,n)=>{"use strict";n.d(C,{d:()=>t});const t=new(n(44043).v)("bundle")},48145:(B,C,n)=>{"use strict";n.d(C,{p:()=>b});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(10129),m=n(94152),f=n(74942),v=n(96799),E=n(32468),y=n(73685),M=n(8322);let b=class extends y.M{static{this.type=v.n}get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get dcLicense(){return this.firstMetadataValue("dc.rights.license")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",Number)],b.prototype,"archivedItemsCount",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],b.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(M.m),(0,i.Sn)("design:type",c.c)],b.prototype,"license",void 0),(0,i.Cg)([(0,e.nf)(f.e),(0,i.Sn)("design:type",c.c)],b.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(p.O,!0),(0,i.Sn)("design:type",c.c)],b.prototype,"defaultAccessConditions",void 0),(0,i.Cg)([(0,e.nf)(E.G,!1),(0,i.Sn)("design:type",c.c)],b.prototype,"parentCommunity",void 0),b=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(y.M)],b)},96799:(B,C,n)=>{"use strict";n.d(C,{n:()=>t});const t=new(n(44043).v)("collection")},10406:(B,C,n)=>{"use strict";n.d(C,{E:()=>y});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(94152),m=n(74942),f=n(96799),v=n(32468),E=n(73685);let y=class extends E.M{static{this.type=v.G}get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([p.aK,t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"archivedItemsCount",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.e),(0,i.Sn)("design:type",c.c)],y.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(f.n,!0),(0,i.Sn)("design:type",c.c)],y.prototype,"collections",void 0),(0,i.Cg)([(0,e.nf)(v.G,!0),(0,i.Sn)("design:type",c.c)],y.prototype,"subcommunities",void 0),(0,i.Cg)([(0,e.nf)(v.G,!1),(0,i.Sn)("design:type",c.c)],y.prototype,"parentCommunity",void 0),y=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(E.M)],y)},32468:(B,C,n)=>{"use strict";n.d(C,{G:()=>t});const t=new(n(44043).v)("community")},14379:(B,C,n)=>{"use strict";n.d(C,{l:()=>i});var i=function(t){return t[t.CF_ACCEPTED=600]="CF_ACCEPTED",t[t.CF_UNCERTAIN=500]="CF_UNCERTAIN",t[t.CF_AMBIGUOUS=400]="CF_AMBIGUOUS",t[t.CF_NOTFOUND=300]="CF_NOTFOUND",t[t.CF_FAILED=200]="CF_FAILED",t[t.CF_REJECTED=100]="CF_REJECTED",t[t.CF_NOVALUE=0]="CF_NOVALUE",t[t.CF_UNSET=-1]="CF_UNSET",t}(i||{})},50039:(B,C,n)=>{"use strict";n.d(C,{f:()=>t});var i=n(89777);class t{Serialize(e){return(0,i.Im)(e)?"all":e}Deserialize(e){return"all"===e?"":e}}},43125:(B,C,n)=>{"use strict";n.d(C,{Z:()=>y,s:()=>E});var i=n(31635),t=n(74850),c=n(72153),e=n(56538),p=n(94152),m=n(44043);const f=new m.v("contentsource");var v=n(50039),E=function(M){return M.None="NONE",M.Metadata="METADATA_ONLY",M.MetadataAndRef="METADATA_AND_REF",M.MetadataAndBitstreams="METADATA_AND_BITSTREAMS",M}(E||{});let y=class extends e.I{constructor(){super(...arguments),this.type=f,this.harvestType=E.None}static{this.type=f}};(0,i.Cg)([p.aK,(0,i.Sn)("design:type",m.v)],y.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)("self"),(0,i.Sn)("design:type",String)],y.prototype,"uuid",void 0),(0,i.Cg)([(0,t.autoserializeAs)("oai_source"),(0,i.Sn)("design:type",String)],y.prototype,"oaiSource",void 0),(0,i.Cg)([(0,t.deserializeAs)(new v.f,"oai_set_id"),(0,t.serializeAs)(new v.f,"oai_set_id"),(0,i.Sn)("design:type",String)],y.prototype,"oaiSetId",void 0),(0,i.Cg)([(0,t.autoserializeAs)("metadata_config_id"),(0,i.Sn)("design:type",String)],y.prototype,"metadataConfigId",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_type"),(0,i.Sn)("design:type",Object)],y.prototype,"harvestType",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_status"),(0,i.Sn)("design:type",String)],y.prototype,"harvestStatus",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_start_time"),(0,i.Sn)("design:type",String)],y.prototype,"harvestStartTime",void 0),(0,i.Cg)([(0,t.autoserializeAs)("last_harvested"),(0,i.Sn)("design:type",String)],y.prototype,"lastHarvested",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_message"),(0,i.Sn)("design:type",String)],y.prototype,"message",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([c.gV],y)},40940:(B,C,n)=>{"use strict";n.d(C,{o:()=>i});var i=function(t){return t.Any="undefined",t.ItemPage="itemPage",t.Search="search",t.Workflow="workflow",t.Workspace="workspace",t.SupervisedItems="supervisedWorkspace",t.AdminMenu="adminMenu",t.EntitySearchModalWithNameVariants="EntitySearchModalWithNameVariants",t.EntitySearchModal="EntitySearchModal",t.AdminSearch="adminSearch",t.AdminWorkflowSearch="adminWorkflowSearch",t.SideBarSearchModal="sideBarSearchModal",t.SideBarSearchModalCurrent="sideBarSearchModalCurrent",t.ScopeSelectorModal="scopeSelectorModal",t.ScopeSelectorModalCurrent="scopeSelectorModalCurrent",t.MyDSpaceArchived="mydspaceArchived",t.MyDSpaceWorkspace="mydspaceWorkspace",t.MyDSpaceWorkflow="mydspaceWorkflow",t.MyDSpaceDeclined="mydspaceDeclined",t.MyDSpaceApproved="mydspaceApproved",t.MyDSpaceWaitingController="mydspaceWaitingController",t.MyDSpaceValidation="mydspaceValidation",t.Bitstream="bitstream",t.CoarNotify="coarNotify",t.AddMetadata="addMetadata",t.EditMetadata="editMetadata",t}(i||{})},12238:(B,C,n)=>{"use strict";function i(t,c){t.getValue()!==c&&t.next(c)}n.d(C,{S:()=>i})},93136:(B,C,n)=>{"use strict";n.d(C,{W:()=>i});var i=function(t){return t.BUNDLE="BUNDLE",t.BITSTREAM="BITSTREAM",t.ITEM="ITEM",t.COLLECTION="COLLECTION",t.COMMUNITY="COMMUNITY",t.DSPACEOBJECT="DSPACEOBJECT",t}(i||{})},73685:(B,C,n)=>{"use strict";n.d(C,{M:()=>M});var i=n(31635),t=n(74850),c=n(89777),e=n(77766),p=n(72153),m=n(94152),f=n(80675),v=n(54095),E=n(61880),y=n(44043);let M=class extends e.u{static{this.type=f.X}get self(){return this._links.self.href}set self(P){this._links.self={href:P}}get name(){return(0,c.b0)(this._name)?this.firstMetadataValue("dc.title"):this._name}set name(P){(0,c.a4)(this.firstMetadata("dc.title"))&&(this.firstMetadata("dc.title").value=P),this._name=P}get metadataAsList(){return E.O.toViewModelList(this.metadata)}allMetadata(P,D){return E.O.all(this.metadata,P,D)}allMetadataValues(P,D){return E.O.allValues(this.metadata,P,D)}firstMetadata(P,D){return E.O.first(this.metadata,P,D)}firstMetadataValue(P,D){return E.O.firstValue(this.metadata,P,D)}hasMetadata(P,D){return E.O.has(this.metadata,P,D)}findMetadataSortedByPlace(P){return this.allMetadata(P).sort((D,I)=>(0,c.Tn)(D.place)&&(0,c.Tn)(I.place)?0:(0,c.Tn)(D.place)?-1:(0,c.Tn)(I.place)?1:D.place-I.place)}getRenderTypes(){return[this.constructor]}setMetadata(P,D,...I){const h=I.map((S,O)=>{const L=new v.vD;return L.value=S,L.authority=null,L.confidence=-1,L.language=D||null,L.place=O,L});(0,c.Tn)(this.metadata)&&(this.metadata=Object.create({})),this.metadata[P]=h}removeMetadata(P){delete this.metadata[P]}};(0,i.Cg)([m.aK,(0,t.deserializeAs)("name"),(0,i.Sn)("design:type",String)],M.prototype,"_name",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(String,"uuid"),(0,i.Sn)("design:type",String)],M.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String),(0,i.Sn)("design:type",String)],M.prototype,"uuid",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",y.v)],M.prototype,"type",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(v.Of),(0,i.Sn)("design:type",v.Cr)],M.prototype,"metadata",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],M.prototype,"_links",void 0),M=(0,i.Cg)([p.gV],M)},80675:(B,C,n)=>{"use strict";n.d(C,{X:()=>t});const t=new(n(44043).v)("dspaceobject")},99278:(B,C,n)=>{"use strict";n.d(C,{$:()=>E});var i=n(31635),t=n(74850),c=n(77766),e=n(72153),p=n(94152),m=n(44043);const f=new m.v("externalSourceEntry");var v=n(54095);let E=class extends c.u{static{this.type=f}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([p.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],E.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"externalSource",void 0),(0,i.Cg)([(0,t.autoserializeAs)(v.Of),(0,i.Sn)("design:type",v.Cr)],E.prototype,"metadata",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([e.gV],E)},38516:(B,C,n)=>{"use strict";n.d(C,{B:()=>y});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(56538),m=n(94152),f=n(44043);const v=new f.v("externalsource");var E=n(81711);let y=class extends p.I{static{this.type=v}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"hierarchical",void 0),(0,i.Cg)([(0,e.nf)(E.N,!0),(0,i.Sn)("design:type",c.c)],y.prototype,"entityTypes",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([e.gV],y)},76461:(B,C,n)=>{"use strict";n.d(C,{E:()=>v});var i=n(96697),t=n(96354),c=n(89777),e=n(94196),p=n(19252),m=n(5127),f=n(54438);let v=(()=>{class E{constructor(M,b){this._window=M,this.authService=b}retrieveFileDownloadLink(M){return this.authService.getShortlivedToken().pipe((0,i.s)(1),(0,t.T)(b=>(0,c.a4)(b)?new m.t(M,`?authentication-token=${b}`).toString():M))}getFileNameFromResponseContentDisposition(M){const b=M.headers.get("content-disposition")||"";return((/filename="([^;]+)"/gi.exec(b)||[])[1]||"untitled").trim().replace(/\.[^/.]+$/,"")}static{this.\u0275fac=function(b){return new(b||E)(f.KVO(p.lc),f.KVO(e.uR))}}static{this.\u0275prov=f.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},58771:(B,C,n)=>{"use strict";n.d(C,{P:()=>v});var i=n(31635),t=n(74850),c=n(72153),e=n(94152),p=n(80033),m=n(86576),f=n(44043);let v=class extends m.o{constructor(){super(...arguments),this.type=p.z}static{this.type=p.z}get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",f.v)],v.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(m.o)],v)},80033:(B,C,n)=>{"use strict";n.d(C,{z:()=>t});const t=new(n(44043).v)("flatBrowse")},7094:(B,C,n)=>{"use strict";n.d(C,{Y:()=>I});var i=n(88141),t=n(5964),c=n(96354),e=n(96697),p=n(25558),m=n(99172),f=n(23294),v=n(89777),E=n(57775),y=n(49755),M=n(3601),b=n(17624),P=n(4093),D=n(54438);let I=(()=>{class h{constructor(O,L){this.requestService=O,this.rdbService=L}getRootHref(){return(new b.F).toString()}getRootEndpointMap(){return this.getEndpointMapAt(this.getRootHref())}getEndpointMapAt(O){const L=new y.ld(this.requestService.generateRequestId(),O);return this.requestService.send(L,!0),this.rdbService.buildFromHref(O).pipe((0,i.M)(T=>{(0,v.a4)(T)&&T.isStale&&this.getEndpointMapAt(O)}),(0,t.p)(T=>!T.isStale),(0,P.qD)(),(0,c.T)(T=>{if((0,v.a4)(T.payload))return T.payload._links;console.warn(`No _links section found at ${O}`)}))}getEndpoint(O,L){const T=O.split("/").filter(x=>(0,v.hj)(x));return this.getEndpointAt(L||this.getRootHref(),...T).pipe((0,e.s)(1))}getEndpointAt(O,...L){if((0,v.Im)(L))throw new Error("cant't fetch the URL without the HAL link names");const T=this.getEndpointMapAt(O).pipe((0,c.T)(x=>{const N=L[0];if((0,v.a4)(x)&&(0,v.a4)(x[N]))return x[N].href;throw new Error(`${JSON.stringify(x)} doesn't contain the link ${N}`)}));return 1===L.length?T.pipe((0,e.s)(1)):T.pipe((0,p.n)(x=>this.getEndpointAt(x,...L.slice(1))),(0,e.s)(1))}isEnabledOnRestApi(O){return this.getRootEndpointMap().pipe((0,c.T)(L=>(0,v.hj)(L[O])),(0,m.Z)(void 0),(0,f.F)())}static{this.\u0275fac=function(L){return new(L||h)(D.KVO(M.B),D.KVO(E.o))}}static{this.\u0275prov=D.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},55349:(B,C,n)=>{"use strict";n.d(C,{s:()=>c});var i=n(31635),t=n(74850);class c{}(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],c.prototype,"_links",void 0)},34621:(B,C,n)=>{"use strict";n.d(C,{R:()=>E});var i=n(31635),t=n(74850),c=n(55104),e=n(72153),p=n(94152),m=n(611),f=n(62571),v=n(44043);let E=class extends m.o{constructor(){super(...arguments),this.type=f.L}static{this.type=f.L}get self(){return this._links.self.href}getRenderType(){return c.O.Hierarchy}};(0,i.Cg)([p.aK,(0,i.Sn)("design:type",v.v)],E.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"facetType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"vocabulary",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(m.o)],E)},62571:(B,C,n)=>{"use strict";n.d(C,{L:()=>t});const t=new(n(44043).v)("hierarchicalBrowse")},89505:(B,C,n)=>{"use strict";n.d(C,{S:()=>v});var i=n(31635),t=n(74850),c=n(72153),e=n(96283),p=n(94152),m=n(44043),f=n(81711);let v=class{static{this.type=f.N}};(0,i.Cg)([p.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"label",void 0),(0,i.Cg)([(0,t.deserializeAs)(new e.a(v.type.value),"id"),(0,i.Sn)("design:type",String)],v.prototype,"uuid",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([c.gV],v)},81711:(B,C,n)=>{"use strict";n.d(C,{N:()=>t,k:()=>c});const t=new(n(44043).v)("entitytype"),c="none"},83174:(B,C,n)=>{"use strict";n.d(C,{F:()=>y});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(96283),m=n(94152),f=n(44043),v=n(81711),E=n(7316);let y=class{static{this.type=E.U}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"label",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([(0,t.deserializeAs)(new p.a(y.type.value),"id"),(0,i.Sn)("design:type",String)],y.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"leftwardType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"leftMaxCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"leftMinCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"rightwardType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"rightMaxCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"rightMinCardinality",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(v.N),(0,i.Sn)("design:type",c.c)],y.prototype,"leftType",void 0),(0,i.Cg)([(0,e.nf)(v.N),(0,i.Sn)("design:type",c.c)],y.prototype,"rightType",void 0),y=(0,i.Cg)([e.gV],y)},7316:(B,C,n)=>{"use strict";n.d(C,{U:()=>t});const t=new(n(44043).v)("relationshiptype")},9575:(B,C,n)=>{"use strict";n.d(C,{b:()=>M});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(96283),m=n(94152),f=n(46884),v=n(44043),E=n(39637),y=n(7316);let M=class{static{this.type=E.X}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],M.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new p.a(M.type.value),"id"),(0,i.Sn)("design:type",String)],M.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],M.prototype,"leftPlace",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],M.prototype,"rightPlace",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"leftwardValue",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"rightwardValue",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],M.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.U),(0,i.Sn)("design:type",c.c)],M.prototype,"leftItem",void 0),(0,i.Cg)([(0,e.nf)(f.U),(0,i.Sn)("design:type",c.c)],M.prototype,"rightItem",void 0),(0,i.Cg)([(0,e.nf)(y.U),(0,i.Sn)("design:type",c.c)],M.prototype,"relationshipType",void 0),M=(0,i.Cg)([e.gV],M)},39637:(B,C,n)=>{"use strict";n.d(C,{X:()=>t});const t=new(n(44043).v)("relationship")},43588:(B,C,n)=>{"use strict";n.d(C,{b:()=>f});var i=n(31635),t=n(74850),c=n(72153),e=n(94152),p=n(44043);const m=new p.v("itemrequest");let f=class{static{this.type=m}};(0,i.Cg)([e.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],f.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"token",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"allfiles",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"requestEmail",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"requestName",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"requestMessage",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"requestDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"acceptRequest",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"decisionDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"expires",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"itemId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"bitstreamId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"accessToken",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"accessExpiry",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"accessExpired",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([c.gV],f)},15862:(B,C,n)=>{"use strict";n.d(C,{q:()=>I});var i=n(31635),t=n(74850),c=n(71985),e=n(442),p=n(89777),m=n(66977),f=n(72153),v=n(74942),E=n(24759),y=n(96799),M=n(73685),b=n(46884),P=n(39637),D=n(46969);let I=class extends M.M{static{this.type=b.U}getRenderTypes(){const S=this.firstMetadataValue("dspace.entity.type");return(0,p.Im)(S)?super.getRenderTypes():[S,...super.getRenderTypes()]}getParentLinkKey(){return"owningCollection"}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"handle",void 0),(0,i.Cg)([(0,t.deserializeAs)(Date),(0,i.Sn)("design:type",Date)],I.prototype,"lastModified",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"inArchive"),(0,i.Sn)("design:type",Boolean)],I.prototype,"isArchived",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"discoverable"),(0,i.Sn)("design:type",Boolean)],I.prototype,"isDiscoverable",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"withdrawn"),(0,i.Sn)("design:type",Boolean)],I.prototype,"isWithdrawn",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,f.nf)(y.n),(0,i.Sn)("design:type",c.c)],I.prototype,"owningCollection",void 0),(0,i.Cg)([(0,f.nf)(D.x),(0,i.Sn)("design:type",c.c)],I.prototype,"version",void 0),(0,i.Cg)([(0,f.nf)(E.d,!0),(0,i.Sn)("design:type",c.c)],I.prototype,"bundles",void 0),(0,i.Cg)([(0,f.nf)(P.X,!0),(0,i.Sn)("design:type",c.c)],I.prototype,"relationships",void 0),(0,i.Cg)([(0,f.nf)(v.e,!1,"thumbnail"),(0,i.Sn)("design:type",c.c)],I.prototype,"thumbnail",void 0),(0,i.Cg)([(0,f.nf)(e.E,!1,"accessStatus"),(0,i.Sn)("design:type",c.c)],I.prototype,"accessStatus",void 0),(0,i.Cg)([(0,f.nf)(m.f,!1,"identifiers"),(0,i.Sn)("design:type",c.c)],I.prototype,"identifiers",void 0),I=(0,i.Cg)([f.gV,(0,t.inheritSerialization)(M.M)],I)},46884:(B,C,n)=>{"use strict";n.d(C,{U:()=>t});const t=new(n(44043).v)("item")},8322:(B,C,n)=>{"use strict";n.d(C,{m:()=>t});const t=new(n(44043).v)("license")},66290:(B,C,n)=>{"use strict";n.d(C,{y:()=>c});var i=n(15862),t=n(83808);class c extends i.q{constructor(p){super(),this.virtualMetadata=p}get itemType(){return this.firstMetadataValue("dspace.entity.type")}get representationType(){return t.d.Item}getValue(){return this.virtualMetadata.value}}},83808:(B,C,n)=>{"use strict";n.d(C,{d:()=>i});var i=function(t){return t.None="none",t.Item="item",t.AuthorityControlled="authority_controlled",t.PlainText="plain_text",t.BrowseLink="browse_link",t}(i||{})},60032:(B,C,n)=>{"use strict";n.d(C,{Q:()=>e});var i=n(89777),t=n(54095),c=n(83808);class e extends t.vD{constructor(m,f){super(),this.itemType=m,this.browseDefinition=f}get representationType(){return(0,i.a4)(this.authority)?c.d.AuthorityControlled:(0,i.a4)(this.browseDefinition)?c.d.BrowseLink:c.d.PlainText}getValue(){return this.value}}},54095:(B,C,n)=>{"use strict";n.d(C,{BY:()=>e,Cr:()=>p,Of:()=>v,vD:()=>m});var i=n(31635),t=n(74850),c=n(36883);const e="virtual::";class p{}class m{constructor(){this.uuid=(0,c.A)()}}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"language",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],m.prototype,"place",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"authority",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],m.prototype,"confidence",void 0);const v={Serialize(E){const y={};return Object.keys(E).forEach(M=>{y[M]=(0,t.Serialize)(E[M],m)}),y},Deserialize(E){const y={};return Object.keys(E).forEach(M=>{y[M]=(0,t.Deserialize)(E[M],m)}),y}}},61880:(B,C,n)=>{"use strict";n.d(C,{O:()=>f});var i=n(28267),t=n.n(i),c=n(69136),e=n.n(c),p=n(89777),m=n(54095);class f{static all(E,y,M){const b=E instanceof Array?E:[E],P=[];for(const D of b){for(const I of f.resolveKeys(D,y)){const h=D[I];if(h)for(const S of h)f.valueMatches(S,M)&&P.push(S)}if(!(0,p.Im)(P))return P}return P}static allValues(E,y,M){return f.all(E,y,M).map(b=>b.value)}static first(E,y,M){const b=E instanceof Array?E:[E];for(const P of b)for(const D of f.resolveKeys(P,y)){const I=P[D];if(I)return I.find(h=>f.valueMatches(h,M))}}static firstValue(E,y,M){const b=f.first(E,y,M);return(0,p.b0)(b)?void 0:b.value}static has(E,y,M){return(0,p.EA)(f.first(E,y,M))}static valueMatches(E,y){if(!y)return!0;if(y.language&&y.language!==E.language)return!1;if(y.authority&&y.authority!==E.authority)return!1;if(y.value){let M=y.value,b=E.value;return y.ignoreCase&&(M=y.value.toLowerCase(),b=E.value.toLowerCase()),y.substring?b.includes(M):b===M}return!0}static resolveKeys(E={},y){const M=y instanceof Array?y:[y],b=[];for(const P of M)if(P.includes("*")){const D=new RegExp("^"+P.replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")+"$");for(const I of Object.keys(E))!b.includes(I)&&D.test(I)&&b.push(I)}else E.hasOwnProperty(P)&&!b.includes(P)&&b.push(P);return b}static toViewModelList(E){let y=[];return Object.keys(E).sort().forEach(M=>{const b=E[M].map((P,D)=>Object.assign({},P,{order:D,key:M}));y=[...y,...b]}),y}static toMetadataMap(E){const y={},M=t()(E,b=>b.key);return Object.keys(M).sort().forEach(b=>{const P=e()(M[b],["order"]);y[b]=P.map(D=>{const I=Object.assign(new m.vD,D);return delete I.order,delete I.key,I})}),y}static setFirstValue(E,y,M){(0,p.hj)(E[y])?E[y][0].value=M:E[y]=[Object.assign(new m.vD,{value:M})]}}},86576:(B,C,n)=>{"use strict";n.d(C,{o:()=>p});var i=n(31635),t=n(74850),e=(n(55104),n(611));let p=class extends e.o{};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],p.prototype,"sortOptions",void 0),(0,i.Cg)([(0,t.autoserializeAs)("order"),(0,i.Sn)("design:type",String)],p.prototype,"defaultSortOrder",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"dataType",void 0),p=(0,i.Cg)([(0,t.inheritSerialization)(e.o)],p)},4093:(B,C,n)=>{"use strict";n.d(C,{f6:()=>S,F3:()=>h,bD:()=>T,v7:()=>Q,Hz:()=>z,Jq:()=>ie,D4:()=>X,qD:()=>x,GD:()=>te,yd:()=>j,ak:()=>k,QQ:()=>K,Ar:()=>V,o5:()=>$,W8:()=>L,Bo:()=>O,LB:()=>ye,qn:()=>he,jY:()=>ee});var i=n(54438),t=n(40605),c=n(84572),e=n(39974),p=n(85343),m=n(54360),f=n(58750),E=n(70152),y=n(96354),M=n(5964),b=n(96697),P=n(47677),D=n(25558),I=n(89777);const h=(re,ce)=>function v(re){return(0,e.N)((ce,Z)=>{let ne=!1,fe=null,ae=null;const oe=()=>{if(ae?.unsubscribe(),ae=null,ne){ne=!1;const J=fe;fe=null,Z.next(J)}};ce.subscribe((0,m._)(Z,J=>{ae?.unsubscribe(),ne=!0,fe=J,ae=(0,m._)(Z,oe,p.l),(0,f.Tg)(re(J)).subscribe(ae)},()=>{oe(),Z.complete()},void 0,()=>{fe=ae=null}))})}(()=>(0,t.Y)(re,ce)),S=new i.nKC("debounceTime",{providedIn:"root",factory:()=>E.B}),O=()=>re=>re.pipe((0,y.T)(ce=>ce?.payload)),L=()=>re=>re.pipe((0,y.T)(ce=>ce.page)),T=()=>re=>re.pipe((0,M.p)(ce=>(0,I.a4)(ce)&&ce.hasCompleted)),x=()=>re=>re.pipe(T(),(0,b.s)(1)),j=()=>re=>re.pipe((0,M.p)(ce=>ce.hasSucceeded),(0,b.s)(1)),$=()=>re=>re.pipe((0,P.I)(ce=>ce.hasSucceeded&&(0,I.hj)(ce.payload))),k=()=>re=>re.pipe(j(),O()),K=()=>re=>re.pipe($(),O()),z=()=>re=>re.pipe(Q(),O()),V=()=>re=>re.pipe(j(),O(),L()),X=()=>re=>re.pipe((0,P.I)(ce=>!ce.isLoading)),Q=()=>re=>re.pipe((0,M.p)(ce=>ce.hasSucceeded)),ee=()=>re=>re.pipe((0,M.p)(ce=>ce.hasSucceeded),(0,y.T)(ce=>{const Z=ce.payload.page.filter(fe=>(0,I.a4)(fe)).map(fe=>fe.indexableObject),ne=Object.assign(ce.payload,{page:Z});return Object.assign(ce,{payload:ne})})),ie=re=>ce=>ce.pipe(O(),L(),(0,y.T)(Z=>Z.find(ne=>ne.id===re)),(0,y.T)(Z=>{if((0,I.hj)(Z))return Z._links;throw new Error(`No metadata browse definition could be found for id '${re}'`)})),te=()=>re=>re.pipe((0,y.T)(ce=>Object.assign(ce,{payload:ce.payload.page.length>0?ce.payload.page[0]:void 0}))),he=()=>re=>re.pipe((0,I.Az)(),(0,y.T)(ce=>ce.payload.page.filter(Z=>(0,I.a4)(Z)))),ye=()=>re=>re.pipe((0,I.Az)(),(0,y.T)(ce=>ce.payload.page.filter(Z=>(0,I.a4)(Z))),(0,D.n)(ce=>{const Z=ce.map(ne=>ne.schema.pipe(k(),(0,y.T)(fe=>({field:ne,schema:fe}))));return(0,I.hj)(Z)?(0,c.z)(Z):[[]]}),(0,y.T)(ce=>ce.map(Z=>Z.schema.prefix+"."+Z.field.toString())))},73409:(B,C,n)=>{"use strict";n.d(C,{Q:()=>e});var i=n(31635),t=n(74850),c=n(89777);class e{constructor(m){(0,c.a4)(m)&&(this.elementsPerPage=m.elementsPerPage,this.totalElements=m.totalElements,this.totalPages=m.totalPages,this.currentPage=m.currentPage)}get self(){return this._links.self.href}get last(){if((0,c.a4)(this._links)&&(0,c.a4)(this._links.last))return this._links.last.href}get next(){if((0,c.a4)(this._links)&&(0,c.a4)(this._links.next))return this._links.next.href}get prev(){if((0,c.a4)(this._links)&&(0,c.a4)(this._links.prev))return this._links.prev.href}get first(){if((0,c.a4)(this._links)&&(0,c.a4)(this._links.first))return this._links.first.href}}(0,i.Cg)([(0,t.autoserializeAs)(Number,"size"),(0,i.Sn)("design:type",Number)],e.prototype,"elementsPerPage",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalElements",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalPages",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Number,"number"),(0,i.Sn)("design:type",Number)],e.prototype,"currentPage",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],e.prototype,"_links",void 0)},88906:(B,C,n)=>{"use strict";n.d(C,{cH:()=>v});var i=n(31635),t=n(72153);n(54095);const p=new(n(44043).v)("registration");let v=class{static{this.type=p}};v=(0,i.Cg)([t.gV],v)},85426:(B,C,n)=>{"use strict";n.d(C,{Ky:()=>e,m9:()=>p,w$:()=>f});var i=n(73028),t=n(88141),c=n(89777);const e=v=>E=>E.pipe((0,i.Z)(y=>v.getByHref(y)),(0,c.Az)()),p=v=>E=>E.pipe((0,i.Z)(y=>v.getByUUID(y)),(0,c.Az)()),f=v=>E=>E.pipe((0,t.M)(y=>v.send(y)))},44043:(B,C,n)=>{"use strict";n.d(C,{v:()=>i});class i{constructor(c){this.value=c}}},82584:(B,C,n)=>{"use strict";n.d(C,{g:()=>ye});var i=n(84572),t=n(84412),c=n(57786),e=n(99172),p=n(96354),m=n(5964),f=n(96697),v=n(79096),E=n(89777),y=n(8417),M=n(34180),b=n(39356),P=n(30726);class D{constructor(ce,Z,ne){this.key=ce,this.values=Z,this.operator=ne}}var I=n(48337),h=n(77868),S=n(8177),O=n(57775),L=n(70998),T=n(76391),x=n(76456),N=n(60428),j=n(81640),$=n(54438);let k=(()=>{class re extends j.D3{parse(Z,ne){const fe=ne.payload._embedded.facets,oe=new N.T(I.F).deserializeArray(fe),J={self:ne.payload._links.self};oe.forEach(_e=>{J[_e.name]={href:_e._links.self.href}});const ve=Object.assign(new T.L,{filters:oe,_links:J});return this.addToObjectCache(ve,Z,ne),new x.hT(ne.statusCode,ve._links.self)}static{this.\u0275fac=(()=>{let Z;return function(fe){return(Z||(Z=$.xGo(re)))(fe||re)}})()}static{this.\u0275prov=$.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})();var K=n(25788),z=n(49755),V=n(3601),G=n(31),X=n(87507),Q=n(5127),ee=n(93136),ie=n(7094),te=n(4093),he=n(7901);let ye=(()=>{class re{constructor(Z,ne,fe,ae,oe,J,ve,_e){this.routeService=Z,this.paginationService=ne,this.route=fe,this.linkService=ae,this.halService=oe,this.requestService=J,this.rdb=ve,this.appConfig=_e,this.configurationLinkPath="discover/search",this.facetLinkPathPrefix="discover/facets/",this.paginationID="spc",this.defaultPagination=Object.assign(new y.W,{id:this.paginationID,pageSize:10,currentPage:1}),this.defaultScope="",this.defaultQuery="",this.subs=new Map(null),this.initDefaults()}get defaults(){if((0,E.Tn)(this._defaults)){const Z=new P.C({pagination:this.defaultPagination,scope:this.defaultScope,query:this.defaultQuery});this._defaults=(0,M.CX)(Z,(new Date).getTime())}return this._defaults}getCurrentConfiguration(Z){return(0,i.z)([this.routeService.getQueryParameterValue("configuration").pipe((0,e.Z)(void 0)),this.routeService.getRouteParameterValue("configuration").pipe((0,e.Z)(void 0))]).pipe((0,p.T)(([ne,fe])=>ne||fe||Z))}getCurrentScope(Z){return this.routeService.getQueryParameterValue("scope").pipe((0,p.T)(ne=>ne||Z))}getCurrentQuery(Z){return this.routeService.getQueryParameterValue("query").pipe((0,p.T)(ne=>null!==ne?ne:Z))}getCurrentDSOType(){return this.routeService.getQueryParameterValue("dsoType").pipe((0,m.p)(Z=>(0,E.hj)(Z)&&(0,E.a4)(ee.W[Z.toUpperCase()])),(0,p.T)(Z=>ee.W[Z.toUpperCase()]))}getCurrentPagination(Z,ne){return this.paginationService.getCurrentPagination(Z,ne)}getCurrentSort(Z,ne){return this.paginationService.getCurrentSort(Z,ne)}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.").pipe((0,p.T)(Z=>{if((0,E.hj)(Z)){const ne=[];return Object.keys(Z).forEach(fe=>{if(fe.endsWith(".min")||fe.endsWith(".max")){const ae=fe.slice(0,-4);(0,E.Tn)(ne.find(oe=>oe.key===ae))&&ne.push(new D(ae,["["+(Z[ae+".min"]?Z[ae+".min"][0]:"*")+" TO "+(Z[ae+".max"]?Z[ae+".max"][0]:"*")+"]"],"equals"))}else ne.push(new D(fe,Z[fe]))}),ne}return[]}))}getCurrentFixedFilter(){return this.routeService.getRouteParameterValue("fixedFilterQuery")}getCurrentFrontendFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentViewMode(Z){return this.routeService.getQueryParameterValue("view").pipe((0,p.T)(ne=>ne||Z))}getConfigurationSearchConfig(Z,ne){return this.getSearchConfigurationFor(ne,Z).pipe((0,te.Hz)())}getConfigurationSortOptions(Z){return Z.sortOptions.map(ne=>({field:ne.name,direction:ne.sortOrder.toLowerCase()===L.U.ASC.toLowerCase()?L.U.ASC:L.U.DESC}))}getConfigurationAdvancedSearchFilters(Z,ne){return this.getConfigurationSearchConfig(Z,ne).pipe((0,p.T)(fe=>fe.filters.filter(ae=>this.appConfig.search.advancedFilters.filter.includes(ae.filter)).filter(ae=>ae.type!==b.R.range)))}setPaginationId(Z){if((0,E.hj)(Z)){const ne=this.paginatedSearchOptions.getValue(),fe=Object.assign(new P.C({}),ne,{pagination:Object.assign({},ne.pagination,{id:Z})});this.unsubscribeFromSearchOptions(this.paginationID),this.paginationID=Z,this.paginatedSearchOptions.next(fe),this.setSearchSubscription(this.paginationID,this.paginatedSearchOptions.value)}}ngOnDestroy(){this.subs.forEach(Z=>Z.filter(ne=>(0,E.a4)(ne)).forEach(ne=>ne.unsubscribe())),this.subs=new Map(null)}initDefaults(){this.defaults.pipe((0,te.yd)()).subscribe(Z=>{const ne=Z.payload;this.paginatedSearchOptions=new t.t(ne),this.searchOptions=new t.t(ne),this.setSearchSubscription(this.paginationID,ne)})}setSearchSubscription(Z,ne){this.unsubscribeFromSearchOptions(Z);const fe=[this.subscribeToSearchOptions(ne),this.subscribeToPaginatedSearchOptions(Z||ne.pagination.id,ne)];this.subs.set(this.paginationID,fe)}subscribeToSearchOptions(Z){return(0,c.h)(this.getConfigurationPart(Z.configuration),this.getScopePart(Z.scope),this.getQueryPart(Z.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(Z.view)).subscribe(ne=>{const fe=this.searchOptions.getValue(),ae=Object.assign(new P.C({}),fe,ne);this.searchOptions.next(ae)})}subscribeToPaginatedSearchOptions(Z,ne){return(0,c.h)(this.getConfigurationPart(ne.configuration),this.getPaginationPart(Z,ne.pagination),this.getSortPart(Z,ne.sort),this.getScopePart(ne.scope),this.getQueryPart(ne.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(ne.view)).subscribe(fe=>{const ae=this.paginatedSearchOptions.getValue(),oe=Object.assign(new P.C({}),ae,fe);this.paginatedSearchOptions.next(oe)})}unsubscribeFromSearchOptions(Z){this.subs.has(this.paginationID)&&(this.subs.get(this.paginationID).filter(ne=>(0,E.a4)(ne)).forEach(ne=>ne.unsubscribe()),this.subs.delete(Z))}getConfigurationPart(Z){return this.getCurrentConfiguration(Z).pipe((0,p.T)(ne=>({configuration:ne})))}getScopePart(Z){return this.getCurrentScope(Z).pipe((0,p.T)(ne=>({scope:ne})))}getQueryPart(Z){return this.getCurrentQuery(Z).pipe((0,p.T)(ne=>({query:ne})))}getDSOTypePart(){return this.getCurrentDSOType().pipe((0,p.T)(Z=>({dsoType:Z})))}getPaginationPart(Z,ne){return this.getCurrentPagination(Z,ne).pipe((0,p.T)(fe=>({pagination:fe})))}getSortPart(Z,ne){return this.getCurrentSort(Z,ne).pipe((0,p.T)(fe=>({sort:fe})))}getFiltersPart(){return this.getCurrentFilters().pipe((0,p.T)(Z=>({filters:Z})))}getFixedFilterPart(){return this.getCurrentFixedFilter().pipe((0,E.VT)(),(0,p.T)(Z=>({fixedFilter:Z})))}getSearchConfigurationFor(Z,ne){const fe=this.halService.getEndpoint(this.configurationLinkPath).pipe((0,p.T)(ae=>this.getConfigUrl(ae,Z,ne)));return fe.pipe((0,f.s)(1)).subscribe(ae=>{const oe=new z.IP(this.requestService.generateRequestId(),ae);this.requestService.send(oe,!0)}),this.rdb.buildFromHref(fe)}getConfigUrl(Z,ne,fe){const ae=[];return(0,E.hj)(ne)&&ae.push(`scope=${ne}`),(0,E.hj)(fe)&&ae.push(`configuration=${fe}`),(0,E.hj)(ae)&&(Z=new Q.t(Z,`?${ae.join("&")}`).toString()),Z}getConfig(Z,ne){const fe=this.halService.getEndpoint(this.facetLinkPathPrefix).pipe((0,p.T)(ae=>this.getConfigUrl(ae,Z,ne)));return fe.pipe((0,f.s)(1)).subscribe(ae=>{let oe=new z.IP(this.requestService.generateRequestId(),ae);oe=Object.assign(oe,{getResponseParser:()=>k}),this.requestService.send(oe,!0)}),this.rdb.buildFromHref(fe).pipe((0,p.T)(ae=>{if(ae.hasSucceeded){let oe;return oe=(0,E.hj)(ae.payload.filters)?ae.payload.filters.map(J=>Object.assign(new I.F,J)):[],new K.j(ae.timeCompleted,ae.msToLive,ae.lastUpdated,ae.state,ae.errorMessage,oe,ae.statusCode)}return ae}))}unselectAppliedFilterParams(Z,ne,fe){return this.routeService.getParamsExceptValue(`f.${Z}`,(0,E.a4)(fe)?(0,h.mq)(ne,fe):ne).pipe((0,p.T)(ae=>Object.assign(ae,{[this.paginationService.getPageParam(this.paginationID)]:1})))}selectNewAppliedFilterParams(Z,ne,fe){return this.routeService.getParamsWithAdditionalValue(`f.${Z}`,(0,E.a4)(fe)?(0,h.mq)(ne,fe):ne).pipe((0,p.T)(ae=>Object.assign(ae,{[this.paginationService.getPageParam(this.paginationID)]:1})))}getViewModePart(Z){return this.getCurrentViewMode(Z).pipe((0,p.T)(ne=>({view:ne})))}static{this.\u0275fac=function(ne){return new(ne||re)($.KVO(X.v$),$.KVO(G.m),$.KVO(he.nX),$.KVO(S._),$.KVO(ie.Y),$.KVO(V.B),$.KVO(O.o),$.KVO(v.vQ))}}static{this.\u0275prov=$.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})()},4255:(B,C,n)=>{"use strict";n.d(C,{U:()=>S});var i=n(59640),t=n(84572),c=n(7673),e=n(96354),p=n(23294),m=n(89777),f=n(8417),v=n(77868),E=n(75548),y=n(54438);let M=(()=>{class T{constructor(){this.specials=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],this.regex=RegExp("["+this.specials.join("\\")+"]","g")}transform(N,j){const $=this.escapeRegExp(j),k=new RegExp($,"gi");return N.replace(k,"<em>$&</em>")}escapeRegExp(N){return N.replace(this.regex,"\\$&")}static{this.\u0275fac=function(j){return new(j||T)}}static{this.\u0275pipe=y.EJ8({name:"dsEmphasize",type:T,pure:!0,standalone:!0})}}return T})();var b=n(70998),P=n(87507),D=n(4093),I=n(94314);const h=T=>T.searchFilter;let S=(()=>{class T{constructor(N,j,$){this.searchService=N,this.store=j,this.routeService=$}isFilterActiveWithValue(N,j){return this.routeService.hasQueryParamWithValue(N,j)}isFilterActive(N){return this.routeService.hasQueryParam(N)}getCurrentScope(){return this.routeService.getQueryParameterValue("scope")}getCurrentQuery(){return this.routeService.getQueryParameterValue("query")}getCurrentPagination(N={}){const j=this.routeService.getQueryParameterValue("page"),$=this.routeService.getQueryParameterValue("pageSize");return(0,t.z)(j,$).pipe((0,e.T)(([k,K])=>Object.assign(new f.W,N,{currentPage:k||1,pageSize:K||N.pageSize})))}getCurrentSort(N){const j=this.routeService.getQueryParameterValue("sortDirection"),$=this.routeService.getQueryParameterValue("sortField");return(0,t.z)(j,$).pipe((0,e.T)(([k,K])=>new b.z(K||N.field,b.U[k]||N.direction)))}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentView(){return this.routeService.getQueryParameterValue("view")}findSuggestions(N,j,$){return(0,m.hj)($)?this.searchService.getFacetValuesFor(N,1,j,$.toLowerCase()).pipe((0,D.yd)(),(0,e.T)(k=>k.payload.page.map(K=>({displayValue:this.getDisplayValue(K,$),query:(0,v.SB)(K,N),value:(0,v.gp)((0,v.SB)(K,N))})))):(0,c.of)([])}getDisplayValue(N,j){return`${(new M).transform(N.value,j)} (${N.count})`}isCollapsed(N){return this.store.pipe((0,i.Lt)(O(N)),(0,e.T)(j=>!!j&&(j.filterCollapsed||j.minimized)),(0,p.F)())}getPage(N){return this.store.pipe((0,i.Lt)(O(N)),(0,e.T)(j=>j?j.page:1),(0,p.F)())}collapse(N){this.store.dispatch(new E.ge(N))}expand(N){this.store.dispatch(new E.nj(N))}toggle(N){this.store.dispatch(new E.Fi(N))}initializeFilter(N){this.store.dispatch(new E.L2(N))}decrementPage(N){this.store.dispatch(new E.R0(N))}incrementPage(N){this.store.dispatch(new E.tq(N))}resetPage(N){this.store.dispatch(new E.Bf(N))}minimizeAll(){this.store.dispatch(new E.Po)}static{this.\u0275fac=function(j){return new(j||T)(y.KVO(I.S),y.KVO(i.il),y.KVO(P.v$))}}static{this.\u0275prov=y.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();function O(T){return function L(T){return(0,i.Mz)(h,x=>{if((0,m.a4)(x))return x[T]})}(T)}},94314:(B,C,n)=>{"use strict";n.d(C,{S:()=>re});var i=n(84412),t=n(84572),c=n(96354),e=n(23294),p=n(96697),m=n(25558),f=n(28492),v=n(88141),E=n(89777),y=n(8417),M=n(30726),b=n(97104),P=n(71384),D=n(57775),I=n(90066),h=n(98733),S=n(75594),O=n(92832),L=n(76456),T=n(60428),x=n(81640),N=n(54438);let j=(()=>{class ce extends x.D3{parse(ne,fe){const ae=fe.payload,oe=new T.T(O.E).deserialize(ae);return oe.pageInfo=this.processPageInfo(ae),oe.page=new T.T(S.L).deserializeArray(ae._embedded.values),this.addToObjectCache(oe,ne,fe),new L.hT(fe.statusCode,oe._links.self)}static{this.\u0275fac=(()=>{let ne;return function(ae){return(ne||(ne=N.xGo(ce)))(ae||ce)}})()}static{this.\u0275prov=N.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();var $=n(25788),k=n(49755),K=n(3601),z=n(78341),V=n(31),G=n(87507),X=n(5127),Q=n(7094),ee=n(4093),ie=n(19192),te=n(82584),he=n(97324);class ye extends I.L{constructor(){super("discover",void 0,void 0,void 0,void 0)}addEmbedParams(Z,ne,...fe){return super.addEmbedParams(Z,ne,...fe)}}let re=(()=>{class ce{constructor(ne,fe,ae,oe,J,ve,_e,Ce){this.routeService=ne,this.requestService=fe,this.rdb=ae,this.halService=oe,this.dspaceObjectService=J,this.paginationService=ve,this.searchConfigurationService=_e,this.angulartics2=Ce,this.searchLinkPath="discover/search/objects",this.parser=z.z,this.request=k.IP,this.appliedFilters$=new i.t([]),this.searchDataService=new ye}getSelectedValuesForFilter(ne){return this.appliedFilters$.pipe((0,c.T)(fe=>fe.filter(ae=>ae.filter===ne)),(0,e.F)((fe,ae)=>JSON.stringify(fe)===JSON.stringify(ae)))}setServiceOptions(ne,fe){ne&&(this.parser=ne),fe&&(this.request=fe)}getEndpoint(ne){return this.halService.getEndpoint(this.searchLinkPath).pipe((0,c.T)(fe=>(0,E.a4)(ne)?ne.toRestUrl(fe):fe))}search(ne,fe,ae=!0,oe=!0,...J){const ve=this.getEndpoint(ne);let _e;ve.pipe((0,p.s)(1),(0,c.T)(qe=>{const Re=this.searchDataService.addEmbedParams(qe,[],...J);return(0,E.hj)(Re)?new X.t(qe,`?${Re.join("&")}`).toString():qe})).subscribe(qe=>{const Re=new this.request(this.requestService.generateRequestId(),qe);Object.assign(Re,{responseMsToLive:(0,E.a4)(fe)?fe:Re.responseMsToLive,getResponseParser:()=>this.parser,searchOptions:ne}),_e=(new Date).getTime(),this.requestService.send(Re,ae)});const Ce=ve.pipe((0,m.n)(qe=>this.rdb.buildFromHref(qe)));return this.directlyAttachIndexableObjects(Ce,ae,oe,...J).pipe((0,f.j)(qe=>qe.isStale||!ae&&qe.lastUpdated<_e))}directlyAttachIndexableObjects(ne,fe=!0,ae=!0,...oe){return ne.pipe((0,m.n)(J=>{if((0,E.a4)(J.payload)&&(0,E.hj)(J.payload.page)){const ve=J.payload.page.map(_e=>this.dspaceObjectService.findByHref(_e._links.indexableObject.href,fe,ae,...oe).pipe((0,ee.qD)(),(0,ee.Bo)(),(0,E.Az)(),(0,c.T)(Ce=>{const Re=(0,P.L)(Ce.constructor);return Object.assign(new Re,_e,{indexableObject:Ce})})));return(0,t.z)(ve).pipe((0,c.T)(_e=>{const Ce=Object.assign(new b.n,J.payload,{page:_e});return new $.j(J.timeCompleted,J.msToLive,J.lastUpdated,J.state,J.errorMessage,Ce,J.statusCode)}))}return[J]}))}getFacetValuesFor(ne,fe,ae,oe,J=!0){let ve,_e=[];(0,E.a4)(oe)&&_e.push(`prefix=${encodeURIComponent(oe)}`),(0,E.a4)(ae)?ve=(ae=Object.assign(new M.C({}),ae,{pagination:Object.assign({},ae.pagination,{currentPage:fe,pageSize:ne.pageSize})})).toRestUrl(ne._links.self.href,_e):(_e=["page="+(fe-1),`size=${ne.pageSize}`,..._e],ve=new X.t(ne._links.self.href,`?${_e.join("&")}`).toString());let Ce=new this.request(this.requestService.generateRequestId(),ve);Ce=Object.assign(Ce,{getResponseParser:()=>j});const qe=(new Date).getTime();return this.requestService.send(Ce,J),this.rdb.buildFromHref(ve).pipe((0,f.j)(Re=>Re.isStale||!J&&Re.lastUpdated<qe),(0,v.M)(Re=>{if(Re.hasSucceeded){const nt=(Re.payload.appliedFilters??[]).filter(Ge=>(0,E.a4)(Ge)).map(Ge=>Object.assign({},Ge,{operator:(0,E.a4)(Ge.value.match(/\[\s*(\*|\d+)\s*TO\s*(\*|\d+)\s*]/))?"range":Ge.operator}));this.appliedFilters$.next(nt)}}))}getViewMode(){return this.routeService.getQueryParamMap().pipe((0,c.T)(ne=>(0,E.hj)(ne.get("view"))&&(0,E.a4)(ne.get("view"))?ne.get("view"):ie.n.ListElement))}setViewMode(ne,fe){this.paginationService.getCurrentPagination(this.searchConfigurationService.paginationID,new y.W).pipe((0,p.s)(1)).subscribe(ae=>{let oe={page:1};const J={view:ne};ne===ie.n.DetailedListElement?oe=Object.assign(oe,{pageSize:1}):1===ae.pageSize&&(oe=Object.assign(oe,{pageSize:10})),this.paginationService.updateRouteWithUrl(this.searchConfigurationService.paginationID,(0,E.a4)(fe)?fe:[this.getSearchLink()],oe,J)})}trackSearch(ne,fe,ae){const oe=[],J=fe.appliedFilters||[];for(let _e=0,Ce=J.length;_e<Ce;_e++)oe.push(J[_e]);this.angulartics2.eventTrack.next({action:"search",properties:{searchOptions:ne,page:{size:ne.pagination.size,totalElements:fe.pageInfo.totalElements,totalPages:fe.pageInfo.totalPages,number:ne.pagination.currentPage},sort:{by:ne.sort.field,order:ne.sort.direction},filters:oe,clickedObject:ae}})}getSearchLink(){return"/search"}static{this.\u0275fac=function(fe){return new(fe||ce)(N.KVO(G.v$),N.KVO(K.B),N.KVO(D.o),N.KVO(Q.Y),N.KVO(h.DSpaceObjectDataService),N.KVO(V.m),N.KVO(te.g),N.KVO(he.il))}}static{this.\u0275prov=N.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})()},65148:(B,C,n)=>{"use strict";n.d(C,{v:()=>c});var i=n(36883),t=n(54438);let c=(()=>{class e{generate(){return(0,i.A)()}static{this.\u0275fac=function(f){return new(f||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},83800:(B,C,n)=>{"use strict";n.d(C,{f:()=>v});var i=n(31635),t=n(74850),c=n(72153),e=n(94152),p=n(86576),m=n(44043),f=n(61806);let v=class extends p.o{constructor(){super(...arguments),this.type=f.o}static{this.type=f.o}get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",m.v)],v.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(p.o)],v)},61806:(B,C,n)=>{"use strict";n.d(C,{o:()=>t});const t=new(n(44043).v)("valueList")},43040:(B,C,n)=>{"use strict";n.d(C,{s:()=>t});const t=new(n(44043).v)("versionhistory")},71147:(B,C,n)=>{"use strict";n.d(C,{R:()=>M});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(70963),m=n(94152),f=n(73685),v=n(46884),E=n(46969),y=n(43040);let M=class extends f.M{static{this.type=E.x}};(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],M.prototype,"_links",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],M.prototype,"version",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"summary",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"submitterName",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Date)],M.prototype,"created",void 0),(0,i.Cg)([m.aK,(0,e.nf)(y.s),(0,i.Sn)("design:type",c.c)],M.prototype,"versionhistory",void 0),(0,i.Cg)([m.aK,(0,e.nf)(v.U),(0,i.Sn)("design:type",c.c)],M.prototype,"item",void 0),(0,i.Cg)([m.aK,(0,e.nf)(p.N),(0,i.Sn)("design:type",c.c)],M.prototype,"eperson",void 0),M=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],M)},46969:(B,C,n)=>{"use strict";n.d(C,{x:()=>t});const t=new(n(44043).v)("version")},19192:(B,C,n)=>{"use strict";n.d(C,{n:()=>i});var i=function(t){return t.ListElement="list",t.GridElement="grid",t.DetailedListElement="detailed",t.StandalonePage="standalone",t.Table="table",t.GeospatialMap="geospatial-map",t}(i||{})},11774:(B,C,n)=>{"use strict";n.d(C,{K:()=>v});var i=n(31635),t=n(74850),c=n(72153),e=n(55349),p=n(44043),m=n(94152),f=n(45740);let v=class extends e.s{static{this.type=f.N}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)("report-type"),(0,i.Sn)("design:type",String)],v.prototype,"reportType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],v.prototype,"points",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(e.s)],v)},45740:(B,C,n)=>{"use strict";n.d(C,{N:()=>t});const t=new(n(44043).v)("usagereport")},23743:(B,C,n)=>{"use strict";n.r(C),n.d(C,{CorrectionTypeDataService:()=>P});var i=n(96354),t=n(9847),c=n(57775),e=n(10186),p=n(81948),m=n(20881),f=n(60796),v=n(36343),E=n(3601),y=n(7094),M=n(4093),b=n(54438);let P=(()=>{class D extends m.W{constructor(h,S,O,L,T){super("correctiontypes",h,S,O,L),this.requestService=h,this.rdbService=S,this.objectCache=O,this.halService=L,this.notificationsService=T,this.linkPath="correctiontypes",this.searchByTopic="findByTopic",this.searchFindByItem="findByItem",this.searchData=new f.X(this.linkPath,h,S,O,L,this.responseMsToLive)}getCorrectionTypeById(h,S=!0,O=!0){return this.findById(h,S,O)}findByItem(h,S){const O=new v._;return O.searchParams=[new e.x("uuid",h)],this.searchData.searchBy(this.searchFindByItem,O,S)}findByTopic(h,S=!0,O=!0){const L=new v._;return L.searchParams=[new e.x("topic",h)],this.searchData.searchBy(this.searchByTopic,L,S,O).pipe((0,M.Hz)(),(0,M.W8)(),(0,i.T)(T=>T[0]))}static{this.\u0275fac=function(S){return new(S||D)(b.KVO(E.B),b.KVO(c.o),b.KVO(p.$),b.KVO(y.Y),b.KVO(t.I))}}static{this.\u0275prov=b.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},11082:(B,C,n)=>{"use strict";n.d(C,{Q:()=>t});const t=new(n(44043).v)("submissioncclicense")},16868:(B,C,n)=>{"use strict";n.d(C,{C:()=>v});var i=n(31635),t=n(74850),c=n(72153),e=n(55349),p=n(44043),m=n(94152),f=n(11082);let v=class extends e.s{static{this.type=f.Q}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],v.prototype,"fields",void 0),v=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(e.s)],v)},61932:(B,C,n)=>{"use strict";n.d(C,{w:()=>P});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(52711),m=n(70963),f=n(96799),v=n(73685),E=n(46884),y=n(85579),M=n(94152);let P=class extends v.M{get self(){return this._links.self.href}};(0,i.Cg)([M.aK,t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Date)],P.prototype,"lastModified",void 0),(0,i.Cg)([(0,e.nf)(f.n),(0,i.Sn)("design:type",Object)],P.prototype,"collection",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",class b{})],P.prototype,"sections",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],P.prototype,"errors",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],P.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.U),(0,i.Sn)("design:type",Object)],P.prototype,"item",void 0),(0,i.Cg)([(0,e.nf)(p.M.type),(0,i.Sn)("design:type",Object)],P.prototype,"submissionDefinition",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",Object)],P.prototype,"submitter",void 0),(0,i.Cg)([(0,e.nf)(y.T),(0,i.Sn)("design:type",c.c)],P.prototype,"supervisionOrders",void 0),P=(0,i.Cg)([(0,t.inheritSerialization)(v.M)],P)},56327:(B,C,n)=>{"use strict";n.d(C,{t:()=>f});var i=n(31635),t=n(74850),c=n(72153),e=n(96283),p=n(49229),m=n(61932);let f=class extends m.w{static{this.type=p.z}};(0,i.Cg)([(0,t.deserializeAs)(new e.a(f.type.value),"id"),(0,i.Sn)("design:type",String)],f.prototype,"uuid",void 0),f=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(m.w),(0,c.o8)(m.w)],f)},84821:(B,C,n)=>{"use strict";n.d(C,{F:()=>f});var i=n(31635),t=n(74850),c=n(72153),e=n(96283),p=n(16811),m=n(61932);let f=class extends m.w{static{this.type=p.l}};(0,i.Cg)([(0,t.deserializeAs)(new e.a(f.type.value),"id"),(0,i.Sn)("design:type",String)],f.prototype,"uuid",void 0),f=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(m.w),(0,c.o8)(m.w)],f)},41570:(B,C,n)=>{"use strict";n.d(C,{X:()=>t});var i=n(4600);const t=[(0,i.s)("item"),(0,i.s)("collection")]},72947:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SubmissionDuplicateDataService:()=>b});var i=n(57775),t=n(10186),c=n(81948),e=n(90066),p=n(60796),m=n(36343),f=n(49755),v=n(3601),E=n(78341),y=n(7094),M=n(54438);let b=(()=>{class P extends e.L{constructor(I,h,S,O){super("duplicates",I,h,S,O),this.requestService=I,this.rdbService=h,this.objectCache=S,this.halService=O,this.parser=E.z,this.request=f.IP,this.searchData=new p.X(this.linkPath,I,h,S,O,this.responseMsToLive)}searchBy(I,h,S,O,...L){return this.searchData.searchBy(I,h,S,O,...L)}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}setServiceOptions(I,h){I&&(this.parser=I),h&&(this.request=h)}findDuplicates(I,h,S=!0,O=!0,...L){const T=[new t.x("uuid",I)];let x=new m._;return h&&(x=Object.assign(new m._,h)),x.searchParams=x.searchParams?[...x.searchParams,...T]:T,this.searchBy("findByItem",x,S,O,...L)}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(h){return new(h||P)(M.KVO(v.B),M.KVO(i.o),M.KVO(c.$),M.KVO(y.Y))}}static{this.\u0275prov=M.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})()},28690:(B,C,n)=>{"use strict";n.d(C,{U:()=>K});var i=n(57775),t=n(49755),c=n(3601),e=n(57786);function p(z,V){return(G,X)=>!z.call(V,G,X)}var m=n(5964),v=n(73028),E=n(96697),y=n(88141),M=n(96354),b=n(47677),P=n(23294),D=n(89777),I=n(4093),h=n(46755),S=n(91261),O=n(30269);function L(z){return(0,S.pc)(O.N,"json/patch",z)}class x{submitJsonPatchOperations(V,G,X){const Q=this.requestService.generateRequestId();let ee=null;const[ie,te]=function f(z,V){return G=>[(0,m.p)(z,V)(G),(0,m.p)(p(z,V))(G)]}(he=>(0,D.hj)(he.body))(V.pipe((0,v.Z)(he=>this.store.select(L(G)).pipe((0,E.s)(1),(0,m.p)(ye=>(0,D.b0)(ye)||!ye.commitPending),(0,y.M)(()=>ee=(new Date).getTime()),(0,M.T)(ye=>{const re=[];return(0,D.hj)(ye)&&((0,D.hj)(X)?(0,D.EA)(ye.children[X])&&(0,D.hj)(ye.children[X].body)&&ye.children[X].body.forEach(ce=>{re.push(ce.operation)}):Object.keys(ye.children).filter(ce=>ye.children.hasOwnProperty(ce)).filter(ce=>(0,D.a4)(ye.children[ce])).filter(ce=>(0,D.a4)(ye.children[ce].body)).forEach(ce=>{ye.children[ce].body.forEach(Z=>{re.push(Z.operation)})})),this.getRequestInstance(Q,he,re)})))));return(0,e.h)(te.pipe((0,m.p)(he=>(0,D.Im)(he.body)),(0,y.M)(()=>ee=null),(0,M.T)(()=>null)),ie.pipe((0,m.p)(he=>(0,D.hj)(he.body)),(0,y.M)(()=>this.store.dispatch(new h.v$(G,X,ee))),(0,y.M)(he=>this.requestService.send(he)),(0,v.Z)(()=>this.rdbService.buildFromRequestUUID(Q).pipe((0,I.qD)(),(0,b.I)(he=>ee<he.timeCompleted),(0,M.T)(he=>{if(he.hasFailed)throw this.store.dispatch(new h.Zd(G,X)),new Error(he.errorMessage);if((0,D.a4)(he.payload)&&(0,D.hj)(he.payload.dataDefinition))return this.store.dispatch(new h.MI(G,X)),he.payload.dataDefinition}),(0,P.F)()))))}deletePendingJsonPatchOperations(){this.store.dispatch(new h.Bp)}getRequestInstance(V,G,X){return new this.patchRequestConstructor(V,G,X)}getEndpointByIDHref(V,G){return(0,D.hj)(G)?`${V}/${G}`:`${V}`}jsonPatchByResourceType(V,G,X){const Q=this.halService.getEndpoint(V).pipe((0,m.p)(ee=>(0,D.hj)(ee)),(0,P.F)(),(0,M.T)(ee=>this.getEndpointByIDHref(ee,G)));return this.submitJsonPatchOperations(Q,X)}hasPendingOperations(V){return this.store.select(L(V)).pipe((0,M.T)(G=>!(0,D.Im)(G)&&Object.values(G.children).filter(X=>!(0,D.Im)(X.body)).length>0),(0,P.F)())}jsonPatchByResourceID(V,G,X,Q){const ee=this.halService.getEndpoint(V).pipe((0,m.p)(ie=>(0,D.hj)(ie)),(0,P.F)(),(0,M.T)(ie=>this.getEndpointByIDHref(ie,G)));return this.submitJsonPatchOperations(ee,X,Q)}}var N=n(7094),j=n(5127),$=n(54438),k=n(59640);let K=(()=>{class z extends x{constructor(G,X,Q,ee){super(),this.requestService=G,this.store=X,this.rdbService=Q,this.halService=ee,this.linkPath="",this.patchRequestConstructor=t.e$}getRequestInstance(G,X,Q){return new this.patchRequestConstructor(G,new j.t(X,"?embed=item").toString(),Q)}static{this.\u0275fac=function(X){return new(X||z)($.KVO(c.B),$.KVO(k.il),$.KVO(i.o),$.KVO(N.Y))}}static{this.\u0275prov=$.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},66903:(B,C,n)=>{"use strict";n.d(C,{$:()=>b});var i=n(7673),t=n(96354),c=n(78544),e=n(30250),p=n(25788),m=n(85186),f=n(7094),v=n(61989),E=n(80189),y=n(25645),M=n(54438);let b=(()=>{class P{constructor(I,h,S,O){this.workspaceitemDataService=I,this.workflowItemDataService=h,this.submissionService=S,this.halService=O}getHrefByID(I){const h=this.submissionService.getSubmissionScope()===v.L.WorkspaceItem?this.workspaceitemDataService:this.workflowItemDataService;return this.halService.getEndpoint(h.getLinkPath()).pipe((0,t.T)(S=>h.getIDHref(S,encodeURIComponent(I))))}findById(I,h=!0,S=!0,...O){switch(this.submissionService.getSubmissionScope()){case v.L.WorkspaceItem:return this.workspaceitemDataService.findById(I,h,S,...O);case v.L.WorkflowItem:return this.workflowItemDataService.findById(I,h,S,...O);default:{const L=(new Date).getTime();return(0,i.of)(new p.j(L,c.c.cache.msToLive.default,L,m.zE.Error,"The request could not be sent. Unable to determine the type of submission object",void 0,400))}}}static{this.\u0275fac=function(h){return new(h||P)(M.KVO(y.WorkspaceitemDataService),M.KVO(E.WorkflowItemDataService),M.KVO(e.E),M.KVO(f.Y))}}static{this.\u0275prov=M.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})()},74242:(B,C,n)=>{"use strict";n.d(C,{BE:()=>P,Z5:()=>b});var i=n(93583),t=n(89777),c=n(95720),e=n(81948),p=n(76456),m=n(84202),f=n(54438);let v=(()=>{class D extends m.aE{constructor(h){super(),this.objectCache=h,this.toCache=!0}parse(h,S){let O;O=(0,t.a4)(S.payload)&&(0,t.a4)(S.payload.page)&&0===S.payload.page.totalElements?{page:[]}:this.process(S.payload,h);let L=O;if((0,t.Tn)(O))return new p.bM([],S.statusCode,S.statusText,void 0);(0,t.a4)(O.page)?L=O.page:Array.isArray(O)||(L=[O]);const T=L.map(x=>x._links.self.href);return new p.bM(T,S.statusCode,S.statusText,this.processPageInfo(S.payload))}static{this.\u0275fac=function(S){return new(S||D)(f.KVO(e.$))}}static{this.\u0275prov=f.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var E=n(56327),y=n(84821);function b(D,I){let h=D;return(0,t.Pe)(D)&&("object"==typeof D&&function M(D){return"object"==typeof D&&D.hasOwnProperty("value")&&D.hasOwnProperty("language")&&D.hasOwnProperty("authority")&&D.hasOwnProperty("confidence")}(D)?h=new c.e(D.value,D.language,D.authority,D.display||D.value,D.place||I,D.confidence,D.otherInformation):Array.isArray(D)?(h=[],D.forEach((S,O)=>{h[O]=b(S,O)})):"object"==typeof D&&(h=Object.create({}),Object.keys(D).forEach(S=>{h[S]=b(D[S])}))),h}let P=(()=>{class D extends m.aE{constructor(h,S){super(),this.objectCache=h,this.dsoParser=S,this.toCache=!1,this.shouldDirectlyAttachEmbeds=!0}parse(h,S){if(this.dsoParser.parse((0,i.Go)(h),(0,i.Go)(S)),(0,t.hj)(S.payload)&&(0,t.hj)(S.payload._links)&&this.isSuccessStatus(S.statusCode)){const O=this.processResponse(S.payload,h);return new p.hT(S.statusCode,void 0,{dataDefinition:O})}if((0,t.Im)(S.payload)&&this.isSuccessStatus(S.statusCode))return new p.hT(S.statusCode);throw new Error("Unexpected response from server")}processResponse(h,S){const O=this.process(h,S),L=Array.of();return(Array.isArray(O)?O:Array.of(O)).forEach(x=>{if((x instanceof y.F||x instanceof E.t)&&x.sections){const N=Object.create({});Object.keys(x.sections).forEach(j=>{if("object"==typeof x.sections[j]&&(0,t.hj)(x.sections[j])&&(!x.sections[j].hasOwnProperty("files")||(0,t.hj)(x.sections[j].files))){const $=Object.create({});Object.keys(x.sections[j]).forEach(k=>{const K=x.sections[j][k];Array.isArray(K)?($[k]=[],K.forEach((z,V)=>{const G=b(z,V);(0,t.hj)(G)&&$[k].push(G)})):$[k]=K}),N[j]=$}}),x=Object.assign({},x,{sections:N})}L.push(x)}),L}static{this.\u0275fac=function(S){return new(S||D)(f.KVO(e.$),f.KVO(v))}}static{this.\u0275prov=f.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},55121:(B,C,n)=>{"use strict";n.d(C,{O:()=>O});var i=n(28492),t=n(96354),c=n(23294),e=n(5964),p=n(88141),m=n(73028),f=n(25558),v=n(89777),E=n(57775),y=n(76456),M=n(49755),b=n(3601),P=n(7094),D=n(4093),I=n(5127),h=n(54438);const S=()=>L=>L.pipe((0,D.qD)(),(0,t.T)(T=>{if(T.hasFailed)throw new y._p({statusText:T.errorMessage,statusCode:T.statusCode});return(0,v.a4)(T?.payload?.dataDefinition)?T.payload.dataDefinition:[T.payload]}),(0,c.F)());let O=(()=>{class L{constructor(x,N,j){this.rdbService=x,this.requestService=N,this.halService=j,this.linkPath="workspaceitems"}fetchRequest(x){return this.rdbService.buildFromRequestUUID(x).pipe(S())}getEndpointByIDHref(x,N,j){let $=(0,v.hj)(N)?`${x}/${N}`:`${x}`;return $=new I.t($,"?embed=item,sections,collection").toString(),j&&($=new I.t($,`&owningCollection=${j}`).toString()),$}deleteById(x,N){const j=this.requestService.generateRequestId();return this.halService.getEndpoint(N||this.linkPath).pipe((0,e.p)($=>(0,v.hj)($)),(0,c.F)(),(0,t.T)($=>this.getEndpointByIDHref($,x)),(0,t.T)($=>new M.Rn(j,$)),(0,p.M)($=>this.requestService.send($)),(0,m.Z)(()=>this.fetchRequest(j)),(0,c.F)())}getDataById(x,N,j=!1){return this.halService.getEndpoint(x).pipe((0,t.T)($=>this.getEndpointByIDHref($,N)),(0,e.p)($=>(0,v.hj)($)),(0,c.F)(),(0,m.Z)($=>{this.sendGetDataRequest($,j);const k=(new Date).getTime();return this.requestService.getByHref($).pipe((0,t.T)(K=>K?.request?.uuid),(0,v.Az)(),(0,c.F)(),(0,f.n)(K=>this.rdbService.buildFromRequestUUID(K)),(0,i.j)(K=>K.isStale||!j&&K.lastUpdated<k),(0,p.M)(K=>{(0,v.a4)(K)&&K.isStale&&this.sendGetDataRequest($,j)}))}),S())}sendGetDataRequest(x,N=!1){const j=this.requestService.generateRequestId(),$=new M.Iu(j,x);this.requestService.send($,N)}postToEndpoint(x,N,j,$,k){const K=this.requestService.generateRequestId();return this.halService.getEndpoint(x).pipe((0,e.p)(z=>(0,v.hj)(z)),(0,t.T)(z=>this.getEndpointByIDHref(z,j,k)),(0,c.F)(),(0,t.T)(z=>new M.aY(K,z,N,$)),(0,p.M)(z=>this.requestService.send(z)),(0,m.Z)(()=>this.fetchRequest(K)),(0,c.F)())}patchToEndpoint(x,N,j){const $=this.requestService.generateRequestId();return this.halService.getEndpoint(x).pipe((0,e.p)(k=>(0,v.hj)(k)),(0,t.T)(k=>this.getEndpointByIDHref(k,j)),(0,c.F)(),(0,t.T)(k=>new M.e$($,k,N)),(0,p.M)(k=>this.requestService.send(k)),(0,m.Z)(()=>this.fetchRequest($)),(0,c.F)())}static{this.\u0275fac=function(N){return new(N||L)(h.KVO(E.o),h.KVO(b.B),h.KVO(P.Y))}}static{this.\u0275prov=h.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},61989:(B,C,n)=>{"use strict";n.d(C,{L:()=>i});var i=function(t){return t.WorkspaceItem="WORKSPACE",t.WorkflowItem="WORKFLOW",t}(i||{})},38608:(B,C,n)=>{"use strict";n.d(C,{Hx:()=>t,cK:()=>e,mt:()=>c});var i=n(44043);const t=new i.v("vocabulary"),c=new i.v("vocabularyEntry"),e=new i.v("vocabularyEntryDetail")},38511:(B,C,n)=>{"use strict";n.d(C,{M:()=>m});var i=n(31635),t=n(74850),c=n(72153),e=n(38608),p=n(13627);let m=class extends p.b{static{this.type=e.cK}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],m.prototype,"selectable",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],m.prototype,"_links",void 0),m=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(p.b)],m)},13627:(B,C,n)=>{"use strict";n.d(C,{b:()=>E});var i=n(31635),t=n(74850),c=n(89777),e=n(11275),p=n(77766),m=n(72153),f=n(94152),v=n(38608);let E=class extends p.u{static{this.type=v.mt}hasAuthority(){return(0,c.hj)(this.authority)}hasValue(){return(0,c.hj)(this.value)}hasOtherInformation(){return(0,c.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"authority",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],E.prototype,"otherInformation",void 0),(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",Object)],E.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([m.gV],E)},29029:(B,C,n)=>{"use strict";n.d(C,{n:()=>i});class i{constructor(c,e=!1){this.name=c,this.closed=e}}},50475:(B,C,n)=>{"use strict";n.r(C),n.d(C,{VocabularyEntryDetailsDataService:()=>E});var i=n(57775),t=n(81948),c=n(88667),e=n(20881),p=n(60796),m=n(3601),f=n(7094),v=n(54438);let E=(()=>{class y extends e.W{constructor(b,P,D,I){super("vocabularyEntryDetails",b,P,D,I),this.requestService=b,this.rdbService=P,this.objectCache=D,this.halService=I,this.findAllData=new c.H(this.linkPath,b,P,D,I,this.responseMsToLive),this.searchData=new p.X(this.linkPath,b,P,D,I,this.responseMsToLive)}findAll(b,P,D,...I){return this.findAllData.findAll(b,P,D,...I)}searchBy(b,P,D,I,...h){return this.searchData.searchBy(b,P,D,I,...h)}static{this.\u0275fac=function(P){return new(P||y)(v.KVO(m.B),v.KVO(i.o),v.KVO(t.$),v.KVO(f.Y))}}static{this.\u0275prov=v.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},37921:(B,C,n)=>{"use strict";n.r(C),n.d(C,{VocabularyDataService:()=>M});var i=n(57775),t=n(10186),c=n(81948),e=n(88667),p=n(20881),m=n(60796),f=n(36343),v=n(3601),E=n(7094),y=n(54438);let M=(()=>{class b extends p.W{constructor(D,I,h,S){super("vocabularies",D,I,h,S),this.requestService=D,this.rdbService=I,this.objectCache=h,this.halService=S,this.searchByMetadataAndCollectionPath="byMetadataAndCollection",this.findAllData=new e.H(this.linkPath,D,I,h,S,this.responseMsToLive),this.searchData=new m.X(this.linkPath,D,I,h,S,this.responseMsToLive)}findAll(D,I,h,...S){return this.findAllData.findAll(D,I,h,...S)}getVocabularyByMetadataAndCollection(D,I,h=!0,S=!0,...O){const L=new f._;L.searchParams=[new t.x("metadata",D),new t.x("collection",I)];const T=this.searchData.getSearchByHref(this.searchByMetadataAndCollectionPath,L,...O);return this.findByHref(T,h,S,...O)}static{this.\u0275fac=function(I){return new(I||b)(y.KVO(v.B),y.KVO(i.o),y.KVO(c.$),y.KVO(E.Y))}}static{this.\u0275prov=y.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}}return b})()},90306:(B,C,n)=>{"use strict";n.d(C,{g:()=>I});var i=n(25558),t=n(96354),c=n(73028),e=n(89777),p=n(4600),m=n(10186),f=n(3601),v=n(4093),E=n(73409),y=n(36343);class M extends y._{constructor(S="",O,L,T,x,N,j){super(),this.query=S,this.filter=O,this.exact=L,this.entryID=T,this.elementsPerPage=x,this.currentPage=N,this.sort=j;const $=[];(0,e.hj)(S)&&$.push(new m.x("query",S)),(0,e.hj)(O)&&$.push(new m.x("filter",O)),(0,e.hj)(L)&&$.push(new m.x("exact",L.toString())),(0,e.hj)(T)&&$.push(new m.x("entryID",T)),this.searchParams=$}}var b=n(37921),P=n(50475),D=n(54438);let I=(()=>{class h{constructor(O,L,T){this.requestService=O,this.vocabularyDataService=L,this.vocabularyEntryDetailDataService=T,this.searchTopMethod="top"}findVocabularyByHref(O,L=!0,T=!0,...x){return this.vocabularyDataService.findByHref(O,L,T,...x)}findVocabularyById(O,L=!0,T=!0,...x){return this.vocabularyDataService.findById(O,L,T,...x)}findAllVocabularies(O={},L=!0,T=!0,...x){return this.vocabularyDataService.findAll(O,L,T,...x)}getVocabularyByMetadataAndCollection(O,L,T=!0,x=!0,...N){return this.vocabularyDataService.getVocabularyByMetadataAndCollection(O,L,T,x,...N)}getVocabularyEntries(O,L){const T=new M(null,null,null,null,L.elementsPerPage,L.currentPage);return this.findVocabularyById(O.name,!0,!0,(0,p.s)("entries",{findListOptions:T,shouldEmbed:!1})).pipe((0,v.ak)(),(0,i.n)(x=>x.entries))}getVocabularyEntriesByValue(O,L,T,x){const N=new M(null,O,L,null,x.elementsPerPage,x.currentPage);return this.findVocabularyById(T.name,!0,!0,(0,p.s)("entries",{findListOptions:N,shouldEmbed:!1})).pipe((0,v.ak)(),(0,i.n)(j=>j.entries))}getVocabularyEntryByValue(O,L){return this.getVocabularyEntriesByValue(O,!0,L,new E.Q).pipe((0,v.Ar)(),(0,t.T)(T=>(0,e.hj)(T)?T[0]:null))}getVocabularyEntryByID(O,L){const T=new E.Q,x=new M(null,null,null,O,T.elementsPerPage,T.currentPage);return this.findVocabularyById(L.name,!0,!0,(0,p.s)("entries",{findListOptions:x,shouldEmbed:!1})).pipe((0,v.ak)(),(0,i.n)(N=>N.entries),(0,v.Ar)(),(0,t.T)(N=>(0,e.hj)(N)?N[0]:null))}findEntryDetailByHref(O,L=!0,T=!0,...x){return this.vocabularyEntryDetailDataService.findByHref(O,L,T,...x)}findEntryDetailById(O,L,T=!0,x=!0,N=!0,...j){return this.vocabularyEntryDetailDataService.findById(N?`${L}:${O}`:O,T,x,...j)}getEntryDetailParent(O,L,T=!0,x=!0,...N){const j=`${L}:${O}/parent`;return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,t.T)($=>`${$}/${j}`),(0,c.Z)($=>this.vocabularyEntryDetailDataService.findByHref($,T,x,...N)))}getEntryDetailChildren(O,L,T,x=!0,N=!0,...j){const $=new M(null,null,null,null,T.elementsPerPage,T.currentPage);return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,t.T)(k=>`${k}/${L}:${O}/children`),(0,i.n)(k=>this.vocabularyEntryDetailDataService.findListByHref(k,$,x,N,...j)))}searchTopEntries(O,L,T=!0,x=!0,...N){const j=new M(null,null,null,null,L.elementsPerPage,L.currentPage);return j.searchParams=[new m.x("vocabulary",O)],this.vocabularyEntryDetailDataService.searchBy(this.searchTopMethod,j,T,x,...N)}clearSearchTopRequests(){this.requestService.removeByHrefSubstring(`search/${this.searchTopMethod}`)}static{this.\u0275fac=function(L){return new(L||h)(D.KVO(f.B),D.KVO(b.VocabularyDataService),D.KVO(P.VocabularyEntryDetailsDataService))}}static{this.\u0275prov=D.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},80189:(B,C,n)=>{"use strict";n.r(C),n.d(C,{WorkflowItemDataService:()=>S});var i=n(96354),t=n(47677),c=n(89777),e=n(9847),p=n(57775),m=n(10186),f=n(81948),v=n(72073),E=n(20881),y=n(60796),M=n(36343),b=n(49755),P=n(3601),D=n(7094),I=n(4093),h=n(54438);let S=(()=>{class O extends E.W{constructor(T,x,N,j,$){super("workflowitems",T,x,N,j),this.requestService=T,this.rdbService=x,this.objectCache=N,this.halService=j,this.notificationsService=$,this.searchByItemLinkPath="item",this.responseMsToLive=1e4,this.searchData=new y.X(this.linkPath,T,x,N,j,this.responseMsToLive),this.deleteData=new v.I(this.linkPath,T,x,N,j,$,this.responseMsToLive,this.constructIdEndpoint)}delete(T){return this.deleteWFI(T,!0)}sendBack(T){return this.deleteWFI(T,!1).pipe((0,I.qD)(),(0,i.T)(x=>x.hasSucceeded))}deleteWFI(T,x){const N=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)($=>this.deleteData.getIDHref($,T)),(0,i.T)($=>$+"?expunge="+x)).pipe((0,t.I)($=>(0,c.a4)($))).subscribe($=>{const k=new b.Dk(N,$,T);this.requestService.send(k)}),this.rdbService.buildFromRequestUUID(N)}findByItem(T,x=!1,N=!0,j={},...$){const k=new M._;k.searchParams=[new m.x("uuid",T)];const K=this.searchData.getSearchByHref(this.searchByItemLinkPath,k,...$);return this.findByHref(K,x,N,...$)}searchBy(T,x,N,j,...$){return this.searchData.searchBy(T,x,N,j,...$)}deleteByHref(T,x){return this.deleteData.deleteByHref(T,x)}static{this.\u0275fac=function(x){return new(x||O)(h.KVO(P.B),h.KVO(p.o),h.KVO(f.$),h.KVO(D.Y),h.KVO(e.I))}}static{this.\u0275prov=h.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},25645:(B,C,n)=>{"use strict";n.r(C),n.d(C,{WorkspaceitemDataService:()=>L});var i=n(21626),t=n(96354),c=n(47677),e=n(89777),p=n(9847),m=n(57775),f=n(10186),v=n(81948),E=n(72073),y=n(20881),M=n(60796),b=n(73054),P=n(36343),D=n(49755),I=n(3601),h=n(7094),S=n(54438),O=n(59640);let L=(()=>{class T extends y.W{constructor(N,j,$,k,K,z,V,G){super("workspaceitems",K,z,V,j),this.comparator=N,this.halService=j,this.http=$,this.notificationsService=k,this.requestService=K,this.rdbService=z,this.objectCache=V,this.store=G,this.linkPath="workspaceitems",this.searchByItemLinkPath="item",this.deleteData=new E.I(this.linkPath,K,z,V,j,k,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new M.X(this.linkPath,K,z,V,j,this.responseMsToLive)}delete(N,j){return this.deleteData.delete(N,j)}deleteByHref(N,j){return this.deleteData.deleteByHref(N,j)}findByItem(N,j=!1,$=!0,k={},...K){const z=new P._;z.searchParams=[new f.x("uuid",N)];const V=this.searchData.getSearchByHref(this.searchByItemLinkPath,z,...K);return this.findByHref(V,j,$,...K)}importExternalSourceEntry(N,j){const $=Object.create({});let k=new i.Lr;k=k.append("Content-Type","text/uri-list"),$.headers=k;const K=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,t.T)(V=>`${V}?owningCollection=${j}`)).pipe((0,c.I)(V=>(0,e.a4)(V)),(0,t.T)(V=>{const G=new D.Qf(K,V,N,$);this.requestService.send(G)})).subscribe(),this.rdbService.buildFromRequestUUID(K)}searchBy(N,j,$,k,...K){return this.searchData.searchBy(N,j,$,k,...K)}static{this.\u0275fac=function(j){return new(j||T)(S.KVO(b.j),S.KVO(h.Y),S.KVO(i.Qq),S.KVO(p.I),S.KVO(I.B),S.KVO(m.o),S.KVO(v.$),S.KVO(O.il))}}static{this.\u0275prov=S.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},85579:(B,C,n)=>{"use strict";n.d(C,{T:()=>t});const t=new(n(44043).v)("supervisionorder")},99737:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SupervisionOrderDataService:()=>j});var i=n(21626),t=n(96354),c=n(61594),e=n(89777),p=n(9847),m=n(57775),f=n(10186),v=n(81948),E=n(18328),y=n(72073),M=n(20881),b=n(4318),P=n(60796),D=n(96443),I=n(36343),h=n(49755),S=n(3601),O=n(74642),L=n(2086),T=n(7094),x=n(4093),N=n(54438);let j=(()=>{class $ extends M.W{constructor(K,z,V,G,X,Q,ee){super("supervisionorders",K,z,V,G),this.requestService=K,this.rdbService=z,this.objectCache=V,this.halService=G,this.notificationsService=X,this.comparator=Q,this.groupService=ee,this.searchByGroupMethod="group",this.searchByItemMethod="byItem",this.createData=new E.V(this.linkPath,K,z,V,G,X,this.responseMsToLive),this.searchData=new P.X(this.linkPath,K,z,V,G,this.responseMsToLive),this.patchData=new b.n(this.linkPath,K,z,V,G,Q,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new y.I(this.linkPath,K,z,V,G,X,this.responseMsToLive,this.constructIdEndpoint)}create(K,z,V,G){const X=[];return X.push(new f.x("uuid",z)),X.push(new f.x("group",V)),X.push(new f.x("type",G)),this.createData.create(K,...X)}delete(K){return this.deleteData.delete(K).pipe((0,x.qD)(),(0,t.T)(z=>z.hasSucceeded))}update(K){return this.patchData.update(K)}searchByGroup(K,z,V=!0,G=!0,...X){const Q=new I._;return Q.searchParams=[new f.x("uuid",K)],(0,e.hj)(z)&&Q.searchParams.push(new f.x("item",z)),this.searchData.searchBy(this.searchByGroupMethod,Q,V,G,...X)}searchByItem(K,z=!0,V=!0,...G){const X=new I._;return X.searchParams=[new f.x("uuid",K)],this.searchData.searchBy(this.searchByItemMethod,X,z,V,...G)}updateTarget(K,z,V,G){const Q=this.groupService.getIDHrefObs(V),ee=Object.create({});let ie=new i.Lr;ie=ie.append("Content-Type","text/uri-list"),ee.headers=ie;const te=this.requestService.generateRequestId();return Q.pipe((0,c.$)()).subscribe(he=>{const re=new h.v_(te,z+"/"+G,he,ee);Object.assign(re,{getResponseParser:()=>O.M}),this.requestService.send(re)}),this.rdbService.buildFromRequestUUIDAndAwait(te,()=>this.invalidateByHref(z))}static{this.\u0275fac=function(z){return new(z||$)(N.KVO(S.B),N.KVO(m.o),N.KVO(v.$),N.KVO(T.Y),N.KVO(p.I),N.KVO(D.Y),N.KVO(L.GroupDataService))}}static{this.\u0275prov=N.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})()},25580:(B,C,n)=>{"use strict";n.r(C),n.d(C,{ClaimedTaskDataService:()=>M});var i=n(21626),t=n(57775),c=n(10186),e=n(81948),p=n(36343),m=n(3601),f=n(7094),v=n(4093),E=n(76331),y=n(54438);let M=(()=>{class b extends E.w{constructor(D,I,h,S){super("claimedtasks",D,I,h,S,1e3),this.requestService=D,this.rdbService=I,this.objectCache=h,this.halService=S}claimTask(D,I){const h=Object.create({});let S=new i.Lr;return S=S.append("Content-Type","text/uri-list"),h.headers=S,this.postToEndpoint(this.linkPath,I,null,h)}submitTask(D,I){return this.postToEndpoint(this.linkPath,this.requestService.uriEncodeBody(I),D,this.makeHttpOptions())}returnToPoolTask(D){return this.deleteById(this.linkPath,D,this.makeHttpOptions())}findByItem(D){const I=new p._;return I.searchParams=[new c.x("uuid",D)],this.searchTask("findByItem",I).pipe((0,v.yd)())}static{this.\u0275fac=function(I){return new(I||b)(y.KVO(m.B),y.KVO(t.o),y.KVO(e.$),y.KVO(f.Y))}}static{this.\u0275prov=y.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}}return b})()},17144:(B,C,n)=>{"use strict";n.d(C,{T:()=>m});var i=n(31635),t=n(74850),c=n(72153),e=n(52526),p=n(92229);let m=class extends p.B{static{this.type=e.a}};m=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(p.B),(0,c.o8)(p.B)],m)},52526:(B,C,n)=>{"use strict";n.d(C,{a:()=>t});const t=new(n(44043).v)("claimedtask")},13005:(B,C,n)=>{"use strict";n.d(C,{k:()=>m});var i=n(31635),t=n(74850),c=n(72153),e=n(88827),p=n(92229);let m=class extends p.B{static{this.type=e.T}};m=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(p.B),(0,c.o8)(p.B)],m)},88827:(B,C,n)=>{"use strict";n.d(C,{T:()=>t});const t=new(n(44043).v)("pooltask")},92229:(B,C,n)=>{"use strict";n.d(C,{B:()=>b});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(70963),m=n(59922),f=n(49229),v=n(73685);const y=new(n(44043).v)("taskobject");var M=n(9701);let b=class extends v.M{static{this.type=y}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],b.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],b.prototype,"step",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],b.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(p.N,!1,"owner"),(0,i.Sn)("design:type",c.c)],b.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(m.U),(0,i.Sn)("design:type",c.c)],b.prototype,"group",void 0),(0,i.Cg)([(0,e.nf)(f.z),(0,i.Sn)("design:type",Object)],b.prototype,"workflowitem",void 0),(0,i.Cg)([(0,e.nf)(M.f,!1,"action"),(0,i.Sn)("design:type",c.c)],b.prototype,"action",void 0),b=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(v.M)],b)},9701:(B,C,n)=>{"use strict";n.d(C,{f:()=>t});const t=new(n(44043).v)("workflowaction")},31755:(B,C,n)=>{"use strict";n.r(C),n.d(C,{PoolTaskDataService:()=>y});var i=n(57775),t=n(10186),c=n(81948),e=n(36343),p=n(3601),m=n(7094),f=n(4093),v=n(76331),E=n(54438);let y=(()=>{class M extends v.w{constructor(P,D,I,h){super("pooltasks",P,D,I,h,1e3),this.requestService=P,this.rdbService=D,this.objectCache=I,this.halService=h}findByItem(P){const D=new e._;return D.searchParams=[new t.x("uuid",P)],this.searchTask("findByItem",D).pipe((0,f.qD)())}getPoolTaskEndpointById(P){return this.getEndpointById(P)}static{this.\u0275fac=function(D){return new(D||M)(E.KVO(p.B),E.KVO(i.o),E.KVO(c.$),E.KVO(m.Y))}}static{this.\u0275prov=E.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},76331:(B,C,n)=>{"use strict";n.d(C,{w:()=>D});var i=n(21626),t=n(5964),c=n(96354),e=n(23294),p=n(88141),m=n(73028),f=n(47677),v=n(89777),E=n(20881),y=n(60796),M=n(49755),b=n(4093);class P{constructor(h,S,O){this.isSuccessful=h,this.statusCode=S,this.errorMessage=O}get hasSucceeded(){return this.isSuccessful}}class D extends E.W{constructor(h,S,O,L,T,x){super(h,S,O,L,T),this.linkPath=h,this.requestService=S,this.rdbService=O,this.objectCache=L,this.halService=T,this.responseMsToLive=x,this.searchData=new y.X(this.linkPath,S,O,L,T,this.responseMsToLive)}getEndpointByIDHref(h,S){return(0,v.hj)(S)?`${h}/${S}`:`${h}`}postToEndpoint(h,S,O,L){const T=this.requestService.generateRequestId();return this.halService.getEndpoint(h).pipe((0,t.p)(x=>(0,v.hj)(x)),(0,c.T)(x=>this.getEndpointByIDHref(x,O)),(0,e.F)(),(0,c.T)(x=>new M.$I(T,x,S,L)),(0,p.M)(x=>this.requestService.send(x)),(0,m.Z)(x=>this.fetchRequest(T)),(0,e.F)())}deleteById(h,S,O){const L=this.requestService.generateRequestId();return this.getEndpointById(S,h).pipe((0,c.T)(T=>new M._w(L,T,null,O)),(0,p.M)(T=>this.requestService.send(T)),(0,m.Z)(T=>this.fetchRequest(L)),(0,e.F)())}getEndpointById(h,S){return this.halService.getEndpoint(S||this.linkPath).pipe((0,t.p)(O=>(0,v.hj)(O)),(0,e.F)(),(0,c.T)(O=>this.getEndpointByIDHref(O,h)))}searchTask(h,S={},...O){return this.searchData.getSearchByHref(h,S,...O).pipe((0,f.I)(T=>(0,v.a4)(T)),(0,m.Z)(T=>this.findByHref(T,!1,!0).pipe((0,b.bD)(),(0,p.M)(()=>this.requestService.setStaleByHrefSubstring(T)))))}fetchRequest(h){return this.rdbService.buildFromRequestUUID(h).pipe((0,b.qD)(),(0,c.T)(S=>S.hasFailed?new P(!1,S.statusCode,S.errorMessage):new P(!0,S.statusCode)))}makeHttpOptions(){const h=Object.create({});let S=new i.Lr;return S=S.append("Content-Type","application/x-www-form-urlencoded"),h.headers=S,h}searchBy(h,S,O,L,...T){return this.searchData.searchBy(h,S,O,L,...T)}}},17624:(B,C,n)=>{"use strict";n.d(C,{F:()=>c});var i=n(78544),t=n(5127);class c extends t.t{constructor(...p){super(i.c.rest.baseUrl,"/api",...p)}}},5127:(B,C,n)=>{"use strict";n.d(C,{t:()=>t});var i=n(89777);class t{constructor(...e){this.parts=e}toString(){if((0,i.Im)(this.parts))return"";{let e=this.parts.join("/");return e=e.replace(/:\//g,"://"),e=e.replace(/([^:\s])\/+/g,"$1/"),e=e.replace(/\/($|\?|&|#[^!])/g,"$1"),e=e.replace(/(\?.+)\?/g,"$1&"),e}}}},94152:(B,C,n)=>{"use strict";n.d(C,{_U:()=>p,aK:()=>f,gM:()=>E,ug:()=>m});var i=n(89777);const t=new Map,c=new Map;function e(M,b,P){const D=P.find(I=>{if(M[I]===b[I]||(0,i.Tn)(M[I])&&(0,i.Tn)(b[I]))return!1;if((0,i.Tn)(M[I])||(0,i.Tn)(b[I]))return!0;const h=function y(M,b){return(c.get(M)||new Map).get(b)}(M.constructor,I);return(0,i.a4)(h)?!e(M[I],b[I],h):M[I]instanceof p?!M[I].equals(b[I]):"object"==typeof M[I]?!e(M[I],b[I],Object.keys(M)):M[I]!==b[I]});return(0,i.Tn)(D)}class p{equals(b){if((0,i.Tn)(b))return!1;if(this===b)return!0;const P=v(this.constructor);return e(this,b,Object.keys(this).filter(I=>!P.includes(I)))}}function m(M){return function(P){const D=v(M)||[],I=v(P)||[];t.set(P,[...I,...D]);const h=c.get(P)||new Map,S=c.get(M)||new Map;Array.from(S.keys()).filter(O=>!Array.from(h.keys()).includes(O)).forEach(O=>{E(...S.get(O))(new P,O)})}}function f(M,b){if(!M)return;let P=t.get(M.constructor);(0,i.Im)(P)&&(P=[]),t.set(M.constructor,[...P,b])}function v(M){return t.get(M)||[]}function E(...M){return function(P,D){if(!P)return;let I=c.get(P.constructor);(0,i.Im)(I)&&(I=new Map),I.set(D,M),c.set(P.constructor,I)}}},44940:(B,C,n)=>{"use strict";n.d(C,{dX:()=>c,oo:()=>t,sA:()=>i});const i="X-XSRF-TOKEN",t="DSPACE-XSRF-TOKEN",c="XSRF-TOKEN"},77270:(B,C,n)=>{"use strict";n.d(C,{N:()=>t,q:()=>c});const t={SET:(0,n(6800).N)("dspace/core/correlationId/SET")};class c{constructor(p){this.payload=p,this.type=t.SET}}},9129:(B,C,n)=>{"use strict";n.d(C,{Mx:()=>P});var i=n(23536),t=n(89417),c=n(68018),e=n(88906),p=n(33745),m=n(31635),f=n(54438);let v=class{constructor(I){this.injectedRegistrationDataObject=I,this.registrationData=I}};function E(D,I){1&D&&(f.j41(0,"label",3),f.EFF(1),f.nI1(2,"translate"),f.k0s(),f.nrm(3,"input",6),f.nI1(4,"translate"),f.nI1(5,"dsBrowserOnly")),2&D&&(f.R7$(),f.JRh(f.bMT(2,3,"external-login-page.orcid-confirmation.email")),f.R7$(2),f.BMQ("aria-label",f.bMT(4,5,"external-login-page.orcid-confirmation.email.label"))("data-test",f.bMT(5,7,"email")))}v=(0,m.Cg)([(0,m.Qj)(0,(0,f.y_5)("registrationDataProvider")),(0,m.Sn)("design:paramtypes",[e.cH])],v);const M=new Map([[i.o.Orcid,(()=>{class D extends v{constructor(h,S){super(h),this.injectedRegistrationDataObject=h,this.formBuilder=S}ngOnInit(){this.form=this.formBuilder.group({netId:[{value:this.registrationData.netId,disabled:!0}],firstname:[{value:this.getFirstname(),disabled:!0}],lastname:[{value:this.getLastname(),disabled:!0}],email:[{value:this.registrationData?.email||"",disabled:!0}]})}getFirstname(){return this.registrationData.registrationMetadata?.["eperson.firstname"]?.[0]?.value||""}getLastname(){return this.registrationData.registrationMetadata?.["eperson.lastname"]?.[0]?.value||""}static{this.\u0275fac=function(S){return new(S||D)(f.rXU("registrationDataProvider"),f.rXU(t.ok))}}static{this.\u0275cmp=f.VBU({type:D,selectors:[["ds-orcid-confirmation"]],standalone:!0,features:[f.Vt3,f.aNF],decls:20,vars:30,consts:[["novalidate","",1,"form-login",3,"formGroup"],[1,"fw-bold","mb-0","text-uppercase"],["autocomplete","off","autofocus","","formControlName","netId","type","text",1,"form-control","form-control-lg","position-relative","mb-2",3,"placeholder"],[1,"fw-bold","mb-0"],["autocomplete","off","formControlName","lastname","type","text",1,"form-control","form-control-lg","position-relative","mb-2"],["autocomplete","off","formControlName","firstname","type","text",1,"form-control","form-control-lg","position-relative","mb-2"],["autocomplete","off","formControlName","email","type","email",1,"form-control","form-control-lg","position-relative"]],template:function(S,O){1&S&&(f.j41(0,"form",0)(1,"label",1),f.EFF(2),f.k0s(),f.nrm(3,"input",2),f.nI1(4,"translate"),f.nI1(5,"translate"),f.nI1(6,"dsBrowserOnly"),f.j41(7,"label",3),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.nrm(10,"input",4),f.nI1(11,"translate"),f.nI1(12,"dsBrowserOnly"),f.j41(13,"label",3),f.EFF(14),f.nI1(15,"translate"),f.k0s(),f.nrm(16,"input",5),f.nI1(17,"translate"),f.nI1(18,"dsBrowserOnly"),f.DNE(19,E,6,9),f.k0s()),2&S&&(f.Y8G("formGroup",O.form),f.R7$(2),f.JRh(O.registrationData.registrationType),f.R7$(),f.Y8G("placeholder",f.bMT(4,12,"external-login-page.orcid-confirmation.netid.placeholder")),f.BMQ("aria-label",f.bMT(5,14,"external-login-page.orcid-confirmation.netid.label"))("data-test",f.bMT(6,16,"netId")),f.R7$(5),f.JRh(f.bMT(9,18,"external-login-page.orcid-confirmation.lastname")),f.R7$(2),f.BMQ("aria-label",f.bMT(11,20,"external-login-page.orcid-confirmation.lastname.label"))("data-test",f.bMT(12,22,"lastname")),f.R7$(4),f.JRh(f.bMT(15,24,"external-login-page.orcid-confirmation.firstname")),f.R7$(2),f.BMQ("aria-label",f.bMT(17,26,"external-login-page.orcid-confirmation.firstname.label"))("data-test",f.bMT(18,28,"firstname")),f.R7$(3),f.vxM(null!=O.registrationData&&O.registrationData.email?19:-1))},dependencies:[p.L,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,c.h,c.D9],changeDetection:0})}}return D})()]]);function P(D){return M.get(D)}},13684:(B,C,n)=>{"use strict";n.r(C),n.d(C,{FooterComponent:()=>L});var i=n(60177),t=n(7901),c=n(68018),e=n(7673),p=n(79096),m=n(85500),f=n(11873),v=n(6170),E=n(89777),y=n(54438),M=n(89564);const b=T=>({year:T});function P(T,x){1&T&&(y.j41(0,"div",0)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h5",12),y.EFF(5,"Footer Content"),y.k0s(),y.j41(6,"ul",13)(7,"li")(8,"a",14),y.EFF(9,"Lorem ipsum"),y.k0s()(),y.j41(10,"li")(11,"a",14),y.EFF(12,"Ut facilisis"),y.k0s()(),y.j41(13,"li")(14,"a",14),y.EFF(15,"Aenean sit"),y.k0s()()()(),y.j41(16,"div",11)(17,"h5",12),y.EFF(18,"Footer Content"),y.k0s(),y.j41(19,"ul",13)(20,"li")(21,"a",15),y.EFF(22,"Suspendisse potenti"),y.k0s()()()(),y.j41(23,"div",16)(24,"h5",12),y.EFF(25,"Footer Content"),y.k0s(),y.j41(26,"p"),y.EFF(27," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam voluptatem veniam, est atque cumque eum delectus sint! "),y.k0s()()()()())}function D(T,x){if(1&T){const N=y.RV6();y.j41(0,"li")(1,"button",17),y.bIt("click",function(){y.eBV(N);const $=y.XpG();return y.Njj($.openCookieSettings())}),y.EFF(2),y.nI1(3,"translate"),y.k0s()()}2&T&&(y.R7$(2),y.SpI(" ",y.bMT(3,1,"footer.link.cookies")," "))}function I(T,x){1&T&&(y.j41(0,"li")(1,"a",18),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&T&&(y.R7$(2),y.JRh(y.bMT(3,1,"footer.link.privacy-policy")))}function h(T,x){1&T&&(y.j41(0,"li")(1,"a",19),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&T&&(y.R7$(2),y.JRh(y.bMT(3,1,"footer.link.end-user-agreement")))}function S(T,x){1&T&&(y.j41(0,"li")(1,"a",20),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&T&&(y.R7$(2),y.JRh(y.bMT(3,1,"footer.link.feedback")))}function O(T,x){1&T&&(y.j41(0,"div",8)(1,"a",21),y.nrm(2,"img",22),y.nI1(3,"translate"),y.EFF(4),y.nI1(5,"translate"),y.k0s()()),2&T&&(y.R7$(2),y.BMQ("alt",y.bMT(3,2,"menu.header.image.logo")),y.R7$(2),y.SpI(" ",y.bMT(5,4,"footer.link.coar-notify-support")," "))}let L=(()=>{class T{constructor(N,j,$,k){this.cookies=N,this.authorizationService=j,this.notifyInfoService=$,this.appConfig=k,this.dateObj=Date.now(),this.showTopFooter=!1,this.showCookieSettings=!1}ngOnInit(){this.showCookieSettings=this.appConfig.info.enableCookieConsentPopup,this.showPrivacyPolicy=this.appConfig.info.enablePrivacyStatement,this.showEndUserAgreement=this.appConfig.info.enableEndUserAgreement,this.coarLdnEnabled$=this.appConfig.info.enableCOARNotifySupport?this.notifyInfoService.isCoarConfigEnabled():(0,e.of)(!1),this.showSendFeedback$=this.authorizationService.isAuthorized(v._.CanSendFeedback)}openCookieSettings(){return(0,E.a4)(this.cookies)&&this.cookies.showSettings instanceof Function&&this.cookies.showSettings(),!1}static{this.\u0275fac=function(j){return new(j||T)(y.rXU(M.B,8),y.rXU(f.AuthorizationDataService),y.rXU(m.P),y.rXU(p.vQ))}}static{this.\u0275cmp=y.VBU({type:T,selectors:[["ds-base-footer"]],standalone:!0,features:[y.aNF],decls:26,vars:28,consts:[[1,"top-footer"],[1,"bottom-footer","p-1","d-flex","flex-column","flex-md-row","justify-content-center","align-items-center","text-white"],[1,"content-container","align-self-center"],[1,"m-0"],["href","https://www.dspace.org/","role","link","tabindex","0",1,"text-white"],["href","https://www.lyrasis.org/","role","link","tabindex","0",1,"text-white"],[1,"footer-info","list-unstyled","d-flex","justify-content-center","mb-0"],["routerLink","info/accessibility","role","link","tabindex","0",1,"btn","text-white"],[1,"notify-enabled","text-white","align-self-end"],[1,"container","p-4"],[1,"row"],[1,"col-lg-4","col-md-6","mb-4","mb-lg-0"],[1,"text-uppercase"],[1,"list-unstyled","mb-0"],["routerLink","./",1,""],["routerLink","./","role","link","tabindex","0",1,""],[1,"col-lg-4","col-md-12","mb-4","mb-md-0"],["type","button","role","button","tabindex","0",1,"btn","btn-link","text-white",3,"click"],["routerLink","info/privacy","role","link","tabindex","0",1,"btn","text-white"],["routerLink","info/end-user-agreement","role","link","tabindex","0",1,"btn","text-white"],["routerLink","info/feedback","role","link","tabindex","0",1,"btn","text-white"],["routerLink","info/coar-notify-support","role","link","tabindex","0",1,"coar-notify-support-route"],["src","assets/images/n-coar.svg",1,"n-coar"]],template:function(j,$){1&j&&(y.j41(0,"footer"),y.DNE(1,P,28,0,"div",0),y.j41(2,"div",1)(3,"div",2)(4,"p",3)(5,"a",4),y.EFF(6),y.nI1(7,"translate"),y.k0s(),y.EFF(8),y.nI1(9,"date"),y.nI1(10,"translate"),y.j41(11,"a",5),y.EFF(12),y.nI1(13,"translate"),y.k0s()(),y.j41(14,"ul",6),y.DNE(15,D,4,3,"li"),y.j41(16,"li")(17,"a",7),y.EFF(18),y.nI1(19,"translate"),y.k0s()(),y.DNE(20,I,4,3,"li")(21,h,4,3,"li")(22,S,4,3,"li"),y.nI1(23,"async"),y.k0s()(),y.DNE(24,O,6,6,"div",8),y.nI1(25,"async"),y.k0s()()),2&j&&(y.R7$(),y.vxM($.showTopFooter?1:-1),y.R7$(5),y.JRh(y.bMT(7,10,"footer.link.dspace")),y.R7$(2),y.SpI(" ",y.i5U(10,15,"footer.copyright",y.eq3(26,b,y.i5U(9,12,$.dateObj,"y")))," "),y.R7$(4),y.JRh(y.bMT(13,18,"footer.link.lyrasis")),y.R7$(3),y.vxM($.showCookieSettings?15:-1),y.R7$(3),y.JRh(y.bMT(19,20,"footer.link.accessibility")),y.R7$(2),y.vxM($.showPrivacyPolicy?20:-1),y.R7$(),y.vxM($.showEndUserAgreement?21:-1),y.R7$(),y.vxM(y.bMT(23,22,$.showSendFeedback$)?22:-1),y.R7$(2),y.vxM(y.bMT(25,24,$.coarLdnEnabled$)?24:-1))},dependencies:[i.Jj,i.vh,t.Wk,c.h,c.D9],styles:['[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{background-color:var(--ds-footer-bg);text-align:center;z-index:var(--ds-footer-z-index);border-top:var(--ds-footer-border);padding:var(--ds-footer-padding)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:var(--ds-footer-logo-height)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .top-footer[_ngcontent-%COMP%]{background-color:var(--ds-top-footer-bg);padding:var(--ds-footer-padding);margin:calc(var(--ds-footer-padding) * -1)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]{position:relative;margin-top:4px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .coar-notify-support-route[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .n-coar[_ngcontent-%COMP%]{height:var(--ds-footer-n-coar-height);margin-bottom:8.5px}@media screen and (min-width: 768px){[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:0}}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit;font-size:.875em}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{box-shadow:none;text-decoration:underline}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem #ffffff80}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child):after{content:"";border-right:1px var(--bs-secondary) solid}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{box-shadow:none}']})}}return T})()},82272:(B,C,n)=>{"use strict";n.d(C,{C:()=>m});var i=n(29710),c=(n(13684),n(54438));const e=["*"];function p(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"FooterComponent"}importThemedComponent(E){return n(43562)(`./${E}/app/footer/footer.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,13684))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=c.xGo(f)))(M||f)}})()}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-footer"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},21772:(B,C,n)=>{"use strict";n.r(C),n.d(C,{ForbiddenComponent:()=>m});var i=n(7901),t=n(68018),c=n(94196),e=n(80193),p=n(54438);let m=(()=>{class f{constructor(E,y){this.authService=E,this.responseService=y,this.responseService.setForbidden()}ngOnInit(){this.authService.clearRedirectUrl()}static{this.\u0275fac=function(y){return new(y||f)(p.rXU(c.uR),p.rXU(e.w))}}static{this.\u0275cmp=p.VBU({type:f,selectors:[["ds-base-forbidden"]],standalone:!0,features:[p.aNF],decls:16,vars:9,consts:[[1,"forbidden","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(y,M){1&y&&(p.j41(0,"div",0)(1,"h1"),p.EFF(2,"403"),p.k0s(),p.j41(3,"h2")(4,"small"),p.EFF(5),p.nI1(6,"translate"),p.k0s()(),p.nrm(7,"br"),p.j41(8,"p"),p.EFF(9),p.nI1(10,"translate"),p.k0s(),p.nrm(11,"br"),p.j41(12,"p",1)(13,"a",2),p.EFF(14),p.nI1(15,"translate"),p.k0s()()()),2&y&&(p.R7$(5),p.JRh(p.bMT(6,3,"403.forbidden")),p.R7$(4),p.JRh(p.bMT(10,5,"403.help")),p.R7$(5),p.JRh(p.bMT(15,7,"403.link.home-page")))},dependencies:[i.Wk,t.h,t.D9]})}}return f})()},11989:(B,C,n)=>{"use strict";n.r(C),n.d(C,{HeaderNavbarWrapperComponent:()=>E});var i=n(60177),t=n(88368),c=n(31352),e=n(50842),p=n(96132),m=n(66372),f=n(54438);const v=y=>({open:y});let E=(()=>{class y{constructor(b,P){this.menuService=b,this.windowService=P,this.menuID=m.D.PUBLIC,this.maxMobileWidth=e.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static{this.\u0275fac=function(P){return new(P||y)(f.rXU(p.$),f.rXU(e.CV))}}static{this.\u0275cmp=f.VBU({type:y,selectors:[["ds-base-header-navbar-wrapper"]],standalone:!0,features:[f.aNF],decls:4,vars:5,consts:[["id","header-navbar-wrapper",3,"ngClass"]],template:function(P,D){1&P&&(f.j41(0,"div",0),f.nI1(1,"async"),f.nrm(2,"ds-header")(3,"ds-navbar"),f.k0s()),2&P&&f.Y8G("ngClass",f.eq3(3,v,!0!==f.bMT(1,1,D.isNavBarCollapsed$)))},dependencies:[i.Jj,i.YU,t.q,c.D],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}"]})}}return y})()},55681:(B,C,n)=>{"use strict";n.d(C,{h:()=>m});var i=n(29710),c=(n(11989),n(54438));const e=["*"];function p(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"HeaderNavbarWrapperComponent"}importThemedComponent(E){return n(20991)(`./${E}/app/header-nav-wrapper/header-navbar-wrapper.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,11989))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=c.xGo(f)))(M||f)}})()}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-header-navbar-wrapper"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},84848:(B,C,n)=>{"use strict";n.d(C,{Y:()=>f});var i=n(60177),t=n(68018),c=n(96354),e=n(16036),p=n(54438);function m(v,E){if(1&v){const y=p.RV6();p.j41(0,"div")(1,"a",0),p.nI1(2,"translate"),p.nI1(3,"translate"),p.bIt("click",function(){p.eBV(y);const b=p.XpG();return p.Njj(b.onClick())}),p.nrm(4,"i",1),p.k0s()()}2&v&&(p.R7$(),p.Y8G("title",p.bMT(2,2,"nav.context-help-toggle")),p.BMQ("aria-label",p.bMT(3,4,"nav.context-help-toggle")))}let f=(()=>{class v{constructor(y,M){this.elRef=y,this.contextHelpService=M,this.subscriptions=[]}ngOnInit(){this.buttonVisible$=this.contextHelpService.tooltipCount$().pipe((0,c.T)(y=>y>0)),this.subscriptions.push(this.buttonVisible$.subscribe(y=>{y?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}onClick(){this.contextHelpService.toggleIcons()}static{this.\u0275fac=function(M){return new(M||v)(p.rXU(p.aKT),p.rXU(e.O))}}static{this.\u0275cmp=p.VBU({type:v,selectors:[["ds-context-help-toggle"]],standalone:!0,features:[p.aNF],decls:2,vars:3,consts:[["href","javascript:void(0);","role","menuitem",3,"click","title"],[1,"fas","fa-lg","fa-fw","fa-question-circle","ds-context-help-toggle"]],template:function(M,b){1&M&&(p.DNE(0,m,5,6,"div"),p.nI1(1,"async")),2&M&&p.vxM(p.bMT(1,1,b.buttonVisible$)?0:-1)},dependencies:[i.Jj,t.h,t.D9],styles:[".ds-context-help-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color);background-color:var(--ds-header-bg)}.ds-context-help-toggle[_ngcontent-%COMP%]:hover, .ds-context-help-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}}return v})()},81176:(B,C,n)=>{"use strict";n.r(C),n.d(C,{HeaderComponent:()=>I});var i=n(60177),t=n(7901),c=n(58003),e=n(68018),p=n(51728),m=n(85546),f=n(50842),v=n(22114),E=n(72012),y=n(96132),M=n(66372),b=n(84848),P=n(54438);function D(h,S){if(1&h){const O=P.RV6();P.j41(0,"div",6)(1,"button",7),P.nI1(2,"translate"),P.bIt("click",function(){P.eBV(O);const T=P.XpG();return P.Njj(T.toggleNavbar())}),P.nrm(3,"span",8),P.k0s()()}2&h&&(P.R7$(),P.BMQ("aria-label",P.bMT(2,1,"nav.toggle")))}let I=(()=>{class h{constructor(O,L){this.menuService=O,this.windowService=L,this.menuID=M.D.PUBLIC,this.maxMobileWidth=f.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth)}toggleNavbar(){this.menuService.toggleMenu(this.menuID)}static{this.\u0275fac=function(L){return new(L||h)(P.rXU(y.$),P.rXU(f.CV))}}static{this.\u0275cmp=P.VBU({type:h,selectors:[["ds-base-header"]],standalone:!0,features:[P.aNF],decls:16,vars:9,consts:[[1,"container"],[1,"d-flex","flex-row","justify-content-between"],["routerLink","/home","role","button","tabindex","0",1,"navbar-brand","my-2"],["src","assets/images/dspace-logo.svg"],[1,"navbar","navbar-light","navbar-expand-md","flex-shrink-0","px-0"],["role","toolbar"],[1,"ps-2"],["type","button","aria-controls","collapsingNav","aria-expanded","false",1,"navbar-toggler","px-0",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","toggler-icon"]],template:function(L,T){1&L&&(P.j41(0,"header")(1,"div",0)(2,"div",1)(3,"a",2),P.nrm(4,"img",3),P.nI1(5,"translate"),P.k0s(),P.j41(6,"div",4),P.nrm(7,"ds-search-navbar"),P.j41(8,"div",5),P.nI1(9,"translate"),P.nrm(10,"ds-lang-switch")(11,"ds-context-help-toggle")(12,"ds-auth-nav-menu")(13,"ds-impersonate-navbar"),P.k0s(),P.DNE(14,D,4,3,"div",6),P.nI1(15,"async"),P.k0s()()()()),2&L&&(P.R7$(4),P.BMQ("alt",P.bMT(5,3,"menu.header.image.logo")),P.R7$(4),P.BMQ("aria-label",P.bMT(9,5,"nav.user.description")),P.R7$(6),P.vxM(P.bMT(15,7,T.isMobile$)?14:-1))},dependencies:[i.Jj,b.Y,v.d,c.zH,c.QE,t.Wk,m.v,E.n,p.X,e.h,e.D9],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background-color:var(--ds-header-bg)}[_nghost-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none;color:var(--ds-header-icon-color)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   .toggler-icon[_ngcontent-%COMP%]{width:1.5em;height:1.5em;line-height:1.5}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%], [_nghost-%COMP%]   div[role=toolbar][_ngcontent-%COMP%]{display:flex;gap:calc(var(--bs-spacer) / 3);align-items:center}"]})}}return h})()},88368:(B,C,n)=>{"use strict";n.d(C,{q:()=>m});var i=n(29710),c=(n(81176),n(54438));const e=["*"];function p(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"HeaderComponent"}importThemedComponent(E){return n(16722)(`./${E}/app/header/header.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,81176))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=c.xGo(f)))(M||f)}})()}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-header"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},96762:(B,C,n)=>{"use strict";n.r(C),n.d(C,{HomeNewsComponent:()=>t});var i=n(54438);let t=(()=>{class c{static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275cmp=i.VBU({type:c,selectors:[["ds-base-home-news"]],standalone:!0,features:[i.aNF],decls:32,vars:0,consts:[[1,"home-news-content","py-4","px-2","py-sm-5","px-sm-0","mt-ncs","mb-4"],[1,"container"],[1,"d-flex","flex-wrap"],[1,"display-2"],[1,"lead"],[1,"mt-4"],[1,"mb-4"],[1,"alert","alert-info"],[1,"alert-heading"],[1,"fas","fa-creative-commons"],[1,"mb-0"],["href","https://creativecommons.org/licenses/by/4.0/deed.es","target","_blank","role","link","tabindex","0",1,"alert-link"]],template:function(m,f){1&m&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),i.EFF(5,"Repositorio IATECI"),i.k0s(),i.j41(6,"p",4),i.EFF(7,"El Repositorio del Instituto Avanzado de Tecnolog\xedas en Ciencias e Innovaci\xf3n (IATECI) es una plataforma digital de acceso abierto orientada a la preservaci\xf3n, organizaci\xf3n, difusi\xf3n y visibilidad del conocimiento cient\xedfico, acad\xe9mico, t\xe9cnico y profesional generado en la Rep\xfablica Dominicana y en la regi\xf3n del Caribe."),i.k0s()()(),i.j41(8,"div",5)(9,"p"),i.EFF(10,"Este repositorio ha sido concebido como un espacio abierto a toda la comunidad investigadora nacional e internacional, sin restricciones institucionales, promoviendo la colaboraci\xf3n entre cient\xedficos, centros de investigaci\xf3n, universidades, estudiantes de posgrado y profesionales independientes comprometidos con el avance \xe9tico y riguroso del conocimiento cient\xedfico."),i.k0s(),i.j41(11,"p"),i.EFF(12,"Inspirado en los principios de la Ciencia Abierta y alineado con est\xe1ndares internacionales, el repositorio ofrece una infraestructura que facilita el acceso libre, gratuito y permanente a la producci\xf3n cient\xedfica, con el objetivo de:"),i.k0s(),i.j41(13,"ul",6)(14,"li"),i.EFF(15,"Impulsar la visibilidad global de la investigaci\xf3n regional."),i.k0s(),i.j41(16,"li"),i.EFF(17,"Preservar la memoria cient\xedfica de manera digital y segura."),i.k0s(),i.j41(18,"li"),i.EFF(19,"Promover la transparencia, trazabilidad y replicabilidad de los resultados de investigaci\xf3n."),i.k0s(),i.j41(20,"li"),i.EFF(21,"Fomentar la cooperaci\xf3n cient\xedfica transinstitucional y transnacional."),i.k0s()(),i.j41(22,"div",7)(23,"h5",8),i.nrm(24,"i",9),i.EFF(25," Licencia Creative Commons"),i.k0s(),i.j41(26,"p",10),i.EFF(27,"Todos los documentos evaluados, aceptados y publicados en el repositorio deben estar bajo la licencia "),i.j41(28,"a",11)(29,"strong"),i.EFF(30,"Creative Commons Atribuci\xf3n 4.0 Internacional (CC BY 4.0)"),i.k0s()(),i.EFF(31,"."),i.k0s()()()()())},styles:["[_nghost-%COMP%]{display:block}.display-3[_ngcontent-%COMP%]{word-break:break-word}.home-news-content[_ngcontent-%COMP%]{background-color:var(--ds-home-news-background-color)}a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}"]})}}return c})()},62877:(B,C,n)=>{"use strict";n.d(C,{Dh:()=>m,KN:()=>y,KS:()=>p,P2:()=>f,Tv:()=>v,UB:()=>e,jK:()=>t,lB:()=>c,u4:()=>E});var i=n(15343);const t="end-user-agreement",c="privacy",e="feedback",p="coar-notify-support",m="accessibility",f="policies",v="requirements",E="award";function y(){return function O(L){return`${(0,i.e_)()}/${L}`}(t)}},55743:(B,C,n)=>{"use strict";n.d(C,{$2:()=>c,Bw:()=>m,Jr:()=>p,K4:()=>f,KY:()=>v,Pg:()=>t,RS:()=>e,kH:()=>i});const i="withdraw",t="reinstate",c="private",e="public",p="delete",m="move",f="authorizations",v="register-doi"},94549:(B,C,n)=>{"use strict";n.d(C,{W:()=>f});var i=n(60177),t=n(68018),e=(n(15862),n(54438));function p(v,E){if(1&v&&(e.j41(0,"tr",2)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&v){const y=E.$implicit,M=e.XpG().$implicit;e.R7$(2),e.JRh(M.key),e.R7$(2),e.JRh(y.value),e.R7$(2),e.JRh(y.language)}}function m(v,E){1&v&&e.Z7z(0,p,7,3,"tr",2,e.fX1),2&v&&e.Dyx(E.$implicit.value)}let f=(()=>{class v{ngOnChanges(){this.metadata=this.item?.metadata}static{this.\u0275fac=function(M){return new(M||v)}}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-modify-item-overview"]],inputs:{item:"item"},standalone:!0,features:[e.OA$,e.aNF],decls:16,vars:11,consts:[["id","metadata",1,"table","table-striped","table-hover","table-responsive"],["scope","col"],[1,"metadata-row"]],template:function(M,b){1&M&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",1),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",1),e.EFF(10),e.nI1(11,"translate"),e.k0s()()(),e.j41(12,"tbody"),e.Z7z(13,m,2,0,null,null,e.fX1),e.nI1(15,"keyvalue"),e.k0s()()),2&M&&(e.R7$(4),e.JRh(e.bMT(5,3,"item.edit.modify.overview.field")),e.R7$(3),e.JRh(e.bMT(8,5,"item.edit.modify.overview.value")),e.R7$(3),e.JRh(e.bMT(11,7,"item.edit.modify.overview.language")),e.R7$(3),e.Dyx(e.bMT(15,9,b.metadata)))},dependencies:[i.lG,t.h,t.D9],encapsulation:2})}}return v})()},39264:(B,C,n)=>{"use strict";n.d(C,{r:()=>k});var i=n(60177),t=n(7901),c=n(68018),e=n(84412),p=n(84572),m=n(99172),f=n(88141),v=n(53993),E=n(25558),y=n(31943),M=n(96354),b=n(43446),P=n(69295),D=n(36343),h=(n(15862),n(4093)),S=n(89777),O=n(72862),L=n(54438);const T=K=>["/collections",K];function x(K,z){if(1&K&&L.nrm(0,"span",4),2&K){const V=L.XpG(2);L.Y8G("innerHTML",V.separator,L.npT)}}function N(K,z){if(1&K&&(L.j41(0,"a",2)(1,"span"),L.EFF(2),L.k0s(),L.DNE(3,x,1,1,"span",4),L.k0s()),2&K){const V=z.$implicit,G=z.$index,X=z.$count,Q=L.XpG();L.Y8G("routerLink",L.eq3(3,T,V.id)),L.R7$(2),L.JRh(Q.dsoNameService.getName(V)),L.R7$(),L.vxM(G!==X-1?3:-1)}}function j(K,z){1&K&&(L.j41(0,"div"),L.EFF(1),L.nI1(2,"translate"),L.k0s()),2&K&&(L.R7$(),L.SpI(" ",L.bMT(2,1,"item.page.collections.loading")," "))}function $(K,z){if(1&K){const V=L.RV6();L.j41(0,"a",5),L.bIt("click",function(X){L.eBV(V);const Q=L.XpG();return X.preventDefault(),L.Njj(Q.handleLoadMore())}),L.EFF(1),L.nI1(2,"translate"),L.k0s()}2&K&&(L.R7$(),L.SpI(" ",L.bMT(2,1,"item.page.collections.load-more")," "))}let k=(()=>{class K{constructor(V,G,X){this.cds=V,this.dsoNameService=G,this.cdr=X,this.label="item.page.collections",this.separator="<br/>",this.pageSize=5,this.lastPage$=new e.t(0),this.loadMore$=new e.t(void 0),this.isLoading$=new e.t(!0),this.hasMore$=new e.t(!0)}ngOnInit(){const V=this.cds.findOwningCollectionFor(this.item).pipe((0,h.ak)(),(0,m.Z)(null)),G=this.loadMore$.pipe((0,f.M)(()=>this.isLoading$.next(!0)),(0,v.E)(this.lastPage$),(0,E.n)(([X,Q])=>this.cds.findMappedCollectionsFor(this.item,Object.assign(new D._,{elementsPerPage:this.pageSize,currentPage:Q+1}))),(0,h.bD)(),(0,f.M)(()=>this.isLoading$.next(!1)),(0,h.Hz)(),(0,f.M)(X=>this.hasMore$.next(X.currentPage<X.totalPages)),(0,f.M)(X=>this.lastPage$.next(X.currentPage)),(0,h.W8)(),(0,y.S)((X,Q)=>[...X,...Q],[]),(0,m.Z)([]));this.collections$=(0,p.z)([V,G]).pipe((0,M.T)(([X,Q])=>[X,...Q].filter(ee=>(0,S.a4)(ee)))),this.cdr.detectChanges()}handleLoadMore(){this.loadMore$.next()}static{this.\u0275fac=function(G){return new(G||K)(L.rXU(P.CollectionDataService),L.rXU(b.f),L.rXU(L.gRc))}}static{this.\u0275cmp=L.VBU({type:K,selectors:[["ds-item-page-collections"]],inputs:{item:"item",separator:"separator"},standalone:!0,features:[L.aNF],decls:11,vars:13,consts:[[3,"label"],[1,"collections"],["role","button","tabindex","0",3,"routerLink"],["role","button","href","javascript:void(0);","role","button","tabindex","0",1,"load-more-btn","btn","btn-sm","btn-outline-secondary"],[3,"innerHTML"],["role","button","href","javascript:void(0);","role","button","tabindex","0",1,"load-more-btn","btn","btn-sm","btn-outline-secondary",3,"click"]],template:function(G,X){1&G&&(L.j41(0,"ds-metadata-field-wrapper",0),L.nI1(1,"translate"),L.j41(2,"div",1),L.Z7z(3,N,4,5,"a",2,L.fX1),L.nI1(5,"async"),L.k0s(),L.DNE(6,j,3,3,"div"),L.nI1(7,"async"),L.DNE(8,$,3,3,"a",3),L.nI1(9,"async"),L.nI1(10,"async"),L.k0s()),2&G&&(L.Y8G("label",L.bMT(1,3,X.label)),L.R7$(3),L.Dyx(L.bMT(5,5,X.collections$)),L.R7$(3),L.vxM(L.bMT(7,7,X.isLoading$)?6:-1),L.R7$(2),L.vxM(!0!==L.bMT(9,9,X.isLoading$)&&L.bMT(10,11,X.hasMore$)?8:-1))},dependencies:[i.Jj,O.Q,t.Wk,c.h,c.D9],encapsulation:2})}}return K})()},92767:(B,C,n)=>{"use strict";n.d(C,{$r:()=>f,DL:()=>y,Fy:()=>e,HN:()=>S,_o:()=>m,_z:()=>h,aX:()=>I,jU:()=>b,nF:()=>v,vf:()=>M,xb:()=>c});var i=n(5127),t=n(89777);const c="items";function e(){return`/${c}`}function m(O){return E(O.firstMetadataValue("dspace.entity.type"),O.uuid)}function f(O){return new i.t(m(O),b).toString()}function v(O){return new i.t(m(O),b,P).toString()}function E(O,L){return(0,t.hj)(O)?new i.t("/entities",encodeURIComponent(O.toLowerCase()),L).toString():new i.t(e(),L).toString()}function y(O,L){return new i.t(E(O,L),b).toString()}function M(O){return new i.t(e(),D,O).toString()}const b="edit",P="versionhistory",D="version",I="bitstreams/new",h="orcid",S="access-by-token"},92550:(B,C,n)=>{"use strict";n.r(C),n.d(C,{MediaViewerImageComponent:()=>m});var i=n(60177),t=n(23632),c=n(94196),e=n(89777),p=n(54438);let m=(()=>{class f{constructor(E){this.authService=E,this.thumbnailPlaceholder="./assets/images/replacement_image.svg",this.galleryOptions=[],this.galleryImages=[]}ngOnChanges(){this.galleryOptions=[{preview:void 0===this.preview||this.preview,image:!0,imageSize:"contain",thumbnails:!1,imageArrows:!1,startIndex:0,imageAnimation:t.O7.Slide,previewCloseOnEsc:!0,previewZoom:!0,previewRotate:!0,previewFullscreen:!0}],this.galleryImages=this.image?[{small:this.image,medium:this.image,big:this.image}]:this.convertToGalleryImage(this.images)}ngOnInit(){this.isAuthenticated$=this.authService.isAuthenticated(),this.ngOnChanges()}convertToGalleryImage(E){const y=[];for(const M of E)"image"===M.format&&y.push({small:M.thumbnail?M.thumbnail:this.thumbnailPlaceholder,medium:M.thumbnail?M.thumbnail:this.thumbnailPlaceholder,big:M.bitstream._links.content.href+((0,e.a4)(M.accessToken)?"?accessToken="+M.accessToken:"")});return y}static{this.\u0275fac=function(y){return new(y||f)(p.rXU(c.uR))}}static{this.\u0275cmp=p.VBU({type:f,selectors:[["ds-base-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[p.OA$,p.aNF],decls:3,vars:6,consts:[[1,"ngx-gallery",3,"options","images"]],template:function(y,M){1&y&&(p.j41(0,"div"),p.nI1(1,"async"),p.nrm(2,"ngx-gallery",0),p.k0s()),2&y&&(p.AVh("change-gallery",p.bMT(1,4,M.isAuthenticated$)),p.R7$(2),p.Y8G("options",M.galleryOptions)("images",M.galleryImages))},dependencies:[i.Jj,t.cz,t.Fv],styles:['[_nghost-%COMP%]     .ngx-gallery{width:unset!important;height:unset!important}[_nghost-%COMP%]     ngx-gallery-image{max-width:340px!important}[_nghost-%COMP%]     ngx-gallery-image .ngx-gallery-image{background-position:left}[_nghost-%COMP%]     ngx-gallery-image:after{padding-top:75%;display:block;content:""}']})}}return f})()},86730:(B,C,n)=>{"use strict";n.d(C,{Q:()=>m});var i=n(29710),c=(n(92550),n(54438));const e=["*"];function p(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["images","preview","image"]}getComponentName(){return"MediaViewerImageComponent"}importThemedComponent(E){return n(52636)(`./${E}/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,92550))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=c.xGo(f)))(M||f)}})()}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},1013:(B,C,n)=>{"use strict";n.r(C),n.d(C,{MediaViewerVideoComponent:()=>P});var i=n(58003),t=n(68018),c=n(43446),e=n(79104),p=n(89777);class m{constructor(I,h,S){this.src=I,this.srclang=h,this.langLabel=S}}const f={ab:"Abkhazian",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali (Bangla)",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa, Chewa, Nyanja",zh:"Chinese",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi, Dhivehi, Maldivian",nl:"Dutch",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula, Fulah, Pulaar, Pular",gl:"Galician",gd:"Gaelic (Scottish)",gv:"Gaelic (Manx)",ka:"Georgian",de:"German",el:"Greek",gn:"Guarani",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",is:"Icelandic",io:"Ido",ig:"Igbo",in:"Indonesian",ia:"Interlingua",ie:"Interlingue",iu:"Inuktitut",ik:"Inupiak",ga:"Irish",it:"Italian",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut, Greenlandic",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda (Rwanda)",rn:"Kirundi",ky:"Kyrgyz",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",lo:"Lao",la:"Latin",lv:"Latvian (Lettish)",li:"Limburgish ( Limburger)",ln:"Lingala",lt:"Lithuanian",lu:"Luga-Katanga",lg:"Luganda, Ganda",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mh:"Marshallese",mo:"Moldavian",mn:"Mongolian",na:"Nauru",nv:"Navajo",ng:"Ndonga",nd:"Northern Ndebele",ne:"Nepali",no:"Norwegian",nb:"Norwegian bokm\xe5l",nn:"Norwegian nynorsk",oc:"Occitan",oj:"Ojibwe",cu:"Old Church Slavonic, Old Bulgarian",or:"Oriya",om:"Oromo (Afaan Oromo)",os:"Ossetian",pi:"P\u0101li",ps:"Pashto, Pushto",fa:"Persian (Farsi)",pl:"Polish",pt:"Portuguese",pa:"Punjabi (Eastern)",qu:"Quechua",rm:"Romansh",ro:"Romanian",ru:"Russian",se:"Sami",sm:"Samoan",sg:"Sango",sa:"Sanskrit",sr:"Serbian",sh:"Serbo-Croatian",st:"Sesotho",tn:"Setswana",sn:"Shona",ii:"Sichuan Yi, Nuosu",sd:"Sindhi",si:"Sinhalese",ss:"Siswati (Swati)",sk:"Slovak",sl:"Slovenian",so:"Somali",nr:"Southern Ndebele",es:"Spanish",su:"Sundanese",sw:"Swahili (Kiswahili)",sv:"Swedish",tl:"Tagalog",ty:"Tahitian",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",bo:"Tibetan",ti:"Tigrinya",to:"Tonga",ts:"Tsonga",tr:"Turkish",tk:"Turkmen",tw:"Twi",ug:"Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volap\xfck",wa:"Wallon",cy:"Welsh",wo:"Wolof",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang, Chuang",zu:"Zulu"};var v=n(54438);function E(D,I){if(1&D&&v.nrm(0,"track",2),2&D){const h=I.$implicit;v.Y8G("src",h.src,v.B4B)("label",h.langLabel)("srclang",h.srclang)}}function y(D,I){1&D&&v.Z7z(0,E,1,3,"track",2,v.fX1),2&D&&v.Dyx(I)}function M(D,I){if(1&D){const h=v.RV6();v.j41(0,"button",9),v.bIt("click",function(){const O=v.eBV(h).$index,L=v.XpG(2);return v.Njj(L.selectedMedia(O))}),v.EFF(1),v.k0s()}if(2&D){const h=I.$implicit,S=v.XpG(2);v.R7$(),v.SpI(" ",S.dsoNameService.getName(h.bitstream)," ")}}function b(D,I){if(1&D){const h=v.RV6();v.j41(0,"div",1)(1,"button",3),v.bIt("click",function(){v.eBV(h);const O=v.XpG();return v.Njj(O.prevMedia())}),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.j41(4,"button",4),v.bIt("click",function(){v.eBV(h);const O=v.XpG();return v.Njj(O.nextMedia())}),v.EFF(5),v.nI1(6,"translate"),v.k0s(),v.j41(7,"div",5)(8,"button",6),v.EFF(9),v.nI1(10,"translate"),v.k0s(),v.j41(11,"div",7),v.Z7z(12,M,2,1,"button",8,v.fX1),v.k0s()()()}if(2&D){const h=v.XpG();v.R7$(),v.Y8G("dsBtnDisabled",0===h.currentIndex),v.R7$(),v.SpI(" ",v.bMT(3,5,"media-viewer.previous")," "),v.R7$(2),v.Y8G("dsBtnDisabled",h.currentIndex===h.medias.length-1),v.R7$(),v.SpI(" ",v.bMT(6,7,"media-viewer.next")," "),v.R7$(4),v.SpI(" ",v.bMT(10,9,"media-viewer.playlist")," "),v.R7$(3),v.Dyx(h.medias)}}let P=(()=>{class D{constructor(h){this.dsoNameService=h,this.captions=[],this.isCollapsed=!1,this.currentIndex=0,this.replacements={video:"./assets/images/replacement_video.svg",audio:"./assets/images/replacement_audio.svg"}}getMediaCap(h,S){const O=[],L=S.filter(T=>T.name.substring(0,T.name.length-7).toLowerCase()===h.toLowerCase());for(const T of L){const x=T.name.slice(-6,-4).toLowerCase();O.push(new m(this.constructHref(T._links.content.href),x,f[x]))}return O}selectedMedia(h){this.currentIndex=h}nextMedia(){this.currentIndex++}prevMedia(){this.currentIndex--}constructHref(h){return(0,p.a4)(this.medias)&&this.medias.length>=1&&(0,p.a4)(this.medias[0].accessToken)?h+"?accessToken="+this.medias[0].accessToken:h}static{this.\u0275fac=function(S){return new(S||D)(v.rXU(c.f))}}static{this.\u0275cmp=v.VBU({type:D,selectors:[["ds-base-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[v.aNF],decls:3,vars:4,consts:[["crossorigin","anonymous","id","singleVideo","preload","none","controls","",3,"src","poster"],[1,"buttons"],[3,"src","label","srclang"],[1,"btn","btn-primary","previous",3,"click","dsBtnDisabled"],[1,"btn","btn-primary","next",3,"click","dsBtnDisabled"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","playlist"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",1,"list-element"],["ngbDropdownItem","",1,"list-element",3,"click"]],template:function(S,O){if(1&S&&(v.j41(0,"video",0),v.DNE(1,y,2,0),v.k0s(),v.DNE(2,b,14,11,"div",1)),2&S){let L;v.Y8G("src",O.constructHref(O.medias[O.currentIndex].bitstream._links.content.href),v.B4B)("poster",O.medias[O.currentIndex].thumbnail||O.replacements[O.medias[O.currentIndex].format],v.B4B),v.R7$(),v.vxM((L=O.getMediaCap(O.medias[O.currentIndex].bitstream.name,O.captions))?1:-1,L),v.R7$(),v.vxM((null==O.medias?null:O.medias.length)>1?2:-1)}},dependencies:[e.A,i.zH,i.tg,i.do,i.U0,i._H,t.h,t.D9],styles:["video[_ngcontent-%COMP%]{width:100%;height:auto;max-width:340px}.buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem}"]})}}return D})()},13310:(B,C,n)=>{"use strict";n.d(C,{U:()=>m});var i=n(29710),c=(n(1013),n(54438));const e=["*"];function p(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["medias","captions"]}getComponentName(){return"MediaViewerVideoComponent"}importThemedComponent(E){return n(61196)(`./${E}/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1013))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=c.xGo(f)))(M||f)}})()}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},82146:(B,C,n)=>{"use strict";n.r(C),n.d(C,{MediaViewerComponent:()=>te});var i=n(60177),t=n(68018),c=n(84412),e=n(5964),p=n(96697),m=n(78544),f=n(4266);n(15862);class E{}var y=n(4093),M=n(89777),b=n(15202),P=n(4600),D=n(50186),I=n(49170),h=n(86730),S=n(13310),O=n(54438),L=n(7901);const T=()=>["audio","video"];function x(he,ye){1&he&&(O.nrm(0,"ds-loading",1),O.nI1(1,"translate")),2&he&&(O.FS9("message",O.bMT(1,2,"loading.default")),O.Y8G("showMessage",!1))}function N(he,ye){if(1&he&&(O.nrm(0,"ds-media-viewer-video",4),O.nI1(1,"async")),2&he){const re=O.XpG(5).ngVar,ce=O.XpG();O.Y8G("medias",re)("captions",O.bMT(1,2,ce.captions$))}}function j(he,ye){if(1&he&&O.nrm(0,"ds-media-viewer-image",5),2&he){const re=O.XpG(5).ngVar;O.Y8G("images",re)}}function $(he,ye){}function k(he,ye){if(1&he&&(O.nrm(0,"ds-media-viewer-image",6),O.nI1(1,"async")),2&he){let re;const ce=O.XpG(7);O.Y8G("image",(null==(re=O.bMT(1,2,ce.thumbnailsRD$))||null==re.payload||null==re.payload.page[0]?null:re.payload.page[0]._links.content.href)||ce.thumbnailPlaceholder)("preview",!1)}}function K(he,ye){if(1&he&&(O.nrm(0,"ds-thumbnail",3),O.nI1(1,"async")),2&he){let re;const ce=O.XpG(7);O.Y8G("thumbnail",null==(re=O.bMT(1,1,ce.thumbnailsRD$))||null==re.payload?null:re.payload.page[0])}}function z(he,ye){if(1&he&&O.DNE(0,k,2,4,"ds-media-viewer-image",6)(1,K,2,3,"ds-thumbnail",3),2&he){const re=O.XpG(6);O.vxM(re.mediaOptions.image&&re.mediaOptions.video?0:-1),O.R7$(),O.vxM(re.mediaOptions.image&&re.mediaOptions.video?-1:1)}}function V(he,ye){if(1&he&&(O.qex(0),O.DNE(1,N,2,4,"ds-media-viewer-video",4)(2,j,1,1,"ds-media-viewer-image",5)(3,$,0,0)(4,z,2,2),O.bVm()),2&he){const re=ye.ngVar,ce=O.XpG().ngVar;O.R7$(),O.vxM(ce?1:-1),O.R7$(),O.vxM(re?2:-1),O.R7$(),O.vxM(re||ce?3:4)}}function G(he,ye){if(1&he&&(O.qex(0),O.DNE(1,V,5,3,"ng-container",0),O.bVm()),2&he){const re=O.XpG(3).ngVar,ce=O.XpG();O.R7$(),O.Y8G("ngVar",ce.mediaOptions.image&&"image"===(null==re[0]?null:re[0].format))}}function X(he,ye){if(1&he&&O.DNE(0,G,2,1,"ng-container",0),2&he){const re=O.XpG(2).ngVar,ce=O.XpG();O.Y8G("ngVar",ce.mediaOptions.video&&O.lJ4(1,T).includes(null==re[0]?null:re[0].format))}}function Q(he,ye){if(1&he&&(O.nrm(0,"ds-thumbnail",3),O.nI1(1,"async")),2&he){let re;const ce=O.XpG(3);O.Y8G("thumbnail",null==(re=O.bMT(1,1,ce.thumbnailsRD$))||null==re.payload?null:re.payload.page[0])}}function ee(he,ye){if(1&he&&(O.j41(0,"div",2),O.DNE(1,X,1,2,"ng-container")(2,Q,2,3,"ds-thumbnail",3),O.k0s()),2&he){const re=O.XpG().ngVar;O.R7$(),O.vxM(re.length>0?1:2)}}function ie(he,ye){if(1&he&&(O.qex(0),O.DNE(1,x,2,4,"ds-loading",1)(2,ee,3,1,"div",2),O.bVm()),2&he){const re=O.XpG();O.R7$(),O.vxM(re.isLoading?1:2)}}let te=(()=>{class he{constructor(re,ce,Z){this.bitstreamDataService=re,this.changeDetectorRef=ce,this.route=Z,this.mediaOptions=m.c.mediaViewer,this.mediaList$=new c.t([]),this.captions$=new c.t([]),this.isLoading=!0,this.thumbnailPlaceholder="./assets/images/replacement_document.svg",this.subs=[]}ngOnDestroy(){this.subs.forEach(re=>re.unsubscribe())}ngOnInit(){this.itemRequest=this.route.snapshot.data.itemRequest;const re=[...this.mediaOptions.image?["image"]:[],...this.mediaOptions.video?["audio","video"]:[]];this.thumbnailsRD$=this.loadRemoteData("THUMBNAIL"),this.subs.push(this.loadRemoteData("ORIGINAL").subscribe(ce=>{0===ce.payload.page.length?(this.isLoading=!1,this.mediaList$.next([])):this.subs.push(this.thumbnailsRD$.subscribe(Z=>{for(let ne=0;ne<ce.payload.page.length;ne++)this.subs.push(ce.payload.page[ne].format.pipe((0,y.ak)()).subscribe(fe=>{const ae=this.createMediaViewerItem(ce.payload.page[ne],fe,Z.payload&&Z.payload.page[ne]);re.includes(ae.format)?this.mediaList$.next([...this.mediaList$.getValue(),ae]):"text/vtt"===fe.mimetype&&this.captions$.next([...this.captions$.getValue(),ce.payload.page[ne]])}));this.isLoading=!1,this.changeDetectorRef.detectChanges()}))}))}loadRemoteData(re){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,re,{},!0,!0,(0,P.s)("format")).pipe((0,e.p)(ce=>(0,M.a4)(ce)&&((0,M.a4)(ce.errorMessage)||(0,M.a4)(ce.payload))),(0,p.s)(1))}createMediaViewerItem(re,ce,Z){const ne=new E;return ne.bitstream=re,ne.format=ce.mimetype.split("/")[0],ne.mimetype=ce.mimetype,ne.thumbnail=Z?Z._links.content.href:null,ne.accessToken=this.accessToken,ne}get accessToken(){return(0,M.a4)(this.itemRequest)&&this.itemRequest.accessToken&&!this.itemRequest.accessExpired?this.itemRequest.accessToken:null}static{this.\u0275fac=function(ce){return new(ce||he)(O.rXU(f.BitstreamDataService),O.rXU(O.gRc),O.rXU(L.nX))}}static{this.\u0275cmp=O.VBU({type:he,selectors:[["ds-base-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[O.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"message","showMessage"],[1,"media-viewer"],[3,"thumbnail"],[3,"medias","captions"],[3,"images"],[3,"image","preview"]],template:function(ce,Z){1&ce&&(O.DNE(0,ie,3,1,"ng-container",0),O.nI1(1,"async")),2&ce&&O.Y8G("ngVar",O.bMT(1,1,Z.mediaList$))},dependencies:[i.Jj,b.v,h.Q,S.U,I.T,t.h,t.D9,D.r]})}}return he})()},1837:(B,C,n)=>{"use strict";n.d(C,{e:()=>c});var i=n(89777),t=n(54438);let c=(()=>{class e{ngOnInit(){this.objects=[],this.subscriptions=[],this.increase()}getPage(m){}increase(){const m=this.getPage(this.objects.length+1);(0,i.a4)(m)&&this.objects.push(m)}decrease(){this.objects.length>1&&this.objects.pop()}ngOnDestroy(){(0,i.hj)(this.subscriptions)&&this.subscriptions.forEach(m=>{m.unsubscribe()})}static{this.\u0275fac=function(f){return new(f||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ds-abstract-incremental-list"]],standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(f,v){},encapsulation:2})}}return e})()},57047:(B,C,n)=>{"use strict";n.r(C),n.d(C,{FileSectionComponent:()=>K});var i=n(60177),t=n(68018),c=n(84412),e=n(79096),p=n(43446),m=n(4266),v=(n(15862),n(4093)),E=n(89777),y=n(96044),M=n(15202),b=n(72862),P=n(9847),D=n(81829),I=n(4600),h=n(50186),S=n(54438);function O(z,V){1&z&&(S.j41(0,"span",7),S.EFF(1),S.nI1(2,"translate"),S.k0s()),2&z&&(S.R7$(),S.JRh(S.bMT(2,1,"item.page.bitstreams.primary")))}function L(z,V){if(1&z&&S.nrm(0,"span",8),2&z){const G=S.XpG(4);S.FS9("innerHTML",G.separator,S.npT)}}function T(z,V){if(1&z&&(S.j41(0,"ds-file-download-link",3)(1,"span"),S.DNE(2,O,3,3,"span",7),S.EFF(3),S.k0s(),S.j41(4,"span"),S.EFF(5),S.nI1(6,"dsFileSize"),S.k0s(),S.DNE(7,L,1,1,"span",8),S.k0s()),2&z){const G=V.$implicit,X=V.$index,Q=V.$count,ee=S.XpG(3);S.Y8G("bitstream",G)("item",ee.item),S.R7$(2),S.vxM(ee.primaryBitstreamId===G.id?2:-1),S.R7$(),S.SpI(" ",ee.dsoNameService.getName(G)," "),S.R7$(2),S.SpI(" (",S.bMT(6,6,null==G?null:G.sizeBytes),")"),S.R7$(2),S.vxM(X!==Q-1?7:-1)}}function x(z,V){1&z&&(S.nrm(0,"ds-loading",4),S.nI1(1,"translate")),2&z&&(S.FS9("message",S.bMT(1,2,"loading.default")),S.Y8G("showMessage",!1))}function N(z,V){if(1&z){const G=S.RV6();S.j41(0,"div",5)(1,"button",9),S.bIt("click",function(){S.eBV(G);const Q=S.XpG(3);return S.Njj(Q.getNextPage())}),S.EFF(2),S.nI1(3,"translate"),S.k0s()()}2&z&&(S.R7$(2),S.JRh(S.bMT(3,1,"item.page.bitstreams.view-more")))}function j(z,V){if(1&z){const G=S.RV6();S.j41(0,"div",6)(1,"button",10),S.bIt("click",function(){S.eBV(G);const Q=S.XpG(3);return Q.currentPage=void 0,S.Njj(Q.getNextPage())}),S.EFF(2),S.nI1(3,"translate"),S.k0s()()}2&z&&(S.R7$(2),S.JRh(S.bMT(3,1,"item.page.bitstreams.collapse")))}function $(z,V){if(1&z&&(S.j41(0,"ds-metadata-field-wrapper",1),S.nI1(1,"translate"),S.j41(2,"div",2),S.Z7z(3,T,8,8,"ds-file-download-link",3,S.fX1),S.DNE(5,x,2,4,"ds-loading",4)(6,N,4,3,"div",5)(7,j,4,3,"div",6),S.k0s()()),2&z){const G=S.XpG().ngVar,X=S.XpG();S.Y8G("label",S.bMT(1,4,X.label)),S.R7$(3),S.Dyx(G),S.R7$(2),S.vxM(X.isLoading?5:-1),S.R7$(),S.vxM(X.isLastPage?-1:6),S.R7$(),S.vxM(X.isLastPage&&1!==X.currentPage?7:-1)}}function k(z,V){if(1&z&&(S.qex(0),S.DNE(1,$,8,6,"ds-metadata-field-wrapper",1),S.bVm()),2&z){const G=V.ngVar;S.R7$(),S.vxM((null==G?null:G.length)>0?1:-1)}}let K=(()=>{class z{constructor(G,X,Q,ee,ie){this.bitstreamDataService=G,this.notificationsService=X,this.translateService=Q,this.dsoNameService=ee,this.appConfig=ie,this.label="item.page.files",this.separator="<br/>",this.pageSize=this.appConfig.item.bitstream.pageSize}ngOnInit(){this.getPrimaryBitstreamId(),this.getNextPage()}getPrimaryBitstreamId(){this.bitstreamDataService.findPrimaryBitstreamByItemAndName(this.item,"ORIGINAL",!0,!0).subscribe(G=>{G&&(this.primaryBitstreamId=G?.id)})}getNextPage(){this.isLoading=!0,void 0===this.currentPage?(this.currentPage=1,this.bitstreams$=new c.t([])):this.currentPage++,this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{currentPage:this.currentPage,elementsPerPage:this.pageSize},!0,!0,(0,I.s)("accessStatus")).pipe((0,v.qD)()).subscribe(G=>{if(G.errorMessage)this.notificationsService.error(this.translateService.get("file-section.error.header"),`${G.statusCode} ${G.errorMessage}`);else if((0,E.a4)(G.payload)){const X=this.bitstreams$.getValue();this.bitstreams$.next([...X,...G.payload.page]),this.isLoading=!1,this.isLastPage=this.currentPage===G.payload.totalPages}})}static{this.\u0275fac=function(X){return new(X||z)(S.rXU(m.BitstreamDataService),S.rXU(P.I),S.rXU(t.c$),S.rXU(p.f),S.rXU(e.vQ))}}static{this.\u0275cmp=S.VBU({type:z,selectors:[["ds-base-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[S.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"label"],[1,"file-section"],[3,"bitstream","item"],[3,"message","showMessage"],["id","view-more",1,"mt-1"],["id","collapse",1,"mt-1"],[1,"badge","bg-primary"],[3,"innerHTML"],[1,"bitstream-view-more","btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bitstream-collapse","btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(X,Q){1&X&&(S.DNE(0,k,2,1,"ng-container",0),S.nI1(1,"async")),2&X&&S.Y8G("ngVar",S.bMT(1,1,Q.bitstreams$))},dependencies:[i.MD,i.Jj,D.s,b.Q,y.z,M.v,t.h,t.D9,h.r],encapsulation:2})}}return z})()},35426:(B,C,n)=>{"use strict";n.r(C),n.d(C,{ItemPageTitleFieldComponent:()=>m});var i=n(68018),t=n(43446),e=(n(15862),n(54438));function p(f,v){1&f&&(e.j41(0,"div",1),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&f&&(e.R7$(),e.SpI(" ",e.bMT(2,1,v.toLowerCase()+".page.titleprefix")," "))}let m=(()=>{class f{constructor(E){this.dsoNameService=E}static{this.\u0275fac=function(y){return new(y||f)(e.rXU(t.f))}}static{this.\u0275cmp=e.VBU({type:f,selectors:[["ds-base-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[e.aNF],decls:4,vars:2,consts:[[1,"item-page-title-field"],[1,"d-inline"],[1,"dont-break-out"]],template:function(y,M){if(1&y&&(e.j41(0,"h1",0),e.DNE(1,p,3,3,"div",1),e.j41(2,"span",2),e.EFF(3),e.k0s()()),2&y){let b;e.R7$(),e.vxM((b=M.item.firstMetadataValue("dspace.entity.type"))?1:-1,b),e.R7$(2),e.JRh(M.dsoNameService.getName(M.item))}},dependencies:[i.h,i.D9],encapsulation:2})}}return f})()},31893:(B,C,n)=>{"use strict";n.d(C,{V:()=>f}),n(15862);var t=n(29710),e=(n(35426),n(54438));const p=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"ItemPageTitleFieldComponent"}importThemedComponent(y){return n(17026)(`./${y}/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,35426))}static{this.\u0275fac=(()=>{let y;return function(b){return(y||(y=e.xGo(v)))(b||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(M,b){1&M&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},34068:(B,C,n)=>{"use strict";n.d(C,{EF:()=>I,NG:()=>D,W2:()=>P,ky:()=>M});var i=n(54438),t=n(7673),c=n(44437),e=n(84572),p=n(73028),m=n(96354),f=n(23294),v=n(25558),E=n(4093),y=n(89777);const M=new i.nKC("paginatedRelationsToItems",{providedIn:"root",factory:()=>I}),P=()=>{return h=h=>(0,y.a4)(h)?h.id:void 0,(S,O)=>{if(!Array.isArray(S)||!Array.isArray(O))return!1;const L=S.map(h),T=O.map(h);return L.length===T.length&&L.every(x=>T.includes(x))&&T.every(x=>L.includes(x))};var h},D=h=>S=>S.pipe((0,p.Z)(O=>0===O.length?(0,t.of)([]):(0,c.y)(...O.map(L=>(0,e.z)([L.leftItem,L.rightItem])))),(0,m.T)(O=>O.filter(([L,T])=>L.hasSucceeded&&T.hasSucceeded).map(([L,T])=>L.payload.id===h?T.payload:T.payload.id===h?L.payload:void 0).filter(L=>(0,y.a4)(L))),(0,f.F)(P())),I=h=>S=>S.pipe((0,E.qD)(),(0,v.n)(O=>(0,e.z)(O.payload.page.map(L=>(0,e.z)([L.leftItem.pipe((0,E.qD)(),(0,m.T)(T=>T.hasSucceeded?T.payload:null)),L.rightItem.pipe((0,E.qD)(),(0,m.T)(T=>T.hasSucceeded?T.payload:null))]))).pipe((0,m.T)(L=>L.map(([T,x])=>(0,y.a4)(T)&&T.id===h?x:(0,y.a4)(x)&&x.id===h?T:void 0).filter(T=>(0,y.a4)(T))),(0,f.F)(P()),(0,m.T)(L=>Object.assign(O,{payload:Object.assign(O.payload,{page:L})})))))},80551:(B,C,n)=>{"use strict";n.r(C),n.d(C,{MetadataRepresentationListComponent:()=>z});var i=n(60177),t=n(68018),c=n(44437),e=n(96354),p=n(57168),m=n(54009),f=n(87433),v=n(75082),y=(n(15862),n(54095)),M=n(60032),b=n(4093),P=n(15202),D=n(72862),I=n(18040),h=n(50186),S=n(1837),O=n(54438);const L=V=>({amount:V});function T(V,G){1&V&&O.nrm(0,"ds-metadata-representation-loader",2),2&V&&O.Y8G("mdRepresentation",G.$implicit)}function x(V,G){1&V&&(O.nrm(0,"ds-loading",3),O.nI1(1,"translate")),2&V&&O.FS9("message",O.bMT(1,1,"loading.default"))}function N(V,G){if(1&V){const X=O.RV6();O.j41(0,"div",5)(1,"button",7),O.bIt("click",function(){O.eBV(X);const ee=O.XpG(4);return O.Njj(ee.increase())}),O.EFF(2),O.nI1(3,"translate"),O.k0s()()}if(2&V){const X=O.XpG(4);O.R7$(2),O.JRh(O.i5U(3,1,"item.page.related-items.view-more",O.eq3(4,L,X.total-X.objects.length*X.incrementBy<X.incrementBy?X.total-X.objects.length*X.incrementBy:X.incrementBy)))}}function j(V,G){if(1&V){const X=O.RV6();O.j41(0,"div",6)(1,"button",7),O.bIt("click",function(){O.eBV(X);const ee=O.XpG(4);return O.Njj(ee.decrease())}),O.EFF(2),O.nI1(3,"translate"),O.k0s()()}if(2&V){const X=O.XpG(2).ngVar;O.R7$(2),O.JRh(O.i5U(3,1,"item.page.related-items.view-less",O.eq3(4,L,null==X?null:X.length)))}}function $(V,G){if(1&V&&(O.j41(0,"div",4),O.DNE(1,N,4,6,"div",5)(2,j,4,6,"div",6),O.k0s()),2&V){const X=O.XpG(3);O.R7$(),O.vxM(X.objects.length*X.incrementBy<X.total?1:-1),O.R7$(),O.vxM(X.objects.length>1?2:-1)}}function k(V,G){if(1&V&&(O.qex(0),O.Z7z(1,T,1,1,"ds-metadata-representation-loader",2,O.fX1),O.DNE(3,x,2,3,"ds-loading",3)(4,$,3,2,"div",4),O.bVm()),2&V){const X=G.ngVar,Q=O.XpG().$index,ee=O.XpG();O.R7$(),O.Dyx(X),O.R7$(2),O.vxM(Q+1===ee.objects.length&&Q>0&&(!X||0===(null==X?null:X.length))?3:-1),O.R7$(),O.vxM(Q+1===ee.objects.length&&(null==X?null:X.length)>0?4:-1)}}function K(V,G){1&V&&(O.DNE(0,k,5,2,"ng-container",1),O.nI1(1,"async")),2&V&&O.Y8G("ngVar",O.bMT(1,1,G.$implicit))}let z=(()=>{class V extends S.e{constructor(X,Q,ee){super(),this.relationshipService=X,this.browseDefinitionDataService=Q,this.metadataService=ee,this.incrementBy=10}getPage(X){const Q=this.parentItem.findMetadataSortedByPlace(this.metadataFields);return this.total=Q.length,this.resolveMetadataRepresentations(Q,X)}resolveMetadataRepresentations(X,Q){return(0,c.y)(...X.slice(this.objects.length*this.incrementBy,this.objects.length*this.incrementBy+this.incrementBy).map(ee=>Object.assign(new y.vD,ee)).map(ee=>{if(this.metadataService.isVirtual(ee))return this.relationshipService.resolveMetadataRepresentation(ee,this.parentItem,this.itemType);{let ie=[];return this.metadataFields.forEach(te=>{ie=ie.concat(p.q.toSearchKeyArray(te))}),this.browseDefinitionDataService.findByFields(this.metadataFields).pipe((0,b.qD)(),(0,e.T)(te=>Object.assign(new M.Q(this.itemType,te.payload),ee)))}}))}static{this.\u0275fac=function(Q){return new(Q||V)(O.rXU(f.RelationshipDataService),O.rXU(m.BrowseDefinitionDataService),O.rXU(v.T))}}static{this.\u0275cmp=O.VBU({type:V,selectors:[["ds-base-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[O.Vt3,O.aNF],decls:3,vars:1,consts:[[3,"label"],[4,"ngVar"],[3,"mdRepresentation"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],[1,"float-start"],[1,"float-end"],[1,"btn","btn-link","btn-link-inline",3,"click"]],template:function(Q,ee){1&Q&&(O.j41(0,"ds-metadata-field-wrapper",0),O.Z7z(1,K,2,3,"ng-container",null,O.fX1),O.k0s()),2&Q&&(O.Y8G("label",ee.label),O.R7$(),O.Dyx(ee.objects))},dependencies:[i.Jj,D.Q,I.V,P.v,t.h,t.D9,h.r],encapsulation:2})}}return V})()},38884:(B,C,n)=>{"use strict";n.d(C,{h:()=>e});var i=n(9847),t=n(54438),c=n(68018);let e=(()=>{class p{constructor(f,v){this.notificationsService=f,this.translateService=v}static msg(f){return"item.version.create.notification."+f}notifyCreateNewVersion(f){const v=f?.payload?.version;f.hasSucceeded?this.notificationsService.success(null,this.translateService.get(p.msg("success"),{version:v})):this.notificationsService.error(null,this.translateService.get(p.msg(422===f?.statusCode?"inProgress":"failure")))}static{this.\u0275fac=function(v){return new(v||p)(t.KVO(i.I),t.KVO(c.c$))}}static{this.\u0275prov=t.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},82574:(B,C,n)=>{"use strict";n.d(C,{L:()=>b});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),p=n(84412),m=n(15202),f=n(58003);const v=P=>({version:P});function E(P,D){if(1&P&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&P){const I=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(2,1,"item.version.create.modal.text.startingFrom",t.eq3(4,v,I.versionNumber))," ")}}function y(P,D){if(1&P){const I=t.RV6();t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){t.eBV(I);const S=t.XpG();return t.Njj(S.onModalClose())}),t.k0s()(),t.j41(5,"div",2)(6,"p",3),t.EFF(7),t.nI1(8,"translate"),t.DNE(9,E,3,6,"span"),t.k0s(),t.j41(10,"div",4)(11,"label",5),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"input",6),t.nI1(15,"translate"),t.mxI("ngModelChange",function(S){t.eBV(I);const O=t.XpG();return t.DH7(O.newVersionSummary,S)||(O.newVersionSummary=S),t.Njj(S)}),t.bIt("keyup.enter",function(){t.eBV(I);const S=t.XpG();return t.Njj(S.onModalSubmit())}),t.k0s()()(),t.j41(16,"div",7)(17,"button",8),t.nI1(18,"translate"),t.bIt("click",function(){t.eBV(I);const S=t.XpG();return t.Njj(S.onModalClose())}),t.nrm(19,"i",9),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"button",10),t.nI1(23,"translate"),t.bIt("click",function(){t.eBV(I);const S=t.XpG();return t.Njj(S.onModalSubmit())}),t.nrm(24,"i",11),t.EFF(25),t.nI1(26,"translate"),t.k0s()()()}if(2&P){const I=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,10,"item.version.create.modal.header")," "),t.R7$(5),t.SpI(" ",t.bMT(8,12,"item.version.create.modal.text")," "),t.R7$(2),t.vxM(I.firstVersion?-1:9),t.R7$(3),t.SpI("",t.bMT(13,14,"item.version.create.modal.form.summary.label"),":"),t.R7$(2),t.FS9("placeholder",t.bMT(15,16,"item.version.create.modal.form.summary.placeholder")),t.R50("ngModel",I.newVersionSummary),t.R7$(3),t.FS9("title",t.bMT(18,18,"item.version.create.modal.button.cancel.tooltip")),t.R7$(3),t.SpI(" ",t.bMT(21,20,"item.version.create.modal.button.cancel")," "),t.R7$(2),t.FS9("title",t.bMT(23,22,"item.version.create.modal.button.confirm.tooltip")),t.R7$(3),t.SpI(" ",t.bMT(26,24,"item.version.create.modal.button.confirm")," ")}}function M(P,D){1&P&&(t.j41(0,"div",0),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"div",2)(4,"p"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",12),t.nrm(8,"ds-loading",13),t.k0s()()),2&P&&(t.R7$(),t.JRh(t.bMT(2,3,"item.version.create.modal.submitted.header")),t.R7$(4),t.JRh(t.bMT(6,5,"item.version.create.modal.submitted.text")),t.R7$(3),t.Y8G("showMessage",!1))}let b=(()=>{class P{constructor(I){this.activeModal=I,this.firstVersion=!0,this.createVersionEvent=new t.bkB}ngOnInit(){this.submitted$=new p.t(!1)}onModalClose(){this.activeModal.dismiss()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.createVersionEvent.emit(this.newVersionSummary),this.submitted$.next(!0)}static{this.\u0275fac=function(h){return new(h||P)(t.rXU(f.Lw))}}static{this.\u0275cmp=t.VBU({type:P,selectors:[["ds-item-versions-summary-modal"]],outputs:{createVersionEvent:"createVersionEvent"},standalone:!0,features:[t.aNF],decls:3,vars:3,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"pb-2"],[1,"mb-3"],["for","summary",1,"form-label"],["type","text","id","summary",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ms-0",3,"click","title"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ms-0",3,"click","title"],[1,"fas","fa-check","fa-fw"],[1,"d-flex","justify-content-center"],[3,"showMessage"]],template:function(h,S){1&h&&(t.DNE(0,y,27,26,"div"),t.nI1(1,"async"),t.DNE(2,M,9,7)),2&h&&t.vxM(!0!==t.bMT(1,1,S.submitted$)?0:2)},dependencies:[i.Jj,c.YN,c.me,c.BC,c.vS,m.v,e.h,e.D9]})}}return P})()},50553:(B,C,n)=>{"use strict";n.d(C,{U$:()=>x,EN:()=>T});var i=n(54438),t=n(84572),c=n(61594),e=n(96354),p=n(79096),m=n(8177),f=n(57775),v=n(70998),E=n(3601),y=n(31),M=n(70161),b=n(87507),P=n(40940),D=n(7094),I=n(82584),h=n(8417),S=function(N){return N.Workspace="workspace",N.SupervisedItems="supervisedWorkspace",N.Workflow="workflow",N}(S||{}),O=n(7901);const L=new Map([[S.Workspace,P.o.Workspace],[S.SupervisedItems,P.o.SupervisedItems],[S.Workflow,P.o.Workflow]]),T=new i.nKC("searchConfigurationService");let x=(()=>{class N extends I.g{constructor($,k,K,z,V,G,X,Q,ee){super(k,K,z,V,G,X,Q,ee),this.roleService=$,this.routeService=k,this.paginationService=K,this.route=z,this.linkService=V,this.halService=G,this.requestService=X,this.rdb=Q,this.appConfig=ee,this.defaultPagination=Object.assign(new h.W,{id:"mydspace-page",pageSize:10,currentPage:1}),this.defaultSort=new v.z("dc.date.issued",v.U.DESC),this.defaultConfiguration="workspace",this.defaultScope="",this.defaultQuery="",this._defaults=null,this.initDefaults(),this.isSubmitter$=this.roleService.isSubmitter(),this.isController$=this.roleService.isController(),this.isAdmin$=this.roleService.isAdmin()}getAvailableConfigurationTypes(){return(0,t.z)(this.isSubmitter$,this.isController$,this.isAdmin$).pipe((0,c.$)(),(0,e.T)(([$,k,K])=>{const z=[];return $&&z.push(S.Workspace),(k||K)&&(z.push(S.SupervisedItems),z.push(S.Workflow)),z}))}getAvailableConfigurationOptions(){return this.getAvailableConfigurationTypes().pipe((0,c.$)(),(0,e.T)($=>{const k=[];return $.forEach(K=>{const z=K,V=`mydspace.show.${z}`,G=L.get(K);k.push({value:z,label:V,context:G})}),k}))}static{this.\u0275fac=function(k){return new(k||N)(i.KVO(M.W),i.KVO(b.v$),i.KVO(y.m),i.KVO(O.nX),i.KVO(m._),i.KVO(D.Y),i.KVO(E.B),i.KVO(f.o),i.KVO(p.vQ))}}static{this.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})()},74765:(B,C,n)=>{"use strict";n.d(C,{o:()=>ee});var i=n(54438),t=n(61594),c=n(94196),e=n(7094),p=n(89777),m=n(9847),f=n(84780),v=n(89291),E=n(68018),y=n(5598),M=n(58003);let b=(()=>{class ie{constructor(he){this.activeModal=he}selectObject(he){this.activeModal.close(he.collection)}close(){this.activeModal.close()}static{this.\u0275fac=function(ye){return new(ye||ie)(i.rXU(M.Lw))}}static{this.\u0275cmp=i.VBU({type:ie,selectors:[["ds-collection-selector"]],standalone:!0,features:[i.aNF],decls:7,vars:3,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"selectionChange"]],template:function(ye,re){1&ye&&(i.j41(0,"div")(1,"div",0),i.EFF(2),i.nI1(3,"translate"),i.j41(4,"button",1),i.bIt("click",function(){return re.close()}),i.k0s()(),i.j41(5,"div",2)(6,"ds-collection-dropdown",3),i.bIt("selectionChange",function(Z){return re.selectObject(Z)}),i.k0s()()()),2&ye&&(i.R7$(2),i.SpI("",i.bMT(3,1,"dso-selector.create.submission.head")," "))},dependencies:[y.m,E.h,E.D9]})}}return ie})();var P=n(60177),D=n(84412),I=n(7673),h=n(73028),S=n(96697),O=n(96354),L=n(67685),T=n(79104),x=n(11588),N=n(33745),j=n(7901);function $(ie,te){if(1&ie){const he=i.RV6();i.j41(0,"div",0)(1,"button",2),i.nI1(2,"translate"),i.nI1(3,"async"),i.nI1(4,"translate"),i.bIt("click",function(){i.eBV(he);const re=i.XpG();return i.Njj(re.openPage(re.singleEntity))}),i.nrm(5,"i",3),i.k0s()()}if(2&ie){const he=i.XpG();i.R7$(),i.FS9("title",i.bMT(2,3,"mydspace.new-submission-external")),i.Y8G("dsBtnDisabled",!0!==i.bMT(3,5,he.initialized$)),i.BMQ("aria-label",i.bMT(4,7,"mydspace.new-submission-external"))}}function k(ie,te){if(1&ie){const he=i.RV6();i.j41(0,"div",1)(1,"button",4),i.nI1(2,"translate"),i.nI1(3,"async"),i.nI1(4,"translate"),i.nI1(5,"dsBrowserOnly"),i.nrm(6,"i",3)(7,"span",5),i.k0s(),i.j41(8,"div",6)(9,"ds-entity-dropdown",7),i.bIt("selectionChange",function(re){i.eBV(he);const ce=i.XpG();return i.Njj(ce.openPage(re))}),i.k0s()()()}if(2&ie){const he=i.XpG();i.R7$(),i.FS9("title",i.bMT(2,5,"mydspace.new-submission-external")),i.Y8G("dsBtnDisabled",!0!==i.bMT(3,7,he.initialized$)),i.BMQ("aria-label",i.bMT(4,9,"mydspace.new-submission-external"))("data-test",i.bMT(5,11,"import-dropdown")),i.R7$(8),i.Y8G("isSubmission",!1)}}let K=(()=>{class ie{constructor(he,ye){this.entityTypeService=he,this.router=ye,this.initialized$=new D.t(!1),this.subs=[]}ngOnInit(){this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorizedImport(),this.singleEntity$=this.moreThanOne$.pipe((0,h.Z)(he=>he?(this.initialized$.next(!0),(0,I.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipTypeImport({elementsPerPage:1,currentPage:1}).pipe((0,S.s)(1),(0,O.T)(re=>(this.initialized$.next(!0),re?.payload?.page[0])))),(0,S.s)(1)),this.subs.push(this.singleEntity$.subscribe(he=>{this.singleEntity=he}))}openPage(he){const ye=Object.create({});he&&(ye.entity=he.label),this.router.navigate(["/import-external"],{queryParams:ye})}ngOnDestroy(){this.subs.filter(he=>(0,p.a4)(he)).forEach(he=>he.unsubscribe())}static{this.\u0275fac=function(ye){return new(ye||ie)(i.rXU(L.f),i.rXU(j.Ix))}}static{this.\u0275cmp=i.VBU({type:ie,selectors:[["ds-my-dspace-new-external-dropdown"]],standalone:!0,features:[i.aNF],decls:4,vars:6,consts:[[1,"add"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["role","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ms-2",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fa","fa-file-import"],["id","dropdownImport","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ms-2",3,"dsBtnDisabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","importControlsDropdownMenu","aria-labelledby","dropdownImport",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(ye,re){1&ye&&(i.DNE(0,$,6,9,"div",0),i.nI1(1,"async"),i.DNE(2,k,10,13,"div",1),i.nI1(3,"async")),2&ye&&(i.vxM(!0!==i.bMT(1,2,re.moreThanOne$)?0:-1),i.R7$(2),i.vxM(i.bMT(3,4,re.moreThanOne$)?2:-1))},dependencies:[P.Jj,N.L,T.A,x.Y,M.zH,M.tg,M.do,M.U0,E.h,E.D9],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#importControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .25rem #2b4e7240}"]})}}return ie})();var z=n(39334);function V(ie,te){if(1&ie){const he=i.RV6();i.j41(0,"div",0)(1,"button",2),i.nI1(2,"async"),i.nI1(3,"translate"),i.bIt("click",function(){i.eBV(he);const re=i.XpG();return i.Njj(re.openDialog(re.singleEntity))}),i.nrm(4,"i",3),i.k0s()()}if(2&ie){const he=i.XpG();i.R7$(),i.Y8G("dsBtnDisabled",!0!==i.bMT(2,2,he.initialized$)),i.BMQ("aria-label",i.bMT(3,4,"mydspace.new-submission"))}}function G(ie,te){if(1&ie){const he=i.RV6();i.j41(0,"div",1)(1,"button",4),i.nI1(2,"translate"),i.nI1(3,"async"),i.nI1(4,"translate"),i.nI1(5,"dsBrowserOnly"),i.nrm(6,"i",3)(7,"span",5),i.k0s(),i.j41(8,"div",6)(9,"ds-entity-dropdown",7),i.bIt("selectionChange",function(re){i.eBV(he);const ce=i.XpG();return i.Njj(ce.openDialog(re))}),i.k0s()()()}if(2&ie){const he=i.XpG();i.R7$(),i.FS9("title",i.bMT(2,5,"mydspace.new-submission")),i.Y8G("dsBtnDisabled",!0!==i.bMT(3,7,he.initialized$)),i.BMQ("aria-label",i.bMT(4,9,"mydspace.new-submission"))("data-test",i.bMT(5,11,"submission-dropdown")),i.R7$(8),i.Y8G("isSubmission",!0)}}let X=(()=>{class ie{constructor(he,ye){this.entityTypeService=he,this.modalService=ye,this.subs=[]}ngOnInit(){this.initialized$=(0,I.of)(!1),this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorized(),this.singleEntity$=this.moreThanOne$.pipe((0,h.Z)(he=>he?(this.initialized$=(0,I.of)(!0),(0,I.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipType({elementsPerPage:1,currentPage:1}).pipe((0,O.T)(re=>(this.initialized$=(0,I.of)(!0),re.payload.page[0])),(0,S.s)(1))),(0,S.s)(1)),this.subs.push(this.singleEntity$.subscribe(he=>this.singleEntity=he))}openDialog(he){this.modalService.open(z.L).componentInstance.entityType=he.label}ngOnDestroy(){this.subs.filter(he=>(0,p.a4)(he)).forEach(he=>he.unsubscribe())}static{this.\u0275fac=function(ye){return new(ye||ie)(i.rXU(L.f),i.rXU(M.Bq))}}static{this.\u0275cmp=i.VBU({type:ie,selectors:[["ds-my-dspace-new-submission-dropdown"]],standalone:!0,features:[i.aNF],decls:4,vars:6,consts:[[1,"add"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["role","button",1,"btn","btn-lg","btn-primary","mt-1","ms-2",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fa","fa-plus-circle"],["id","dropdownSubmission","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-primary","mt-1","ms-2",3,"dsBtnDisabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","entityControlsDropdownMenu","aria-labelledby","dropdownSubmission",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(ye,re){1&ye&&(i.DNE(0,V,5,6,"div",0),i.nI1(1,"async"),i.DNE(2,G,10,13,"div",1),i.nI1(3,"async")),2&ye&&(i.vxM(!0!==i.bMT(1,2,re.moreThanOne$)?0:-1),i.R7$(2),i.vxM(i.bMT(3,4,re.moreThanOne$)?2:-1))},dependencies:[P.Jj,N.L,T.A,x.Y,M.zH,M.tg,M.do,M.U0,E.h,E.D9],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#entityControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .25rem #2b4e7240}"]})}}return ie})();function Q(ie,te){if(1&ie){const he=i.RV6();i.j41(0,"ds-uploader",4),i.bIt("onCompleteItem",function(re){i.eBV(he);const ce=i.XpG();return i.Njj(ce.onCompleteItem(re))})("onUploadError",function(re){i.eBV(he);const ce=i.XpG();return i.Njj(ce.onUploadError(re))})("onFileSelected",function(re){i.eBV(he);const ce=i.XpG();return i.Njj(ce.afterFileLoaded(re))}),i.k0s()}if(2&ie){const he=i.XpG();i.Y8G("uploadFilesOptions",he.uploadFilesOptions)}}let ee=(()=>{class ie{constructor(he,ye,re,ce,Z,ne,fe){this.authService=he,this.changeDetectorRef=ye,this.halService=re,this.notificationsService=ce,this.translate=Z,this.modalService=ne,this.router=fe,this.uploadEnd=new i.bkB,this.uploadFilesOptions=new v.H}ngOnInit(){this.uploadFilesOptions.autoUpload=!1,this.sub=this.halService.getEndpoint("workspaceitems").pipe((0,t.$)()).subscribe(he=>{this.uploadFilesOptions.url=he,this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.changeDetectorRef.detectChanges()})}onCompleteItem(he){if(he&&he._embedded&&he._embedded.workspaceitems&&he._embedded.workspaceitems.length>0){const ye=he._embedded.workspaceitems;this.uploadEnd.emit(ye),1===ye.length?this.router.navigateByUrl("/workspaceitems/"+ye[0].id+"/edit"):ye.length>1&&this.notificationsService.success(null,this.translate.get("mydspace.upload.upload-multiple-successful",{qty:ye.length}))}else this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed"))}onUploadError(he){let ye="mydspace.upload.upload-failed";(0,p.a4)(he.status)&&422===he.status&&(ye="mydspace.upload.upload-failed-manyentries"),this.notificationsService.error(null,this.translate.get(ye))}afterFileLoaded(he){const ye=this.uploaderComponent.uploader;(0,p.a4)(he)&&he.length>1?(this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed-moreonefile")),ye.clearQueue(),this.changeDetectorRef.detectChanges()):this.modalService.open(b).result.then(ce=>{ye.onBuildItemForm=(Z,ne)=>{ne.append("owningCollection",ce.uuid)},ye.uploadAll()})}ngOnDestroy(){(0,p.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(ye){return new(ye||ie)(i.rXU(c.uR),i.rXU(i.gRc),i.rXU(e.Y),i.rXU(m.I),i.rXU(E.c$),i.rXU(M.Bq),i.rXU(j.Ix))}}static{this.\u0275cmp=i.VBU({type:ie,selectors:[["ds-my-dspace-new-submission"]],viewQuery:function(ye,re){if(1&ye&&i.GBs(f.y,5),2&ye){let ce;i.mGM(ce=i.lsd())&&(re.uploaderComponent=ce.first)}},outputs:{uploadEnd:"uploadEnd"},standalone:!0,features:[i.aNF],decls:7,vars:1,consts:[[1,"parent","mb-3"],[1,"upload"],[3,"uploadFilesOptions"],[1,"add"],[3,"onCompleteItem","onUploadError","onFileSelected","uploadFilesOptions"]],template:function(ye,re){1&ye&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,Q,1,1,"ds-uploader",2),i.k0s(),i.j41(3,"div",3),i.nrm(4,"ds-my-dspace-new-submission-dropdown"),i.k0s(),i.j41(5,"div",3),i.nrm(6,"ds-my-dspace-new-external-dropdown"),i.k0s()()),2&ye&&(i.R7$(2),i.vxM(""!==re.uploadFilesOptions.url?2:-1))},dependencies:[K,X,f.y],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}"]})}}return ie})()},73450:(B,C,n)=>{"use strict";n.r(C),n.d(C,{MYDSPACE_ROUTE:()=>$,MyDSpacePageComponent:()=>k});var i=n(60177),t=n(96697),c=n(89777),e=n(97104),p=n(76456),m=n(60428),f=n(54095),v=n(81640),E=n(54438);let y=(()=>{class K extends v.D3{parse(V,G){const Q=G.payload._embedded.searchResult||{_embedded:{objects:[]}},ee=Q._embedded.objects.map(ye=>ye.hitHighlights).map(ye=>{const re={};if(ye)for(const ce of Object.keys(ye)){const Z=Object.assign(new f.vD,{value:ye[ce].join("..."),language:null});re[ce]=[Z]}return re}),ie=Q._embedded.objects.filter(ye=>(0,c.a4)(ye._embedded)).map(ye=>ye._embedded.indexableObject).map(ye=>this.process(ye,V)).map(ye=>ye._links.self.href).reduce((ye,re)=>[...ye,...re],[]),te=Q._embedded.objects.filter(ye=>(0,c.a4)(ye._embedded)).map((ye,re)=>Object.assign({},ye,{indexableObject:ie[re],hitHighlights:ee[re],_embedded:this.filterEmbeddedObjects(ye)}));Q.objects=te;const he=new m.T(e.n).deserialize(Q);return he.pageInfo=this.processPageInfo(Q),this.addToObjectCache(he,V,G),new p.hT(G.statusCode,he._links.self)}filterEmbeddedObjects(V){const G=["submitter","item","workspaceitem","workflowitem"];return V._embedded.indexableObject&&V._embedded.indexableObject._embedded?Object.assign({},V._embedded,{indexableObject:Object.assign({},V._embedded.indexableObject,{_embedded:Object.keys(V._embedded.indexableObject._embedded).filter(X=>G.includes(X)).reduce((X,Q)=>(X[Q]=V._embedded.indexableObject._embedded[Q],X),{})})}):V}static{this.\u0275fac=(()=>{let V;return function(X){return(V||(V=E.xGo(K)))(X||K)}})()}static{this.\u0275prov=E.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();var M=n(49755),b=n(8672),P=n(94314),D=n(19192),I=n(44209),h=n(44461),S=n(89336),O=n(50553),L=n(74765),T=n(94160);const x=K=>[K];function N(K,z){1&K&&E.nrm(0,"ds-my-dspace-new-submission")}function j(K,z){if(1&K&&(E.nrm(0,"ds-search",2),E.nI1(1,"async")),2&K){const V=E.XpG();E.Y8G("configuration",V.configuration)("configurationList",E.bMT(1,4,V.configurationList$))("context",V.context)("viewModeList",V.viewModeList)}}const $="/mydspace";let k=(()=>{class K{constructor(V,G){this.service=V,this.searchConfigService=G,this.roleTypeEnum=b.T,this.viewModeList=[D.n.ListElement,D.n.DetailedListElement],this.service.setServiceOptions(y,M.WP)}ngOnInit(){this.configurationList$=this.searchConfigService.getAvailableConfigurationOptions(),this.configurationList$.pipe((0,t.s)(1)).subscribe(V=>{this.configuration=V[0].value,this.context=V[0].context})}static{this.\u0275fac=function(G){return new(G||K)(E.rXU(P.S),E.rXU(O.EN))}}static{this.\u0275cmp=E.VBU({type:K,selectors:[["ds-base-my-dspace-page"]],standalone:!0,features:[E.Jv_([{provide:O.EN,useClass:O.U$}]),E.aNF],decls:5,vars:4,consts:[[1,"container"],[4,"dsShowOnlyForRole"],[3,"configuration","configurationList","context","viewModeList"]],template:function(G,X){1&G&&(E.j41(0,"div",0),E.nrm(1,"ds-suggestions-notification")(2,"ds-my-dspace-qa-events-notifications"),E.DNE(3,N,1,0,"ds-my-dspace-new-submission",1),E.k0s(),E.DNE(4,j,2,6,"ds-search",2)),2&G&&(E.R7$(3),E.Y8G("dsShowOnlyForRole",E.eq3(2,x,X.roleTypeEnum.Submitter)),E.R7$(),E.vxM(X.configuration&&X.context?4:-1))},dependencies:[i.Jj,L.o,T.P,h.q,I.w,S.N],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}[_nghost-%COMP%]{--bs-gutter-x: .75rem}  .search-controls{margin-bottom:var(--bs-spacer)}"],changeDetection:0})}}return K})()},94160:(B,C,n)=>{"use strict";n.d(C,{P:()=>h});var i=n(60177),t=n(7901),c=n(68018),e=n(7673),p=n(88141),m=n(83),f=n(20387),v=n(4093),E=n(54438);const y=S=>({num:S}),M=(S,O)=>[S,O],b=()=>({forward:!0});function P(S,O){if(1&S&&(E.j41(0,"div",0)(1,"div",1),E.nrm(2,"img",2),E.k0s(),E.j41(3,"div",3)(4,"div",4),E.EFF(5),E.nI1(6,"translate"),E.k0s(),E.j41(7,"button",5),E.EFF(8),E.nI1(9,"translate"),E.k0s()()()),2&S){const L=E.XpG().$implicit,T=E.XpG(2);E.R7$(2),E.Mz_("src","assets/images/qa-",L.id,"-logo.png",E.B4B),E.Mz_("alt","",L.id," logo"),E.R7$(3),E.SpI(" ",E.i5U(6,8,"mydspace.qa-event-notification.check.notification-info",E.eq3(13,y,L.totalEvents))," "),E.R7$(2),E.Y8G("routerLink",E.l_i(15,M,T.getQualityAssuranceRoute(),L.id))("queryParams",E.lJ4(18,b)),E.R7$(),E.SpI(" ",E.bMT(9,11,"mydspace.qa-event-notification-info.check.button")," ")}}function D(S,O){1&S&&E.DNE(0,P,10,19,"div",0),2&S&&E.vxM(O.$implicit.totalEvents>0?0:-1)}function I(S,O){if(1&S&&(E.Z7z(0,D,1,1,null,null,E.fX1),E.nI1(2,"async")),2&S){const L=E.XpG();E.Dyx(E.bMT(2,0,L.sources$))}}let h=(()=>{class S{constructor(L){this.qualityAssuranceSourceDataService=L,this.sources$=(0,e.of)([])}ngOnInit(){this.getSources()}getSources(){this.sources$=this.qualityAssuranceSourceDataService.getSources().pipe((0,v.qD)(),(0,p.M)(L=>{if(L.hasFailed)throw new Error("Can't retrieve Quality Assurance sources")}),(0,v.Bo)(),(0,v.W8)())}getQualityAssuranceRoute(){return(0,m.b7)()}static{this.\u0275fac=function(T){return new(T||S)(E.rXU(f.QualityAssuranceSourceDataService))}}static{this.\u0275cmp=E.VBU({type:S,selectors:[["ds-my-dspace-qa-events-notifications"]],standalone:!0,features:[E.aNF],decls:2,vars:3,consts:[[1,"alert","alert-info","d-flex","flex-row"],[1,"source-logo-container"],["onerror","this.src='assets/images/dspace-logo.svg'",1,"source-logo",3,"src","alt"],[1,"w-100","d-flex","justify-content-between"],[1,"ps-4","align-self-center"],[1,"btn","btn-primary","align-self-center",3,"routerLink","queryParams"]],template:function(T,x){if(1&T&&(E.DNE(0,I,3,2),E.nI1(1,"async")),2&T){let N;E.vxM((null==(N=E.bMT(1,1,x.sources$))?null:N.length)>0?0:-1)}},dependencies:[i.Jj,t.Wk,c.h,c.D9],styles:[".source-logo[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%;margin:auto}.source-logo-container[_ngcontent-%COMP%]{width:var(--ds-qa-logo-width);display:flex;justify-content:center}.sections-gap[_ngcontent-%COMP%]{gap:1rem}"],changeDetection:0})}}return S})()},5259:(B,C,n)=>{"use strict";n.r(C),n.d(C,{ExpandableNavbarSectionComponent:()=>O});var i=n(60177),t=n(7901),c=n(61594),e=n(96354),p=n(13957),m=n(89777),f=n(50842),v=n(96132),E=n(66372),y=n(83363),M=n(65709),b=n(54438);function P(L,T){1&L&&b.eu8(0)}function D(L,T){1&L&&b.eu8(0)}function I(L,T){if(1&L&&(b.j41(0,"div",9),b.DNE(1,D,1,0,"ng-container",4),b.nI1(2,"async"),b.nI1(3,"async"),b.k0s()),2&L){const x=T.$implicit,N=b.XpG(3);b.R7$(),b.Y8G("ngComponentOutlet",b.bMT(2,2,N.sectionMap$).get(x.id).component)("ngComponentOutletInjector",b.bMT(3,4,N.sectionMap$).get(x.id).injector)}}function h(L,T){if(1&L){const x=b.RV6();b.j41(0,"div",7),b.bIt("click",function(j){b.eBV(x);const $=b.XpG(2);return b.Njj($.deactivateSection(j))})("dsHoverOutside",function(j){b.eBV(x);const $=b.XpG(2);return b.Njj($.deactivateSection(j,!1))}),b.j41(1,"div",8),b.Z7z(2,I,4,6,"div",9,b.fX1),b.nI1(4,"async"),b.k0s()()}if(2&L){const x=b.XpG(2);b.Y8G("id",x.expandableNavbarSectionId())("dsHoverOutsideOfParentSelector","#expandable-navbar-section-"+x.section.id),b.R7$(),b.Y8G("@slide",void 0),b.R7$(),b.Dyx(b.bMT(4,3,x.subSections$))}}function S(L,T){if(1&L){const x=b.RV6();b.j41(0,"div",1),b.bIt("mouseenter",function(j){b.eBV(x);const $=b.XpG();return b.Njj($.onMouseEnter(j))})("mouseleave",function(j){b.eBV(x);const $=b.XpG();return b.Njj($.onMouseLeave(j))}),b.j41(1,"a",2),b.nI1(2,"async"),b.bIt("keyup.enter",function(j){b.eBV(x);const $=b.XpG();return b.Njj($.toggleSection(j))})("keyup.space",function(j){b.eBV(x);const $=b.XpG();return b.Njj($.toggleSection(j))})("click",function(j){b.eBV(x);const $=b.XpG();return b.Njj($.toggleSection(j))})("keydown",function(j){b.eBV(x);const $=b.XpG();return b.Njj($.keyDown(j))}),b.j41(3,"span",3),b.DNE(4,P,1,0,"ng-container",4),b.nI1(5,"async"),b.nI1(6,"async"),b.k0s(),b.nrm(7,"i",5),b.k0s(),b.DNE(8,h,5,5,"div",6),b.nI1(9,"async"),b.k0s()}if(2&L){const x=b.XpG();b.Y8G("id","expandable-navbar-section-"+x.section.id),b.R7$(),b.AVh("disabled",null==x.section.model?null:x.section.model.disabled),b.BMQ("aria-expanded",b.bMT(2,8,x.active$).valueOf())("aria-controls",x.expandableNavbarSectionId()),b.R7$(3),b.Y8G("ngComponentOutlet",b.bMT(5,10,x.sectionMap$).get(x.section.id).component)("ngComponentOutletInjector",b.bMT(6,12,x.sectionMap$).get(x.section.id).injector),b.R7$(4),b.vxM(!0===b.bMT(9,14,x.active$).valueOf()?8:-1)}}let O=(()=>{class L extends M.X{onResize(){this.isMobile$.pipe((0,c.$)()).subscribe(x=>{x!==this.wasMobile&&(this.wasMobile=x,this.menuService.deactivateSection(this.menuID,this.section.id),this.mouseEntered=!1)})}constructor(x,N,j,$){super(x,N,j),this.section=x,this.menuService=N,this.injector=j,this.windowService=$,this.menuID=E.D.PUBLIC,this.mouseEntered=!1,this.focusOnFirstChildSection=!1,this.wasMobile=void 0,this.addArrowEventListeners=!1,this.isMobile$=this.windowService.isMobile()}ngOnInit(){super.ngOnInit(),this.hasSubSections$=this.subSections$.pipe((0,e.T)(x=>(0,m.hj)(x))),this.subs.push(this.active$.subscribe(x=>{!0===x?this.addArrowEventListeners=!0:(this.focusOnFirstChildSection=void 0,this.unsubscribeFromEventListeners())}))}ngAfterViewChecked(){this.addArrowEventListeners&&(this.dropdownItems=document.querySelectorAll(`#${this.expandableNavbarSectionId()} *[role="menuitem"]`),this.dropdownItems.forEach(x=>{x.addEventListener("keydown",this.navigateDropdown.bind(this))}),this.focusOnFirstChildSection&&this.dropdownItems.length>0&&this.dropdownItems.item(0).focus(),this.addArrowEventListeners=!1)}ngOnDestroy(){super.ngOnDestroy(),this.unsubscribeFromEventListeners()}toggleSection(x){this.focusOnFirstChildSection="click"!==x.type,super.toggleSection(x)}unsubscribeFromEventListeners(){this.dropdownItems&&(this.dropdownItems.forEach(x=>{x.removeEventListener("keydown",this.navigateDropdown.bind(this))}),this.dropdownItems=void 0)}onMouseEnter(x){this.isMobile$.pipe((0,c.$)()).subscribe(N=>{!N&&!this.active$.value&&!this.mouseEntered&&this.activateSection(x),this.mouseEntered=!0})}onMouseLeave(x){this.isMobile$.pipe((0,c.$)()).subscribe(N=>{!N&&this.active$.value&&this.mouseEntered&&this.deactivateSection(x),this.mouseEntered=!1})}expandableNavbarSectionId(){return`expandable-navbar-section-${this.section.id}-dropdown`}navigateDropdown(x){if("Tab"===x.code)return void this.deactivateSection(x,!1);if("Escape"===x.code)return this.deactivateSection(x,!1),void document.querySelector(`a[aria-controls="${this.expandableNavbarSectionId()}"]`)?.focus();x.preventDefault(),x.stopPropagation();const N=document.querySelectorAll(`#${this.expandableNavbarSectionId()} *[role="menuitem"]`);if(0===N.length)return;const j=Array.from(N).findIndex($=>$===x.target);"ArrowDown"===x.key?N[(j+1)%N.length].focus():"ArrowUp"===x.key&&N[(j-1+N.length)%N.length].focus()}keyDown(x){switch(x.code){case"Tab":this.deactivateSection(x,!1);break;case"ArrowDown":this.focusOnFirstChildSection=!0,this.activateSection(x);break;case"Space":case"Enter":x.preventDefault()}}static{this.\u0275fac=function(N){return new(N||L)(b.rXU("sectionDataProvider"),b.rXU(v.$),b.rXU(b.zZn),b.rXU(f.CV))}}static{this.\u0275cmp=b.VBU({type:L,selectors:[["ds-base-expandable-navbar-section"]],hostBindings:function(N,j){1&N&&b.bIt("resize",function(k){return j.onResize(k)},!1,b.tSv)},standalone:!0,features:[b.Vt3,b.aNF],decls:2,vars:3,consts:[["data-test","navbar-section-wrapper",1,"ds-menu-item-wrapper","text-md-center",3,"id"],["data-test","navbar-section-wrapper",1,"ds-menu-item-wrapper","text-md-center",3,"mouseenter","mouseleave","id"],["href","javascript:void(0);","routerLinkActive","active","role","menuitem","aria-haspopup","menu","data-test","navbar-section-toggler",1,"d-flex","flex-row","flex-nowrap","align-items-center","gapx-1","ds-menu-toggler-wrapper",3,"keyup.enter","keyup.space","click","keydown"],[1,"flex-fill"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-caret-down","fa-xs","toggle-menu-icon"],["role","menu",1,"dropdown-menu","show","nav-dropdown-menu","m-0","shadow-none","border-top-0","px-3","px-md-0","pt-0","pt-md-1",3,"id","dsHoverOutsideOfParentSelector"],["role","menu",1,"dropdown-menu","show","nav-dropdown-menu","m-0","shadow-none","border-top-0","px-3","px-md-0","pt-0","pt-md-1",3,"click","dsHoverOutside","id","dsHoverOutsideOfParentSelector"],["role","presentation"],["role","presentation",1,"text-nowrap"]],template:function(N,j){1&N&&(b.DNE(0,S,10,16,"div",0),b.nI1(1,"async")),2&N&&b.vxM(b.bMT(1,1,j.hasSubSections$)?0:-1)},dependencies:[i.Jj,y.l,i.OI,t.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{overflow:hidden;min-width:100%;top:100%;border:0;background-color:var(--ds-expandable-navbar-bg)}@media (min-width: 768px){[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;background-color:var(--ds-navbar-dropdown-bg)}}[_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%]:hover{text-decoration:none}"],data:{animation:[p.M6]}})}}return L})()},65709:(B,C,n)=>{"use strict";n.d(C,{X:()=>f});var i=n(60177),t=n(96132),c=n(66372),e=n(77983),p=n(54438);function m(v,E){1&v&&p.eu8(0)}let f=(()=>{class v extends e.U{constructor(y,M,b){super(M,b),this.section=y,this.menuService=M,this.injector=b,this.menuID=c.D.PUBLIC}ngOnInit(){super.ngOnInit()}static{this.\u0275fac=function(M){return new(M||v)(p.rXU("sectionDataProvider"),p.rXU(t.$),p.rXU(p.zZn))}}static{this.\u0275cmp=p.VBU({type:v,selectors:[["ds-navbar-section"]],standalone:!0,features:[p.Vt3,p.aNF],decls:4,vars:7,consts:[[1,"ds-menu-item-wrapper","text-md-center",3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(M,b){1&M&&(p.j41(0,"div",0),p.DNE(1,m,1,0,"ng-container",1),p.nI1(2,"async"),p.nI1(3,"async"),p.k0s()),2&M&&(p.Y8G("id","navbar-section-"+b.section.id),p.R7$(),p.Y8G("ngComponentOutlet",p.bMT(2,3,b.sectionMap$).get(b.section.id).component)("ngComponentOutletInjector",p.bMT(3,5,b.sectionMap$).get(b.section.id).injector))},dependencies:[i.Jj,i.OI]})}}return v})()},57046:(B,C,n)=>{"use strict";n.r(C),n.d(C,{NavbarComponent:()=>x});var i=n(60177),t=n(58003),c=n(59640),e=n(68018),p=n(12321),m=n(57168),f=n(11873),v=n(13957),E=n(72067),y=n(50842),M=n(15181),b=n(96132),P=n(66372),D=n(73838),I=n(54438),h=n(7901);const S=N=>({open:N});function O(N,j){1&N&&I.nrm(0,"ds-user-menu",4),2&N&&I.Y8G("inExpandableNavbar",!0)}function L(N,j){1&N&&I.eu8(0)}function T(N,j){if(1&N&&(I.DNE(0,L,1,0,"ng-container",6),I.nI1(1,"async"),I.nI1(2,"async")),2&N){let $,k;const K=j.$implicit,z=I.XpG();I.Y8G("ngComponentOutlet",null==($=I.bMT(1,2,z.sectionMap$).get(K.id))?null:$.component)("ngComponentOutletInjector",null==(k=I.bMT(2,4,z.sectionMap$).get(K.id))?null:k.injector)}}let x=(()=>{class N extends M.Z{constructor($,k,K,z,V,G,X,Q){super($,k,V,G,X),this.menuService=$,this.injector=k,this.windowService=K,this.browseService=z,this.authorizationService=V,this.route=G,this.themeService=X,this.store=Q,this.menuID=P.D.PUBLIC,this.maxMobileWidth=y.tP.SM}ngOnInit(){super.ngOnInit(),this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isAuthenticated$=this.store.pipe((0,c.Lt)(p.wR))}static{this.\u0275fac=function(k){return new(k||N)(I.rXU(b.$),I.rXU(I.zZn),I.rXU(y.CV),I.rXU(m.q),I.rXU(f.AuthorizationDataService),I.rXU(h.nX),I.rXU(D.Fs),I.rXU(c.il))}}static{this.\u0275cmp=I.VBU({type:N,selectors:[["ds-base-navbar"]],standalone:!0,features:[I.Vt3,I.aNF],decls:16,vars:24,consts:[["role","navigation","id","main-navbar",1,"navbar","navbar-light","navbar-expand-md","px-md-0","navbar-container",3,"ngClass"],[1,"navbar-inner-container","w-100"],[1,"w-100"],["id","collapsingNav"],[3,"inExpandableNavbar"],["role","menubar",1,"navbar-nav","align-items-md-center","me-auto","shadow-none","gapx-3"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(k,K){1&k&&(I.j41(0,"nav",0),I.nI1(1,"async"),I.nI1(2,"async"),I.nI1(3,"async"),I.nI1(4,"translate"),I.j41(5,"div",1),I.nI1(6,"async"),I.j41(7,"div",2)(8,"div",3),I.DNE(9,O,1,1,"ds-user-menu",4),I.nI1(10,"async"),I.nI1(11,"async"),I.j41(12,"div",5),I.Z7z(13,T,3,6,"ng-container",null,I.fX1),I.nI1(15,"async"),I.k0s()()()()()),2&k&&(I.Y8G("ngClass",I.eq3(22,S,!0!==I.bMT(1,6,K.menuCollapsed)))("@slideMobileNav",!0!==I.bMT(2,8,K.isMobile$)?"default":I.bMT(3,10,K.menuCollapsed)?"collapsed":"expanded"),I.BMQ("aria-label",I.bMT(4,12,"nav.main.description")),I.R7$(5),I.AVh("container",!0!==I.bMT(6,14,K.isMobile$)),I.R7$(4),I.vxM(I.bMT(10,16,K.isMobile$)&&I.bMT(11,18,K.isAuthenticated$)?9:-1),I.R7$(4),I.Dyx(I.bMT(15,20,K.sections)))},dependencies:[i.Jj,t.zH,t.QE,i.YU,i.OI,E.r,e.h,e.D9],styles:["[_nghost-%COMP%]{--ds-expandable-navbar-height: auto}[_nghost-%COMP%]   nav.navbar[_ngcontent-%COMP%]{background-color:var(--ds-navbar-bg);align-items:baseline;padding:0}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{width:100vw;background-color:var(--bs-white);position:absolute;overflow:hidden;height:0;z-index:var(--ds-nav-z-index)}[_nghost-%COMP%]   .navbar.open[_ngcontent-%COMP%]{height:auto;min-height:100vh;border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .reset-padding-md[_ngcontent-%COMP%]{margin-left:calc(var(--bs-spacer) / -1);margin-right:calc(var(--bs-spacer) / -1)}}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%] > .navbar-inner-container[_ngcontent-%COMP%]{padding:0 var(--bs-spacer)}[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%]{padding:0}}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-toggler-wrapper{white-space:nowrap;text-decoration:none}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .dropdown-menu{padding:.5rem!important}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item{display:block;color:var(--ds-navbar-link-color);padding:.5rem 0}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:hover, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:focus{color:var(--ds-navbar-link-color-hover)}"],data:{animation:[v.p8]}})}}return N})()},31352:(B,C,n)=>{"use strict";n.d(C,{D:()=>m});var i=n(29710),c=(n(57046),n(54438));const e=["*"];function p(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"NavbarComponent"}importThemedComponent(E){return n(19318)(`./${E}/app/navbar/navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,57046))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=c.xGo(f)))(M||f)}})()}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-navbar"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},25913:(B,C,n)=>{"use strict";n.d(C,{W:()=>b,I:()=>P});var i=n(59640),t=n(44030);const c={source:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var p=n(39848);const m={topics:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var v=n(69470);const E={targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0},y={sources:{},currentUserTargets:null,currentUserTargetsVisited:!1},b={qaTopic:function f(D=m,I){switch(I.type){case p.py.RETRIEVE_ALL_TOPICS:return Object.assign({},D,{topics:[],processing:!0});case p.py.ADD_TOPICS:return Object.assign({},D,{topics:I.payload.topics,processing:!1,loaded:!0,totalPages:I.payload.totalPages,currentPage:D.currentPage,totalElements:I.payload.totalElements});case p.py.RETRIEVE_ALL_TOPICS_ERROR:return Object.assign({},D,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return D}},qaSource:function e(D=c,I){switch(I.type){case t.xq.RETRIEVE_ALL_SOURCE:return Object.assign({},D,{source:[],processing:!0});case t.xq.ADD_SOURCE:return Object.assign({},D,{source:I.payload.source,processing:!1,loaded:!0,totalPages:I.payload.totalPages,currentPage:D.currentPage,totalElements:I.payload.totalElements});case t.xq.RETRIEVE_ALL_SOURCE_ERROR:return Object.assign({},D,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return D}},suggestionTarget:function M(D=y,I){switch(I.type){case v.lz.RETRIEVE_TARGETS_BY_SOURCE:{const h=D.sources[I.payload.source]||Object.assign({},E),S=Object.assign({},h,{targets:[],processing:!0});return Object.assign({},D,{sources:Object.assign({},D.sources,{[I.payload.source]:S})})}case v.lz.ADD_TARGETS:{const h=D.sources[I.payload.source]||Object.assign({},E),S=Object.assign({},h,{targets:h.targets.concat(I.payload.targets),processing:!1,loaded:!0,totalPages:I.payload.totalPages,currentPage:I.payload.currentPage,totalElements:I.payload.totalElements});return Object.assign({},D,{sources:Object.assign({},D.sources,{[I.payload.source]:S})})}case v.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR:{const h=D.sources[I.payload.source]||Object.assign({},E),S=Object.assign({},h,{targets:[],processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},D,{sources:Object.assign({},D.sources,{[I.payload.source]:S})})}case v.lz.ADD_USER_SUGGESTIONS:return Object.assign({},D,{currentUserTargets:I.payload.suggestionTargets});case v.lz.MARK_USER_SUGGESTIONS_AS_VISITED:return Object.assign({},D,{currentUserTargetsVisited:!0});case v.lz.CLEAR_TARGETS:{const h=D.sources[I.payload.source]||Object.assign({},E),S=Object.assign({},h,{targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},D,{sources:Object.assign({},D.sources,{[I.payload.source]:S})})}default:return D}}},P=(0,i.UX)("suggestionNotifications")},44030:(B,C,n)=>{"use strict";n.d(C,{$_:()=>p,Fx:()=>e,lZ:()=>c,xq:()=>t});var i=n(6800);const t={ADD_SOURCE:(0,i.N)("dspace/integration/notifications/qa/ADD_SOURCE"),RETRIEVE_ALL_SOURCE:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE"),RETRIEVE_ALL_SOURCE_ERROR:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE_ERROR")};class c{constructor(f,v){this.type=t.RETRIEVE_ALL_SOURCE,this.payload={elementsPerPage:f,currentPage:v}}}class e{constructor(){this.type=t.RETRIEVE_ALL_SOURCE_ERROR}}class p{constructor(f,v,E,y){this.type=t.ADD_SOURCE,this.payload={source:f,totalPages:v,currentPage:E,totalElements:y}}}},26646:(B,C,n)=>{"use strict";n.d(C,{p:()=>m});var i=n(96354),t=n(70998),c=n(20387),e=n(4093),p=n(54438);let m=(()=>{class f{constructor(E){this.qualityAssuranceSourceRestService=E}getSources(E,y){const M=new t.z("name",t.U.ASC);return this.qualityAssuranceSourceRestService.getSources({elementsPerPage:E,currentPage:y,sort:M}).pipe((0,e.qD)(),(0,i.T)(P=>{if(P.hasSucceeded)return P.payload;throw new Error("Can't retrieve Quality Assurance source from the Broker source REST service")}))}static{this.\u0275fac=function(y){return new(y||f)(p.KVO(c.QualityAssuranceSourceDataService))}}static{this.\u0275prov=p.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},39848:(B,C,n)=>{"use strict";n.d(C,{C3:()=>p,IL:()=>e,_v:()=>c,py:()=>t});var i=n(6800);const t={ADD_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/ADD_TOPICS"),RETRIEVE_ALL_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS"),RETRIEVE_ALL_TOPICS_ERROR:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS_ERROR")};class c{constructor(f,v,E,y){this.type=t.RETRIEVE_ALL_TOPICS,this.payload={elementsPerPage:f,currentPage:v,source:E,target:y}}}class e{constructor(){this.type=t.RETRIEVE_ALL_TOPICS_ERROR}}class p{constructor(f,v,E,y){this.type=t.ADD_TOPICS,this.payload={topics:f,totalPages:v,currentPage:E,totalElements:y}}}},44209:(B,C,n)=>{"use strict";n.d(C,{w:()=>y});var i=n(60177),t=n(7901),c=n(68018),e=n(85955),p=n(6207),m=n(54438);function f(M,b){if(1&M&&(m.j41(0,"div",1),m.nrm(1,"div",2),m.nI1(2,"translate"),m.EFF(3),m.nI1(4,"translate"),m.j41(5,"a",3),m.EFF(6),m.nI1(7,"translate"),m.k0s()()),2&M){const P=m.XpG().$implicit,D=m.XpG(2);m.R7$(),m.Y8G("innerHTML",m.i5U(2,4,"notification.suggestion",D.getNotificationSuggestionInterpolation(P)),m.npT),m.R7$(2),m.SpI(" ",m.bMT(4,7,"notification.suggestion.please")," "),m.R7$(2),m.Y8G("routerLink",D.getNotificationSuggestionInterpolation(P).url),m.R7$(),m.SpI(" ",m.bMT(7,9,"notification.suggestion.review")," ")}}function v(M,b){if(1&M&&(m.qex(0,0),m.DNE(1,f,8,11,"div",1),m.bVm()),2&M){const P=b.$implicit;m.R7$(),m.vxM(P.total>0?1:-1)}}function E(M,b){1&M&&m.Z7z(0,v,2,1,"ng-container",0,m.fX1),2&M&&m.Dyx(b)}let y=(()=>{class M{constructor(P,D){this.suggestionTargetsStateService=P,this.suggestionsService=D}ngOnInit(){this.suggestionsRD$=this.suggestionTargetsStateService.getCurrentUserSuggestionTargets(),this.suggestionTargetsStateService.dispatchMarkUserSuggestionsAsVisitedAction()}getNotificationSuggestionInterpolation(P){return this.suggestionsService.getNotificationSuggestionInterpolation(P)}static{this.\u0275fac=function(D){return new(D||M)(m.rXU(p.x),m.rXU(e.F))}}static{this.\u0275cmp=m.VBU({type:M,selectors:[["ds-suggestions-notification"]],standalone:!0,features:[m.aNF],decls:2,vars:3,consts:[[1,"alert","alert-info"],[1,"alert","alert-success","d-block"],[3,"innerHTML"],[3,"routerLink"]],template:function(D,I){if(1&D&&(m.DNE(0,E,2,0),m.nI1(1,"async")),2&D){let h;m.vxM((h=m.bMT(1,1,I.suggestionsRD$))?0:-1,h)}},dependencies:[i.Jj,t.Wk,c.h,c.D9]})}}return M})()},85955:(B,C,n)=>{"use strict";n.d(C,{F:()=>O});var i=n(7673),t=n(27468),c=n(96697),e=n(96354),p=n(73028),m=n(99437),f=n(78544),v=n(70998),E=n(295),y=n(64959),M=n(89894),b=n(4093),P=n(89777),D=n(4600),I=n(93007),h=n(54438),S=n(68018);let O=(()=>{class L{constructor(x,N,j,$){this.researcherProfileService=x,this.suggestionsDataService=N,this.suggestionTargetDataService=j,this.translateService=$}getTargets(x,N,j){const $=new v.z("display",v.U.ASC);return this.suggestionTargetDataService.getTargetsBySource(x,{elementsPerPage:N,currentPage:j,sort:$}).pipe((0,b.D4)(),(0,c.s)(1),(0,e.T)(K=>{if(K.hasSucceeded)return K.payload;throw new Error("Can't retrieve Suggestion Target from the Search Target REST service")}))}getSuggestions(x,N,j,$){const[k,K]=x.split(":");return this.suggestionsDataService.getSuggestionsByTargetAndSource(K,k,{elementsPerPage:N,currentPage:j,sort:$})}clearSuggestionRequests(){this.suggestionsDataService.clearSuggestionRequests()}deleteReviewedSuggestion(x){return this.suggestionsDataService.deleteSuggestion(x).pipe((0,e.T)(N=>{if(N.isSuccess)return N;throw new Error("Can't delete Suggestion from the Search Target REST service")}),(0,c.s)(1))}retrieveCurrentUserSuggestions(x){return(0,P.Tn)(x)?(0,i.of)([]):this.researcherProfileService.findById(x,!0,!0,(0,D.s)("item")).pipe((0,b.qD)(),(0,p.Z)(N=>(0,P.hj)(N)&&N.hasSucceeded&&(0,P.hj)(N.payload)?this.researcherProfileService.findRelatedItemId(N.payload).pipe((0,p.Z)(j=>this.suggestionTargetDataService.getTargetsByUser(j).pipe((0,b.Ar)()))):(0,i.of)([])),(0,m.W)(()=>(0,i.of)([])))}approveAndImport(x,N,j){const $=this.resolveCollectionId(N,j);return x.importExternalSourceEntry(N.externalSourceUri,$).pipe((0,b.ak)(),(0,m.W)(()=>(0,i.of)(null)))}ignoreSuggestion(x){return this.deleteReviewedSuggestion(x).pipe((0,m.W)(()=>(0,i.of)(null)))}approveAndImportMultiple(x,N,j){return(0,t.p)(N.map($=>this.approveAndImport(x,$,j))).pipe((0,e.T)($=>({success:$.filter(k=>null!=k).length,fails:$.filter(k=>null==k).length})),(0,c.s)(1))}ignoreSuggestionMultiple(x){return(0,t.p)(x.map(N=>this.ignoreSuggestion(N.id))).pipe((0,e.T)(N=>({success:N.filter(j=>null!=j).length,fails:N.filter(j=>null==j).length})),(0,c.s)(1))}getTargetUuid(x){const N=x.id.split(":");return 2===N.length?N[1]:null}getNotificationSuggestionInterpolation(x){return{count:x.total,source:this.translateService.instant(this.translateSuggestionSource(x.source)),type:this.translateService.instant(this.translateSuggestionType(x.source)),suggestionId:x.id,displayName:x.display,url:(0,I.jV)(x.id)}}translateSuggestionType(x){return"suggestion.type."+x}translateSuggestionSource(x){return"suggestion.source."+x}resolveCollectionId(x,N){return(0,P.a4)(N)?N:f.c.suggestion.find(j=>j.source===x.source).collectionId}isCollectionFixed(x){return 1===this.getFixedCollectionIds(x).length}getFixedCollectionIds(x){const N={};return x.forEach(j=>{const $=f.c.suggestion.find(k=>k.source===j.source);(0,P.a4)($)&&(N[$.collectionId]=!0)}),Object.keys(N)}static{this.\u0275fac=function(N){return new(N||L)(h.KVO(M.ResearcherProfileDataService),h.KVO(E.SuggestionDataService),h.KVO(y.SuggestionTargetDataService),h.KVO(S.c$))}}static{this.\u0275prov=h.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},69470:(B,C,n)=>{"use strict";n.d(C,{Af:()=>v,Fz:()=>e,Gx:()=>m,Pc:()=>p,eb:()=>f,en:()=>y,g3:()=>E,lz:()=>t,ri:()=>c});var i=n(6800);const t={ADD_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_TARGETS"),CLEAR_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/CLEAR_TARGETS"),RETRIEVE_TARGETS_BY_SOURCE:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE"),RETRIEVE_TARGETS_BY_SOURCE_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE_ERROR"),ADD_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS_ERROR"),MARK_USER_SUGGESTIONS_AS_VISITED:(0,i.N)("dspace/integration/openaire/suggestions/target/MARK_USER_SUGGESTIONS_AS_VISITED")};class c{constructor(b,P,D){this.type=t.RETRIEVE_TARGETS_BY_SOURCE,this.payload={source:b,elementsPerPage:P,currentPage:D}}}class e{constructor(b){this.type=t.RETRIEVE_TARGETS_BY_SOURCE_ERROR,this.payload={source:b}}}class p{constructor(b,P,D,I,h){this.type=t.ADD_TARGETS,this.payload={source:b,targets:P,totalPages:D,currentPage:I,totalElements:h}}}class m{constructor(b){this.type=t.ADD_USER_SUGGESTIONS,this.payload={suggestionTargets:b}}}class f{constructor(){this.type=t.REFRESH_USER_SUGGESTIONS}}class v{constructor(){this.type=t.REFRESH_USER_SUGGESTIONS_ERROR}}class E{constructor(){this.type=t.MARK_USER_SUGGESTIONS_AS_VISITED}}class y{constructor(b){this.type=t.CLEAR_TARGETS,this.payload={source:b}}}},6207:(B,C,n)=>{"use strict";n.d(C,{x:()=>O});var i=n(59640),t=n(96354),c=n(91261),e=n(25913);function m(){return(0,c.hZ)(e.I,"suggestionTarget")}function f(L){return(0,i.Mz)(m(),T=>T.sources[L])}(0,i.UX)("suggestionNotifications");const E=L=>(0,i.Mz)(f(L),T=>T?.loaded||!1),P=L=>(0,i.Mz)(f(L),T=>T?.totalElements||0);var h=n(69470),S=n(54438);let O=(()=>{class L{constructor(x){this.store=x}getSuggestionTargets(x){return this.store.pipe((0,i.Lt)(function v(L){return(0,i.Mz)(f(L),T=>T.targets)}(x)))}isSuggestionTargetsLoading(x){return this.store.pipe((0,i.Lt)(E(x)),(0,t.T)(N=>!N))}isSuggestionTargetsLoaded(x){return this.store.pipe((0,i.Lt)(E(x)))}isSuggestionTargetsProcessing(x){return this.store.pipe((0,i.Lt)((L=>(0,i.Mz)(f(L),T=>T?.processing||!1))(x)))}getSuggestionTargetsTotalPages(x){return this.store.pipe((0,i.Lt)(P(x)))}getSuggestionTargetsCurrentPage(x){return this.store.pipe((0,i.Lt)((L=>(0,i.Mz)(f(L),T=>T?.currentPage||0))(x)))}getSuggestionTargetsTotals(x){return this.store.pipe((0,i.Lt)(P(x)))}dispatchRetrieveSuggestionTargets(x,N,j){this.store.dispatch(new h.ri(x,N,j))}getCurrentUserSuggestionTargets(){return this.store.pipe((0,i.Lt)((0,i.Mz)(m(),L=>L?.currentUserTargets||[])))}hasUserVisitedSuggestions(){return this.store.pipe((0,i.Lt)((0,i.Mz)(m(),L=>L?.currentUserTargetsVisited||!1)))}dispatchMarkUserSuggestionsAsVisitedAction(){this.store.dispatch(new h.g3)}dispatchClearSuggestionTargetsAction(x){this.store.dispatch(new h.en(x))}dispatchRefreshUserSuggestionsAction(){this.store.dispatch(new h.eb)}static{this.\u0275fac=function(N){return new(N||L)(S.KVO(i.il))}}static{this.\u0275prov=S.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},9894:(B,C,n)=>{"use strict";n.r(C),n.d(C,{PageErrorComponent:()=>e});var i=n(68018),t=n(54438),c=n(7901);let e=(()=>{class p{constructor(f){this.activatedRoute=f,this.activatedRoute.queryParams.subscribe(v=>{this.status=v.status,this.code=v.code})}static{this.\u0275fac=function(v){return new(v||p)(t.rXU(c.nX))}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["ds-base-page-error"]],standalone:!0,features:[t.aNF],decls:16,vars:10,consts:[[1,"page-internal-server-error","container"],["data-test","status"],[1,"text-center"],["href","/home","role","link","tabindex","0",1,"btn","btn-primary"]],template:function(v,E){1&v&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2),t.k0s(),t.j41(3,"h2")(4,"small"),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.nrm(7,"br"),t.j41(8,"p"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"br"),t.j41(12,"p",2)(13,"a",3),t.EFF(14),t.nI1(15,"translate"),t.k0s()()()),2&v&&(t.R7$(2),t.JRh(E.status),t.R7$(3),t.JRh(t.bMT(6,4,"error-page.description."+E.status)),t.R7$(4),t.JRh(t.bMT(10,6,"error-page."+E.code)),t.R7$(5),t.JRh(t.bMT(15,8,E.status+".link.home-page")))},dependencies:[i.h,i.D9]})}}return p})()},74154:(B,C,n)=>{"use strict";n.r(C),n.d(C,{PageInternalServerErrorComponent:()=>e});var i=n(68018),t=n(80193),c=n(54438);let e=(()=>{class p{constructor(f){this.responseService=f,this.responseService.setInternalServerError()}static{this.\u0275fac=function(v){return new(v||p)(c.rXU(t.w))}}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-base-page-internal-server-error"]],standalone:!0,features:[c.aNF],decls:16,vars:9,consts:[[1,"page-internal-server-error","container"],[1,"text-center"],["href","home",1,"btn","btn-primary"]],template:function(v,E){1&v&&(c.j41(0,"div",0)(1,"h1"),c.EFF(2,"500"),c.k0s(),c.j41(3,"h2")(4,"small"),c.EFF(5),c.nI1(6,"translate"),c.k0s()(),c.nrm(7,"br"),c.j41(8,"p"),c.EFF(9),c.nI1(10,"translate"),c.k0s(),c.nrm(11,"br"),c.j41(12,"p",1)(13,"a",2),c.EFF(14),c.nI1(15,"translate"),c.k0s()()()),2&v&&(c.R7$(5),c.SpI(" ",c.bMT(6,3,"500.page-internal-server-error")," "),c.R7$(4),c.JRh(c.bMT(10,5,"500.help")),c.R7$(5),c.JRh(c.bMT(15,7,"500.link.home-page")))},dependencies:[i.h,i.D9]})}}return p})()},80830:(B,C,n)=>{"use strict";n.r(C),n.d(C,{PageNotFoundComponent:()=>m});var i=n(7901),t=n(68018),c=n(94196),e=n(80193),p=n(54438);let m=(()=>{class f{constructor(E,y){this.authservice=E,this.responseService=y,this.responseService.setNotFound()}ngOnInit(){this.authservice.clearRedirectUrl()}static{this.\u0275fac=function(y){return new(y||f)(p.rXU(c.uR),p.rXU(e.w))}}static{this.\u0275cmp=p.VBU({type:f,selectors:[["ds-base-pagenotfound"]],standalone:!0,features:[p.aNF],decls:16,vars:9,consts:[[1,"page-not-found","container"],[1,"text-center"],["routerLink","/home","role","button","tabindex","0",1,"btn","btn-primary"]],template:function(y,M){1&y&&(p.j41(0,"div",0)(1,"h1"),p.EFF(2,"404"),p.k0s(),p.j41(3,"h2")(4,"small"),p.EFF(5),p.nI1(6,"translate"),p.k0s()(),p.nrm(7,"br"),p.j41(8,"p"),p.EFF(9),p.nI1(10,"translate"),p.k0s(),p.nrm(11,"br"),p.j41(12,"p",1)(13,"a",2),p.EFF(14),p.nI1(15,"translate"),p.k0s()()()),2&y&&(p.R7$(5),p.JRh(p.bMT(6,3,"404.page-not-found")),p.R7$(4),p.JRh(p.bMT(10,5,"404.help")),p.R7$(5),p.JRh(p.bMT(15,7,"404.link.home-page")))},dependencies:[i.Wk,t.h,t.D9]})}}return f})()},44280:(B,C,n)=>{"use strict";n.d(C,{JO:()=>c,rG:()=>t,yJ:()=>e});var i=n(5127);const t="processes",c=()=>`/${t}`,e=p=>new i.t(c(),p).toString()},66816:(B,C,n)=>{"use strict";n.d(C,{Q:()=>t});const t=new(n(44043).v)("filetypes")},34010:(B,C,n)=>{"use strict";n.d(C,{p:()=>i});class i{}},4589:(B,C,n)=>{"use strict";n.d(C,{K:()=>i});var i=function(t){return t.SCHEDULED="SCHEDULED",t.RUNNING="RUNNING",t.COMPLETED="COMPLETED",t.FAILED="FAILED",t}(i||{})},25394:(B,C,n)=>{"use strict";n.d(C,{M:()=>P});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(74942),m=n(44043);const f=new m.v("processOutput");var v=n(94152),E=n(59997),y=n(66816),M=n(60410);n(4589);let P=class{static{this.type=M.A}};(0,i.Cg)([v.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],P.prototype,"type",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String),(0,i.Sn)("design:type",String)],P.prototype,"processId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"userId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"creationTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"startTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"endTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"scriptName",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],P.prototype,"processStatus",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],P.prototype,"parameters",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],P.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.M),(0,i.Sn)("design:type",c.c)],P.prototype,"script",void 0),(0,i.Cg)([(0,e.nf)(f),(0,i.Sn)("design:type",c.c)],P.prototype,"output",void 0),(0,i.Cg)([(0,e.nf)(p.e,!0),(0,i.Sn)("design:type",c.c)],P.prototype,"files",void 0),(0,i.Cg)([(0,e.nf)(y.Q),(0,i.Sn)("design:type",c.c)],P.prototype,"filetypes",void 0),P=(0,i.Cg)([e.gV],P)},60410:(B,C,n)=>{"use strict";n.d(C,{A:()=>t});const t=new(n(44043).v)("process")},71695:(B,C,n)=>{"use strict";n.d(C,{e:()=>f});var i=n(31635),t=n(74850),c=n(72153),e=n(44043),p=n(94152),m=n(59997);let f=class{static{this.type=m.M}};(0,i.Cg)([p.aK,t.autoserialize,(0,i.Sn)("design:type",e.v)],f.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],f.prototype,"parameters",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([c.gV],f)},59997:(B,C,n)=>{"use strict";n.d(C,{M:()=>t});const t=new(n(44043).v)("script")},47874:(B,C,n)=>{"use strict";n.r(C),n.d(C,{RootComponent:()=>ee});var i=n(60177),t=n(7901),c=n(68018),e=n(7673),p=n(84412),m=n(84572),f=n(28492),v=n(61594),E=n(96354),y=n(99172),M=n(78544),b=n(370),P=n(15343),D=n(32954),I=n(19252),h=n(82272),S=n(55681),O=n(13957),L=n(50842),T=n(58400),x=n(15202),N=n(96132),j=n(66372),$=n(70687),k=n(87837),K=n(70997),z=n(54438);const V=(ie,te)=>({collapsedWidth:ie,expandedWidth:te}),G=(ie,te)=>({value:ie,params:te});function X(ie,te){1&ie&&(z.j41(0,"div",5),z.nrm(1,"ds-loading",8),z.k0s()),2&ie&&(z.R7$(),z.Y8G("showMessage",!1))}function Q(ie,te){1&ie&&(z.j41(0,"div",7),z.nrm(1,"ds-loading",8),z.k0s()),2&ie&&(z.R7$(),z.Y8G("showMessage",!1))}let ee=(()=>{class ie{constructor(he,ye,re,ce,Z){this.router=he,this.cssService=ye,this.menuService=re,this.windowService=ce,this._window=Z,this.theme=(0,e.of)({}),this.browserOsClasses=new p.t([]),this.notificationOptions=M.c.notifications}ngOnInit(){const he=this.getBrowserName();if(he){const re=new Array;re.push(`browser-${he}`);const ce=this.getOSName();ce&&re.push(`browser-${he}-${ce}`),this.browserOsClasses.next(re)}this.isSidebarVisible$=this.menuService.isMenuVisibleWithVisibleSections(j.D.ADMIN),this.expandedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-total-width").pipe((0,f.j)(re=>!re),(0,v.$)()),this.collapsedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-fixed-element-width").pipe((0,f.j)(re=>!re),(0,v.$)());const ye=this.menuService.isMenuCollapsed(j.D.ADMIN);this.slideSidebarOver$=(0,m.z)([ye,this.windowService.isXsOrSm()]).pipe((0,E.T)(([re,ce])=>re||ce),(0,y.Z)(!0)),this.router.url===(0,P.N2)()&&(this.shouldShowRouteLoader=!1)}skipToMainContent(){const he=document.getElementById("main-content");he&&(he.tabIndex=-1,he.focus())}getBrowserName(){const he=this._window.nativeWindow.navigator?.userAgent;return/Firefox/.test(he)?"firefox":/Safari/.test(he)?"safari":void 0}getOSName(){const he=this._window.nativeWindow.navigator?.userAgent;if(/Windows/.test(he))return"windows"}static{this.\u0275fac=function(ye){return new(ye||ie)(z.rXU(t.Ix),z.rXU(k.J),z.rXU(N.$),z.rXU(L.CV),z.rXU(I.lc))}}static{this.\u0275cmp=z.VBU({type:ie,selectors:[["ds-base-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[z.aNF],decls:22,vars:30,consts:[["id","skip-to-main-content",1,"sr-only",3,"click"],[1,"outer-wrapper",3,"ngClass"],[3,"expandedSidebarWidth$","collapsedSidebarWidth$"],[1,"inner-wrapper"],["id","main-content",1,"my-cs"],[1,"container","d-flex","justify-content-center","align-items-center","h-100"],[3,"options"],[1,"ds-full-screen-loader"],[3,"showMessage"]],template:function(ye,re){1&ye&&(z.j41(0,"button",0),z.bIt("click",function(){return re.skipToMainContent()}),z.EFF(1),z.nI1(2,"translate"),z.k0s(),z.j41(3,"div",1),z.nI1(4,"async"),z.nI1(5,"async"),z.nI1(6,"async"),z.nI1(7,"async"),z.nI1(8,"async"),z.nrm(9,"ds-admin-sidebar",2),z.j41(10,"div",3),z.nrm(11,"ds-system-wide-alert-banner")(12,"ds-header-navbar-wrapper")(13,"ds-breadcrumbs"),z.j41(14,"main",4),z.DNE(15,X,2,1,"div",5),z.j41(16,"div"),z.nrm(17,"router-outlet"),z.k0s()(),z.nrm(18,"ds-footer"),z.k0s()(),z.nrm(19,"ds-notifications-board",6),z.DNE(20,Q,2,1,"div",7),z.nrm(21,"ds-live-region")),2&ye&&(z.R7$(),z.SpI(" ",z.bMT(2,12,"root.skip-to-content"),"\n"),z.R7$(2),z.AVh("d-none",re.shouldShowFullscreenLoader),z.Y8G("ngClass",z.bMT(4,14,re.browserOsClasses.asObservable()))("@slideSidebarPadding",z.l_i(27,G,!0!==z.bMT(5,16,re.isSidebarVisible$)?"hidden":z.bMT(6,18,re.slideSidebarOver$)?"unpinned":"pinned",z.l_i(24,V,z.bMT(7,20,re.collapsedSidebarWidth$),z.bMT(8,22,re.expandedSidebarWidth$)))),z.R7$(6),z.Y8G("expandedSidebarWidth$",re.expandedSidebarWidth$)("collapsedSidebarWidth$",re.collapsedSidebarWidth$),z.R7$(6),z.vxM(re.shouldShowRouteLoader?15:-1),z.R7$(),z.AVh("d-none",re.shouldShowRouteLoader),z.R7$(3),z.Y8G("options",re.notificationOptions),z.R7$(),z.vxM(re.shouldShowFullscreenLoader?20:-1))},dependencies:[i.Jj,T.E,i.YU,$.s,t.n3,K.E,b.u,D.B,h.C,S.h,x.v,c.h,c.D9],styles:["#skip-to-main-content[_ngcontent-%COMP%]{position:absolute;top:-40px;left:0;opacity:0;transition:opacity .3s;z-index:calc(var(--ds-nav-z-index) + 1);border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0}#skip-to-main-content[_ngcontent-%COMP%]:focus{opacity:1;top:0}"],data:{animation:[O.tr]}})}}return ie})()},3532:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SearchNavbarComponent:()=>y});var i=n(89417),t=n(68018),c=n(94314),e=n(13957),p=n(33745),m=n(38133),f=n(54438),v=n(7901);const E=["searchInput"];let y=(()=>{class M{constructor(P,D,I){this.formBuilder=P,this.router=D,this.searchService=I,this.searchExpanded=!1,this.isExpanded="collapsed",this.searchForm=this.formBuilder.group({query:""})}expand(){this.searchExpanded=!0,this.isExpanded="expanded",this.editSearch()}collapse(){this.searchField.nativeElement.blur(),this.searchExpanded=!1,this.isExpanded="collapsed"}editSearch(){this.searchField.nativeElement.focus()}onSubmit(P){this.collapse();const D=Object.assign({},P),I=[this.searchService.getSearchLink().replace("/","")];this.searchForm.reset(),this.router.navigate(I,{queryParams:D})}static{this.\u0275fac=function(D){return new(D||M)(f.rXU(i.ze),f.rXU(v.Ix),f.rXU(c.S))}}static{this.\u0275cmp=f.VBU({type:M,selectors:[["ds-base-search-navbar"]],viewQuery:function(D,I){if(1&D&&f.GBs(E,5),2&D){let h;f.mGM(h=f.lsd())&&(I.searchField=h.first)}},standalone:!0,features:[f.aNF],decls:13,vars:23,consts:[["searchInput",""],[3,"dsClickOutside","title"],[1,"d-inline-block","position-relative"],["autocomplete","on",1,"d-flex",3,"ngSubmit","formGroup"],["name","query","formControlName","query","type","text",1,"d-inline-block","bg-transparent","position-absolute","form-control","dropdown-menu-end","p1",3,"placeholder","tabIndex"],["type","button","tabindex","0","role","button",1,"submit-icon","btn","btn-link","btn-link-inline",3,"click"],[1,"fas","fa-search","fa-lg","fa-fw"]],template:function(D,I){if(1&D){const h=f.RV6();f.j41(0,"div",1),f.nI1(1,"translate"),f.bIt("dsClickOutside",function(){return f.eBV(h),f.Njj(I.collapse())}),f.j41(2,"div",2)(3,"form",3),f.bIt("ngSubmit",function(){return f.eBV(h),f.Njj(I.onSubmit(I.searchForm.value))}),f.nrm(4,"input",4,0),f.nI1(6,"translate"),f.nI1(7,"translate"),f.nI1(8,"dsBrowserOnly"),f.j41(9,"button",5),f.nI1(10,"translate"),f.nI1(11,"dsBrowserOnly"),f.bIt("click",function(){return f.eBV(h),f.Njj(I.searchExpanded?I.onSubmit(I.searchForm.value):I.expand())}),f.nrm(12,"em",6),f.k0s()()()()}2&D&&(f.Y8G("title",f.bMT(1,11,"nav.search")),f.R7$(3),f.Y8G("formGroup",I.searchForm),f.R7$(),f.AVh("display",I.searchExpanded?"inline-block":"none"),f.FS9("placeholder",I.searchExpanded?f.bMT(6,13,"nav.search"):""),f.Y8G("@toggleAnimation",I.isExpanded)("tabIndex",I.searchExpanded?0:-1),f.BMQ("aria-label",f.bMT(7,15,"nav.search"))("data-test",f.bMT(8,17,"header-search-box")),f.R7$(5),f.BMQ("aria-label",f.bMT(10,19,"nav.search.button"))("data-test",f.bMT(11,21,"header-search-icon")))},dependencies:[p.L,m.z,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,t.h,t.D9],styles:["input[type=text][_ngcontent-%COMP%]{margin-top:calc(-.3 * var(--bs-font-size-base));background-color:#fff!important;border-color:var(--ds-header-icon-color);right:0}input[type=text].collapsed[_ngcontent-%COMP%]{opacity:0}.submit-icon[_ngcontent-%COMP%]{cursor:pointer;position:sticky;top:0;border:0!important;color:var(--ds-header-icon-color)}.submit-icon[_ngcontent-%COMP%]:hover, .submit-icon[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}@media screen and (max-width: 768px){.query[_ngcontent-%COMP%]:focus{max-width:250px!important;width:40vw!important}}"],data:{animation:[e.l9]}})}}return M})()},51728:(B,C,n)=>{"use strict";n.d(C,{X:()=>m});var i=n(29710),c=(n(3532),n(54438));const e=["*"];function p(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"SearchNavbarComponent"}importThemedComponent(E){return n(28754)(`./${E}/app/search-navbar/search-navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,3532))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=c.xGo(f)))(M||f)}})()}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-search-navbar"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},70767:(B,C,n)=>{"use strict";n.r(C),n.d(C,{ConfigurationSearchPageComponent:()=>ae});var i=n(60177),t=n(54438),c=n(68018),e=n(79096),p=n(87507),m=n(94314),f=n(82584),v=n(50553),E=n(34366),y=n(50842),M=n(33006),b=n(10996),P=n(18155),D=n(27499),I=n(43144),h=n(41519),S=n(60768),O=n(19194),L=n(7901);const T=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],x=["[searchContentTop]","[additionalSearchOptions]"];function N(oe,J){}function j(oe,J){1&oe&&t.DNE(0,N,0,0,"ng-template")}function $(oe,J){if(1&oe&&(t.j41(0,"div",3)(1,"div",5)(2,"div",6),t.DNE(3,j,1,0,null,7),t.k0s()()()),2&oe){t.XpG();const ve=t.sdS(11);t.R7$(3),t.Y8G("ngTemplateOutlet",ve)}}function k(oe,J){}function K(oe,J){1&oe&&t.DNE(0,k,0,0,"ng-template")}function z(oe,J){if(1&oe&&(t.j41(0,"div"),t.DNE(1,K,1,0,null,7),t.k0s()),2&oe){t.XpG();const ve=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",ve)}}function V(oe,J){}function G(oe,J){1&oe&&t.DNE(0,V,0,0,"ng-template")}function X(oe,J){if(1&oe&&(t.j41(0,"ds-page-with-sidebar",4),t.DNE(1,G,1,0,null,7),t.k0s()),2&oe){const ve=t.XpG(),_e=t.sdS(7),Ce=t.sdS(9);t.Y8G("id","search-page")("sideBarWidth",ve.sideBarWidth)("sidebarContent",Ce),t.R7$(),t.Y8G("ngTemplateOutlet",_e)}}function Q(oe,J){}function ee(oe,J){1&oe&&t.DNE(0,Q,0,0,"ng-template")}function ie(oe,J){if(1&oe&&t.DNE(0,ee,1,0,null,7),2&oe){t.XpG(3);const ve=t.sdS(11);t.Y8G("ngTemplateOutlet",ve)}}function te(oe,J){if(1&oe&&(t.j41(0,"div",6),t.DNE(1,ie,1,1),t.SdG(2,1),t.k0s()),2&oe){const ve=t.XpG(2);t.R7$(),t.vxM(ve.searchEnabled?1:-1)}}function he(oe,J){if(1&oe&&t.nrm(0,"ds-view-mode-switch",10),2&oe){const ve=t.XpG(2);t.Y8G("viewModeList",ve.viewModeList)("inPlaceSearch",ve.inPlaceSearch)}}function ye(oe,J){if(1&oe){const ve=t.RV6();t.j41(0,"ds-search-results",14),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.bIt("contentChange",function(Ce){t.eBV(ve);const qe=t.XpG(2);return t.Njj(qe.onContentChange(Ce))})("deselectObject",function(Ce){t.eBV(ve);const qe=t.XpG(2);return t.Njj(qe.deselectObject.emit(Ce))})("selectObject",function(Ce){t.eBV(ve);const qe=t.XpG(2);return t.Njj(qe.selectObject.emit(Ce))}),t.k0s()}if(2&oe){const ve=t.XpG(2);t.Y8G("searchResults",t.bMT(1,10,ve.resultsRD$))("searchConfig",t.bMT(2,12,ve.searchOptions$))("configuration",t.bMT(3,14,ve.currentConfiguration$))("disableHeader",!ve.searchEnabled)("linkType",ve.linkType)("context",t.bMT(4,16,ve.currentContext$))("selectable",ve.selectable)("selectionConfig",ve.selectionConfig)("showCsvExport",ve.showCsvExport)("showThumbnails",ve.showThumbnails)}}function re(oe,J){if(1&oe){const ve=t.RV6();t.j41(0,"div",5),t.DNE(1,te,3,1,"div",6),t.nI1(2,"async"),t.j41(3,"div",8)(4,"div",9),t.DNE(5,he,1,2,"ds-view-mode-switch",10),t.j41(6,"button",11),t.bIt("click",function(){t.eBV(ve);const Ce=t.XpG();return t.Njj(Ce.openSidebar())}),t.nrm(7,"i",12),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.SdG(10),t.DNE(11,ye,5,18,"ds-search-results",13),t.k0s()()}if(2&oe){const ve=t.XpG();t.R7$(),t.vxM(!0!==t.bMT(2,4,ve.isXsOrSm$)?1:-1),t.R7$(4),t.vxM(ve.inPlaceSearch&&ve.showViewModes?5:-1),t.R7$(3),t.SpI(" ",t.bMT(9,6,"search.sidebar.open")," "),t.R7$(3),t.vxM(ve.inPlaceSearch?11:-1)}}function ce(oe,J){if(1&oe){const ve=t.RV6();t.j41(0,"ds-search-sidebar",17),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("changeConfiguration",function(Ce){t.eBV(ve);const qe=t.XpG(2);return t.Njj(qe.changeContext(Ce.context))})("changeViewMode",function(){t.eBV(ve);const Ce=t.XpG(2);return t.Njj(Ce.changeViewMode())}),t.k0s()}if(2&oe){let ve;const _e=t.XpG(2);t.Y8G("configurationList",_e.configurationList)("configuration",t.bMT(1,12,_e.currentConfiguration$))("currentScope",t.bMT(2,14,_e.currentScope$))("filters",_e.filtersRD$.asObservable())("refreshFilters",_e.refreshFilters)("resultCount",null==(ve=t.bMT(3,16,_e.resultsRD$))||null==ve.payload?null:ve.payload.totalElements)("searchOptions",t.bMT(4,18,_e.searchOptions$))("sortOptionsList",t.bMT(5,20,_e.sortOptionsList$))("currentSortOption",t.bMT(6,22,_e.currentSortOptions$))("inPlaceSearch",_e.inPlaceSearch)("viewModeList",_e.viewModeList)("showViewModes",_e.showViewModes)}}function Z(oe,J){if(1&oe){const ve=t.RV6();t.j41(0,"ds-search-sidebar",18),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("toggleSidebar",function(){t.eBV(ve);const Ce=t.XpG(2);return t.Njj(Ce.closeSidebar())})("changeConfiguration",function(Ce){t.eBV(ve);const qe=t.XpG(2);return t.Njj(qe.changeContext(Ce.context))})("changeViewMode",function(){t.eBV(ve);const Ce=t.XpG(2);return t.Njj(Ce.changeViewMode())}),t.k0s()}if(2&oe){let ve;const _e=t.XpG(2);t.Y8G("configurationList",_e.configurationList)("configuration",t.bMT(1,12,_e.currentConfiguration$))("currentScope",t.bMT(2,14,_e.currentScope$))("filters",_e.filtersRD$.asObservable())("refreshFilters",_e.refreshFilters)("resultCount",null==(ve=t.bMT(3,16,_e.resultsRD$))||null==ve.payload?null:ve.payload.totalElements)("searchOptions",t.bMT(4,18,_e.searchOptions$))("sortOptionsList",t.bMT(5,20,_e.sortOptionsList$))("currentSortOption",t.bMT(6,22,_e.currentSortOptions$))("inPlaceSearch",_e.inPlaceSearch)("viewModeList",_e.viewModeList)("showViewModes",_e.showViewModes)}}function ne(oe,J){if(1&oe&&(t.DNE(0,ce,7,24,"ds-search-sidebar",15),t.nI1(1,"async"),t.DNE(2,Z,7,24,"ds-search-sidebar",16),t.nI1(3,"async")),2&oe){const ve=t.XpG();t.vxM(!0!==t.bMT(1,2,ve.isXsOrSm$)?0:-1),t.R7$(2),t.vxM(t.bMT(3,4,ve.isXsOrSm$)?2:-1)}}function fe(oe,J){if(1&oe&&(t.nrm(0,"ds-search-form",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.j41(4,"div",20)(5,"div",21),t.nrm(6,"ds-search-labels",22),t.k0s()()),2&oe){let ve,_e;const Ce=t.XpG();t.Y8G("query",null==(ve=t.bMT(1,8,Ce.searchOptions$))?null:ve.query)("scope",null==(_e=t.bMT(2,10,Ce.searchOptions$))?null:_e.scope)("hideScopeInUrl",Ce.hideScopeInUrl)("currentUrl",Ce.searchLink)("showScopeSelector",Ce.showScopeSelector)("inPlaceSearch",Ce.inPlaceSearch)("searchPlaceholder",t.bMT(3,12,Ce.searchFormPlaceholder)),t.R7$(6),t.Y8G("inPlaceSearch",Ce.inPlaceSearch)}}let ae=(()=>{class oe extends M.SearchComponent{constructor(ve,_e,Ce,qe,Re,nt,Ge,at){super(ve,_e,Ce,qe,Re,nt,Ge,at),this.service=ve,this.sidebarService=_e,this.windowService=Ce,this.searchConfigService=qe,this.routeService=Re,this.router=nt,this.appConfig=Ge,this.platformId=at}static{this.\u0275fac=function(_e){return new(_e||oe)(t.rXU(m.S),t.rXU(S.o),t.rXU(y.CV),t.rXU(v.EN),t.rXU(p.v$),t.rXU(L.Ix),t.rXU(e.vQ),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:oe,selectors:[["ds-base-configuration-search-page"]],standalone:!0,features:[t.Jv_([{provide:v.EN,useClass:f.g}]),t.Vt3,t.aNF],ngContentSelectors:x,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],[1,"container"],[3,"id","sideBarWidth","sidebarContent"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-end","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(_e,Ce){1&_e&&(t.NAR(T),t.DNE(0,$,4,1,"div",3),t.nI1(1,"async"),t.DNE(2,z,2,1,"div"),t.nI1(3,"async"),t.DNE(4,X,2,4,"ds-page-with-sidebar",4),t.nI1(5,"async"),t.DNE(6,re,12,8,"ng-template",null,0,t.C5r)(8,ne,4,6,"ng-template",null,1,t.C5r)(10,fe,7,14,"ng-template",null,2,t.C5r)),2&_e&&(t.vxM(Ce.searchEnabled&&t.bMT(1,3,Ce.isXsOrSm$)?0:-1),t.R7$(2),t.vxM(!Ce.showSidebar&&t.bMT(3,5,Ce.initialized$)?2:-1),t.R7$(2),t.vxM(Ce.showSidebar&&t.bMT(5,7,Ce.initialized$)?4:-1))},dependencies:[i.Jj,i.T3,h.f,b.L,I.d,P.N,D.p,c.h,c.D9,O.g],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}[_nghost-%COMP%]{--bs-gutter-x: .75rem}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[E.W]},changeDetection:0})}}return oe})()},10653:(B,C,n)=>{"use strict";n.d(C,{M:()=>v}),n(40940),n(79669);var c=n(29710),p=(n(70767),n(54438));const m=["*"];function f(E,y){}let v=(()=>{class E extends c.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl"]}getComponentName(){return"ConfigurationSearchPageComponent"}importThemedComponent(M){return n(21133)(`./${M}/app/search-page/configuration-search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,70767))}static{this.\u0275fac=(()=>{let M;return function(P){return(M||(M=p.xGo(E)))(P||E)}})()}static{this.\u0275cmp=p.VBU({type:E,selectors:[["ds-configuration-search-page"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},standalone:!0,features:[p.Vt3,p.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,P){1&b&&(p.NAR(),p.DNE(0,f,0,0,"ng-template",null,0,p.C5r),p.j41(2,"div",null,1),p.SdG(4),p.k0s())},encapsulation:2})}}return E})()},43764:(B,C,n)=>{"use strict";n.d(C,{e:()=>f});var i=n(54438),t=n(89777),c=n(73838),e=n(60163);const p=["DynamicComponentLoader"];function m(v,E){}let f=(()=>{class v{constructor(y){this.themeService=y,this.subs=[],this.inputNamesDependentForComponent=[],this.inputNames=[],this.outputNames=[]}ngOnInit(){this.instantiateComponent()}ngOnChanges(y){(0,t.a4)(this.compRef)&&(this.inputNamesDependentForComponent.some(M=>(0,t.a4)(y[M])&&y[M].previousValue!==y[M].currentValue)?(this.destroyComponentInstance(),this.instantiateComponent()):this.connectInputsAndOutputs())}ngOnDestroy(){this.subs.filter(y=>(0,t.a4)(y)).forEach(y=>y.unsubscribe()),this.destroyComponentInstance()}instantiateComponent(){const y=this.getComponent(),M=this.componentViewContainerRef;M.clear(),this.compRef=M.createComponent(y,{index:0,injector:void 0}),this.connectInputsAndOutputs()}destroyComponentInstance(){(0,t.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null)}connectInputsAndOutputs(){(0,t.hj)(this.inputNames)&&(0,t.a4)(this.compRef)&&(0,t.a4)(this.compRef.instance)&&this.inputNames.filter(y=>void 0!==this[y]).filter(y=>this[y]!==this.compRef.instance[y]).forEach(y=>{this.compRef.setInput(y,this[y])}),(0,t.hj)(this.outputNames)&&(0,t.a4)(this.compRef)&&(0,t.a4)(this.compRef.instance)&&this.outputNames.filter(y=>void 0!==this[y]).filter(y=>this[y]!==this.compRef.instance[y]).forEach(y=>{this.compRef.instance[y]=this[y]})}static{this.\u0275fac=function(M){return new(M||v)(i.rXU(c.Fs))}}static{this.\u0275cmp=i.VBU({type:v,selectors:[["ds-abstract-component-loader"]],viewQuery:function(M,b){if(1&M&&i.GBs(p,7,i.c1b),2&M){let P;i.mGM(P=i.lsd())&&(b.componentViewContainerRef=P.first)}},standalone:!0,features:[i.OA$,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(M,b){1&M&&i.DNE(0,m,0,0,"ng-template",1,0,i.C5r)},dependencies:[e.z],encapsulation:2})}}return v})()},60163:(B,C,n)=>{"use strict";n.d(C,{z:()=>t});var i=n(54438);let t=(()=>{class c{constructor(p){this.viewContainerRef=p}static{this.\u0275fac=function(m){return new(m||c)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:c,selectors:[["","dsDynamicComponentLoader",""]],standalone:!0})}}return c})()},74082:(B,C,n)=>{"use strict";n.d(C,{v:()=>i});var i=function(t){return t.Success="alert-success",t.Error="alert-danger",t.Info="alert-info",t.Warning="alert-warning",t}(i||{})},64972:(B,C,n)=>{"use strict";n.d(C,{C:()=>E});var i=n(49969),t=n(54438),c=n(68018),e=n(2180);const p=["*"];function m(y,M){if(1&y&&(t.nrm(0,"span",2),t.nI1(1,"translate")),2&y){const b=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,1,b.content),t.npT)}}function f(y,M){if(1&y){const b=t.RV6();t.j41(0,"button",4),t.bIt("click",function(){t.eBV(b);const D=t.XpG(2);return t.Njj(D.dismiss())}),t.k0s()}}function v(y,M){if(1&y&&(t.j41(0,"div",1),t.DNE(1,m,2,3,"span",2),t.SdG(2),t.DNE(3,f,1,0,"button",3),t.k0s()),2&y){const b=t.XpG();t.ZvI("alert ",b.type," alert-dismissible fade show w-100 p-3"),t.Y8G("@enterLeave",b.animate),t.R7$(),t.vxM(b.content?1:-1),t.R7$(2),t.vxM(b.dismissible?3:-1)}}let E=(()=>{class y{constructor(b){this.cdr=b,this.dismissible=!1,this.close=new t.bkB,this.animate="fadeIn",this.dismissed=!1}dismiss(){this.dismissible&&(this.animate="fadeOut",this.cdr.detectChanges(),setTimeout(()=>{this.dismissed=!0,this.close.emit(),this.cdr.detectChanges()},300))}static{this.\u0275fac=function(P){return new(P||y)(t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:y,selectors:[["ds-alert"]],inputs:{content:"content",dismissible:"dismissible",type:"type"},outputs:{close:"close"},standalone:!0,features:[t.aNF],ngContentSelectors:p,decls:1,vars:1,consts:[["role","alert",3,"class"],["role","alert"],[3,"innerHTML"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(P,D){1&P&&(t.NAR(),t.DNE(0,v,4,6,"div",0)),2&P&&t.vxM(D.dismissed?-1:0)},dependencies:[c.h,c.D9],styles:[".btn-close{opacity:.75}.btn-close:focus{outline:none!important}button.close{opacity:.6}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[e.ai,e.wA])]}})}}return y})()},2180:(B,C,n)=>{"use strict";n.d(C,{HT:()=>t,Ws:()=>y,Xn:()=>E,ai:()=>m,e9:()=>c,qG:()=>v,wA:()=>p});var i=n(49969);const t=(0,i.wk)("fadeIn",(0,i.iF)({opacity:1})),c=(0,i.kY)("* => fadeIn",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),e=(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),p=(0,i.wk)("fadeOut",(0,i.iF)({opacity:0})),m=(0,i.kY)("fadeIn => fadeOut",[(0,i.iF)({opacity:1}),(0,i.i0)(400,(0,i.iF)({opacity:0}))]),f=(0,i.kY)(":leave",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),v=(0,i.hZ)("fadeIn",[e]),E=(0,i.hZ)("fadeOut",[f]),y=(0,i.hZ)("fadeInOut",[e,f])},68887:(B,C,n)=>{"use strict";n.d(C,{B_:()=>e,Py:()=>p,Wk:()=>t,iP:()=>c});var i=n(49969);const t=(0,i.wk)("fromTopIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),c=(0,i.kY)("* => fromTopIn",[(0,i.iF)({opacity:0,transform:"translateY(-5%)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("fromTopOut",(0,i.iF)({opacity:0,transform:"translateY(5%)"})),p=(0,i.kY)("fromTopIn => fromTopOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromTopIn",[c]),(0,i.hZ)("fromTopOut",[p]),(0,i.hZ)("fromTopInOut",[c,p])},34366:(B,C,n)=>{"use strict";n.d(C,{W:()=>t});var i=n(49969);const t=(0,i.hZ)("pushInOut",[(0,i.wk)("expanded",(0,i.iF)({left:"100%"})),(0,i.wk)("collapsed",(0,i.iF)({left:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))])},59713:(B,C,n)=>{"use strict";n.d(C,{CC:()=>c,L2:()=>e,Ru:()=>p,UE:()=>t,e$:()=>M});var i=n(49969);const t=(0,i.wk)("rotateIn",(0,i.iF)({opacity:1,transform:"rotate(0deg)"})),c=(0,i.kY)("* => rotateIn",[(0,i.iF)({opacity:0,transform:"rotate(5deg)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("rotateOut",(0,i.iF)({opacity:0,transform:"rotate(5deg)"})),p=(0,i.kY)("rotateIn => rotateOut",[(0,i.iF)({opacity:1,transform:"rotate(0deg)"}),(0,i.i0)("400ms ease-in-out")]),M=((0,i.hZ)("rotateIn",[c]),(0,i.hZ)("rotateOut",[p]),(0,i.hZ)("rotateInOut",[c,p]),(0,i.hZ)("rotate",[(0,i.wk)("expanded",(0,i.iF)({transform:"rotate(90deg)"})),(0,i.wk)("collapsed",(0,i.iF)({transform:"rotate(0deg)"})),(0,i.kY)("expanded <=> collapsed",[(0,i.i0)("200ms")])]))},13957:(B,C,n)=>{"use strict";n.d(C,{M6:()=>t,ck:()=>M,l9:()=>P,p8:()=>c,tr:()=>b});var i=n(49969);const t=(0,i.hZ)("slide",[(0,i.wk)("expanded",(0,i.iF)({height:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0})),(0,i.wk)("void",(0,i.iF)({height:0})),(0,i.wk)("*",(0,i.iF)({height:"*"})),(0,i.kY)(":enter",[(0,i.i0)("200ms")]),(0,i.kY)(":leave",[(0,i.i0)("200ms")]),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))]),c=(0,i.hZ)("slideMobileNav",[(0,i.wk)("expanded",(0,i.iF)({height:"*",minHeight:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0,minHeight:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)("300ms"))]),e=(0,i.iF)({maxWidth:"{{collapsedWidth}}"}),p=(0,i.iF)({maxWidth:"{{expandedWidth}}"}),m=(0,i.iF)({paddingLeft:"{{collapsedWidth}}"}),f=(0,i.iF)({paddingLeft:"{{expandedWidth}}"}),v=(0,i.iF)({paddingLeft:"0"}),E={params:{collapsedWidth:"*",expandedWidth:"*"}},y="300ms ease-in-out",M=(0,i.hZ)("slideSidebar",[(0,i.wk)("collapsed",e,E),(0,i.wk)("expanded",p,E),(0,i.kY)("expanded => collapsed",(0,i.i0)(y,e)),(0,i.kY)("collapsed => expanded",(0,i.i0)(y,p))]),b=(0,i.hZ)("slideSidebarPadding",[(0,i.wk)("hidden",v),(0,i.wk)("unpinned",m,E),(0,i.wk)("pinned",f,E),(0,i.kY)("hidden <=> unpinned",(0,i.i0)(y)),(0,i.kY)("hidden <=> pinned",(0,i.i0)(y)),(0,i.kY)("unpinned <=> pinned",(0,i.i0)(y))]),P=(0,i.hZ)("toggleAnimation",[(0,i.wk)("collapsed",(0,i.iF)({width:"0",opacity:"0"})),(0,i.wk)("expanded",(0,i.iF)({width:"250px",opacity:"1"})),(0,i.kY)("* => collapsed",(0,i.Os)([(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"30px"})),(0,i.i0)("300ms ease-in",(0,i.iF)({opacity:"0"}))])),(0,i.kY)("* => expanded",(0,i.Os)([(0,i.i0)("300ms ease-out",(0,i.iF)({opacity:"1"})),(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"250px"}))]))])},42380:(B,C,n)=>{"use strict";n.r(C),n.d(C,{AuthNavMenuComponent:()=>K});var i=n(60177),t=n(7901),c=n(58003),e=n(59640),p=n(68018),m=n(7673),f=n(5964),v=n(96354),E=n(23679),y=n(94196),M=n(12321),b=n(2180),P=n(89777),D=n(50842),I=n(20044),h=n(33745),S=n(72067),O=n(54438);const L=z=>({"ps-3 pe-3":z});function T(z,V){if(1&z){const G=O.RV6();O.j41(0,"div",5),O.bIt("click",function(Q){return O.eBV(G),O.Njj(Q.stopPropagation())}),O.j41(1,"div",6,0)(3,"button",7),O.nI1(4,"translate"),O.nI1(5,"dsBrowserOnly"),O.bIt("click",function(Q){return O.eBV(G),O.Njj(Q.preventDefault())}),O.EFF(6),O.nI1(7,"translate"),O.k0s(),O.j41(8,"div",8),O.nI1(9,"async"),O.nI1(10,"translate"),O.nrm(11,"ds-log-in",9),O.k0s()()()}if(2&z){const G=O.sdS(2),X=O.XpG(2);O.R7$(),O.Y8G("@fadeInOut",void 0),O.R7$(2),O.BMQ("aria-label",O.bMT(4,8,"nav.login"))("data-test",O.bMT(5,10,"login-menu"))("aria-expanded",G.isOpen()),O.R7$(3),O.SpI(" ",O.bMT(7,12,"nav.login")," "),O.R7$(2),O.Y8G("ngClass",O.eq3(18,L,O.bMT(9,14,X.loading))),O.BMQ("aria-label",O.bMT(10,16,"nav.login")),O.R7$(3),O.Y8G("isStandalonePage",!1)}}function x(z,V){if(1&z){const G=O.RV6();O.j41(0,"div",4)(1,"div",6,1)(3,"button",10),O.nI1(4,"translate"),O.nI1(5,"translate"),O.nI1(6,"dsBrowserOnly"),O.bIt("click",function(Q){return O.eBV(G),O.Njj(Q.preventDefault())}),O.nrm(7,"i",11),O.k0s(),O.j41(8,"div",12)(9,"ds-user-menu",13),O.bIt("changedRoute",function(){O.eBV(G);const Q=O.sdS(2);return O.Njj(Q.close())}),O.k0s()()()()}2&z&&(O.R7$(),O.Y8G("@fadeInOut",void 0),O.R7$(2),O.Y8G("title",O.bMT(4,5,"nav.user-profile-menu-and-logout")),O.BMQ("aria-label",O.bMT(5,7,"nav.user-profile-menu-and-logout"))("data-test",O.bMT(6,9,"user-menu")),O.R7$(6),O.Y8G("inExpandableNavbar",!1))}function N(z,V){if(1&z&&(O.j41(0,"div",2),O.SS7(1),O.nI1(2,"async"),O.DNE(3,T,12,20,"div",4)(4,x,10,11,"div",4),O.k0s()),2&z){const G=O.XpG(),X=O.r8f(0),Q=O.bMT(2,2,G.showAuth$);O.R7$(3),O.vxM(!0!==X&&Q?3:-1),O.R7$(),O.vxM(X&&Q?4:-1)}}function j(z,V){1&z&&(O.j41(0,"a",14),O.nI1(1,"translate"),O.nI1(2,"translate"),O.nrm(3,"i",16),O.j41(4,"span",17),O.EFF(5,"(current)"),O.k0s()()),2&z&&(O.Y8G("title",O.bMT(1,2,"nav.logout")),O.BMQ("aria-label",O.bMT(2,4,"nav.logout")))}function $(z,V){1&z&&(O.j41(0,"a",15),O.EFF(1),O.nI1(2,"translate"),O.j41(3,"span",17),O.EFF(4,"(current)"),O.k0s()()),2&z&&(O.R7$(),O.SpI(" ",O.bMT(2,1,"nav.login"),""))}function k(z,V){if(1&z&&(O.j41(0,"div",3),O.DNE(1,j,6,6,"a",14)(2,$,5,3,"a",15),O.k0s()),2&z){O.XpG();const G=O.r8f(0);O.R7$(),O.vxM(!0===G?1:2)}}let K=(()=>{class z{constructor(G,X,Q){this.store=G,this.windowService=X,this.authService=Q,this.showAuth$=(0,m.of)(!1),this.isMobile$=this.windowService.isMobile()}ngOnInit(){this.isAuthenticated$=this.store.pipe((0,e.Lt)(M.wR)),this.loading=this.store.pipe((0,e.Lt)(M.VV)),this.user=this.authService.getAuthenticatedUserFromStore(),this.showAuth$=this.store.pipe((0,e.Lt)(E.ox),(0,f.p)(G=>(0,P.EA)(G)&&(0,P.EA)(G.state)),(0,v.T)(G=>!G.state.url.startsWith(y.S0)&&!G.state.url.startsWith(y.Ru)))}static{this.\u0275fac=function(X){return new(X||z)(O.rXU(e.il),O.rXU(D.CV),O.rXU(y.uR))}}static{this.\u0275cmp=O.VBU({type:z,selectors:[["ds-base-auth-nav-menu"]],standalone:!0,features:[O.aNF],decls:5,vars:6,consts:[["loginDrop","ngbDropdown"],["loggedInDrop","ngbDropdown"],["data-test","auth-nav",1,"navbar-nav","me-auto"],["data-test","auth-nav"],[1,"nav-item"],[1,"nav-item",3,"click"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["role","button","tabindex","0","aria-haspopup","menu","aria-controls","loginDropdownMenu","ngbDropdownToggle","",1,"dropdownLogin","btn","btn-link","px-0",3,"click"],["id","loginDropdownMenu","ngbDropdownMenu","","role","dialog","aria-modal","true",3,"ngClass"],[3,"isStandalonePage"],["role","button","tabindex","0","aria-controls","user-menu-dropdown","ngbDropdownToggle","",1,"dropdownLogout","btn","btn-link","px-0",3,"click","title"],[1,"fas","fa-user-circle","fa-lg","fa-fw"],["id","logoutDropdownMenu","ngbDropdownMenu",""],[3,"changedRoute","inExpandableNavbar"],["routerLink","/logout","routerLinkActive","active","role","link","tabindex","0",1,"logoutLink","px-0",3,"title"],["routerLink","/login","routerLinkActive","active","role","link","tabindex","0",1,"loginLink","px-0"],[1,"fas","fa-sign-out-alt","fa-lg","fa-fw"],[1,"sr-only"]],template:function(X,Q){1&X&&(O.SS7(0),O.nI1(1,"async"),O.DNE(2,N,5,4,"div",2),O.nI1(3,"async"),O.DNE(4,k,3,1,"div",3)),2&X&&(O.bH3(O.bMT(1,1,Q.isAuthenticated$)),O.R7$(2),O.vxM(!0!==O.bMT(3,4,Q.isMobile$)?2:4))},dependencies:[i.Jj,h.L,c.zH,c.tg,c.do,c.U0,i.YU,t.Wk,t.wQ,I.W,S.r,p.h,p.D9],styles:["#loginDropdownMenu[_ngcontent-%COMP%], #logoutDropdownMenu[_ngcontent-%COMP%]{min-width:330px;z-index:1002}#loginDropdownMenu[_ngcontent-%COMP%]{min-height:75px}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active, .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#0000!important}.loginLink[_ngcontent-%COMP%], .dropdownLogin[_ngcontent-%COMP%], .logoutLink[_ngcontent-%COMP%], .dropdownLogout[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.loginLink[_ngcontent-%COMP%]:hover, .loginLink[_ngcontent-%COMP%]:focus, .dropdownLogin[_ngcontent-%COMP%]:hover, .dropdownLogin[_ngcontent-%COMP%]:focus, .logoutLink[_ngcontent-%COMP%]:hover, .logoutLink[_ngcontent-%COMP%]:focus, .dropdownLogout[_ngcontent-%COMP%]:hover, .dropdownLogout[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active:focus{box-shadow:unset}.dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:0}"],data:{animation:[b.Ws,b.Xn]}})}}return z})()},85546:(B,C,n)=>{"use strict";n.d(C,{v:()=>m});var i=n(29710),c=(n(42380),n(54438));const e=["*"];function p(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"AuthNavMenuComponent"}importThemedComponent(E){return n(51808)(`./${E}/app/shared/auth-nav-menu/auth-nav-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,42380))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=c.xGo(f)))(M||f)}})()}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-auth-nav-menu"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},72067:(B,C,n)=>{"use strict";n.d(C,{r:()=>m});var i=n(54438),t=n(29710);n(7825);const e=["*"];function p(f,v){}let m=(()=>{class f extends t.J{constructor(){super(...arguments),this.changedRoute=new i.bkB,this.inAndOutputNames=["inExpandableNavbar","changedRoute"]}getComponentName(){return"UserMenuComponent"}importThemedComponent(E){return n(13361)(`./${E}/app/shared/auth-nav-menu/user-menu/user-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,7825))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=i.xGo(f)))(M||f)}})()}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},outputs:{changedRoute:"changedRoute"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(i.NAR(),i.DNE(0,p,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return f})()},7825:(B,C,n)=>{"use strict";n.r(C),n.d(C,{UserMenuComponent:()=>S});var i=n(60177),t=n(54438),c=n(7901),e=n(59640),p=n(68018),m=n(15343),f=n(94196),v=n(12321),E=n(43446),y=n(73450),M=n(15202),b=n(59556);const P=O=>[O];function D(O,L){1&O&&t.nrm(0,"ds-loading")}function I(O,L){1&O&&(t.nrm(0,"li",5),t.j41(1,"li",6),t.nrm(2,"ds-log-out",7),t.k0s())}function h(O,L){if(1&O){const T=t.RV6();t.j41(0,"ul",0),t.nI1(1,"translate"),t.j41(2,"li",1),t.EFF(3),t.nI1(4,"async"),t.nrm(5,"br"),t.j41(6,"span",2),t.EFF(7),t.nI1(8,"async"),t.k0s()(),t.j41(9,"li",3),t.bIt("click",function(){t.eBV(T);const N=t.XpG();return t.Njj(N.onMenuItemClick())}),t.j41(10,"a",4),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"li",3),t.bIt("click",function(){t.eBV(T);const N=t.XpG();return t.Njj(N.onMenuItemClick())}),t.j41(14,"a",4),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.j41(17,"li",3),t.bIt("click",function(){t.eBV(T);const N=t.XpG();return t.Njj(N.onMenuItemClick())}),t.j41(18,"a",4),t.EFF(19),t.nI1(20,"translate"),t.k0s()(),t.DNE(21,I,3,0),t.k0s()}if(2&O){let T;const x=t.XpG();t.Y8G("ngClass",x.inExpandableNavbar?"user-menu-mobile pb-2 mb-2 border-bottom":"user-menu-dropdown"),t.BMQ("aria-label",t.bMT(1,11,"nav.user-profile-menu-and-logout")),t.R7$(3),t.SpI(" ",x.dsoNameService.getName(t.bMT(4,13,x.user$)),""),t.R7$(4),t.JRh(null==(T=t.bMT(8,15,x.user$))?null:T.email),t.R7$(3),t.Y8G("routerLink",t.eq3(23,P,x.profileRoute)),t.R7$(),t.JRh(t.bMT(12,17,"nav.profile")),t.R7$(3),t.Y8G("routerLink",t.eq3(25,P,x.mydspaceRoute)),t.R7$(),t.JRh(t.bMT(16,19,"nav.mydspace")),t.R7$(3),t.Y8G("routerLink",t.eq3(27,P,x.subscriptionsRoute)),t.R7$(),t.JRh(t.bMT(20,21,"nav.subscriptions")),t.R7$(2),t.vxM(x.inExpandableNavbar?-1:21)}}let S=(()=>{class O{constructor(T,x,N){this.store=T,this.authService=x,this.dsoNameService=N,this.inExpandableNavbar=!1,this.changedRoute=new t.bkB,this.mydspaceRoute=y.MYDSPACE_ROUTE,this.profileRoute=(0,m.Th)(),this.subscriptionsRoute=(0,m.gf)()}ngOnInit(){this.loading$=this.store.pipe((0,e.Lt)(v.VV)),this.user$=this.authService.getAuthenticatedUserFromStore()}onMenuItemClick(){this.changedRoute.emit()}static{this.\u0275fac=function(x){return new(x||O)(t.rXU(e.il),t.rXU(f.uR),t.rXU(E.f))}}static{this.\u0275cmp=t.VBU({type:O,selectors:[["ds-base-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},outputs:{changedRoute:"changedRoute"},standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[["role","menu","id","user-menu-dropdown",1,"user-menu",3,"ngClass"],["role","presentation",1,"ds-menu-item-wrapper","username-email-wrapper"],[1,"text-muted"],["role","presentation",1,"ds-menu-item-wrapper",3,"click"],["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"routerLink"],["aria-hidden","true",1,"dropdown-divider"],["role","presentation",1,"ds-menu-item-wrapper"],["data-test","log-out-component"]],template:function(x,N){1&x&&(t.DNE(0,D,1,0,"ds-loading"),t.nI1(1,"async"),t.DNE(2,h,22,29,"ul",0),t.nI1(3,"async")),2&x&&(t.vxM(t.bMT(1,2,N.loading$)?0:-1),t.R7$(2),t.vxM(!0!==t.bMT(3,4,N.loading$)?2:-1))},dependencies:[i.Jj,b.y,i.YU,c.Wk,c.wQ,M.v,p.h,p.D9],styles:["[_nghost-%COMP%]   ul.user-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper.username-email-wrapper[_ngcontent-%COMP%]{padding:var(--ds-user-menu-item-vertical-padding) var(--ds-user-menu-dropdown-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]{display:block;color:var(--ds-expandable-navbar-link-color)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]:hover{color:var(--ds-expandable-navbar-link-color-hover);background-color:var(--ds-user-menu-dropdown-link-background-hover)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{padding-top:var(--ds-user-menu-item-vertical-padding);padding-bottom:var(--ds-user-menu-item-vertical-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]{color:var(--ds-expandable-navbar-link-color)!important}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:focus{color:var(--ds-expandable-navbar-link-background-hover)!important}"]})}}return O})()},94552:(B,C,n)=>{"use strict";n.r(C),n.d(C,{BrowseByComponent:()=>V});var i=n(60177),t=n(54438),c=n(68018),e=n(84412),p=n(84572),m=n(96354),v=(n(70998),n(31)),E=n(87507),y=n(19192),M=n(2180),b=n(89777),P=n(14744),D=n(15202),I=n(52186),h=n(93164),S=n(71708),O=n(41358),L=n(50186);function T(G,X){if(1&G&&(t.j41(0,"h1"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&G){const Q=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,Q.title))}}function x(G,X){if(1&G&&(t.j41(0,"div",3),t.nrm(1,"ds-results-back-button",5),t.k0s()),2&G){const Q=t.XpG(3);t.R7$(),t.Y8G("back",Q.back)("buttonLabel",Q.buttonLabel)}}function N(G,X){if(1&G){const Q=t.RV6();t.j41(0,"div"),t.DNE(1,x,2,2,"div",3),t.nI1(2,"async"),t.j41(3,"ds-viewable-collection",4),t.bIt("prev",function(){t.eBV(Q);const ie=t.XpG(2);return t.Njj(ie.goPrev())})("next",function(){t.eBV(Q);const ie=t.XpG(2);return t.Njj(ie.goNext())}),t.k0s()()}if(2&G){const Q=t.XpG().ngVar,ee=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.vxM(t.bMT(2,6,ee.shouldDisplayResetButton$)?1:-1),t.R7$(2),t.Y8G("config",ee.paginationConfig)("sortConfig",ee.sortConfig)("showPaginator",ee.showPaginator)("objects",Q)}}function j(G,X){1&G&&(t.nrm(0,"ds-loading",2),t.nI1(1,"translate")),2&G&&t.FS9("message",t.bMT(1,1,"loading.browse-by"))}function $(G,X){1&G&&(t.nrm(0,"ds-error",2),t.nI1(1,"translate")),2&G&&t.FS9("message",t.bMT(1,1,"error.browse-by"))}function k(G,X){if(1&G&&(t.j41(0,"div",6),t.nrm(1,"ds-results-back-button",5),t.k0s()),2&G){const Q=t.XpG(3);t.R7$(),t.Y8G("back",Q.back)("buttonLabel",Q.buttonLabel)}}function K(G,X){if(1&G&&(t.j41(0,"div"),t.DNE(1,k,2,2,"div",6),t.nI1(2,"async"),t.j41(3,"div",7),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&G){const Q=t.XpG(2);t.R7$(),t.vxM(t.bMT(2,2,Q.shouldDisplayResetButton$)?1:-1),t.R7$(3),t.SpI(" ",t.bMT(5,4,"browse.empty")," ")}}function z(G,X){if(1&G&&(t.qex(0),t.DNE(1,T,3,3,"h1"),t.nrm(2,"ds-starts-with-loader",1),t.DNE(3,N,4,8,"div")(4,j,2,3,"ds-loading",2)(5,$,2,3,"ds-error",2)(6,K,6,6,"div"),t.bVm()),2&G){const Q=X.ngVar,ee=t.XpG();t.R7$(),t.vxM(ee.displayTitle?1:-1),t.R7$(),t.Y8G("paginationId",null==ee.paginationConfig?null:ee.paginationConfig.id)("startsWithOptions",ee.startsWithOptions)("type",ee.type),t.R7$(),t.vxM(null!=Q&&Q.hasSucceeded&&(null==Q||!Q.isLoading)&&(null==Q||null==Q.payload?null:Q.payload.page.length)>0?3:-1),t.R7$(),t.vxM(!Q||null!=Q&&Q.isLoading?4:-1),t.R7$(),t.vxM(null!=Q&&Q.hasFailed?5:-1),t.R7$(),t.vxM(null!=Q&&Q.isLoading||0!==(null==Q||null==Q.payload?null:Q.payload.page.length)?-1:6)}}let V=(()=>{class G{constructor(Q,ee,ie,te){this.injector=Q,this.paginationService=ee,this.translateService=ie,this.routeService=te,this.viewMode=y.n.ListElement,this.displayTitle=!0,this.type=O.c.text,this.startsWithOptions=[],this.showPaginator=!0,this.hideGear=!1,this.prev=new t.bkB,this.next=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.previousPage$=new e.t("1"),this.buttonLabel=this.translateService.get("browse.back.all-results"),this.back=()=>{this.paginationService.updateRoute(this.paginationConfig.id,{page:+this.previousPage$.value>1?+this.previousPage$.value:1},{[this.paginationConfig.id+".return"]:null,value:null,startsWith:null})}}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}ngOnInit(){const Q=this.routeService.getQueryParameterValue("startsWith"),ee=this.routeService.getQueryParameterValue("value");this.shouldDisplayResetButton$=(0,p.z)([Q,ee]).pipe((0,m.T)(([ie,te])=>(0,b.a4)(ie)||(0,b.a4)(te)))}ngOnChanges(){this.sub&&this.sub.unsubscribe(),this.sub=this.routeService.getQueryParameterValue(this.paginationConfig.id+".return").subscribe(this.previousPage$)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(ee){return new(ee||G)(t.rXU(t.zZn),t.rXU(v.m),t.rXU(c.c$),t.rXU(E.v$))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-base-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"paginationId","startsWithOptions","type"],[3,"message"],[1,"mb-2","reset"],[3,"prev","next","config","sortConfig","showPaginator","objects"],[3,"back","buttonLabel"],[1,"d-inline-block","mb-4","reset"],["role","alert",1,"alert","alert-info","w-100"]],template:function(ee,ie){1&ee&&(t.DNE(0,z,7,8,"ng-container",0),t.nI1(1,"async")),2&ee&&t.Y8G("ngVar",t.bMT(1,1,ie.objects$))},dependencies:[i.Jj,P.A,I.h,S.u,D.v,h.U,c.h,c.D9,L.r],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"],data:{animation:[M.qG,M.Ws]}})}}return G})()},92046:(B,C,n)=>{"use strict";n.d(C,{U:()=>v});var i=n(54438),e=(n(70998),n(41358),n(29710));n(94552);const m=["*"];function f(E,y){}let v=(()=>{class E extends e.J{constructor(){super(...arguments),this.prev=new i.bkB,this.next=new i.bkB,this.pageSizeChange=new i.bkB,this.sortDirectionChange=new i.bkB,this.inAndOutputNames=["title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","showPaginator","hideGear","prev","next","pageSizeChange","sortDirectionChange"]}getComponentName(){return"BrowseByComponent"}importThemedComponent(M){return n(60939)(`./${M}/app/shared/browse-by/browse-by.component.ts`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,94552))}static{this.\u0275fac=(()=>{let M;return function(P){return(M||(M=i.xGo(E)))(P||E)}})()}static{this.\u0275cmp=i.VBU({type:E,selectors:[["ds-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,P){1&b&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return E})()},79104:(B,C,n)=>{"use strict";n.d(C,{A:()=>t});var i=n(54438);let t=(()=>{class c{constructor(){this.isDisabled=!1}set dsBtnDisabled(p){this.isDisabled=!!p}get disabledClass(){return this.isDisabled}handleClick(p){this.isDisabled&&(p.preventDefault(),p.stopImmediatePropagation())}handleKeydown(p){this.isDisabled&&("Enter"===p.key||"Space"===p.key)&&(p.preventDefault(),p.stopImmediatePropagation())}static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275dir=i.FsC({type:c,selectors:[["","dsBtnDisabled",""]],hostVars:3,hostBindings:function(m,f){1&m&&i.bIt("click",function(E){return f.handleClick(E)})("keydown",function(E){return f.handleKeydown(E)}),2&m&&(i.BMQ("aria-disabled",f.isDisabled),i.AVh("disabled",f.disabledClass))},inputs:{dsBtnDisabled:"dsBtnDisabled"},standalone:!0})}}return c})()},69620:(B,C,n)=>{"use strict";n.r(C),n.d(C,{CollectionDropdownComponent:()=>G});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),p=n(86820),m=n(84412),f=n(22806),v=n(7673),E=n(70152),y=n(23294),M=n(99172),b=n(25558),P=n(73028),D=n(96354),I=n(19852),h=n(96697),S=n(43446),O=n(69295),L=n(4093),T=n(89777),x=n(15202),N=n(4600);function j(X,Q){if(1&X){const ee=t.RV6();t.j41(0,"div",1)(1,"input",5,0),t.nI1(3,"translate"),t.bIt("click",function(te){return t.eBV(ee),t.Njj(te.stopPropagation())}),t.k0s()()}if(2&X){const ee=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(3,2,"submission.sections.general.search-collection")),t.Y8G("formControl",ee.searchField)}}function $(X,Q){1&X&&(t.j41(0,"li",4),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&X&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"submission.sections.general.no-collection")," "))}function k(X,Q){if(1&X&&(t.j41(0,"div",9),t.EFF(1),t.nrm(2,"i",11),t.k0s()),2&X){const ee=Q.$implicit;t.R7$(),t.SpI(" ",ee.name," ")}}function K(X,Q){if(1&X){const ee=t.RV6();t.j41(0,"li",7),t.bIt("click",function(){const te=t.eBV(ee).$implicit,he=t.XpG(2);return t.Njj(he.onSelect(te))}),t.j41(1,"div",8),t.Z7z(2,k,3,1,"div",9,t.fX1),t.j41(4,"div",10),t.EFF(5),t.k0s()()()}if(2&X){const ee=Q.$implicit;t.FS9("title",ee.collection.name),t.R7$(2),t.Dyx(ee.communities),t.R7$(3),t.JRh(ee.collection.name)}}function z(X,Q){if(1&X&&t.Z7z(0,K,6,2,"li",6,t.fX1),2&X){const ee=t.XpG();t.Dyx(ee.searchListCollection)}}function V(X,Q){1&X&&(t.j41(0,"li")(1,"button",12),t.nrm(2,"ds-loading",13),t.nI1(3,"translate"),t.k0s()()),2&X&&(t.R7$(2),t.FS9("message",t.bMT(3,1,"loading.default")))}let G=(()=>{class X{constructor(ee,ie,te,he){this.changeDetectorRef=ee,this.collectionDataService=ie,this.el=te,this.dsoNameService=he,this.searchField=new c.hs,this.scrollableBottom=!1,this.scrollableTop=!1,this.subs=[],this.searchListCollection=[],this.selectionChange=new t.bkB,this.isLoading=new m.t(!1),this.searchHref="findSubmitAuthorized",this.searchComplete=new t.bkB,this.theOnlySelectable=new t.bkB}onMousewheel(ee){ee.wheelDelta>0&&this.scrollableTop&&ee.preventDefault(),ee.wheelDelta<0&&this.scrollableBottom&&ee.preventDefault()}ngOnInit(){this.isLoading.next(!1),this.subs.push(this.searchField.valueChanges.pipe((0,E.B)(500),(0,y.F)(),(0,M.Z)("")).subscribe(ee=>{(0,T.a4)(ee)&&ee!==this.currentQuery&&(this.resetPagination(),this.currentQuery=ee,this.populateCollectionList(this.currentQuery,this.currentPage))})),setTimeout(()=>this.el.nativeElement.querySelector("input").focus(),0)}onScroll(ee){this.scrollableBottom=ee.target.scrollTop+ee.target.clientHeight===ee.target.scrollHeight,this.scrollableTop=0===ee.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateCollectionList(this.currentQuery,++this.currentPage)}onSelect(ee){this.isLoading.next(!0),this.selectionChange.emit(ee)}populateCollectionList(ee,ie){this.isLoading.next(!0);const te={elementsPerPage:10,currentPage:ie};let he;he=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(ee,this.entityType,te,!0,(0,N.s)("parentCommunity")):this.collectionDataService.getAuthorizedCollection(ee,te,!0,!0,this.searchHref,(0,N.s)("parentCommunity")),this.searchListCollection$=he.pipe((0,L.qD)(),(0,b.n)(ye=>(this.searchComplete.emit(),ye.hasSucceeded&&ye.payload.totalElements>0?(this.searchListCollection.length>=ye.payload.totalElements&&(this.hasNextPage=!1),this.emitSelectionEvents(ye),(0,f.H)(ye.payload.page).pipe((0,P.Z)(re=>re.parentCommunity.pipe((0,L.ak)(),(0,D.T)(ce=>({communities:[{id:ce.id,name:this.dsoNameService.getName(ce)}],collection:{id:re.id,uuid:re.id,name:this.dsoNameService.getName(re)}})))),(0,I.T)((re,ce)=>[...re,ce],[]))):(this.hasNextPage=!1,(0,v.of)([]))))),this.subs.push(this.searchListCollection$.subscribe(ye=>{this.searchListCollection.push(...ye),this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(ee=>(0,T.a4)(ee)).forEach(ee=>ee.unsubscribe())}reset(){this.searchField.setValue("")}resetPagination(){this.currentPage=1,this.currentQuery="",this.hasNextPage=!0,this.searchListCollection=[]}hideShowLoader(ee){this.isLoading.next(ee)}emitSelectionEvents(ee){if(1===ee.payload.totalElements){const ie=ee.payload.page[0];ee.payload.page[0].parentCommunity.pipe((0,L.ak)(),(0,h.s)(1)).subscribe(te=>{this.theOnlySelectable.emit({communities:[{id:te.id,name:this.dsoNameService.getName(te),uuid:te.id}],collection:{id:ie.id,uuid:ie.id,name:this.dsoNameService.getName(ie)}})})}}static{this.\u0275fac=function(ie){return new(ie||X)(t.rXU(t.gRc),t.rXU(O.CollectionDataService),t.rXU(t.aKT),t.rXU(S.f))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-base-collection-dropdown"]],hostBindings:function(ie,te){1&ie&&t.bIt("mousewheel",function(ye){return te.onMousewheel(ye)})},inputs:{entityType:"entityType",searchHref:"searchHref"},outputs:{selectionChange:"selectionChange",searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable"},standalone:!0,features:[t.aNF],decls:8,vars:13,consts:[["searchFieldEl",""],[1,"mb-3","w-100","pe-2","ps-2","my-2"],[1,"dropdown-divider","m-0"],["role","menu","infiniteScroll","",1,"scrollable-menu","p-0","m-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],["role","menuitem",1,"dropdown-item","disabled"],["type","search",1,"form-control","w-100",3,"click","placeholder","formControl"],["role","menuitem",1,"dropdown-item","collection-item",3,"title"],["role","menuitem",1,"dropdown-item","collection-item",3,"click","title"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-secondary"],[1,"list-item","text-truncate","text-primary","fw-bold"],["aria-hidden","true",1,"fa","fa-level-down"],[1,"dropdown-item","disabled"],[3,"message"]],template:function(ie,te){1&ie&&(t.DNE(0,j,4,4,"div",1),t.nrm(1,"div",2),t.j41(2,"ul",3),t.bIt("scroll",function(ye){return te.onScroll(ye)})("scrolled",function(){return te.onScrollDown()}),t.DNE(3,$,3,3,"li",4),t.nI1(4,"async"),t.DNE(5,z,2,0)(6,V,4,3,"li"),t.nI1(7,"async"),t.k0s()),2&ie&&(t.vxM(te.searchField?0:-1),t.R7$(2),t.Y8G("infiniteScrollDistance",1.5)("infiniteScrollThrottle",0)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.R7$(),t.vxM(0===(null==te.searchListCollection?null:te.searchListCollection.length)&&!0!==t.bMT(4,9,te.isLoading)?3:-1),t.R7$(2),t.vxM((null==te.searchListCollection?null:te.searchListCollection.length)>0?5:-1),t.R7$(),t.vxM(t.bMT(7,11,te.isLoading)?6:-1))},dependencies:[i.Jj,c.YN,c.me,c.BC,p.e,p.D,c.X1,c.l_,x.v,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type), .dropdown-divider[_ngcontent-%COMP%]{border-top:none;border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#collectionControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return X})()},5598:(B,C,n)=>{"use strict";n.d(C,{m:()=>m});var i=n(54438),t=n(29710);n(69620);const e=["*"];function p(f,v){}let m=(()=>{class f extends t.J{constructor(){super(...arguments),this.searchComplete=new i.bkB,this.theOnlySelectable=new i.bkB,this.selectionChange=new i.bkB,this.inAndOutputNames=["entityType","searchComplete","theOnlySelectable","selectionChange"]}getComponentName(){return"CollectionDropdownComponent"}importThemedComponent(E){return n(80882)(`./${E}/app/shared/collection-dropdown/collection-dropdown.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,69620))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=i.xGo(f)))(M||f)}})()}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-collection-dropdown"]],inputs:{entityType:"entityType"},outputs:{searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable",selectionChange:"selectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(i.NAR(),i.DNE(0,p,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return f})()},3116:(B,C,n)=>{"use strict";n.d(C,{M:()=>m});var i=n(54438),t=n(68018),c=n(58003);const e=f=>({dsoName:f});function p(f,v){if(1&f&&i.nrm(0,"i"),2&f){const E=i.XpG();i.HbH(E.confirmIcon)}}let m=(()=>{class f{constructor(E){this.activeModal=E,this.brandColor="primary",this.response=new i.bkB}confirmPressed(){this.response.emit(!0),this.close()}cancelPressed(){this.response.emit(!1),this.close()}close(){this.activeModal.close()}static{this.\u0275fac=function(y){return new(y||f)(i.rXU(c.Lw))}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-confirmation-modal"]],inputs:{headerLabel:"headerLabel",infoLabel:"infoLabel",cancelLabel:"cancelLabel",confirmLabel:"confirmLabel",confirmIcon:"confirmIcon",brandColor:"brandColor",name:"name"},outputs:{response:"response"},standalone:!0,features:[i.aNF],decls:18,vars:28,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Cancel",1,"cancel","btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],["type","button","aria-label","Confirm","ngbAutofocus","",3,"click"],[3,"class"]],template:function(y,M){1&y&&(i.j41(0,"div")(1,"div",0),i.EFF(2),i.nI1(3,"translate"),i.j41(4,"button",1),i.bIt("click",function(){return M.close()}),i.k0s()(),i.j41(5,"div",2)(6,"p"),i.EFF(7),i.nI1(8,"translate"),i.k0s()(),i.j41(9,"div",3)(10,"button",4),i.bIt("click",function(){return M.cancelPressed()}),i.nrm(11,"i",5),i.EFF(12),i.nI1(13,"translate"),i.k0s(),i.j41(14,"button",6),i.bIt("click",function(){return M.confirmPressed()}),i.DNE(15,p,1,3,"i",7),i.EFF(16),i.nI1(17,"translate"),i.k0s()()()),2&y&&(i.R7$(2),i.SpI("",i.i5U(3,8,M.headerLabel,i.eq3(20,e,M.name))," "),i.R7$(5),i.JRh(i.i5U(8,11,M.infoLabel,i.eq3(22,e,M.name))),i.R7$(5),i.SpI(" ",i.i5U(13,14,M.cancelLabel,i.eq3(24,e,M.name))," "),i.R7$(2),i.ZvI("confirm btn btn-",M.brandColor,""),i.R7$(),i.vxM(M.confirmIcon?15:-1),i.R7$(),i.SpI(" ",i.i5U(17,17,M.confirmLabel,i.eq3(26,e,M.name))," "))},dependencies:[t.h,t.D9],styles:["[_nghost-%COMP%]   .modal-body[_ngcontent-%COMP%], [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{word-break:break-word}"]})}}return f})()},1300:(B,C,n)=>{"use strict";n.d(C,{C:()=>E,Ed:()=>f,JD:()=>v,Ln:()=>c,Xd:()=>p,eE:()=>e,y5:()=>t});var i=n(6800);const t={CONTEXT_HELP_TOGGLE_ICONS:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_ICONS"),CONTEXT_HELP_ADD:(0,i.N)("dspace/context-help/CONTEXT_HELP_ADD"),CONTEXT_HELP_REMOVE:(0,i.N)("dspace/context-help/CONTEXT_HELP_REMOVE"),CONTEXT_HELP_TOGGLE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_TOOLTIP"),CONTEXT_HELP_SHOW_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_SHOW_TOOLTIP"),CONTEXT_HELP_HIDE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_HIDE_TOOLTIP")};class c{constructor(){this.type=t.CONTEXT_HELP_TOGGLE_ICONS}}class e{constructor(M){this.type=t.CONTEXT_HELP_ADD,this.model=M}}class p{constructor(M){this.type=t.CONTEXT_HELP_REMOVE,this.id=M}}class m{constructor(M){this.id=M}}class f extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_TOGGLE_TOOLTIP}}class v extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_SHOW_TOOLTIP}}class E extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_HIDE_TOOLTIP}}},32413:(B,C,n)=>{"use strict";n.d(C,{G:()=>x});var i=n(16036),t=n(60177),c=n(58003),e=n(84412),p=n(84572),m=n(23294),f=n(73028),v=n(96354),E=n(89777),y=n(54438),M=n(68018);const b=["tooltip"],P=(N,j)=>({"ds-context-help-icon fas fa-question-circle shadow-sm":!0,"ds-context-help-icon-right":N,"ds-context-help-icon-left":j});function D(N,j){if(1&N&&(y.j41(0,"a",5),y.EFF(1),y.k0s()),2&N){const $=y.XpG().$implicit;y.FS9("href",$.href,y.B4B),y.R7$(),y.JRh($.text)}}function I(N,j){if(1&N&&y.EFF(0),2&N){const $=y.XpG().$implicit;y.SpI(" ",$.text," ")}}function h(N,j){1&N&&y.DNE(0,D,2,2,"a",5)(1,I,1,1),2&N&&y.vxM(j.$implicit.href?0:1)}function S(N,j){if(1&N&&(y.j41(0,"div",4),y.Z7z(1,h,2,1,null,null,y.fX1),y.nI1(3,"async"),y.k0s()),2&N){const $=y.XpG();y.R7$(),y.Dyx(y.bMT(3,0,$.parsedContent$))}}function O(N,j){if(1&N){const $=y.RV6();y.j41(0,"i",6,1),y.bIt("click",function(){y.eBV($);const K=y.XpG();return y.Njj(K.onClick())}),y.k0s()}if(2&N){const $=y.XpG(),k=y.sdS(1);y.Y8G("ngClass",y.l_i(3,P,"left"!==$.iconPlacement,"left"===$.iconPlacement))("ngbTooltip",k)("placement",$.tooltipPlacement)}}function L(N,j){1&N&&y.eu8(0)}let T=(()=>{class N{set dontParseLinks($){this.dontParseLinks$.next($)}set content($){this.content$.next($)}constructor($,k){this.translateService=$,this.contextHelpService=k,this.tooltipPlacement=[],this.iconPlacement="left",this.dontParseLinks$=new e.t(!1),this.content$=new e.t(null),this.subs=[]}ngOnInit(){this.parsedContent$=(0,p.z)([this.content$.pipe((0,m.F)(),(0,f.Z)($=>this.translateService.get($))),this.dontParseLinks$.pipe((0,m.F)())]).pipe((0,v.T)(([$,k])=>k?[{text:$}]:this.parseLinks($))),this.shouldShowIcon$=this.contextHelpService.shouldShowIcons$()}set setTooltip($){this.tooltip=$,this.clearSubs(),void 0!==this.tooltip&&(this.subs=[this.contextHelpService.getContextHelp$(this.id).pipe((0,E.Az)()).subscribe(k=>{k.isTooltipVisible&&!this.tooltip.isOpen()?this.tooltip.open():!k.isTooltipVisible&&this.tooltip.isOpen()&&this.tooltip.close()}),this.tooltip.shown.subscribe(()=>{this.contextHelpService.showTooltip(this.id)}),this.tooltip.hidden.subscribe(()=>{this.contextHelpService.hideTooltip(this.id)})])}ngOnDestroy(){this.clearSubs()}onClick(){this.contextHelpService.toggleTooltip(this.id)}parseLinks($){const K=/^\[([^\]]*)\]\(([^\)]*)\)$/;return $.match(/[^\[]+|\[([^\]]*)\]\(([^\)]*)\)/g).map(z=>{const V=z.match(K);return null===V?{text:z}:{href:V[2],text:V[1]}})}clearSubs(){this.subs.forEach($=>$.unsubscribe()),this.subs=[]}static{this.\u0275fac=function(k){return new(k||N)(y.rXU(M.c$),y.rXU(i.O))}}static{this.\u0275cmp=y.VBU({type:N,selectors:[["ds-context-help-wrapper"]],viewQuery:function(k,K){if(1&k&&y.GBs(b,5),2&k){let z;y.mGM(z=y.lsd())&&(K.setTooltip=z.first)}},inputs:{templateRef:"templateRef",id:"id",tooltipPlacement:"tooltipPlacement",iconPlacement:"iconPlacement",dontParseLinks:"dontParseLinks",content:"content"},standalone:!0,features:[y.aNF],decls:5,vars:4,consts:[["help",""],["tooltip","ngbTooltip"],["autoClose","outside","triggers","manual","container","body",3,"ngClass","ngbTooltip","placement"],[4,"ngTemplateOutlet"],[1,"preserve-line-breaks","ds-context-help-content"],["target","_blank","rel","noopener noreferrer",3,"href"],["autoClose","outside","triggers","manual","container","body",3,"click","ngClass","ngbTooltip","placement"]],template:function(k,K){1&k&&(y.DNE(0,S,4,2,"ng-template",null,0,y.C5r)(2,O,2,6,"i",2),y.nI1(3,"async"),y.DNE(4,L,1,0,"ng-container",3)),2&k&&(y.R7$(2),y.vxM(y.bMT(3,2,K.shouldShowIcon$)?2:-1),y.R7$(2),y.Y8G("ngTemplateOutlet",K.templateRef))},dependencies:[t.Jj,c.n8,c.md,t.YU,t.T3],styles:["[_nghost-%COMP%]{position:relative}.ds-context-help-icon[_ngcontent-%COMP%]{position:absolute;top:0;cursor:pointer;color:var(--bs-info);background-color:var(--bs-white);font-size:16px;line-height:1;border-radius:50%}.ds-context-help-icon-left[_ngcontent-%COMP%]{left:var(--ds-context-x-offset)}.ds-context-help-icon-right[_ngcontent-%COMP%]{right:calc(-1 * var(--ds-context-help-icon-size))}  .tooltip-inner{width:var(--ds-context-help-tooltip-width);max-width:var(--ds-context-help-tooltip-width)}  .tooltip-inner a{color:var(--ds-context-help-tooltip-link-color);text-decoration:underline}"]})}}return N})(),x=(()=>{class N{constructor($,k,K){this.templateRef=$,this.viewContainerRef=k,this.contextHelpService=K,this.mostRecentId=void 0}ngOnChanges(){this.clearMostRecentId(),this.mostRecentId=this.dsContextHelp.id,this.contextHelpService.add({id:this.dsContextHelp.id,isTooltipVisible:!1}),void 0===this.wrapper&&(this.wrapper=this.viewContainerRef.createComponent(T)),this.wrapper.setInput("templateRef",this.templateRef),this.wrapper.setInput("content",this.dsContextHelp.content),this.wrapper.setInput("id",this.dsContextHelp.id),this.wrapper.setInput("tooltipPlacement",this.dsContextHelp.tooltipPlacement),this.wrapper.setInput("iconPlacement",this.dsContextHelp.iconPlacement)}ngOnDestroy(){this.clearMostRecentId(),(0,E.a4)(this.wrapper)&&(this.wrapper.destroy(),this.wrapper=void 0)}clearMostRecentId(){void 0!==this.mostRecentId&&this.contextHelpService.remove(this.mostRecentId)}static{this.\u0275fac=function(k){return new(k||N)(y.rXU(y.C4Q),y.rXU(y.c1b),y.rXU(i.O))}}static{this.\u0275dir=y.FsC({type:N,selectors:[["","dsContextHelp",""]],inputs:{dsContextHelp:"dsContextHelp"},standalone:!0,features:[y.OA$]})}}return N})()},16036:(B,C,n)=>{"use strict";n.d(C,{O:()=>E});var i=n(59640),t=n(96354),c=n(1300),e=n(54438);const p=(0,i.UX)("contextHelp"),m=(0,i.Mz)(p,y=>y.allIconsVisible),v=(0,i.Mz)(p,y=>y.models);let E=(()=>{class y{constructor(b){this.store=b}shouldShowIcons$(){return this.store.pipe((0,i.Lt)(m))}getContextHelp$(b){return this.store.pipe((0,i.Lt)((y=>(0,i.Mz)(p,M=>M.models[y]))(b)))}tooltipCount$(){return this.store.pipe((0,i.Lt)(v)).pipe((0,t.T)(b=>Object.keys(b).length))}toggleIcons(){this.store.dispatch(new c.Ln)}add(b){this.store.dispatch(new c.eE(b))}remove(b){this.store.dispatch(new c.Xd(b))}toggleTooltip(b){this.store.dispatch(new c.Ed(b))}showTooltip(b){this.store.dispatch(new c.JD(b))}hideTooltip(b){this.store.dispatch(new c.C(b))}static{this.\u0275fac=function(P){return new(P||y)(e.KVO(i.il))}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},89564:(B,C,n)=>{"use strict";n.d(C,{B:()=>t});var i=n(54438);let t=(()=>{class c{static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275prov=i.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},50813:(B,C,n)=>{"use strict";function i(O){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(O)}function t(O,L){if(L.length<O)throw new TypeError(O+" argument"+(O>1?"s":"")+" required, but only "+L.length+" present")}n.d(C,{Sd:()=>M,$T:()=>I,z5:()=>y,vd:()=>h,PR:()=>P,zX:()=>S});var m=n(56106),f=n(83278),v=n.n(f),E=n(89777);function y(O){return v()(O)&&O.hasOwnProperty("day")&&O.hasOwnProperty("month")&&O.hasOwnProperty("year")}function M(O){const L=O instanceof Date?O:b("string"==typeof O?P(O):O);return(0,m.formatInTimeZone)(L,"UTC","yyyy-MM-dd'T'HH:mm:ss'Z'")}function b(O){return new Date(Date.UTC(O.year,O.month-1,O.day))}function P(O){return function D(O){return(0,E.Tn)(O)&&(O=new Date),{year:O.getUTCFullYear(),month:O.getUTCMonth()+1,day:O.getUTCDate()}}(new Date(O))}function I(O){const L=O instanceof Date?O:b(O);return(0,m.formatInTimeZone)(L,"UTC","yyyy-MM-dd")}function h(O){return!(0,E.Tn)(O)&&function p(O){if(t(1,arguments),!function c(O){return t(1,arguments),O instanceof Date||"object"===i(O)&&"[object Date]"===Object.prototype.toString.call(O)}(O)&&"number"!=typeof O)return!1;var L=function e(O){t(1,arguments);var L=Object.prototype.toString.call(O);return O instanceof Date||"object"===i(O)&&"[object Date]"===L?new Date(O.getTime()):"number"==typeof O||"[object Number]"===L?new Date(O):(("string"==typeof O||"[object String]"===L)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(O);return!isNaN(Number(L))}(new Date(O))}function S(O){return h(O)?new Date(O).getUTCFullYear():null}},44087:(B,C,n)=>{"use strict";n.d(C,{T:()=>M});var i=n(60177),t=n(11873),c=n(15181),e=n(96132),p=n(66372),m=n(73838),f=n(54438),v=n(7901);function E(b,P){1&b&&f.eu8(0)}function y(b,P){if(1&b&&(f.j41(0,"div",1),f.DNE(1,E,1,0,"ng-container",2),f.nI1(2,"async"),f.nI1(3,"async"),f.k0s()),2&b){let D,I;const h=P.$implicit,S=f.XpG();f.R7$(),f.Y8G("ngComponentOutlet",null==(D=f.bMT(2,2,S.sectionMap$).get(h.id))?null:D.component)("ngComponentOutletInjector",null==(I=f.bMT(3,4,S.sectionMap$).get(h.id))?null:I.injector)}}let M=(()=>{class b extends c.Z{constructor(D,I,h,S,O){super(D,I,h,S,O),this.menuService=D,this.injector=I,this.authorizationService=h,this.route=S,this.themeService=O,this.menuID=p.D.DSO_EDIT}static{this.\u0275fac=function(I){return new(I||b)(f.rXU(e.$),f.rXU(f.zZn),f.rXU(t.AuthorizationDataService),f.rXU(v.nX),f.rXU(m.Fs))}}static{this.\u0275cmp=f.VBU({type:b,selectors:[["ds-dso-edit-menu"]],standalone:!0,features:[f.Vt3,f.aNF],decls:4,vars:2,consts:[["role","menubar",1,"dso-edit-menu","d-flex"],[1,"ms-1"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(I,h){1&I&&(f.j41(0,"div",0),f.Z7z(1,y,4,6,"div",1,f.fX1),f.nI1(3,"async"),f.k0s()),2&I&&(f.R7$(),f.Dyx(f.bMT(3,0,h.sections)))},dependencies:[i.Jj,i.OI]})}}return b})()},82418:(B,C,n)=>{"use strict";n.d(C,{Ee:()=>j,el:()=>N,pc:()=>x});var i=n(96697),t=n(11873),c=n(61206),e=n(78130),p=n(4093),m=n(60177),f=n(54438),v=n(89417),E=n(68018),y=n(84412),M=n(15202),b=n(58003);function P($,k){if(1&$){const K=f.RV6();f.j41(0,"div",0),f.EFF(1),f.nI1(2,"translate"),f.j41(3,"button",10),f.bIt("click",function(){f.eBV(K);const V=f.XpG(2);return f.Njj(V.onModalClose())}),f.k0s()()}2&$&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"item.qa.withdrawn.modal.header")," "))}function D($,k){if(1&$){const K=f.RV6();f.j41(0,"div",0),f.EFF(1),f.nI1(2,"translate"),f.j41(3,"button",10),f.bIt("click",function(){f.eBV(K);const V=f.XpG(3);return f.Njj(V.onModalClose())}),f.k0s()()}2&$&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"item.qa.reinstate.modal.header")," "))}function I($,k){if(1&$&&f.DNE(0,D,4,3,"div",0),2&$){const K=f.XpG(2);f.vxM(K.canWithdraw?-1:0)}}function h($,k){if(1&$){const K=f.RV6();f.j41(0,"div"),f.DNE(1,P,4,3,"div",0)(2,I,1,1),f.j41(3,"div",1)(4,"div",2)(5,"label",3),f.EFF(6),f.nI1(7,"translate"),f.nI1(8,"translate"),f.k0s(),f.j41(9,"label",3),f.EFF(10),f.nI1(11,"translate"),f.nI1(12,"translate"),f.k0s(),f.j41(13,"textarea",4),f.nI1(14,"translate"),f.nI1(15,"translate"),f.mxI("ngModelChange",function(V){f.eBV(K);const G=f.XpG();return f.DH7(G.reason,V)||(G.reason=V),f.Njj(V)}),f.k0s()()(),f.j41(16,"div",5)(17,"button",6),f.nI1(18,"translate"),f.bIt("click",function(){f.eBV(K);const V=f.XpG();return f.Njj(V.onModalClose())}),f.nrm(19,"i",7),f.EFF(20),f.nI1(21,"translate"),f.k0s(),f.j41(22,"button",8),f.nI1(23,"translate"),f.bIt("click",function(){f.eBV(K);const V=f.XpG();return f.Njj(V.onModalSubmit())}),f.nrm(24,"i",9),f.EFF(25),f.nI1(26,"translate"),f.nI1(27,"translate"),f.k0s()()()}if(2&$){const K=f.XpG();f.R7$(),f.vxM(K.canWithdraw?1:2),f.R7$(5),f.JRh(K.canWithdraw?f.bMT(7,9,"qa-withdrawn.create.modal.form.summary.label"):f.bMT(8,11,"qa-reinstate.create.modal.form.summary.label")),f.R7$(4),f.JRh(K.canWithdraw?f.bMT(11,13,"qa-withdrawn.create.modal.form.summary2.label"):f.bMT(12,15,"qa-reinstate.create.modal.form.summary2.label")),f.R7$(3),f.FS9("placeholder",K.canWithdraw?f.bMT(14,17,"qa-withdrown.modal.form.summary.placeholder"):f.bMT(15,19,"qa-reinstate.modal.form.summary.placeholder")),f.R50("ngModel",K.reason),f.R7$(4),f.FS9("title",f.bMT(18,21,"item.qa.withdrawn-reinstate.create.modal.button.cancel.tooltip")),f.R7$(3),f.SpI(" ",f.bMT(21,23,"item.qa.withdrawn-reinstate.create.modal.button.cancel")," "),f.R7$(2),f.FS9("title",f.bMT(23,25,"item.qa.withdrawn-reinstate.modal.button.confirm.tooltip")),f.R7$(3),f.SpI(" ",K.canWithdraw?f.bMT(26,27,"qa-withdrown.create.modal.button.confirm"):f.bMT(27,29,"qa-reinstate.create.modal.button.confirm")," ")}}function S($,k){1&$&&(f.j41(0,"div",0),f.EFF(1),f.nI1(2,"translate"),f.k0s(),f.j41(3,"div",1)(4,"div",11),f.nrm(5,"ds-loading",12),f.k0s()()),2&$&&(f.R7$(),f.JRh(f.bMT(2,2,"item.qa.withdrawn.modal.submitted.header")),f.R7$(4),f.Y8G("showMessage",!1))}let O=(()=>{class ${constructor(K,z){this.activeModal=K,this.authorizationService=z,this.submitted$=new y.t(!1),this.createQAEvent=new f.bkB}onModalClose(){this.activeModal.close()}beforeDismiss(){return!this.submitted$.getValue()}onModalSubmit(){this.submitted$.next(!0),this.createQAEvent.emit(this.reason)}setWithdraw(K){this.canWithdraw=K}static{this.\u0275fac=function(z){return new(z||$)(f.rXU(b.Lw),f.rXU(t.AuthorizationDataService))}}static{this.\u0275cmp=f.VBU({type:$,selectors:[["ds-item-withdrawn-reinstate-modal"]],outputs:{createQAEvent:"createQAEvent"},standalone:!0,features:[f.aNF],decls:3,vars:3,consts:[[1,"modal-header"],[1,"modal-body"],[1,"mb-3"],["for","reason"],["id","reason","rows","6","name","message",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"modal-footer","space-children-mr"],["type","button",1,"btn","btn-outline-secondary","btn-sm","ms-0",3,"click","title"],[1,"fas","fa-times","fa-fw"],["type","submit",1,"btn","btn-success","btn-sm","ms-0",3,"click","title"],[1,"fas","fa-check","fa-fw"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"d-flex","justify-content-center"],[3,"showMessage"]],template:function(z,V){1&z&&(f.DNE(0,h,28,31,"div"),f.nI1(1,"async"),f.DNE(2,S,6,4)),2&z&&f.vxM(!0!==f.bMT(1,1,V.submitted$)?0:2)},dependencies:[m.Jj,v.YN,v.me,v.BC,v.vS,M.v,E.h,E.D9]})}}return $})();var L=n(9847),T=n(7901);const x="REQUEST/WITHDRAWN",N="REQUEST/REINSTATE";let j=(()=>{class ${constructor(K,z,V,G,X,Q,ee){this.router=K,this.modalService=z,this.itemService=V,this.notificationsService=G,this.authorizationService=X,this.translateService=Q,this.qaEventDataService=ee}openCreateWithdrawnReinstateModal(K,z,V){const G=K.id,X=this.modalService.open(O);X.componentInstance.setWithdraw(V),X.componentInstance.createQAEvent.pipe((0,i.s)(1)).subscribe(Q=>{this.sendQARequest(G,z,Q),X.close()})}sendQARequest(K,z,V){this.qaEventDataService.postData(K,z,"",V).pipe((0,p.qD)()).subscribe(G=>{G.hasSucceeded?(this.notificationsService.success(this.translateService.get("request-withdrawn"===z?"correction-type.manage-relation.action.notification.withdrawn":"correction-type.manage-relation.action.notification.reinstate")),this.authorizationService.invalidateAuthorizationsRequestCache(),this.reloadPage(!0)):this.notificationsService.error(this.translateService.get("correction-type.manage-relation.action.notification.error"))})}reloadPage(K,z){const V=K?this.router.url:z;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([`/${V}`])})}static{this.\u0275fac=function(z){return new(z||$)(f.KVO(T.Ix),f.KVO(b.Bq),f.KVO(c.ItemDataService),f.KVO(L.I),f.KVO(t.AuthorizationDataService),f.KVO(E.c$),f.KVO(e.QualityAssuranceEventDataService))}}static{this.\u0275prov=f.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})()},4348:(B,C,n)=>{"use strict";n.d(C,{e:()=>z});var i=n(60177),t=n(89417),c=n(68018),e=n(86820),p=n(96354),m=n(43446),f=n(69295),v=n(58956),E=n(25788),y=n(4093),M=n(94314),b=n(89777),P=n(66858),D=n(15202),I=n(9847),h=n(97593),S=n(8447),O=n(4600),L=n(16903),T=n(54438);const x=V=>({type:V}),N=V=>({"bg-primary":V});function j(V,G){if(1&V&&(T.j41(0,"button",7),T.EFF(1),T.nI1(2,"translate"),T.k0s()),2&V){const X=T.XpG(2);T.R7$(),T.SpI(" ",T.i5U(2,1,"dso-selector.no-results",T.eq3(4,x,X.typesString))," ")}}function $(V,G){if(1&V){const X=T.RV6();T.j41(0,"button",9,0),T.bIt("click",function(){const ee=T.eBV(X).$implicit,ie=T.XpG(2);return T.Njj(ie.onClick(ee))}),T.nrm(2,"ds-listable-object-component-loader",10),T.k0s()}if(2&V){const X=G.$implicit,Q=T.XpG(2);T.FS9("title",Q.getName(X)),T.Y8G("ngClass",T.eq3(6,N,X.id===Q.currentDSOId)),T.R7$(2),T.Y8G("object",X)("viewMode",Q.viewMode)("linkType",Q.linkTypes.None)("context",Q.getContext(X.id))}}function k(V,G){if(1&V&&(T.DNE(0,j,3,6,"button",7),T.nI1(1,"async"),T.Z7z(2,$,3,8,"button",8,T.fX1),T.nI1(4,"async")),2&V){const X=T.XpG();T.vxM(0===T.bMT(1,1,X.listEntries$).length?0:-1),T.R7$(2),T.Dyx(T.bMT(4,3,X.listEntries$))}}function K(V,G){1&V&&(T.j41(0,"button",6),T.nI1(1,"translate"),T.nrm(2,"ds-loading",11),T.k0s()),2&V&&(T.FS9("title",T.bMT(1,2,"loading.default")),T.R7$(2),T.Y8G("showMessage",!1))}let z=(()=>{class V extends L.x{constructor(X,Q,ee,ie,te){super(X,ee,ie,te),this.searchService=X,this.collectionDataService=Q,this.notifcationsService=ee,this.translate=ie,this.dsoNameService=te,this.searchHref="findSubmitAuthorized"}getCurrentDSOQuery(){return this.currentDSOId}search(X,Q,ee=!0){let ie=null;const te={currentPage:Q,elementsPerPage:this.defaultPagination.pageSize};return ie=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(X,this.entityType,te):this.collectionDataService.getAuthorizedCollection(X,te,ee,!1,this.searchHref,(0,O.s)("parentCommunity")),ie.pipe((0,y.qD)(),(0,p.T)(he=>Object.assign(new E.j(null,null,null,null),he,{payload:(0,b.a4)(he.payload)?(0,v.g)(he.payload.pageInfo,he.payload.page.map(ye=>Object.assign(new h.A,{indexableObject:ye}))):null})))}static{this.\u0275fac=function(Q){return new(Q||V)(T.rXU(M.S),T.rXU(f.CollectionDataService),T.rXU(I.I),T.rXU(c.c$),T.rXU(m.f))}}static{this.\u0275cmp=T.VBU({type:V,selectors:[["ds-authorized-collection-selector"]],inputs:{entityType:"entityType",searchHref:"searchHref"},standalone:!0,features:[T.Vt3,T.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"mb-3","w-100","pe-2","ps-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"ngClass","title"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[3,"showMessage"]],template:function(Q,ee){1&Q&&(T.j41(0,"div",1)(1,"input",2),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(te){return te.stopPropagation()})("keyup.enter",function(){return ee.selectSingleResult()}),T.k0s()(),T.nrm(4,"div",3),T.j41(5,"div",4)(6,"div",5),T.bIt("scrolled",function(){return ee.onScrollDown()}),T.DNE(7,k,5,5),T.nI1(8,"async"),T.DNE(9,K,3,4,"button",6),T.k0s()()),2&Q&&(T.R7$(),T.FS9("placeholder",T.i5U(2,11,"dso-selector.placeholder",T.eq3(19,x,ee.typesString))),T.Y8G("formControl",ee.input),T.BMQ("aria-label",T.i5U(3,14,"dso-selector.placeholder",T.eq3(21,x,ee.typesString))),T.R7$(4),T.Mz_("id","scrollable-menu-dso-selector-",ee.randomSeed,""),T.R7$(),T.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+ee.randomSeed)("fromRoot",!0),T.R7$(),T.vxM(T.bMT(8,17,ee.listEntries$)?7:-1),T.R7$(2),T.vxM(ee.loading?9:-1))},dependencies:[i.Jj,t.YN,t.me,t.BC,P.k,e.e,e.D,S.v,i.YU,t.X1,t.l_,D.v,c.h,c.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return V})()},92130:(B,C,n)=>{"use strict";n.d(C,{P:()=>z});var i=n(60177),t=n(89417),c=n(68018),e=n(86820),p=n(96354),m=n(43446),f=n(30684),v=n(58956),E=n(25788),y=n(4093),M=n(94314),b=n(89777),P=n(66858),D=n(15202),I=n(9847),h=n(22260),S=n(8447),O=n(4600),L=n(16903),T=n(54438);const x=V=>({type:V}),N=V=>({"bg-primary":V});function j(V,G){if(1&V&&(T.j41(0,"button",7),T.EFF(1),T.nI1(2,"translate"),T.k0s()),2&V){const X=T.XpG(2);T.R7$(),T.SpI(" ",T.i5U(2,1,"dso-selector.no-results",T.eq3(4,x,X.typesString))," ")}}function $(V,G){if(1&V){const X=T.RV6();T.j41(0,"button",9,0),T.bIt("click",function(){const ee=T.eBV(X).$implicit,ie=T.XpG(2);return T.Njj(ie.onClick(ee))}),T.nrm(2,"ds-listable-object-component-loader",10),T.k0s()}if(2&V){const X=G.$implicit,Q=T.XpG(2);T.FS9("title",Q.getName(X)),T.Y8G("ngClass",T.eq3(6,N,X.id===Q.currentDSOId)),T.R7$(2),T.Y8G("object",X)("viewMode",Q.viewMode)("linkType",Q.linkTypes.None)("context",Q.getContext(X.id))}}function k(V,G){if(1&V&&(T.DNE(0,j,3,6,"button",7),T.nI1(1,"async"),T.Z7z(2,$,3,8,"button",8,T.fX1),T.nI1(4,"async")),2&V){const X=T.XpG();T.vxM(0===T.bMT(1,1,X.listEntries$).length?0:-1),T.R7$(2),T.Dyx(T.bMT(4,3,X.listEntries$))}}function K(V,G){1&V&&(T.j41(0,"button",6),T.nI1(1,"translate"),T.nrm(2,"ds-loading",11),T.k0s()),2&V&&(T.FS9("title",T.bMT(1,2,"loading.default")),T.R7$(2),T.Y8G("showMessage",!1))}let z=(()=>{class V extends L.x{constructor(X,Q,ee,ie,te){super(X,ee,ie,te),this.searchService=X,this.communityDataService=Q,this.notifcationsService=ee,this.translate=ie,this.dsoNameService=te}getCurrentDSOQuery(){return this.currentDSOId}search(X,Q,ee=!0){let ie=null;return ie=this.communityDataService.getAuthorizedCommunity(X,{currentPage:Q,elementsPerPage:this.defaultPagination.pageSize},ee,!1,(0,O.s)("parentCommunity")),ie.pipe((0,y.qD)(),(0,p.T)(he=>Object.assign(new E.j(null,null,null,null),he,{payload:(0,b.a4)(he.payload)?(0,v.g)(he.payload.pageInfo,he.payload.page.map(ye=>Object.assign(new h.L,{indexableObject:ye}))):null})))}static{this.\u0275fac=function(Q){return new(Q||V)(T.rXU(M.S),T.rXU(f.CommunityDataService),T.rXU(I.I),T.rXU(c.c$),T.rXU(m.f))}}static{this.\u0275cmp=T.VBU({type:V,selectors:[["ds-authorized-community-selector"]],standalone:!0,features:[T.Vt3,T.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"mb-3","w-100","pe-2","ps-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"ngClass","title"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[3,"showMessage"]],template:function(Q,ee){1&Q&&(T.j41(0,"div",1)(1,"input",2),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(te){return te.stopPropagation()})("keyup.enter",function(){return ee.selectSingleResult()}),T.k0s()(),T.nrm(4,"div",3),T.j41(5,"div",4)(6,"div",5),T.bIt("scrolled",function(){return ee.onScrollDown()}),T.DNE(7,k,5,5),T.nI1(8,"async"),T.DNE(9,K,3,4,"button",6),T.k0s()()),2&Q&&(T.R7$(),T.FS9("placeholder",T.i5U(2,11,"dso-selector.placeholder",T.eq3(19,x,ee.typesString))),T.Y8G("formControl",ee.input),T.BMQ("aria-label",T.i5U(3,14,"dso-selector.placeholder",T.eq3(21,x,ee.typesString))),T.R7$(4),T.Mz_("id","scrollable-menu-dso-selector-",ee.randomSeed,""),T.R7$(),T.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+ee.randomSeed)("fromRoot",!0),T.R7$(),T.vxM(T.bMT(8,17,ee.listEntries$)?7:-1),T.R7$(2),T.vxM(ee.loading?9:-1))},dependencies:[i.Jj,t.YN,t.me,t.BC,P.k,e.e,e.D,S.v,i.YU,t.X1,t.l_,D.v,c.h,c.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return V})()},16903:(B,C,n)=>{"use strict";n.d(C,{x:()=>ce});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),p=n(86820),m=n(84412),f=n(7673),v=n(84572),E=n(70152),y=n(99172),M=n(88141),b=n(25558),P=n(96354),D=n(43446),h=(n(70998),n(58956)),S=n(40940),O=n(4093),L=n(94314),T=n(19192),x=n(89777),N=n(66858),j=n(15202),$=n(95970),k=n(9847),K=n(79669),z=n(8447),V=n(38117),G=n(52467),X=n(30726);const Q=["listEntryElement"],ee=Z=>({type:Z}),ie=Z=>({"bg-primary":Z});function te(Z,ne){if(1&Z&&(t.j41(0,"button",7),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Z){const fe=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(2,1,"dso-selector.no-results",t.eq3(4,ee,fe.typesString))," ")}}function he(Z,ne){if(1&Z){const fe=t.RV6();t.j41(0,"button",9,0),t.bIt("click",function(){const oe=t.eBV(fe).$implicit,J=t.XpG(2);return t.Njj(J.onClick(oe))}),t.nrm(2,"ds-listable-object-component-loader",10),t.k0s()}if(2&Z){const fe=ne.$implicit,ae=t.XpG(2);t.FS9("title",ae.getName(fe)),t.Y8G("ngClass",t.eq3(6,ie,fe.id===ae.currentDSOId)),t.R7$(2),t.Y8G("object",fe)("viewMode",ae.viewMode)("linkType",ae.linkTypes.None)("context",ae.getContext(fe.id))}}function ye(Z,ne){if(1&Z&&(t.DNE(0,te,3,6,"button",7),t.nI1(1,"async"),t.Z7z(2,he,3,8,"button",8,t.fX1),t.nI1(4,"async")),2&Z){const fe=t.XpG();t.vxM(0===t.bMT(1,1,fe.listEntries$).length?0:-1),t.R7$(2),t.Dyx(t.bMT(4,3,fe.listEntries$))}}function re(Z,ne){1&Z&&(t.j41(0,"button",6),t.nI1(1,"translate"),t.nrm(2,"ds-loading",11),t.k0s()),2&Z&&(t.FS9("title",t.bMT(1,2,"loading.default")),t.R7$(2),t.Y8G("showMessage",!1))}let ce=(()=>{class Z{constructor(fe,ae,oe,J){this.searchService=fe,this.notifcationsService=ae,this.translate=oe,this.dsoNameService=J,this.viewMode=T.n.ListElement,this.searchBoxId=null,this.onSelect=new t.bkB,this.input=new c.hs,this.defaultPagination={id:"dso-selector",currentPage:1,pageSize:10},this.listEntries$=new m.t(null),this.currentPage$=new m.t(1),this.hasNextPage=!1,this.loading=!1,this.debounceTime=500,this.linkTypes=K.n,this.subs=[],this.randomSeed=Math.random().toString(36).substring(2,6)}ngOnInit(){let fe;this.typesString=this.types.map(ae=>this.translate.instant(`dso-selector.placeholder.type.${ae.toString().toLowerCase()}`)).join(", "),fe=(0,x.hj)(this.currentDSOId)?this.search(this.getCurrentDSOQuery(),1).pipe((0,O.ak)()):(0,f.of)((0,h.g)(void 0,[])),this.subs.push((0,v.z)(fe,this.input.valueChanges.pipe((0,E.B)(this.debounceTime),(0,y.Z)(""),(0,M.M)(()=>this.currentPage$.next(1))),this.currentPage$).pipe((0,b.n)(([ae,oe,J])=>(this.loading=!0,1===J&&this.listEntries$.next(null),this.search(oe,J).pipe((0,P.T)(ve=>(ve.hasSucceeded?ve.payload.page=[...(0,x.Im)(oe)&&1===J?ae.page:[],...ve.payload.page.filter(_e=>(0,x.hj)(oe)||_e.indexableObject.id!==this.currentDSOId)]:ve.hasFailed&&this.notifcationsService.error(this.translate.instant("dso-selector.error.title",{type:this.typesString}),ve.errorMessage),ve)))))).subscribe(ae=>{this.updateList(ae)}))}updateList(fe){this.loading=!1;const ae=this.listEntries$.getValue();fe.hasSucceeded?((0,x.Tn)(ae)?this.listEntries$.next(fe.payload.page):this.listEntries$.next([...ae,...fe.payload.page]),this.hasNextPage=fe.payload.totalElements>this.listEntries$.getValue().length):(this.listEntries$.next([...(0,x.Tn)(ae)?[]:this.listEntries$.getValue(),new V.t($._.Error,"dso-selector.results-could-not-be-retrieved",G.t.value)]),this.hasNextPage=!1)}getCurrentDSOQuery(){return`search.resourceid:${this.currentDSOId}`}search(fe,ae,oe=!0){const J=fe?null:this.sort;return this.searchService.search(new X.C({query:fe,dsoTypes:this.types,pagination:Object.assign({},this.defaultPagination,{currentPage:ae}),sort:J}),null,oe).pipe((0,O.qD)())}onScrollDown(){this.hasNextPage&&!this.loading&&this.currentPage$.next(this.currentPage$.value+1)}selectSingleResult(){this.listElements.length>0&&this.listElements.first.nativeElement.click()}getContext(fe){return this.context===S.o.ScopeSelectorModal?fe===this.currentDSOId?S.o.ScopeSelectorModalCurrent:S.o.ScopeSelectorModal:fe===this.currentDSOId?S.o.SideBarSearchModalCurrent:S.o.SideBarSearchModal}ngOnDestroy(){this.subs.filter(fe=>(0,x.a4)(fe)).forEach(fe=>fe.unsubscribe())}onClick(fe){(0,x.a4)(fe.indexableObject)?this.onSelect.emit(fe.indexableObject):(this.listEntries$.value.pop(),this.hasNextPage=!0,this.search(this.input.value?this.input.value:"",this.currentPage$.value,!1).pipe((0,O.qD)()).subscribe(ae=>{this.updateList(ae)}))}getName(fe){return(0,x.a4)(fe.indexableObject)?this.dsoNameService.getName(fe.indexableObject):null}static{this.\u0275fac=function(ae){return new(ae||Z)(t.rXU(L.S),t.rXU(k.I),t.rXU(e.c$),t.rXU(D.f))}}static{this.\u0275cmp=t.VBU({type:Z,selectors:[["ds-dso-selector"]],viewQuery:function(ae,oe){if(1&ae&&t.GBs(Q,5),2&ae){let J;t.mGM(J=t.lsd())&&(oe.listElements=J)}},inputs:{context:"context",currentDSOId:"currentDSOId",types:"types",sort:"sort",searchBoxId:"searchBoxId"},outputs:{onSelect:"onSelect"},standalone:!0,features:[t.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"mb-3","w-100","pe-2","ps-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"ngClass","title"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[3,"showMessage"]],template:function(ae,oe){1&ae&&(t.j41(0,"div",1)(1,"input",2),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(ve){return ve.stopPropagation()})("keyup.enter",function(){return oe.selectSingleResult()}),t.k0s()(),t.nrm(4,"div",3),t.j41(5,"div",4)(6,"div",5),t.bIt("scrolled",function(){return oe.onScrollDown()}),t.DNE(7,ye,5,5),t.nI1(8,"async"),t.DNE(9,re,3,4,"button",6),t.k0s()()),2&ae&&(t.R7$(),t.FS9("placeholder",t.i5U(2,11,"dso-selector.placeholder",t.eq3(19,ee,oe.typesString))),t.Y8G("formControl",oe.input),t.BMQ("aria-label",t.i5U(3,14,"dso-selector.placeholder",t.eq3(21,ee,oe.typesString))),t.R7$(4),t.Mz_("id","scrollable-menu-dso-selector-",oe.randomSeed,""),t.R7$(),t.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+oe.randomSeed)("fromRoot",!0),t.R7$(),t.vxM(t.bMT(8,17,oe.listEntries$)?7:-1),t.R7$(2),t.vxM(oe.loading?9:-1))},dependencies:[i.Jj,c.YN,c.me,c.BC,N.k,p.e,p.D,z.v,i.YU,c.X1,c.l_,j.v,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return Z})()},89862:(B,C,n)=>{"use strict";n.r(C),n.d(C,{CreateCollectionParentSelectorComponent:()=>b});var i=n(68018),t=n(78544),c=n(47067),e=n(70998),p=n(93136),m=n(92130),f=n(44905),v=n(54438),E=n(58003),y=n(7901);function M(P,D){if(1&P&&(v.j41(0,"span",3),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&P){const I=v.XpG();v.R7$(),v.JRh(v.bMT(2,1,I.header))}}let b=(()=>{class P extends f.${constructor(I,h,S){super(I,h),this.activeModal=I,this.route=h,this.router=S,this.objectType=p.W.COLLECTION,this.selectorTypes=[p.W.COMMUNITY],this.action=f.u.CREATE,this.header="dso-selector.create.collection.sub-level",this.defaultSort=new e.z(t.c.comcolSelectionSort.sortField,t.c.comcolSelectionSort.sortDirection)}navigate(I){const h={queryParams:{[c.Cb]:I.uuid}};this.router.navigate([(0,c.gH)()],h)}static{this.\u0275fac=function(h){return new(h||P)(v.rXU(E.Lw),v.rXU(y.nX),v.rXU(y.Ix))}}static{this.\u0275cmp=v.VBU({type:P,selectors:[["ds-base-create-collection-parent-selector"]],standalone:!0,features:[v.Vt3,v.aNF],decls:8,vars:6,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types"]],template:function(h,S){1&h&&(v.j41(0,"div")(1,"div",0),v.EFF(2),v.nI1(3,"translate"),v.j41(4,"button",1),v.bIt("click",function(){return S.close()}),v.k0s()(),v.j41(5,"div",2),v.DNE(6,M,3,3,"span",3),v.j41(7,"ds-authorized-community-selector",4),v.bIt("onSelect",function(L){return S.selectObject(L)}),v.k0s()()()),2&h&&(v.R7$(2),v.SpI("",v.bMT(3,4,"dso-selector."+S.action+"."+S.objectType.toString().toLowerCase()+".head")," "),v.R7$(4),v.vxM(S.header?6:-1),v.R7$(),v.Y8G("currentDSOId",null==S.dsoRD?null:S.dsoRD.payload.uuid)("types",S.selectorTypes))},dependencies:[m.P,i.h,i.D9],encapsulation:2})}}return P})()},20258:(B,C,n)=>{"use strict";n.r(C),n.d(C,{CreateCommunityParentSelectorComponent:()=>h});var i=n(60177),t=n(68018),c=n(78544),e=n(39015),p=n(70998),m=n(11873),f=n(6170),v=n(93136),E=n(89777),y=n(92130),M=n(44905),b=n(54438),P=n(58003),D=n(7901);function I(S,O){if(1&S){const L=b.RV6();b.j41(0,"div",3)(1,"button",6),b.bIt("click",function(){b.eBV(L);const x=b.XpG();return b.Njj(x.selectObject(void 0))}),b.EFF(2),b.nI1(3,"translate"),b.k0s(),b.j41(4,"div",7),b.nrm(5,"hr"),b.j41(6,"div",8)(7,"span",9),b.EFF(8),b.nI1(9,"translate"),b.k0s()()()()}2&S&&(b.R7$(2),b.JRh(b.bMT(3,2,"dso-selector.create.community.top-level")),b.R7$(6),b.JRh(b.bMT(9,4,"dso-selector.create.community.or-divider")))}let h=(()=>{class S extends M.${constructor(L,T,x,N){super(L,T),this.activeModal=L,this.route=T,this.router=x,this.authorizationService=N,this.objectType=v.W.COMMUNITY,this.selectorTypes=[v.W.COMMUNITY],this.action=M.u.CREATE,this.defaultSort=new p.z(c.c.comcolSelectionSort.sortField,c.c.comcolSelectionSort.sortDirection)}ngOnInit(){this.isAdmin$=this.authorizationService.isAuthorized(f._.AdministratorOf)}navigate(L){let T={};(0,E.a4)(L)&&(T={queryParams:{[e.f2]:L.uuid}}),this.router.navigate([(0,e.lG)()],T)}static{this.\u0275fac=function(T){return new(T||S)(b.rXU(P.Lw),b.rXU(D.nX),b.rXU(D.Ix),b.rXU(m.AuthorizationDataService))}}static{this.\u0275cmp=b.VBU({type:S,selectors:[["ds-base-create-community-parent-selector"]],standalone:!0,features:[b.Vt3,b.aNF],decls:12,vars:11,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["data-test","admin-div"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types"],[1,"btn","btn-outline-primary","btn-lg","btn-block","w-100",3,"click"],[1,"h3","position-relative","py-1","my-3","fw-normal"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"]],template:function(T,x){1&T&&(b.j41(0,"div")(1,"div",0),b.EFF(2),b.nI1(3,"translate"),b.j41(4,"button",1),b.bIt("click",function(){return x.close()}),b.k0s()(),b.j41(5,"div",2),b.DNE(6,I,10,6,"div",3),b.nI1(7,"async"),b.j41(8,"span",4),b.EFF(9),b.nI1(10,"translate"),b.k0s(),b.j41(11,"ds-authorized-community-selector",5),b.bIt("onSelect",function(j){return x.selectObject(j)}),b.k0s()()()),2&T&&(b.R7$(2),b.SpI("",b.bMT(3,5,"dso-selector."+x.action+"."+x.objectType.toString().toLowerCase()+".head")," "),b.R7$(4),b.vxM(b.bMT(7,7,x.isAdmin$)?6:-1),b.R7$(3),b.JRh(b.bMT(10,9,"dso-selector.create.community.sub-level")),b.R7$(2),b.Y8G("currentDSOId",null==x.dsoRD?null:x.dsoRD.payload.uuid)("types",x.selectorTypes))},dependencies:[i.Jj,y.P,t.h,t.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}}return S})()},9229:(B,C,n)=>{"use strict";n.r(C),n.d(C,{CreateItemParentSelectorComponent:()=>M});var i=n(68018),t=n(78544),c=n(70998),e=n(93136),p=n(4348),m=n(44905),f=n(54438),v=n(58003),E=n(7901);function y(b,P){if(1&b&&(f.j41(0,"span",3),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&b){const D=f.XpG();f.R7$(),f.JRh(f.bMT(2,1,D.header))}}let M=(()=>{class b extends m.${constructor(D,I,h){super(D,I),this.activeModal=D,this.route=I,this.router=h,this.objectType=e.W.ITEM,this.selectorTypes=[e.W.COLLECTION],this.action=m.u.CREATE,this.header="dso-selector.create.item.sub-level",this.defaultSort=new c.z(t.c.comcolSelectionSort.sortField,t.c.comcolSelectionSort.sortDirection)}navigate(D){const I={queryParams:{collection:D.uuid}};this.entityType&&(I.queryParams.entityType=this.entityType),this.router.navigate(["/submit"],I)}static{this.\u0275fac=function(I){return new(I||b)(f.rXU(v.Lw),f.rXU(E.nX),f.rXU(E.Ix))}}static{this.\u0275cmp=f.VBU({type:b,selectors:[["ds-base-create-item-parent-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[f.Vt3,f.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","entityType","types"]],template:function(I,h){1&I&&(f.j41(0,"div")(1,"div",0),f.EFF(2),f.nI1(3,"translate"),f.j41(4,"button",1),f.bIt("click",function(){return h.close()}),f.k0s()(),f.j41(5,"div",2),f.DNE(6,y,3,3,"span",3),f.j41(7,"ds-authorized-collection-selector",4),f.bIt("onSelect",function(O){return h.selectObject(O)}),f.k0s()()()),2&I&&(f.R7$(2),f.SpI("",f.bMT(3,5,"dso-selector."+h.action+"."+h.objectType.toString().toLowerCase()+".head")," "),f.R7$(4),f.vxM(h.header?6:-1),f.R7$(),f.Y8G("currentDSOId",null==h.dsoRD?null:h.dsoRD.payload.uuid)("entityType",h.entityType)("types",h.selectorTypes))},dependencies:[p.e,i.h,i.D9],encapsulation:2})}}return b})()},39334:(B,C,n)=>{"use strict";n.d(C,{L:()=>f});var i=n(54438),t=n(29710);n(25788),n(9229);const p=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.select=new i.bkB,this.inAndOutputNames=["dsoRD","emitOnly","header","entityType","select"]}getComponentName(){return"CreateItemParentSelectorComponent"}importThemedComponent(y){return n(25074)(`./${y}/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,9229))}static{this.\u0275fac=(()=>{let y;return function(b){return(y||(y=i.xGo(v)))(b||v)}})()}static{this.\u0275cmp=i.VBU({type:v,selectors:[["ds-create-item-parent-selector"]],inputs:{dsoRD:"dsoRD",emitOnly:"emitOnly",header:"header",entityType:"entityType"},outputs:{select:"select"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(M,b){1&M&&(i.NAR(),i.DNE(0,m,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return v})()},44905:(B,C,n)=>{"use strict";n.d(C,{$:()=>f,u:()=>m});var i=n(54438),c=(n(25788),n(89777)),e=n(58003),p=n(7901),m=function(v){return v.CREATE="create",v.EDIT="edit",v.EXPORT_METADATA="export-metadata",v.IMPORT_BATCH="import-batch",v.SET_SCOPE="set-scope",v.EXPORT_BATCH="export-batch",v}(m||{});let f=(()=>{class v{constructor(y,M){this.activeModal=y,this.route=M,this.emitOnly=!1,this.select=new i.bkB}ngOnInit(){const y=this.findRouteData(M=>(0,c.a4)(M.data.dso),this.route.root.snapshot);(0,c.a4)(y)&&(this.dsoRD=y.data.dso)}findRouteData(y,...M){const b=M.find(y);if((0,c.a4)(b))return b;{const P=M.map(D=>D.children).reduce((D,I)=>[...D,...I]);return(0,c.hj)(P)?this.findRouteData(y,...P):void 0}}selectObject(y){this.close(),this.emitOnly?this.select.emit(y):this.navigate(y)}close(){this.activeModal.close()}static{this.\u0275fac=function(M){return new(M||v)(i.rXU(e.Lw),i.rXU(p.nX))}}static{this.\u0275cmp=i.VBU({type:v,selectors:[["ds-dso-selector-modal"]],inputs:{dsoRD:"dsoRD",emitOnly:"emitOnly",header:"header"},outputs:{select:"select"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(M,b){},encapsulation:2})}}return v})()},6138:(B,C,n)=>{"use strict";n.r(C),n.d(C,{EditCollectionSelectorComponent:()=>b});var i=n(68018),t=n(78544),c=n(47067),e=n(70998),p=n(93136),m=n(4348),f=n(44905),v=n(54438),E=n(58003),y=n(7901);function M(P,D){if(1&P&&(v.j41(0,"span",3),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&P){const I=v.XpG();v.R7$(),v.JRh(v.bMT(2,1,I.header))}}let b=(()=>{class P extends f.${constructor(I,h,S){super(I,h),this.activeModal=I,this.route=h,this.router=S,this.objectType=p.W.COLLECTION,this.selectorTypes=[p.W.COLLECTION],this.action=f.u.EDIT,this.defaultSort=new e.z(t.c.comcolSelectionSort.sortField,t.c.comcolSelectionSort.sortDirection)}navigate(I){this.router.navigate([(0,c._E)(I.uuid)])}static{this.\u0275fac=function(h){return new(h||P)(v.rXU(E.Lw),v.rXU(y.nX),v.rXU(y.Ix))}}static{this.\u0275cmp=v.VBU({type:P,selectors:[["ds-base-edit-collection-selector"]],standalone:!0,features:[v.Vt3,v.aNF],decls:8,vars:6,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],["searchHref","findAdminAuthorized",3,"onSelect","currentDSOId","types"]],template:function(h,S){1&h&&(v.j41(0,"div")(1,"div",0),v.EFF(2),v.nI1(3,"translate"),v.j41(4,"button",1),v.bIt("click",function(){return S.close()}),v.k0s()(),v.j41(5,"div",2),v.DNE(6,M,3,3,"span",3),v.j41(7,"ds-authorized-collection-selector",4),v.bIt("onSelect",function(L){return S.selectObject(L)}),v.k0s()()()),2&h&&(v.R7$(2),v.SpI("",v.bMT(3,4,"dso-selector."+S.action+"."+S.objectType.toString().toLowerCase()+".head")," "),v.R7$(4),v.vxM(S.header?6:-1),v.R7$(),v.Y8G("currentDSOId",null==S.dsoRD?null:S.dsoRD.payload.uuid)("types",S.selectorTypes))},dependencies:[m.e,i.h,i.D9],encapsulation:2})}}return P})()},64134:(B,C,n)=>{"use strict";n.r(C),n.d(C,{EditCommunitySelectorComponent:()=>b});var i=n(68018),t=n(78544),c=n(39015),e=n(70998),p=n(93136),m=n(92130),f=n(44905),v=n(54438),E=n(58003),y=n(7901);function M(P,D){if(1&P&&(v.j41(0,"span",3),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&P){const I=v.XpG();v.R7$(),v.JRh(v.bMT(2,1,I.header))}}let b=(()=>{class P extends f.${constructor(I,h,S){super(I,h),this.activeModal=I,this.route=h,this.router=S,this.objectType=p.W.COMMUNITY,this.selectorTypes=[p.W.COMMUNITY],this.action=f.u.EDIT,this.defaultSort=new e.z(t.c.comcolSelectionSort.sortField,t.c.comcolSelectionSort.sortDirection)}navigate(I){this.router.navigate([(0,c.pk)(I.uuid)])}static{this.\u0275fac=function(h){return new(h||P)(v.rXU(E.Lw),v.rXU(y.nX),v.rXU(y.Ix))}}static{this.\u0275cmp=v.VBU({type:P,selectors:[["ds-base-edit-community-selector"]],standalone:!0,features:[v.Vt3,v.aNF],decls:8,vars:6,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types"]],template:function(h,S){1&h&&(v.j41(0,"div")(1,"div",0),v.EFF(2),v.nI1(3,"translate"),v.j41(4,"button",1),v.bIt("click",function(){return S.close()}),v.k0s()(),v.j41(5,"div",2),v.DNE(6,M,3,3,"span",3),v.j41(7,"ds-authorized-community-selector",4),v.bIt("onSelect",function(L){return S.selectObject(L)}),v.k0s()()()),2&h&&(v.R7$(2),v.SpI("",v.bMT(3,4,"dso-selector."+S.action+"."+S.objectType.toString().toLowerCase()+".head")," "),v.R7$(4),v.vxM(S.header?6:-1),v.R7$(),v.Y8G("currentDSOId",null==S.dsoRD?null:S.dsoRD.payload.uuid)("types",S.selectorTypes))},dependencies:[m.P,i.h,i.D9],encapsulation:2})}}return P})()},52684:(B,C,n)=>{"use strict";n.r(C),n.d(C,{EditItemSelectorComponent:()=>y});var i=n(68018),t=n(93136),c=n(92767),e=n(16903),p=n(44905),m=n(54438),f=n(58003),v=n(7901);function E(M,b){if(1&M&&(m.j41(0,"span",3),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&M){const P=m.XpG();m.R7$(),m.JRh(m.bMT(2,1,P.header))}}let y=(()=>{class M extends p.${constructor(P,D,I){super(P,D),this.activeModal=P,this.route=D,this.router=I,this.objectType=t.W.ITEM,this.selectorTypes=[t.W.ITEM],this.action=p.u.EDIT}navigate(P){this.router.navigate([(0,c.$r)(P)])}static{this.\u0275fac=function(D){return new(D||M)(m.rXU(f.Lw),m.rXU(v.nX),m.rXU(v.Ix))}}static{this.\u0275cmp=m.VBU({type:M,selectors:[["ds-base-edit-item-selector"]],standalone:!0,features:[m.Vt3,m.aNF],decls:8,vars:6,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types"]],template:function(D,I){1&D&&(m.j41(0,"div")(1,"div",0),m.EFF(2),m.nI1(3,"translate"),m.j41(4,"button",1),m.bIt("click",function(){return I.close()}),m.k0s()(),m.j41(5,"div",2),m.DNE(6,E,3,3,"span",3),m.j41(7,"ds-dso-selector",4),m.bIt("onSelect",function(S){return I.selectObject(S)}),m.k0s()()()),2&D&&(m.R7$(2),m.SpI("",m.bMT(3,4,"dso-selector."+I.action+"."+I.objectType.toString().toLowerCase()+".head")," "),m.R7$(4),m.vxM(I.header?6:-1),m.R7$(),m.Y8G("currentDSOId",null==I.dsoRD?null:I.dsoRD.payload.uuid)("types",I.selectorTypes))},dependencies:[e.x,i.h,i.D9],encapsulation:2})}}return M})()},89777:(B,C,n)=>{"use strict";n.d(C,{Az:()=>v,EA:()=>p,Im:()=>E,Pe:()=>c,Tn:()=>m,VT:()=>M,a4:()=>f,b0:()=>e,hj:()=>y,kZ:()=>t});var i=n(5964);function t(D){return null===D}function c(D){return null!==D}function e(D){return void 0===D}function p(D){return void 0!==D}function m(D){return e(D)||t(D)}function f(D){return p(D)&&c(D)}const v=()=>D=>D.pipe((0,i.p)(I=>f(I)));function E(D){if(m(D))return!0;if("number"==typeof D.size)return!D.size;const I=typeof D;if("object"===I){const h=D.size;if("number"==typeof h)return!h}if("number"==typeof D.length&&"function"!==I)return!D.length;if("object"===I){if(0===Object.keys(D).length)return!0;const h=D.length;if("number"==typeof h)return!h}return!1}function y(D){return!E(D)}const M=()=>D=>D.pipe((0,i.p)(I=>y(I)))},11588:(B,C,n)=>{"use strict";n.d(C,{Y:()=>h});var i=n(60177),t=n(54438),c=n(68018),e=n(86820),p=n(84412),m=n(25558),f=n(19852),v=n(99172),E=n(67685),y=n(4093),M=n(89777),b=n(15202);function P(S,O){1&S&&(t.j41(0,"li")(1,"button",2),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&S&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"submission.sections.general.no-entity")," "))}function D(S,O){if(1&S){const L=t.RV6();t.j41(0,"li",1)(1,"button",3),t.bIt("click",function(){const x=t.eBV(L).$implicit,N=t.XpG();return t.Njj(N.onSelect(x))}),t.j41(2,"ul",4)(3,"li",5),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()()}if(2&S){const L=O.$implicit;t.R7$(),t.FS9("title",L.label),t.R7$(3),t.JRh(t.bMT(5,2,L.label.toLowerCase()+".listelement.badge"))}}function I(S,O){1&S&&(t.j41(0,"li")(1,"button",2),t.nrm(2,"ds-loading",6),t.nI1(3,"translate"),t.k0s()()),2&S&&(t.R7$(2),t.FS9("message",t.bMT(3,1,"loading.default")))}let h=(()=>{class S{constructor(L,T,x){this.changeDetectorRef=L,this.entityTypeService=T,this.el=x,this.scrollableBottom=!1,this.scrollableTop=!1,this.searchListEntity=[],this.selectionChange=new t.bkB,this.isLoadingList=new p.t(!1),this.subs=[]}onMousewheel(L){L.wheelDelta>0&&this.scrollableTop&&L.preventDefault(),L.wheelDelta<0&&this.scrollableBottom&&L.preventDefault()}ngOnInit(){this.resetPagination(),this.populateEntityList(this.currentPage)}onScroll(L){this.scrollableBottom=L.target.scrollTop+L.target.clientHeight===L.target.scrollHeight,this.scrollableTop=0===L.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateEntityList(++this.currentPage)}onSelect(L){this.selectionChange.emit(L)}populateEntityList(L){this.isLoadingList.next(!0);const T={elementsPerPage:10,currentPage:L};let x;x=this.isSubmission?this.entityTypeService.getAllAuthorizedRelationshipType(T):this.entityTypeService.getAllAuthorizedRelationshipTypeImport(T),this.searchListEntity$=x.pipe((0,y.o5)(),(0,m.n)(N=>(this.searchListEntity.length+T.elementsPerPage>=N.payload.totalElements&&(this.hasNextPage=!1),N.payload.page)),(0,f.T)((N,j)=>[...N,j],[]),(0,v.Z)([])),this.subs.push(this.searchListEntity$.subscribe(N=>{this.searchListEntity.push(...N)},void 0,()=>{this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}resetPagination(){this.currentPage=1,this.hasNextPage=!0,this.searchListEntity=[]}hideShowLoader(L){this.isLoadingList.next(L)}ngOnDestroy(){this.subs.filter(L=>(0,M.a4)(L)).forEach(L=>L.unsubscribe())}static{this.\u0275fac=function(T){return new(T||S)(t.rXU(t.gRc),t.rXU(E.f),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:S,selectors:[["ds-entity-dropdown"]],hostBindings:function(T,x){1&T&&t.bIt("mousewheel",function(j){return x.onMousewheel(j)})},inputs:{isSubmission:"isSubmission"},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[t.aNF],decls:7,vars:11,consts:[["role","menu","infiniteScroll","",1,"scrollable-menu","list-unstyled","mb-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],[1,"entity-item","text-primary"],["role","menuitem",1,"dropdown-item","disabled"],["role","menuitem",1,"dropdown-item",3,"click","title"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","fw-bold"],[3,"message"]],template:function(T,x){1&T&&(t.j41(0,"ul",0),t.bIt("scroll",function(j){return x.onScroll(j)})("scrolled",function(){return x.onScrollDown()}),t.DNE(1,P,4,3,"li"),t.nI1(2,"async"),t.Z7z(3,D,6,4,"li",1,t.fX1),t.DNE(5,I,4,3,"li"),t.nI1(6,"async"),t.k0s()),2&T&&(t.Y8G("infiniteScrollDistance",5)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.R7$(),t.vxM(0===(null==x.searchListEntity?null:x.searchListEntity.length)&&!0!==t.bMT(2,7,x.isLoadingList)?1:-1),t.R7$(2),t.Dyx(x.searchListEntity),t.R7$(2),t.vxM(t.bMT(6,9,x.isLoadingList)?5:-1))},dependencies:[i.Jj,e.e,e.D,b.v,c.h,c.D9],styles:[".dropdown-item[_ngcontent-%COMP%]{padding:.35rem 1rem}.dropdown-item[_ngcontent-%COMP%]:active{color:#fff!important}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type)   .dropdown-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#entityControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return S})()},80094:(B,C,n)=>{"use strict";n.d(C,{T:()=>z});var i=n(60177),t=n(54438),c=n(68018),e=n(59519),p=n.n(e),m=n(84412),f=n(25558),v=n(79096),E=n(43446),y=n(36343),M=n(70963),b=n(59922),P=n(44583),D=n(31),I=n(4093),h=n(2180),S=n(2175),O=n(8417),L=n(89417),T=n(89777);let x=(()=>{class V{constructor(X){this.formBuilder=X,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new t.bkB,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}reset(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}submit(X){const Q={scope:(0,T.Pe)(X)?X.scope:"metadata",query:(0,T.Pe)(X)?X.query:""};this.search.emit(Q)}static{this.\u0275fac=function(Q){return new(Q||V)(t.rXU(L.ze))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},standalone:!0,features:[t.aNF],decls:20,vars:13,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-select"],["value","metadata"],["value","email"],[1,"flex-grow-1","me-3","ms-3"],[1,"mb-3","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(Q,ee){1&Q&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(te){return ee.submit(ee.searchForm.value),te.stopImmediatePropagation()}),t.j41(1,"div")(2,"select",1)(3,"option",2),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"option",3),t.EFF(7),t.nI1(8,"translate"),t.k0s()()(),t.j41(9,"div",4)(10,"div",5),t.nrm(11,"input",6),t.j41(12,"button",7),t.nrm(13,"i",8),t.EFF(14),t.nI1(15,"translate"),t.k0s()()(),t.j41(16,"div")(17,"button",9),t.bIt("click",function(){return ee.submit(null),ee.reset()}),t.EFF(18),t.nI1(19,"translate"),t.k0s()()()),2&Q&&(t.Y8G("formGroup",ee.searchForm),t.R7$(4),t.JRh(t.bMT(5,5,ee.labelPrefix+"search.scope.metadata")),t.R7$(3),t.JRh(t.bMT(8,7,ee.labelPrefix+"search.scope.email")),t.R7$(7),t.SpI(" ",t.bMT(15,9,ee.labelPrefix+"search.button")," "),t.R7$(4),t.SpI(" ",t.bMT(19,11,ee.labelPrefix+"button.see-all")," "))},dependencies:[L.YN,L.qT,L.xH,L.y7,L.me,L.wz,L.BC,L.cb,L.X1,L.j4,L.JD,c.h,c.D9],encapsulation:2})}}return V})(),N=(()=>{class V{constructor(X){this.formBuilder=X,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new t.bkB,this.searchForm=this.formBuilder.group({query:""})}reset(){this.searchForm=this.formBuilder.group({query:""})}submit(X){const Q={scope:"",query:(0,T.Pe)(X)?X.query:""};this.search.emit(Q)}static{this.\u0275fac=function(Q){return new(Q||V)(t.rXU(L.ze))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-group-search-box"]],outputs:{search:"search"},standalone:!0,features:[t.aNF],decls:12,vars:7,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","me-3"],[1,"mb-3","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(Q,ee){1&Q&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(te){return ee.submit(ee.searchForm.value),te.stopImmediatePropagation()}),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"input",3),t.j41(4,"button",4),t.nrm(5,"i",5),t.EFF(6),t.nI1(7,"translate"),t.k0s()()(),t.j41(8,"div")(9,"button",6),t.bIt("click",function(){return ee.submit(null),ee.reset()}),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&Q&&(t.Y8G("formGroup",ee.searchForm),t.R7$(6),t.SpI(" ",t.bMT(7,3,ee.labelPrefix+"search.button")," "),t.R7$(4),t.SpI(" ",t.bMT(11,5,ee.labelPrefix+"button.see-all")," "))},dependencies:[L.YN,L.qT,L.me,L.BC,L.cb,L.X1,L.j4,L.JD,c.h,c.D9],encapsulation:2})}}return V})();function j(V,G){if(1&V){const X=t.RV6();t.j41(0,"ds-eperson-search-box",2),t.bIt("search",function(ee){t.eBV(X);const ie=t.XpG();return t.Njj(ie.onSearch(ee))}),t.k0s()}}function $(V,G){if(1&V){const X=t.RV6();t.j41(0,"ds-group-search-box",2),t.bIt("search",function(ee){t.eBV(X);const ie=t.XpG();return t.Njj(ie.onSearch(ee))}),t.k0s()}}function k(V,G){if(1&V){const X=t.RV6();t.j41(0,"tr"),t.nI1(1,"async"),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td",5)(7,"button",7),t.bIt("click",function(){const ee=t.eBV(X).$implicit,ie=t.XpG(2);return t.Njj(ie.emitSelect(ee))}),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()}if(2&V){const X=G.$implicit,Q=t.XpG(2);t.AVh("table-primary",t.bMT(1,5,Q.entrySelectedId$)===X.id),t.R7$(3),t.JRh(X.id),t.R7$(2),t.JRh(Q.dsoNameService.getName(X)),t.R7$(3),t.SpI(" ",t.bMT(9,7,"resource-policies.form.eperson-group-list.select.btn")," ")}}function K(V,G){if(1&V&&(t.j41(0,"ds-pagination",1)(1,"div",3)(2,"table",4)(3,"thead")(4,"tr",5)(5,"th"),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"th"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"th"),t.EFF(12),t.nI1(13,"translate"),t.k0s()()(),t.j41(14,"tbody"),t.Z7z(15,k,10,9,"tr",6,t.fX1),t.k0s()()()()),2&V){const X=t.XpG(),Q=t.r8f(3);t.Y8G("paginationOptions",X.paginationOptions)("collectionSize",Q.totalElements)("retainScrollPosition",!0)("hideGear",!0),t.R7$(6),t.JRh(t.bMT(7,7,"resource-policies.form.eperson-group-list.table.headers.id")),t.R7$(3),t.JRh(t.bMT(10,9,"resource-policies.form.eperson-group-list.table.headers.name")),t.R7$(3),t.JRh(t.bMT(13,11,"resource-policies.form.eperson-group-list.table.headers.action")),t.R7$(3),t.Dyx(Q.page)}}let z=(()=>{class V{constructor(X,Q,ee,ie){this.dsoNameService=X,this.parentInjector=Q,this.paginationService=ee,this.dataServiceMap=ie,this.isListOfEPerson=!0,this.select=new t.bkB,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new O.W,this.entrySelectedId$=new m.t("")}ngOnInit(){(0,P.M)(this.dataServiceMap,(this.isListOfEPerson?M.N:b.U).value,this.parentInjector).subscribe(ee=>{this.dataService=ee,this.paginationOptions.id=p()("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId$.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)})}emitSelect(X){this.select.emit(X),this.entrySelectedId$.next(X.id)}onSearch(X){this.currentSearchQuery=X.query,this.currentSearchScope=X.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}updateList(X,Q){this.list$=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).pipe((0,f.n)(ee=>{const ie=Object.assign(new y._,{elementsPerPage:ee.pageSize,currentPage:ee.currentPage});return this.isListOfEPerson?this.dataService.searchByScope(X,Q,ie):this.dataService.searchGroups(Q,ie)}),(0,I.bD)(),(0,I.Bo)())}ngOnDestroy(){this.paginationService.clearPagination(this.paginationOptions.id)}static{this.\u0275fac=function(Q){return new(Q||V)(t.rXU(E.f),t.rXU(t.zZn),t.rXU(D.m),t.rXU(v.l9))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},standalone:!0,features:[t.aNF],decls:6,vars:6,consts:[[1,"mt-3"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[3,"search"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(Q,ee){if(1&Q&&(t.j41(0,"div",0),t.DNE(1,j,1,0,"ds-eperson-search-box")(2,$,1,0,"ds-group-search-box"),t.SS7(3),t.nI1(4,"async"),t.DNE(5,K,17,13,"ds-pagination",1),t.k0s()),2&Q){t.Y8G("@fadeInOut",void 0),t.R7$(),t.vxM(ee.isListOfEPerson?1:2),t.R7$(2);const ie=t.bH3(t.bMT(4,3,ee.list$));t.R7$(2),t.vxM(ie&&ie.totalElements>0?5:-1)}},dependencies:[i.Jj,x,N,S.e,c.h,c.D9],data:{animation:[h.Ws]}})}}return V})()},14744:(B,C,n)=>{"use strict";n.d(C,{A:()=>p});var i=n(64972),t=n(74082),c=n(54438),e=n(68018);let p=(()=>{class m{constructor(v){this.translate=v,this.message="Error...",this.AlertTypeEnum=t.v}ngOnInit(){void 0===this.message&&(this.subscription=this.translate.get("error.default").subscribe(v=>{this.message=v}))}ngOnDestroy(){void 0!==this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(E){return new(E||m)(c.rXU(e.c$))}}static{this.\u0275cmp=c.VBU({type:m,selectors:[["ds-error"]],inputs:{message:"message"},standalone:!0,features:[c.aNF],decls:2,vars:3,consts:[[3,"type","dismissible"],[3,"innerHTML"]],template:function(E,y){1&E&&(c.j41(0,"ds-alert",0),c.nrm(1,"span",1),c.k0s()),2&E&&(c.Y8G("type",y.AlertTypeEnum.Error)("dismissible",!1),c.R7$(),c.Y8G("innerHTML",y.message,c.npT))},dependencies:[i.C]})}}return m})()},23378:(B,C,n)=>{"use strict";n.r(C),n.d(C,{FileDownloadLinkComponent:()=>j});var i=n(60177),t=n(7901),c=n(68018),e=n(7673),p=n(84572),m=n(96354),f=n(15343),v=n(43446),E=n(11873),y=n(6170),P=(n(21832),n(15862),n(89777)),D=n(78584),I=n(54438);const h=["*"];function S($,k){if(1&$&&I.nrm(0,"ds-access-status-badge",1),2&$){const K=I.XpG();I.Y8G("object",K.bitstream)}}function O($,k){1&$&&(I.j41(0,"span",3),I.nI1(1,"translate"),I.nI1(2,"translate"),I.nrm(3,"i",7),I.k0s()),2&$&&(I.Y8G("title",I.bMT(1,2,"file-download-link.restricted")),I.BMQ("aria-label",I.bMT(2,4,"file-download-link.restricted")))}function L($,k){1&$&&(I.j41(0,"span",4),I.nI1(1,"translate"),I.nI1(2,"translate"),I.nrm(3,"i",8),I.k0s()),2&$&&(I.Y8G("title",I.bMT(1,2,"file-download-link.secure-access")),I.BMQ("aria-label",I.bMT(2,4,"file-download-link.secure-access")))}function T($,k){1&$&&I.nrm(0,"i",5)}function x($,k){1&$&&I.eu8(0)}function N($,k){1&$&&I.SdG(0)}let j=(()=>{class ${constructor(K,z,V,G){this.authorizationService=K,this.dsoNameService=z,this.route=V,this.translateService=G,this.cssClasses="",this.isBlank=!1,this.enableRequestACopy=!0,this.showAccessStatusBadge=!0,this.showIcon=!1}ngOnInit(){this.enableRequestACopy?(this.itemRequest=this.route.snapshot.data.itemRequest,this.canDownload$=this.authorizationService.isAuthorized(y._.CanDownload,(0,P.hj)(this.bitstream)?this.bitstream.self:void 0),this.canDownloadWithToken$=(0,e.of)(!(!this.itemRequest||!this.itemRequest.acceptRequest||this.itemRequest.accessExpired||!1===this.itemRequest.allfiles&&this.itemRequest.bitstreamId!==this.bitstream.uuid)),this.canRequestACopy$=this.authorizationService.isAuthorized(y._.CanRequestACopy,(0,P.hj)(this.bitstream)?this.bitstream.self:void 0),this.bitstreamPath$=(0,p.z)([this.canDownload$,this.canDownloadWithToken$,this.canRequestACopy$]).pipe((0,m.T)(([K,z,V])=>this.getBitstreamPath(K,z,V)))):(this.bitstreamPath$=(0,e.of)(this.getBitstreamDownloadPath()),this.canDownload$=(0,e.of)(!0))}getBitstreamPath(K,z,V){return K?this.getBitstreamDownloadPath():z?this.getAccessByTokenBitstreamPath(this.itemRequest):!K&&V&&(0,P.a4)(this.item)?(0,f.ET)(this.item,this.bitstream):this.getBitstreamDownloadPath()}getAccessByTokenBitstreamPath(K){return(0,f.uz)(this.bitstream,K.accessToken)}getBitstreamDownloadPath(){return{routerLink:(0,f.hV)(this.bitstream),queryParams:{}}}getDownloadLinkTitle(K,z,V){return this.translateService.instant(K||z?"file-download-link.download":"file-download-link.request-copy")+V}static{this.\u0275fac=function(z){return new(z||$)(I.rXU(E.AuthorizationDataService),I.rXU(v.f),I.rXU(t.nX),I.rXU(c.c$))}}static{this.\u0275cmp=I.VBU({type:$,selectors:[["ds-base-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy",showAccessStatusBadge:"showAccessStatusBadge",showIcon:"showIcon"},standalone:!0,features:[I.aNF],ngContentSelectors:h,decls:18,vars:29,consts:[["content",""],[3,"object"],["role","link","tabindex","0",1,"d-block","dont-break-out","mb-1",3,"routerLink","queryParams","target","ngClass","title"],["role","img",1,"pe-1",3,"title"],["role","img",1,"pe-1","request-a-copy-access-icon",3,"title"],[1,"fas","fa-download","d-inline"],[4,"ngTemplateOutlet"],[1,"fas","fa-lock"],[1,"fa-solid","fa-lock-open"]],template:function(z,V){if(1&z&&(I.NAR(),I.DNE(0,S,1,1,"ds-access-status-badge",1),I.j41(1,"a",2),I.nI1(2,"async"),I.nI1(3,"async"),I.nI1(4,"async"),I.nI1(5,"async"),I.nI1(6,"async"),I.nI1(7,"async"),I.DNE(8,O,4,6,"span",3),I.nI1(9,"async"),I.nI1(10,"async"),I.nI1(11,"async"),I.nI1(12,"async"),I.DNE(13,L,4,6,"span",4)(14,T,1,0,"i",5)(15,x,1,0,"ng-container",6),I.k0s(),I.DNE(16,N,1,0,"ng-template",null,0,I.C5r)),2&z){let G,X;const Q=I.sdS(17);I.vxM(V.showAccessStatusBadge?0:-1),I.R7$(),I.Y8G("routerLink",null==(G=I.bMT(2,9,V.bitstreamPath$))?null:G.routerLink)("queryParams",null==(X=I.bMT(3,11,V.bitstreamPath$))?null:X.queryParams)("target",V.isBlank?"_blank":"_self")("ngClass",V.cssClasses)("title",V.getDownloadLinkTitle(I.bMT(4,13,V.canDownload$),I.bMT(5,15,V.canDownloadWithToken$),V.dsoNameService.getName(V.bitstream))),I.BMQ("aria-label",V.getDownloadLinkTitle(I.bMT(6,17,V.canDownload$),I.bMT(7,19,V.canDownloadWithToken$),V.dsoNameService.getName(V.bitstream))),I.R7$(7),I.vxM(!1===I.bMT(9,21,V.canDownload$)&&!1===I.bMT(10,23,V.canDownloadWithToken$)?8:I.bMT(11,25,V.canDownloadWithToken$)&&!1===I.bMT(12,27,V.canDownload$)?13:V.showIcon?14:-1),I.R7$(7),I.Y8G("ngTemplateOutlet",Q)}},dependencies:[i.Jj,i.YU,i.T3,t.Wk,D.I,c.h,c.D9],styles:[".request-a-copy-access-icon[_ngcontent-%COMP%]{color:var(--bs-success)}.btn-download[_ngcontent-%COMP%]{width:fit-content}"]})}}return $})()},96044:(B,C,n)=>{"use strict";n.d(C,{z:()=>v}),n(21832),n(15862);var c=n(29710),p=(n(23378),n(54438));const m=["*"];function f(E,y){}let v=(()=>{class E extends c.J{constructor(){super(...arguments),this.inAndOutputNames=["bitstream","item","cssClasses","isBlank","enableRequestACopy","showAccessStatusBadge","showIcon"]}getComponentName(){return"FileDownloadLinkComponent"}importThemedComponent(M){return n(72834)(`./${M}/app/shared/file-download-link/file-download-link.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,23378))}static{this.\u0275fac=(()=>{let M;return function(P){return(M||(M=p.xGo(E)))(P||E)}})()}static{this.\u0275cmp=p.VBU({type:E,selectors:[["ds-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy",showAccessStatusBadge:"showAccessStatusBadge",showIcon:"showIcon"},standalone:!0,features:[p.Vt3,p.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,P){1&b&&(p.NAR(),p.DNE(0,f,0,0,"ng-template",null,0,p.C5r),p.j41(2,"div",null,1),p.SdG(4),p.k0s())},encapsulation:2})}}return E})()},11275:(B,C,n)=>{"use strict";n.d(C,{N:()=>t,T:()=>i});const i="RELATION",t="#PLACEHOLDER_PARENT_METADATA_VALUE#"},53195:(B,C,n)=>{"use strict";n.d(C,{_:()=>sn});var i=n(60177),t=n(54438),c=n(89417),e=n(58003),p=n(1473),m=n(68018),f=n(84572),v=n(47677),E=n(25558),y=n(96697),M=n(96354),b=n(99172),P=n(79096),D=n(87433),I=n(75082),h=n(54095),S=n(4093),O=n(41570),L=n(66903),T=n(34068),x=n(30250),N=n(89777),j=n(39210),$=n(76089),k=n(4600),K=n(89856),z=n(49838),V=n(95720),G=n(31888),X=n(11275);let Q=(()=>{class zt{constructor(Je,ke,Le,ze){this.dynamicMatchers=Je,this.dynamicFormRelationService=ke,this.formBuilderService=Le,this.injector=ze}getTypeBindValue(Je){let ke;return ke=(0,N.Tn)(Je)||"string"==typeof Je?Je:Je instanceof V.e&&Je.hasAuthority()?Je.authority:Je.value,ke}getRelatedFormModel(Je){const ke=[];return Je.typeBindRelations.forEach(Le=>Le.when.forEach(ze=>{if(Je.id===ze.id)throw new Error(`FormControl ${Je.id} cannot depend on itself`);const lt=this.formBuilderService.getTypeBindModel();Je&&!ke.some(Vt=>Vt===lt)&&ke.push(lt)})),ke}matchesCondition(Je,ke){const Le=Je.operator||p.fXj;return Je.when.reduce((ze,lt,Vt)=>{const fn=this.formBuilderService.getTypeBindModel();let At,tn=fn.value;fn.type===X.T&&(tn=fn.value.map(Lt=>Lt[fn.mandatoryField])),At=Array.isArray(tn)?[...tn.map(Lt=>this.getTypeBindValue(Lt))]:[this.getTypeBindValue(tn)];let dt=!(fn&&Je.match===ke.match);for(const Lt of At){if(fn&&Je.match===ke.match){if(Vt>0&&Le===p.fcY&&!ze)return!1;if(Vt>0&&Le===p.fXj&&ze)return!0;if(dt=lt.value===Lt,dt)break}if(fn&&Je.match===ke.opposingMatch){if(Vt>0&&Le===p.fcY&&ze)return!0;if(Vt>0&&Le===p.fXj&&!ze)return!1;if(dt=lt.value!==Lt,!dt)break}}return dt},!1)}subscribeRelations(Je,ke){const Le=this.getRelatedFormModel(Je),ze=[];return Object.values(Le).forEach(lt=>{if((0,N.a4)(lt)){const Vt=(0,N.Tn)(lt.value)||"string"==typeof lt.value||Array.isArray(lt.value)?lt.value:lt.value.value,At=("CHECKBOX_GROUP"===lt.type?lt.valueUpdates:lt.valueChanges).pipe((0,b.Z)(Vt));ze.push(At.subscribe(()=>{(0,N.a4)(this.dynamicMatchers)&&this.dynamicMatchers.forEach(tn=>{const dt=this.dynamicFormRelationService.findRelationByMatcher(Je.typeBindRelations,tn);if(void 0!==dt){const Lt=this.matchesCondition(dt,tn);tn.onChange(Lt,Je,ke,this.injector)}})}))}}),ze}getTypeBindRelations(Je){const ke=[];return Je.forEach(Le=>{ke.push({id:"dc.type",value:Le})}),[{match:p.zUr,operator:p.fXj,when:ke}]}static{this.\u0275fac=function(ke){return new(ke||zt)(t.KVO(p._sU,8),t.KVO(p.$eO),t.KVO(z.j),t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:zt,factory:zt.\u0275fac,providedIn:"root"})}}return zt})();var ee=n(84412),ie=n(5964),he=(n(15862),n(66290)),ye=n(15202),re=n(18040),ce=n(49792),Z=n(59640);function ne(zt,Gt){1&zt&&t.nrm(0,"ds-loading",2),2&zt&&t.Y8G("showMessage",!1)}function fe(zt,Gt){if(1&zt&&(t.nrm(0,"ds-metadata-representation-loader",3),t.nI1(1,"async")),2&zt){const Je=t.XpG();t.Y8G("mdRepresentation",t.bMT(1,1,Je.metadataRepresentation$))}}class ae{constructor(Gt,Je){this.oldIndex=Gt,this.newIndex=Je}update(){this.oldIndex=this.newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}}class J extends ae{constructor(Gt,Je,ke,Le,ze,lt){super(ze,lt),this.relationship=Gt,this.useLeftItem=Je,this.store=ke,this.submissionID=Le,this.relationship=Gt,this.useLeftItem=Je}getId(){return this.relationship.id}getPlace(){return this.useLeftItem?this.relationship.rightPlace:this.relationship.leftPlace}}let ve=(()=>{class zt{constructor(Je,ke,Le){this.selectableListService=Je,this.store=ke,this.submissionService=Le,this.metadataRepresentation$=new ee.t(void 0),this.remove=new t.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,N.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,S.v7)(),(0,S.Bo)(),(0,ie.p)(ke=>(0,N.a4)(ke)&&(0,N.hj)(ke.uuid))).subscribe(ke=>{this.relatedItem=ke;const Le=this.submissionItem.firstMetadata(this.relationshipOptions.metadataField,{value:this.relatedItem.uuid});if((0,N.a4)(Le)){const ze=this.submissionItem.firstMetadata(this.metadataFields,{authority:Le.authority}),lt=Object.assign(new he.y(ze),this.relatedItem);this.metadataRepresentation$.next(lt)}}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.submissionService.getSubmissionObject(this.submissionId).pipe((0,ie.p)(Je=>!Je.savePending&&!Je.isLoading),(0,y.s)(1)).subscribe(()=>{this.selectableListService.deselectSingle(this.listId,Object.assign(new j.H,{indexableObject:this.relatedItem})),this.store.dispatch(new ce.Fw(this.submissionItem,this.relatedItem,this.relationshipOptions.relationshipType,this.submissionId)),this.remove.emit()})}ngOnDestroy(){this.subs.filter(Je=>(0,N.a4)(Je)).forEach(Je=>Je.unsubscribe())}static{this.\u0275fac=function(ke){return new(ke||zt)(t.rXU($.K),t.rXU(Z.il),t.rXU(x.E))}}static{this.\u0275cmp=t.VBU({type:zt,selectors:[["ds-existing-metadata-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[t.OA$,t.aNF],decls:9,vars:9,consts:[[1,"d-flex"],[1,"me-auto","text-contents","align-self-center"],[3,"showMessage"],[3,"mdRepresentation"],["type","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"]],template:function(ke,Le){1&ke&&(t.j41(0,"div",0)(1,"span",1),t.DNE(2,ne,1,1,"ds-loading",2),t.nI1(3,"async"),t.DNE(4,fe,2,3,"ds-metadata-representation-loader",3),t.nI1(5,"async"),t.k0s(),t.j41(6,"button",4),t.nI1(7,"translate"),t.bIt("click",function(){return Le.removeSelection()}),t.nrm(8,"i",5),t.k0s()()),2&ke&&(t.R7$(2),t.vxM(void 0===t.bMT(3,3,Le.metadataRepresentation$)?2:-1),t.R7$(2),t.vxM(t.bMT(5,5,Le.metadataRepresentation$)?4:-1),t.R7$(2),t.FS9("title",t.bMT(7,7,"form.remove")))},dependencies:[i.Jj,re.V,ye.v,m.h,m.D9]})}}return zt})();var _e=n(19192),Ce=n(8447);function qe(zt,Gt){1&zt&&t.nrm(0,"ds-loading",2),2&zt&&t.Y8G("showMessage",!1)}function Re(zt,Gt){if(1&zt&&(t.nrm(0,"ds-listable-object-component-loader",3),t.nI1(1,"async")),2&zt){const Je=t.XpG();t.Y8G("showLabel",!1)("viewMode",Je.viewType)("object",t.bMT(1,3,Je.relatedItem$))}}let Ge=(()=>{class zt{constructor(Je,ke,Le){this.selectableListService=Je,this.submissionService=ke,this.store=Le,this.relatedItem$=new ee.t(void 0),this.viewType=_e.n.ListElement,this.remove=new t.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,N.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,S.v7)(),(0,S.Bo)(),(0,ie.p)(ke=>(0,N.a4)(ke)&&(0,N.hj)(ke.uuid))).subscribe(ke=>{this.relatedItem$.next(ke)}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.selectableListService.deselectSingle(this.listId,Object.assign(new j.H,{indexableObject:this.relatedItem$.getValue()})),this.store.dispatch(new ce.Fw(this.submissionItem,this.relatedItem$.getValue(),this.relationshipOptions.relationshipType,this.submissionId))}ngOnDestroy(){this.subs.filter(Je=>(0,N.a4)(Je)).forEach(Je=>Je.unsubscribe())}static{this.\u0275fac=function(ke){return new(ke||zt)(t.rXU($.K),t.rXU(x.E),t.rXU(Z.il))}}static{this.\u0275cmp=t.VBU({type:zt,selectors:[["ds-existing-relation-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[t.OA$,t.aNF],decls:8,vars:6,consts:[[1,"d-flex"],[1,"flex-grow-1","me-auto"],[3,"showMessage"],[3,"showLabel","viewMode","object"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-trash"]],template:function(ke,Le){1&ke&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,qe,1,1,"ds-loading",2),t.nI1(3,"async"),t.DNE(4,Re,2,5,"ds-listable-object-component-loader",3),t.nI1(5,"async"),t.k0s(),t.j41(6,"button",4),t.bIt("click",function(){return Le.removeSelection()}),t.nrm(7,"i",5),t.k0s()()),2&ke&&(t.R7$(2),t.vxM(void 0===t.bMT(3,2,Le.relatedItem$)?2:-1),t.R7$(2),t.vxM(t.bMT(5,4,Le.relatedItem$)?4:-1))},dependencies:[i.Jj,Ce.v,ye.v],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})}}return zt})();var at=n(17964),Ke=n(88503);const Te=["componentViewContainer"],pt=["*"],He=(zt,Gt)=>[zt,Gt],Bt=zt=>({$implicit:zt}),it=(zt,Gt)=>({row:zt,"d-none":Gt}),Tt=()=>({standalone:!0}),Ee=zt=>({"d-block pb-2 pt-2":zt});function je(zt,Gt){if(1&zt&&(t.nrm(0,"label",3),t.nI1(1,"translate"),t.nI1(2,"translate")),2&zt){const Je=t.XpG();t.Y8G("id","label_"+Je.model.id)("for",Je.id)("innerHTML",Je.model.required&&Je.model.label?t.bMT(1,4,Je.model.label)+" *":t.bMT(2,6,Je.model.label),t.npT)("ngClass",t.l_i(8,He,Je.getClass("element","label"),Je.getClass("grid","label")))}}function ft(zt,Gt){1&zt&&t.eu8(0)}function vn(zt,Gt){if(1&zt&&(t.nrm(0,"small",6),t.nI1(1,"translate")),2&zt){const Je=t.XpG();t.Y8G("innerHTML",t.bMT(1,2,Je.model.hint),t.npT)("ngClass",Je.getClass("element","hint"))}}function hn(zt,Gt){1&zt&&t.nrm(0,"div",7)}function Un(zt,Gt){if(1&zt&&(t.j41(0,"small",11),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&zt){const Je=Gt.$implicit,ke=t.XpG(2);t.R7$(),t.JRh(t.i5U(2,1,Je,ke.model.validators))}}function Ct(zt,Gt){if(1&zt&&(t.j41(0,"div",8),t.Z7z(1,Un,3,4,"small",11,t.fX1),t.k0s()),2&zt){const Je=t.XpG();t.Y8G("id",Je.id+"_errors")("ngClass",t.l_i(2,He,Je.getClass("element","errors"),Je.getClass("grid","errors"))),t.R7$(),t.Dyx(Je.errorMessages)}}function Ot(zt,Gt){if(1&zt&&(t.j41(0,"option",13),t.EFF(1),t.k0s()),2&zt){const Je=Gt.$implicit;t.Y8G("value",Je.code),t.R7$(),t.JRh(Je.display)}}function wt(zt,Gt){if(1&zt){const Je=t.RV6();t.j41(0,"div",9)(1,"select",12,1),t.mxI("ngModelChange",function(Le){t.eBV(Je);const ze=t.XpG();return t.DH7(ze.model.language,Le)||(ze.model.language=Le),t.Njj(Le)}),t.bIt("blur",function(Le){t.eBV(Je);const ze=t.XpG();return t.Njj(ze.onBlur(Le))})("change",function(Le){t.eBV(Je);const ze=t.XpG();return t.Njj(ze.onChangeLanguage(Le))}),t.Z7z(3,Ot,2,2,"option",13,t.fX1),t.k0s()()}if(2&zt){const Je=t.XpG();t.R7$(),t.Y8G("disabled",Je.model.readOnly),t.R50("ngModel",Je.model.language),t.Y8G("ngModelOptions",t.lJ4(3,Tt)),t.R7$(2),t.Dyx(Je.model.languageCodes)}}function mt(zt,Gt){if(1&zt){const Je=t.RV6();t.j41(0,"div",10)(1,"button",14),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(Le){return t.eBV(Je),t.XpG().openLookup(),t.Njj(Le.stopPropagation())}),t.nrm(4,"i",15),t.k0s()()}2&zt&&(t.R7$(),t.FS9("ngbTooltip",t.bMT(2,2,"form.lookup-help")),t.BMQ("aria-label",t.bMT(3,4,"form.lookup-help")))}function ln(zt,Gt){1&zt&&t.eu8(0)}function we(zt,Gt){if(1&zt){const Je=t.RV6();t.j41(0,"ds-existing-metadata-list-element",18),t.nI1(1,"async"),t.nI1(2,"async"),t.bIt("remove",function(){t.eBV(Je);const Le=t.XpG(2);return t.Njj(Le.onRemove())}),t.k0s()}if(2&zt){const Je=t.XpG(2);t.Y8G("reoRel",t.bMT(1,6,Je.relationshipValue$))("submissionItem",t.bMT(2,8,Je.item$))("listId",Je.listId)("metadataFields",Je.model.metadataFields)("submissionId",Je.model.submissionId)("relationshipOptions",Je.model.relationship)}}function Et(zt,Gt){if(1&zt&&(t.nrm(0,"ds-existing-relation-list-element",17),t.nI1(1,"async"),t.nI1(2,"async")),2&zt){const Je=t.XpG(2);t.Y8G("ngClass",t.eq3(11,Ee,!(null!=Je.context&&Je.context.index)))("reoRel",t.bMT(1,7,Je.relationshipValue$))("submissionItem",t.bMT(2,9,Je.item$))("listId",Je.listId)("metadataFields",Je.model.metadataFields)("submissionId",Je.model.submissionId)("relationshipOptions",Je.model.relationship)}}function kt(zt,Gt){if(1&zt&&(t.nrm(0,"small",6),t.nI1(1,"translate")),2&zt){const Je=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,2,Je.model.hint),t.npT)("ngClass",Je.getClass("element","hint"))}}function vt(zt,Gt){1&zt&&t.nrm(0,"div",7)}function Jt(zt,Gt){if(1&zt&&t.DNE(0,we,3,10,"ds-existing-metadata-list-element",16)(1,Et,3,13,"ds-existing-relation-list-element",17)(2,kt,2,4,"small",6)(3,vt,1,0,"div",7),2&zt){const Je=t.XpG();t.vxM(Je.model.hasSelectableMetadata?0:-1),t.R7$(),t.vxM(Je.model.hasSelectableMetadata?-1:1),t.R7$(),t.vxM(!Je.hasHint||!1!==Je.model.repeatable&&(null==Je.context?null:Je.context.index)!==(null==Je.context||null==Je.context.context||null==Je.context.context.groups?null:Je.context.context.groups.length)-1||Je.showErrorMessages&&0!==Je.errorMessages.length?-1:2),t.R7$(),t.vxM((null==Je.context||null==Je.context.parent||null==Je.context.parent.groups?null:Je.context.parent.groups.length)>1&&(!Je.showErrorMessages||0===Je.errorMessages.length)?3:-1)}}let sn=(()=>{class zt extends p.R7k{get componentType(){return this.dynamicFormControlFn(this.model)}constructor(Je,ke,Le,ze,lt,Vt,fn,At,tn,dt,Lt,Rt,Sn,$n,Di,bt,_t,En){super(Sn,Je,Le,ze,ke,fn),this.componentFactoryResolver=Je,this.dynamicFormComponentService=ke,this.layoutService=Le,this.validationService=ze,this.typeBindRelationService=lt,this.translateService=Vt,this.relationService=fn,this.modalService=At,this.relationshipService=tn,this.selectableListService=dt,this.store=Lt,this.submissionObjectService=Rt,this.ref=Sn,this.formBuilderService=$n,this.submissionService=Di,this.metadataService=bt,this.appConfig=_t,this.dynamicFormControlFn=En,this.asBootstrapFormGroup=!1,this.bindId=!0,this.context=null,this.hasErrorMessaging=!1,this.layout=null,this.subs=[],this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.customEvent=new t.bkB,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.isRelationship=(0,N.a4)(this.model.relationship);const Je=(0,N.a4)(this.model.relationshipConfig);if(this.isRelationship||Je){const ke=this.model.relationshipConfig||this.model.relationship,Le=Object.assign(new G.j,ke);if(this.listId=`list-${this.model.submissionId}-${Le.relationshipType}`,this.setItem(),Je||!this.model.repeatable){const ze=this.selectableListService.getSelectableList(this.listId).pipe((0,v.I)(lt=>(0,N.Tn)(lt)),(0,E.n)(()=>this.item$.pipe((0,y.s)(1))),(0,E.n)(lt=>{const Vt=this.relationshipService.getItemRelationshipsByLabel(lt,Le.relationshipType,void 0,!0,!0,(0,k.s)("leftItem"),(0,k.s)("rightItem"),(0,k.s)("relationshipType"));return Vt.pipe((0,S.ak)(),(0,S.W8)()).subscribe(fn=>{fn.forEach(At=>{const tn=lt.firstMetadata(Le.metadataField,{authority:`${h.BY}${At.id}`}),dt=lt.firstMetadata(this.model.metadataFields,{authority:`${h.BY}${At.id}`});(0,N.a4)(tn)&&(0,N.hj)(tn.value)&&(0,N.a4)(dt)&&(0,N.hj)(dt.value)&&this.relationshipService.setNameVariant(this.listId,tn.value,dt.value)})}),Vt.pipe((0,T.EF)(lt.uuid),(0,S.yd)(),(0,M.T)(fn=>fn.payload.page.map(At=>Object.assign(new j.H,{indexableObject:At}))))})).subscribe(lt=>this.selectableListService.select(this.listId,lt));this.subs.push(ze)}if(this.value=(0,N.a4)(this.model.metadataValue)?Object.assign(new V.e,this.model.metadataValue):Object.assign(new V.e,this.model.value),(0,N.a4)(this.value)&&this.metadataService.isVirtual(this.value)){const ze=this.relationshipService.findById(this.metadataService.virtualValue(this.value),!0,!0,...(0,K.nW)(this.fetchThumbnail,this.appConfig.item.showAccessStatuses)).pipe((0,S.v7)(),(0,S.Bo)());this.relationshipValue$=(0,f.z)([this.item$.pipe((0,y.s)(1)),ze]).pipe((0,E.n)(([lt,Vt])=>Vt.leftItem.pipe((0,S.v7)(),(0,S.Bo)(),(0,M.T)(fn=>new J(Vt,fn.uuid!==lt.uuid,this.store,this.model.submissionId)))),(0,b.Z)(void 0))}}}get isCheckbox(){return this.model.type===p.eU4||this.model.type===at.L}ngOnChanges(Je){Je&&!this.isRelationship&&(0,N.a4)(this.group.get(this.model.id))&&(super.ngOnChanges(Je),this.model&&this.model.placeholder&&(this.model.placeholder=this.translateService.instant(this.model.placeholder)),this.model.typeBindRelations&&this.model.typeBindRelations.length>0&&this.subscriptions.push(...this.typeBindRelationService.subscribeRelations(this.model,this.control)))}ngDoCheck(){(0,N.EA)(this.showErrorMessagesPreviousStage)&&this.showErrorMessagesPreviousStage!==this.showErrorMessages&&(this.showErrorMessagesPreviousStage=this.showErrorMessages,this.forceShowErrorDetection())}ngAfterViewInit(){this.showErrorMessagesPreviousStage=this.showErrorMessages}createFormControlComponent(){if(super.createFormControlComponent(),null!==this.componentType){let Je;this.context&&this.context instanceof p.fHx&&(Je=this.context.index);const ke=this.dynamicFormComponentService.getFormControlRef(this.model,Je);ke&&(ke.formModel=this.formModel,ke.formGroup=this.formGroup)}}forceShowErrorDetection(){this.showErrorMessages&&(this.destroyFormControlComponent(),this.createFormControlComponent())}onChangeLanguage(Je){(0,N.hj)(this.model.value)&&this.onChange(Je)}hasRelationship(){return(0,N.hj)(this.model)&&this.model.hasOwnProperty("relationship")&&(0,N.hj)(this.model.relationship)}isVirtual(){const Je=this.model.metadataValue;return(0,N.hj)(Je)&&Je.isVirtual}hasResultsSelected(){return this.model.value.pipe((0,M.T)(Je=>(0,N.hj)(Je)))}openLookup(){this.modalRef=this.modalService.open(Ke.d,{size:"lg"}),(0,N.a4)(this.model.value)&&(this.focus.emit({$event:new Event("focus"),context:this.context,control:this.control,model:this.model,type:p.HkG.Focus}),this.change.emit({$event:new Event("change"),context:this.context,control:this.control,model:this.model,type:p.HkG.Change})),this.submissionService.dispatchSave(this.model.submissionId);const Je=this.modalRef.componentInstance;(0,N.a4)(this.model.value)&&!this.model.readOnly&&("string"==typeof this.model.value?Je.query=this.model.value:"string"==typeof this.model.value.value&&(Je.query=this.model.value.value)),Je.repeatable=this.model.repeatable,Je.listId=this.listId,Je.relationshipOptions=this.model.relationship,Je.label=this.model.relationship.relationshipType,Je.metadataFields=this.model.metadataFields,Je.item=this.item,Je.collection=this.collection,Je.submissionId=this.model.submissionId}onRemove(){const Je=this.context.context,ke=this.formBuilderService.getPath(Je),Le=this.group.root.get(ke);this.formBuilderService.removeFormArrayGroup(this.context.index,Le,Je),0===this.model.parent.context.groups.length&&this.formBuilderService.addFormArrayGroup(Le,Je)}ngOnDestroy(){super.ngOnDestroy(),this.subs.filter(Je=>(0,N.a4)(Je)).forEach(Je=>Je.unsubscribe())}get hasHint(){return(0,N.hj)(this.model.hint)&&"&nbsp;"!==this.model.hint}setItem(){const Je=this.submissionObjectService.findById(this.model.submissionId,!0,!0,...O.X).pipe((0,S.v7)(),(0,S.Bo)());this.item$=Je.pipe((0,E.n)(Le=>Le.item.pipe((0,S.v7)(),(0,S.Bo)())));const ke=Je.pipe((0,E.n)(Le=>Le.collection.pipe((0,S.v7)(),(0,S.Bo)())));this.subs.push(this.item$.subscribe(Le=>this.item=Le)),this.subs.push(ke.subscribe(Le=>this.collection=Le))}static{this.\u0275fac=function(ke){return new(ke||zt)(t.rXU(t.OM3),t.rXU(p.cYz),t.rXU(p.fpj),t.rXU(p.STK),t.rXU(Q),t.rXU(m.c$),t.rXU(p.$eO),t.rXU(e.Bq),t.rXU(D.RelationshipDataService),t.rXU($.K),t.rXU(Z.il),t.rXU(L.$),t.rXU(t.gRc),t.rXU(z.j),t.rXU(x.E),t.rXU(I.T),t.rXU(P.vQ),t.rXU(p.Fdw))}}static{this.\u0275cmp=t.VBU({type:zt,selectors:[["ds-dynamic-form-control-container"]],contentQueries:function(ke,Le,ze){if(1&ke&&t.wni(ze,p.vJF,4),2&ke){let lt;t.mGM(lt=t.lsd())&&(Le.contentTemplateList=lt)}},viewQuery:function(ke,Le){if(1&ke&&t.GBs(Te,7,t.c1b),2&ke){let ze;t.mGM(ze=t.lsd())&&(Le.componentViewContainerRef=ze.first)}},inputs:{inputTemplateList:[0,"templates","inputTemplateList"],hasMetadataModel:"hasMetadataModel",formId:"formId",formGroup:"formGroup",formModel:"formModel",asBootstrapFormGroup:"asBootstrapFormGroup",bindId:"bindId",context:"context",group:"group",hostClass:"hostClass",hasErrorMessaging:"hasErrorMessaging",layout:"layout",model:"model"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],ngContentSelectors:pt,decls:16,vars:27,consts:[["componentViewContainer",""],["language","ngModel"],[3,"formGroup","ngClass"],[1,"form-label",3,"id","for","innerHTML","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[1,"text-muted","ds-hint",3,"innerHTML","ngClass"],[1,"clearfix","w-100","mb-2"],[3,"id","ngClass"],[1,"col-2"],[1,"col-auto","text-center"],[1,"invalid-feedback","d-block"],["required","",1,"form-select",3,"ngModelChange","blur","change","disabled","ngModel","ngModelOptions"],[3,"value"],["type","button","placement","top","data-test","lookup-button",1,"btn","btn-secondary",3,"click","ngbTooltip"],[1,"fa","fa-search"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"],[3,"remove","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"]],template:function(ke,Le){1&ke&&(t.NAR(),t.j41(0,"div",2),t.DNE(1,je,3,11,"label",3)(2,ft,1,0,"ng-container",4),t.j41(3,"div",5)(4,"div",5)(5,"div"),t.eu8(6,null,0),t.k0s(),t.DNE(8,vn,2,4,"small",6)(9,hn,1,0,"div",7)(10,Ct,3,5,"div",8),t.k0s(),t.DNE(11,wt,5,4,"div",9)(12,mt,5,6,"div",10),t.k0s(),t.DNE(13,ln,1,0,"ng-container",4)(14,Jt,4,4),t.SdG(15),t.k0s()),2&ke&&(t.AVh("mb-2",Le.hasLabel||"DATE"===Le.model.type||"GROUP"!==Le.model.type&&Le.asBootstrapFormGroup||Le.getClass("element","container").includes("mb-2"))("d-none",Le.model.hidden),t.Y8G("formGroup",Le.group)("ngClass",t.l_i(19,He,Le.getClass("element","container"),Le.getClass("grid","container"))),t.R7$(),t.vxM(!Le.isCheckbox&&Le.hasLabel?1:-1),t.R7$(),t.Y8G("ngTemplateOutlet",null==Le.startTemplate?null:Le.startTemplate.templateRef)("ngTemplateOutletContext",t.eq3(22,Bt,Le.model)),t.R7$(),t.Y8G("ngClass",t.l_i(24,it,Le.model.hasLanguages||Le.isRelationship,Le.metadataService.isVirtual(Le.value)&&(Le.model.hasSelectableMetadata||(null==Le.context?null:Le.context.index)>0))),t.R7$(),t.Y8G("ngClass",Le.getClass("grid","control")),t.R7$(4),t.vxM(!Le.hasHint||!Le.formBuilderService.hasArrayGroupValue(Le.model)&&(Le.model.repeatable||!1!==Le.isRelationship&&null!==(null==Le.value?null:Le.value.value))&&(!0!==Le.model.repeatable||(null==Le.context?null:Le.context.index)!==(null==Le.context||null==Le.context.context||null==Le.context.context.groups?null:Le.context.context.groups.length)-1)||Le.showErrorMessages&&0!==Le.errorMessages.length?-1:8),t.R7$(),t.vxM((null==Le.context||null==Le.context.parent||null==Le.context.parent.groups?null:Le.context.parent.groups.length)>1&&(!Le.showErrorMessages||0===Le.errorMessages.length)?9:-1),t.R7$(),t.vxM(!Le.model.hideErrorMessages&&Le.showErrorMessages?10:-1),t.R7$(),t.vxM(Le.model.languageCodes&&Le.model.languageCodes.length>0?11:-1),t.R7$(),t.vxM(Le.isRelationship?12:-1),t.R7$(),t.Y8G("ngTemplateOutlet",null==Le.endTemplate?null:Le.endTemplate.templateRef)("ngTemplateOutletContext",Le.model),t.R7$(),t.vxM(Le.metadataService.isVirtual(Le.value)?14:-1))},dependencies:[i.Jj,ve,Ge,c.YN,c.xH,c.y7,c.wz,c.BC,c.cb,c.YS,c.vS,e.n8,e.md,i.YU,i.T3,c.X1,c.j4,m.h,m.D9],styles:["[_nghost-%COMP%]     .ds-form-input-addon{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}[_nghost-%COMP%]     .ds-form-input-btn{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}[_nghost-%COMP%]     .ds-form-input-btn:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{outline:none;box-shadow:none!important}[_nghost-%COMP%]     .ds-form-input-value{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .fa-spin{pointer-events:none}[_nghost-%COMP%]     .left-addon .far, [_nghost-%COMP%]     .left-addon .fas, [_nghost-%COMP%]     .left-addon i{left:0}[_nghost-%COMP%]     .right-addon .far, [_nghost-%COMP%]     .right-addon .fas, [_nghost-%COMP%]     .right-addon i{right:0}[_nghost-%COMP%]     .left-addon input{padding-left:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .right-addon input{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     select.form-control{appearance:auto}[_nghost-%COMP%]     .col-sm-6, [_nghost-%COMP%]     .col-sm-12{padding-left:15px;padding-right:15px}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .custom-select{appearance:none}[_nghost-%COMP%]     .btn-group-toggle>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}[_nghost-%COMP%]     dynamic-ng-bootstrap-radio-group{display:block;width:100%}[_nghost-%COMP%]     dynamic-ng-bootstrap-radio-group>.btn-group.btn-group-toggle{width:100%}[_nghost-%COMP%]     .custom-control-input.is-invalid~.custom-control-label{color:var(--bs-form-invalid-color)}.invalid-feedback[_ngcontent-%COMP%]{margin-top:0}.col-form-label[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;margin-bottom:.25rem}label[_ngcontent-%COMP%]{margin-bottom:.25rem}"]})}}return zt})()},17964:(B,C,n)=>{"use strict";n.d(C,{L:()=>c,i:()=>e});var i=n(31635),t=n(1473);const c="CUSTOM_SWITCH";class e extends t.M7d{constructor(m,f){super(m,f),this.type=c}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"type",void 0)},38941:(B,C,n)=>{"use strict";n.d(C,{q:()=>S,P:()=>O});var i=n(60177),t=n(54438),c=n(89417),e=n(1473),p=n(68018),m=n(48125),f=n.n(m),v=n(89777),E=n(79104);const y=L=>({field:L}),M=L=>({"is-invalid":L});let b=(()=>{class L{constructor(x,N,j){this.fb=x,this.cd=N,this.translate=j,this.selected=new t.bkB,this.remove=new t.bkB,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB}ngOnInit(){this.step=this.step||1,this.min=this.min||0,this.max=this.max||100,this.size=this.size||1,this.disabled=this.disabled||!1,this.invalid=this.invalid||!1,this.cd.detectChanges()}ngOnChanges(x){this.value?x.max&&(this.value=this.value>this.max?this.max:this.value):x.value&&null===x.value.currentValue?this.value=null:x.invalid&&(this.invalid=x.invalid.currentValue)}changeValue(x=!1){if((0,v.Im)(this.value))this.value=this.startValue;else{this.startValue=this.value;let N=this.value;x?N-=this.step:N+=this.step,this.value=N>=this.min&&N<=this.max?N:N>this.max?this.min:this.max}this.emitChange()}toggleDown(){this.changeValue(!0)}toggleUp(){this.changeValue()}update(x){try{const N=Number.parseInt(x.target.value,10);this.value=N>=this.min&&N<=this.max?N:null===x.target.value||""===x.target.value?null:void 0,this.emitChange()}catch{this.value=void 0}}onBlur(x){this.blur.emit(x)}onFocus(x){this.value&&(this.startValue=this.value),this.focus.emit(x)}writeValue(x){this.startValue=x||this.min}registerOnChange(x){}registerOnTouched(x){}emitChange(){this.change.emit({field:this.name,value:this.value})}static{this.\u0275fac=function(N){return new(N||L)(t.rXU(c.ze),t.rXU(t.gRc),t.rXU(p.c$))}}static{this.\u0275cmp=t.VBU({type:L,selectors:[["ds-number-picker"]],inputs:{id:"id",step:"step",min:"min",max:"max",size:"size",placeholder:"placeholder",name:"name",disabled:"disabled",invalid:"invalid",value:"value"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Jv_([{provide:c.kq,useExisting:L,multi:!0}]),t.OA$,t.aNF],decls:12,vars:27,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-around","me-3"],["type","button","tabindex","0",1,"btn","btn-link-focus",3,"click","dsBtnDisabled"],[1,"chevron"],[1,"sr-only"],["type","text",1,"form-control","d-inline-block","text-center",3,"ngModelChange","blur","change","focus","id","maxlength","size","placeholder","name","ngModel","readonly","disabled","ngClass","title"],[1,"chevron","bottom"]],template:function(N,j){1&N&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return j.toggleUp()}),t.nrm(2,"span",2),t.j41(3,"span",3),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"input",4),t.mxI("ngModelChange",function(k){return t.DH7(j.value,k)||(j.value=k),k}),t.bIt("blur",function(k){return j.onBlur(k),k.stopPropagation()})("change",function(k){return j.update(k),k.stopPropagation()})("focus",function(k){return j.onFocus(k),k.stopPropagation()}),t.k0s(),t.j41(7,"button",1),t.bIt("click",function(){return j.toggleDown()}),t.nrm(8,"span",5),t.j41(9,"span",3),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&N&&(t.R7$(),t.Y8G("dsBtnDisabled",j.disabled),t.R7$(3),t.JRh(t.i5U(5,15,"form.number-picker.increment",t.eq3(21,y,j.name))),t.R7$(2),t.FS9("id",j.id),t.FS9("maxlength",j.size),t.FS9("size",j.size),t.FS9("placeholder",j.placeholder),t.FS9("title",j.placeholder),t.Y8G("name",j.name),t.R50("ngModel",j.value),t.Y8G("readonly",j.disabled)("disabled",j.disabled)("ngClass",t.eq3(23,M,j.invalid)),t.BMQ("aria-label",j.placeholder),t.R7$(),t.Y8G("dsBtnDisabled",j.disabled),t.R7$(3),t.JRh(t.i5U(11,18,"form.number-picker.decrement",t.eq3(25,y,j.name))))},dependencies:[E.A,c.YN,c.me,c.BC,c.tU,c.vS,i.YU,p.h,p.D9],styles:['[_nghost-%COMP%]{outline:none}.chevron[_ngcontent-%COMP%]:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.71em}.chevron.bottom[_ngcontent-%COMP%]:before{top:-.3em;transform:rotate(135deg)}input[_ngcontent-%COMP%]{max-width:80px!important}.btn-link-focus[_ngcontent-%COMP%]{font-weight:400;color:#1f7293;text-decoration:none;box-shadow:none}.btn-link-focus[_ngcontent-%COMP%]:hover{color:#001a1a;text-decoration:underline}.btn-link-focus[_ngcontent-%COMP%]:disabled, .btn-link-focus.disabled[_ngcontent-%COMP%]{color:#6c757d;border:rgba(0,0,0,0);pointer-events:none}.btn-link-focus[_ngcontent-%COMP%]:focus, .btn-link-focus.focus[_ngcontent-%COMP%]{text-decoration:underline}']})}}return L})();n(91836);const D=(L,T)=>[L,T];function I(L,T){1&L&&(t.j41(0,"span"),t.EFF(1,"*"),t.k0s())}function h(L,T){if(1&L&&(t.j41(0,"legend",1),t.EFF(1),t.DNE(2,I,2,0,"span"),t.k0s()),2&L){const x=t.XpG();t.Y8G("id","legend_"+x.model.id)("ngClass",t.l_i(4,D,x.getClass("element","label"),x.getClass("grid","label"))),t.R7$(),t.SpI(" ",x.model.placeholder," "),t.R7$(),t.vxM(x.model.required?2:-1)}}const S="-";let O=(()=>{class L extends e.S6A{constructor(x,N,j,$){super(x,N),this.layoutService=x,this.validationService=N,this.renderer=j,this._document=$,this.bindId=!0,this.selected=new t.bkB,this.remove=new t.bkB,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.minMonth=1,this.maxMonth=12,this.minDay=1,this.maxDay=31,this.disabledMonth=!0,this.disabledDay=!0,this.fields=["_year","_month","_day"]}ngOnInit(){const x=new Date;if(this.initialYear=x.getUTCFullYear(),this.initialMonth=x.getUTCMonth()+1,this.initialDay=x.getUTCDate(),this.model&&null!==this.model.value){const N=this.model.value.toString().split(S);N.length>0&&(this.initialYear=parseInt(N[0],10),this.year=this.initialYear,this.disabledMonth=!1),N.length>1&&(this.initialMonth=parseInt(N[1],10),this.month=this.initialMonth,this.disabledDay=!1),N.length>2&&(this.initialDay=parseInt(N[2],10),this.day=this.initialDay)}this.maxYear=x.getUTCFullYear()+100}onBlur(x){this.blur.emit()}onChange(x){switch(x.field){case"year":null!==x.value?this.year=x.value:(this.year=void 0,this.month=void 0,this.day=void 0,this.disabledMonth=!0,this.disabledDay=!0);break;case"month":null!==x.value?this.month=x.value:(this.month=void 0,this.day=void 0,this.disabledDay=!0);break;case"day":this.day=null!==x.value?x.value:void 0}if(!this.disabledDay){const $=new Date(this.year,this.month?this.month-1:0,1);this.maxDay=this.getLastDay($),this.day>this.maxDay&&(this.day=this.maxDay)}(0,v.a4)(this.year)&&"year"===x.field?this.disabledMonth=!1:(0,v.a4)(this.month)&&"month"===x.field&&(this.disabledDay=!1);let N=null;if((0,v.a4)(this.year)){let j=this.year.toString();for(;j.length<4;)j="0"+j;N=j}if((0,v.a4)(this.month)){const j=1===this.month.toString().length?"0"+this.month.toString():this.month.toString();N+=S+j}if((0,v.a4)(this.day)){const j=1===this.day.toString().length?"0"+this.day.toString():this.day.toString();N+=S+j}this.model.value=N,this.change.emit(N)}onTabKeydown(x){x.preventDefault();const N=this._document.activeElement;N.blur();const j=this.selectedFieldIndex(N);if(j<0)return;const $=j+1;$<this.fields.length&&this.focusInput(this.fields[$])}onShiftTabKeyDown(x){x.preventDefault();const N=this._document.activeElement;N.blur();const $=this.selectedFieldIndex(N)-1;$>=0&&this.focusInput(this.fields[$])}selectedFieldIndex(x){return this.fields.findIndex(N=>f()(x.id,this.model.id.concat(N)))}focusInput(x){const N=this._document.getElementById(this.model.id.concat(x));N&&((0,v.a4)(this.year)&&f()(x,"_year")&&(this.disabledMonth=!0,this.disabledDay=!0),(0,v.a4)(this.year)&&f()(x,"_month")?this.disabledMonth=!1:(0,v.a4)(this.month)&&f()(x,"_day")&&(this.disabledDay=!1),setTimeout(()=>{this.renderer.selectRootElement(N).focus()},100))}onFocus(x){this.focus.emit(x)}getLastDay(x){return x.setMonth(x.getMonth()+1,0),x.getDate()}static{this.\u0275fac=function(N){return new(N||L)(t.rXU(e.fpj),t.rXU(e.STK),t.rXU(t.sFG),t.rXU(i.qQ))}}static{this.\u0275cmp=t.VBU({type:L,selectors:[["ds-date-picker"]],hostBindings:function(N,j){1&N&&t.bIt("keydown.tab",function(k){return j.onTabKeydown(k)})("keydown.shift.tab",function(k){return j.onShiftTabKeyDown(k)})},inputs:{bindId:"bindId",group:"group",model:"model",legend:"legend"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:35,consts:[[1,"d-flex"],[3,"id","ngClass"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","disabled","min","max","name","size","ngModel","value","invalid","placeholder"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","min","max","name","size","ngModel","value","placeholder","disabled"],[1,"clearfix"]],template:function(N,j){1&N&&(t.j41(0,"div")(1,"fieldset",0),t.DNE(2,h,3,7,"legend",1),t.j41(3,"ds-number-picker",2),t.nI1(4,"translate"),t.mxI("ngModelChange",function(k){return t.DH7(j.initialYear,k)||(j.initialYear=k),k}),t.bIt("blur",function(k){return j.onBlur(k)})("change",function(k){return j.onChange(k)})("focus",function(k){return j.onFocus(k)}),t.k0s(),t.j41(5,"ds-number-picker",3),t.nI1(6,"translate"),t.mxI("ngModelChange",function(k){return t.DH7(j.initialMonth,k)||(j.initialMonth=k),k}),t.bIt("blur",function(k){return j.onBlur(k)})("change",function(k){return j.onChange(k)})("focus",function(k){return j.onFocus(k)}),t.k0s(),t.j41(7,"ds-number-picker",3),t.nI1(8,"translate"),t.mxI("ngModelChange",function(k){return t.DH7(j.initialDay,k)||(j.initialDay=k),k}),t.bIt("blur",function(k){return j.onBlur(k)})("change",function(k){return j.onChange(k)})("focus",function(k){return j.onFocus(k)}),t.k0s()()(),t.nrm(9,"div",4)),2&N&&(t.R7$(2),t.vxM(j.model.repeatable?-1:2),t.R7$(),t.Y8G("id",j.model.id+"_year")("disabled",j.model.disabled)("min",j.minYear)("max",j.maxYear)("name","year")("size",4),t.R50("ngModel",j.initialYear),t.Y8G("value",j.year)("invalid",j.showErrorMessages)("placeholder",t.bMT(4,29,"form.date-picker.placeholder.year")),t.R7$(2),t.Y8G("id",j.model.id+"_month")("min",j.minMonth)("max",j.maxMonth)("name","month")("size",6),t.R50("ngModel",j.initialMonth),t.Y8G("value",j.month)("placeholder",t.bMT(6,31,"form.date-picker.placeholder.month"))("disabled",!j.year||j.model.disabled),t.R7$(2),t.Y8G("id",j.model.id+"_day")("min",j.minDay)("max",j.maxDay)("name","day")("size",2),t.R50("ngModel",j.initialDay),t.Y8G("value",j.day)("placeholder",t.bMT(8,33,"form.date-picker.placeholder.day"))("disabled",!j.month||j.model.disabled))},dependencies:[c.YN,c.BC,c.vS,i.YU,b,p.h,p.D9],styles:[".col-lg-1[_ngcontent-%COMP%]{width:auto}legend[_ngcontent-%COMP%]{font-size:initial;margin-bottom:0;float:none}"]})}}return L})()},91836:(B,C,n)=>{"use strict";n.d(C,{g:()=>v,s:()=>f});var i=n(31635),t=n(1473),c=n(84412),e=n(21413),p=n(54095),m=n(89777);const f="DATE";class v extends t.eGm{constructor(y,M){super(y,M),this.type=f,this.hasLanguages=!1,this.repeatable=!1,this.malformedDate=!1,this.legend=y.legend,this.metadataValue=y.metadataValue,this.typeBindRelations=y.typeBindRelations?y.typeBindRelations:[],this.hiddenUpdates=new c.t(this.hidden),this.repeatable=y.repeatable;const b=this.getRootParent(this);b&&(0,m.EA)(b.hidden)&&(b.hidden=this.hidden)}getRootParent(y){return(0,m.Im)(y)||(0,m.Im)(y.parent)?y:this.getRootParent(y.parent)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.B)],v.prototype,"hiddenUpdates",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],v.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],v.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",p.vD)],v.prototype,"metadataValue",void 0)},23762:(B,C,n)=>{"use strict";n.d(C,{H:()=>p,v:()=>e});var i=n(31635),t=n(1473),c=n(6549);const e="EMPTY";class p extends c.C{constructor(f,v){super(f,v),this.type=e,this.readOnly=!0,this.disabled=!0,this.hasSelectableMetadata=f.hasSelectableMetadata,this.value=f.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],p.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],p.prototype,"hasSelectableMetadata",void 0)},6549:(B,C,n)=>{"use strict";n.d(C,{C:()=>v});var i=n(31635),t=n(1473),c=n(21413),e=n(29029),p=n(89777),m=n(95720),f=n(31888);class v extends t.rA_{constructor(y,M){super(y,M),this.typeBindHidden=!1,this.repeatable=y.repeatable,this.metadataFields=y.metadataFields,this.hint=y.hint,this.readOnly=y.readOnly,this.disabled=y.readOnly,this.value=y.value,this.relationship=y.relationship,this.submissionId=y.submissionId,this.hasSelectableMetadata=y.hasSelectableMetadata,this.metadataValue=y.metadataValue,this.place=y.place,this.isModelOfInnerForm=!!(0,p.a4)(y.isModelOfInnerForm)&&y.isModelOfInnerForm,this.hideErrorMessages=y.hideErrorMessages,this.language=y.language,this.language||(y.value instanceof m.e?this.language=y.value.language:Array.isArray(y.value)&&y.value[0].language&&(this.language=y.value[0].language)),this.languageCodes=y.languageCodes,this.languageUpdates=new c.B,this.languageUpdates.subscribe(b=>{this.language=b}),this.typeBindRelations=y.typeBindRelations?y.typeBindRelations:[],this.vocabularyOptions=y.vocabularyOptions}get hasAuthority(){return this.vocabularyOptions&&(0,p.a4)(this.vocabularyOptions.name)}get hasLanguages(){return this.languageCodes&&this.languageCodes.length>1}get language(){return this._language}set language(y){this._language=y}get languageCodes(){return this._languageCodes}set languageCodes(y){this._languageCodes=y,(!this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.n)],v.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],v.prototype,"_languageCodes",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],v.prototype,"_language",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",c.B)],v.prototype,"languageUpdates",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],v.prototype,"place",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],v.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],v.prototype,"typeBindHidden",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",f.j)],v.prototype,"relationship",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],v.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],v.prototype,"metadataFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],v.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],v.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",m.e)],v.prototype,"metadataValue",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],v.prototype,"isModelOfInnerForm",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],v.prototype,"hideErrorMessages",void 0)},55398:(B,C,n)=>{"use strict";n.d(C,{m:()=>p});var i=n(31635),t=n(1473),c=n(89777),e=n(31888);class p extends t.UqU{constructor(f,v){super(f,v),this.notRepeatable=!1,this.required=!1,this.showButtons=!0,this.isRowArray=!0,this.isInlineGroupArray=!1,(0,c.a4)(f.notRepeatable)&&(this.notRepeatable=f.notRepeatable),(0,c.a4)(f.required)&&(this.required=f.required),(0,c.a4)(f.showButtons)&&(this.showButtons=f.showButtons),this.submissionId=f.submissionId,this.relationshipConfig=f.relationshipConfig,this.metadataKey=f.metadataKey,this.metadataFields=f.metadataFields,this.hasSelectableMetadata=f.hasSelectableMetadata,this.isDraggable=f.isDraggable,this.typeBindRelations=f.typeBindRelations?f.typeBindRelations:[],this.isInlineGroupArray=!!f.isInlineGroupArray&&f.isInlineGroupArray}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],p.prototype,"notRepeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],p.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],p.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.j)],p.prototype,"relationshipConfig",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],p.prototype,"metadataKey",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],p.prototype,"metadataFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],p.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],p.prototype,"isDraggable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],p.prototype,"showButtons",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],p.prototype,"typeBindRelations",void 0)},58901:(B,C,n)=>{"use strict";n.d(C,{E:()=>e});var i=n(31635),t=n(1473),c=n(6549);class e extends c.C{constructor(m,f){super(m,f),this.type=t.TwG,this.cols=m.cols,this.rows=m.rows,this.wrap=m.wrap}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"cols",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"rows",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"wrap",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],e.prototype,"type",void 0)},13059:(B,C,n)=>{"use strict";n.d(C,{o:()=>M});var i=n(1473),t=n(7673),c=n(96354),e=n(73409),p=n(13627),m=n(90306),f=n(89777),v=n(95720),y=(n(6549),n(54438));let M=(()=>{class b extends i.S6A{constructor(D,I,h){super(I,h),this.vocabularyService=D,this.layoutService=I,this.validationService=h}getInitValueFromModel(D=!1){let I;if((0,f.hj)(this.model.value)&&this.model.value instanceof v.e&&!this.model.value.hasAuthorityToGenerate()){let h;h=this.model.value.hasAuthority()?this.vocabularyService.getVocabularyEntryByID(this.model.value.authority,this.model.vocabularyOptions):this.vocabularyService.getVocabularyEntryByValue(this.model.value.value,this.model.vocabularyOptions),I=h.pipe((0,c.T)(S=>{if((0,f.hj)(S)){const O=new v.e(S.value,null,S.authority,S.display,this.model.value.place,null,S.otherInformation||null);return D&&(O.confidence=this.model.value.confidence),O}return this.model.value}))}else I=(0,f.hj)(this.model.value)&&this.model.value instanceof p.b?(0,t.of)(new v.e(this.model.value.value,null,this.model.value.authority,this.model.value.display,0,null,this.model.value.otherInformation||null)):(0,t.of)(new v.e(this.model.value));return I}onBlur(D){this.blur.emit(D)}onFocus(D){this.focus.emit(D)}dispatchUpdate(D){this.model.value=D,this.change.emit(D)}updatePageInfo(D,I,h,S){this.pageInfo=Object.assign(new e.Q,{elementsPerPage:D,currentPage:I,totalElements:h,totalPages:S})}static{this.\u0275fac=function(I){return new(I||b)(y.rXU(m.g),y.rXU(i.fpj),y.rXU(i.STK))}}static{this.\u0275cmp=y.VBU({type:b,selectors:[["ds-dynamic-vocabulary"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[y.Vt3,y.aNF],decls:0,vars:0,template:function(I,h){},encapsulation:2})}}return b})()},64370:(B,C,n)=>{"use strict";n.d(C,{R:()=>m});var i=n(31635),t=n(1473),c=n(21413),e=n(29029),p=n(89777);class m extends t.JVJ{constructor(v,E){super(v,E),this.isListGroup=!0,this.vocabularyOptions=v.vocabularyOptions,this.groupLength=v.groupLength||5,this._value=[],this.repeatable=v.repeatable,this.required=v.required,this.hint=v.hint,this.valueUpdates=new c.B,this.valueUpdates.subscribe(y=>this.value=y),this.valueUpdates.next(v.value),this.typeBindRelations=v.typeBindRelations?v.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,p.a4)(this.vocabularyOptions.name)}get value(){return this._value}set value(v){v&&(this._value=Array.isArray(v)?v:this.value.concat([v]))}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.n)],m.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],m.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],m.prototype,"groupLength",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"_value",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],m.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"hint",void 0)},76486:(B,C,n)=>{"use strict";n.d(C,{t:()=>p});var i=n(31635),t=n(1473),c=n(29029),e=n(89777);class p extends t.tK_{constructor(f,v){super(f,v),this.isListGroup=!0,this.vocabularyOptions=f.vocabularyOptions,this.groupLength=f.groupLength||5,this.repeatable=f.repeatable,this.required=f.required,this.hint=f.hint,this.value=f.value,this.typeBindRelations=f.typeBindRelations?f.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,e.a4)(this.vocabularyOptions.name)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",c.n)],p.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],p.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],p.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],p.prototype,"groupLength",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],p.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],p.prototype,"hint",void 0)},74994:(B,C,n)=>{"use strict";n.d(C,{V:()=>e,_:()=>p});var i=n(31635),t=n(1473),c=n(86910);const e="LOOKUP_NAME";class p extends c.P{constructor(f,v){super(f,v),this.type=e,this.separator=f.separator||",",this.placeholder=f.firstPlaceholder||"form.last-name",this.secondPlaceholder=f.secondPlaceholder||"form.first-name"}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],p.prototype,"separator",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],p.prototype,"secondPlaceholder",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],p.prototype,"type",void 0)},86910:(B,C,n)=>{"use strict";n.d(C,{P:()=>p,d:()=>e});var i=n(31635),t=n(1473),c=n(6549);const e="LOOKUP";class p extends c.C{constructor(f,v){super(f,v),this.type=e,this.autoComplete=t.DAG,this.maxOptions=f.maxOptions||10,this.value=f.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],p.prototype,"maxOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],p.prototype,"type",void 0)},1622:(B,C,n)=>{"use strict";n.d(C,{d:()=>fe});var i=n(60177),t=n(54438),c=n(89417),e=n(58003),p=n(68018),m=n(71985),f=n(21413),v=n(7673),E=n(1716),y=n(70152),M=n(23294),b=n(88141),P=n(25558),D=n(99437),I=n(96354),h=n(5964),S=n(96697),O=n(58956),L=n(4093),T=n(73409),x=n(90306),N=n(89777),j=n(18902),$=n(48457),k=n(98995),K=n(95720),z=n(13059),G=(n(83124),n(1473));const X=["instance"],Q=ae=>({entry:ae});function ee(ae,oe){if(1&ae&&t.eu8(0,5),2&ae){const J=oe.result;t.XpG();const ve=t.sdS(3),_e=t.sdS(5);t.Y8G("ngTemplateOutlet",J.hasOtherInformation()?ve:_e)("ngTemplateOutletContext",t.eq3(2,Q,J))}}function ie(ae,oe){if(1&ae&&(t.j41(0,"li",8),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&ae){const J=oe.$implicit;t.R7$(),t.Lme(" ",t.bMT(2,2,"form.other-information."+J.key)," : ",J.value," ")}}function te(ae,oe){if(1&ae&&(t.j41(0,"ul",6)(1,"li",7),t.EFF(2),t.k0s(),t.Z7z(3,ie,3,4,"li",8,t.fX1),t.nI1(5,"dsObjNgFor"),t.k0s()),2&ae){const J=oe.entry;t.R7$(2),t.JRh(J.value),t.R7$(),t.Dyx(t.bMT(5,1,J.otherInformation))}}function he(ae,oe){if(1&ae&&(t.j41(0,"ul",6)(1,"li",7),t.EFF(2),t.k0s()()),2&ae){const J=oe.entry;t.R7$(2),t.JRh(J.value)}}function ye(ae,oe){1&ae&&t.nrm(0,"i",10)}function re(ae,oe){if(1&ae){const J=t.RV6();t.j41(0,"i",14),t.bIt("whenClickOnConfidenceNotAccepted",function(_e){t.eBV(J);const Ce=t.XpG(2);return t.Njj(Ce.whenClickOnConfidenceNotAccepted(_e))}),t.k0s()}if(2&ae){const J=t.XpG(2);t.Y8G("authorityValue",J.currentValue)}}function ce(ae,oe){1&ae&&(t.j41(0,"div",13),t.EFF(1,"Sorry, suggestions could not be loaded."),t.k0s())}function Z(ae,oe){if(1&ae){const J=t.RV6();t.j41(0,"div",4)(1,"div",9),t.DNE(2,ye,1,0,"i",10)(3,re,1,1,"i",11),t.k0s(),t.j41(4,"input",12,3),t.nI1(6,"translate"),t.mxI("ngModelChange",function(_e){t.eBV(J);const Ce=t.XpG();return t.DH7(Ce.currentValue,_e)||(Ce.currentValue=_e),t.Njj(_e)}),t.bIt("blur",function(_e){t.eBV(J);const Ce=t.XpG();return t.Njj(Ce.onBlur(_e))})("focus",function(_e){t.eBV(J);const Ce=t.XpG();return t.Njj(Ce.onFocus(_e))})("change",function(_e){t.eBV(J);const Ce=t.XpG();return t.Njj(Ce.onChange(_e))})("input",function(_e){t.eBV(J);const Ce=t.XpG();return t.Njj(Ce.onInput(_e))})("selectItem",function(_e){t.eBV(J);const Ce=t.XpG();return t.Njj(Ce.onSelectItem(_e))}),t.k0s(),t.DNE(7,ce,2,0,"div",13),t.k0s()}if(2&ae){const J=t.XpG(),ve=t.sdS(1);t.R7$(2),t.vxM(J.searching||J.loadingInitialValue?2:-1),t.R7$(),t.vxM(J.searching||J.loadingInitialValue?-1:3),t.R7$(),t.AVh("is-invalid",J.showErrorMessages),t.Y8G("id",J.model.id)("inputFormatter",J.formatter)("name",J.model.name)("ngbTypeahead",J.search)("placeholder",J.model.placeholder)("readonly",J.model.readOnly)("disabled",J.model.readOnly)("resultTemplate",ve)("type",J.model.inputType),t.R50("ngModel",J.currentValue),t.BMQ("aria-labelledby","label_"+J.model.id)("autoComplete",J.model.autoComplete)("aria-label",t.bMT(6,18,J.model.label)),t.R7$(3),t.vxM(J.searchFailed?7:-1)}}function ne(ae,oe){if(1&ae){const J=t.RV6();t.j41(0,"div",4)(1,"i",15),t.bIt("click",function(_e){t.eBV(J);const Ce=t.XpG();return t.Njj(Ce.openTree(_e))}),t.k0s(),t.j41(2,"input",16),t.nI1(3,"translate"),t.bIt("focus",function(_e){t.eBV(J);const Ce=t.XpG();return t.Njj(Ce.onFocus(_e))})("change",function(_e){t.eBV(J);const Ce=t.XpG();return t.Njj(Ce.onChange(_e))})("click",function(_e){t.eBV(J);const Ce=t.XpG();return t.Njj(Ce.openTree(_e))})("keydown",function(_e){return t.eBV(J),t.Njj(_e.preventDefault())})("keypress",function(_e){return t.eBV(J),t.Njj(_e.preventDefault())})("keyup",function(_e){return t.eBV(J),t.Njj(_e.preventDefault())}),t.k0s()()}if(2&ae){const J=t.XpG();t.R7$(2),t.AVh("is-invalid",J.showErrorMessages)("tree-input",!J.model.readOnly),t.Y8G("id",J.id)("name",J.model.name)("placeholder",J.model.placeholder)("readonly",!0)("disabled",J.model.readOnly)("type",J.model.inputType)("value",null==J.currentValue?null:J.currentValue.display),t.BMQ("aria-labelledby","label_"+J.model.id)("autoComplete",J.model.autoComplete)("aria-label",t.bMT(3,14,J.model.label))}}let fe=(()=>{class ae extends z.o{constructor(J,ve,_e,Ce,qe){super(J,_e,qe),this.vocabularyService=J,this.cdr=ve,this.layoutService=_e,this.modalService=Ce,this.validationService=qe,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.pageInfo=new T.Q,this.searching=!1,this.loadingInitialValue=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed$=new m.c(()=>()=>this.changeSearchingStatus(!1)),this.click$=new f.B,this.subs=[],this.formatter=Re=>"object"==typeof Re?Re.display:Re,this.search=Re=>Re.pipe((0,E.h)(this.click$),(0,y.B)(300),(0,M.F)(),(0,b.M)(()=>this.changeSearchingStatus(!0)),(0,P.n)(nt=>""===nt||nt.length<this.model.minChars?(0,v.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(nt,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,L.ak)(),(0,b.M)(()=>this.searchFailed=!1),(0,D.W)(()=>(this.searchFailed=!0,(0,v.of)((0,O.g)(new T.Q,[])))))),(0,I.T)(nt=>nt.page),(0,b.M)(()=>this.changeSearchingStatus(!1)),(0,E.h)(this.hideSearchingWhenUnsubscribed$))}ngOnInit(){this.model.value&&this.setCurrentValue(this.model.value,!0),this.vocabulary$=this.vocabularyService.findVocabularyById(this.model.vocabularyOptions.name).pipe((0,L.ak)(),(0,M.F)()),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,I.T)(J=>J.hierarchical)),this.subs.push(this.group.get(this.model.id).valueChanges.pipe((0,h.p)(J=>this.currentValue!==J)).subscribe(J=>{this.setCurrentValue(this.model.value)}))}changeSearchingStatus(J){this.searching=J,this.cdr.detectChanges()}changeLoadingInitialValueStatus(J){this.loadingInitialValue=J,this.cdr.detectChanges()}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}onInput(J){!this.model.vocabularyOptions.closed&&(0,N.hj)(J.target.value)&&(this.inputValue=new K.e(J.target.value))}onBlur(J){this.instance.isPopupOpen()?(J.preventDefault(),J.stopImmediatePropagation(),!this.model.vocabularyOptions.closed&&(0,N.hj)(this.inputValue)&&((0,N.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null)):(!this.model.vocabularyOptions.closed&&(0,N.hj)(this.inputValue)&&((0,N.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null),this.blur.emit(J))}onChange(J){J.stopPropagation(),(0,N.Im)(this.currentValue)&&this.dispatchUpdate(null)}onSelectItem(J){this.inputValue=null,this.setCurrentValue(J.item),this.dispatchUpdate(J.item)}openTree(J){this.model.readOnly||(J.preventDefault(),J.stopImmediatePropagation(),this.subs.push(this.vocabulary$.pipe((0,I.T)(ve=>ve.preloadLevel),(0,S.s)(1)).subscribe(ve=>{const _e=this.modalService.open(k._,{size:"lg",windowClass:"treeview"});_e.componentInstance.vocabularyOptions=this.model.vocabularyOptions,_e.componentInstance.preloadLevel=ve,_e.componentInstance.selectedItems=this.currentValue?[this.currentValue]:[],_e.result.then(Ce=>{Ce&&(this.currentValue=Ce,this.dispatchUpdate(Ce))},()=>{})})))}whenClickOnConfidenceNotAccepted(J){this.model.readOnly||this.click$.next(this.formatter(this.currentValue))}setCurrentValue(J,ve=!1){let _e;ve?(this.changeLoadingInitialValueStatus(!0),this.getInitValueFromModel(!0).subscribe(Ce=>{this.changeLoadingInitialValueStatus(!1),this.currentValue=Ce,this.cdr.detectChanges()})):(_e=(0,N.Im)(J)?"":J.value,this.currentValue=_e,this.cdr.detectChanges())}ngOnDestroy(){this.subs.filter(J=>(0,N.a4)(J)).forEach(J=>J.unsubscribe())}static{this.\u0275fac=function(ve){return new(ve||ae)(t.rXU(x.g),t.rXU(t.gRc),t.rXU(G.fpj),t.rXU(e.Bq),t.rXU(G.STK))}}static{this.\u0275cmp=t.VBU({type:ae,selectors:[["ds-dynamic-onebox"]],viewQuery:function(ve,_e){if(1&ve&&t.GBs(X,5),2&ve){let Ce;t.mGM(Ce=t.lsd())&&(_e.instance=Ce.first)}},inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:6,consts:[["rt",""],["hasInfo",""],["noInfo",""],["instance","ngbTypeahead"],[1,"position-relative","right-addon"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","fw-bold"],[1,"list-item","text-truncate","text-secondary"],[1,"authority-icons","position-absolute","d-flex","align-items-center"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","my-auto","p-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","my-auto","p-0",3,"authorityValue"],[1,"form-control",3,"ngModelChange","blur","focus","change","input","selectItem","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","disabled","resultTemplate","type","ngModel"],[1,"invalid-feedback"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","my-auto","p-0",3,"whenClickOnConfidenceNotAccepted","authorityValue"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","tree-toggle",3,"click"],[1,"form-control",3,"focus","change","click","keydown","keypress","keyup","id","name","placeholder","readonly","disabled","type","value"]],template:function(ve,_e){1&ve&&(t.DNE(0,ee,1,4,"ng-template",null,0,t.C5r)(2,te,6,3,"ng-template",null,1,t.C5r)(4,he,3,1,"ng-template",null,2,t.C5r)(6,Z,8,20,"div",4),t.nI1(7,"async"),t.DNE(8,ne,4,16,"div",4),t.nI1(9,"async")),2&ve&&(t.R7$(6),t.vxM(!0!==t.bMT(7,2,_e.isHierarchicalVocabulary())?6:-1),t.R7$(2),t.vxM(t.bMT(9,4,_e.isHierarchicalVocabulary())?8:-1))},dependencies:[i.Jj,$.K,c.YN,c.me,c.BC,c.vS,e.h_,e.$n,i.T3,j.U,p.h,p.D9],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:85vh!important;overflow-y:auto}.tree-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.tree-input[readonly][_ngcontent-%COMP%]{background-color:#fff}.authority-icons[_ngcontent-%COMP%]{top:50%;right:0;transform:translateY(-50%)}"]})}}return ae})()},83124:(B,C,n)=>{"use strict";n.d(C,{K:()=>p,m:()=>e});var i=n(31635),t=n(1473),c=n(6549);const e="ONEBOX";class p extends c.C{constructor(f,v){super(f,v),this.type=e,this.autoComplete=t.DAG,this.minChars=f.minChars||3}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],p.prototype,"minChars",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],p.prototype,"type",void 0)},14166:(B,C,n)=>{"use strict";n.d(C,{W:()=>m});var i=n(31635),t=n(1473),c=n(89777),e=n(11275),p=n(6549);class m extends p.C{constructor(v,E){super(v,E),this.type=e.T,this.submissionId=v.submissionId,this.formConfiguration=v.formConfiguration,this.mandatoryField=v.mandatoryField,this.relationFields=v.relationFields,this.scopeUUID=v.scopeUUID,this.submissionScope=v.submissionScope,this.value=v.value||[]}isEmpty(){const v=this.getGroupValue();return 1===v.length&&(0,c.kZ)(v[0][this.mandatoryField])}getGroupValue(){if((0,c.Im)(this.value)){const v=Object.create({});return v[this.mandatoryField]=null,this.relationFields.forEach(E=>{v[E]=null}),[v]}return this.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"formConfiguration",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"mandatoryField",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"relationFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"scopeUUID",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"submissionScope",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"type",void 0)},18190:(B,C,n)=>{"use strict";n.d(C,{s:()=>V});var i=n(60177),t=n(54438),c=n(58003),e=n(68018),p=n(86820),m=n(7673),f=n(96697),v=n(23294),E=n(99437),y=n(88141),M=n(96354),b=n(79096),P=n(58956),D=n(44583),I=n(4093),h=n(73409),S=n(90306),O=n(89777),L=n(13059),x=(n(8428),n(1473));const N=["dropdownMenu"];function j(G,X){1&G&&t.nrm(0,"i",4)}function $(G,X){1&G&&t.nrm(0,"i",5)}function k(G,X){1&G&&(t.j41(0,"button",9),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&G&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"form.no-results")," "))}function K(G,X){if(1&G){const Q=t.RV6();t.j41(0,"button",13),t.nI1(1,"async"),t.bIt("keydown.enter",function(){const ie=t.eBV(Q).$implicit,te=t.XpG(),he=t.sdS(1);return te.onSelect(ie),t.Njj(he.close())})("mousedown",function(){const ie=t.eBV(Q).$implicit,te=t.XpG(),he=t.sdS(1);return te.onSelect(ie),t.Njj(he.close())}),t.EFF(2),t.k0s()}if(2&G){const Q=X.$implicit,ee=X.$index,ie=t.XpG();t.AVh("active",ee===ie.selectedIndex),t.FS9("title",ie.inputFormatter(Q)),t.BMQ("id",ie.inputFormatter(Q)===t.bMT(1,5,ie.currentValue)?"combobox_"+ie.id+"_selected":null),t.R7$(2),t.SpI(" ",ie.inputFormatter(Q)," ")}}function z(G,X){1&G&&(t.j41(0,"div",12)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&G&&(t.R7$(2),t.JRh(t.bMT(3,1,"form.loading")))}let V=(()=>{class G extends L.o{constructor(Q,ee,ie,te,he,ye){super(Q,ie,te),this.vocabularyService=Q,this.cdr=ee,this.layoutService=ie,this.validationService=te,this.parentInjector=he,this.dataServiceMap=ye,this.bindId=!0,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.loading=!1,this.inputText=null,this.selectedIndex=0,this.acceptableKeys=["Space","NumpadMultiply","NumpadAdd","NumpadSubtract","NumpadDecimal","Semicolon","Equal","Comma","Minus","Period","Quote","Backquote"],this.inputFormatter=re=>this.model.formatFunction?this.model.formatFunction(re):re.display||re.value}ngOnInit(){((0,O.a4)(this.model.resourceType)?(0,D.M)(this.dataServiceMap,this.model.resourceType.value,this.parentInjector):(0,m.of)(null)).pipe((0,f.s)(1)).subscribe(ee=>{this.findAllService=ee,this.useFindAllService=(0,O.a4)(this.findAllService?.findAll)&&"function"==typeof this.findAllService.findAll,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!0)}),this.group.get(this.model.id).valueChanges.pipe((0,v.F)()).subscribe(ee=>{this.setCurrentValue(ee)})}getDataFromService(){return this.useFindAllService?this.findAllService.findAll({elementsPerPage:this.pageInfo.elementsPerPage,currentPage:this.pageInfo.currentPage}):this.vocabularyService.getVocabularyEntriesByValue(this.inputText,!1,this.model.vocabularyOptions,this.pageInfo)}loadOptions(Q){this.loading=!0,this.getDataFromService().pipe((0,I.ak)(),(0,E.W)(()=>(0,m.of)((0,P.g)(new h.Q,[]))),(0,y.M)(()=>this.loading=!1)).subscribe(ee=>{this.optionsList=ee.page,Q&&this.model.value&&this.setCurrentValue(this.model.value,!0),this.updatePageInfo(ee.pageInfo.elementsPerPage,ee.pageInfo.currentPage,ee.pageInfo.totalElements,ee.pageInfo.totalPages),this.selectedIndex=0,this.cdr.detectChanges()})}openDropdown(Q){this.model.readOnly||(this.group.markAsUntouched(),this.inputText=null,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1),Q.open())}navigateDropdown(Q){"ArrowDown"===Q.key?this.selectedIndex=Math.min(this.selectedIndex+1,this.optionsList.length-1):"ArrowUp"===Q.key&&(this.selectedIndex=Math.max(this.selectedIndex-1,0)),this.scrollToSelected()}scrollToSelected(){const ee=this.dropdownMenu.nativeElement.querySelectorAll(".dropdown-item")[this.selectedIndex];ee&&ee.scrollIntoView({block:"nearest"})}selectOnKeyDown(Q,ee){const ie=Q.key;"Enter"===ie?(Q.preventDefault(),Q.stopPropagation(),ee.isOpen()?(this.onSelect(this.optionsList[this.selectedIndex]),ee.close()):ee.open()):"ArrowDown"===ie||"ArrowUp"===ie?(Q.preventDefault(),Q.stopPropagation(),this.navigateDropdown(Q)):"Backspace"===ie?this.removeKeyFromInput():this.isAcceptableKey(ie)&&this.addKeyToInput(ie)}addKeyToInput(Q){null===this.inputText&&(this.inputText=""),this.inputText+=Q,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1)}removeKeyFromInput(){null!==this.inputText&&(this.inputText=this.inputText.slice(0,-1),""===this.inputText&&(this.inputText=null),this.loadOptions(!1))}isAcceptableKey(Q){return!(1!==Q.length||!Q.match(/^[a-zA-Z0-9]*$/))||this.acceptableKeys.includes(Q)}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.loading=!0,this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.getDataFromService().pipe((0,I.ak)(),(0,E.W)(()=>(0,m.of)((0,P.g)(new h.Q,[]))),(0,y.M)(()=>this.loading=!1)).subscribe(Q=>{this.optionsList=this.optionsList.concat(Q.page),this.updatePageInfo(Q.pageInfo.elementsPerPage,Q.pageInfo.currentPage,Q.pageInfo.totalElements,Q.pageInfo.totalPages),this.cdr.detectChanges()}))}onSelect(Q){this.group.markAsDirty(),this.dispatchUpdate(Q),this.setCurrentValue(Q)}setCurrentValue(Q,ee=!1){let ie;ie=ee&&!this.useFindAllService?this.getInitValueFromModel().pipe((0,M.T)(te=>te.display)):(0,O.Im)(Q)?(0,m.of)(""):(0,m.of)("string"==typeof Q?Q:this.useFindAllService?Q[this.model.displayKey]:Q.display),this.currentValue=ie}static{this.\u0275fac=function(ee){return new(ee||G)(t.rXU(S.g),t.rXU(t.gRc),t.rXU(x.fpj),t.rXU(x.STK),t.rXU(t.zZn),t.rXU(b.l9))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-dynamic-scrollable-dropdown"]],viewQuery:function(ee,ie){if(1&ee&&t.GBs(N,5,t.aKT),2&ee){let te;t.mGM(te=t.lsd())&&(ie.dropdownMenu=te.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:23,vars:42,consts:[["sdRef","ngbDropdown"],["dropdownMenu",""],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"w-100"],["role","combobox",1,"position-relative","right-addon"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","toggle-icon"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],[1,"form-control",3,"blur","click","focus","keydown","id","name","readonly","disabled","type","value"],["ngbDropdownMenu","",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"scrolled","id","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["type","button",1,"dropdown-item","disabled"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"click","mousedown","title"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"active","title"],[1,"scrollable-dropdown-loading","text-center"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"keydown.enter","mousedown","title"]],template:function(ee,ie){if(1&ee){const te=t.RV6();t.j41(0,"div",2,0)(2,"div",3),t.nI1(3,"translate"),t.nI1(4,"async"),t.DNE(5,j,1,0,"i",4)(6,$,1,0,"i",5),t.j41(7,"input",6),t.nI1(8,"async"),t.bIt("blur",function(ye){return t.eBV(te),t.Njj(ie.onBlur(ye))})("click",function(ye){t.eBV(te);const re=t.sdS(1);return ye.stopPropagation(),t.Njj(ie.openDropdown(re))})("focus",function(ye){return t.eBV(te),t.Njj(ie.onFocus(ye))})("keydown",function(ye){t.eBV(te);const re=t.sdS(1);return t.Njj(ie.selectOnKeyDown(ye,re))}),t.k0s()(),t.j41(9,"div",7,1),t.nI1(11,"translate"),t.j41(12,"div",8),t.nI1(13,"translate"),t.bIt("scrolled",function(){return t.eBV(te),t.Njj(ie.onScroll())}),t.DNE(14,k,3,3,"button",9),t.j41(15,"button",10),t.nI1(16,"translate"),t.bIt("click",function(){t.eBV(te);const ye=t.sdS(1);return ie.onSelect(void 0),t.Njj(ye.close())})("mousedown",function(){t.eBV(te);const ye=t.sdS(1);return ie.onSelect(void 0),t.Njj(ye.close())}),t.j41(17,"i"),t.EFF(18),t.nI1(19,"translate"),t.k0s()(),t.Z7z(20,K,3,7,"button",11,t.fX1),t.DNE(22,z,4,3,"div",12),t.k0s()()()}if(2&ee){const te=t.sdS(1);t.R7$(2),t.BMQ("aria-label",t.bMT(3,28,ie.model.label))("aria-owns","combobox_"+ie.id+"_listbox")("aria-expanded",te.isOpen())("aria-activedescendant",t.bMT(4,30,ie.currentValue)?"combobox_"+ie.id+"_selected":null),t.R7$(3),t.vxM(ie.model.readOnly?5:6),t.R7$(2),t.AVh("is-invalid",ie.showErrorMessages)("scrollable-dropdown-input",!ie.model.readOnly),t.Y8G("id",ie.id)("name",ie.model.name)("readonly",!0)("disabled",ie.model.readOnly)("type",ie.model.inputType)("value",t.bMT(8,32,ie.currentValue)),t.BMQ("aria-controls","combobox_"+ie.id+"_listbox")("aria-label",ie.model.placeholder)("autoComplete",ie.model.autoComplete),t.R7$(2),t.BMQ("aria-label",t.bMT(11,34,ie.model.placeholder)),t.R7$(3),t.Y8G("id","combobox_"+ie.id+"_listbox")("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),t.BMQ("aria-label",t.bMT(13,36,ie.model.placeholder)),t.R7$(2),t.vxM(ie.optionsList&&0===ie.optionsList.length?14:-1),t.R7$(),t.FS9("title",t.bMT(16,38,"dropdown.clear.tooltip")),t.R7$(3),t.JRh(t.bMT(19,40,"dropdown.clear")),t.R7$(2),t.Dyx(ie.optionsList),t.R7$(2),t.vxM(ie.loading?22:-1)}},dependencies:[i.Jj,p.e,p.D,c.zH,c.tg,c.do,c.U0,e.h,e.D9],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;height:calc(var(--bs-spacer) * 2)!important;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important;margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%], .toggle-icon[_ngcontent-%COMP%]{padding:.7rem .7rem 0}"]})}}return G})()},8428:(B,C,n)=>{"use strict";n.d(C,{W:()=>e,j:()=>p});var i=n(31635),t=n(1473),c=n(6549);const e="SCROLLABLE_DROPDOWN";class p extends c.C{constructor(f,v){super(f,v),this.type=e,this.autoComplete=t.DAG,this.vocabularyOptions=f.vocabularyOptions,this.maxOptions=f.maxOptions||10,this.displayKey=f.displayKey||"display",this.formatFunction=f.formatFunction,this.resourceType=f.resourceType}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],p.prototype,"maxOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],p.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],p.prototype,"displayKey",void 0)},78504:(B,C,n)=>{"use strict";n.d(C,{H:()=>p,v:()=>e});var i=n(31635),t=n(1473),c=n(6549);const e="TAG";class p extends c.C{constructor(f,v){super(f,v),this.type=e,this.autoComplete=t.DAG,this.minChars=f.minChars||3,this.value=f.value||[]}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],p.prototype,"minChars",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],p.prototype,"type",void 0)},88503:(B,C,n)=>{"use strict";n.d(C,{d:()=>Un});var i=n(60177),t=n(54438),c=n(58003),e=n(68018),p=n(84412),m=n(84572),f=n(96354),v=n(96697),E=n(65245),y=n(25558),M=n(57775),b=n(10186),P=n(58866),D=n(36343),I=n(68841),h=n(87433),S=n(40940),O=n(4093),L=n(82584),T=n(50553),x=n(79104),N=n(89777),j=n(15202),$=n(76089),k=n(4600),G=(n(48145),n(38516),n(15862),n(29710));n(71804);const Q=["*"];function ee(Ct,Ot){}let ie=(()=>{class Ct extends G.J{constructor(){super(...arguments),this.inAndOutputNames=["label","listId","item","collection","relationship","context","query","repeatable","importedObject","externalSource"],this.importedObject=new t.bkB}getComponentName(){return"DsDynamicLookupRelationExternalSourceTabComponent"}importThemedComponent(wt){return n(90331)(`./${wt}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,71804))}static{this.\u0275fac=(()=>{let wt;return function(ln){return(wt||(wt=t.xGo(Ct)))(ln||Ct)}})()}static{this.\u0275cmp=t.VBU({type:Ct,selectors:[["ds-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:Q,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(mt,ln){1&mt&&(t.NAR(),t.DNE(0,ee,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return Ct})();var te=n(49792);n(83174),n(34579);const re=["*"];function ce(Ct,Ot){}let Z=(()=>{class Ct extends G.J{constructor(){super(...arguments),this.inAndOutputNames=["relationship","listId","query","hiddenQuery","repeatable","selection$","context","relationshipType","item","isLeft","toRemove","isEditRelationship","deselectObject","selectObject","resultFound"],this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.resultFound=new t.bkB}getComponentName(){return"DsDynamicLookupRelationSearchTabComponent"}importThemedComponent(wt){return n(37919)(`./${wt}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,34579))}static{this.\u0275fac=(()=>{let wt;return function(ln){return(wt||(wt=t.xGo(Ct)))(ln||Ct)}})()}static{this.\u0275cmp=t.VBU({type:Ct,selectors:[["ds-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",hiddenQuery:"hiddenQuery",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:re,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(mt,ln){1&mt&&(t.NAR(),t.DNE(0,ce,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return Ct})();var ne=n(58956),fe=n(31),ae=n(73409),oe=n(52186),J=n(70780),ve=n(8417),_e=n(34180),Ce=n(7901);const qe=(Ct,Ot)=>({repeatable:Ct,listId:Ot});function Re(Ct,Ot){1&Ct&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Ct&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"submission.sections.describe.relationship-lookup.selection-tab.no-selection")," "))}function nt(Ct,Ot){if(1&Ct){const wt=t.RV6();t.j41(0,"div")(1,"h3"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ds-viewable-collection",3),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("deselectObject",function(ln){t.eBV(wt);const we=t.XpG();return t.Njj(we.deselectObject.emit(ln))})("selectObject",function(ln){t.eBV(wt);const we=t.XpG();return t.Njj(we.selectObject.emit(ln))}),t.k0s()()}if(2&Ct){const wt=t.XpG();t.R7$(2),t.JRh(t.bMT(3,7,"submission.sections.describe.relationship-lookup.selection-tab.title."+wt.relationshipType)),t.R7$(2),t.Y8G("objects",t.bMT(5,9,wt.selectionRD$))("selectable",!0)("selectionConfig",t.l_i(13,qe,wt.repeatable,wt.listId))("config",t.bMT(6,11,wt.currentPagination$))("hideGear",!0)("context",wt.context)}}let Ge=(()=>{class Ct{constructor(wt,mt,ln){this.router=wt,this.searchConfigService=mt,this.paginationService=ln,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.initialPagination=Object.assign(new ve.W,{id:"spc",pageSize:5})}ngOnInit(){this.resetRoute(),this.selectionRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,f.T)(wt=>wt.pagination),(0,y.n)(wt=>this.selection$.pipe((0,v.s)(1),(0,f.T)(mt=>{const ln=(wt.currentPage-1)*wt.pageSize,Et=mt.slice(ln,ln+wt.pageSize>mt.length?mt.length:ln+wt.pageSize),kt=new ae.Q({elementsPerPage:wt.pageSize,totalElements:mt.length,currentPage:wt.currentPage,totalPages:Math.ceil(mt.length/wt.pageSize)});return(0,_e.SP)((0,ne.g)(kt,Et))})))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination)}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static{this.\u0275fac=function(mt){return new(mt||Ct)(t.rXU(Ce.Ix),t.rXU(L.g),t.rXU(fe.m))}}static{this.\u0275cmp=t.VBU({type:Ct,selectors:[["ds-dynamic-lookup-relation-selection-tab"]],inputs:{relationshipType:"relationshipType",listId:"listId",repeatable:"repeatable",selection$:"selection$",selectionRD$:"selectionRD$",context:"context"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.Jv_([{provide:T.EN,useClass:L.g}]),t.aNF],decls:11,vars:9,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"deselectObject","selectObject","objects","selectable","selectionConfig","config","hideGear","context"]],template:function(mt,ln){if(1&mt&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"ds-page-size-selector"),t.k0s(),t.j41(6,"div",2),t.DNE(7,Re,3,3,"div"),t.nI1(8,"async"),t.DNE(9,nt,7,16,"div"),t.nI1(10,"async"),t.k0s()()),2&mt){let we,Et;t.R7$(3),t.JRh(t.bMT(4,3,"submission.sections.describe.relationship-lookup.selection-tab.settings")),t.R7$(4),t.vxM((null==(we=t.bMT(8,5,ln.selectionRD$))?null:we.payload.page)<1?7:-1),t.R7$(2),t.vxM((null==(Et=t.bMT(10,7,ln.selectionRD$))?null:Et.payload.page.length)>=1?9:-1)}},dependencies:[i.Jj,oe.h,J.b,e.h,e.D9]})}}return Ct})();var at=n(59640);const Ke=Ct=>({size:Ct}),Te=Ct=>({count:Ct});function pt(Ct,Ot){1&Ct&&t.nrm(0,"ds-loading")}function He(Ct,Ot){if(1&Ct){const wt=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-search-tab",14),t.bIt("selectObject",function(ln){t.eBV(wt);const we=t.XpG(2);return t.Njj(we.select(ln))})("deselectObject",function(ln){t.eBV(wt);const we=t.XpG(2);return t.Njj(we.deselect(ln))})("resultFound",function(ln){t.eBV(wt);const we=t.XpG(2);return t.Njj(we.setTotalInternals(ln.pageInfo.totalElements))}),t.k0s()}if(2&Ct){const wt=t.XpG(2);t.Y8G("selection$",wt.selection$)("listId",wt.listId)("relationship",wt.relationshipOptions)("repeatable",wt.repeatable)("context",wt.context)("query",wt.query)("hiddenQuery",wt.hiddenQuery)("relationshipType",wt.relationshipType)("isLeft",wt.isLeft)("item",wt.item)("isEditRelationship",wt.isEditRelationship)("toRemove",wt.toRemove)}}function Bt(Ct,Ot){if(1&Ct){const wt=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-external-source-tab",15),t.bIt("importedObject",function(ln){t.eBV(wt);const we=t.XpG(3);return t.Njj(we.imported(ln))}),t.k0s()}if(2&Ct){const wt=t.XpG().$implicit,mt=t.XpG(2);t.Y8G("label",mt.label)("listId",mt.listId)("repeatable",mt.repeatable)("item",mt.item)("collection",mt.collection)("relationship",mt.relationshipOptions)("context",mt.context)("query",mt.query)("externalSource",wt)}}function it(Ct,Ot){if(1&Ct&&(t.j41(0,"li",10)(1,"a",11),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,Bt,1,9,"ng-template",12),t.k0s()),2&Ct){let wt;const mt=Ot.$implicit,ln=Ot.$index,we=t.XpG(2);t.R7$(2),t.JRh(t.i5U(4,3,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+mt.id,t.eq3(6,Te,null==(wt=t.bMT(3,1,we.totalExternal$))?null:wt[ln])))}}function Tt(Ct,Ot){if(1&Ct){const wt=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-selection-tab",16),t.bIt("selectObject",function(ln){t.eBV(wt);const we=t.XpG(3);return t.Njj(we.select(ln))})("deselectObject",function(ln){t.eBV(wt);const we=t.XpG(3);return t.Njj(we.deselect(ln))}),t.k0s()}if(2&Ct){const wt=t.XpG(3);t.Y8G("selection$",wt.selection$)("listId",wt.listId)("relationshipType",wt.relationshipOptions.relationshipType)("repeatable",wt.repeatable)("context",wt.context)}}function Ee(Ct,Ot){if(1&Ct&&(t.j41(0,"li",10)(1,"a",11),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,Tt,1,5,"ng-template",12),t.k0s()),2&Ct){let wt;const mt=t.XpG(2);t.R7$(2),t.JRh(t.i5U(4,3,"submission.sections.describe.relationship-lookup.selection-tab.tab-title",t.eq3(6,Te,null==(wt=t.bMT(3,1,mt.selection$))?null:wt.length)))}}function je(Ct,Ot){if(1&Ct&&(t.j41(0,"ul",9,0)(2,"li",10)(3,"a",11),t.EFF(4),t.nI1(5,"async"),t.nI1(6,"translate"),t.k0s(),t.DNE(7,He,1,12,"ng-template",12),t.k0s(),t.Z7z(8,it,6,8,"li",10,t.fX1),t.nI1(10,"async"),t.DNE(11,Ee,6,8,"li",10),t.k0s(),t.nrm(12,"div",13)),2&Ct){const wt=t.sdS(1),mt=t.XpG();t.R7$(4),t.JRh(t.i5U(6,5,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+mt.relationshipOptions.relationshipType,t.eq3(10,Te,t.bMT(5,3,mt.totalInternal$)))),t.R7$(4),t.Dyx(t.bMT(10,8,mt.externalSourcesRD$)),t.R7$(3),t.vxM(mt.isEditRelationship?-1:11),t.R7$(),t.Y8G("ngbNavOutlet",wt)}}function ft(Ct,Ot){1&Ct&&t.nrm(0,"span",21)}function vn(Ct,Ot){1&Ct&&t.nrm(0,"i",22)}function hn(Ct,Ot){if(1&Ct){const wt=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(wt);const ln=t.XpG();return t.Njj(ln.discardEv())}),t.nrm(1,"i",18),t.j41(2,"span",19),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"button",20),t.bIt("click",function(){t.eBV(wt);const ln=t.XpG();return t.Njj(ln.submitEv())}),t.DNE(6,ft,1,0,"span",21)(7,vn,1,0,"i",22),t.j41(8,"span",19),t.EFF(9),t.nI1(10,"translate"),t.k0s()()}if(2&Ct){const wt=t.XpG();t.Y8G("dsBtnDisabled",0===wt.toAdd.length&&0===wt.toRemove.length||wt.isPending),t.R7$(3),t.SpI("\xa0",t.bMT(4,6,"item.edit.metadata.discard-button"),""),t.R7$(2),t.Y8G("dsBtnDisabled",0===wt.toAdd.length&&0===wt.toRemove.length||wt.isPending),t.R7$(),t.vxM(wt.isPending?6:-1),t.R7$(),t.vxM(wt.isPending?-1:7),t.R7$(2),t.SpI("\xa0",t.bMT(10,8,"item.edit.metadata.save-button"),"")}}let Un=(()=>{class Ct{constructor(wt,mt,ln,we,Et,kt,vt,Jt,sn,zt){this.modal=wt,this.selectableListService=mt,this.relationshipService=ln,this.externalSourceService=we,this.lookupRelationService=Et,this.searchConfigService=kt,this.rdbService=vt,this.zone=Jt,this.store=sn,this.router=zt,this.selectEvent=new t.bkB,this.subMap={},this.totalInternal$=new p.t(0),this.isLeft=!1,this.isEditRelationship=!1,this.toAdd=[],this.toRemove=[],this.isPending=!1}ngOnInit(){if(this.currentItemIsLeftItem$&&this.currentItemIsLeftItem$.subscribe(wt=>{this.isLeft=wt,this.label=this.relationshipType.leftwardType}),this.selection$=this.selectableListService.getSelectableList(this.listId).pipe((0,f.T)(wt=>(0,N.a4)(wt)&&(0,N.a4)(wt.selection)?wt.selection:[])),this.selection$.pipe((0,v.s)(1)).subscribe(wt=>wt.map(mt=>this.addNameVariantSubscription(mt))),this.context="true"===this.relationshipOptions.nameVariants?S.o.EntitySearchModalWithNameVariants:S.o.EntitySearchModal,(0,N.hj)(this.relationshipOptions.externalSources))this.externalSourcesRD$=this.rdbService.aggregate(this.relationshipOptions.externalSources.map(wt=>this.externalSourceService.findById(wt,!0,!0,(0,k.s)("entityTypes")))).pipe((0,O.Hz)());else{const wt=Object.assign({},new D._,{elementsPerPage:5,currentPage:1,searchParams:[new b.x("entityType",this.relationshipOptions.relationshipType)]});this.externalSourcesRD$=this.externalSourceService.searchBy("findByEntityType",wt,!0,!0,(0,k.s)("entityTypes")).pipe((0,O.ak)(),(0,f.T)(mt=>mt.page))}this.setTotals()}close(){this.toAdd=[],this.toRemove=[],this.modal.close(),this.closeEv()}select(...wt){this.zone.runOutsideAngular(()=>{(0,m.z)([...wt.map(ln=>(this.addNameVariantSubscription(ln),this.relationshipService.getNameVariant(this.listId,ln.indexableObject.uuid).pipe((0,v.s)(1),(0,f.T)(we=>({item:ln.indexableObject,nameVariant:we})))))]).subscribe(ln=>ln.forEach(we=>{const Et=new te.aS(this.item,we.item,this.relationshipOptions.relationshipType,this.submissionId,we.nameVariant);this.store.dispatch(Et)}))})}addNameVariantSubscription(wt){const mt=this.relationshipService.getNameVariant(this.listId,wt.indexableObject.uuid);this.subMap[wt.indexableObject.uuid]=mt.pipe((0,E.i)(1)).subscribe(ln=>this.store.dispatch(new te._I(this.item,wt.indexableObject,this.relationshipOptions.relationshipType,this.submissionId,ln)))}deselect(...wt){this.zone.runOutsideAngular(()=>wt.forEach(mt=>{this.subMap[mt.indexableObject.uuid].unsubscribe(),this.store.dispatch(new te.Fw(this.item,mt.indexableObject,this.relationshipOptions.relationshipType,this.submissionId))}))}imported(wt){this.setTotals(),this.select(wt)}setTotals(){const wt=(0,m.z)([this.externalSourcesRD$,this.searchConfigService.paginatedSearchOptions]);this.totalExternal$=wt.pipe((0,y.n)(([mt,ln])=>(0,m.z)([...mt.map(we=>this.lookupRelationService.getTotalExternalResults(we,ln))])))}setTotalInternals(wt){this.totalInternal$.next(wt)}ngOnDestroy(){this.router.navigate([],{}),Object.values(this.subMap).forEach(wt=>wt.unsubscribe())}closeEv(){}discardEv(){}submitEv(){}static{this.\u0275fac=function(mt){return new(mt||Ct)(t.rXU(c.Lw),t.rXU($.K),t.rXU(h.RelationshipDataService),t.rXU(P.Q),t.rXU(I.c),t.rXU(L.g),t.rXU(M.o),t.rXU(t.SKi),t.rXU(at.il),t.rXU(Ce.Ix))}}static{this.\u0275cmp=t.VBU({type:Ct,selectors:[["ds-dynamic-lookup-relation-modal"]],outputs:{selectEvent:"selectEvent"},standalone:!0,features:[t.Jv_([{provide:T.EN,useClass:L.g}]),t.aNF],decls:19,vars:19,consts:[["nav","ngbNav"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click","dsBtnDisabled"],[1,"modal-body"],[1,"modal-footer"],[1,"d-flex","float-end","space-children-mr"],[1,"close-button"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["ngbNav","",1,"nav-tabs"],["ngbNavItem","","role","presentation"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"d-block","pt-3",3,"selectObject","deselectObject","resultFound","selection$","listId","relationship","repeatable","context","query","hiddenQuery","relationshipType","isLeft","item","isEditRelationship","toRemove"],[1,"d-block","pt-3",3,"importedObject","label","listId","repeatable","item","collection","relationship","context","query","externalSource"],[1,"d-block","pt-3",3,"selectObject","deselectObject","selection$","listId","relationshipType","repeatable","context"],[1,"btn","btn-danger","discard",3,"click","dsBtnDisabled"],[1,"fas","fa-times"],[1,"d-none","d-sm-inline"],[1,"btn","btn-primary","submit",3,"click","dsBtnDisabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"fas","fa-save"]],template:function(mt,ln){if(1&mt&&(t.j41(0,"div",1)(1,"h4",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return ln.close()}),t.k0s()(),t.j41(5,"div",4),t.DNE(6,pt,1,0,"ds-loading")(7,je,13,12),t.k0s(),t.j41(8,"div",5)(9,"small"),t.EFF(10),t.nI1(11,"async"),t.nI1(12,"translate"),t.k0s(),t.j41(13,"div",6)(14,"div",7)(15,"button",8),t.bIt("click",function(){return ln.close()}),t.EFF(16),t.nI1(17,"translate"),t.k0s()(),t.DNE(18,hn,11,10),t.k0s()()),2&mt){let we;t.R7$(2),t.JRh(t.bMT(3,8,"submission.sections.describe.relationship-lookup.title."+ln.relationshipOptions.relationshipType)),t.R7$(2),t.Y8G("dsBtnDisabled",ln.isPending),t.R7$(2),t.vxM(ln.item&&ln.collection?-1:6),t.R7$(),t.vxM(ln.item&&ln.collection?7:-1),t.R7$(3),t.JRh(t.i5U(12,12,"submission.sections.describe.relationship-lookup.selected",t.eq3(17,Ke,(null==(we=t.bMT(11,10,ln.selection$))?null:we.length)||0))),t.R7$(5),t.Y8G("dsBtnDisabled",ln.isPending),t.R7$(),t.SpI(" ",t.bMT(17,15,"submission.sections.describe.relationship-lookup.close"),""),t.R7$(2),t.vxM(ln.isEditRelationship?18:-1)}},dependencies:[i.Jj,x.A,Ge,c.Pv,c.Um,c.X9,c.sy,c.Ri,c.m_,ie,Z,j.v,e.h,e.D9],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]     .modal-content{width:90%;margin:5%}[_nghost-%COMP%]   .spinner-border[_ngcontent-%COMP%]{vertical-align:middle}"]})}}return Ct})()},71804:(B,C,n)=>{"use strict";n.r(C),n.d(C,{DsDynamicLookupRelationExternalSourceTabComponent:()=>Z});var i=n(60177),t=n(54438),c=n(68018),e=n(96354),p=n(25558),m=n(99172),f=n(58866),v=n(31),P=(n(48145),n(40940),n(38516),n(15862),n(4093)),D=n(82584),I=n(50553),h=n(2180),S=n(89777),O=n(14744),L=n(15202),T=n(52186),x=n(76089),N=n(70780),j=n(8417),$=n(43144),k=n(50186),K=n(29710);n(85669);const V=["*"];function G(ne,fe){}let X=(()=>{class ne extends K.J{getComponentName(){return"ExternalSourceEntryImportModalComponent"}importThemedComponent(ae){return n(14651)(`./${ae}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,85669))}static{this.\u0275fac=(()=>{let ae;return function(J){return(ae||(ae=t.xGo(ne)))(J||ne)}})()}static{this.\u0275cmp=t.VBU({type:ne,selectors:[["ds-external-source-entry-import-modal"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:V,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(oe,J){1&oe&&(t.NAR(),t.DNE(0,G,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return ne})();var Q=n(7901),ee=n(58003);const ie=(ne,fe)=>({repeatable:ne,listId:fe});function te(ne,fe){if(1&ne){const ae=t.RV6();t.j41(0,"ds-viewable-collection",8),t.nI1(1,"async"),t.bIt("importObject",function(J){t.eBV(ae);const ve=t.XpG(2);return t.Njj(ve.import(J))}),t.k0s()}if(2&ne){const ae=t.XpG().ngVar,oe=t.XpG();t.Y8G("@fadeIn",void 0)("objects",ae)("selectionConfig",t.l_i(10,ie,oe.repeatable,oe.listId))("config",t.bMT(1,8,oe.currentPagination$))("hideGear",!0)("context",oe.context)("importable",!0)("importConfig",oe.importConfig)}}function he(ne,fe){1&ne&&(t.nrm(0,"ds-loading",6),t.nI1(1,"translate")),2&ne&&t.FS9("message",t.bMT(1,1,"loading.search-results"))}function ye(ne,fe){1&ne&&(t.nrm(0,"ds-error",6),t.nI1(1,"translate")),2&ne&&t.FS9("message",t.bMT(1,1,"error.search-results"))}function re(ne,fe){1&ne&&(t.j41(0,"div",7),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&ne&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.results.empty")," "))}function ce(ne,fe){if(1&ne&&(t.qex(0),t.DNE(1,te,2,13,"ds-viewable-collection",5)(2,he,2,3,"ds-loading",6)(3,ye,2,3,"ds-error",6)(4,re,3,3,"div",7),t.bVm()),2&ne){const ae=fe.ngVar;t.R7$(),t.vxM(null!=ae&&ae.hasSucceeded&&(null==ae||!ae.isLoading)&&(null==ae||null==ae.payload||null==ae.payload.page?null:ae.payload.page.length)>0?1:-1),t.R7$(),t.vxM(!ae||null!=ae&&ae.isLoading?2:-1),t.R7$(),t.vxM(null==ae||!ae.hasFailed||null!=ae&&ae.errorMessage&&400===(null==ae?null:ae.statusCode)?-1:3),t.R7$(),t.vxM(0===(null==ae||null==ae.payload||null==ae.payload.page?null:ae.payload.page.length)||400===(null==ae?null:ae.statusCode)?4:-1)}}let Z=(()=>{class ne{constructor(ae,oe,J,ve,_e,Ce){this.router=ae,this.searchConfigService=oe,this.externalSourceService=J,this.modalService=ve,this.selectableListService=_e,this.paginationService=Ce,this.importedObject=new t.bkB,this.initialPagination=Object.assign(new j.W,{id:"spc",pageSize:5}),this.subs=[]}ngOnInit(){this.externalSource.entityTypes.pipe((0,P.qD)(),(0,e.T)(ae=>ae.hasSucceeded&&ae.payload.totalElements>0?ae.payload.page[0]:null)).subscribe(ae=>{this.relatedEntityType=ae}),this.resetRoute(),this.entriesRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,p.n)(ae=>(""===ae.query&&(ae.query=this.query),this.externalSourceService.getExternalSourceEntries(this.externalSource.id,ae).pipe((0,m.Z)(void 0))))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination),this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label}}import(ae){this.modalRef=this.modalService.open(X,{size:"lg",container:"ds-dynamic-lookup-relation-modal"});const oe=this.modalRef.componentInstance.compRef$.pipe((0,S.Az)(),(0,e.T)(J=>J.instance));this.subs.push(oe.subscribe(J=>{J.externalSourceEntry=ae,J.item=this.item,J.relationship=this.relationship,J.label=this.label,J.relatedEntityType=this.relatedEntityType})),this.subs.push(oe.pipe((0,p.n)(J=>J.importedObject)).subscribe(J=>{this.selectableListService.selectSingle(this.listId,J),this.importedObject.emit(J)}))}ngOnDestroy(){this.subs.filter(ae=>(0,S.a4)(ae)).forEach(ae=>ae.unsubscribe())}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static{this.\u0275fac=function(oe){return new(oe||ne)(t.rXU(Q.Ix),t.rXU(D.g),t.rXU(f.Q),t.rXU(ee.Bq),t.rXU(x.K),t.rXU(v.m))}}static{this.\u0275cmp=t.VBU({type:ne,selectors:[["ds-base-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[t.Jv_([{provide:I.EN,useClass:D.g}]),t.aNF],decls:16,vars:16,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"query","inPlaceSearch","searchPlaceholder"],[4,"ngVar"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig"],[3,"message"],["id","empty-external-entry-list"],[3,"importObject","objects","selectionConfig","config","hideGear","context","importable","importConfig"]],template:function(oe,J){if(1&oe&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"ds-page-size-selector"),t.k0s(),t.j41(6,"div",2),t.nrm(7,"ds-search-form",3),t.nI1(8,"async"),t.nI1(9,"translate"),t.j41(10,"div")(11,"h3"),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.DNE(14,ce,5,4,"ng-container",4),t.nI1(15,"async"),t.k0s()()()),2&oe){let ve;t.R7$(3),t.JRh(t.bMT(4,6,"submission.sections.describe.relationship-lookup.selection-tab.settings")),t.R7$(4),t.Y8G("query",null==(ve=t.bMT(8,8,J.searchConfigService.paginatedSearchOptions))?null:ve.query)("inPlaceSearch",!0)("searchPlaceholder",t.bMT(9,10,"submission.sections.describe.relationship-lookup.selection-tab.search-form.placeholder")),t.R7$(5),t.JRh(t.bMT(13,12,"submission.sections.describe.relationship-lookup.selection-tab.title."+J.externalSource.id)),t.R7$(2),t.Y8G("ngVar",t.bMT(15,14,J.entriesRD$))}},dependencies:[i.Jj,O.A,T.h,N.b,L.v,$.d,c.h,c.D9,k.r],data:{animation:[h.qG,h.Ws]}})}}return ne})()},85669:(B,C,n)=>{"use strict";n.r(C),n.d(C,{ExternalSourceEntryImportModalComponent:()=>K,ImportType:()=>k});var i=n(60177),t=n(54438),c=n(68018),e=n(25558),p=n(96697),m=n(61206),f=n(68841),v=n(40940),E=n(61880),y=n(4093),M=n(56066),b=n(79104),P=n(9847),D=n(79669),I=n(39210),h=n(76089),S=n(8417),O=n(30726),L=n(18155),T=n(58003);const x=z=>({repeatable:!1,listId:z});function N(z,V){if(1&z&&(t.j41(0,"div")(1,"a",15),t.EFF(2),t.k0s()()),2&z){const G=t.XpG();t.R7$(),t.FS9("href",G.uri.value,t.B4B),t.R7$(),t.JRh(G.uri.value)}}function j(z,V){if(1&z){const G=t.RV6();t.j41(0,"ds-search-results",16),t.nI1(1,"async"),t.bIt("deselectObject",function(){t.eBV(G);const Q=t.XpG();return t.Njj(Q.deselectEntity())})("selectObject",function(Q){t.eBV(G);const ee=t.XpG();return t.Njj(ee.selectEntity(Q))}),t.k0s()}if(2&z){const G=t.XpG();t.Y8G("searchResults",t.bMT(1,9,G.localEntitiesRD$))("sortConfig",null==G.lookupRelationService.searchConfig?null:G.lookupRelationService.searchConfig.sort)("searchConfig",G.lookupRelationService.searchConfig)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!0)("selectionConfig",t.eq3(11,x,G.entityListId))("linkType",G.linkTypes.ExternalLink)("context",G.context)}}function $(z,V){if(1&z){const G=t.RV6();t.j41(0,"div",11)(1,"h5",6),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",8)(5,"input",17),t.bIt("click",function(){t.eBV(G);const Q=t.XpG();return t.Njj(Q.selectNewAuthority())}),t.k0s(),t.j41(6,"label",18),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()}if(2&z){const G=t.XpG();t.R7$(2),t.JRh(t.bMT(3,3,G.labelPrefix+"authority")),t.R7$(3),t.Y8G("checked",G.selectedImportType===G.importType.NewAuthority),t.R7$(2),t.JRh(t.bMT(8,5,G.labelPrefix+"authority.new"))}}var k=function(z){return z.None="None",z.LocalEntity="LocalEntity",z.LocalAuthority="LocalAuthority",z.NewEntity="NewEntity",z.NewAuthority="NewAuthority",z}(k||{});let K=(()=>{class z{constructor(G,X,Q,ee,ie,te,he){this.modal=G,this.lookupRelationService=X,this.modalService=Q,this.selectService=ee,this.itemService=ie,this.notificationsService=te,this.translateService=he,this.labelPrefix="submission.sections.describe.relationship-lookup.external-source.import-modal.",this.linkTypes=D.n,this.context=v.o.EntitySearchModalWithNameVariants,this.entityListId="external-source-import-entity",this.authorityListId="external-source-import-authority",this.importType=k,this.selectedImportType=k.None,this.importedObject=new t.bkB,this.authorityEnabled=!1}ngOnInit(){this.uri=E.O.first(this.externalSourceEntry.metadata,"dc.identifier.uri");const G=Object.assign(new S.W,{id:"external-entry-import",pageSize:5});this.searchOptions=Object.assign(new O.C({query:this.externalSourceEntry.value,pagination:G})),this.localEntitiesRD$=this.lookupRelationService.getLocalResults(this.relationship,this.searchOptions)}close(){this.modal.close()}import(){switch(this.selectedImportType){case k.LocalEntity:this.importLocalEntity();break;case k.NewEntity:this.importNewEntity();break;case k.LocalAuthority:this.importLocalAuthority();break;case k.NewAuthority:this.importNewAuthority()}this.selectedImportType=k.None,this.deselectAllLists(),this.close()}importLocalEntity(){void 0!==this.selectedEntity&&(this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.local-entity")),this.importedObject.emit(this.selectedEntity))}importNewEntity(){this.modalRef=this.modalService.open(M.m,{size:"lg"}),this.modalRef.componentInstance.entityType=this.relatedEntityType.label,this.modalRef.componentInstance.selectedEvent.pipe((0,e.n)(G=>this.itemService.importExternalSourceEntry(this.externalSourceEntry,G.collection.id).pipe((0,y.yd)(),(0,y.Bo)(),(0,p.s)(1)))).subscribe(G=>{this.lookupRelationService.removeLocalResultsCache();const X=Object.assign(new I.H,{indexableObject:G});this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.new-entity")),this.modalRef.close(),this.importedObject.emit(X)})}importLocalAuthority(){}importNewAuthority(){}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===k.LocalEntity&&(this.selectedImportType=k.None)}selectEntity(G){this.selectedEntity=G,this.selectedImportType=k.LocalEntity}selectNewEntity(){this.selectedImportType===k.NewEntity?this.selectedImportType=k.None:(this.selectedImportType=k.NewEntity,this.deselectAllLists())}deselectAuthority(){this.selectedAuthority=void 0,this.selectedImportType===k.LocalAuthority&&(this.selectedImportType=k.None)}selectAuthority(G){this.selectedAuthority=G,this.selectedImportType=k.LocalAuthority}selectNewAuthority(){this.selectedImportType===k.NewAuthority?this.selectedImportType=k.None:(this.selectedImportType=k.NewAuthority,this.deselectAllLists())}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}static{this.\u0275fac=function(X){return new(X||z)(t.rXU(T.Lw),t.rXU(f.c),t.rXU(T.Bq),t.rXU(h.K),t.rXU(m.ItemDataService),t.rXU(P.I),t.rXU(c.c$))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["ds-base-external-source-entry-import-modal"]],standalone:!0,features:[t.aNF],decls:38,vars:29,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],["id","external-source-entry-information",1,"mb-3"],["id","external-source-entry-entities",1,"mb-3"],[1,"fw-bold"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context"],[1,"ms-4","form-check"],["type","radio","name","new-entity","id","new-entity","value","new-entity",1,"form-check-input",3,"click","checked"],["for","new-entity",1,"form-check-label"],["id","external-source-entry-authority"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","dsBtnDisabled"],[3,"href"],[3,"deselectObject","selectObject","searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context"],["type","radio","name","new-authority","id","new-authority","value","new-authority",1,"form-check-input",3,"click","checked"],["for","new-authority",1,"form-check-label"]],template:function(X,Q){if(1&X&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return Q.modal.dismiss()}),t.k0s()(),t.j41(5,"div",3)(6,"h4"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",4)(10,"div")(11,"span"),t.EFF(12),t.k0s()(),t.DNE(13,N,3,2,"div"),t.k0s(),t.j41(14,"h4"),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.j41(17,"div",5)(18,"h5",6),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.DNE(21,j,2,13,"ds-search-results",7),t.nI1(22,"async"),t.j41(23,"div",8)(24,"input",9),t.bIt("click",function(){return Q.selectNewEntity()}),t.k0s(),t.j41(25,"label",10),t.EFF(26),t.nI1(27,"translate"),t.k0s()()(),t.DNE(28,$,9,7,"div",11),t.k0s(),t.j41(29,"div",12)(30,"div")(31,"button",13),t.bIt("click",function(){return Q.close()}),t.EFF(32),t.nI1(33,"translate"),t.k0s()(),t.j41(34,"div")(35,"button",14),t.bIt("click",function(){return Q.import()}),t.EFF(36),t.nI1(37,"translate"),t.k0s()()()),2&X){let ee;t.R7$(2),t.JRh(t.bMT(3,13,Q.labelPrefix+Q.label+".title")),t.R7$(5),t.JRh(t.bMT(8,15,Q.labelPrefix+"head."+Q.externalSourceEntry.externalSource)),t.R7$(5),t.JRh(Q.externalSourceEntry.display),t.R7$(),t.vxM(Q.uri?13:-1),t.R7$(2),t.JRh(t.bMT(16,17,Q.labelPrefix+"select")),t.R7$(4),t.JRh(t.bMT(20,19,Q.labelPrefix+"entities")),t.R7$(2),t.vxM((null==(ee=t.bMT(22,21,Q.localEntitiesRD$))||null==ee.payload||null==ee.payload.page?null:ee.payload.page.length)>0?21:-1),t.R7$(3),t.Y8G("checked",Q.selectedImportType===Q.importType.NewEntity),t.R7$(2),t.JRh(t.bMT(27,23,Q.labelPrefix+"entities.new")),t.R7$(2),t.vxM(Q.authorityEnabled?28:-1),t.R7$(4),t.JRh(t.bMT(33,25,Q.labelPrefix+"cancel")),t.R7$(3),t.Y8G("dsBtnDisabled",Q.selectedImportType===Q.importType.None),t.R7$(),t.JRh(t.bMT(37,27,Q.labelPrefix+"import"))}},dependencies:[i.Jj,b.A,L.N,c.h,c.D9],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}"]})}}return z})()},19209:(B,C,n)=>{"use strict";n.d(C,{SF:()=>t,dD:()=>e,zH:()=>p});var i=n(6800);const t={SET_NAME_VARIANT:(0,i.N)("dspace/name-variant/SET_NAME_VARIANT"),REMOVE_NAME_VARIANT:(0,i.N)("dspace/name-variant/REMOVE_NAME_VARIANT")};class c{constructor(f,v){this.payload={listID:f,itemID:v}}}class e extends c{constructor(f,v,E){super(f,v),this.type=t.SET_NAME_VARIANT,this.payload.nameVariant=E}}class p extends c{constructor(f,v){super(f,v),this.type=t.REMOVE_NAME_VARIANT}}},49792:(B,C,n)=>{"use strict";n.d(C,{Fw:()=>m,_I:()=>e,aS:()=>c,oE:()=>t});var i=n(6800);const t={ADD_RELATIONSHIP:(0,i.N)("dspace/relationship/ADD_RELATIONSHIP"),REMOVE_RELATIONSHIP:(0,i.N)("dspace/relationship/REMOVE_RELATIONSHIP"),UPDATE_NAME_VARIANT:(0,i.N)("dspace/relationship/UPDATE_NAME_VARIANT"),UPDATE_RELATIONSHIP:(0,i.N)("dspace/relationship/UPDATE_RELATIONSHIP")};class c{constructor(v,E,y,M,b){this.type=t.ADD_RELATIONSHIP,this.payload={item1:v,item2:E,relationshipType:y,submissionId:M,nameVariant:b}}}class e{constructor(v,E,y,M,b){this.type=t.UPDATE_NAME_VARIANT,this.payload={item1:v,item2:E,relationshipType:y,submissionId:M,nameVariant:b}}}class m{constructor(v,E,y,M){this.type=t.REMOVE_RELATIONSHIP,this.payload={item1:v,item2:E,relationshipType:y,submissionId:M}}}},34579:(B,C,n)=>{"use strict";n.r(C),n.d(C,{DsDynamicLookupRelationSearchTabComponent:()=>z});var i=n(60177),t=n(54438),c=n(58003),e=n(68018),p=n(84412),m=n(96697),f=n(68841),v=n(87433),E=n(31),P=(n(40940),n(15862),n(83174),n(4093)),D=n(94314),I=n(82584),h=n(50553),S=n(89777),O=n(79669),L=n(76089),T=n(89336),x=n(50186);const N=(V,G)=>({repeatable:V,listId:G});function j(V,G){1&V&&(t.j41(0,"button",5),t.nrm(1,"span",9),t.j41(2,"span",7),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&V&&(t.R7$(3),t.JRh(t.bMT(4,1,"submission.sections.describe.relationship-lookup.search-tab.loading")))}function $(V,G){if(1&V){const X=t.RV6();t.j41(0,"div",10)(1,"button",11),t.bIt("click",function(){const ee=t.eBV(X).ngVar,ie=t.XpG(3);return t.Njj(ie.selectPage(null==ee?null:ee.page))}),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",11),t.bIt("click",function(){const ee=t.eBV(X).ngVar,ie=t.XpG(3);return t.Njj(ie.deselectPage(null==ee?null:ee.page))}),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}2&V&&(t.R7$(2),t.JRh(t.bMT(3,2,"submission.sections.describe.relationship-lookup.search-tab.select-page")),t.R7$(3),t.JRh(t.bMT(6,4,"submission.sections.describe.relationship-lookup.search-tab.deselect-page")))}function k(V,G){if(1&V&&(t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.DNE(3,j,5,3,"button",5),t.j41(4,"button",6)(5,"span",7),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,$,7,6,"div",8),t.nI1(9,"async"),t.k0s()()()),2&V){const X=t.XpG(2);t.R7$(3),t.vxM(X.selectAllLoading?3:-1),t.R7$(),t.Y8G("hidden",X.selectAllLoading),t.R7$(2),t.JRh(t.bMT(7,4,"submission.sections.describe.relationship-lookup.toggle-dropdown")),t.R7$(2),t.Y8G("ngVar",t.bMT(9,6,X.resultsRD$))}}function K(V,G){if(1&V){const X=t.RV6();t.j41(0,"ds-search",1),t.bIt("resultFound",function(ee){t.eBV(X);const ie=t.XpG();return t.Njj(ie.onResultFound(ee))})("deselectObject",function(ee){t.eBV(X);const ie=t.XpG();return t.Njj(ie.deselectObject.emit(ee))})("selectObject",function(ee){t.eBV(X);const ie=t.XpG();return t.Njj(ie.selectObject.emit(ee))}),t.DNE(1,k,10,8,"div",2),t.k0s()}if(2&V){const X=t.XpG();t.Y8G("configuration",X.relationship.searchConfiguration)("context",X.context)("fixedFilterQuery",X.relationship.filter)("hiddenQuery",X.hiddenQuery)("inPlaceSearch",!0)("linkType",X.linkTypes.ExternalLink)("searchFormPlaceholder","submission.sections.describe.relationship-lookup.search-tab.search-form.placeholder")("selectable",!0)("selectionConfig",t.l_i(13,N,X.repeatable,X.listId))("showScopeSelector",!1)("showViewModes",!1)("query",X.query),t.R7$(),t.vxM(X.repeatable?1:-1)}}let z=(()=>{class V{constructor(X,Q,ee,ie,te,he){this.searchService=X,this.selectableListService=Q,this.searchConfigService=ee,this.lookupRelationService=ie,this.relationshipService=te,this.paginationService=he,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.resultsRD$=new p.t(null),this.initialPagination={page:1,pageSize:5},this.linkTypes=O.n,this.resultFound=new t.bkB}ngOnInit(){this.resetRoute()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,this.initialPagination)}selectPage(X){this.selection$.pipe((0,m.s)(1)).subscribe(Q=>{const ee=X.filter(ie=>Q.findIndex(te=>te.equals(ie))<0);this.selectObject.emit(...ee)}),this.selectableListService.select(this.listId,X)}deselectPage(X){this.allSelected=!1,this.selection$.pipe((0,m.s)(1)).subscribe(Q=>{const ee=X.filter(ie=>Q.findIndex(te=>te.equals(ie))>=0);this.deselectObject.emit(...ee)}),this.selectableListService.deselect(this.listId,X)}setSelectedIds(X,Q){let ee=this.relationshipType.rightwardType;this.isLeft&&(ee=this.relationshipType.leftwardType),this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,ee,X).pipe((0,P.yd)(),(0,P.Bo)()).subscribe(ie=>{let te=ie.page.map(he=>{let ye=[];return ye=this.isLeft?he._links.rightItem.href.split("/"):he._links.leftItem.href.split("/"),this.getRelatedItem(ye[ye.length-1],Q)});te=te.filter(he=>!this.getIfInRemove(he.indexableObject.uuid)),te.length>0&&this.selectableListService.select(this.listId,te)})}deselectAll(){this.allSelected=!1,this.selection$.pipe((0,m.s)(1)).subscribe(X=>this.deselectObject.emit(...X)),this.selectableListService.deselectAll(this.listId)}getRelatedItem(X,Q){return Q.find(ee=>ee.indexableObject.uuid===X)}getIfInRemove(X){return!!this.toRemove.find(Q=>Q.indexableObject.uuid===X)}ngOnDestroy(){(0,S.a4)(this.subscription)&&this.subscription.unsubscribe()}onResultFound(X){if(this.resultsRD$.next(X),this.resultFound.emit(X),this.isEditRelationship){const Q=X.page.map(ee=>ee.indexableObject.uuid);this.setSelectedIds(Q,X.page)}}static{this.\u0275fac=function(Q){return new(Q||V)(t.rXU(D.S),t.rXU(L.K),t.rXU(I.g),t.rXU(f.c),t.rXU(v.RelationshipDataService),t.rXU(E.m))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-base-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship",hiddenQuery:"hiddenQuery"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[t.Jv_([{provide:h.EN,useClass:I.g}]),t.aNF],decls:1,vars:1,consts:[[3,"configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query"],[3,"resultFound","deselectObject","selectObject","configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query"],["additionalSearchOptions","",1,"position-absolute"],[1,"input-group","mb-3"],["ngbDropdown","",1,"input-group","dropdown-button"],["type","button",1,"btn","btn-outline-secondary","rounded-end"],["id","resultdropdown","type","button","ngbDropdownToggle","","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle-split",3,"hidden"],[1,"sr-only"],["ngbDropdownMenu","","aria-labelledby","resultdropdown",4,"ngVar"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["ngbDropdownMenu","","aria-labelledby","resultdropdown"],[1,"dropdown-item",3,"click"]],template:function(Q,ee){1&Q&&t.DNE(0,K,2,16,"ds-search",0),2&Q&&t.vxM(ee.relationship.searchConfiguration&&ee.context?0:-1)},dependencies:[i.Jj,c.zH,c.tg,c.do,c.U0,T.N,e.h,e.D9,x.r],styles:[".position-absolute[_ngcontent-%COMP%]{right:var(--bs-spacer)}.dropdown-button[_ngcontent-%COMP%]{z-index:3}"]})}}return V})()},49838:(B,C,n)=>{"use strict";n.d(C,{j:()=>zt});var i=n(1473),t=n(83278),c=n.n(t),e=n(78124),p=n.n(e),m=n(25689),f=n.n(m),v=n(94925),E=n(54095),y=n(4093),M=n(50813),b=n(89777),P=n(11275),D=n(31635),I=n(21413),h=n(95720),S=n(31888);const O="_CONCAT_GROUP";class x extends i.iO5{constructor(Je,ke){super(Je,ke),this.hasLanguages=!1,this.typeBindHidden=!1,this.isCustomGroup=!0,this.separator=Je.separator+" ",this.relationship=Je.relationship,this.repeatable=Je.repeatable,this.required=Je.required,this.hint=Je.hint,this.metadataFields=Je.metadataFields,this.submissionId=Je.submissionId,this.hasSelectableMetadata=Je.hasSelectableMetadata,this.metadataValue=Je.metadataValue,this.valueUpdates=new I.B,this.valueUpdates.subscribe(Le=>this.value=Le),this.typeBindRelations=Je.typeBindRelations?Je.typeBindRelations:[],this.readOnly=Je.disabled}get value(){const[Je,ke]=this.group.map(Le=>"string"==typeof Le.value?Object.assign(new h.e,{value:Le.value,display:Le.value}):Le.value);return(0,b.hj)(Je)&&(0,b.hj)(Je.value)&&(0,b.hj)(ke)&&(0,b.hj)(ke.value)?Object.assign(new h.e,Je,{value:Je.value+this.separator+ke.value}):(0,b.hj)(Je)&&(0,b.hj)(Je.value)?Object.assign(new h.e,Je):(0,b.hj)(ke)&&(0,b.hj)(ke.value)?Object.assign(new h.e,ke):null}set value(Je){let ke;ke="string"==typeof Je?Je:Je.value,(0,b.Tn)(ke)&&(ke="");const Le=[...ke.split(this.separator),null].map(ze=>Object.assign(new h.e,Je,{display:ze,value:ze}));this.get(0).value=Le[0].value?Le[0]:void 0,this.get(1).value=Le[1].value?Le[1]:void 0}}(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],x.prototype,"separator",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Object)],x.prototype,"hasLanguages",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Array)],x.prototype,"typeBindRelations",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Object)],x.prototype,"typeBindHidden",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",S.j)],x.prototype,"relationship",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],x.prototype,"repeatable",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],x.prototype,"required",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],x.prototype,"hint",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Array)],x.prototype,"metadataFields",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],x.prototype,"submissionId",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],x.prototype,"hasSelectableMetadata",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",E.vD)],x.prototype,"metadataValue",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],x.prototype,"readOnly",void 0);var N=n(78504),j=n(54438),$=n(59519),k=n.n($),K=n(61989);class z extends i.iO5{constructor(){super(...arguments),this.isRowGroup=!0}}var V=function(Gt){return Gt.WorkspaceItem="SUBMISSION",Gt.WorkflowItem="WORKFLOW",Gt}(V||{}),G=n(68018),X=n(29029),Q=n(55398),ee=n(74850);class ie{}(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",String)],ie.prototype,"hints",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",String)],ie.prototype,"label",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",Array)],ie.prototype,"languageCodes",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",String)],ie.prototype,"mandatoryMessage",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",String)],ie.prototype,"mandatory",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",Boolean)],ie.prototype,"repeatable",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",Object)],ie.prototype,"input",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",Array)],ie.prototype,"selectableMetadata",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",S.j)],ie.prototype,"selectableRelationship",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",Array)],ie.prototype,"rows",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",String)],ie.prototype,"scope",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",String)],ie.prototype,"style",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",Array)],ie.prototype,"typeBind",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",Object)],ie.prototype,"value",void 0),(0,D.Cg)([ee.autoserialize,(0,D.Sn)("design:type",Object)],ie.prototype,"visibility",void 0);var te=n(52043);function he(Gt,Je,ke,Le){(0,b.kZ)(Gt.layout)?(Gt.layout={},Gt.layout[Je]={},Gt.layout[Je][ke]=Le):(0,b.b0)(Gt.layout[Je])?(Gt.layout[Je]={},Gt.layout[Je][ke]=Le):Gt.layout[Je][ke]=(0,b.b0)(Gt.layout[Je][ke])?Le:Gt.layout[Je][ke].concat(` ${Le}`)}var ye=function(Gt){return Gt.Date="date",Gt.Dropdown="dropdown",Gt.RelationGroup="group",Gt.List="list",Gt.Lookup="lookup",Gt.LookupName="lookup-name",Gt.LookupRelation="lookup-relation",Gt.Onebox="onebox",Gt.Name="name",Gt.Series="series",Gt.Tag="tag",Gt.Textarea="textarea",Gt}(ye||{});const re=new j.nKC("submissionId"),ce=new j.nKC("configData"),Z=new j.nKC("initFormValues"),ne=new j.nKC("parserOptions"),fe=new RegExp("(\\/?)(.+)\\1([gimsuy]*)","i");let ae=class{constructor(Je,ke,Le,ze,lt){this.submissionId=Je,this.configData=ke,this.initFormValues=Le,this.parserOptions=ze,this.translate=lt}parse(){if((this.getInitValueCount()>1&&!this.configData.repeatable||this.configData.repeatable)&&this.configData.input.type!==ye.List.valueOf()&&this.configData.input.type!==ye.Tag.valueOf()){let Le,Je=0,ke=0;Array.isArray(this.configData.selectableMetadata)&&1===this.configData.selectableMetadata.length&&(Le=this.configData.selectableMetadata[0].metadata);let ze=!0;this.configData.input.type===ye.Onebox.valueOf()&&this.configData?.selectableMetadata?.length>1&&(ze=!1);const lt={id:k()()+"_array",label:this.configData.label,initialCount:this.getInitArrayIndex(),notRepeatable:!this.configData.repeatable,relationshipConfig:this.configData.selectableRelationship,required:JSON.parse(this.configData.mandatory),submissionId:this.submissionId,metadataKey:Le,metadataFields:this.getAllFieldIds(),hasSelectableMetadata:(0,b.hj)(this.configData.selectableMetadata),isDraggable:ze,typeBindRelations:(0,b.hj)(this.configData.typeBind)?this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField):null,groupFactory:()=>{let fn;if(0===Je)fn=this.modelFactory(),Je++;else{const At=this.getInitValueCount(Je-1);let tn=null;At>0&&(tn=this.getInitFieldValue(Je-1,ke++),ke===At&&(ke=0,Je++)),fn=this.modelFactory(tn,!1)}return he(fn,"element","host","col"),(fn.hasLanguages||(0,b.hj)(fn.relationship))&&he(fn,"grid","control","col"),[fn]}};return new Q.m(lt,{grid:{group:"row"}})}{const Je=this.modelFactory(this.getInitFieldValue());return Je.submissionId=this.submissionId,(Je.hasLanguages||(0,b.hj)(Je.relationship))&&he(Je,"grid","control","col"),Je}}setVocabularyOptions(Je){(0,b.hj)(this.configData.selectableMetadata)&&(0,b.hj)(this.configData.selectableMetadata[0].controlledVocabulary)&&(Je.vocabularyOptions=new X.n(this.configData.selectableMetadata[0].controlledVocabulary,this.configData.selectableMetadata[0].closed))}setValues(Je,ke,Le=!1,ze){if((0,b.hj)(ke)){if(ze)return Je.value=this.getInitGroupValues(),void(Array.isArray(Je.value)&&Je.value.length>0&&Je.value[0].language&&(Je.language=Je.value[0].language));(0,M.z5)(ke)?Je.value=ke:"object"==typeof ke?(Je.metadataValue=ke,Je.language=ke.language,Je.place=ke.place,Je.value=Le?ke:ke.value):Le?Je.value=new h.e(ke):"string"==typeof ke&&(Je.value=ke)}return Je}getInitValueCount(Je=0,ke){const Le=ke||this.getAllFieldIds();if((0,b.hj)(this.initFormValues)&&(0,b.Pe)(Le)&&1===Le.length&&this.initFormValues.hasOwnProperty(Le[0]))return this.initFormValues[Le[0]].length;if((0,b.hj)(this.initFormValues)&&(0,b.Pe)(Le)&&Le.length>1){const ze=[];return Le.forEach(lt=>{this.initFormValues.hasOwnProperty(lt)&&ze.push(this.initFormValues[lt].length)}),ze[Je]}return 0}getInitGroupValues(){const Je=this.getAllFieldIds();if((0,b.hj)(this.initFormValues)&&(0,b.Pe)(Je)&&1===Je.length&&this.initFormValues.hasOwnProperty(Je[0]))return this.initFormValues[Je[0]]}getInitFieldValues(Je){if((0,b.hj)(this.initFormValues)&&(0,b.Pe)(Je)&&this.initFormValues.hasOwnProperty(Je))return this.initFormValues[Je]}getInitFieldValue(Je=0,ke=0,Le){const ze=Le||this.getAllFieldIds();if((0,b.hj)(this.initFormValues)&&(0,b.Pe)(ze)&&1===ze.length&&this.initFormValues.hasOwnProperty(ze[Je])&&this.initFormValues[ze[Je]].length>ke)return this.initFormValues[ze[Je]][ke];if((0,b.hj)(this.initFormValues)&&(0,b.Pe)(ze)&&ze.length>1){const lt=[];return ze.forEach(Vt=>{if(this.initFormValues.hasOwnProperty(Vt)){const fn=Object.assign(new h.e,this.initFormValues[Vt][ke]);fn.metadata=Vt,lt.push(fn)}}),lt[Je]}return null}getInitArrayIndex(){const Je=this.getAllFieldIds();if((0,b.hj)(this.initFormValues)&&(0,b.Pe)(Je)&&1===Je.length&&this.initFormValues.hasOwnProperty(Je))return this.initFormValues[Je].length;if((0,b.hj)(this.initFormValues)&&(0,b.Pe)(Je)&&Je.length>1){let ke=0;return Je.forEach(Le=>{this.initFormValues.hasOwnProperty(Le)&&(ke+=this.initFormValues[Le].length)}),0===ke?1:ke}return 1}getFieldId(){const Je=this.getAllFieldIds();return(0,b.Pe)(Je)?Je[0]:null}getAllFieldIds(){if(Array.isArray(this.configData.selectableMetadata)){if(1===this.configData.selectableMetadata.length)return[this.configData.selectableMetadata[0].metadata];{const Je=[];return this.configData.selectableMetadata.forEach(ke=>Je.push(ke.metadata)),Je}}return["relation."+this.configData.selectableRelationship.relationshipType]}initModel(Je,ke=!0,Le=!1,ze=!0,lt=!0){const Vt=Object.create(null);return this.fieldId=Je||this.getFieldId(),Vt.name=this.fieldId,Vt.id=this.fieldId.replace(/\./g,"_"),Vt.readOnly=this.parserOptions.readOnly||this.isFieldReadOnly(this.configData.visibility,this.configData.scope,this.parserOptions.submissionScope),Vt.disabled=Vt.readOnly,(0,b.a4)(this.configData.selectableRelationship)&&(Vt.relationship=Object.assign(new S.j,this.configData.selectableRelationship)),Vt.repeatable=this.configData.repeatable,Vt.metadataFields=this.getAllFieldIds()||[],Vt.hasSelectableMetadata=(0,b.hj)(this.configData.selectableMetadata),Vt.submissionId=this.submissionId,this.setLabel(Vt,ke),lt&&(Vt.hint=this.configData.hints||"&nbsp;"),Vt.placeholder=this.configData.label,this.configData.mandatory&&ze&&this.markAsRequired(Vt),this.hasRegex()&&this.addPatternValidator(Vt),this.configData.languageCodes&&this.configData.languageCodes.length>0&&(Vt.languageCodes=this.configData.languageCodes),(0,b.hj)(this.configData.typeBind)&&(Vt.typeBindRelations=this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField)),Vt}isFieldReadOnly(Je,ke,Le){return(0,b.hj)(Le)&&(0,b.hj)(ke)&&(0,b.hj)(Je)&&(Le===K.L.WorkspaceItem.valueOf()&&Je.main===te.x.READONLY||Je.other===te.x.READONLY&&Le===K.L.WorkflowItem.valueOf())}getTypeBindRelations(Je,ke){const Le=[];return Je.forEach(ze=>{Le.push({id:ke,value:ze})}),[{match:i.zUr,operator:i.fXj,when:Le}]}hasRegex(){return(0,b.a4)(this.configData.input.regex)}addPatternValidator(Je){const ke=this.configData.input.regex.match(fe);let Le;Le=null!=ke&&ke.length>3?new RegExp(ke[2],ke[3]):new RegExp(this.configData.input.regex);const ze="error.validation.pattern",lt=`${ze}.${Je.id}`,Vt=this.translate.instant(lt)!==lt;Je.validators=Object.assign({},Je.validators,{pattern:Le}),Je.errorMessages=Object.assign({},Je.errorMessages,{pattern:Vt?lt:ze})}markAsRequired(Je){Je.required=!0,Je.validators=Object.assign({},Je.validators,{required:null}),Je.errorMessages=Object.assign({},Je.errorMessages,{required:this.configData.mandatoryMessage})}setLabel(Je,ke=!0,Le=!1){ke&&(Je.label=Le?"&nbsp;":this.configData.label)}setOptions(Je){(0,b.EA)(this.configData.selectableMetadata)&&this.configData.selectableMetadata.length>1&&(Je.options=[],this.configData.selectableMetadata.forEach((ke,Le)=>{0===Le&&(Je.value=ke.metadata),Je.options.push({label:ke.label,value:ke.metadata})}))}};ae=(0,D.Cg)([(0,D.Qj)(0,(0,j.y_5)(re)),(0,D.Qj)(1,(0,j.y_5)(ce)),(0,D.Qj)(2,(0,j.y_5)(Z)),(0,D.Qj)(3,(0,j.y_5)(ne)),(0,D.Sn)("design:paramtypes",[String,ie,Object,Object,G.c$])],ae);var oe=n(38941),J=n(91836);class ve extends ae{modelFactory(Je,ke){let Le=!1;const ze=this.initModel(null,!1,!0);if(ze.legend=this.configData.label,ze.disabled=ze.readOnly,ze.toggleIcon="fas fa-calendar",this.setValues(ze,Je),(0,b.hj)(ze.value)){const Vt=ze.value.toString();if(Vt.length>=4){const fn=Vt.split(oe.q);if(fn.length<4)for(let At=0;At<fn.length;At++)fn[At].length!==(0===At?4:2)&&(Le=!0)}}const lt=new J.g(ze);return lt.malformedDate=Le,lt}}var _e=n(23762);class Ce extends ae{modelFactory(Je,ke){const Le=this.initModel(null,ke);return this.setValues(Le,Je,!0),new _e.H(Le)}}var qe=n(8428);let Re=class extends ae{constructor(Je,ke,Le,ze,lt){super(Je,ke,Le,ze,lt)}modelFactory(Je,ke){const Le=this.initModel(null,ke);let ze;if((0,b.hj)(this.configData.selectableMetadata[0].controlledVocabulary))return this.setVocabularyOptions(Le),(0,b.hj)(Je)&&(Le.value=Je),ze={element:{control:"col"},grid:{host:"col"}},new qe.j(Le,ze);throw Error("Controlled Vocabulary name is not available. Please check the form configuration file.")}};Re=(0,D.Cg)([(0,D.Qj)(0,(0,j.y_5)(re)),(0,D.Qj)(1,(0,j.y_5)(ce)),(0,D.Qj)(2,(0,j.y_5)(Z)),(0,D.Qj)(3,(0,j.y_5)(ne)),(0,D.Sn)("design:paramtypes",[String,ie,Object,Object,G.c$])],Re);var nt=n(64370),Ge=n(76486);class at extends ae{modelFactory(Je,ke){const Le=this.initModel(null,ke);let ze;return Le.repeatable=this.configData.repeatable,this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&((0,b.hj)(this.getInitGroupValues())&&(Le.value=[],this.getInitGroupValues().forEach(lt=>{if(lt instanceof h.e)Le.value.push(lt);else{const Vt=new h.e(lt);Le.value.push(Vt)}})),this.setVocabularyOptions(Le)),Le.repeatable?(Le.group=[],ze=new nt.R(Le)):(Le.options=[],ze=new Ge.t(Le)),ze}}var Ke=n(86910);class Te extends ae{modelFactory(Je,ke){if(this.configData.selectableMetadata[0].controlledVocabulary){const Le=this.initModel(null,ke);return this.setVocabularyOptions(Le),this.setValues(Le,Je,!0),new Ke.P(Le)}}}var pt=n(74994);class He extends ae{modelFactory(Je,ke){if(this.configData.selectableMetadata[0].controlledVocabulary){const Le=this.initModel(null,ke);return this.setVocabularyOptions(Le),this.setValues(Le,Je,!0),new pt._(Le)}}}var Bt=n(6549);let it=class extends ae{constructor(Je,ke,Le,ze,lt,Vt,fn=null,At=null){super(Je,ke,Le,ze,lt),this.separator=Vt,this.firstPlaceholder=fn,this.secondPlaceholder=At,this.separator=Vt,this.firstPlaceholder=fn,this.secondPlaceholder=At}modelFactory(Je,ke){const Le=this.configData.selectableMetadata[0].metadata,ze={grid:{host:"col-sm-6"}},lt=Le.replace(/\./g,"_")+O,Vt=this.initModel(lt,ke,!1,!0);Vt.group=[],Vt.separator=this.separator;const fn=this.initModel(Le+"_CONCAT_FIRST_INPUT",!1,!0,!0,!1),At=this.initModel(Le+"_CONCAT_SECOND_INPUT",!1,!0,!0,!1);fn.hideErrorMessages=!0,At.hideErrorMessages=!0,(0,b.Tn)(Vt.hint)&&(0,b.a4)(fn.hint)&&(0,b.Tn)(At.hint)&&(Vt.hint=fn.hint,fn.hint=void 0),this.configData.mandatory&&(Vt.required=!0,fn.required=!0),Vt.disabled=fn.readOnly,(0,b.hj)(this.firstPlaceholder)&&(fn.placeholder=this.firstPlaceholder),(0,b.hj)(this.secondPlaceholder)&&(At.placeholder=this.secondPlaceholder);const tn=this.configData.label.split("/");2===tn.length&&(fn.placeholder=tn[0],At.placeholder=tn[1]);const dt=new Bt.C(fn,ze),Lt=new Bt.C(At,ze);Vt.group.push(dt),Vt.group.push(Lt);const Sn=new x(Vt,{element:{control:"row"}});return Sn.name=this.getFieldId(),(0,b.hj)(Je)&&(Sn.value=Je),Sn}};it=(0,D.Cg)([(0,D.Qj)(0,(0,j.y_5)(re)),(0,D.Qj)(1,(0,j.y_5)(ce)),(0,D.Qj)(2,(0,j.y_5)(Z)),(0,D.Qj)(3,(0,j.y_5)(ne)),(0,D.Sn)("design:paramtypes",[String,ie,Object,Object,G.c$,String,String,String])],it);let Tt=class extends it{constructor(Je,ke,Le,ze,lt){super(Je,ke,Le,ze,lt,",","form.last-name","form.first-name")}};Tt=(0,D.Cg)([(0,D.Qj)(0,(0,j.y_5)(re)),(0,D.Qj)(1,(0,j.y_5)(ce)),(0,D.Qj)(2,(0,j.y_5)(Z)),(0,D.Qj)(3,(0,j.y_5)(ne)),(0,D.Sn)("design:paramtypes",[String,ie,Object,Object,G.c$])],Tt);var Ee=n(78544);class hn extends i.iO5{constructor(Je,ke){super(Je,ke),this.hasLanguages=!1,this.isCustomGroup=!0,this.readOnly=Je.readOnly,this.required=Je.required,this.language=Je.language,this.languageCodes=Je.languageCodes,this.languageUpdates=new I.B,this.languageUpdates.subscribe(Le=>{this.language=Le}),this.hint=Je.hint}get value(){return this.get(1).value}get qualdropId(){return this.get(0).value.toString()}get language(){return this._language}set language(Je){this._language=Je}get languageCodes(){return this._languageCodes}set languageCodes(Je){this._languageCodes=Je,(!this.language||null===this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],hn.prototype,"_language",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Array)],hn.prototype,"_languageCodes",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",I.B)],hn.prototype,"languageUpdates",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Object)],hn.prototype,"hasLanguages",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],hn.prototype,"readOnly",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],hn.prototype,"hint",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],hn.prototype,"required",void 0);var Un=n(83124);class Ct extends ae{modelFactory(Je,ke){if(this.configData.selectableMetadata.length>1){const Le={element:{control:"row",hint:"ds-form-qualdrop-hint"}},ze={element:{control:"ds-form-input-addon custom-select"},grid:{host:"col-sm-4 pe-0"}},lt={element:{control:"ds-form-input-value"},grid:{host:"col-sm-8 ps-0"}},Vt=this.configData.selectableMetadata[0].metadata.split(".").slice(0,this.configData.selectableMetadata[0].metadata.split(".").length-1).join("."),fn=Object.create(null);fn.id=Vt.replace(/\./g,"_")+"_QUALDROP_GROUP",fn.group=[],fn.legend=this.configData.label,fn.hint=this.configData.hints,this.setLabel(fn,ke),fn.required=(0,b.hj)(this.configData.mandatory);const At=this.initModel(Vt+"_QUALDROP_VALUE",ke,!1,!1);At.hint=null,this.setValues(At,Je);const tn=this.initModel(Vt+"_QUALDROP_METADATA",ke,!1,!1);return tn.hint=null,this.setOptions(tn),(0,b.hj)(Je)&&(tn.value=Je.metadata),tn.disabled=At.readOnly,fn.readOnly=tn.disabled&&At.readOnly,fn.group.push(new i.z4z(tn,ze)),fn.group.push(new Bt.C(At,lt)),new hn(fn,Le)}if(this.configData.selectableMetadata[0].controlledVocabulary){const Le=this.initModel(null,ke);return this.setVocabularyOptions(Le),this.setValues(Le,Je,!0),new Un.K(Le)}{const Le=this.initModel(null,ke);return Le.spellCheck=Ee.c.form.spellCheck,this.setValues(Le,Je),new Bt.C(Le)}}}var Ot=n(14166);class wt extends ae{modelFactory(Je,ke){const Le=this.initModel(null,ke);if(Le.submissionId=this.submissionId,Le.scopeUUID=this.parserOptions.collectionUUID,Le.submissionScope=this.parserOptions.submissionScope,!(this.configData&&this.configData.rows&&this.configData.rows.length>0))throw new Error(`Configuration not valid: ${Le.name}`);Le.formConfiguration=this.configData.rows,Le.relationFields=[],this.configData.rows.forEach(Vt=>{Vt.fields.forEach(fn=>{fn.selectableMetadata[0].metadata===this.configData.selectableMetadata[0].metadata?Le.mandatoryField=this.configData.selectableMetadata[0].metadata:Le.relationFields.push(fn.selectableMetadata[0].metadata)})}),(0,b.hj)(this.getInitGroupValues())&&(Le.value=[],this.getInitFieldValues(Le.mandatoryField).forEach((fn,At)=>{const tn=Object.create(null);[Le.mandatoryField].concat(Le.relationFields).forEach(Lt=>{const Rt=this.getInitFieldValue(0,At,[Lt]);tn[Lt]=(0,b.hj)(Rt)?Rt:P.N}),Le.value.push(tn)}));const lt=new Ot.W(Le,{element:{container:"mb-3"}});return lt.name=this.getFieldId(),lt}}let mt=class extends it{constructor(Je,ke,Le,ze,lt){super(Je,ke,Le,ze,lt,";")}};mt=(0,D.Cg)([(0,D.Qj)(0,(0,j.y_5)(re)),(0,D.Qj)(1,(0,j.y_5)(ce)),(0,D.Qj)(2,(0,j.y_5)(Z)),(0,D.Qj)(3,(0,j.y_5)(ne)),(0,D.Sn)("design:paramtypes",[String,ie,Object,Object,G.c$])],mt);class ln extends ae{modelFactory(Je,ke){const Le=this.initModel(null,ke);return this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&this.setVocabularyOptions(Le),this.setValues(Le,Je,null,!0),new N.H(Le)}}var we=n(58901);class Et extends ae{modelFactory(Je,ke){const Le=this.initModel(null,ke);return Le.rows=10,Le.spellCheck=Ee.c.form.spellCheck,this.setValues(Le,Je),new we.E(Le,{element:{label:"col-form-label"}})}}const kt=[re,ce,Z,ne,G.c$];class vt{static getProvider(Je){switch(Je){case ye.Date:return{provide:ae,useClass:ve,deps:[...kt]};case ye.Dropdown:return{provide:ae,useClass:Re,deps:[...kt]};case ye.RelationGroup:return{provide:ae,useClass:wt,deps:[...kt]};case ye.List:return{provide:ae,useClass:at,deps:[...kt]};case ye.Lookup:return{provide:ae,useClass:Te,deps:[...kt]};case ye.LookupName:return{provide:ae,useClass:He,deps:[...kt]};case ye.Onebox:return{provide:ae,useClass:Ct,deps:[...kt]};case ye.Name:return{provide:ae,useClass:Tt,deps:[...kt]};case ye.Series:return{provide:ae,useClass:mt,deps:[...kt]};case ye.Tag:return{provide:ae,useClass:ln,deps:[...kt]};case ye.Textarea:return{provide:ae,useClass:Et,deps:[...kt]};case void 0:return{provide:ae,useClass:Ce,deps:[...kt]};default:return}}}let sn=(()=>{class Gt{constructor(ke){this.parentInjector=ke}parse(ke,Le,ze,lt,Vt,fn,At){let tn=null,dt=null;const Lt={id:k()("df-row-group-config-"),group:[]},Rt=this.filterScopedFields(Le.fields,Vt),Sn=" col-sm-"+Math.trunc(12/Rt.length),Di={readOnly:fn,submissionScope:Vt,collectionUUID:ze,typeField:At};if(Rt.forEach(bt=>{const _t=(bt.style||Sn)+" d-flex flex-column justify-content-start",En=vt.getProvider(bt.input.type);if(!En)throw new Error(`unknown form control model type "${bt.input.type}" defined for Input field with label "${bt.label}".`);if(tn=j.zZn.create({providers:[En,{provide:re,useValue:ke},{provide:ce,useValue:bt},{provide:Z,useValue:lt},{provide:ne,useValue:Di}],parent:this.parentInjector}).get(ae).parse(),tn){if(tn.type===i.WlY||tn.type===P.T)return void(Le.fields.length>1?(he(tn,"grid","host",_t),Lt.group.push(tn)):dt=tn);Array.isArray(tn)?tn.forEach(Tn=>{dt=Tn}):(he(tn,"grid","host",_t),Lt.group.push(tn)),tn=null}}),Lt&&!(0,b.Im)(Lt.group)){const _t=new z(Lt,{element:{control:"row"}});Array.isArray(dt)?dt.push(_t):dt=_t}return dt}checksFieldScope(ke,Le,ze){return(0,b.Im)(ke)||!this.isHidden(ze,ke,Le)}isHidden(ke,Le,ze){return(0,b.hj)(Le)&&(0,b.Im)(ke)&&(ze===K.L.WorkspaceItem.valueOf()&&Le!==V.WorkspaceItem.valueOf()||ze===K.L.WorkflowItem.valueOf()&&Le!==V.WorkflowItem.valueOf())}filterScopedFields(ke,Le){const ze=[];return ke.forEach(lt=>{this.checksFieldScope(lt.scope,Le,lt.visibility)&&ze.push(lt)}),ze}static{this.\u0275fac=function(Le){return new(Le||Gt)(j.KVO(j.zZn))}}static{this.\u0275prov=j.jDH({token:Gt,factory:Gt.\u0275fac,providedIn:"root"})}}return Gt})(),zt=(()=>{class Gt extends i.J9r{constructor(ke,Le,ze,lt){super(ke,Le),this.rowParser=ze,this.configService=lt,this.formModels=new Map,this.formGroups=new Map,(0,b.a4)(this.configService)&&this.setTypeBindFieldFromConfig()}createDynamicFormControlEvent(ke,Le,ze,lt){return{$event:{value:ze.value,autoSave:!1},context:ze?.parent instanceof i.fHx?ze?.parent:null,control:ke,group:Le,model:ze,type:lt}}getTypeBindModel(){return this.typeBindModel}setTypeBindModel(ke){this.typeBindModel=ke}findById(ke,Le,ze=null){let lt=null;const Vt=(fn,At,tn)=>{for(const dt of At){if(dt.id===fn){lt=this.isArrayGroup(dt)&&(0,b.Pe)(tn)?dt.get(tn):dt;break}if(this.isConcatGroup(dt)&&dt.id.match(new RegExp(fn+O))){lt=dt;break}if(this.isGroup(dt)&&Vt(fn,dt.group,tn),this.isArrayGroup(dt)&&((0,b.kZ)(tn)||dt.size>tn)){const Lt=(0,b.kZ)(tn)?0:tn;Vt(fn,dt.get(Lt).group,Lt)}}};return Vt(ke,Le,ze),lt}clearAllModelsValue(ke){const Le=ze=>{for(const lt of ze)this.isGroup(lt)?Le(lt.group):this.isArrayGroup(lt)?Le(lt.groupFactory()):lt.hasOwnProperty("valueChanges")&&(lt.value=void 0)};Le(ke)}getValueFromModel(ke){let Le=Object.create({});const ze=(fn,At)=>{if(Array.isArray(fn))return fn.concat(At)},lt=(fn,At,tn)=>{const dt=fn.hasLanguages?fn.language:null;if(fn?.metadataValue?.authority?.includes(E.BY))return fn.metadataValue;if(p()(At))return new h.e(At,dt,null,null,tn);if((0,M.z5)(At))return new h.e((0,M.$T)(At));if(c()(At)){const Lt=At.authority||At.id||null,Rt=tn||At.place;return(0,M.z5)(At)?new h.e(At,dt,Lt,At,Rt):new h.e(At.value,dt,Lt,At.display,Rt,At.confidence)}return At},Vt=(fn,At=0)=>{let tn=Object.create({});for(const dt of fn){if(this.isRowGroup(dt)&&!this.isCustomOrListGroup(dt)){tn=f()(tn,Vt(dt.group),ze);continue}if(this.isGroup(dt)&&!this.isCustomOrListGroup(dt)){tn[dt.name]=Vt(dt.group);continue}if(this.isRowArrayGroup(dt)){for(const Rt of dt.groups)tn=f()(tn,Vt(Rt.group,Rt.index),ze);continue}if(this.isArrayGroup(dt)){tn[dt.name]=[];for(const Rt of dt.groups)tn[dt.name].push(Vt(Rt.group,Rt.index));continue}let Lt;if(Lt=this.isQualdropGroup(dt)?dt.qualdropId:dt.name,this.isRelationGroup(dt))dt.getGroupValue().forEach((Sn,$n)=>{Object.keys(Sn).forEach(bt=>{const _t=lt(dt,Sn[bt],$n);(0,b.hj)(_t)&&_t.hasValue()&&(tn.hasOwnProperty(bt)?tn[bt].push(_t):tn[bt]=[_t])})});else if((0,b.EA)(dt.value)&&(0,b.hj)(dt.value)){const Rt=[];(Array.isArray(dt.value)?dt.value:[dt.value]).forEach($n=>{Rt.push(lt(dt,$n,At))}),tn[Lt]=Lt&&tn.hasOwnProperty(Lt)&&(0,b.Pe)(tn[Lt])?tn[Lt].concat(Rt):(0,b.hj)(Rt)?Rt:null}}return tn};return Le=Vt(ke),Le}modelFromConfiguration(ke,Le,ze,lt={},Vt,fn=!1,At=null,tn=!1){let dt=[];const Lt="string"==typeof Le?JSON.parse(Le,i.zno):Le;return Lt.rows&&!(0,b.Im)(Lt.rows)&&Lt.rows.forEach(Rt=>{const Sn=this.rowParser.parse(ke,Rt,ze,lt,Vt,fn,this.getTypeField());(0,b.Pe)(Sn)&&(Array.isArray(Sn)?dt=dt.concat(Sn):dt.push(Sn))}),(0,b.Tn)(At)&&(At=this.findById(this.typeField,dt)),(0,b.a4)(At)&&this.setTypeBindModel(At),dt}isModelInCustomGroup(ke){return this.isCustomGroup(ke.parent)}hasArrayGroupValue(ke){return ke&&(this.isListGroup(ke)||ke.type===N.v)}hasMappedGroupValue(ke){return this.isQualdropGroup(ke.parent)||this.isRelationGroup(ke.parent)}isGroup(ke){return ke&&(ke.type===i.wnr||ke.type===i.W25)}isQualdropGroup(ke){return ke&&ke.type===i.wnr&&(0,b.a4)(ke.qualdropId)}isCustomGroup(ke){return ke&&ke.type===i.wnr&&!0===ke.isCustomGroup}isConcatGroup(ke){return this.isCustomGroup(ke)&&-1!==ke.id.indexOf(O)}isRowGroup(ke){return ke&&ke.type===i.wnr&&!0===ke.isRowGroup}isCustomOrListGroup(ke){return ke&&(this.isCustomGroup(ke)||this.isListGroup(ke))}isListGroup(ke){return ke&&(ke.type===i.W25&&!0===ke.isListGroup||ke.type===i.KMD&&!0===ke.isListGroup)}isRelationGroup(ke){return ke&&ke.type===P.T}isRowArrayGroup(ke){return ke.type===i.WlY&&!0===ke.isRowArray}isArrayGroup(ke){return ke.type===i.WlY}isInputModel(ke){return ke.type===i.FlA}getFormControlById(ke,Le,ze,lt=0){const Vt=this.findById(ke,ze,lt);return(0,b.hj)(Vt)?Le.get(this.getPath(Vt)):null}getFormControlByModel(ke,Le){return(0,b.hj)(Le)?ke.get(this.getPath(Le)):null}getId(ke){let Le;return this.isArrayGroup(ke)?ke.index.toString():(Le=this.isModelInCustomGroup(ke)?ke.parent:ke,Le.id!==Le.name?Le.name:Le.id)}removeFormModel(ke){this.formModels.has(ke)&&this.formModels.delete(ke)}addFormGroups(ke,Le){this.formGroups.set(ke,Le)}removeFormGroup(ke){this.formGroups.has(ke)&&this.formGroups.delete(ke)}getMetadataIdsFromEvent(ke){let Le=ke.model;for(;Le.parent;)Le=Le.parent;const ze=(Vt,fn=0)=>{let At=Object.create({});for(const tn of Vt){if(this.isRowGroup(tn)&&!this.isCustomOrListGroup(tn)){At=f()(At,ze(tn.group));continue}if(this.isGroup(tn)&&!this.isCustomOrListGroup(tn)){At[tn.name]=ze(tn.group);continue}if(this.isRowArrayGroup(tn)){for(const Lt of tn.groups)At=f()(At,ze(Lt.group,Lt.index));continue}if(this.isArrayGroup(tn)){At[tn.name]=[];for(const Lt of tn.groups)At[tn.name].push(ze(Lt.group,Lt.index));continue}let dt;dt=this.isQualdropGroup(tn)?tn.qualdropId:tn.name,this.isRelationGroup(tn)?tn.getGroupValue().forEach((Rt,Sn)=>{Object.keys(Rt).forEach($n=>{At[$n]=!0})}):At[dt]=!0}return At},lt=ze([Le]);return Object.keys(lt)}setTypeBindFieldFromConfig(){this.configService.findByPropertyName("submit.type-bind.field").pipe((0,y.qD)()).subscribe(ke=>{if(!ke.hasSucceeded)return void(this.typeField="dc_type");const Le=ke.payload.values[0];this.typeField=(0,b.Im)(Le)?"dc_type":Le.replace(/\./g,"_")})}getTypeField(){return(0,b.a4)(this.configService)&&(0,b.Tn)(this.typeField)?this.setTypeBindFieldFromConfig():(0,b.Tn)(this.typeField)&&(this.typeField="dc_type"),this.typeField}static{this.\u0275fac=function(Le){return new(Le||Gt)(j.KVO(i.cYz),j.KVO(i.STK),j.KVO(sn),j.KVO(v.ConfigurationDataService,8))}}static{this.\u0275prov=j.jDH({token:Gt,factory:Gt.\u0275fac,providedIn:"root"})}}return Gt})()},95720:(B,C,n)=>{"use strict";n.d(C,{e:()=>p});var i=n(14379),t=n(54095),c=n(89777),e=n(11275);class p{static{this.AUTHORITY_SPLIT="::"}static{this.AUTHORITY_GENERATE="will be generated"+p.AUTHORITY_SPLIT}constructor(f=null,v=null,E=null,y=null,M=0,b=null,P=null,D=null){this.value=(0,c.Pe)(f)?"string"==typeof f?f.trim():f:null,this.language=v,this.authority=E,this.display=y||f,this.confidence=b,this.confidence=null==E||!(0,c.Im)(b)&&-1!==b?(0,c.hj)(b)?b:i.l.CF_UNSET:i.l.CF_ACCEPTED,this.place=M,(0,c.hj)(D)&&(this.metadata=D),this.otherInformation=P}hasAuthority(){return(0,c.hj)(this.authority)}hasAuthorityToGenerate(){return(0,c.hj)(this.authority)&&this.authority.startsWith(p.AUTHORITY_GENERATE)}hasValue(){return(0,c.hj)(this.value)}hasOtherInformation(){return(0,c.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}get isVirtual(){return(0,c.a4)(this.authority)&&this.authority.startsWith(t.BY)}get virtualValue(){if(this.isVirtual)return this.authority.substring(this.authority.indexOf(t.BY)+t.BY.length)}toString(){return this.display||this.value}}},31888:(B,C,n)=>{"use strict";n.d(C,{j:()=>t});class t{get metadataField(){return"relation."+this.relationshipType}}},48457:(B,C,n)=>{"use strict";n.d(C,{K:()=>b});var i=n(54438),t=n(48376),c=n.n(t),e=n(78544),p=n(14379),m=n(54095),f=n(13627),v=n(38511),E=n(89777),y=n(95720),M=n(68018);let b=(()=>{class P{onClick(){(0,E.hj)(this.authorityValue)&&this.getConfidenceByValue(this.authorityValue)!==p.l.CF_ACCEPTED&&this.whenClickOnConfidenceNotAccepted.emit(this.getConfidenceByValue(this.authorityValue))}constructor(I,h,S){this.elem=I,this.renderer=h,this.translate=S,this.visibleWhenAuthorityEmpty=!0,this.iconMode=!1,this.previousClass=null,this.whenClickOnConfidenceNotAccepted=new i.bkB}ngOnChanges(I){I.authorityValue.firstChange||(this.previousClass=this.getClassByConfidence(this.getConfidenceByValue(I.authorityValue.previousValue))),this.newClass=this.getClassByConfidence(this.getConfidenceByValue(I.authorityValue.currentValue));const h=this.getNameByConfidence(this.getConfidenceByValue(I.authorityValue.currentValue));(0,E.kZ)(this.previousClass)?(this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${h}`))):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${h}`)))}ngAfterViewInit(){(0,E.kZ)(this.previousClass)?this.renderer.addClass(this.elem.nativeElement,this.newClass):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass))}getConfidenceByValue(I){let h=p.l.CF_UNSET;return(0,E.hj)(I)&&(I instanceof f.b||I instanceof v.M)&&I.hasAuthority()&&(h=p.l.CF_ACCEPTED),(0,E.hj)(I)&&I instanceof y.e&&(h=I.confidence),(0,E.hj)(I)&&I instanceof m.vD&&(h=I.confidence),(0,E.hj)(I)&&Object.values(p.l).includes(I)&&(h=I),h}getClassByConfidence(I){if(!this.visibleWhenAuthorityEmpty&&I===p.l.CF_UNSET)return"d-none";const h=e.c.submission.icons.authority.confidence,S=c()(h,{value:I}),O=c()(h,{value:"default"});return this.iconMode?-1!==S?h[S].icon:-1!==O?h[O].icon:"":-1!==S?h[S].style:-1!==O?h[O].style:""}getNameByConfidence(I){const h=p.l[I];return(0,E.hj)(h)?h.replace("CF_","").toLowerCase():"unknown"}static{this.\u0275fac=function(h){return new(h||P)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(M.c$))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","dsAuthorityConfidenceState",""]],hostBindings:function(h,S){1&h&&i.bIt("click",function(){return S.onClick()})},inputs:{authorityValue:"authorityValue",visibleWhenAuthorityEmpty:"visibleWhenAuthorityEmpty",iconMode:"iconMode"},outputs:{whenClickOnConfidenceNotAccepted:"whenClickOnConfidenceNotAccepted"},standalone:!0,features:[i.OA$]})}}return P})()},59726:(B,C,n)=>{"use strict";n.d(C,{AI:()=>t,Dn:()=>m,Dp:()=>y,PW:()=>f,SD:()=>p,Tr:()=>E,V2:()=>e,bS:()=>c,yo:()=>v});var i=n(6800);const t={FORM_INIT:(0,i.N)("dspace/form/FORM_INIT"),FORM_CHANGE:(0,i.N)("dspace/form/FORM_CHANGE"),FORM_ADD_TOUCHED:(0,i.N)("dspace/form/FORM_ADD_TOUCHED"),FORM_REMOVE:(0,i.N)("dspace/form/FORM_REMOVE"),FORM_STATUS_CHANGE:(0,i.N)("dspace/form/FORM_STATUS_CHANGE"),FORM_ADD_ERROR:(0,i.N)("dspace/form/FORM_ADD_ERROR"),FORM_REMOVE_ERROR:(0,i.N)("dspace/form/FORM_REMOVE_ERROR"),FORM_CLEAR_ERRORS:(0,i.N)("dspace/form/FORM_CLEAR_ERRORS")};class c{constructor(b,P,D){this.type=t.FORM_INIT,this.payload={formId:b,formData:P,valid:D}}}class e{constructor(b,P){this.type=t.FORM_CHANGE,this.payload={formId:b,formData:P}}}class p{constructor(b,P){this.type=t.FORM_ADD_TOUCHED,this.payload={formId:b,touched:P}}}class m{constructor(b){this.type=t.FORM_REMOVE,this.payload={formId:b}}}class f{constructor(b,P){this.type=t.FORM_STATUS_CHANGE,this.payload={formId:b,valid:P}}}class v{constructor(b,P,D,I){this.type=t.FORM_ADD_ERROR,this.payload={formId:b,fieldId:P,fieldIndex:D,errorMessage:I}}}class E{constructor(b,P,D){this.type=t.FORM_REMOVE_ERROR,this.payload={formId:b,fieldId:P,fieldIndex:D}}}class y{constructor(b){this.type=t.FORM_CLEAR_ERRORS,this.payload={formId:b}}}},86332:(B,C,n)=>{"use strict";n.d(C,{s:()=>V});var i=n(60177),t=n(54438),c=n(89417),e=n(1473),p=n(68018),m=n(48376),f=n.n(m),v=n(5964),E=n(96354),y=n(23294),M=n(79104),b=n(89777),P=n(53195);function D(G,X){if(1&G){const Q=t.RV6();t.j41(0,"ds-dynamic-form-control-container",1),t.bIt("dfBlur",function(ie){t.eBV(Q);const te=t.XpG();return t.Njj(te.onCustomEvent(ie,te.blur))})("dfChange",function(ie){t.eBV(Q);const te=t.XpG();return t.Njj(te.onCustomEvent(ie,te.change))})("dfFocus",function(ie){t.eBV(Q);const te=t.XpG();return t.Njj(te.onCustomEvent(ie,te.focus))})("ngbEvent",function(ie){t.eBV(Q);const te=t.XpG();return t.Njj(te.onCustomEvent(ie,te.ngbEvent))}),t.k0s()}if(2&G){const Q=X.$implicit,ee=t.XpG();t.AVh("d-none",Q.hidden),t.Y8G("formId",ee.formId)("group",ee.formGroup)("hasErrorMessaging",Q.hasErrorMessages)("hidden",Q.hidden)("layout",ee.formLayout)("model",Q)("templates",ee.templates)("asBootstrapFormGroup",!0)}}let I=(()=>{class G extends e.f4U{constructor(Q,ee){super(Q,ee),this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.ngbEvent=new t.bkB}static{this.\u0275fac=function(ee){return new(ee||G)(t.rXU(t.gRc),t.rXU(e.cYz))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-dynamic-form"]],contentQueries:function(ee,ie,te){if(1&ee&&t.wni(te,e.vJF,4),2&ee){let he;t.mGM(he=t.lsd())&&(ie.templates=he)}},viewQuery:function(ee,ie){if(1&ee&&t.GBs(P._,5),2&ee){let te;t.mGM(te=t.lsd())&&(ie.components=te)}},inputs:{formId:"formId",formGroup:"formGroup",formModel:"formModel",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",ngbEvent:"ngbEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[[3,"formId","group","hasErrorMessaging","hidden","d-none","layout","model","templates","asBootstrapFormGroup"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formId","group","hasErrorMessaging","hidden","layout","model","templates","asBootstrapFormGroup"]],template:function(ee,ie){1&ee&&t.Z7z(0,D,1,10,"ds-dynamic-form-control-container",0,ie.trackByFn,!0),2&ee&&t.Dyx(ie.formModel)},dependencies:()=>[P._],encapsulation:2})}}return G})();var h=n(49838),S=n(70338);const O=[[["","additional",""]],"*",[["","before",""]],[["","between",""]],[["","after",""]]],L=["[additional]","*","[before]","[between]","[after]"];function T(G,X){if(1&G){const Q=t.RV6();t.j41(0,"div",4)(1,"button",6),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(ie){t.eBV(Q);const te=t.XpG(),he=te.index,ye=te.context,re=t.XpG();return t.Njj(re.removeItem(ie,ye,he))}),t.j41(4,"span"),t.nrm(5,"i",7),t.k0s()()()}2&G&&(t.R7$(),t.FS9("title",t.bMT(2,2,"form.remove")),t.BMQ("aria-label",t.bMT(3,4,"form.remove")))}function x(G,X){if(1&G){const Q=t.RV6();t.j41(0,"div",5)(1,"div",8)(2,"button",9),t.nI1(3,"translate"),t.nI1(4,"translate"),t.bIt("click",function(ie){t.eBV(Q);const te=t.XpG().$implicit,he=t.XpG();return t.Njj(he.insertItem(ie,te.context,te.context.groups.length))}),t.j41(5,"span"),t.nrm(6,"i",10),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()()}2&G&&(t.R7$(2),t.FS9("title",t.bMT(3,3,"form.add")),t.BMQ("aria-label",t.bMT(4,5,"form.add")),t.R7$(5),t.SpI(" ",t.bMT(8,7,"form.add"),""))}function N(G,X){if(1&G){const Q=t.RV6();t.j41(0,"div",4)(1,"div",11)(2,"button",12),t.nI1(3,"translate"),t.nI1(4,"translate"),t.bIt("click",function(ie){t.eBV(Q);const te=t.XpG(),he=te.index,ye=te.context,re=t.XpG();return t.Njj(re.removeItem(ie,ye,he))}),t.j41(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()}if(2&G){const Q=t.XpG(),ee=Q.$implicit,ie=Q.index,te=Q.context,he=t.XpG();t.R7$(2),t.FS9("title",t.bMT(3,4,"form.discard")),t.Y8G("dsBtnDisabled",1===ee.context.groups.length||he.isItemReadOnly(te,ie)),t.BMQ("aria-label",t.bMT(4,6,"form.discard")),t.R7$(4),t.JRh(t.bMT(7,8,"form.discard"))}}function j(G,X){if(1&G&&t.DNE(0,T,6,6,"div",4)(1,x,9,9,"div",5)(2,N,8,10,"div",4),2&G){const Q=X.$implicit,ee=X.index,ie=X.context,te=t.XpG();t.vxM(ie.notRepeatable||te.isVirtual(ie,ee)||1===Q.context.groups.length||te.isItemReadOnly(ie,ee)?-1:0),t.R7$(),t.vxM(ie.notRepeatable||ee!==Q.context.groups.length-1||te.isItemReadOnly(ie,ee)?-1:1),t.R7$(),t.vxM(ie.notRepeatable&&ie.showButtons&&Q.context.groups.length>1?2:-1)}}function $(G,X){1&G&&t.SdG(0,1)}function k(G,X){if(1&G){const Q=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(Q);const ie=t.XpG(2);return t.Njj(ie.reset())}),t.nrm(1,"i",18),t.EFF(2),t.nI1(3,"translate"),t.k0s()}if(2&G){const Q=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,Q.cancelLabel)," ")}}function K(G,X){if(1&G){const Q=t.RV6();t.j41(0,"button",19),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(Q);const ie=t.XpG(2);return t.Njj(ie.onSubmit())}),t.nrm(2,"i",20),t.EFF(3),t.nI1(4,"translate"),t.k0s()}if(2&G){const Q=t.XpG(2);t.Y8G("dsBtnDisabled",!0!==t.bMT(1,2,Q.isValid())),t.R7$(3),t.SpI(" ",t.bMT(4,4,Q.submitLabel)," ")}}function z(G,X){if(1&G&&(t.j41(0,"div"),t.nrm(1,"hr"),t.j41(2,"div",13)(3,"div",14),t.SdG(4,2),t.DNE(5,k,4,3,"button",15),t.SdG(6,3),t.DNE(7,K,5,6,"button",16),t.SdG(8,4),t.k0s()()()),2&G){const Q=t.XpG();t.R7$(5),t.vxM(Q.displayCancel?5:-1),t.R7$(2),t.vxM(Q.displaySubmit?7:-1)}}let V=(()=>{class G{constructor(Q,ee,ie){this.formService=Q,this.changeDetectorRef=ee,this.formBuilderService=ie,this.formErrors=[],this.displaySubmit=!0,this.displayCancel=!0,this.emitChange=!0,this.submitLabel="form.submit",this.cancelLabel="form.cancel",this.formLayout=null,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.customEvent=new t.bkB,this.addArrayItem=new t.bkB,this.removeArrayItem=new t.bkB,this.cancel=new t.bkB,this.submitForm=new t.bkB,this.subs=[]}getFormGroup(){return this.parentFormModel?this.formGroup.parent:this.formGroup}getFormGroupValue(){return this.getFormGroup().value}getFormGroupValidStatus(){return this.getFormGroup().valid}ngOnInit(){this.formGroup?this.formModel.forEach(Q=>{this.parentFormModel&&this.formBuilderService.addFormGroupControl(this.formGroup,this.parentFormModel,Q)}):this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formService.initForm(this.formId,this.formModel,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus(),this.subs.push(this.formGroup.statusChanges.pipe((0,v.p)(()=>this.formValid!==this.getFormGroupValidStatus())).subscribe(()=>{this.formService.setStatusChanged(this.formId,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus()})),this.subs.push(this.formService.getForm(this.formId).pipe((0,v.p)(Q=>!!Q&&((0,b.hj)(Q.errors)||(0,b.hj)(this.formErrors))),(0,E.T)(Q=>Q.errors),(0,y.F)()).subscribe(Q=>{const{formGroup:ee,formModel:ie}=this;Q.filter(te=>-1===f()(this.formErrors,{fieldId:te.fieldId,fieldIndex:te.fieldIndex})).forEach(te=>{const{fieldId:he}=te,{fieldIndex:ye}=te;let re;if(re=this.formBuilderService.getFormControlById(he,this.parentFormModel?ee.parent:ee,ie,ye),re){const ce=this.formBuilderService.findById(he,ie,ye);this.formService.addErrorToField(re,ce,te.message),this.changeDetectorRef.detectChanges()}}),this.formErrors.filter(te=>-1===f()(Q,{fieldId:te.fieldId,fieldIndex:te.fieldIndex})).forEach(te=>{const{fieldId:he}=te,{fieldIndex:ye}=te;let re;if(re=this.formBuilderService.getFormControlById(he,this.parentFormModel?ee.parent:ee,ie,ye),re){const ce=this.formBuilderService.findById(he,ie,ye);this.formService.removeErrorFromField(re,ce,te.message)}}),this.formErrors=Q,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(Q=>(0,b.a4)(Q)).forEach(Q=>Q.unsubscribe()),this.formService.removeForm(this.formId)}isValid(){return this.formService.isValid(this.formId)}keepSync(){this.subs.push(this.formService.getFormData(this.formId).subscribe(Q=>{!Object.is(Q,this.formGroup.value)&&this.formGroup&&this.formGroup.setValue(Q)}))}onBlur(Q){this.blur.emit(Q);const ee=Q.control,ie=Q.context&&Q.context.index?Q.context.index:0;ee.valid?this.formService.removeError(this.formId,Q.model.name,ie):this.formService.addControlErrors(ee,this.formId,Q.model.name,ie)}onCustomEvent(Q){this.customEvent.emit(Q)}onFocus(Q){this.formService.setTouched(this.formId,this.formModel,Q),this.focus.emit(Q)}onChange(Q){this.formService.changeForm(this.formId,this.formModel),this.formGroup.markAsPristine(),this.emitChange&&this.change.emit(Q),Q.control.valid&&this.formService.removeError(this.formId,Q.model.id,Q.context&&Q.context.index?Q.context.index:0)}onSubmit(){this.getFormGroupValidStatus()?this.submitForm.emit(this.formService.getFormData(this.formId)):this.formService.validateAllFormFields(this.formGroup)}reset(){this.formGroup.reset(),this.cancel.emit()}isItemReadOnly(Q,ee){return Q.groups[ee].group[0].readOnly}removeItem(Q,ee,ie){const te=this.formGroup.get(this.formBuilderService.getPath(ee)),he=this.getEvent(Q,ee,ie,"remove");this.formBuilderService.isQualdropGroup(he.model)&&(0,b.a4)(he.model?.value)&&this.removeArrayItem.emit(he),this.formBuilderService.removeFormArrayGroup(ie,te,ee),this.formService.changeForm(this.formId,this.formModel),this.formBuilderService.isQualdropGroup(he.model)||this.removeArrayItem.emit(he)}insertItem(Q,ee,ie){const te=this.formGroup.get(this.formBuilderService.getPath(ee));this.formBuilderService.insertFormArrayGroup(ie,te,ee),this.addArrayItem.emit(this.getEvent(Q,ee,ie,"add")),this.formService.changeForm(this.formId,this.formModel)}isVirtual(Q,ee){const te=Q.groups[ee].group[0].metadataValue;return(0,b.hj)(te)&&te.isVirtual}getEvent(Q,ee,ie,te){const he=ee.groups[ie],ye=he.context;let re=this.formGroup.get(ye.id);if((0,b.kZ)(re))for(const ne of Object.keys(this.formGroup.controls))if(re=this.formGroup.controls[ne].get(ye.id),(0,b.Pe)(re))break;return{$event:Q,context:he,control:re.controls[ie],group:re,model:he.group[0],type:te}}static{this.\u0275fac=function(ee){return new(ee||G)(t.rXU(S.u),t.rXU(t.gRc),t.rXU(h.j))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-form"]],inputs:{displaySubmit:"displaySubmit",displayCancel:"displayCancel",emitChange:"emitChange",formId:"formId",submitLabel:"submitLabel",cancelLabel:"cancelLabel",formModel:"formModel",parentFormModel:"parentFormModel",formGroup:"formGroup",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent",addArrayItem:"addArrayItem",removeArrayItem:"removeArrayItem",cancel:"cancel",submitForm:"submitForm"},exportAs:["formComponent"],standalone:!0,features:[t.aNF],ngContentSelectors:L,decls:7,vars:7,consts:[[1,"container-fluid"],[1,"form-horizontal",3,"formGroup"],[3,"change","dfBlur","dfChange","dfFocus","ngbEvent","formId","formGroup","formModel","formLayout"],["modelType","ARRAY"],[1,"col-2","d-flex","flex-column","justify-content-sm-start","align-items-end"],[1,"clearfix","ps-4","w-100"],["type","button","role","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],["role","group",1,"btn-group"],["type","button","role","button",1,"ds-form-add-more","btn","btn-link",3,"click","title"],[1,"fas","fa-plus"],["role","button",1,"btn-group"],["type","button",1,"btn","btn-secondary",3,"click","title","dsBtnDisabled"],[1,"mb-3","row"],[1,"col","text-end","space-children-mr"],["type","reset",1,"btn","btn-outline-secondary"],["type","submit",1,"btn","btn-primary",3,"dsBtnDisabled"],["type","reset",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-save"]],template:function(ee,ie){1&ee&&(t.NAR(O),t.j41(0,"div",0)(1,"form",1)(2,"ds-dynamic-form",2),t.bIt("change",function(he){return he.stopPropagation()})("dfBlur",function(he){return ie.onBlur(he)})("dfChange",function(he){return ie.onChange(he)})("dfFocus",function(he){return ie.onFocus(he)})("ngbEvent",function(he){return ie.onCustomEvent(he)}),t.DNE(3,j,3,3,"ng-template",3),t.k0s(),t.SdG(4),t.DNE(5,$,1,0)(6,z,9,2,"div"),t.k0s()()),2&ee&&(t.R7$(),t.Y8G("formGroup",ie.formGroup),t.R7$(),t.Y8G("formId",ie.formId)("formGroup",ie.formGroup)("formModel",ie.formModel)("formLayout",ie.formLayout),t.R7$(3),t.vxM(ie.displaySubmit||ie.displayCancel?-1:5),t.R7$(),t.vxM(ie.displaySubmit||ie.displayCancel?6:-1))},dependencies:[i.Jj,M.A,I,e.EET,e.vJF,c.X1,c.qT,c.cb,c.j4,p.h,p.D9],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}"]})}}return G})()},70338:(B,C,n)=>{"use strict";n.d(C,{u:()=>h});var i=n(89417),t=n(1473),c=n(59640),e=n(59519),p=n.n(e),m=n(5964),f=n(96354),v=n(23294),E=n(78544),y=n(89777),M=n(49838),b=n(59726);const P=S=>S.forms;function D(S){return(0,c.Mz)(P,O=>O[S])}var I=n(54438);let h=(()=>{class S{constructor(L,T){this.formBuilderService=L,this.store=T}isValid(L){return this.store.pipe((0,c.Lt)(D(L)),(0,m.p)(T=>(0,y.EA)(T)),(0,f.T)(T=>T.valid),(0,v.F)())}getFormData(L){return this.store.pipe((0,c.Lt)(D(L)),(0,m.p)(T=>(0,y.EA)(T)),(0,f.T)(T=>T.data),(0,v.F)())}getFormTouchedState(L){return this.store.pipe((0,c.Lt)(D(L)),(0,m.p)(T=>(0,y.EA)(T)),(0,f.T)(T=>T.touched),(0,v.F)())}getFormErrors(L){return this.store.pipe((0,c.Lt)(D(L)),(0,m.p)(T=>(0,y.EA)(T)),(0,f.T)(T=>T.errors),(0,v.F)())}isFormInitialized(L){return this.store.pipe((0,c.Lt)(D(L)),(0,v.F)(),(0,f.T)(T=>(0,y.EA)(T)))}getUniqueId(L){return p()()+"_"+L}validateAllFormFields(L){Object.keys(L.controls).forEach(T=>{const x=L.get(T);x instanceof i.hs?(x.markAsTouched({onlySelf:!0}),x.markAsDirty({onlySelf:!0})):(x instanceof i.J3||x instanceof i.Bm)&&this.validateAllFormFields(x)})}hasValidationErrors(L){let T=!1;const x=Object.keys(L.controls);for(const N of x){const j=L.get(N);if(j instanceof i.hs?T=!j.valid&&j.touched:(j instanceof i.J3||j instanceof i.Bm)&&(T=this.hasValidationErrors(j)),T)break}return T}addControlErrors(L,T,x,N){null!==L.errors&&Object.keys(L.errors).filter($=>!0===L.errors[$]).map($=>`error.validation.${$}`).forEach($=>this.addError(T,x,N,$))}addErrorToField(L,T,x){const N={},j=this.getValidatorNameFromMap(x);let $=x;T.errorMessages||(T.errorMessages={}),(0,y.Im)(T.errorMessages[j])?T.errorMessages[j]=x:$=T.errorMessages[j],L.hasError(j)||(N[j]=!0,L.setErrors(N)),L instanceof i.J3&&T instanceof t.iO5&&this.formBuilderService.isConcatGroup(T)&&T.group.forEach(k=>{this.addErrorToField(L.controls[k.id],k,x)}),L.markAsTouched()}removeErrorFromField(L,T,x){const N={},j=this.getValidatorNameFromMap(x);L.hasError(j)&&(N[j]=null,L.setErrors(N)),L instanceof i.J3&&T instanceof t.iO5&&this.formBuilderService.isConcatGroup(T)&&T.group.forEach($=>{this.removeErrorFromField(L.controls[$.id],$,x)}),L.markAsUntouched()}resetForm(L,T,x){this.formBuilderService.clearAllModelsValue(T),L.reset(),this.store.dispatch(new b.V2(x,L.value))}getValidatorNameFromMap(L){if(L.includes(".")){const T=L.split(".");T&&T.length>0&&(L=this.getValidatorNameFromMap(T[T.length-1]))}return E.c.form.validatorMap.hasOwnProperty(L)?E.c.form.validatorMap[L]:L}initForm(L,T,x){this.store.dispatch(new b.bS(L,this.formBuilderService.getValueFromModel(T),x))}setStatusChanged(L,T){this.store.dispatch(new b.PW(L,T))}getForm(L){return this.store.pipe((0,c.Lt)(D(L)))}removeForm(L){this.store.dispatch(new b.Dn(L))}changeForm(L,T){this.store.dispatch(new b.V2(L,this.formBuilderService.getValueFromModel(T)))}setTouched(L,T,x){const N=this.formBuilderService.getMetadataIdsFromEvent(x);this.store.dispatch(new b.SD(L,N))}addError(L,T,x,N){const j=T.replace(/\./g,"_");this.store.dispatch(new b.yo(L,j,x,N))}removeError(L,T,x){const N=T.replace(/\./g,"_");this.store.dispatch(new b.Tr(L,N,x))}static{this.\u0275fac=function(T){return new(T||S)(I.KVO(M.j),I.KVO(c.il))}}static{this.\u0275prov=I.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},98995:(B,C,n)=>{"use strict";n.d(C,{_:()=>p});var i=n(54438),t=n(68018),c=n(25630),e=n(58003);let p=(()=>{class m{constructor(v,E){this.activeModal=v,this.translate=E,this.preloadLevel=2,this.selectedItems=[],this.multiSelect=!1,this.showAdd=!0,this.select=new i.bkB(null)}ngOnInit(){this.setDescription()}onSelect(v){this.select.emit(v),this.activeModal.close(v)}setDescription(){this.description=this.translate.instant("vocabulary-treeview.tree.description."+this.vocabularyOptions.name)}static{this.\u0275fac=function(E){return new(E||m)(i.rXU(e.Lw),i.rXU(t.c$))}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ds-vocabulary-treeview-modal"]],inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",selectedItems:"selectedItems",multiSelect:"multiSelect",showAdd:"showAdd"},outputs:{select:"select"},standalone:!0,features:[i.aNF],decls:8,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"p-3"],[3,"select","vocabularyOptions","description","preloadLevel","selectedItems","multiSelect","showAdd"]],template:function(E,y){1&E&&(i.j41(0,"div",0)(1,"h4",1),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.j41(4,"button",2),i.bIt("click",function(){return y.activeModal.dismiss("Cross click")}),i.k0s()(),i.j41(5,"div",3)(6,"div",4)(7,"ds-vocabulary-treeview",5),i.bIt("select",function(b){return y.onSelect(b)}),i.k0s()()()),2&E&&(i.R7$(2),i.JRh(i.bMT(3,7,"vocabulary-treeview.header")),i.R7$(5),i.Y8G("vocabularyOptions",y.vocabularyOptions)("description",y.description)("preloadLevel",y.preloadLevel)("selectedItems",y.selectedItems)("multiSelect",y.multiSelect)("showAdd",y.showAdd))},dependencies:[t.h,t.D9,c.P]})}}return m})()},25630:(B,C,n)=>{"use strict";n.d(C,{P:()=>Ge});var i=n(64109),t=n(60177),c=n(54438),e=n(89417),p=n(58003),m=n(68018),f=n(96354),v=n(88141),E=n(25558),y=n(90306),M=n(4093),b=n(73409),P=n(64972),D=n(74082),I=n(79104),h=n(89777),S=n(15202),O=n(45024),L=n(84412),T=n(57786);class x extends O.qS{get data(){return this._data.value}set data(Ke){this._data.next(Ke),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(Ke,Te,pt=[]){super(),this._treeControl=Ke,this._treeFlattener=Te,this._flattenedData=new L.t([]),this._expandedData=new L.t([]),this._data=new L.t(pt)}connect(Ke){return(0,T.h)(Ke.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,f.T)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}var N=n(96697);class j{constructor(Ke,Te,pt,He){this.transformFunction=Ke,this.getLevel=Te,this.isExpandable=pt,this.getChildren=He}_flattenNode(Ke,Te,pt,He){const Bt=this.transformFunction(Ke,Te);if(pt.push(Bt),this.isExpandable(Bt)){const it=this.getChildren(Ke);it&&(Array.isArray(it)?this._flattenChildren(it,Te,pt,He):it.pipe((0,N.s)(1)).subscribe(Tt=>{this._flattenChildren(Tt,Te,pt,He)}))}return pt}_flattenChildren(Ke,Te,pt,He){Ke.forEach((Bt,it)=>{const Tt=He.slice();Tt.push(it!==Ke.length-1),this._flattenNode(Bt,Te+1,pt,Tt)})}flattenNodes(Ke){const Te=[];return Ke.forEach(pt=>this._flattenNode(pt,0,Te,[])),Te}expandFlattenedNodes(Ke,Te){const pt=[],He=[];return He[0]=!0,Ke.forEach(Bt=>{let it=!0;for(let Tt=0;Tt<=this.getLevel(Bt);Tt++)it=it&&He[Tt];it&&pt.push(Bt),this.isExpandable(Bt)&&(He[this.getLevel(Bt)+1]=Te.isExpanded(Bt))}),pt}}var $=n(48376),k=n.n($),K=n(71985),z=n(7673),V=n(73028),G=n(31943),X=n(1716);const Q="LOAD_MORE",ee="LOAD_MORE_ROOT",ie={id:Q},te={id:ee};class he{get children(){return this.childrenChange.value}constructor(Ke,Te=!1,pt=new b.Q,He=null,Bt=!1,it=!1,Tt=!1){this.item=Ke,this.hasChildren=Te,this.pageInfo=pt,this.loadMoreParentItem=He,this.isSearchNode=Bt,this.isInInitValueHierarchy=it,this.isSelected=Tt,this.childrenChange=new L.t([])}updatePageInfo(Ke){this.pageInfo=Ke}}class ye{constructor(Ke,Te=1,pt=!1,He=!1,Bt=new b.Q,it=null,Tt=!1,Ee=!1,je=!1){this.item=Ke,this.level=Te,this.expandable=pt,this.childrenLoaded=He,this.pageInfo=Bt,this.loadMoreParentItem=it,this.isSearchNode=Tt,this.isInInitValueHierarchy=Ee,this.isSelected=je}}let re=(()=>{class at{constructor(Te){this.vocabularyService=Te,this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.vocabularyName="",this.dataChange=new L.t([]),this.initValueHierarchy=[],this.loading=new L.t(!1),this.hideSearchingWhenUnsubscribed$=new K.c(()=>()=>this.loading.next(!1))}cleanTree(){this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.initValueHierarchy=[],this.dataChange.next([])}initialize(Te,pt,He,Bt){this.loading.next(!0),this.vocabularyOptions=Te,this.vocabularyName=Te.name,this.pageInfo=pt,(0,h.hj)(Bt)?this.getNodeHierarchyById(Bt,He).subscribe(it=>{this.initValueHierarchy=it,this.retrieveTopNodes(pt,[],He)}):this.retrieveTopNodes(pt,[],He)}getData(){return this.dataChange}loadMoreRoot(Te,pt){const He=this.dataChange.value;He.pop(),this.retrieveTopNodes(Te.pageInfo,He,pt)}loadMore(Te,pt,He=!1){if(!this.nodeMap.has(Te.otherInformation.id))return;const Bt=this.nodeMap.get(Te.otherInformation.id),it=this.nodeMap.get(Te.otherInformation.id).children||[];it.pop(),this.getChildrenNodesByParent(Te.otherInformation.id,Bt.pageInfo).subscribe(Tt=>{if(He&&Bt.children.length>0)return;const Ee=Tt.page.map(je=>this._generateNode(je,pt));if(it.push(...Ee),Tt.pageInfo.currentPage+1<=Tt.pageInfo.totalPages){const je=Object.assign(new b.Q,Tt.pageInfo,{currentPage:Tt.pageInfo.currentPage+1});Bt.updatePageInfo(je),it.push(new he(ie,!1,je,Te))}Bt.childrenChange.next(it),this.dataChange.next(this.dataChange.value)})}isLoading(){return this.loading}searchByQuery(Te,pt){this.loading.next(!0),(0,h.Im)(this.storedNodes)&&(this.storedNodes=this.dataChange.value,this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.dataChange.next([]),this.vocabularyService.getVocabularyEntriesByValue(Te,!1,this.vocabularyOptions,new b.Q).pipe((0,M.Ar)(),(0,V.Z)(He=>He.length>0?He:(0,z.of)(null)),(0,V.Z)(He=>this.vocabularyService.findEntryDetailById(He.otherInformation.id,this.vocabularyName).pipe((0,M.ak)())),(0,V.Z)(He=>this.getNodeHierarchy(He,pt)),(0,G.S)((He,Bt)=>(0,h.Im)(Bt)||-1!==k()(He,it=>it.item.otherInformation.id===Bt.item.otherInformation.id)?He:[...He,Bt],[]),(0,X.h)(this.hideSearchingWhenUnsubscribed$)).subscribe(He=>{this.dataChange.next(He),this.loading.next(!1)})}restoreNodes(){this.loading.next(!1),this.dataChange.next(this.storedNodes),this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.storedNodes=[]}_generateNode(Te,pt,He=!1,Bt=!0){const it=Te.otherInformation.id;if(this.nodeMap.has(it))return this.nodeMap.get(it);const Tt=Te.hasOtherInformation()&&"true"===Te.otherInformation.hasChildren,Ee=this.pageInfo,je=this.initValueHierarchy.includes(it),ft=pt.some(()=>pt.includes(it)),vn=new he(Te,Tt,Ee,null,He,je,ft);return Bt&&this.nodeMap.set(it,vn),vn}getNodeHierarchyById(Te,pt){return this.getById(Te).pipe((0,V.Z)(He=>this.getNodeHierarchy(He,pt,[],!1)),(0,f.T)(He=>this.getNodeHierarchyIds(He,pt)))}getChildrenNodesByParent(Te,pt){return this.vocabularyService.getEntryDetailChildren(Te,this.vocabularyName,pt).pipe((0,M.ak)())}getParentNode(Te){return this.vocabularyService.getEntryDetailParent(Te,this.vocabularyName).pipe((0,M.ak)())}getById(Te){return this.vocabularyService.findEntryDetailById(Te,this.vocabularyName).pipe((0,M.ak)())}retrieveTopNodes(Te,pt,He){this.vocabularyService.searchTopEntries(this.vocabularyName,Te).pipe((0,M.ak)()).subscribe(Bt=>{this.vocabularyService.clearSearchTopRequests();const it=Bt.page.map(Tt=>this._generateNode(Tt,He));if(pt.push(...it),Bt.pageInfo.currentPage+1<=Bt.pageInfo.totalPages){const Tt=Object.assign(new b.Q,Bt.pageInfo,{currentPage:Bt.pageInfo.currentPage+1}),Ee=new he(te,!1,Tt);Ee.updatePageInfo(Tt),pt.push(Ee)}this.loading.next(!1),this.dataChange.next(pt)})}getNodeHierarchy(Te,pt,He,Bt=!0){if((0,h.Im)(Te))return(0,z.of)(null);const it=this._generateNode(Te,pt,Bt,Bt);if((0,h.hj)(He)){const Tt=He.filter(Ee=>-1===k()(it.children,je=>je.item.otherInformation.id===Ee.item.otherInformation.id));Tt.forEach(Ee=>{Ee.loadMoreParentItem=it.item}),it.children.push(...Tt)}return it.item.hasOtherInformation()&&(0,h.hj)(it.item.otherInformation.parent)?this.getParentNode(it.item.otherInformation.id).pipe((0,V.Z)(Tt=>this.getNodeHierarchy(Tt,pt,[it],Bt))):(0,z.of)(it)}getNodeHierarchyIds(Te,pt,He=[]){return He.includes(Te.item.otherInformation.id)||He.push(Te.item.otherInformation.id),(0,h.hj)(Te.children)?this.getNodeHierarchyIds(Te.children[0],pt,He):He}static{this.\u0275fac=function(pt){return new(pt||at)(c.KVO(y.g))}}static{this.\u0275prov=c.jDH({token:at,factory:at.\u0275fac,providedIn:"root"})}}return at})();const ce=["searchInput"];function Z(at,Ke){if(1&at&&c.nrm(0,"ds-alert",1),2&at){const Te=c.XpG();c.Y8G("content",Te.description)("type",Te.AlertType.Info)}}function ne(at,Ke){if(1&at){const Te=c.RV6();c.j41(0,"button",19),c.nI1(1,"translate"),c.bIt("click",function(){c.eBV(Te);const He=c.XpG();return c.Njj(He.add())}),c.EFF(2),c.nI1(3,"translate"),c.k0s()}2&at&&(c.BMQ("aria-label",c.bMT(1,2,"vocabulary-treeview.search.form.add")),c.R7$(2),c.SpI(" ",c.bMT(3,4,"vocabulary-treeview.search.form.add")," "))}function fe(at,Ke){1&at&&c.nrm(0,"ds-loading",11),2&at&&c.Y8G("showMessage",!1)}function ae(at,Ke){1&at&&(c.j41(0,"h2",13)(1,"span"),c.EFF(2),c.nI1(3,"translate"),c.k0s()()),2&at&&(c.R7$(2),c.JRh(c.bMT(3,1,"vocabulary-treeview.search.no-result")))}function oe(at,Ke){if(1&at){const Te=c.RV6();c.j41(0,"label",25)(1,"input",26),c.mxI("ngModelChange",function(He){c.eBV(Te);const Bt=c.XpG().$implicit;return c.DH7(Bt.isSelected,He)||(Bt.isSelected=He),c.Njj(He)}),c.bIt("change",function(){c.eBV(Te);const He=c.XpG().$implicit,Bt=c.XpG();return c.Njj(Bt.onSelect(He.item))}),c.k0s(),c.j41(2,"span"),c.EFF(3),c.k0s()()}if(2&at){const Te=c.XpG().$implicit;c.AVh("text-success",Te.isSelected),c.Y8G("ngbTooltip",null==Te.item||null==Te.item.otherInformation?null:Te.item.otherInformation.note)("openDelay",500),c.R7$(),c.Y8G("disabled",!(null!=Te.item&&Te.item.selectable)),c.R50("ngModel",Te.isSelected),c.Y8G("checked",Te.isSelected),c.R7$(2),c.JRh(Te.item.display)}}function J(at,Ke){if(1&at){const Te=c.RV6();c.j41(0,"button",27),c.bIt("click",function(){c.eBV(Te);const He=c.XpG().$implicit,Bt=c.XpG();return c.Njj(Bt.onSelect(He.item))}),c.j41(1,"span"),c.EFF(2),c.k0s()()}if(2&at){const Te=c.XpG().$implicit;c.AVh("text-success",Te.isSelected),c.Y8G("dsBtnDisabled",!(null!=Te.item&&Te.item.selectable))("ngbTooltip",null==Te.item||null==Te.item.otherInformation?null:Te.item.otherInformation.note)("openDelay",500),c.R7$(2),c.JRh(Te.item.display)}}function ve(at,Ke){if(1&at&&(c.j41(0,"cdk-tree-node",20)(1,"span",21),c.nrm(2,"i",22),c.k0s(),c.DNE(3,oe,4,8,"label",23)(4,J,3,6,"button",24),c.k0s()),2&at){const Te=c.XpG();c.R7$(3),c.vxM(Te.multiSelect?3:-1),c.R7$(),c.vxM(Te.multiSelect?-1:4)}}function _e(at,Ke){if(1&at){const Te=c.RV6();c.j41(0,"label",25)(1,"input",26),c.mxI("ngModelChange",function(He){c.eBV(Te);const Bt=c.XpG().$implicit;return c.DH7(Bt.isSelected,He)||(Bt.isSelected=He),c.Njj(He)}),c.bIt("change",function(){c.eBV(Te);const He=c.XpG().$implicit,Bt=c.XpG();return c.Njj(Bt.onSelect(He.item))}),c.k0s(),c.j41(2,"span"),c.EFF(3),c.k0s()()}if(2&at){const Te=c.XpG().$implicit;c.AVh("text-success",Te.isSelected),c.Y8G("ngbTooltip",null==Te.item||null==Te.item.otherInformation?null:Te.item.otherInformation.note)("openDelay",500),c.R7$(),c.Y8G("disabled",!(null!=Te.item&&Te.item.selectable)),c.R50("ngModel",Te.isSelected),c.Y8G("checked",Te.isSelected),c.R7$(2),c.JRh(Te.item.display)}}function Ce(at,Ke){if(1&at){const Te=c.RV6();c.j41(0,"button",27),c.bIt("click",function(){c.eBV(Te);const He=c.XpG().$implicit,Bt=c.XpG();return c.Njj(Bt.onSelect(He.item))}),c.j41(1,"span"),c.EFF(2),c.k0s()()}if(2&at){const Te=c.XpG().$implicit;c.AVh("text-success",Te.isSelected),c.Y8G("dsBtnDisabled",!(null!=Te.item&&Te.item.selectable))("ngbTooltip",null==Te.item||null==Te.item.otherInformation?null:Te.item.otherInformation.note)("openDelay",500),c.R7$(2),c.JRh(Te.item.display)}}function qe(at,Ke){if(1&at){const Te=c.RV6();c.j41(0,"cdk-tree-node",20)(1,"button",28),c.bIt("click",function(){const He=c.eBV(Te).$implicit,Bt=c.XpG();return c.Njj(Bt.loadChildren(He))})("keydown.enter",function(){const He=c.eBV(Te).$implicit,Bt=c.XpG();return c.Njj(Bt.loadChildren(He))})("keydown.space",function(){const He=c.eBV(Te).$implicit,Bt=c.XpG();return c.Njj(Bt.loadChildren(He))}),c.nrm(2,"i"),c.k0s(),c.DNE(3,_e,4,8,"label",23)(4,Ce,3,6,"button",24),c.k0s()}if(2&at){const Te=Ke.$implicit,pt=c.XpG();c.R7$(),c.BMQ("aria-label","toggle "+Te.name),c.R7$(),c.ZvI("fas fa-fw ",pt.treeControl.isExpanded(Te)?"fa-angle-down":"fa-angle-right",""),c.R7$(),c.vxM(pt.multiSelect?3:-1),c.R7$(),c.vxM(pt.multiSelect?-1:4)}}function Re(at,Ke){if(1&at){const Te=c.RV6();c.j41(0,"cdk-tree-node",29)(1,"button",30),c.nI1(2,"translate"),c.bIt("click",function(){const He=c.eBV(Te).$implicit,Bt=c.XpG();return c.Njj(Bt.loadMore(He.loadMoreParentItem))}),c.EFF(3),c.nI1(4,"translate"),c.k0s()()}2&at&&(c.R7$(),c.BMQ("aria-label",c.bMT(2,2,"vocabulary-treeview.load-more")),c.R7$(2),c.SpI(" ",c.bMT(4,4,"vocabulary-treeview.load-more"),"... "))}function nt(at,Ke){if(1&at){const Te=c.RV6();c.j41(0,"cdk-tree-node")(1,"button",30),c.nI1(2,"translate"),c.bIt("click",function(){const He=c.eBV(Te).$implicit,Bt=c.XpG();return c.Njj(Bt.loadMoreRoot(He))}),c.EFF(3),c.nI1(4,"translate"),c.k0s()()}2&at&&(c.R7$(),c.BMQ("aria-label",c.bMT(2,2,"vocabulary-treeview.load-more")),c.R7$(2),c.SpI(" ",c.bMT(4,4,"vocabulary-treeview.load-more"),"... "))}let Ge=(()=>{class at{constructor(Te,pt){this.vocabularyTreeviewService=Te,this.vocabularyService=pt,this.preloadLevel=2,this.description="",this.multiSelect=!1,this.showAdd=!0,this.selectedItems=[],this.nodeMap=new Map,this.storedNodeMap=new Map,this.select=new c.bkB(null),this.deselect=new c.bkB(null),this.subs=[],this.AlertType=D.v,this.getChildren=He=>He.childrenChange,this.transformer=(He,Bt)=>{const it=this.getEntryId(He.item),Tt=this.nodeMap.get(it);if(Tt&&Tt.item.id!==Q&&Tt.item.id!==ee)return Tt;const Ee=new ye(He.item,Bt,He.hasChildren,He.hasChildren&&(0,h.hj)(He.children),He.pageInfo,He.loadMoreParentItem,He.isSearchNode,He.isInInitValueHierarchy,He.isSelected);if(this.nodeMap.set(it,Ee),Bt+1<this.preloadLevel||Ee.isSearchNode&&Ee.childrenLoaded||Ee.isInInitValueHierarchy){if(Ee.item.id===Q||Ee.item.id===ee)return Ee;Ee.childrenLoaded||this.loadChildren(Ee),this.treeControl.expand(Ee)}return Ee},this.getLevel=He=>He.level,this.isExpandable=He=>He.expandable,this.hasChildren=(He,Bt)=>Bt.expandable,this.isLoadMore=(He,Bt)=>Bt.item.id===Q,this.isLoadMoreRoot=(He,Bt)=>Bt.item.id===ee,this.treeFlattener=new j(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new i.XW(this.getLevel,this.isExpandable),this.dataSource=new x(this.treeControl,this.treeFlattener)}ngOnInit(){this.subs.push(this.vocabularyService.findVocabularyById(this.vocabularyOptions.name).pipe((0,M.qD)(),(0,f.T)(Te=>Te.hasSucceeded&&(0,h.a4)(Te.payload.preloadLevel)&&Te.payload.preloadLevel>1?Te.payload.preloadLevel:1),(0,v.M)(Te=>this.preloadLevel=Te),(0,v.M)(()=>{const Te=this.selectedItems?.length>0?this.getEntryId(this.selectedItems[0]):null;this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new b.Q,this.getSelectedEntryIds(),Te)}),(0,E.n)(()=>this.vocabularyTreeviewService.getData())).subscribe(Te=>{this.dataSource.data=Te})),this.loading=this.vocabularyTreeviewService.isLoading()}loadMore(Te){this.vocabularyTreeviewService.loadMore(Te,this.getSelectedEntryIds())}loadMoreRoot(Te){this.vocabularyTreeviewService.loadMoreRoot(Te,this.getSelectedEntryIds())}loadChildren(Te){this.vocabularyTreeviewService.loadMore(Te.item,this.getSelectedEntryIds(),!0)}onSelect(Te){this.getSelectedEntryIds().includes(this.getEntryId(Te))?(this.selectedItems=this.selectedItems.filter(pt=>this.getEntryId(pt)!==this.getEntryId(Te)),this.deselect.emit(Te)):(this.selectedItems.push(Te),this.select.emit(Te))}search(){(0,h.hj)(this.searchText)&&((0,h.Im)(this.storedNodeMap)&&(this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.vocabularyTreeviewService.searchByQuery(this.searchText,this.getSelectedEntryIds()))}isSearchEnabled(){return(0,h.hj)(this.searchText)}reset(){this.searchText="";for(const Te of this.selectedItems)this.deselect.emit(Te),this.nodeMap.get(this.getEntryId(Te)).isSelected=!1;this.selectedItems=[],(0,h.hj)(this.storedNodeMap)&&(this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.vocabularyTreeviewService.restoreNodes()),this.searchInput&&this.searchInput.nativeElement.focus()}add(){this.select.emit({value:this.searchText,display:this.searchText})}ngOnDestroy(){this.vocabularyTreeviewService.cleanTree(),this.subs.filter(Te=>(0,h.a4)(Te)).forEach(Te=>Te.unsubscribe())}getEntryId(Te){return Te?.authority||Te?.otherInformation?.id||Te?.id||void 0}getSelectedEntryIds(){return this.selectedItems.map(Te=>this.getEntryId(Te)).filter(Te=>(0,h.hj)(Te))}ngOnChanges(Te){!Te.vocabularyOptions.isFirstChange()&&Te.vocabularyOptions.currentValue!==Te.vocabularyOptions.previousValue&&(this.selectedItems=[],this.searchText="",this.vocabularyTreeviewService.cleanTree(),this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new b.Q,this.getSelectedEntryIds(),null))}static{this.\u0275fac=function(pt){return new(pt||at)(c.rXU(re),c.rXU(y.g))}}static{this.\u0275cmp=c.VBU({type:at,selectors:[["ds-vocabulary-treeview"]],viewQuery:function(pt,He){if(1&pt&&c.GBs(ce,5),2&pt){let Bt;c.mGM(Bt=c.lsd())&&(He.searchInput=Bt.first)}},inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",description:"description",multiSelect:"multiSelect",showAdd:"showAdd",selectedItems:"selectedItems"},outputs:{select:"select",deselect:"deselect"},standalone:!0,features:[c.OA$,c.aNF],decls:33,vars:40,consts:[["searchInput",""],[3,"content","type"],[1,"treeview-header","row","mb-1"],[1,"col-12"],[1,"input-group"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],["id","button-addon4",1,"input-group-append"],["type","button","role","button","tabindex","0",1,"btn","btn-outline-primary",3,"click","dsBtnDisabled"],["type","button","role","button","tabindex","0",1,"btn","btn-outline-secondary",3,"click"],["type","button","role","button","tabindex","0",1,"btn","btn-outline-primary"],[1,"treeview-container"],[3,"showMessage"],["aria-live","polite"],[1,"h4","text-center","text-muted","mt-4"],[3,"dataSource","treeControl"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["type","button","role","button","tabindex","0",1,"btn","btn-outline-primary",3,"click"],["cdkTreeNodePadding","",1,"d-flex"],["aria-hidden","true","type","button","cdkTreeNodeToggle","",1,"btn","btn-default","px-2","me-1","btn-transparent"],[1,"fas","fa-fw","fa-angle-right","invisible"],["container","body",1,"form-label","d-flex","align-items-center","m-0","p-0","form-check",3,"text-success","ngbTooltip","openDelay"],["container","body","role","button","tabindex","0",1,"btn","btn-outline-link","btn-sm","text-start",3,"text-success","dsBtnDisabled","ngbTooltip","openDelay"],["container","body",1,"form-label","d-flex","align-items-center","m-0","p-0","form-check",3,"ngbTooltip","openDelay"],["type","checkbox","role","checkbox","tabindex","0",1,"me-2",3,"ngModelChange","change","disabled","ngModel","checked"],["container","body","role","button","tabindex","0",1,"btn","btn-outline-link","btn-sm","text-start",3,"click","dsBtnDisabled","ngbTooltip","openDelay"],["type","button","cdkTreeNodeToggle","","role","button","tabindex","0",1,"btn","btn-default","px-2","me-1","btn-transparent",3,"click","keydown.enter","keydown.space"],["cdkTreeNodePadding",""],["role","button","tabindex","0",1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(pt,He){if(1&pt){const Bt=c.RV6();c.DNE(0,Z,1,2,"ds-alert",1),c.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),c.nI1(6,"translate"),c.nI1(7,"translate"),c.mxI("ngModelChange",function(Tt){return c.eBV(Bt),c.DH7(He.searchText,Tt)||(He.searchText=Tt),c.Njj(Tt)}),c.bIt("keyup.enter",function(){return c.eBV(Bt),c.Njj(He.search())}),c.k0s(),c.j41(8,"div",6)(9,"button",7),c.nI1(10,"translate"),c.bIt("click",function(){return c.eBV(Bt),c.Njj(He.search())}),c.EFF(11),c.nI1(12,"translate"),c.k0s(),c.j41(13,"button",8),c.nI1(14,"translate"),c.bIt("click",function(){return c.eBV(Bt),c.Njj(He.reset())}),c.EFF(15),c.nI1(16,"translate"),c.k0s(),c.DNE(17,ne,4,6,"button",9),c.j41(18,"button",7),c.nI1(19,"translate"),c.bIt("click",function(){return c.eBV(Bt),c.Njj(He.add())}),c.EFF(20),c.nI1(21,"translate"),c.k0s()()()()(),c.j41(22,"div",10),c.DNE(23,fe,1,1,"ds-loading",11),c.nI1(24,"async"),c.j41(25,"div",12),c.DNE(26,ae,4,3,"h2",13),c.nI1(27,"async"),c.k0s(),c.j41(28,"cdk-tree",14),c.DNE(29,ve,5,2,"cdk-tree-node",15)(30,qe,5,6,"cdk-tree-node",16)(31,Re,5,6,"cdk-tree-node",17)(32,nt,5,6,"cdk-tree-node",18),c.k0s()()}2&pt&&(c.vxM(He.description?0:-1),c.R7$(4),c.R50("ngModel",He.searchText),c.Y8G("placeholder",c.bMT(6,20,"vocabulary-treeview.search.form.search-placeholder")),c.BMQ("aria-label",c.bMT(7,22,"vocabulary-treeview.search.form.search-placeholder")),c.R7$(5),c.Y8G("dsBtnDisabled",!He.isSearchEnabled()),c.BMQ("aria-label",c.bMT(10,24,"vocabulary-treeview.search.form.search")),c.R7$(2),c.SpI(" ",c.bMT(12,26,"vocabulary-treeview.search.form.search")," "),c.R7$(2),c.BMQ("aria-label",c.bMT(14,28,"vocabulary-treeview.search.form.reset")),c.R7$(2),c.SpI(" ",c.bMT(16,30,"vocabulary-treeview.search.form.reset")," "),c.R7$(2),c.vxM(He.showAdd&&He.vocabularyOptions.closed?17:-1),c.R7$(),c.Y8G("dsBtnDisabled",He.vocabularyOptions.closed),c.BMQ("aria-label",c.bMT(19,32,"vocabulary-treeview.search.form.add")),c.R7$(2),c.SpI(" ",c.bMT(21,34,"vocabulary-treeview.search.form.add")," "),c.R7$(3),c.vxM(c.bMT(24,36,He.loading)?23:-1),c.R7$(3),c.vxM(!0!==c.bMT(27,38,He.loading)&&0===He.dataSource.data.length?26:-1),c.R7$(2),c.Y8G("dataSource",He.dataSource)("treeControl",He.treeControl),c.R7$(2),c.Y8G("cdkTreeNodeDefWhen",He.hasChildren),c.R7$(),c.Y8G("cdkTreeNodeDefWhen",He.isLoadMore),c.R7$(),c.Y8G("cdkTreeNodeDefWhen",He.isLoadMoreRoot))},dependencies:[P.C,t.Jj,I.A,i.Dc,i.Sz,i.aI,i.Hy,i.NL,i.xn,e.YN,e.me,e.Zm,e.BC,e.vS,p.n8,p.md,S.v,m.h,m.D9],styles:[".tooltip-inner{text-align:left}label[_ngcontent-%COMP%]{cursor:pointer}.input-group[_ngcontent-%COMP%] > .input-group-append[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.input-group[_ngcontent-%COMP%] > .input-group-append[_ngcontent-%COMP%]:last-child > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.input-group-append[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:-1px}"]})}}return at})()},74511:(B,C,n)=>{"use strict";n.d(C,{e:()=>M});var i=n(7673),t=n(96354),c=n(96697),e=n(94925),p=n(4093),m=n(89777),f=n(54438);const y=/^([^\/]+\/[^\/]+)$/;let M=(()=>{class b{constructor(D){this.configurationService=D}normalizeHandle(D){return(0,m.Tn)(D)?(0,i.of)(null):this.configurationService.findByPropertyName("handle.canonical.prefix").pipe((0,p.qD)(),(0,t.T)(I=>{if(I.hasSucceeded)return I.payload.values.length>=1?I.payload.values[0]:void 0}),(0,t.T)(I=>{let h;return h=D.match((b=>{const P=b?.replace(/\/$/,"");return new RegExp(`(${P?P+"|":""}handle)/([^/]+/[^/]+)$`)})(I)),((0,m.Im)(h)||h.length<3)&&(h=D.match(y)),(0,m.Im)(h)||h.length<2?null:h[h.length-1]}),(0,c.s)(1))}static{this.\u0275fac=function(I){return new(I||b)(f.KVO(e.ConfigurationDataService))}}static{this.\u0275prov=f.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}}return b})()},53186:(B,C,n)=>{"use strict";n.d(C,{O:()=>t,l:()=>c});const t={RESIZE:(0,n(6800).N)("dspace/host-window/RESIZE")};class c{constructor(p,m){this.type=t.RESIZE,this.payload={width:p,height:m}}}},50842:(B,C,n)=>{"use strict";n.d(C,{CV:()=>P,tP:()=>E});var i=n(59640),t=n(84572),c=n(5964),e=n(96354),p=n(23294),m=n(89777),f=n(87837),v=n(54438),E=function(D){return D[D.XS=0]="XS",D[D.SM=1]="SM",D[D.MD=2]="MD",D[D.LG=3]="LG",D[D.XL=4]="XL",D}(E||{});const y=E.SM,b=(0,i.Mz)(D=>D.hostWindow,D=>D.width);let P=(()=>{class D{constructor(h,S){this.store=h,this.variableService=S,this.breakPoints={},S.getAllVariables().subscribe(O=>{this.breakPoints.XL_MIN=parseInt(O["--bs-xl"],10),this.breakPoints.LG_MIN=parseInt(O["--bs-lg"],10),this.breakPoints.MD_MIN=parseInt(O["--bs-md"],10),this.breakPoints.SM_MIN=parseInt(O["--bs-sm"],10)})}getWidthObs(){return this.store.pipe((0,i.Lt)(b),(0,c.p)(h=>(0,m.a4)(h)))}get widthCategory(){return this.getWidthObs().pipe((0,e.T)(h=>h<this.breakPoints.SM_MIN?E.XS:h>=this.breakPoints.SM_MIN&&h<this.breakPoints.MD_MIN?E.SM:h>=this.breakPoints.MD_MIN&&h<this.breakPoints.LG_MIN?E.MD:h>=this.breakPoints.LG_MIN&&h<this.breakPoints.XL_MIN?E.LG:E.XL),(0,p.F)())}isXs(){return this.widthCategory.pipe((0,e.T)(h=>h===E.XS),(0,p.F)())}isSm(){return this.widthCategory.pipe((0,e.T)(h=>h===E.SM),(0,p.F)())}isMd(){return this.widthCategory.pipe((0,e.T)(h=>h===E.MD),(0,p.F)())}isLg(){return this.widthCategory.pipe((0,e.T)(h=>h===E.LG),(0,p.F)())}isXl(){return this.widthCategory.pipe((0,e.T)(h=>h===E.XL),(0,p.F)())}is(h){return this.widthCategory.pipe((0,e.T)(S=>S===h),(0,p.F)())}isIn(h){return this.widthCategory.pipe((0,e.T)(S=>h.includes(S)),(0,p.F)())}isUpTo(h){return this.widthCategory.pipe((0,e.T)(S=>S<=h),(0,p.F)())}isMobile(){return this.widthCategory.pipe((0,e.T)(h=>h<=y),(0,p.F)())}isDesktop(){return this.widthCategory.pipe((0,e.T)(h=>h>y),(0,p.F)())}isXsOrSm(){return(0,t.z)([this.isXs(),this.isSm()]).pipe((0,e.T)(([h,S])=>h||S),(0,p.F)())}static{this.\u0275fac=function(S){return new(S||D)(v.KVO(i.il),v.KVO(f.J))}}static{this.\u0275prov=v.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},66858:(B,C,n)=>{"use strict";n.d(C,{k:()=>t});var i=n(54438);let t=(()=>{class c{constructor(p){this.elementRef=p}onMouseEnter(){this.elementRef.nativeElement.classList.add(this.hoverClass)}onMouseLeave(){this.elementRef.nativeElement.classList.remove(this.hoverClass)}static{this.\u0275fac=function(m){return new(m||c)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:c,selectors:[["","dsHoverClass",""]],hostBindings:function(m,f){1&m&&i.bIt("mouseenter",function(){return f.onMouseEnter()})("mouseleave",function(){return f.onMouseLeave()})},inputs:{hoverClass:[0,"dsHoverClass","hoverClass"]},standalone:!0})}}return c})()},22114:(B,C,n)=>{"use strict";n.d(C,{d:()=>y});var i=n(60177),t=n(58003),c=n(59640),e=n(68018),p=n(96354),m=n(94196),f=n(12321),v=n(54438);function E(M,b){if(1&M){const P=v.RV6();v.j41(0,"ul",0)(1,"li",1)(2,"button",2),v.nI1(3,"translate"),v.bIt("click",function(){v.eBV(P);const I=v.XpG();return v.Njj(I.stopImpersonating())}),v.nrm(4,"i",3),v.k0s()()()}2&M&&(v.R7$(2),v.FS9("ngbTooltip",v.bMT(3,1,"nav.stop-impersonating")))}let y=(()=>{class M{constructor(P,D,I){this.elRef=P,this.store=D,this.authService=I,this.subscriptions=[]}ngOnInit(){this.isImpersonating$=this.store.pipe((0,c.Lt)(f.wR)).pipe((0,p.T)(P=>P&&this.authService.isImpersonating())),this.subscriptions.push(this.isImpersonating$.subscribe(P=>{P?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}stopImpersonating(){this.authService.stopImpersonatingAndRefresh()}static{this.\u0275fac=function(D){return new(D||M)(v.rXU(v.aKT),v.rXU(c.il),v.rXU(m.uR))}}static{this.\u0275cmp=v.VBU({type:M,selectors:[["ds-impersonate-navbar"]],standalone:!0,features:[v.aNF],decls:2,vars:3,consts:[[1,"navbar-nav"],[1,"nav-item"],[1,"btn","btn-sm","btn-dark",3,"click","ngbTooltip"],[1,"fa","fa-user-secret"]],template:function(D,I){1&D&&(v.DNE(0,E,5,3,"ul",0),v.nI1(1,"async")),2&D&&v.vxM(v.bMT(1,1,I.isImpersonating$)?0:-1)},dependencies:[i.Jj,t.n8,t.md,e.h,e.D9],encapsulation:2})}}return M})()},73336:(B,C,n)=>{"use strict";n.d(C,{H:()=>h});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),p=n(38133),m=n(19370),f=n(51828);const v=S=>({show:S}),E=S=>({"is-invalid":S}),y=()=>({standalone:!0});function M(S,O){1&S&&t.eu8(0)}function b(S,O){if(1&S&&(t.j41(0,"label",6)(1,"span",11),t.EFF(2),t.k0s(),t.DNE(3,M,1,0,"ng-container",12),t.k0s()),2&S){const L=t.XpG(),T=t.sdS(6);t.R7$(2),t.SpI(" ",L.label," "),t.R7$(),t.Y8G("ngTemplateOutlet",T)}}function P(S,O){if(1&S){const L=t.RV6();t.j41(0,"input",13,2),t.mxI("ngModelChange",function(x){t.eBV(L);const N=t.XpG();return t.DH7(N.value,x)||(N.value=x),t.Njj(x)}),t.bIt("onDebounce",function(x){t.eBV(L);const N=t.XpG();return t.Njj(N.find(x))}),t.k0s()}if(2&S){const L=t.XpG();t.R50("ngModel",L.value),t.Y8G("name",L.name)("ngClass",t.eq3(6,E,!L.valid))("dsDebounce",L.debounceTime)("placeholder",L.placeholder)("ngModelOptions",t.lJ4(8,y))}}function D(S,O){if(1&S){const L=t.RV6();t.j41(0,"input",13,2),t.mxI("ngModelChange",function(x){t.eBV(L);const N=t.XpG();return t.DH7(N.value,x)||(N.value=x),t.Njj(x)}),t.bIt("onDebounce",function(x){t.eBV(L);const N=t.XpG();return t.Njj(N.find(x))}),t.k0s()}if(2&S){const L=t.XpG();t.R50("ngModel",L.value),t.Y8G("name",L.name)("ngClass",t.eq3(6,E,!L.valid))("dsDebounce",L.debounceTime)("placeholder",L.placeholder)("ngModelOptions",t.lJ4(8,y))}}function I(S,O){if(1&S){const L=t.RV6();t.j41(0,"div")(1,"a",14,3),t.bIt("click",function(){const x=t.eBV(L).$implicit,N=t.XpG();return t.Njj(N.onClickSuggestion(x))}),t.nrm(3,"span",15),t.k0s()()}if(2&S){const L=O.$implicit;t.R7$(3),t.Y8G("innerHTML",L.displayValue,t.npT)}}let h=(()=>{class S extends f.t{constructor(){super(...arguments),this.suggestions=[]}onSubmit(L){this.value=L,this.submitSuggestion.emit(L)}onClickSuggestion(L){return this.value=L.value,this.clickSuggestion.emit(L),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let L;return function(x){return(L||(L=t.xGo(S)))(x||S)}})()}static{this.\u0275cmp=t.VBU({type:S,selectors:[["ds-filter-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[t.Jv_([{provide:c.kq,useExisting:(0,t.Rfq)(()=>S),multi:!0}]),t.Vt3,t.aNF],decls:15,vars:10,consts:[["form","ngForm"],["searchInput",""],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],[1,"mb-3","mb-0"],[1,"mb-0","w-100"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[1,"fw-bold"],[4,"ngTemplateOutlet"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(T,x){if(1&T){const N=t.RV6();t.j41(0,"form",4,0),t.bIt("ngSubmit",function(){return t.eBV(N),t.Njj(x.onSubmit(x.value))})("keydown",function($){return t.eBV(N),t.Njj(x.onKeydown($))})("keydown.arrowdown",function($){return t.eBV(N),t.Njj(x.shiftFocusDown($))})("keydown.arrowup",function($){return t.eBV(N),t.Njj(x.shiftFocusUp($))})("keydown.esc",function(){return t.eBV(N),t.Njj(x.close())})("dsClickOutside",function(){return t.eBV(N),t.Njj(x.close())}),t.j41(2,"div",5),t.DNE(3,b,4,2,"label",6)(4,P,2,9,"input",7),t.k0s(),t.DNE(5,D,2,9,"ng-template",null,1,t.C5r),t.j41(7,"button",8),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"div",9),t.nI1(11,"async"),t.j41(12,"div",10),t.Z7z(13,I,4,1,"div",null,t.fX1),t.k0s()()()}2&T&&(t.Y8G("action",x.action,t.B4B),t.R7$(3),t.vxM(x.label?3:4),t.R7$(5),t.SpI(" ",t.bMT(9,4,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(8,v,t.bMT(11,6,x.show)&&x.isNotEmpty(x.suggestions))),t.R7$(3),t.Dyx(x.suggestions))},dependencies:[i.Jj,p.z,m.R,c.YN,c.qT,c.me,c.BC,c.cb,c.vS,c.cV,i.YU,i.T3,e.h,e.D9],styles:[".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return S})()},51828:(B,C,n)=>{"use strict";n.d(C,{t:()=>I});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),p=n(84412),m=n(89777),f=n(38133),v=n(19370);const E=["inputField"],y=["suggestion"],M=h=>({"is-invalid":h}),b=()=>({standalone:!0}),P=h=>({show:h});function D(h,S){if(1&h){const O=t.RV6();t.j41(0,"div")(1,"a",8,2),t.bIt("click",function(){const T=t.eBV(O).$implicit,x=t.XpG();return t.Njj(x.onClickSuggestion(T.value))}),t.nrm(3,"span",9),t.k0s()()}if(2&h){const O=S.$implicit;t.R7$(3),t.Y8G("innerHTML",O.displayValue,t.npT)}}let I=(()=>{class h{constructor(){this.suggestions=[],this.debounceTime=500,this.placeholder="",this.valid=!0,this.label="",this.submitSuggestion=new t.bkB,this.clickSuggestion=new t.bkB,this.typeSuggestion=new t.bkB,this.findSuggestions=new t.bkB,this.show=new p.t(!1),this.selectedIndex=-1,this.blockReopen=!1,this.disabled=!1,this.propagateChange=O=>{},this.propagateTouch=O=>{}}ngOnChanges(O){(0,m.a4)(O.suggestions)&&this.show.next((0,m.hj)(O.suggestions.currentValue)&&!O.suggestions.firstChange)}shiftFocusUp(O){O.preventDefault(),this.selectedIndex>0?(this.selectedIndex--,this.selectedIndex=(this.selectedIndex+this.resultViews.length)%this.resultViews.length):this.selectedIndex=this.resultViews.length-1,this.changeFocus()}shiftFocusDown(O){O.preventDefault(),this.selectedIndex>=0?(this.selectedIndex++,this.selectedIndex%=this.resultViews.length):this.selectedIndex=0,this.changeFocus()}changeFocus(){this.resultViews.length>0&&this.resultViews.toArray()[this.selectedIndex].nativeElement.focus()}onKeydown(O){"Enter"!==O.key&&"Tab"!==O.key&&this.queryInput.nativeElement.focus()}close(){this.show.next(!1)}open(){this.blockReopen||this.show.next(!0)}isNotEmpty(O){return(0,m.hj)(O)}onSubmit(O){}onClickSuggestion(O){}find(O){this.blockReopen||(this.findSuggestions.emit(O),this.typeSuggestion.emit(O)),this.blockReopen=!1}registerOnChange(O){this.propagateChange=O}registerOnTouched(O){this.propagateTouch=O}setDisabledState(O){this.disabled=O}writeValue(O){this.value=O}get value(){return this._value}set value(O){this._value=O,this.propagateChange(this._value)}static{this.\u0275fac=function(L){return new(L||h)}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["ds-input-suggestions"]],viewQuery:function(L,T){if(1&L&&(t.GBs(E,5),t.GBs(y,5)),2&L){let x;t.mGM(x=t.lsd())&&(T.queryInput=x.first),t.mGM(x=t.lsd())&&(T.resultViews=x)}},inputs:{suggestions:"suggestions",debounceTime:"debounceTime",placeholder:"placeholder",action:"action",name:"name",valid:"valid",label:"label",disabled:"disabled"},outputs:{submitSuggestion:"submitSuggestion",clickSuggestion:"clickSuggestion",typeSuggestion:"typeSuggestion",findSuggestions:"findSuggestions"},standalone:!0,features:[t.OA$,t.aNF],decls:12,vars:18,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(L,T){if(1&L){const x=t.RV6();t.j41(0,"form",3,0),t.bIt("ngSubmit",function(){return t.eBV(x),t.Njj(T.onSubmit(T.value))})("keydown",function(j){return t.eBV(x),t.Njj(T.onKeydown(j))})("keydown.arrowdown",function(j){return t.eBV(x),t.Njj(T.shiftFocusDown(j))})("keydown.arrowup",function(j){return t.eBV(x),t.Njj(T.shiftFocusUp(j))})("keydown.esc",function(){return t.eBV(x),t.Njj(T.close())})("dsClickOutside",function(){return t.eBV(x),t.Njj(T.close())}),t.j41(2,"input",4,1),t.mxI("ngModelChange",function(j){return t.eBV(x),t.DH7(T.value,j)||(T.value=j),t.Njj(j)}),t.bIt("onDebounce",function(j){return t.eBV(x),t.Njj(T.find(j))}),t.k0s(),t.j41(4,"button",5),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",6),t.nI1(8,"async"),t.j41(9,"div",7),t.Z7z(10,D,4,1,"div",null,t.fX1),t.k0s()()()}2&L&&(t.Y8G("action",T.action,t.B4B),t.R7$(2),t.R50("ngModel",T.value),t.Y8G("name",T.name)("ngClass",t.eq3(13,M,!T.valid))("dsDebounce",T.debounceTime)("placeholder",T.placeholder)("ngModelOptions",t.lJ4(15,b)),t.R7$(3),t.SpI(" ",t.bMT(6,9,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(16,P,t.bMT(8,11,T.show)&&T.isNotEmpty(T.suggestions))),t.R7$(3),t.Dyx(T.suggestions))},dependencies:[i.Jj,f.z,v.R,c.YN,c.qT,c.me,c.BC,c.cb,c.vS,c.cV,i.YU,e.h,e.D9],encapsulation:2})}}return h})()},39460:(B,C,n)=>{"use strict";n.r(C),n.d(C,{LangSwitchComponent:()=>v});var i=n(58003),t=n(68018),c=n(78544),e=n(97576),p=n(54438);function m(E,y){if(1&E){const M=p.RV6();p.j41(0,"div",5),p.bIt("keyup.enter",function(){const P=p.eBV(M).$implicit,D=p.XpG(2);return p.Njj(D.useLang(P))})("click",function(){const P=p.eBV(M).$implicit,D=p.XpG(2);return p.Njj(D.useLang(P))}),p.EFF(1),p.k0s()}if(2&E){const M=y.$implicit,b=p.XpG(2);p.AVh("active",M===b.translate.currentLang),p.Y8G("lang",M),p.BMQ("aria-selected",M===b.translate.currentLang),p.R7$(),p.SpI(" ",b.langLabel(M)," ")}}function f(E,y){if(1&E){const M=p.RV6();p.j41(0,"div",0)(1,"button",1),p.nI1(2,"translate"),p.nI1(3,"translate"),p.bIt("click",function(P){return p.eBV(M),p.Njj(P.preventDefault())}),p.nrm(4,"i",2),p.k0s(),p.j41(5,"div",3),p.nI1(6,"translate"),p.Z7z(7,m,2,5,"div",4,p.fX1),p.k0s()()}if(2&E){const M=p.XpG();p.R7$(),p.Y8G("title",p.bMT(2,3,"nav.language")),p.BMQ("aria-label",p.bMT(3,5,"nav.language")),p.R7$(4),p.BMQ("aria-label",p.bMT(6,7,"nav.language")),p.R7$(2),p.Dyx(M.translate.getLangs())}}let v=(()=>{class E{constructor(M,b,P){this.el=M,this.translate=b,this.localeService=P}ngOnInit(){this.activeLangs=c.c.languages.filter(M=>!0===M.active),this.moreThanOneLanguage=this.activeLangs.length>1,this.moreThanOneLanguage||this.el.nativeElement.parentElement.classList.add("d-none")}currentLangLabel(){return this.activeLangs.find(M=>M.code===this.translate.currentLang).label}langLabel(M){return this.activeLangs.find(b=>b.code===M).label}useLang(M){this.localeService.setCurrentLanguageCode(M),this.localeService.refreshAfterChangeLanguage()}static{this.\u0275fac=function(b){return new(b||E)(p.rXU(p.aKT),p.rXU(t.c$),p.rXU(e.iH))}}static{this.\u0275cmp=p.VBU({type:E,selectors:[["ds-base-lang-switch"]],standalone:!0,features:[p.aNF],decls:1,vars:1,consts:[["ngbDropdown","","display","dynamic","placement","bottom-right",1,"navbar-nav"],["role","button","aria-controls","language-menu-list","aria-haspopup","menu","data-bs-toggle","dropdown","ngbDropdownToggle","","data-test","lang-switch","tabindex","0",1,"dropdown-toggle","btn","btn-link","px-0",3,"click","title"],[1,"fas","fa-globe-asia","fa-lg","fa-fw"],["ngbDropdownMenu","","id","language-menu-list","role","listbox",1,"dropdown-menu"],["tabindex","0","role","option",1,"dropdown-item",3,"lang","active"],["tabindex","0","role","option",1,"dropdown-item",3,"keyup.enter","click","lang"]],template:function(b,P){1&b&&p.DNE(0,f,9,9,"div",0),2&b&&p.vxM(P.moreThanOneLanguage?0:-1)},dependencies:[i.zH,i.tg,i.do,i.U0,t.h,t.D9],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.dropdown-toggle[_ngcontent-%COMP%]:hover, .dropdown-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}"]})}}return E})()},72012:(B,C,n)=>{"use strict";n.d(C,{n:()=>m});var i=n(29710),c=(n(39460),n(54438));const e=["*"];function p(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"LangSwitchComponent"}importThemedComponent(E){return n(97394)(`./${E}/app/shared/lang-switch/lang-switch.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,39460))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=c.xGo(f)))(M||f)}})()}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-lang-switch"]],standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},58400:(B,C,n)=>{"use strict";n.d(C,{E:()=>m});var i=n(60177),t=n(50808),c=n(54438);const e=f=>({"visually-hidden":f});function p(f,v){if(1&f&&(c.j41(0,"div",1),c.EFF(1),c.k0s()),2&f){const E=v.$implicit;c.R7$(),c.JRh(E)}}let m=(()=>{class f{constructor(E){this.liveRegionService=E}ngOnInit(){this.isVisible=this.liveRegionService.getLiveRegionVisibility(),this.messages$=this.liveRegionService.getMessages$()}static{this.\u0275fac=function(y){return new(y||f)(c.rXU(t.A))}}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-live-region"]],standalone:!0,features:[c.aNF],decls:4,vars:5,consts:[["aria-live","assertive","role","log","aria-relevant","additions","aria-atomic","true",1,"live-region",3,"ngClass"],[1,"live-region-message"]],template:function(y,M){1&y&&(c.j41(0,"div",0),c.Z7z(1,p,2,1,"div",1,c.fX1),c.nI1(3,"async"),c.k0s()),2&y&&(c.Y8G("ngClass",c.eq3(3,e,!M.isVisible)),c.R7$(),c.Dyx(c.bMT(3,1,M.messages$)))},dependencies:[i.Jj,i.YU],styles:[".live-region[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;padding-left:60px;height:90px;line-height:18px;color:var(--bs-white);background-color:var(--bs-dark);opacity:.94;z-index:var(--ds-live-region-z-index)}"]})}}return f})()},50808:(B,C,n)=>{"use strict";n.d(C,{A:()=>M});var i=n(84412),t=n(96697),c=n(25558),e=n(41584),p=n(96354),m=n(78544),f=n(75398),v=n(54438),E=n(65148);let M=(()=>{class b{constructor(D,I){this.uuidService=D,this.accessibilitySettingsService=I,this.messageTimeOutDurationMs=m.c.liveRegion.messageTimeOutDurationMs,this.messages=[],this.messages$=new i.t([]),this.liveRegionIsVisible=m.c.liveRegion.isVisible}getMessages(){return this.messages.map(D=>D.message)}getMessages$(){return this.messages$}addMessage(D){const I=this.uuidService.generate();return this.messages.push({message:D,uuid:I}),this.getConfiguredMessageTimeOutMs().pipe((0,t.s)(1),(0,c.n)(h=>(0,e.O)(h))).subscribe(()=>this.clearMessageByUUID(I)),this.emitCurrentMessages(),I}clear(){this.messages=[],this.emitCurrentMessages()}clearMessageByUUID(D){const I=this.messages.findIndex(h=>h.uuid===D);-1!==I&&(this.messages.splice(I,1),this.emitCurrentMessages())}emitCurrentMessages(){this.messages$.next(this.getMessages())}getLiveRegionVisibility(){return this.liveRegionIsVisible}setLiveRegionVisibility(D){this.liveRegionIsVisible=D}getConfiguredMessageTimeOutMs(){return this.accessibilitySettingsService.getAsNumber("liveRegionTimeOut",this.getMessageTimeOutMs()).pipe((0,p.T)(D=>Math.max(D,200)))}getMessageTimeOutMs(){return this.messageTimeOutDurationMs}setMessageTimeOutMs(D){this.messageTimeOutDurationMs=D}static{this.\u0275fac=function(I){return new(I||b)(v.KVO(E.v),v.KVO(f.jJ))}}static{this.\u0275prov=v.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}}return b})()},15202:(B,C,n)=>{"use strict";n.d(C,{v:()=>m});var i=n(73838),t=n(29710),c=n(54438);const e=["*"];function p(f,v){}let m=(()=>{class f extends t.J{constructor(E,y){super(E,y),this.cdr=E,this.themeService=y,this.inAndOutputNames=["message","showMessage","spinner"]}getComponentName(){return"LoadingComponent"}importThemedComponent(E){return n(54512)(`./${E}/app/shared/loading/loading.component`)}importUnthemedComponent(){return n.e(2076).then(n.bind(n,21792))}static{this.\u0275fac=function(y){return new(y||f)(c.rXU(c.gRc),c.rXU(i.Fs))}}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-loading"]],inputs:{message:"message",showMessage:"showMessage",spinner:"spinner"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},77628:(B,C,n)=>{"use strict";n.d(C,{u:()=>f});var i=n(60177),t=n(54438),e=(n(93635),n(87908)),p=n(29747);function m(v,E){1&v&&t.eu8(0)}let f=(()=>{class v{constructor(y){this.injector=y}ngOnInit(){this.objectInjector=t.zZn.create({providers:[{provide:"authMethodProvider",useFactory:()=>this.authMethod,deps:[]},{provide:"isStandalonePage",useFactory:()=>this.isStandalonePage,deps:[]}],parent:this.injector})}getAuthMethodContent(){return(0,p.H)(e.y,this.authMethod.authMethodType)}static{this.\u0275fac=function(M){return new(M||v)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:v,selectors:[["ds-log-in-container"]],inputs:{authMethod:"authMethod",isStandalonePage:"isStandalonePage"},standalone:!0,features:[t.aNF],decls:1,vars:2,consts:[[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(M,b){1&M&&t.DNE(0,m,1,0,"ng-container",0),2&M&&t.Y8G("ngComponentOutlet",b.getAuthMethodContent())("ngComponentOutletInjector",b.objectInjector)},dependencies:[i.OI],styles:["[_nghost-%COMP%]     .card{margin-bottom:var(--ds-submission-sections-margin-bottom);overflow:unset}.section-focus[_ngcontent-%COMP%]{border-radius:var(--bs-border-radius);box-shadow:var(--bs-btn-focus-box-shadow)}[_nghost-%COMP%]     .card:first-of-type{border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)!important;border-bottom-left-radius:var(--bs-card-border-radius)!important;border-bottom-right-radius:var(--bs-card-border-radius)!important}[_nghost-%COMP%]     .card-header button{box-shadow:none!important;width:100%}"]})}}return v})()},91886:(B,C,n)=>{"use strict";n.r(C),n.d(C,{LogInComponent:()=>h});var i=n(60177),t=n(59640),c=n(94196),e=n(14563),m=(n(38196),n(12321)),f=n(89777),v=n(15202),E=n(77628),y=n(87908),M=n(54438);function b(S,O){1&S&&M.nrm(0,"ds-loading",0)}function P(S,O){1&S&&M.nrm(0,"div",3)}function D(S,O){if(1&S&&(M.nrm(0,"ds-log-in-container",2),M.DNE(1,P,1,0,"div",3)),2&S){const L=O.$implicit,T=O.$index,x=O.$count,N=M.XpG(2);M.Y8G("authMethod",L)("isStandalonePage",N.isStandalonePage),M.R7$(),M.vxM(T!==x-1?1:-1)}}function I(S,O){if(1&S&&(M.j41(0,"div",1),M.Z7z(1,D,2,3,null,null,M.fX1),M.nI1(3,"async"),M.k0s()),2&S){const L=M.XpG();M.R7$(),M.Dyx(M.bMT(3,0,L.authMethods))}}let h=(()=>{class S{constructor(L,T,x){this.store=L,this.authService=T,this.authMethodsService=x,this.showRegisterLink=!0}ngOnInit(){this.authMethods=this.authMethodsService.getAuthMethods(y.y,this.excludedAuthMethod),this.loading=this.store.pipe((0,t.Lt)(m.VV)),this.isAuthenticated=this.store.pipe((0,t.Lt)(m.wR)),this.store.pipe((0,t.Lt)(m.H8)).subscribe(L=>{(0,f.a4)(L)&&!this.isStandalonePage&&this.authService.clearRedirectUrl()})}static{this.\u0275fac=function(T){return new(T||S)(M.rXU(t.il),M.rXU(c.uR),M.rXU(e.q))}}static{this.\u0275cmp=M.VBU({type:S,selectors:[["ds-base-log-in"]],inputs:{isStandalonePage:"isStandalonePage",excludedAuthMethod:"excludedAuthMethod",showRegisterLink:"showRegisterLink"},standalone:!0,features:[M.aNF],decls:6,vars:10,consts:[[1,"m-5"],[1,"px-4","py-3","mx-auto","login-container"],[3,"authMethod","isStandalonePage"],[1,"dropdown-divider","my-2"]],template:function(T,x){1&T&&(M.DNE(0,b,1,0,"ds-loading",0),M.nI1(1,"async"),M.nI1(2,"async"),M.DNE(3,I,4,2,"div",1),M.nI1(4,"async"),M.nI1(5,"async")),2&T&&(M.vxM(M.bMT(1,2,x.loading)||M.bMT(2,4,x.isAuthenticated)?0:-1),M.R7$(3),M.vxM(!0!==M.bMT(4,6,x.loading)&&!0!==M.bMT(5,8,x.isAuthenticated)?3:-1))},dependencies:[i.Jj,E.u,v.v],styles:[".login-container[_ngcontent-%COMP%]{max-width:350px}a[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],changeDetection:0})}}return S})()},87908:(B,C,n)=>{"use strict";n.d(C,{y:()=>te});var i=n(38196),t=n(59640),c=n(68018),e=n(96697),p=n(94196),f=(n(93635),n(12321)),v=n(19252),E=n(89777),y=n(54438),M=n(95488);let b=(()=>{class ye{constructor(ce,Z,ne,fe,ae,oe){this.injectedAuthMethodModel=ce,this.isStandalonePage=Z,this._window=ne,this.authService=fe,this.hardRedirectService=ae,this.store=oe,this.authMethod=ce}ngOnInit(){this.isAuthenticated=this.store.pipe((0,t.Lt)(f.wR)),this.loading=this.store.pipe((0,t.Lt)(f.VV)),this.location=decodeURIComponent(this.injectedAuthMethodModel.location)}redirectToExternalProvider(){this.authService.getRedirectUrl().pipe((0,e.s)(1)).subscribe(ce=>{this.isStandalonePage?(0,E.Im)(ce)&&(ce="/"):ce=this.hardRedirectService.getCurrentRoute();const Z=this.authService.getExternalServerRedirectUrl(this._window.nativeWindow.origin,ce,this.location);this.hardRedirectService.redirect(Z)})}getButtonLabel(){return`login.form.${this.authMethod.authMethodType}`}static{this.\u0275fac=function(Z){return new(Z||ye)(y.rXU("authMethodProvider"),y.rXU("isStandalonePage"),y.rXU(v.lc),y.rXU(p.uR),y.rXU(M.$),y.rXU(t.il))}}static{this.\u0275cmp=y.VBU({type:ye,selectors:[["ds-log-in-external-provider"]],standalone:!0,features:[y.aNF],decls:4,vars:3,consts:[["role","button","tabindex","0",1,"btn","btn-lg","btn-primary","w-100","text-white",3,"click"],[1,"fas","fa-sign-in-alt"]],template:function(Z,ne){1&Z&&(y.j41(0,"button",0),y.bIt("click",function(){return ne.redirectToExternalProvider()}),y.nrm(1,"i",1),y.EFF(2),y.nI1(3,"translate"),y.k0s()),2&Z&&(y.R7$(2),y.SpI(" ",y.bMT(3,1,ne.getButtonLabel()),"\n"))},dependencies:[c.h,c.D9]})}}return ye})();var P=n(60177),D=n(89417),I=n(7901),h=n(44668),S=n(84572),O=n(96354),L=n(5964),T=n(15343),x=n(45124),N=n(11873),j=n(6170),$=n(2180),k=n(79104),K=n(33745);const z=ye=>[ye];function V(ye,re){if(1&ye&&(y.j41(0,"div",3),y.EFF(1),y.nI1(2,"async"),y.nI1(3,"translate"),y.k0s()),2&ye){const ce=y.XpG();y.Y8G("@fadeOut",void 0),y.R7$(),y.JRh(y.bMT(3,4,y.bMT(2,2,ce.error)))}}function G(ye,re){if(1&ye&&(y.j41(0,"div",4),y.EFF(1),y.nI1(2,"async"),y.nI1(3,"translate"),y.k0s()),2&ye){const ce=y.XpG();y.Y8G("@fadeOut",void 0),y.R7$(),y.JRh(y.bMT(3,4,y.bMT(2,2,ce.message)))}}function X(ye,re){if(1&ye&&(y.j41(0,"a",8),y.nI1(1,"dsBrowserOnly"),y.EFF(2),y.nI1(3,"translate"),y.k0s()),2&ye){const ce=y.XpG(2);y.Y8G("routerLink",y.eq3(7,z,ce.getRegisterRoute())),y.BMQ("data-test",y.bMT(1,3,"register")),y.R7$(2),y.JRh(y.bMT(3,5,"login.form.new-user"))}}function Q(ye,re){if(1&ye&&(y.j41(0,"a",8),y.nI1(1,"dsBrowserOnly"),y.EFF(2),y.nI1(3,"translate"),y.k0s()),2&ye){const ce=y.XpG(2);y.Y8G("routerLink",y.eq3(7,z,ce.getForgotRoute())),y.BMQ("data-test",y.bMT(1,3,"forgot")),y.R7$(2),y.JRh(y.bMT(3,5,"login.form.forgot-password"))}}function ee(ye,re){if(1&ye&&(y.j41(0,"div",7),y.DNE(1,X,4,9,"a",8),y.nI1(2,"async"),y.DNE(3,Q,4,9,"a",8),y.nI1(4,"async"),y.k0s()),2&ye){const ce=y.XpG();y.R7$(),y.vxM(y.bMT(2,2,ce.canRegister$)?1:-1),y.R7$(2),y.vxM(y.bMT(4,4,ce.canForgot$)?3:-1)}}const te=new Map([[i.Q.Password,(()=>{class ye{constructor(ce,Z,ne,fe,ae,oe,J){this.injectedAuthMethodModel=ce,this.isStandalonePage=Z,this.authService=ne,this.hardRedirectService=fe,this.formBuilder=ae,this.store=oe,this.authorizationService=J,this.hasError=!1,this.hasMessage=!1,this.authMethod=ce}ngOnInit(){this.form=this.formBuilder.group({email:["",D.k0.required],password:["",D.k0.required]}),this.error=this.store.pipe((0,t.Lt)(f.H8),(0,O.T)(ce=>(this.hasError=(0,E.hj)(ce),ce))),this.message=this.store.pipe((0,t.Lt)(f.dx),(0,O.T)(ce=>(this.hasMessage=(0,E.hj)(ce),ce))),this.canRegister$=this.authorizationService.isAuthorized(j._.EPersonRegistration).pipe((0,h.t)({refCount:!1,bufferSize:1})),this.canForgot$=this.authorizationService.isAuthorized(j._.EPersonForgotPassword).pipe((0,h.t)({refCount:!1,bufferSize:1})),this.canShowDivider$=(0,S.z)([this.canRegister$,this.canForgot$]).pipe((0,O.T)(([ce,Z])=>ce||Z),(0,L.p)(Boolean))}getRegisterRoute(){return(0,T.Do)()}getForgotRoute(){return(0,T.al)()}resetErrorOrMessage(){(this.hasError||this.hasMessage)&&(this.store.dispatch(new x.eh),this.hasError=!1,this.hasMessage=!1)}submit(){this.resetErrorOrMessage();const ce=this.form.get("email").value,Z=this.form.get("password").value;ce.trim(),Z.trim(),this.isStandalonePage?this.authService.setRedirectUrlIfNotSet("/"):this.authService.setRedirectUrl(this.hardRedirectService.getCurrentRoute()),this.store.dispatch(new x.Sn(ce,Z)),this.form.reset()}static{this.\u0275fac=function(Z){return new(Z||ye)(y.rXU("authMethodProvider"),y.rXU("isStandalonePage"),y.rXU(p.uR),y.rXU(M.$),y.rXU(D.ze),y.rXU(t.il),y.rXU(N.AuthorizationDataService))}}static{this.\u0275cmp=y.VBU({type:ye,selectors:[["ds-log-in-password"]],standalone:!0,features:[y.aNF],decls:20,vars:35,consts:[["novalidate","",1,"form-login",3,"ngSubmit","formGroup"],["autocomplete","username","autofocus","","formControlName","email","required","","type","email",1,"form-control","form-control-lg","position-relative",3,"placeholder"],["autocomplete","current-password","formControlName","password","required","","type","password",1,"form-control","form-control-lg","position-relative","mb-3",3,"placeholder"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-info"],["type","submit","role","button","tabindex","0",1,"btn","btn-lg","btn-primary","w-100",3,"dsBtnDisabled"],[1,"fas","fa-sign-in-alt"],[1,"mt-2"],["tabindex","0",1,"dropdown-item",3,"routerLink"]],template:function(Z,ne){1&Z&&(y.j41(0,"form",0),y.bIt("ngSubmit",function(){return ne.submit()}),y.nrm(1,"input",1),y.nI1(2,"translate"),y.nI1(3,"translate"),y.nI1(4,"dsBrowserOnly"),y.nrm(5,"input",2),y.nI1(6,"translate"),y.nI1(7,"translate"),y.nI1(8,"dsBrowserOnly"),y.DNE(9,V,4,6,"div",3),y.nI1(10,"async"),y.DNE(11,G,4,6,"div",4),y.nI1(12,"async"),y.j41(13,"button",5),y.nI1(14,"dsBrowserOnly"),y.nrm(15,"i",6),y.EFF(16),y.nI1(17,"translate"),y.k0s()(),y.DNE(18,ee,5,6,"div",7),y.nI1(19,"async")),2&Z&&(y.Y8G("formGroup",ne.form),y.R7$(),y.FS9("placeholder",y.bMT(2,13,"login.form.email")),y.BMQ("aria-label",y.bMT(3,15,"login.form.email"))("data-test",y.bMT(4,17,"email")),y.R7$(4),y.FS9("placeholder",y.bMT(6,19,"login.form.password")),y.BMQ("aria-label",y.bMT(7,21,"login.form.password"))("data-test",y.bMT(8,23,"password")),y.R7$(4),y.vxM(y.bMT(10,25,ne.error)&&ne.hasError?9:-1),y.R7$(2),y.vxM(y.bMT(12,27,ne.message)&&ne.hasMessage?11:-1),y.R7$(2),y.Y8G("dsBtnDisabled",!ne.form.valid),y.BMQ("data-test",y.bMT(14,29,"login-button")),y.R7$(3),y.SpI(" ",y.bMT(17,31,"login.form.submit"),""),y.R7$(2),y.vxM(y.bMT(19,33,ne.canShowDivider$)?18:-1))},dependencies:[P.Jj,K.L,k.A,D.YN,D.qT,D.me,D.BC,D.cb,D.YS,D.X1,D.j4,D.JD,I.Wk,c.h,c.D9],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[$.Xn]}})}}return ye})()],[i.Q.Shibboleth,b],[i.Q.Oidc,b],[i.Q.Orcid,b],[i.Q.Saml,b]])},29747:(B,C,n)=>{"use strict";function i(t,c){return t.get(c)}n.d(C,{H:()=>i})},20044:(B,C,n)=>{"use strict";n.d(C,{W:()=>f}),n(38196);var t=n(29710),e=(n(91886),n(54438));const p=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["isStandalonePage","excludedAuthMethod","showRegisterLink"]}getComponentName(){return"LogInComponent"}importThemedComponent(y){return n(43800)(`./${y}/app/shared/log-in/log-in.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,91886))}static{this.\u0275fac=(()=>{let y;return function(b){return(y||(y=e.xGo(v)))(b||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-log-in"]],inputs:{isStandalonePage:"isStandalonePage",excludedAuthMethod:"excludedAuthMethod",showRegisterLink:"showRegisterLink"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(M,b){1&M&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},59556:(B,C,n)=>{"use strict";n.d(C,{y:()=>M});var i=n(60177),t=n(59640),c=n(68018),e=n(45124),p=n(12321),m=n(2180),f=n(33745),v=n(54438),E=n(7901);function y(b,P){if(1&b&&(v.j41(0,"div",1),v.EFF(1),v.nI1(2,"async"),v.k0s()),2&b){const D=v.XpG();v.Y8G("@fadeOut",void 0),v.R7$(),v.JRh(v.bMT(2,2,D.error))}}let M=(()=>{class b{constructor(D,I){this.router=D,this.store=I}ngOnInit(){this.error=this.store.pipe((0,t.Lt)(p.F8))}home(){this.router.navigate(["/home"])}logOut(){this.store.dispatch(new e.du)}static{this.\u0275fac=function(I){return new(I||b)(v.rXU(E.Ix),v.rXU(t.il))}}static{this.\u0275cmp=v.VBU({type:b,selectors:[["ds-log-out"]],standalone:!0,features:[v.aNF],decls:8,vars:9,consts:[[1,"form-login","px-4"],["role","alert",1,"alert","alert-danger"],["role","menuitem",1,"btn","btn-lg","btn-primary","w-100",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(I,h){1&I&&(v.j41(0,"div",0),v.DNE(1,y,3,4,"div",1),v.nI1(2,"async"),v.j41(3,"button",2),v.nI1(4,"dsBrowserOnly"),v.bIt("click",function(){return h.logOut()}),v.nrm(5,"i",3),v.EFF(6),v.nI1(7,"translate"),v.k0s()()),2&I&&(v.R7$(),v.vxM(v.bMT(2,3,h.error)?1:-1),v.R7$(2),v.BMQ("data-test",v.bMT(4,5,"logout-button")),v.R7$(3),v.SpI(" ",v.bMT(7,7,"logout.form.submit"),""))},dependencies:[i.Jj,f.L,c.h,c.D9],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[m.Xn]}})}}return b})()},66372:(B,C,n)=>{"use strict";n.d(C,{D:()=>i});var i=function(t){return t.ADMIN="admin-sidebar",t.PUBLIC="public",t.DSO_EDIT="dso-edit",t}(i||{})},19125:(B,C,n)=>{"use strict";n.d(C,{x:()=>i});var i=function(t){return t[t.TEXT=0]="TEXT",t[t.LINK=1]="LINK",t[t.ALTMETRIC=2]="ALTMETRIC",t[t.SEARCH=3]="SEARCH",t[t.ONCLICK=4]="ONCLICK",t[t.EXTERNAL=5]="EXTERNAL",t}(i||{})},10686:(B,C,n)=>{"use strict";n.d(C,{r:()=>i});var i=function(t){return t.COMMUNITY_PAGE="community-page",t.COLLECTION_PAGE="collection-page",t.ITEM_PAGE="item-page",t}(i||{})},77983:(B,C,n)=>{"use strict";n.d(C,{U:()=>K});var i=n(54438),t=n(84412),c=n(23294),e=n(25558),p=n(89777),m=n(96132),f=n(60177),v=n(7901),E=n(68018),y=n(19125);const b=z=>({disabled:z});let P=(()=>{class z{constructor(G){this.item=G}ngOnInit(){this.hasLink=(0,p.hj)(this.item.href)}get href(){if(this.hasLink)return this.item.href}static{this.\u0275fac=function(X){return new(X||z)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["ds-external-link-menu-item"]],standalone:!0,features:[i.aNF],decls:4,vars:11,consts:[["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"click","ngClass","href","title"]],template:function(X,Q){1&X&&(i.j41(0,"a",0),i.nI1(1,"translate"),i.bIt("click",function(ie){return ie.stopPropagation()}),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&X&&(i.Y8G("ngClass",i.eq3(9,b,!Q.hasLink))("href",Q.href,i.B4B)("title",i.bMT(1,5,Q.item.text)),i.BMQ("aria-disabled",!Q.hasLink),i.R7$(2),i.JRh(i.bMT(3,7,Q.item.text)))},dependencies:[f.YU,v.wQ,E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return z})();const I=z=>({disabled:z});let h=(()=>{class z{constructor(G,X){this.router=X,this.item=G}ngOnInit(){this.hasLink=(0,p.hj)(this.item.link)}getRouterLink(){if(this.hasLink)return this.item.link}navigate(G){G.preventDefault(),!this.item.disabled&&this.getRouterLink()&&this.router.navigate([this.getRouterLink()]),G.stopPropagation()}static{this.\u0275fac=function(X){return new(X||z)(i.rXU("itemModelProvider"),i.rXU(v.Ix))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["ds-link-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:10,consts:[["role","menuitem","href","javascript:void(0);","tabindex","0",1,"ds-menu-item",3,"click","keyup.space","keydown.enter","ngClass","routerLink","queryParams"]],template:function(X,Q){1&X&&(i.j41(0,"a",0),i.bIt("click",function(ie){return ie.stopPropagation()})("keyup.space",function(ie){return Q.navigate(ie)})("keydown.enter",function(ie){return Q.navigate(ie)}),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&X&&(i.Y8G("ngClass",i.eq3(8,I,!Q.hasLink||Q.item.disabled))("routerLink",Q.getRouterLink())("queryParams",Q.item.queryParams),i.BMQ("aria-disabled",!Q.hasLink||Q.item.disabled)("data-test","link-menu-item."+Q.item.text),i.R7$(),i.JRh(i.bMT(2,6,Q.item.text)))},dependencies:[f.YU,v.Wk,E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return z})();function O(z,V){if(1&z){const G=i.RV6();i.j41(0,"a",2),i.nI1(1,"translate"),i.bIt("click",function(Q){i.eBV(G);const ee=i.XpG();return i.Njj(ee.activate(Q))})("keyup.space",function(Q){i.eBV(G);const ee=i.XpG();return i.Njj(ee.activate(Q))})("keyup.enter",function(Q){i.eBV(G);const ee=i.XpG();return i.Njj(ee.activate(Q))}),i.EFF(2),i.nI1(3,"translate"),i.k0s()}if(2&z){const G=i.XpG();i.Y8G("title",i.bMT(1,3,G.item.text)),i.BMQ("data-test",G.item.text),i.R7$(2),i.JRh(i.bMT(3,5,G.item.text))}}function L(z,V){if(1&z&&(i.j41(0,"span",1),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&z){const G=i.XpG();i.BMQ("data-test",G.item.text),i.R7$(),i.JRh(i.bMT(2,2,G.item.text))}}let T=(()=>{class z{constructor(G){this.item=G}activate(G){this.item.disabled||(G.preventDefault(),this.item.function(),G.stopPropagation())}static{this.\u0275fac=function(X){return new(X||z)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["ds-onclick-menu-item"]],standalone:!0,features:[i.aNF],decls:2,vars:2,consts:[["role","menuitem","routerLinkActive","active","href","javascript:void(0);",1,"ds-menu-item",3,"title"],[1,"nav-item","nav-link","disabled"],["role","menuitem","routerLinkActive","active","href","javascript:void(0);",1,"ds-menu-item",3,"click","keyup.space","keyup.enter","title"]],template:function(X,Q){1&X&&i.DNE(0,O,4,7,"a",0)(1,L,3,4,"span",1),2&X&&(i.vxM(Q.item.disabled?-1:0),i.R7$(),i.vxM(Q.item.disabled?1:-1))},dependencies:[v.wQ,E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}","a[_ngcontent-%COMP%]{cursor:pointer}"]})}}return z})(),N=(()=>{class z{constructor(G){this.item=G}static{this.\u0275fac=function(X){return new(X||z)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["ds-text-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:5,consts:[["tabindex","0","role","button",1,"ds-menu-item"]],template:function(X,Q){1&X&&(i.j41(0,"span",0),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&X&&(i.AVh("disabled",Q.item.disabled),i.R7$(),i.JRh(i.bMT(2,3,Q.item.text)))},dependencies:[E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return z})();const j=new Map;j.set(y.x.EXTERNAL,P),j.set(y.x.LINK,h),j.set(y.x.ONCLICK,T),j.set(y.x.TEXT,N);let K=(()=>{class z{constructor(G,X){this.menuService=G,this.injector=X,this.active$=new t.t(!1),this.sectionMap$=new t.t(new Map),this.subs=[]}ngOnInit(){this.subs.push(this.menuService.isSectionActive(this.menuID,this.section.id).pipe((0,c.F)()).subscribe(G=>{this.active$.value!==G&&this.active$.next(G)})),this.initializeInjectorData()}toggleSection(G){G.preventDefault(),this.section.model?.disabled||this.menuService.toggleActiveSection(this.menuID,this.section.id)}activateSection(G,X=!0){X&&G.preventDefault(),this.section.model?.disabled||this.menuService.activateSection(this.menuID,this.section.id)}deactivateSection(G,X=!0){X&&G.preventDefault(),this.menuService.deactivateSection(this.menuID,this.section.id)}initializeInjectorData(){this.updateSectionMap(this.section.id,this.getItemModelInjector(this.section.model),this.getMenuItemComponent(this.section.model)),this.subSections$=this.menuService.getSubSectionsByParentID(this.menuID,this.section.id),this.subs.push(this.subSections$.pipe((0,e.n)(G=>G)).subscribe(G=>{this.updateSectionMap(G.id,this.getItemModelInjector(G.model),this.getMenuItemComponent(G.model))}))}updateSectionMap(G,X,Q){const ee=this.sectionMap$.getValue();ee.set(G,{injector:X,component:Q}),this.sectionMap$.next(ee)}getMenuItemComponent(G){return(0,p.Tn)(G)&&(G=this.section.model),function k(z){return j.get(z)}(G.type)}getItemModelInjector(G){return(0,p.Tn)(G)&&(G=this.section.model),i.zZn.create({providers:[{provide:"itemModelProvider",useFactory:()=>G,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(G=>(0,p.a4)(G)).forEach(G=>G.unsubscribe())}static{this.\u0275fac=function(X){return new(X||z)(i.rXU(m.$),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["ds-menu-section"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(X,Q){},encapsulation:2})}}return z})()},25428:(B,C,n)=>{"use strict";n.d(C,{C0:()=>I,F$:()=>c,FH:()=>D,Hw:()=>P,JG:()=>m,JK:()=>v,PM:()=>y,YN:()=>b,cf:()=>h,eq:()=>e,ie:()=>f,j$:()=>S,jZ:()=>t,oh:()=>E,sP:()=>p,tU:()=>O});var i=n(6800);const t={COLLAPSE_MENU:(0,i.N)("dspace/menu/COLLAPSE_MENU"),TOGGLE_MENU:(0,i.N)("dspace/menu/TOGGLE_MENU"),EXPAND_MENU:(0,i.N)("dspace/menu/EXPAND_MENU"),SHOW_MENU:(0,i.N)("dspace/menu/SHOW_MENU"),HIDE_MENU:(0,i.N)("dspace/menu/HIDE_MENU"),REINIT_MENUS:(0,i.N)("dspace/menu/REINIT_MENUS"),COLLAPSE_MENU_PREVIEW:(0,i.N)("dspace/menu/COLLAPSE_MENU_PREVIEW"),EXPAND_MENU_PREVIEW:(0,i.N)("dspace/menu/EXPAND_MENU_PREVIEW"),ADD_SECTION:(0,i.N)("dspace/menu-section/ADD_SECTION"),REMOVE_SECTION:(0,i.N)("dspace/menu-section/REMOVE_SECTION"),SHOW_SECTION:(0,i.N)("dspace/menu-section/SHOW_SECTION"),HIDE_SECTION:(0,i.N)("dspace/menu-section/HIDE_SECTION"),ACTIVATE_SECTION:(0,i.N)("dspace/menu-section/ACTIVATE_SECTION"),DEACTIVATE_SECTION:(0,i.N)("dspace/menu-section/DEACTIVATE_SECTION"),TOGGLE_ACTIVE_SECTION:(0,i.N)("dspace/menu-section/TOGGLE_ACTIVE_SECTION")};class c{constructor(T){this.type=t.COLLAPSE_MENU,this.menuID=T}}class e{constructor(T){this.type=t.EXPAND_MENU,this.menuID=T}}class p{constructor(T){this.type=t.TOGGLE_MENU,this.menuID=T}}class m{constructor(T){this.type=t.SHOW_MENU,this.menuID=T}}class f{constructor(T){this.type=t.HIDE_MENU,this.menuID=T}}class v{constructor(T){this.type=t.COLLAPSE_MENU_PREVIEW,this.menuID=T}}class E{constructor(T){this.type=t.EXPAND_MENU_PREVIEW,this.menuID=T}}class y{constructor(){this.type=t.REINIT_MENUS}}class M{constructor(T,x){this.menuID=T,this.id=x}}class b extends M{constructor(T,x){super(T,x.id),this.type=t.ADD_SECTION,this.section=x}}class P extends M{constructor(T,x){super(T,x),this.type=t.REMOVE_SECTION}}class D extends M{constructor(T,x){super(T,x),this.type=t.HIDE_SECTION}}class I extends M{constructor(T,x){super(T,x),this.type=t.SHOW_SECTION}}class h extends M{constructor(T,x){super(T,x),this.type=t.ACTIVATE_SECTION}}class S extends M{constructor(T,x){super(T,x),this.type=t.DEACTIVATE_SECTION}}class O extends M{constructor(T,x){super(T,x),this.type=t.TOGGLE_ACTIVE_SECTION}}},15181:(B,C,n)=>{"use strict";n.d(C,{Z:()=>fe});var i=n(54438),t=n(84412),c=n(25558),e=n(96354),p=n(23294),m=n(11873),f=n(89777),v=n(73838),E=n(96132),y=n(581),M=n(18705),b=n(29710);n(5259);const D=["*"];function I(ae,oe){}let h=(()=>{class ae extends b.J{getComponentName(){return"ExpandableNavbarSectionComponent"}importThemedComponent(J){return n(88289)(`./${J}/app/navbar/expandable-navbar-section/expandable-navbar-section.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,5259))}static{this.\u0275fac=(()=>{let J;return function(_e){return(J||(J=i.xGo(ae)))(_e||ae)}})()}static{this.\u0275cmp=i.VBU({type:ae,selectors:[["ds-expandable-navbar-section"]],standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:D,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(ve,_e){1&ve&&(i.NAR(),i.DNE(0,I,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return ae})();var S=n(65709),O=n(60177),L=n(58003),T=n(68018),x=n(66372),N=n(77983),j=n(79104),$=n(7901);function k(ae,oe){if(1&ae&&i.nrm(0,"i",9),2&ae){const J=i.XpG(2).$implicit;i.ZvI("fas fa-",J.icon," fa-fw")}}function K(ae,oe){1&ae&&i.nrm(0,"i",8)}function z(ae,oe){if(1&ae&&(i.j41(0,"div",5),i.DNE(1,k,1,3,"i",7)(2,K,1,0,"i",8),i.k0s()),2&ae){const J=i.XpG().$implicit;i.R7$(),i.vxM(J.icon?1:2)}}function V(ae,oe){1&ae&&i.eu8(0)}function G(ae,oe){if(1&ae&&(i.j41(0,"li",4),i.DNE(1,z,3,1,"div",5),i.nI1(2,"async"),i.DNE(3,V,1,0,"ng-container",6),i.nI1(4,"async"),i.nI1(5,"async"),i.k0s()),2&ae){const J=oe.$implicit,ve=i.XpG(2);i.R7$(),i.vxM(i.bMT(2,3,ve.renderIcons$)?1:-1),i.R7$(2),i.Y8G("ngComponentOutlet",i.bMT(4,5,ve.sectionMap$).get(J.id).component)("ngComponentOutletInjector",i.bMT(5,7,ve.sectionMap$).get(J.id).injector)}}function X(ae,oe){if(1&ae&&(i.j41(0,"div",0)(1,"div",1),i.nI1(2,"translate"),i.j41(3,"button",2),i.nI1(4,"translate"),i.nI1(5,"translate"),i.nrm(6,"i"),i.k0s(),i.j41(7,"ul",3),i.Z7z(8,G,6,9,"li",4,i.fX1),i.nI1(10,"async"),i.k0s()()()),2&ae){const J=i.XpG();i.R7$(),i.Y8G("ngbTooltip",i.bMT(2,7,J.itemModel.text)),i.R7$(2),i.Y8G("title",i.bMT(4,9,J.itemModel.text))("dsBtnDisabled",null==J.section.model?null:J.section.model.disabled),i.BMQ("aria-label",i.bMT(5,11,J.itemModel.text)),i.R7$(3),i.ZvI("fas fa-",J.section.icon," fa-fw"),i.R7$(2),i.Dyx(i.bMT(10,13,J.subSections$))}}let Q=(()=>{class ae extends N.U{constructor(J,ve,_e,Ce){super(ve,_e),this.section=J,this.menuService=ve,this.injector=_e,this.router=Ce,this.menuID=x.D.DSO_EDIT,this.itemModel=J.model}ngOnInit(){this.menuService.activateSection(this.menuID,this.section.id),super.ngOnInit(),this.renderIcons$=this.subSections$.pipe((0,e.T)(J=>J.some(ve=>(0,f.a4)(ve.icon)))),this.hasSubSections$=this.subSections$.pipe((0,e.T)(J=>(0,f.hj)(J)))}static{this.\u0275fac=function(ve){return new(ve||ae)(i.rXU("sectionDataProvider"),i.rXU(E.$),i.rXU(i.zZn),i.rXU($.Ix))}}static{this.\u0275cmp=i.VBU({type:ae,selectors:[["ds-dso-edit-menu-expandable-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:3,consts:[["ngbDropdown","","container","body","placement","bottom-right",1,"dso-button-menu","mb-1"],["container","body",1,"d-flex","flex-row","flex-nowrap",3,"ngbTooltip"],["ngbDropdownToggle","","role","menuitem","tabindex","0",1,"btn","btn-dark","btn-sm",3,"title","dsBtnDisabled"],["ngbDropdownMenu","","role","menu",1,"dso-edit-menu-dropdown","p-1"],["role","presentation",1,"nav-item","nav-link","d-flex","flex-row","p-2"],[1,"me-2"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",3,"class"],["aria-hidden","true",1,"fas","fa-fw"],["aria-hidden","true"]],template:function(ve,_e){1&ve&&(i.DNE(0,X,11,15,"div",0),i.nI1(1,"async")),2&ve&&i.vxM(i.bMT(1,1,_e.hasSubSections$)?0:-1)},dependencies:[O.Jj,j.A,L.zH,L.tg,L.do,L.U0,L.n8,L.md,O.OI,T.h,T.D9],styles:['.btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}.dso-button-menu[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{content:"";width:0;height:0;border-style:solid;border-width:12px 12px 0 0;border-color:rgba(0,0,0,0) #627a91 rgba(0,0,0,0) rgba(0,0,0,0);border-bottom-right-radius:var(--bs-btn-border-radius-sm);right:0;bottom:0;position:absolute;overflow:hidden}.dso-button-menu[_ngcontent-%COMP%]{overflow:hidden}ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg);color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a{color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a.disabled{color:var(--bs-btn-link-disabled-color)}ul.dropdown-menu[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{color:var(--bs-btn-link-disabled-color)}.dso-edit-menu-dropdown[_ngcontent-%COMP%]{max-width:min(600px,75vw)}']})}}return ae})();function ee(ae,oe){if(1&ae&&(i.j41(0,"a",1),i.nrm(1,"i",3),i.j41(2,"span",4),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&ae){const J=i.XpG(2);i.Y8G("routerLink",J.itemModel.link),i.R7$(),i.ZvI("fas fa-",J.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,J.itemModel.text))}}function ie(ae,oe){if(1&ae&&(i.j41(0,"button",2),i.nrm(1,"i",3),i.j41(2,"span",4),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&ae){const J=i.XpG(2);i.Y8G("dsBtnDisabled",!0),i.R7$(),i.ZvI("fas fa-",J.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,J.itemModel.text))}}function te(ae,oe){if(1&ae&&(i.j41(0,"div",0),i.nI1(1,"translate"),i.DNE(2,ee,5,7,"a",1)(3,ie,5,7,"button",2),i.k0s()),2&ae){const J=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,3,J.itemModel.text)),i.R7$(2),i.vxM(J.section.model.disabled?-1:2),i.R7$(),i.vxM(J.section.model.disabled?3:-1)}}function he(ae,oe){if(1&ae){const J=i.RV6();i.j41(0,"div",0),i.nI1(1,"translate"),i.j41(2,"button",5),i.bIt("click",function(_e){i.eBV(J);const Ce=i.XpG();return i.Njj(Ce.activate(_e))}),i.nrm(3,"i",3),i.j41(4,"span",4),i.EFF(5),i.nI1(6,"translate"),i.k0s()()()}if(2&ae){const J=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,6,J.itemModel.text)),i.R7$(2),i.Y8G("dsBtnDisabled",J.section.model.disabled),i.R7$(),i.ZvI("fas fa-",J.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(6,8,J.itemModel.text))}}let ye=(()=>{class ae extends N.U{constructor(J,ve,_e){super(ve,_e),this.section=J,this.menuService=ve,this.injector=_e,this.menuID=x.D.DSO_EDIT,this.itemModel=J.model}ngOnInit(){this.hasLink=(0,f.hj)(this.itemModel?.link),this.canActivate=(0,f.hj)(this.itemModel?.function),super.ngOnInit()}activate(J){J.preventDefault(),this.itemModel.disabled||this.itemModel.function(),J.stopPropagation()}static{this.\u0275fac=function(ve){return new(ve||ae)(i.rXU("sectionDataProvider"),i.rXU(E.$),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:ae,selectors:[["ds-dso-edit-menu-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:2,consts:[[1,"dso-button-menu","mb-1",3,"ngbTooltip"],[1,"btn","btn-dark","btn-sm",3,"routerLink"],[1,"btn","btn-dark","btn-sm",3,"dsBtnDisabled"],["aria-hidden","true"],[1,"sr-only"],[1,"btn","btn-dark","btn-sm",3,"click","dsBtnDisabled"]],template:function(ve,_e){1&ve&&i.DNE(0,te,4,5,"div",0)(1,he,7,10,"div",0),2&ve&&(i.vxM(_e.canActivate?-1:0),i.R7$(),i.vxM(_e.canActivate?1:-1))},dependencies:[j.A,L.n8,L.md,$.Wk,T.h,T.D9],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}"]})}}return ae})();var re=n(21193);const ce=new Map;ce.set(x.D.ADMIN,new Map),ce.get(x.D.ADMIN).set(!1,new Map),ce.get(x.D.ADMIN).get(!1).set(re.SS,y.g),ce.get(x.D.ADMIN).set(!0,new Map),ce.get(x.D.ADMIN).get(!0).set(re.SS,M.W),ce.set(x.D.PUBLIC,new Map),ce.get(x.D.PUBLIC).set(!1,new Map),ce.get(x.D.PUBLIC).get(!1).set(re.SS,S.X),ce.get(x.D.PUBLIC).set(!0,new Map),ce.get(x.D.PUBLIC).get(!0).set(re.SS,h),ce.set(x.D.DSO_EDIT,new Map),ce.get(x.D.DSO_EDIT).set(!1,new Map),ce.get(x.D.DSO_EDIT).get(!1).set(re.SS,ye),ce.get(x.D.DSO_EDIT).set(!0,new Map),ce.get(x.D.DSO_EDIT).get(!0).set(re.SS,Q);let fe=(()=>{class ae{constructor(J,ve,_e,Ce,qe){this.menuService=J,this.injector=ve,this.authorizationService=_e,this.route=Ce,this.themeService=qe,this.sectionMap$=new t.t(new Map),this.subs=[]}ngOnInit(){this.activatedRouteLastChild=this.getActivatedRoute(this.route),this.menuCollapsed=this.menuService.isMenuCollapsed(this.menuID),this.menuPreviewCollapsed=this.menuService.isMenuPreviewCollapsed(this.menuID),this.menuVisible=this.menuService.isMenuVisible(this.menuID),this.sections=this.menuService.getMenuTopSections(this.menuID),this.subs.push(this.sections.pipe((0,c.n)(J=>J),(0,f.VT)(),(0,c.n)(J=>this.getSectionComponent(J).pipe((0,e.T)(ve=>({section:J,component:ve})))),(0,p.F)((J,ve)=>J.section.id===ve.section.id&&J.component.prototype===ve.component.prototype)).subscribe(({section:J,component:ve})=>{const _e=this.sectionMap$.getValue();_e.set(J.id,{injector:this.getSectionDataInjector(J),component:ve}),this.sectionMap$.next(_e)}))}getActivatedRoute(J){return J.children.length>0?this.getActivatedRoute(J.firstChild):J}toggle(J){J.preventDefault(),this.menuService.toggleMenu(this.menuID)}expand(J){J.preventDefault(),this.menuService.expandMenu(this.menuID)}collapse(J){J.preventDefault(),this.menuService.collapseMenu(this.menuID)}expandPreview(J){J.preventDefault(),this.previewToggleDebounce(()=>this.menuService.expandMenuPreview(this.menuID),100)}collapsePreview(J){J.preventDefault(),this.previewToggleDebounce(()=>this.menuService.collapseMenuPreview(this.menuID),400)}previewToggleDebounce(J,ve){(0,f.a4)(this.previewTimer)&&clearTimeout(this.previewTimer),this.previewTimer=setTimeout(J,ve)}getSectionComponent(J){return this.menuService.hasSubSections(this.menuID,J.id).pipe((0,e.T)(ve=>function ne(ae,oe,J){const ve=ce.get(ae).get(oe).get(J);return(0,f.a4)(ve)?ve:ce.get(ae).get(oe).get(re.SS)}(this.menuID,ve||J.alwaysRenderExpandable,this.themeService.getThemeName())))}getSectionDataInjector(J){return i.zZn.create({providers:[{provide:"sectionDataProvider",useFactory:()=>J,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(J=>(0,f.a4)(J)).forEach(J=>J.unsubscribe())}static{this.\u0275fac=function(ve){return new(ve||ae)(i.rXU(E.$),i.rXU(i.zZn),i.rXU(m.AuthorizationDataService),i.rXU($.nX),i.rXU(v.Fs))}}static{this.\u0275cmp=i.VBU({type:ae,selectors:[["ds-menu"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(ve,_e){},encapsulation:2})}}return ae})()},96132:(B,C,n)=>{"use strict";n.d(C,{$:()=>L});var i=n(59640),t=n(84572),c=n(96354),e=n(23294),p=n(25558),m=n(23679),f=n(34068),v=n(89777),E=n(25428),y=n(54438),M=n(7901);function b(T,x){return(0,i.Mz)(x,N=>{if((0,v.a4)(N))return N[T]})}const P=T=>T.menus,D=T=>(0,m.pc)(T,P),I=T=>(0,v.a4)(T)?T.sections:{},S=T=>T.sectionToSubsectionIndex,O=T=>b(T,S);let L=(()=>{class T{constructor(N,j,$){this.store=N,this.route=j,this.router=$}getMenu(N){return this.store.pipe((0,i.Lt)(D(N)))}getMenuTopSections(N,j=!0){return this.store.pipe((0,i.Lt)(D(N)),(0,i.Lt)(I),(0,c.T)($=>Object.values($)),(0,e.F)((0,f.W2)()),(0,c.T)($=>$.filter(k=>(0,v.Tn)(k.parentID)).filter(k=>!j||k.visible)))}getSubSectionsByParentID(N,j,$=!0){return this.store.pipe((0,i.Lt)(D(N)),(0,i.Lt)(O(j)),(0,c.T)(k=>(0,v.hj)(k)?k:[]),(0,p.n)(k=>(0,t.z)(k.map(K=>this.getMenuSection(N,K)))),(0,c.T)(k=>k.filter(K=>(0,v.a4)(K)&&(!$||K.visible))))}hasSubSections(N,j){return this.store.pipe((0,i.Lt)(D(N)),(0,i.Lt)(O(j)),(0,c.T)($=>(0,v.hj)($)))}getMenuSection(N,j){return this.store.pipe((0,i.Lt)(D(N)),(0,i.Lt)((T=>b(T,I))(j)))}getNonPersistentMenuSections(N){return this.getMenu(N).pipe((0,c.T)(j=>Object.values(j.sections).filter($=>!$.shouldPersistOnRouteChange)))}addSection(N,j){this.store.dispatch(new E.YN(N,j))}removeSection(N,j){this.store.dispatch(new E.Hw(N,j))}isMenuCollapsed(N){return this.getMenu(N).pipe((0,c.T)(j=>(0,v.a4)(j)?j.collapsed:void 0))}isMenuPreviewCollapsed(N){return this.getMenu(N).pipe((0,c.T)(j=>(0,v.a4)(j)?j.previewCollapsed:void 0))}isMenuVisibleWithVisibleSections(N){return(0,t.z)([this.isMenuVisible(N),this.menuHasVisibleSections(N)]).pipe((0,c.T)(([j,$])=>j&&$))}isMenuVisible(N){return this.getMenu(N).pipe((0,c.T)(j=>(0,v.a4)(j)?j.visible:void 0))}menuHasVisibleSections(N){return this.getMenu(N).pipe((0,c.T)(j=>(0,v.a4)(j)?Object.values(j.sections).some($=>$.visible&&void 0===$.parentID):void 0))}expandMenu(N){this.store.dispatch(new E.eq(N))}collapseMenu(N){this.store.dispatch(new E.F$(N))}expandMenuPreview(N){this.store.dispatch(new E.oh(N))}collapseMenuPreview(N){this.store.dispatch(new E.JK(N))}toggleMenu(N){this.store.dispatch(new E.sP(N))}showMenu(N){this.store.dispatch(new E.JG(N))}showMenuSection(N,j){this.store.dispatch(new E.C0(N,j))}hideMenu(N){this.store.dispatch(new E.ie(N))}hideMenuSection(N,j){this.store.dispatch(new E.FH(N,j))}toggleActiveSection(N,j){this.store.dispatch(new E.tU(N,j))}activateSection(N,j){this.store.dispatch(new E.cf(N,j))}deactivateSection(N,j){this.store.dispatch(new E.j$(N,j))}isSectionActive(N,j){return this.getMenuSection(N,j).pipe((0,v.Az)(),(0,c.T)($=>$.active))}isSectionVisible(N,j){return this.getMenuSection(N,j).pipe((0,c.T)($=>$.visible))}static{this.\u0275fac=function(j){return new(j||T)(y.KVO(i.il),y.KVO(M.nX),y.KVO(M.Ix))}}static{this.\u0275prov=y.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},72862:(B,C,n)=>{"use strict";n.d(C,{Q:()=>e});var i=n(54438);const t=["*"];function c(p,m){if(1&p&&(i.j41(0,"h2",2),i.EFF(1),i.k0s()),2&p){const f=i.XpG();i.R7$(),i.JRh(f.label)}}let e=(()=>{class p{constructor(){this.hideIfNoTextContent=!0}static{this.\u0275fac=function(v){return new(v||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["ds-metadata-field-wrapper"]],inputs:{label:"label",hideIfNoTextContent:"hideIfNoTextContent"},standalone:!0,features:[i.aNF],ngContentSelectors:t,decls:5,vars:3,consts:[["content",""],[1,"simple-view-element"],[1,"simple-view-element-header"],[1,"simple-view-element-body"]],template:function(v,E){if(1&v&&(i.NAR(),i.j41(0,"div",1),i.DNE(1,c,2,1,"h2",2),i.j41(2,"div",3,0),i.SdG(4),i.k0s()()),2&v){const y=i.sdS(3);i.AVh("d-none",E.hideIfNoTextContent&&0===y.textContent.trim().length),i.R7$(),i.vxM(E.label?1:-1)}},styles:["[_nghost-%COMP%]   .simple-view-element[_ngcontent-%COMP%]{margin-bottom:15px}[_nghost-%COMP%]   .simple-view-element-header[_ngcontent-%COMP%]{font-size:1.25rem}"]})}}return p})()},18040:(B,C,n)=>{"use strict";n.d(C,{V:()=>f}),n(40940);var t=n(43764),c=n(73838),e=n(85526),p=n(54438);function m(v,E){}let f=(()=>{class v extends t.e{constructor(y,M){super(y),this.themeService=y,this.getMetadataRepresentationComponent=M,this.inputNamesDependentForComponent=["context","mdRepresentation"],this.inputNames=["context","mdRepresentation"]}getComponent(){return this.getMetadataRepresentationComponent(this.mdRepresentation.itemType,this.mdRepresentation.representationType,this.context,this.themeService.getThemeName())}static{this.\u0275fac=function(M){return new(M||v)(p.rXU(c.Fs),p.rXU(e.RM))}}static{this.\u0275cmp=p.VBU({type:v,selectors:[["ds-metadata-representation-loader"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[p.Vt3,p.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(M,b){1&M&&p.DNE(0,m,0,0,"ng-template",1,0,p.C5r)},encapsulation:2})}}return v})()},85526:(B,C,n)=>{"use strict";n.d(C,{RM:()=>qe});var i=n(54438),t=n(83808),c=n(7901),e=n(58003),m=(n(66290),n(92767));n(40940);let v=(()=>{class Te{isLink(){return new RegExp(/^https?:\/\/.*/).test(this.mdRepresentation.getValue())}static{this.\u0275fac=function(Bt){return new(Bt||Te)}}static{this.\u0275cmp=i.VBU({type:Te,selectors:[["ds-metadata-representation-list-element"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(Bt,it){},encapsulation:2})}}return Te})(),E=(()=>{class Te extends v{ngOnInit(){this.itemPageRoute=(0,m._o)(this.mdRepresentation)}static{this.\u0275fac=(()=>{let He;return function(it){return(He||(He=i.xGo(Te)))(it||Te)}})()}static{this.\u0275cmp=i.VBU({type:Te,selectors:[["ds-item-metadata-representation-list-element"]],inputs:{mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.Vt3,i.aNF],decls:0,vars:0,template:function(Bt,it){},encapsulation:2})}}return Te})();var y=n(24100);const M=Te=>[Te],b=()=>["dc.description"];function P(Te,pt){if(1&Te&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&Te){const He=i.XpG();i.R7$(2),i.Y8G("innerHTML",He.mdRepresentation.firstMetadataValue(i.lJ4(1,b)),i.npT)}}let D=(()=>{class Te extends E{static{this.\u0275fac=(()=>{let He;return function(it){return(He||(He=i.xGo(Te)))(it||Te)}})()}static{this.\u0275cmp=i.VBU({type:Te,selectors:[["ds-org-unit-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-job-title"],[3,"innerHTML"]],template:function(Bt,it){if(1&Bt&&(i.DNE(0,P,3,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&Bt){const Tt=i.sdS(1);i.R7$(2),i.Y8G("id",it.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,M,it.itemPageRoute))("innerHTML",it.mdRepresentation.getValue(),i.npT)("ngbTooltip",it.mdRepresentation.allMetadata(i.lJ4(6,b)).length>0?Tt:null)}},dependencies:[e.n8,e.md,c.Wk,y.d],encapsulation:2})}}return Te})();var I=n(60177),S=(n(54095),n(68018));const O=Te=>({"not-authenticated":Te});function L(Te,pt){if(1&Te&&(i.j41(0,"span",2),i.EFF(1),i.k0s()),2&Te){const He=i.XpG();i.R7$(),i.JRh(He.orcidTooltip)}}let T=(()=>{class Te{constructor(He){this.translateService=He}ngOnInit(){this.orcidTooltip=this.translateService.instant(this.authenticatedTimestamp?"person.orcid-tooltip.authenticated":"person.orcid-tooltip.not-authenticated",{orcid:this.orcid.value})}static{this.\u0275fac=function(Bt){return new(Bt||Te)(i.rXU(S.c$))}}static{this.\u0275cmp=i.VBU({type:Te,selectors:[["ds-orcid-badge-and-tooltip"]],inputs:{orcid:"orcid",authenticatedTimestamp:"authenticatedTimestamp"},standalone:!0,features:[i.aNF],decls:3,vars:6,consts:[["orcidTooltipTemplate",""],["placement","top","src","assets/images/orcid.logo.icon.svg","data-test","orcidIcon",1,"orcid-icon",3,"ngbTooltip","ngClass","alt"],[1,"text-muted"]],template:function(Bt,it){if(1&Bt&&(i.nrm(0,"img",1),i.DNE(1,L,2,1,"ng-template",null,0,i.C5r)),2&Bt){const Tt=i.sdS(2);i.Mz_("alt","ORCID ",it.orcidTooltip,""),i.Y8G("ngbTooltip",Tt)("ngClass",i.eq3(4,O,!it.authenticatedTimestamp))}},dependencies:[e.n8,e.md,I.YU],styles:["[_nghost-%COMP%]{display:inline-block}.orcid-icon[_ngcontent-%COMP%]{height:1.2rem}.orcid-icon.not-authenticated[_ngcontent-%COMP%]{filter:grayscale(100%)}"]})}}return Te})();const x=Te=>[Te],N=()=>["person.jobTitle"];function j(Te,pt){1&Te&&(i.j41(0,"span"),i.EFF(1,"; "),i.k0s())}function $(Te,pt){if(1&Te&&(i.j41(0,"span"),i.nrm(1,"span",6),i.DNE(2,j,2,0,"span"),i.k0s()),2&Te){const He=pt.$implicit,Bt=pt.$index,it=pt.$count;i.R7$(),i.Y8G("innerHTML",He,i.npT),i.R7$(),i.vxM(Bt!==it-1?2:-1)}}function k(Te,pt){if(1&Te&&(i.j41(0,"span",5),i.Z7z(1,$,3,2,"span",null,i.fX1),i.k0s()),2&Te){const He=i.XpG(2);i.R7$(),i.Dyx(He.mdRepresentation.allMetadataValues(i.lJ4(0,N)))}}function K(Te,pt){if(1&Te&&(i.j41(0,"span",4),i.DNE(1,k,3,1,"span",5),i.k0s()),2&Te){const He=i.XpG();i.R7$(),i.vxM(He.mdRepresentation.allMetadata(i.lJ4(1,N)).length>0?1:-1)}}function z(Te,pt){if(1&Te&&i.nrm(0,"ds-orcid-badge-and-tooltip",3),2&Te){const He=i.XpG();i.Y8G("orcid",He.mdRepresentation.firstMetadata("person.identifier.orcid"))("authenticatedTimestamp",He.mdRepresentation.firstMetadata("dspace.orcid.authenticated"))}}let V=(()=>{class Te extends E{static{this.\u0275fac=(()=>{let He;return function(it){return(He||(He=i.xGo(Te)))(it||Te)}})()}static{this.\u0275cmp=i.VBU({type:Te,selectors:[["ds-person-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:8,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"ms-1",3,"orcid","authenticatedTimestamp"],[1,"text-muted"],[1,"item-list-job-title"],[3,"innerHTML"]],template:function(Bt,it){if(1&Bt&&(i.DNE(0,K,2,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.DNE(4,z,1,2,"ds-orcid-badge-and-tooltip",3),i.k0s()),2&Bt){const Tt=i.sdS(1);i.R7$(2),i.Y8G("id",it.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(5,x,it.itemPageRoute))("innerHTML",it.mdRepresentation.getValue(),i.npT)("ngbTooltip",it.mdRepresentation.allMetadata(i.lJ4(7,N)).length>0?Tt:null),i.R7$(),i.vxM(it.mdRepresentation.firstMetadata("person.identifier.orcid")?4:-1)}},dependencies:[e.n8,e.md,T,c.Wk,y.d],encapsulation:2})}}return Te})();var G=n(43446);const X=Te=>[Te];function Q(Te,pt){if(1&Te&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&Te){const He=i.XpG();i.R7$(2),i.Y8G("innerHTML",He.dsoNameService.getName(He.mdRepresentation),i.npT)}}let ee=(()=>{class Te extends E{constructor(He){super(),this.dsoNameService=He}static{this.\u0275fac=function(Bt){return new(Bt||Te)(i.rXU(G.f))}}static{this.\u0275cmp=i.VBU({type:Te,selectors:[["ds-project-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:6,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-project-title"],[3,"innerHTML"]],template:function(Bt,it){if(1&Bt&&(i.DNE(0,Q,3,1,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&Bt){const Tt=i.sdS(1);i.R7$(2),i.Y8G("id",it.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,X,it.itemPageRoute))("innerHTML",it.dsoNameService.getName(it.mdRepresentation),i.npT)("ngbTooltip",it.dsoNameService.getName(it.mdRepresentation).length>0?Tt:null)}},dependencies:[e.n8,e.md,c.Wk,y.d],encapsulation:2})}}return Te})();var ie=n(89777),te=n(21193),he=n(61806);const ye=Te=>["/browse/",Te];function re(Te,pt){if(1&Te&&(i.j41(0,"a",0),i.EFF(1),i.k0s()),2&Te){const He=i.XpG();i.Y8G("routerLink",i.eq3(3,ye,He.mdRepresentation.browseDefinition.id))("queryParams",He.getQueryParams()),i.R7$(),i.SpI(" ",He.mdRepresentation.getValue()," ")}}let ce=(()=>{class Te extends v{getQueryParams(){const He={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===he.o.value?{value:this.mdRepresentation.getValue()}:He}static{this.\u0275fac=(()=>{let He;return function(it){return(He||(He=i.xGo(Te)))(it||Te)}})()}static{this.\u0275cmp=i.VBU({type:Te,selectors:[["ds-browse-link-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:1,consts:[["target","_blank",1,"dont-break-out",3,"routerLink","queryParams"]],template:function(Bt,it){1&Bt&&(i.j41(0,"div"),i.DNE(1,re,2,5,"a",0),i.j41(2,"b"),i.EFF(3,"(new browse link page)"),i.k0s()()),2&Bt&&(i.R7$(),i.vxM("browse_link"===it.mdRepresentation.representationType?1:-1))},dependencies:[c.Wk],encapsulation:2})}}return Te})();var Z=n(19192),ne=n(8447);let fe=(()=>{class Te extends v{constructor(){super(...arguments),this.viewMode=Z.n.ListElement}static{this.\u0275fac=(()=>{let He;return function(it){return(He||(He=i.xGo(Te)))(it||Te)}})()}static{this.\u0275cmp=i.VBU({type:Te,selectors:[["ds-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:1,vars:2,consts:[[3,"object","viewMode"]],template:function(Bt,it){1&Bt&&i.nrm(0,"ds-listable-object-component-loader",0),2&Bt&&i.Y8G("object",it.mdRepresentation)("viewMode",it.viewMode)},dependencies:[ne.v],encapsulation:2})}}return Te})();const ae=Te=>["/browse/",Te];function oe(Te,pt){if(1&Te&&(i.j41(0,"span",0),i.EFF(1),i.k0s()),2&Te){const He=i.XpG();i.R7$(),i.SpI(" ",He.mdRepresentation.getValue()," ")}}function J(Te,pt){if(1&Te&&(i.j41(0,"a",1),i.EFF(1),i.k0s()),2&Te){const He=i.XpG();i.Y8G("href",He.mdRepresentation.getValue(),i.B4B),i.R7$(),i.SpI(" ",He.mdRepresentation.getValue()," ")}}function ve(Te,pt){if(1&Te&&(i.j41(0,"span",0),i.EFF(1),i.k0s()),2&Te){const He=i.XpG();i.R7$(),i.JRh(He.mdRepresentation.getValue())}}function _e(Te,pt){if(1&Te&&(i.j41(0,"a",2),i.EFF(1),i.k0s()),2&Te){const He=i.XpG();i.Y8G("routerLink",i.eq3(3,ae,He.mdRepresentation.browseDefinition.id))("queryParams",He.getQueryParams()),i.R7$(),i.SpI(" ",He.mdRepresentation.getValue()," ")}}let Ce=(()=>{class Te extends v{getQueryParams(){const He={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===he.o.value?{value:this.mdRepresentation.getValue()}:He}static{this.\u0275fac=(()=>{let He;return function(it){return(He||(He=i.xGo(Te)))(it||Te)}})()}static{this.\u0275cmp=i.VBU({type:Te,selectors:[["ds-plain-text-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:4,consts:[[1,"dont-break-out"],["target","_blank","role","link","tabindex","0",1,"dont-break-out",3,"href"],["role","link","tabindex","0",1,"dont-break-out","ds-browse-link",3,"routerLink","queryParams"]],template:function(Bt,it){1&Bt&&(i.j41(0,"div"),i.DNE(1,oe,2,1,"span",0)(2,J,2,2,"a",1)(3,ve,2,1,"span",0)(4,_e,2,5,"a",2),i.k0s()),2&Bt&&(i.R7$(),i.vxM("plain_text"!==it.mdRepresentation.representationType||it.isLink()?-1:1),i.R7$(),i.vxM("plain_text"===it.mdRepresentation.representationType&&it.isLink()?2:-1),i.R7$(),i.vxM("authority_controlled"===it.mdRepresentation.representationType?3:-1),i.R7$(),i.vxM("browse_link"===it.mdRepresentation.representationType?4:-1))},dependencies:[c.Wk],encapsulation:2})}}return Te})();const qe=new i.nKC("getMetadataRepresentationComponent",{providedIn:"root",factory:()=>Ke}),Re="Publication",nt=t.d.PlainText,Ge=new Map([["Publication",new Map([[t.d.PlainText,new Map([[te.A2,new Map([[te.SS,Ce]])]])],[t.d.AuthorityControlled,new Map([[te.A2,new Map([[te.SS,Ce]])]])],[t.d.BrowseLink,new Map([[te.A2,new Map([[te.SS,ce]])]])],[t.d.Item,new Map([[te.A2,new Map([[te.SS,fe]])]])]])],["Person",new Map([[t.d.Item,new Map([[te.A2,new Map([[te.SS,V]])]])]])],["OrgUnit",new Map([[t.d.Item,new Map([[te.A2,new Map([[te.SS,D]])]])]])],["Project",new Map([[t.d.Item,new Map([[te.A2,new Map([[te.SS,ee]])]])]])]]);function Ke(Te,pt,He=te.A2,Bt=te.SS){const it=Ge.get(Te);if((0,ie.a4)(it)){const Tt=it.get(pt);if((0,ie.a4)(Tt)){const Ee=Tt.get(He);if((0,ie.a4)(Ee)){const je=(0,te.eW)(Ee,Bt);if((0,ie.a4)(je))return je;if((0,ie.a4)(Ee.get(te.SS)))return Ee.get(te.SS)}if((0,ie.a4)(Tt.get(te.A2))&&(0,ie.a4)(Tt.get(te.A2).get(te.SS)))return Tt.get(te.A2).get(te.SS)}if((0,ie.a4)(it.get(nt))&&(0,ie.a4)(it.get(nt).get(te.A2))&&(0,ie.a4)(it.get(nt).get(te.A2).get(te.SS)))return it.get(nt).get(te.A2).get(te.SS)}return Ge.get(Re).get(nt).get(te.A2).get(te.SS)}},54498:(B,C,n)=>{"use strict";n.d(C,{SU:()=>xi,u3:()=>Ai});var i=n(60177),t=n(89417),c=n(58003),e=n(68018),p=n(94549),m=n(50186),f=n(96354),v=n(3601),E=n(14597),y=n(87507),M=n(4093),b=n(80189),P=n(25580),D=n(9847),I=n(68174),h=n(54438),S=n(7901);let O=(()=>{class Zt extends I.${constructor(Xt,It,Fe,Xe,gt,Yt,Cn,On,Nn,Qn){super(Xt,It,Fe,Xe,gt,Yt,Nn,Qn),this.route=Xt,this.workflowItemService=It,this.router=Fe,this.routeService=Xe,this.notificationsService=gt,this.translationService=Yt,this.workflowActionService=Cn,this.claimedTaskDataService=On,this.requestService=Nn,this.location=Qn}ngOnInit(){super.ngOnInit(),this.workflowAction$=this.workflowActionService.findById(this.route.snapshot.queryParams.workflow).pipe((0,M.ak)())}performAction(){this.sendRequest(this.route.snapshot.queryParams.claimedTask).subscribe(Xt=>{if(Xt){const It=this.translationService.get("workflow-item."+this.type+".notification.success.title"),Fe=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(It,Fe),this.previousPage()}else{const It=this.translationService.get("workflow-item."+this.type+".notification.error.title"),Fe=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(It,Fe)}})}sendRequest(Xt){return this.claimedTaskDataService.submitTask(Xt,this.createBody()).pipe((0,f.T)(It=>It.hasSucceeded))}static{this.\u0275fac=function(It){return new(It||Zt)(h.rXU(S.nX),h.rXU(b.WorkflowItemDataService),h.rXU(S.Ix),h.rXU(y.v$),h.rXU(D.I),h.rXU(e.c$),h.rXU(E.WorkflowActionDataService),h.rXU(P.ClaimedTaskDataService),h.rXU(v.B),h.rXU(i.aZ))}}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-advanced-workflow-action"]],standalone:!0,features:[h.Vt3,h.aNF],decls:0,vars:0,template:function(It,Fe){},encapsulation:2})}}return Zt})();const L=Zt=>({"is-invalid":Zt}),T=Zt=>({"text-danger":Zt});function x(Zt,Ii){1&Zt&&(h.j41(0,"p"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Zt&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.rating.description-requiredDescription")," "))}function N(Zt,Ii){1&Zt&&(h.j41(0,"p"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Zt&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.rating.description")," "))}function j(Zt,Ii){1&Zt&&(h.j41(0,"span"),h.EFF(1,"*"),h.k0s())}function $(Zt,Ii){1&Zt&&(h.j41(0,"small",10),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Zt&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.rating.form.review.error")," "))}function k(Zt,Ii){1&Zt&&(h.j41(0,"small",10),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Zt&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.rating.form.rating.error")," "))}function K(Zt,Ii){if(1&Zt){const Xt=h.RV6();h.j41(0,"form",6),h.bIt("ngSubmit",function(){h.eBV(Xt);const Fe=h.XpG(2);return h.Njj(Fe.performAction())}),h.j41(1,"div",7)(2,"label",8)(3,"span"),h.EFF(4),h.nI1(5,"translate"),h.k0s(),h.DNE(6,j,2,0,"span"),h.k0s(),h.j41(7,"textarea",9),h.EFF(8,"        "),h.k0s(),h.DNE(9,$,3,3,"small",10),h.k0s(),h.j41(10,"div",7)(11,"label",11),h.EFF(12),h.nI1(13,"translate"),h.k0s(),h.j41(14,"div",12),h.nrm(15,"ngb-rating",13),h.k0s(),h.DNE(16,k,3,3,"small",10),h.k0s()()}if(2&Zt){const Xt=h.XpG().ngVar,It=h.XpG();h.Y8G("formGroup",It.ratingForm),h.R7$(4),h.JRh(h.bMT(5,10,"advanced-workflow-action.rating.form.review.label")),h.R7$(2),h.vxM(null!=Xt&&Xt.descriptionRequired?6:-1),h.R7$(),h.Y8G("ngClass",h.eq3(14,L,It.isInvalid("review")))("required",null==Xt?null:Xt.descriptionRequired),h.R7$(2),h.vxM(It.isInvalid("review")?9:-1),h.R7$(3),h.SpI(" ",h.bMT(13,12,"advanced-workflow-action.rating.form.rating.label"),"* "),h.R7$(3),h.Y8G("max",null==Xt?null:Xt.maxValue)("ngClass",h.eq3(16,T,It.isInvalid("rating"))),h.R7$(),h.vxM(It.isInvalid("rating")?16:-1)}}function z(Zt,Ii){if(1&Zt&&(h.nrm(0,"ds-modify-item-overview",2),h.nI1(1,"async")),2&Zt){const Xt=h.XpG(2);h.Y8G("item",h.bMT(1,1,Xt.item$))}}function V(Zt,Ii){if(1&Zt){const Xt=h.RV6();h.j41(0,"div"),h.DNE(1,x,3,3,"p")(2,N,3,3,"p")(3,K,17,18,"form",1)(4,z,2,3,"ds-modify-item-overview",2),h.nI1(5,"async"),h.j41(6,"div",3)(7,"button",4),h.bIt("click",function(){h.eBV(Xt);const Fe=h.XpG();return h.Njj(Fe.previousPage())}),h.EFF(8),h.nI1(9,"translate"),h.k0s(),h.j41(10,"button",5),h.bIt("click",function(){h.eBV(Xt);const Fe=h.XpG();return h.Njj(Fe.performAction())}),h.EFF(11),h.nI1(12,"translate"),h.k0s()()()}if(2&Zt){const Xt=Ii.ngVar,It=h.XpG();h.R7$(),h.vxM(null!=Xt&&Xt.descriptionRequired?1:-1),h.R7$(),h.vxM(null!=Xt&&Xt.descriptionRequired?-1:2),h.R7$(),h.vxM(It.ratingForm?3:-1),h.R7$(),h.vxM(h.bMT(5,6,It.item$)?4:-1),h.R7$(4),h.SpI(" ",h.bMT(9,8,"workflow-item."+It.getType()+".button.cancel")," "),h.R7$(3),h.SpI(" ",h.bMT(12,10,"workflow-item."+It.getType()+".button.confirm")," ")}}const G="submit_score",X="scorereviewaction";let Q=(()=>{class Zt extends O{ngOnInit(){super.ngOnInit(),this.ratingForm=new t.J3({review:new t.hs(""),rating:new t.hs(0,t.k0.min(1))})}performAction(){this.ratingForm.updateValueAndValidity(),this.ratingForm.valid?super.performAction():this.ratingForm.markAllAsTouched()}createBody(){const Xt={[G]:!0,score:this.ratingForm.get("rating").value};if(""!==this.ratingForm.get("review").value){const It=this.ratingForm.get("review").value;Object.assign(Xt,{review:It})}return Xt}getType(){return X}getAdvancedInfo(Xt){return Xt?Xt.advancedInfo[0]:null}isInvalid(Xt){return this.ratingForm.get(Xt).touched&&!this.ratingForm.get(Xt).valid}static{this.\u0275fac=(()=>{let Xt;return function(Fe){return(Xt||(Xt=h.xGo(Zt)))(Fe||Zt)}})()}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-advanced-workflow-action-rating-reviewer"]],standalone:!0,features:[h.Vt3,h.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"formGroup"],[3,"item"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"control-label"],["formControlName","review",1,"form-control",3,"ngClass","required"],[1,"invalid-feedback","d-block"],[1,"control-label","mb-1"],[1,"d-block"],["formControlName","rating",3,"max","ngClass"]],template:function(It,Fe){1&It&&(h.DNE(0,V,13,12,"div",0),h.nI1(1,"async")),2&It&&h.Y8G("ngVar",Fe.getAdvancedInfo(h.bMT(1,1,Fe.workflowAction$)))},dependencies:[i.Jj,p.W,c.Ny,c.hC,i.YU,t.X1,t.qT,t.me,t.BC,t.cb,t.YS,t.j4,t.JD,e.h,e.D9,m.r]})}}return Zt})();var ee=n(89777),ie=n(7673),te=n(68164),he=n(43446),ye=n(58956),re=n(13817),ce=n(2086),Z=n(23681),ne=n(31),fe=n(79104),ae=n(32413),oe=n(2175);const J=()=>["top","right","bottom"],ve=Zt=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:Zt}),_e=Zt=>({name:Zt}),Ce=Zt=>["btn btn-sm",Zt];function qe(Zt,Ii){if(1&Zt){const Xt=h.RV6();h.j41(0,"button",20),h.nI1(1,"translate"),h.bIt("click",function(){h.eBV(Xt);const Fe=h.XpG().$implicit,Xe=h.XpG(2);return h.Njj(Xe.deleteMemberFromGroup(Fe.eperson))}),h.nrm(2,"i",21),h.k0s()}if(2&Zt){const Xt=h.XpG().$implicit,It=h.XpG(2);h.FS9("title",h.i5U(1,4,It.messagePrefix+".table.edit.buttons.remove",h.eq3(7,_e,It.dsoNameService.getName(Xt.eperson)))),h.Y8G("dsBtnDisabled",It.actionConfig.remove.disabled)("ngClass",h.eq3(9,Ce,It.actionConfig.remove.css)),h.R7$(2),h.Y8G("ngClass",It.actionConfig.remove.icon)}}function Re(Zt,Ii){if(1&Zt){const Xt=h.RV6();h.j41(0,"button",20),h.nI1(1,"translate"),h.bIt("click",function(){h.eBV(Xt);const Fe=h.XpG().$implicit,Xe=h.XpG(2);return h.Njj(Xe.addMemberToGroup(Fe.eperson))}),h.nrm(2,"i",21),h.k0s()}if(2&Zt){const Xt=h.XpG().$implicit,It=h.XpG(2);h.FS9("title",h.i5U(1,4,It.messagePrefix+".table.edit.buttons.add",h.eq3(7,_e,It.dsoNameService.getName(Xt.eperson)))),h.Y8G("dsBtnDisabled",It.actionConfig.add.disabled)("ngClass",h.eq3(9,Ce,It.actionConfig.add.css)),h.R7$(2),h.Y8G("ngClass",It.actionConfig.add.icon)}}function nt(Zt,Ii){if(1&Zt&&(h.j41(0,"tr")(1,"td",16),h.EFF(2),h.k0s(),h.j41(3,"td",16)(4,"a",17),h.EFF(5),h.k0s()(),h.j41(6,"td",16),h.EFF(7),h.nI1(8,"translate"),h.nrm(9,"br"),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"td",16)(13,"div",18),h.DNE(14,qe,3,11,"button",19)(15,Re,3,11,"button",19),h.k0s()()()),2&Zt){const Xt=Ii.$implicit,It=h.XpG(2);h.R7$(2),h.JRh(Xt.eperson.id),h.R7$(2),h.Y8G("routerLink",It.getEPersonEditRoute(Xt.eperson.id)),h.R7$(),h.SpI(" ",It.dsoNameService.getName(Xt.eperson)," "),h.R7$(2),h.Lme(" ",h.bMT(8,9,It.messagePrefix+".table.email"),": ",Xt.eperson.email?Xt.eperson.email:"-",""),h.R7$(3),h.Lme(" ",h.bMT(11,11,It.messagePrefix+".table.netid"),": ",Xt.eperson.netid?Xt.eperson.netid:"-"," "),h.R7$(4),h.vxM(Xt.ableToDelete?14:-1),h.R7$(),h.vxM(Xt.ableToDelete?-1:15)}}function Ge(Zt,Ii){if(1&Zt&&(h.j41(0,"ds-pagination",1),h.nI1(1,"async"),h.j41(2,"div",13)(3,"table",14)(4,"thead")(5,"tr")(6,"th",15),h.EFF(7),h.nI1(8,"translate"),h.k0s(),h.j41(9,"th",15),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"th",15),h.EFF(13),h.nI1(14,"translate"),h.k0s(),h.j41(15,"th",16),h.EFF(16),h.nI1(17,"translate"),h.k0s()()(),h.j41(18,"tbody"),h.Z7z(19,nt,16,13,"tr",null,h.fX1),h.nI1(21,"async"),h.k0s()()()()),2&Zt){let Xt,It;const Fe=h.XpG();h.Y8G("paginationOptions",Fe.config)("collectionSize",null==(Xt=h.bMT(1,8,Fe.ePeopleMembersOfGroup))?null:Xt.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),h.R7$(7),h.JRh(h.bMT(8,10,Fe.messagePrefix+".table.id")),h.R7$(3),h.JRh(h.bMT(11,12,Fe.messagePrefix+".table.name")),h.R7$(3),h.JRh(h.bMT(14,14,Fe.messagePrefix+".table.identity")),h.R7$(3),h.JRh(h.bMT(17,16,Fe.messagePrefix+".table.edit")),h.R7$(3),h.Dyx(null==(It=h.bMT(21,18,Fe.ePeopleMembersOfGroup))?null:It.page)}}function at(Zt,Ii){if(1&Zt&&(h.j41(0,"div",2),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Zt){const Xt=h.XpG();h.R7$(),h.SpI(" ",h.bMT(2,1,Xt.messagePrefix+".no-members-yet")," ")}}function Ke(Zt,Ii){if(1&Zt&&(h.j41(0,"span"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Zt){const Xt=h.XpG();h.R7$(),h.SpI(" ",h.bMT(2,1,Xt.messagePrefix+".search.head")," ")}}function Te(Zt,Ii){if(1&Zt){const Xt=h.RV6();h.j41(0,"tr")(1,"td",16),h.EFF(2),h.k0s(),h.j41(3,"td",16)(4,"a",17),h.EFF(5),h.k0s()(),h.j41(6,"td",16),h.EFF(7),h.nI1(8,"translate"),h.nrm(9,"br"),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"td",16)(13,"div",18)(14,"button",20),h.nI1(15,"translate"),h.bIt("click",function(){const Fe=h.eBV(Xt).$implicit,Xe=h.XpG(2);return h.Njj(Xe.addMemberToGroup(Fe))}),h.nrm(16,"i",21),h.k0s()()()()}if(2&Zt){const Xt=Ii.$implicit,It=h.XpG(2);h.R7$(2),h.JRh(Xt.id),h.R7$(2),h.Y8G("routerLink",It.getEPersonEditRoute(Xt.id)),h.R7$(),h.SpI(" ",It.dsoNameService.getName(Xt)," "),h.R7$(2),h.Lme(" ",h.bMT(8,11,It.messagePrefix+".table.email"),": ",Xt.email?Xt.email:"-",""),h.R7$(3),h.Lme(" ",h.bMT(11,13,It.messagePrefix+".table.netid"),": ",Xt.netid?Xt.netid:"-"," "),h.R7$(4),h.FS9("title",h.i5U(15,15,It.messagePrefix+".table.edit.buttons.add",h.eq3(18,_e,It.dsoNameService.getName(Xt)))),h.Y8G("dsBtnDisabled",It.actionConfig.add.disabled)("ngClass",h.eq3(20,Ce,It.actionConfig.add.css)),h.R7$(2),h.Y8G("ngClass",It.actionConfig.add.icon)}}function pt(Zt,Ii){if(1&Zt&&(h.j41(0,"ds-pagination",1),h.nI1(1,"async"),h.j41(2,"div",13)(3,"table",22)(4,"thead")(5,"tr")(6,"th",15),h.EFF(7),h.nI1(8,"translate"),h.k0s(),h.j41(9,"th",15),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"th",15),h.EFF(13),h.nI1(14,"translate"),h.k0s(),h.j41(15,"th",16),h.EFF(16),h.nI1(17,"translate"),h.k0s()()(),h.j41(18,"tbody"),h.Z7z(19,Te,17,22,"tr",null,h.fX1),h.nI1(21,"async"),h.k0s()()()()),2&Zt){let Xt,It;const Fe=h.XpG();h.Y8G("paginationOptions",Fe.configSearch)("collectionSize",null==(Xt=h.bMT(1,8,Fe.ePeopleSearch))?null:Xt.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),h.R7$(7),h.JRh(h.bMT(8,10,Fe.messagePrefix+".table.id")),h.R7$(3),h.JRh(h.bMT(11,12,Fe.messagePrefix+".table.name")),h.R7$(3),h.JRh(h.bMT(14,14,Fe.messagePrefix+".table.identity")),h.R7$(3),h.JRh(h.bMT(17,16,Fe.messagePrefix+".table.edit")),h.R7$(3),h.Dyx(null==(It=h.bMT(21,18,Fe.ePeopleSearch))?null:It.page)}}function He(Zt,Ii){if(1&Zt&&(h.j41(0,"div",2),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Zt){const Xt=h.XpG();h.R7$(),h.SpI(" ",h.bMT(2,1,Xt.messagePrefix+".no-items")," ")}}var Bt=function(Zt){return Zt[Zt.ActiveGroup=0]="ActiveGroup",Zt[Zt.Members=1]="Members",Zt[Zt.SearchResults=2]="SearchResults",Zt}(Bt||{});let it=(()=>{class Zt extends te.v{constructor(Xt,It,Fe,Xe,gt,Yt,Cn,On){super(Xt,It,Fe,Xe,gt,Yt,Cn,On),this.groupService=Xt,this.ePersonDataService=It,this.translateService=Fe,this.notificationsService=Xe,this.formBuilder=gt,this.paginationService=Yt,this.router=Cn,this.dsoNameService=On,this.selectedReviewersUpdated=new h.bkB,this.selectedReviewers=[]}ngOnInit(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}ngOnChanges(Xt){this.groupId=Xt.groupId.currentValue,Xt.groupId.currentValue!==Xt.groupId.previousValue&&(null===this.groupId?this.retrieveMembers(this.config.currentPage):(this.unsubFrom(Bt.ActiveGroup),this.subs.set(Bt.ActiveGroup,this.groupService.findById(this.groupId).pipe((0,M.ak)()).subscribe(It=>{null!=It&&(this.groupDataService.editGroup(It),this.groupBeingEdited=It,this.retrieveMembers(this.config.currentPage))}))))}retrieveMembers(Xt){if(this.config.currentPage=Xt,null===this.groupId){const It=new ye.O;It.page=this.selectedReviewers.map(Fe=>Object.assign(new Z.h,{eperson:Fe,ableToDelete:this.isMemberOfGroup(Fe)})),this.ePeopleMembersOfGroup.next(It)}else super.retrieveMembers(Xt)}isMemberOfGroup(Xt){return(0,ie.of)((0,ee.a4)(this.selectedReviewers.find(It=>It.id===Xt.id)))}deleteMemberFromGroup(Xt){const It=this.selectedReviewers.findIndex(Fe=>Fe.id===Xt.id);-1!==It&&this.selectedReviewers.splice(It,1),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}addMemberToGroup(Xt){this.multipleReviewers||(this.selectedReviewers=[]),this.selectedReviewers.push(Xt),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}static{this.\u0275fac=function(It){return new(It||Zt)(h.rXU(ce.GroupDataService),h.rXU(re.EPersonDataService),h.rXU(e.c$),h.rXU(D.I),h.rXU(t.ze),h.rXU(ne.m),h.rXU(S.Ix),h.rXU(he.f))}}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-reviewers-list"]],inputs:{groupId:"groupId",actionConfig:"actionConfig",multipleReviewers:"multipleReviewers"},outputs:{selectedReviewersUpdated:"selectedReviewersUpdated"},standalone:!0,features:[h.Vt3,h.OA$,h.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","me-3"],[1,"mb-3","input-group","me-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"dsBtnDisabled","ngClass","title"],[3,"click","dsBtnDisabled","ngClass","title"],[3,"ngClass"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(It,Fe){if(1&It&&(h.qex(0),h.j41(1,"h2",0),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.j41(4,"h3"),h.EFF(5),h.nI1(6,"translate"),h.k0s(),h.DNE(7,Ge,22,20,"ds-pagination",1),h.nI1(8,"async"),h.DNE(9,at,3,3,"div",2),h.nI1(10,"async"),h.nI1(11,"async"),h.j41(12,"h3",3),h.DNE(13,Ke,3,3,"span",4),h.k0s(),h.j41(14,"form",5),h.bIt("ngSubmit",function(){return Fe.search(Fe.searchForm.value)}),h.j41(15,"div",6)(16,"div",7),h.nrm(17,"input",8),h.j41(18,"span",9)(19,"button",10),h.nrm(20,"i",11),h.EFF(21),h.nI1(22,"translate"),h.k0s()()()(),h.j41(23,"div")(24,"button",12),h.bIt("click",function(){return Fe.clearFormAndResetResult()}),h.EFF(25),h.nI1(26,"translate"),h.k0s()()(),h.DNE(27,pt,22,20,"ds-pagination",1),h.nI1(28,"async"),h.DNE(29,He,3,3,"div",2),h.nI1(30,"async"),h.bVm()),2&It){let Xe,gt,Yt,Cn;h.R7$(2),h.JRh(h.bMT(3,10,Fe.messagePrefix+".head")),h.R7$(3),h.JRh(h.bMT(6,12,Fe.messagePrefix+".headMembers")),h.R7$(2),h.vxM((null==(Xe=h.bMT(8,14,Fe.ePeopleMembersOfGroup))?null:Xe.totalElements)>0?7:-1),h.R7$(2),h.vxM(void 0===h.bMT(10,16,Fe.ePeopleMembersOfGroup)||0===(null==(gt=h.bMT(11,18,Fe.ePeopleMembersOfGroup))?null:gt.totalElements)?9:-1),h.R7$(4),h.Y8G("dsContextHelp",h.eq3(29,ve,h.lJ4(28,J))),h.R7$(),h.Y8G("formGroup",Fe.searchForm),h.R7$(7),h.SpI(" ",h.bMT(22,20,Fe.messagePrefix+".search.button"),""),h.R7$(4),h.JRh(h.bMT(26,22,Fe.messagePrefix+".button.see-all")),h.R7$(2),h.vxM((null==(Yt=h.bMT(28,24,Fe.ePeopleSearch))?null:Yt.totalElements)>0?27:-1),h.R7$(2),h.vxM(0===(null==(Cn=h.bMT(30,26,Fe.ePeopleSearch))?null:Cn.totalElements)&&Fe.searchDone?29:-1)}},dependencies:[i.Jj,fe.A,ae.G,i.YU,oe.e,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,S.Wk,e.h,e.D9],encapsulation:2})}}return Zt})();function Tt(Zt,Ii){1&Zt&&(h.j41(0,"p"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Zt&&(h.R7$(),h.JRh(h.bMT(2,1,"advanced-workflow-action.select-reviewer.description-multiple")))}function Ee(Zt,Ii){1&Zt&&(h.j41(0,"p"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Zt&&(h.R7$(),h.JRh(h.bMT(2,1,"advanced-workflow-action.select-reviewer.description-single")))}function je(Zt,Ii){if(1&Zt){const Xt=h.RV6();h.j41(0,"ds-reviewers-list",6),h.bIt("selectedReviewersUpdated",function(Fe){h.eBV(Xt);const Xe=h.XpG();return Xe.selectedReviewers=Fe,h.Njj(Xe.displayError=!1)}),h.k0s()}if(2&Zt){const Xt=h.XpG();h.Y8G("actionConfig",Xt.reviewersListActionConfig)("groupId",Xt.groupId)("ngClass",Xt.groupId?"reviewersListWithGroup":"")("multipleReviewers",Xt.multipleReviewers)}}function ft(Zt,Ii){1&Zt&&(h.j41(0,"small",1),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Zt&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.select-reviewer.no-reviewer-selected.error")," "))}function vn(Zt,Ii){if(1&Zt&&(h.nrm(0,"ds-modify-item-overview",2),h.nI1(1,"async")),2&Zt){const Xt=h.XpG();h.Y8G("item",h.bMT(1,1,Xt.item$))}}const hn="submit_select_reviewer",Un="selectrevieweraction";let Ct=(()=>{class Zt extends O{constructor(Xt,It,Fe,Xe,gt,Yt,Cn,On,Nn,Qn){super(Xt,It,Fe,Xe,gt,Yt,Cn,On,Nn,Qn),this.route=Xt,this.workflowItemService=It,this.router=Fe,this.routeService=Xe,this.notificationsService=gt,this.translationService=Yt,this.workflowActionService=Cn,this.claimedTaskDataService=On,this.requestService=Nn,this.location=Qn,this.multipleReviewers=!0,this.selectedReviewers=[],this.subs=[],this.displayError=!1}ngOnDestroy(){this.subs.forEach(Xt=>Xt.unsubscribe())}ngOnInit(){super.ngOnInit(),this.reviewersListActionConfig=this.multipleReviewers?{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-minus"}}:{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-check"},remove:{css:"btn-primary",disabled:!0,icon:"fas fa-check"}},this.subs.push(this.workflowAction$.subscribe(Xt=>{this.groupId=Xt?Xt.advancedInfo[0].group:null}))}getType(){return Un}performAction(){this.selectedReviewers.length>0?super.performAction():this.displayError=!0}createBody(){return{[hn]:!0,eperson:this.selectedReviewers.map(Xt=>Xt.id)}}previousPage(){let Xt=this.previousQueryParameters;(0,ee.a4)(Xt)||(Xt={configuration:"workflow"}),this.router.navigate(["/mydspace"],{queryParams:Xt})}static{this.\u0275fac=function(It){return new(It||Zt)(h.rXU(S.nX),h.rXU(b.WorkflowItemDataService),h.rXU(S.Ix),h.rXU(y.v$),h.rXU(D.I),h.rXU(e.c$),h.rXU(E.WorkflowActionDataService),h.rXU(P.ClaimedTaskDataService),h.rXU(v.B),h.rXU(i.aZ))}}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-advanced-workflow-action-select-reviewer"]],standalone:!0,features:[h.Vt3,h.aNF],decls:14,vars:13,consts:[["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"actionConfig","groupId","ngClass","multipleReviewers"],[1,"invalid-feedback","d-block","mb-3"],[3,"item"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"selectedReviewersUpdated","actionConfig","groupId","ngClass","multipleReviewers"]],template:function(It,Fe){1&It&&(h.j41(0,"div"),h.DNE(1,Tt,3,3,"p")(2,Ee,3,3,"p")(3,je,1,4,"ds-reviewers-list",0)(4,ft,3,3,"small",1)(5,vn,2,3,"ds-modify-item-overview",2),h.nI1(6,"async"),h.j41(7,"div",3)(8,"button",4),h.bIt("click",function(){return Fe.previousPage()}),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.j41(11,"button",5),h.bIt("click",function(){return Fe.performAction()}),h.EFF(12),h.nI1(13,"translate"),h.k0s()()()),2&It&&(h.R7$(),h.vxM(Fe.multipleReviewers?1:-1),h.R7$(),h.vxM(Fe.multipleReviewers?-1:2),h.R7$(),h.vxM(void 0!==Fe.groupId?3:-1),h.R7$(),h.vxM(Fe.displayError?4:-1),h.R7$(),h.vxM(h.bMT(6,7,Fe.item$)?5:-1),h.R7$(4),h.SpI(" ",h.bMT(10,9,"workflow-item."+Fe.getType()+".button.cancel")," "),h.R7$(3),h.SpI(" ",h.bMT(13,11,"workflow-item."+Fe.getType()+".button.confirm")," "))},dependencies:[i.Jj,p.W,i.YU,it,e.h,e.D9],styles:["[_nghost-%COMP%]     .reviewersListWithGroup #search, [_nghost-%COMP%]     .reviewersListWithGroup #search+form, [_nghost-%COMP%]     .reviewersListWithGroup #search+form+ds-pagination{display:none!important}"]})}}return Zt})();var Ot=n(94314),wt=n(71622),mt=n(96697),Et=(n(15862),n(56327),n(52526)),kt=n(62297);let vt=(()=>{class Zt extends kt.i{constructor(Xt,It,Fe,Xe,gt,Yt){super(Et.a,Xt,It,Fe,Xe,gt,Yt),this.injector=Xt,this.router=It,this.notificationsService=Fe,this.translate=Xe,this.searchService=gt,this.requestService=Yt,this.subs=[]}submitTask(){this.subs.push(this.startActionExecution().pipe((0,mt.s)(1)).subscribe())}createbody(){return{[this.option]:"true"}}reloadObjectExecution(){return this.objectDataService.findByItem(this.itemUuid)}actionExecution(){return this.objectDataService.submitTask(this.object.id,this.createbody())}initObjects(Xt){this.object=Xt}initReloadAnchor(){(0,ee.Im)(this.item)||(this.itemUuid=this.item.uuid)}ngOnDestroy(){this.subs.forEach(Xt=>Xt.unsubscribe())}static{this.\u0275fac=function(It){return new(It||Zt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(Ot.S),h.rXU(v.B))}}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-claimed-task-action-abstract"]],inputs:{option:"option",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[h.Vt3,h.aNF],decls:0,vars:0,template:function(It,Fe){},encapsulation:2})}}return Zt})();function Jt(Zt,Ii){1&Zt&&(h.j41(0,"span"),h.nrm(1,"i",1),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&Zt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function sn(Zt,Ii){1&Zt&&(h.j41(0,"span"),h.nrm(1,"i",2),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&Zt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.claimed.approve"),""))}let Gt=(()=>{class Zt extends vt{constructor(Xt,It,Fe,Xe,gt,Yt,Cn){super(Xt,It,Fe,Xe,gt,Yt),this.injector=Xt,this.router=It,this.notificationsService=Fe,this.translate=Xe,this.searchService=gt,this.requestService=Yt,this.workflowItemDataService=Cn}reloadObjectExecution(){return(0,ie.of)(this.object)}convertReloadedObject(Xt){return Object.assign(new wt.t,Xt,{indexableObject:Xt})}handleReloadableActionResponse(Xt,It){super.handleReloadableActionResponse(Xt,It),this.workflowItemDataService.invalidateByHref(this.object?._links.workflowitem?.href)}static{this.\u0275fac=function(It){return new(It||Zt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(Ot.S),h.rXU(v.B),h.rXU(b.WorkflowItemDataService))}}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-claimed-task-actions-approve"]],standalone:!0,features:[h.Vt3,h.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","dsBtnDisabled"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-thumbs-up"]],template:function(It,Fe){1&It&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.nI1(2,"async"),h.bIt("click",function(){return Fe.submitTask()}),h.DNE(3,Jt,4,3,"span"),h.nI1(4,"async"),h.DNE(5,sn,4,3,"span"),h.nI1(6,"async"),h.k0s()),2&It&&(h.FS9("ngbTooltip",h.bMT(1,5,"submission.workflow.tasks.claimed.approve_help")),h.Y8G("className","btn btn-success")("dsBtnDisabled",h.bMT(2,7,Fe.processing$)),h.R7$(3),h.vxM(h.bMT(4,9,Fe.processing$)?3:-1),h.R7$(2),h.vxM(!0!==h.bMT(6,11,Fe.processing$)?5:-1))},dependencies:[i.Jj,fe.A,c.n8,c.md,e.h,e.D9]})}}return Zt})();var Je=n(87083);function ke(Zt,Ii){1&Zt&&(h.j41(0,"span"),h.nrm(1,"i",1),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&Zt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing")," "))}function Le(Zt,Ii){1&Zt&&(h.j41(0,"span"),h.nrm(1,"i",2),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&Zt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.claimed.decline")," "))}let lt=(()=>{class Zt extends vt{constructor(Xt,It,Fe,Xe,gt,Yt){super(Xt,It,Fe,Xe,gt,Yt),this.injector=Xt,this.router=It,this.notificationsService=Fe,this.translate=Xe,this.searchService=gt,this.requestService=Yt}reloadObjectExecution(){return(0,ie.of)(this.object)}convertReloadedObject(Xt){return Object.assign(new Je.H,Xt,{indexableObject:Xt})}static{this.\u0275fac=function(It){return new(It||Zt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(Ot.S),h.rXU(v.B))}}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-claimed-task-actions-decline-task"]],standalone:!0,features:[h.Vt3,h.aNF],decls:7,vars:12,consts:[["type","button",1,"declineTaskAction","btn","btn-warning",3,"click","dsBtnDisabled","ngbTooltip"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-ban"]],template:function(It,Fe){1&It&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.nI1(2,"async"),h.bIt("click",function(){return Fe.submitTask()}),h.DNE(3,ke,4,3,"span"),h.nI1(4,"async"),h.DNE(5,Le,4,3,"span"),h.nI1(6,"async"),h.k0s()),2&It&&(h.FS9("ngbTooltip",h.bMT(1,4,"submission.workflow.tasks.claimed.decline_help")),h.Y8G("dsBtnDisabled",h.bMT(2,6,Fe.processing$)),h.R7$(3),h.vxM(h.bMT(4,8,Fe.processing$)?3:-1),h.R7$(2),h.vxM(!0!==h.bMT(6,10,Fe.processing$)?5:-1))},dependencies:[i.Jj,fe.A,c.n8,c.md,e.h,e.D9]})}}return Zt})();const Vt=Zt=>[Zt];function fn(Zt,Ii){if(1&Zt&&(h.j41(0,"a",0),h.nI1(1,"translate"),h.nI1(2,"async"),h.nrm(3,"i",1),h.EFF(4),h.nI1(5,"translate"),h.k0s()),2&Zt){let Xt;const It=h.XpG();h.FS9("ngbTooltip",h.bMT(1,3,"submission.workflow.tasks.claimed.edit_help")),h.Y8G("routerLink",h.eq3(9,Vt,"/workflowitems/"+(null==(Xt=h.bMT(2,5,It.object.workflowitem))||null==Xt.payload?null:Xt.payload.id)+"/edit")),h.R7$(4),h.SpI(" ",h.bMT(5,7,"submission.workflow.tasks.claimed.edit")," ")}}let tn=(()=>{class Zt extends vt{constructor(Xt,It,Fe,Xe,gt,Yt){super(Xt,It,Fe,Xe,gt,Yt),this.injector=Xt,this.router=It,this.notificationsService=Fe,this.translate=Xe,this.searchService=gt,this.requestService=Yt}static{this.\u0275fac=function(It){return new(It||Zt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(Ot.S),h.rXU(v.B))}}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-claimed-task-actions-edit-metadata"]],standalone:!0,features:[h.Vt3,h.aNF],decls:1,vars:1,consts:[["role","button",1,"btn","btn-primary",3,"ngbTooltip","routerLink"],[1,"fa","fa-edit"]],template:function(It,Fe){1&It&&h.DNE(0,fn,6,11,"a",0),2&It&&h.vxM(Fe.object?0:-1)},dependencies:[i.Jj,c.n8,c.md,S.Wk,e.h,e.D9]})}}return Zt})();var dt=n(33063);let Lt=(()=>{class Zt extends vt{constructor(Xt,It,Fe,Xe,gt,Yt,Cn){super(Xt,It,Fe,Xe,gt,Yt),this.injector=Xt,this.router=It,this.notificationsService=Fe,this.translate=Xe,this.searchService=gt,this.requestService=Yt,this.route=Cn}ngOnInit(){super.ngOnInit(),this.initPageRoute()}initPageRoute(){this.subs.push(this.object.workflowitem.pipe((0,M.ak)()).subscribe(Xt=>{this.workflowTaskPageRoute=(0,dt.HJ)(Xt.id)}))}openAdvancedClaimedTaskTab(){const Xt={queryParams:this.getQueryParams()};Object.keys(this.route.snapshot.queryParams).length>0&&(Xt.state={},Xt.state.previousQueryParams=this.route.snapshot.queryParams),this.router.navigate([this.workflowTaskPageRoute],Xt)}getQueryParams(){return{workflow:this.workflowType,claimedTask:this.object.id}}static{this.\u0275fac=function(It){return new(It||Zt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(Ot.S),h.rXU(v.B),h.rXU(S.nX))}}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-advanced-claimed-task-action-abstract"]],standalone:!0,features:[h.Vt3,h.aNF],decls:0,vars:0,template:function(It,Fe){},encapsulation:2})}}return Zt})(),Rt=(()=>{class Zt extends Lt{constructor(Xt,It,Fe,Xe,gt,Yt,Cn){super(Xt,It,Fe,Xe,gt,Yt,Cn),this.injector=Xt,this.router=It,this.notificationsService=Fe,this.translate=Xe,this.searchService=gt,this.requestService=Yt,this.route=Cn,this.workflowType=X}static{this.\u0275fac=function(It){return new(It||Zt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(Ot.S),h.rXU(v.B),h.rXU(S.nX))}}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-advanced-claimed-task-action-rating-reviewer"]],standalone:!0,features:[h.Vt3,h.aNF],decls:5,vars:6,consts:[[1,"ratingReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-star-half-alt"]],template:function(It,Fe){1&It&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.bIt("click",function(){return Fe.openAdvancedClaimedTaskTab()}),h.nrm(2,"i",1),h.EFF(3),h.nI1(4,"translate"),h.k0s()),2&It&&(h.FS9("ngbTooltip",h.bMT(1,2,"submission.workflow.generic."+Fe.option+"-help")),h.R7$(3),h.SpI(" ",h.bMT(4,4,"submission.workflow.generic."+Fe.option),"\n"))},dependencies:[c.n8,c.md,e.h,e.D9]})}}return Zt})();var Sn=n(64537);function $n(Zt,Ii){1&Zt&&(h.nrm(0,"p",3),h.nI1(1,"translate")),2&Zt&&h.Y8G("innerHTML",h.bMT(1,1,"submission.workflow.tasks.claimed.reject_help"),h.npT)}function Di(Zt,Ii){1&Zt&&(h.j41(0,"span"),h.nrm(1,"i",4),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&Zt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function bt(Zt,Ii){1&Zt&&(h.j41(0,"span"),h.nrm(1,"i",5),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&Zt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.claimed.reject.submit"),""))}function _t(Zt,Ii){1&Zt&&(h.j41(0,"span"),h.nrm(1,"i",4),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&Zt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function En(Zt,Ii){1&Zt&&(h.j41(0,"span"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Zt&&(h.R7$(),h.JRh(h.bMT(2,1,"submission.workflow.tasks.claimed.reject.reason.submit")))}function Tn(Zt,Ii){if(1&Zt){const Xt=h.RV6();h.j41(0,"div",6)(1,"h4",7),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.j41(4,"button",8),h.bIt("click",function(){const Fe=h.eBV(Xt).dismiss;return h.Njj(Fe("Cross click"))}),h.k0s()(),h.j41(5,"div",9)(6,"div",10),h.EFF(7),h.nI1(8,"translate"),h.k0s(),h.j41(9,"form",11),h.bIt("ngSubmit",function(){h.eBV(Xt);const Fe=h.XpG();return h.Njj(Fe.submitTask())}),h.nrm(10,"textarea",12),h.nI1(11,"translate"),h.j41(12,"button",13),h.nI1(13,"async"),h.DNE(14,_t,4,3,"span"),h.nI1(15,"async"),h.DNE(16,En,3,3,"span"),h.nI1(17,"async"),h.k0s()()()}if(2&Zt){const Xt=h.XpG();h.R7$(2),h.JRh(h.bMT(3,7,"submission.workflow.tasks.claimed.reject.reason.title")),h.R7$(5),h.SpI(" ",h.bMT(8,9,"submission.workflow.tasks.claimed.reject.reason.info")," "),h.R7$(2),h.Y8G("formGroup",Xt.rejectForm),h.R7$(),h.FS9("placeholder",h.bMT(11,11,"submission.workflow.tasks.claimed.reject.reason.placeholder")),h.R7$(2),h.Y8G("dsBtnDisabled",!Xt.rejectForm.valid||h.bMT(13,13,Xt.processing$)),h.R7$(2),h.vxM(h.bMT(15,15,Xt.processing$)?14:-1),h.R7$(2),h.vxM(!0!==h.bMT(17,17,Xt.processing$)?16:-1)}}let oi=(()=>{class Zt extends vt{constructor(Xt,It,Fe,Xe,gt,Yt,Cn,On){super(Xt,It,Fe,Xe,gt,Yt),this.injector=Xt,this.router=It,this.notificationsService=Fe,this.translate=Xe,this.searchService=gt,this.requestService=Yt,this.formBuilder=Cn,this.modalService=On}ngOnInit(){this.rejectForm=this.formBuilder.group({reason:["",t.k0.required]})}submitTask(){this.modalRef.close("Send Button"),super.submitTask()}createbody(){const Xt=this.rejectForm.get("reason").value;return Object.assign(super.createbody(),{reason:Xt})}openRejectModal(Xt){this.rejectForm.reset(),this.modalRef=this.modalService.open(Xt)}reloadObjectExecution(){return(0,ie.of)(this.object)}convertReloadedObject(Xt){return Object.assign(new Sn.q,Xt,{indexableObject:Xt})}static{this.\u0275fac=function(It){return new(It||Zt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(Ot.S),h.rXU(v.B),h.rXU(t.ze),h.rXU(c.Bq))}}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-claimed-task-actions-reject"]],standalone:!0,features:[h.Vt3,h.aNF],decls:10,vars:11,consts:[["rejectTipContent",""],["rejectModal",""],[3,"click","className","ngbTooltip","dsBtnDisabled"],[3,"innerHTML"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["role","alert",1,"alert","alert-info"],[3,"ngSubmit","formGroup"],["formControlName","reason","rows","4",2,"width","100%",3,"placeholder"],["id","btn-chat","type","submit",1,"btn","btn-danger","btn-lg","btn-block","w-100","mt-3",3,"dsBtnDisabled"]],template:function(It,Fe){if(1&It){const Xe=h.RV6();h.DNE(0,$n,2,3,"ng-template",null,0,h.C5r),h.j41(2,"button",2),h.nI1(3,"async"),h.bIt("click",function(){h.eBV(Xe);const Yt=h.sdS(9);return h.Njj(Fe.openRejectModal(Yt))}),h.DNE(4,Di,4,3,"span"),h.nI1(5,"async"),h.DNE(6,bt,4,3,"span"),h.nI1(7,"async"),h.k0s(),h.DNE(8,Tn,18,19,"ng-template",null,1,h.C5r)}if(2&It){const Xe=h.sdS(1);h.R7$(2),h.Y8G("className","btn btn-danger")("ngbTooltip",Xe)("dsBtnDisabled",h.bMT(3,5,Fe.processing$)),h.R7$(2),h.vxM(h.bMT(5,7,Fe.processing$)?4:-1),h.R7$(2),h.vxM(!0!==h.bMT(7,9,Fe.processing$)?6:-1)}},dependencies:[i.Jj,fe.A,t.YN,t.qT,t.me,t.BC,t.cb,c.n8,c.md,t.X1,t.j4,t.JD,e.h,e.D9]})}}return Zt})();var ai=n(31755);function ns(Zt,Ii){1&Zt&&(h.j41(0,"span"),h.nrm(1,"i",1),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&Zt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function is(Zt,Ii){1&Zt&&(h.j41(0,"span"),h.nrm(1,"i",2),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&Zt&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.claimed.return"),""))}const gn=new Map([["submit_approve",Gt],["submit_decline_task",lt],["submit_edit_metadata",tn],[G,Rt],["submit_reject",oi],["return_to_pool",(()=>{class Zt extends vt{constructor(Xt,It,Fe,Xe,gt,Yt,Cn){super(Xt,It,Fe,Xe,gt,Yt),this.injector=Xt,this.router=It,this.notificationsService=Fe,this.translate=Xe,this.searchService=gt,this.requestService=Yt,this.poolTaskService=Cn}reloadObjectExecution(){return this.poolTaskService.findByItem(this.itemUuid).pipe((0,mt.s)(1))}actionExecution(){return this.objectDataService.returnToPoolTask(this.object.id)}static{this.\u0275fac=function(It){return new(It||Zt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(Ot.S),h.rXU(v.B),h.rXU(ai.PoolTaskDataService))}}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-claimed-task-actions-return-to-pool"]],standalone:!0,features:[h.Vt3,h.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","dsBtnDisabled"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-undo"]],template:function(It,Fe){1&It&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.nI1(2,"async"),h.bIt("click",function(){return Fe.submitTask()}),h.DNE(3,ns,4,3,"span"),h.nI1(4,"async"),h.DNE(5,is,4,3,"span"),h.nI1(6,"async"),h.k0s()),2&It&&(h.FS9("ngbTooltip",h.bMT(1,5,"submission.workflow.tasks.claimed.return_help")),h.Y8G("className","btn btn-secondary")("dsBtnDisabled",h.bMT(2,7,Fe.processing$)),h.R7$(3),h.vxM(h.bMT(4,9,Fe.processing$)?3:-1),h.R7$(2),h.vxM(!0!==h.bMT(6,11,Fe.processing$)?5:-1))},dependencies:[i.Jj,fe.A,c.n8,c.md,e.h,e.D9]})}}return Zt})()],[hn,(()=>{class Zt extends Lt{constructor(Xt,It,Fe,Xe,gt,Yt,Cn){super(Xt,It,Fe,Xe,gt,Yt,Cn),this.injector=Xt,this.router=It,this.notificationsService=Fe,this.translate=Xe,this.searchService=gt,this.requestService=Yt,this.route=Cn,this.workflowType=Un}static{this.\u0275fac=function(It){return new(It||Zt)(h.rXU(h.zZn),h.rXU(S.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU(Ot.S),h.rXU(v.B),h.rXU(S.nX))}}static{this.\u0275cmp=h.VBU({type:Zt,selectors:[["ds-advanced-claimed-task-action-select-reviewer"]],standalone:!0,features:[h.Vt3,h.aNF],decls:5,vars:6,consts:[[1,"selectReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-user"]],template:function(It,Fe){1&It&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.bIt("click",function(){return Fe.openAdvancedClaimedTaskTab()}),h.nrm(2,"i",1),h.EFF(3),h.nI1(4,"translate"),h.k0s()),2&It&&(h.FS9("ngbTooltip",h.bMT(1,2,"submission.workflow.generic."+Fe.option+"-help")),h.R7$(3),h.SpI(" ",h.bMT(4,4,"submission.workflow.generic."+Fe.option),"\n"))},dependencies:[c.n8,c.md,e.h,e.D9]})}}return Zt})()]]),fi=new Map([[X,Q],[Un,Ct]]);function Ai(Zt){return gn.get(Zt)}function xi(Zt){return fi.get(Zt)}},79646:(B,C,n)=>{"use strict";n.d(C,{p:()=>$});var i=n(54438),t=n(84412),c=n(96697),e=n(88141),p=n(3601),m=n(4093),f=n(94314),v=n(74745),E=n(9847),y=n(61206),M=n(15862),b=n(56327),P=n(84821),D=n(80189),I=n(25645),h=n(25580),S=n(17144),O=n(13005),L=n(31755);class T{getConstructor(K){switch(K){case M.q.type:return y.ItemDataService;case P.F.type:return I.WorkspaceitemDataService;case b.t.type:return D.WorkflowItemDataService;case S.T.type:return h.ClaimedTaskDataService;case O.k.type:return L.PoolTaskDataService;default:return}}}var x=n(44043),N=n(7901),j=n(68018);let $=(()=>{class k{constructor(z,V,G,X,Q,ee,ie){this.objectType=z,this.injector=V,this.router=G,this.notificationsService=X,this.translate=Q,this.searchService=ee,this.requestService=ie,this.processCompleted=new i.bkB,this.processing$=new t.t(!1);const te=new T;this.objectDataService=V.get(te.getConstructor(z))}reload(){this.router.navigated=!1,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.invalidateCacheForCurrentSearchUrl(!0)}invalidateCacheForCurrentSearchUrl(z=!1){const V=decodeURIComponent(this.router.url);this.searchService.getEndpoint().pipe((0,c.s)(1),(0,e.M)(G=>this.requestService.removeByHrefSubstring(G))).subscribe(()=>{z&&this.router.navigateByUrl(V)})}refresh(){this.objectDataService.findById(this.object.id,!1).pipe((0,m.yd)()).subscribe(z=>{this.initObjects(z.payload)})}handleActionResponse(z){z?(this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new v.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new v.y(2e4,!0))}static{this.\u0275fac=function(V){return new(V||k)(i.rXU(x.v),i.rXU(i.zZn),i.rXU(N.Ix),i.rXU(E.I),i.rXU(j.c$),i.rXU(f.S),i.rXU(p.B))}}static{this.\u0275cmp=i.VBU({type:k,selectors:[["ds-mydspace-actions-abstract"]],inputs:{object:"object"},outputs:{processCompleted:"processCompleted"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(V,G){},encapsulation:2})}}return k})()},62297:(B,C,n)=>{"use strict";n.d(C,{i:()=>O});var i=n(7673),t=n(96697),c=n(25558),e=n(88141),p=n(96354),m=n(25788),f=n(3601),v=n(4093),E=n(94314),y=n(74745),M=n(9847),b=n(71384),P=n(79646),D=n(54438),I=n(44043),h=n(7901),S=n(68018);let O=(()=>{class L extends P.p{constructor(x,N,j,$,k,K,z){super(x,N,j,$,k,K,z),this.objectType=x,this.injector=N,this.router=j,this.notificationsService=$,this.translate=k,this.searchService=K,this.requestService=z}ngOnInit(){this.initReloadAnchor(),this.initObjects(this.object)}startActionExecution(){return this.processing$.next(!0),this.actionExecution().pipe((0,t.s)(1),(0,c.n)(x=>x.hasSucceeded?this._reloadObject().pipe((0,e.M)(N=>{this.processing$.next(!1),this.handleReloadableActionResponse(x.hasSucceeded,N)})):(this.processing$.next(!1),this.handleReloadableActionResponse(x.hasSucceeded,null),(0,i.of)(null))))}handleReloadableActionResponse(x,N){x?(N?(this.processCompleted.emit({result:x,reloadedObject:N}),this.invalidateCacheForCurrentSearchUrl()):this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new y.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new y.y(2e4,!0))}initReloadAnchor(){}convertReloadedObject(x){const N=(0,b.L)(x.constructor);return Object.assign(new N,x,{indexableObject:x})}_reloadObject(){return this.reloadObjectExecution().pipe((0,c.n)(x=>x instanceof m.j?(0,i.of)(x).pipe((0,v.qD)(),(0,p.T)(N=>N.payload)):(0,i.of)(x))).pipe((0,p.T)(x=>x&&this.convertReloadedObject(x)))}static{this.\u0275fac=function(N){return new(N||L)(D.rXU(I.v),D.rXU(D.zZn),D.rXU(h.Ix),D.rXU(M.I),D.rXU(S.c$),D.rXU(E.S),D.rXU(f.B))}}static{this.\u0275cmp=D.VBU({type:L,selectors:[["ds-mydspace-reloadable-actions"]],standalone:!0,features:[D.Vt3,D.aNF],decls:0,vars:0,template:function(N,j){},encapsulation:2})}}return L})()},195:(B,C,n)=>{"use strict";n.d(C,{L:()=>c,o:()=>t});const t=(0,n(6800).N)("dspace/ngrx/NO_OP_ACTION");class c{constructor(){this.type=t}}},6800:(B,C,n)=>{"use strict";n.d(C,{N:()=>c});const i={};function c(e){if(i[e])throw new Error(`Action type "${e}" is not unique"`);return i[e]=!0,e}},10878:(B,C,n)=>{"use strict";n.d(C,{n:()=>i,p:()=>t});var i=function(c){return c.Fade="fade",c.FromTop="fromTop",c.FromRight="fromRight",c.FromBottom="fromBottom",c.FromLeft="fromLeft",c.Rotate="rotate",c.Scale="scale",c}(i||{}),t=function(c){return c.In="In",c.Out="Out",c}(t||{})},74745:(B,C,n)=>{"use strict";n.d(C,{y:()=>t});var i=n(10878);class t{constructor(e=5e3,p=!0,m=i.n.Scale,f=!0){this.timeOut=e,this.clickToClose=p,this.animate=m,this.announceContentInLiveRegion=f}}},95970:(B,C,n)=>{"use strict";n.d(C,{_:()=>i});var i=function(t){return t.Success="alert-success",t.Error="alert-danger",t.Info="alert-info",t.Warning="alert-warning",t}(i||{})},65112:(B,C,n)=>{"use strict";n.d(C,{z:()=>Tt});var i=n(49969),t=n(60177),c=n(54438),e=n(7673),p=n(71985),m=n(5964),f=n(61594),v=n(2180);const E=(0,i.wk)("fromBottomIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),y=(0,i.kY)("* => fromBottomIn",[(0,i.iF)({opacity:0,transform:"translateY(5%)"}),(0,i.i0)("400ms ease-in-out")]),M=(0,i.wk)("fromBottomOut",(0,i.iF)({opacity:0,transform:"translateY(-5%)"})),b=(0,i.kY)("fromBottomIn => fromBottomOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]),h=((0,i.hZ)("fromBottomIn",[y]),(0,i.hZ)("fromBottomOut",[b]),(0,i.hZ)("fromBottomInOut",[y,b]),(0,i.wk)("fromLeftIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),S=(0,i.kY)("* => fromLeftIn",[(0,i.iF)({opacity:0,transform:"translateX(-5%)"}),(0,i.i0)("400ms ease-in-out")]),O=(0,i.wk)("fromLeftOut",(0,i.iF)({opacity:0,transform:"translateX(5%)"})),L=(0,i.kY)("fromLeftIn => fromLeftOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]),j=((0,i.hZ)("fromLeftIn",[S]),(0,i.hZ)("fromLeftOut",[L]),(0,i.hZ)("fromLeftInOut",[S,L]),(0,i.wk)("fromRightIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),$=(0,i.kY)("* => fromRightIn",[(0,i.iF)({opacity:0,transform:"translateX(5%)"}),(0,i.i0)("400ms ease-in-out")]),k=(0,i.wk)("fromRightOut",(0,i.iF)({opacity:0,transform:"translateX(-5%)"})),K=(0,i.kY)("fromRightIn => fromRightOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromRightIn",[$]),(0,i.hZ)("fromRightOut",[K]),(0,i.hZ)("fromRightInOut",[$,K]);var X=n(68887),Q=n(59713);const ee=(0,i.wk)("scaleIn",(0,i.iF)({opacity:1,transform:"scale(1)"})),ie=(0,i.kY)("* => scaleIn",[(0,i.iF)({opacity:0,transform:"scale(0)"}),(0,i.i0)("400ms ease-in-out")]),te=(0,i.wk)("scaleOut",(0,i.iF)({opacity:0,transform:"scale(0)"})),he=(0,i.kY)("scaleIn => scaleOut",[(0,i.iF)({opacity:1,transform:"scale(1)"}),(0,i.i0)("400ms ease-in-out")]);(0,i.hZ)("scaleIn",[ie]),(0,i.hZ)("scaleOut",[he]),(0,i.hZ)("scaleInOut",[ie,he]);var Z=n(89777),ne=n(10878),fe=n(9847),ae=n(345);const oe=(Ee,je,ft,vn)=>({"fas fa-2x":!0,"fa-check-circle":Ee,"fa-times-circle":je,"fa-exclamation-triangle":ft,"fa-info-circle":vn}),J=Ee=>({width:Ee});function ve(Ee,je){if(1&Ee&&(c.j41(0,"div",1),c.nrm(1,"span",9),c.k0s()),2&Ee){const ft=c.XpG();c.R7$(),c.Y8G("ngStyle",c.eq3(1,J,ft.progressWidth+"%"))}}function _e(Ee,je){if(1&Ee){const ft=c.RV6();c.j41(0,"button",10),c.bIt("click",function(){c.eBV(ft);const hn=c.XpG();return c.Njj(hn.remove())}),c.k0s()}}function Ce(Ee,je){1&Ee&&c.eu8(0)}function qe(Ee,je){if(1&Ee&&(c.j41(0,"div",11),c.DNE(1,Ce,1,0,"ng-container",12),c.k0s()),2&Ee){const ft=c.XpG(2);c.R7$(),c.Y8G("ngTemplateOutlet",ft.title)}}function Re(Ee,je){if(1&Ee&&(c.j41(0,"div",11),c.EFF(1),c.nI1(2,"async"),c.k0s()),2&Ee){const ft=c.XpG(2);c.R7$(),c.JRh(c.bMT(2,1,ft.title))}}function nt(Ee,je){if(1&Ee&&(c.j41(0,"div",8)(1,"strong"),c.DNE(2,qe,2,1,"div",11)(3,Re,3,3,"div",11),c.k0s()()),2&Ee){const ft=c.XpG();c.R7$(2),c.vxM(ft.titleIsTemplate?2:3)}}function Ge(Ee,je){1&Ee&&c.eu8(0)}function at(Ee,je){if(1&Ee&&(c.j41(0,"div",13),c.DNE(1,Ge,1,0,"ng-container",12),c.k0s()),2&Ee){const ft=c.XpG(2);c.R7$(),c.Y8G("ngTemplateOutlet",ft.content)}}function Ke(Ee,je){if(1&Ee&&(c.j41(0,"div",13),c.EFF(1),c.nI1(2,"async"),c.k0s()),2&Ee){const ft=c.XpG(2);c.R7$(),c.JRh(c.bMT(2,1,ft.content))}}function Te(Ee,je){if(1&Ee&&(c.j41(0,"div",8),c.DNE(1,at,2,1,"div",13)(2,Ke,3,3,"div",13),c.k0s()),2&Ee){const ft=c.XpG();c.R7$(),c.vxM(ft.contentIsTemplate?1:2)}}function pt(Ee,je){1&Ee&&c.eu8(0)}function He(Ee,je){if(1&Ee&&(c.j41(0,"div",14),c.DNE(1,pt,1,0,"ng-container",12),c.k0s()),2&Ee){const ft=c.XpG(2);c.R7$(),c.Y8G("ngTemplateOutlet",ft.content)}}function Bt(Ee,je){if(1&Ee&&c.nrm(0,"div",15),2&Ee){const ft=c.XpG(2);c.Y8G("innerHTML",ft.content,c.npT)}}function it(Ee,je){if(1&Ee&&(c.j41(0,"div",8),c.DNE(1,He,2,1,"div",14)(2,Bt,1,1,"div",15),c.k0s()),2&Ee){const ft=c.XpG();c.R7$(),c.vxM(ft.contentIsTemplate?1:2)}}let Tt=(()=>{class Ee{constructor(ft,vn,hn,Un){this.notificationService=ft,this.domSanitizer=vn,this.cdr=hn,this.zone=Un,this.notification=null,this.isPaused$=(0,e.of)(!1),this.showProgressBar=!1,this.titleIsTemplate=!1,this.contentIsTemplate=!1,this.htmlIsTemplate=!1,this.progressWidth=0,this.stopTime=!1,this.count=0,this.instance=()=>{this.diff=(new Date).getTime()-this.start-this.count*this.speed,this.isPaused$.pipe((0,m.p)(Ct=>!Ct),(0,f.$)()).subscribe(()=>{this.count++===this.steps?this.remove():this.stopTime||(this.showProgressBar&&(this.progressWidth+=100/this.steps),this.timer=setTimeout(this.instance,this.speed-this.diff)),this.zone.run(()=>this.cdr.detectChanges())})}}ngOnInit(){this.animate=this.notification.options.animate+ne.p.In,0!==this.notification.options.timeOut&&(this.startTimeOut(),this.showProgressBar=!0),this.html=this.notification.html,this.contentType(this.notification.title,"title"),this.contentType(this.notification.content,"content")}startTimeOut(){this.steps=this.notification.options.timeOut/10,this.speed=this.notification.options.timeOut/this.steps,this.start=(new Date).getTime(),this.zone.runOutsideAngular(()=>this.timer=setTimeout(this.instance,this.speed))}ngOnDestroy(){clearTimeout(this.timer)}remove(){this.animate?(this.setAnimationOut(),setTimeout(()=>{this.notificationService.remove(this.notification)},1e3)):this.notificationService.remove(this.notification)}contentType(ft,vn){if(ft instanceof c.C4Q)this[vn]=ft;else if("title"===vn||"content"===vn&&!this.html){let hn=null;(0,Z.hj)(ft)&&("string"==typeof ft?hn=(0,e.of)(ft):ft instanceof p.c?hn=ft:"object"==typeof ft&&(0,Z.hj)(ft.value)&&(hn=(0,e.of)(ft.value))),this[vn]=hn}else this[vn]=this.domSanitizer.bypassSecurityTrustHtml(ft);this[vn+"IsTemplate"]=ft instanceof c.C4Q}setAnimationOut(){this.animate=this.notification.options.animate+ne.p.Out,this.cdr.detectChanges()}static{this.\u0275fac=function(vn){return new(vn||Ee)(c.rXU(fe.I),c.rXU(ae.up),c.rXU(c.gRc),c.rXU(c.SKi))}}static{this.\u0275cmp=c.VBU({type:Ee,selectors:[["ds-notification"]],inputs:{notification:"notification",isPaused$:"isPaused$"},standalone:!0,features:[c.aNF],decls:11,vars:15,consts:[["role","alert"],[1,"notification-progress-loader","position-absolute","w-100"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","pt-0","pe-1","ps-0","pb-0","mt-1","me-1"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"notification-icon","d-flex","justify-content-center"],[3,"ngClass"],[1,"d-flex","flex-column","justify-content-center","align-content-stretch"],[1,"p-2","me-3"],[1,"h-100","float-start",3,"ngStyle"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","pt-0","pe-1","ps-0","pb-0","mt-1","me-1",3,"click"],[1,"notification-title","ps-1"],[4,"ngTemplateOutlet"],[1,"notification-content","ps-1"],[1,"notification-html","ps-1"],[1,"notification-html","ps-1",3,"innerHTML"]],template:function(vn,hn){1&vn&&(c.j41(0,"div",0),c.DNE(1,ve,2,3,"div",1)(2,_e,1,0,"button",2),c.j41(3,"div",3)(4,"div",4)(5,"div",5),c.nrm(6,"i",6),c.k0s()(),c.j41(7,"div",7),c.DNE(8,nt,4,1,"div",8)(9,Te,3,1,"div",8)(10,it,3,1,"div",8),c.k0s()()()),2&vn&&(c.ZvI("notification alert ",hn.notification.type," alert-dismissible m-3 shadow"),c.Y8G("@enterLeave",hn.animate),c.R7$(),c.vxM(hn.showProgressBar?1:-1),c.R7$(),c.vxM(hn.notification.options.clickToClose?2:-1),c.R7$(4),c.Y8G("ngClass",c.ziG(10,oe,"alert-success"===hn.notification.type,"alert-danger"===hn.notification.type,"alert-warning"===hn.notification.type,"alert-info"===hn.notification.type)),c.R7$(2),c.vxM(hn.title?8:-1),c.R7$(),c.vxM(hn.content&&!hn.html?9:-1),c.R7$(),c.vxM(hn.content&&hn.html?10:-1))},dependencies:[t.Jj,t.YU,t.B3,t.T3],styles:[".notification{display:inline-block;min-width:var(--bs-modal-sm);text-align:left}.btn-close{outline:none!important;opacity:.8}.notification-icon{min-width:3rem}.notification-progress-loader{top:-1px;left:0;height:1px}.alert-success .notification-progress-loader span{background:var(--ds-notification-bg-success)}.alert-danger .notification-progress-loader span{background:var(--ds-notification-bg-danger)}.alert-info .notification-progress-loader span{background:var(--ds-notification-bg-info)}.alert-warning .notification-progress-loader span{background:var(--ds-notification-bg-warning)}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[v.e9,v.HT,v.ai,v.wA,y,E,b,M,$,j,K,k,S,h,L,O,X.iP,X.Wk,X.Py,X.B_,Q.UE,Q.CC,Q.L2,Q.Ru,ee,ie,te,he])]},changeDetection:0})}}return Ee})()},70687:(B,C,n)=>{"use strict";n.d(C,{s:()=>O});var i=n(60177),t=n(59640),c=n(84418),e=n.n(c),p=n(25622),m=n.n(p),f=n(84412),v=n(7673),E=n(96697),y=n(75398),M=n(89777),b=n(50808),P=n(65112),D=n(9847);const I=L=>L.notifications;var h=n(54438);function S(L,T){if(1&L&&h.nrm(0,"ds-notification",1),2&L){const x=T.$implicit,N=h.XpG();h.Y8G("notification",x)("isPaused$",N.isPaused$)}}let O=(()=>{class L{set options(x){this.attachChanges(x)}constructor(x,N,j,$,k){this.service=x,this.store=N,this.cdr=j,this.liveRegionService=$,this.accessibilitySettingsService=k,this.notifications=[],this.position=["bottom","right"],this.maxStack=8,this.rtl=!1,this.animate="fromRight",this.isPaused$=new f.t(!1),this.byId=(K,z)=>K.id===z.id}ngOnInit(){this.sub=this.store.pipe((0,t.Lt)(I)).subscribe(x=>{0===x.length?this.notifications=[]:x.length>this.notifications.length?m()(x,this.notifications,this.byId).forEach(j=>{this.add(j)}):m()(this.notifications,x,this.byId).forEach(j=>{this.notifications=this.notifications.filter($=>$.id!==j.id)}),this.cdr.detectChanges()})}add(x){this.block(x)?this.service.remove(x):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.accessibilitySettingsService.getAsNumber("notificationTimeOut",x.options.timeOut).pipe((0,E.s)(1)).subscribe(j=>{j<0&&(j=0);const $=e()(x);$.options.timeOut=j,this.notifications.splice(0,0,$),this.addContentToLiveRegion($),this.cdr.detectChanges()}))}addContentToLiveRegion(x){let N=x.content;!x.options.announceContentInLiveRegion||(0,M.Tn)(N)||("string"==typeof N&&(N=(0,v.of)(N)),N.pipe((0,M.VT)(),(0,E.s)(1)).subscribe(j=>this.liveRegionService.addMessage(j)))}block(x){const N=x.html?this.checkHtml:this.checkStandard;return this.notifications.forEach(j=>{if(N(j,x))return!0}),!1}checkStandard(x,N){return x.type===N.type&&x.title===N.title&&x.content===N.content}checkHtml(x,N){return!!x.html&&x.type===N.type&&x.title===N.title&&x.content===N.content&&x.html===N.html}attachChanges(x){Object.keys(x).forEach(N=>{this.hasOwnProperty(N)&&(this[N]=x[N])})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(N){return new(N||L)(h.rXU(D.I),h.rXU(t.il),h.rXU(h.gRc),h.rXU(b.A),h.rXU(y.jJ))}}static{this.\u0275cmp=h.VBU({type:L,selectors:[["ds-notifications-board"]],inputs:{options:"options"},standalone:!0,features:[h.aNF],decls:3,vars:1,consts:[[1,"notifications-wrapper","position-fixed",3,"mouseenter","mouseleave","ngClass"],[1,"notification",3,"notification","isPaused$"]],template:function(N,j){1&N&&(h.j41(0,"div",0),h.bIt("mouseenter",function(){return j.isPaused$.next(!0)})("mouseleave",function(){return j.isPaused$.next(!1)}),h.Z7z(1,S,1,2,"ds-notification",1,h.fX1),h.k0s()),2&N&&(h.Y8G("ngClass",j.position),h.R7$(),h.Dyx(j.notifications))},dependencies:[i.YU,P.z],styles:[".notifications-wrapper{z-index:var(--bs-zindex-popover);text-align:right;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;hyphens:auto}.notifications-wrapper .notification{display:block}.notifications-wrapper.left{left:0}.notifications-wrapper.top{top:0}.notifications-wrapper.right{right:0}.notifications-wrapper.bottom{bottom:0}.notifications-wrapper.center{left:50%;transform:translate(-50%)}.notifications-wrapper.middle{top:50%;transform:translateY(-50%)}.notifications-wrapper.middle.center{transform:translate(-50%,-50%)}@media screen and (max-width: 576px){.notifications-wrapper{width:auto;left:0;right:0}}\n"],encapsulation:2,changeDetection:0})}}return L})()},37688:(B,C,n)=>{"use strict";n.d(C,{Is:()=>t,Sc:()=>c,e0:()=>p,o4:()=>e});var i=n(6800);const t={NEW_NOTIFICATION:(0,i.N)("dspace/notifications/NEW_NOTIFICATION"),REMOVE_ALL_NOTIFICATIONS:(0,i.N)("dspace/notifications/REMOVE_ALL_NOTIFICATIONS"),REMOVE_NOTIFICATION:(0,i.N)("dspace/notifications/REMOVE_NOTIFICATION")};class c{constructor(f){this.type=t.NEW_NOTIFICATION,this.payload=f}}class e{constructor(f){this.payload=f,this.type=t.REMOVE_ALL_NOTIFICATIONS}}class p{constructor(f){this.type=t.REMOVE_NOTIFICATION,this.payload=f}}},9847:(B,C,n)=>{"use strict";n.d(C,{I:()=>D});var i=n(59519),t=n.n(i),c=n(7673),e=n(61594),p=n(78544),m=n(89777),f=n(74745);class v{constructor(h,S,O,L,T,x){this.id=h,this.type=S,this.title=O,this.content=L,this.options=(0,m.Im)(T)?new f.y:T,this.html=x}}var E=n(95970),y=n(37688),M=n(54438),b=n(59640),P=n(68018);let D=(()=>{class I{constructor(S,O){this.store=S,this.translate=O}add(S){const O=new y.Sc(S);this.store.dispatch(O)}success(S=(0,c.of)(""),O=(0,c.of)(""),L={},T=!1){const x={...this.getDefaultOptions(),...L},N=new v(t()(),E._.Success,S,O,x,T);return this.add(N),N}error(S=(0,c.of)(""),O=(0,c.of)(""),L={},T=!1){const x={...this.getDefaultOptions(),...L},N=new v(t()(),E._.Error,S,O,x,T);return this.add(N),N}info(S=(0,c.of)(""),O=(0,c.of)(""),L={},T=!1){const x={...this.getDefaultOptions(),...L},N=new v(t()(),E._.Info,S,O,x,T);return this.add(N),N}warning(S=(0,c.of)(""),O=(0,c.of)(""),L=this.getDefaultOptions(),T=!1){const x={...this.getDefaultOptions(),...L},N=new v(t()(),E._.Warning,S,O,x,T);return this.add(N),N}notificationWithAnchor(S,O,L,T,x,N){this.translate.get(T).pipe((0,e.$)()).subscribe(j=>{const $=`<a class="align-baseline btn btn-link p-0 m-0" href="${L}" >\n                        <strong>${j}</strong>\n                      </a>`,k=Object.create({});k[N]=$,this.translate.get(x,k).pipe((0,e.$)()).subscribe(K=>{switch(S){case E._.Success:this.success(null,K,O,!0);break;case E._.Error:this.error(null,K,O,!0);break;case E._.Info:this.info(null,K,O,!0);break;case E._.Warning:this.warning(null,K,O,!0)}})})}remove(S){const O=new y.e0(S.id);this.store.dispatch(O)}removeAll(){const S=new y.o4;this.store.dispatch(S)}getDefaultOptions(){return new f.y(p.c.notifications.timeOut,p.c.notifications.clickToClose,p.c.notifications.animate)}static{this.\u0275fac=function(O){return new(O||I)(M.KVO(b.il),M.KVO(P.c$))}}static{this.\u0275prov=M.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},79669:(B,C,n)=>{"use strict";n.d(C,{n:()=>i});var i=function(t){return t[t.None=0]="None",t[t.Link=1]="Link",t[t.ExternalLink=2]="ExternalLink",t}(i||{})},52186:(B,C,n)=>{"use strict";n.d(C,{h:()=>fn});var i=n(60177),t=n(54438),c=n(96354),e=n(23294),f=(n(70998),n(25788),n(40940)),v=n(19192),E=n(89777),y=n(68018),M=n(2180),b=n(14744),P=n(15202),D=n(79669),I=n(8447),h=n(2175);function S(At,tn){if(1&At){const dt=t.RV6();t.j41(0,"div",3)(1,"ds-listable-object-component-loader",4),t.bIt("contentChange",function(Rt){t.eBV(dt);const Sn=t.XpG(2);return t.Njj(Sn.contentChange.emit(Rt))}),t.k0s()()}if(2&At){const dt=tn.$implicit,Lt=t.XpG(2);t.R7$(),t.Y8G("object",dt)("viewMode",Lt.viewMode)("context",Lt.context)("showThumbnails",Lt.showThumbnails)}}function O(At,tn){if(1&At&&(t.j41(0,"div",1),t.Z7z(1,S,2,4,"div",3,t.fX1),t.k0s()),2&At){const dt=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Dyx(null==dt.objects||null==dt.objects.payload?null:dt.objects.payload.page)}}function L(At,tn){1&At&&(t.nrm(0,"ds-error",2),t.nI1(1,"translate")),2&At&&t.FS9("message",t.bMT(1,1,"error.objects"))}function T(At,tn){1&At&&(t.nrm(0,"ds-loading",2),t.nI1(1,"translate")),2&At&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let x=(()=>{class At{constructor(){this.viewMode=v.n.DetailedListElement,this.hideGear=!0,this.hidePagerWhenSinglePage=!0,this.showPaginator=!0,this.showRSS=!1,this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.hidePaginationDetail=!0,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB}set objects(dt){this._objects=dt}get objects(){return this._objects}onPageChange(dt){this.pageChange.emit(dt)}onPageSizeChange(dt){this.pageSizeChange.emit(dt)}onSortDirectionChange(dt){this.sortDirectionChange.emit(dt)}onSortFieldChange(dt){this.sortFieldChange.emit(dt)}onPaginationChange(dt){this.paginationChange.emit(dt)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(Lt){return new(Lt||At)}}static{this.\u0275cmp=t.VBU({type:At,selectors:[["ds-object-detail"]],inputs:{config:"config",sortConfig:"sortConfig",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",showPaginator:"showPaginator",showThumbnails:"showThumbnails",showRSS:"showRSS",objects:"objects",hidePaginationDetail:"hidePaginationDetail"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.aNF],decls:4,vars:12,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","objects","hideGear","showRSS","hidePaginationDetail","hidePagerWhenSinglePage","showPaginator"],[1,"row","mt-2"],[3,"message"],[1,"col"],[3,"contentChange","object","viewMode","context","showThumbnails"]],template:function(Lt,Rt){1&Lt&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function($n){return Rt.onPageChange($n)})("pageSizeChange",function($n){return Rt.onPageSizeChange($n)})("sortDirectionChange",function($n){return Rt.onSortDirectionChange($n)})("sortFieldChange",function($n){return Rt.onSortFieldChange($n)})("paginationChange",function($n){return Rt.onPaginationChange($n)})("prev",function(){return Rt.goPrev()})("next",function(){return Rt.goNext()}),t.DNE(1,O,3,1,"div",1)(2,L,2,3,"ds-error",2)(3,T,2,3,"ds-loading",2),t.k0s()),2&Lt&&(t.Y8G("paginationOptions",Rt.config)("collectionSize",null==Rt.objects||null==Rt.objects.payload?null:Rt.objects.payload.totalElements)("sortOptions",Rt.sortConfig)("objects",Rt.objects)("hideGear",Rt.hideGear)("showRSS",Rt.showRSS)("hidePaginationDetail",Rt.hidePaginationDetail)("hidePagerWhenSinglePage",Rt.hidePagerWhenSinglePage)("showPaginator",Rt.showPaginator),t.R7$(),t.vxM(null!=Rt.objects&&Rt.objects.hasSucceeded?1:-1),t.R7$(),t.vxM(Rt.objects.hasFailed?2:-1),t.R7$(),t.vxM(Rt.objects.isLoading?3:-1))},dependencies:[b.A,I.v,h.e,P.v,y.h,y.D9],styles:["[_nghost-%COMP%]  div.thumbnail>img{height:var(--ds-card-thumbnail-height);width:100%}"],data:{animation:[M.qG]}})}}return At})();var N=n(84412),j=n(84572),$=n(99172),k=n(50842),K=n(33745);function z(At,tn){if(1&At&&(t.j41(0,"div",4),t.nI1(1,"dsBrowserOnly"),t.nrm(2,"ds-listable-object-component-loader",5),t.k0s()),2&At){const dt=tn.$implicit,Lt=t.XpG(3);t.BMQ("data-test",t.bMT(1,6,"grid-object")),t.R7$(2),t.Y8G("object",dt)("viewMode",Lt.viewMode)("context",Lt.context)("showThumbnails",Lt.showThumbnails)("linkType",Lt.linkType)}}function V(At,tn){if(1&At&&(t.j41(0,"div",3),t.Z7z(1,z,3,8,"div",4,t.fX1),t.k0s()),2&At){const dt=tn.$implicit;t.Y8G("@fadeIn",void 0),t.R7$(),t.Dyx(dt)}}function G(At,tn){if(1&At&&(t.j41(0,"div",1),t.Z7z(1,V,3,1,"div",3,t.fX1),t.nI1(3,"async"),t.k0s()),2&At){const dt=t.XpG();t.R7$(),t.Dyx(t.bMT(3,0,dt.columns$))}}function X(At,tn){1&At&&(t.nrm(0,"ds-error",2),t.nI1(1,"translate")),2&At&&t.FS9("message",t.bMT(1,1,"error.objects"))}function Q(At,tn){1&At&&(t.nrm(0,"ds-loading",2),t.nI1(1,"translate")),2&At&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let ee=(()=>{class At{set objects(dt){this._objects$.next(dt)}get objects(){return this._objects$.getValue()}constructor(dt){this.hostWindow=dt,this.viewMode=v.n.GridElement,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.data={},this._objects$=new N.t(void 0)}ngOnInit(){const dt=this.hostWindow.widthCategory.pipe((0,c.T)(Lt=>{switch(Lt){case k.tP.XL:case k.tP.LG:return 3;case k.tP.MD:case k.tP.SM:return 2;default:return 1}}),(0,e.F)()).pipe((0,$.Z)(3));this.columns$=(0,j.z)(dt,this._objects$).pipe((0,c.T)(([Lt,Rt])=>{if((0,E.a4)(Rt)&&(0,E.a4)(Rt.payload)&&(0,E.a4)(Rt.payload.page)){const $n=[];return Rt.payload.page.forEach((Di,bt)=>{const _t=bt%Lt;let En=$n[_t];(0,E.Tn)(En)&&(En=[]),$n[_t]=[...En,Di]}),$n}return[]}))}onPageChange(dt){this.pageChange.emit(dt)}onPageSizeChange(dt){this.pageSizeChange.emit(dt)}onSortDirectionChange(dt){this.sortDirectionChange.emit(dt)}onSortFieldChange(dt){this.sortFieldChange.emit(dt)}onPaginationChange(dt){this.paginationChange.emit(dt)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(Lt){return new(Lt||At)(t.rXU(k.CV))}}static{this.\u0275cmp=t.VBU({type:At,selectors:[["ds-object-grid"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:4,vars:11,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],[1,"card-columns","row"],[3,"message"],[1,"card-column","col","col-sm-6","col-lg-4"],[1,"card-element"],[3,"object","viewMode","context","showThumbnails","linkType"]],template:function(Lt,Rt){1&Lt&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function($n){return Rt.onPageChange($n)})("pageSizeChange",function($n){return Rt.onPageSizeChange($n)})("sortDirectionChange",function($n){return Rt.onSortDirectionChange($n)})("sortFieldChange",function($n){return Rt.onSortFieldChange($n)})("paginationChange",function($n){return Rt.onPaginationChange($n)})("prev",function(){return Rt.goPrev()})("next",function(){return Rt.goNext()}),t.DNE(1,G,4,2,"div",1)(2,X,2,3,"ds-error",2)(3,Q,2,3,"ds-loading",2),t.k0s()),2&Lt&&(t.Y8G("paginationOptions",Rt.config)("collectionSize",null==Rt.objects||null==Rt.objects.payload?null:Rt.objects.payload.totalElements)("sortOptions",Rt.sortConfig)("hideGear",Rt.hideGear)("objects",Rt.objects)("hidePagerWhenSinglePage",Rt.hidePagerWhenSinglePage)("hidePaginationDetail",Rt.hidePaginationDetail)("showPaginator",Rt.showPaginator),t.R7$(),t.vxM(null!=Rt.objects&&Rt.objects.hasSucceeded?1:-1),t.R7$(),t.vxM(Rt.objects.hasFailed?2:-1),t.R7$(),t.vxM(Rt.objects.isLoading?3:-1))},dependencies:[i.Jj,K.L,b.A,I.v,h.e,P.v,y.h,y.D9],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     div.card{margin-top:var(--ds-wrapper-grid-spacing);margin-bottom:var(--ds-wrapper-grid-spacing)}[_nghost-%COMP%]     div.card div.thumbnail>.thumbnail-content{height:var(--ds-card-thumbnail-height);width:100%;display:block;min-width:100%;min-height:100%;object-fit:cover;object-position:50% 15%}.card-columns[_ngcontent-%COMP%]{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}.card-columns[_ngcontent-%COMP%]   .card-column[_ngcontent-%COMP%]{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"],data:{animation:[M.qG]}})}}return At})();var ie=n(29710);n(86296);const he=["*"];function ye(At,tn){}let re=(()=>{class At extends ie.J{constructor(){super(...arguments),this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.importObject=new t.bkB,this.sortFieldChange=new t.bkB,this.inAndOutputNames=["config","sortConfig","hasBorder","hideGear","showRSS","hidePagerWhenSinglePage","selectable","selectionConfig","linkType","context","hidePaginationDetail","importable","importConfig","showPaginator","showThumbnails","contentChange","prev","next","objects","change","pageChange","pageSizeChange","sortDirectionChange","paginationChange","deselectObject","selectObject","importObject","sortFieldChange"]}getComponentName(){return"ObjectListComponent"}importThemedComponent(dt){return n(8894)(`./${dt}/app/shared/object-list/object-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,86296))}static{this.\u0275fac=(()=>{let dt;return function(Rt){return(dt||(dt=t.xGo(At)))(Rt||At)}})()}static{this.\u0275cmp=t.VBU({type:At,selectors:[["ds-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",showRSS:"showRSS",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:he,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(Lt,Rt){1&Lt&&(t.NAR(),t.DNE(0,ye,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return At})();var ce=n(7673),Z=n(96697),fe=(n(58956),n(73838)),ae=n(7901),oe=n(82584),J=n(50553);let ve=(()=>{class At{constructor(){this.showLabel=!0,this.reloadedObject=new t.bkB,this.linkTypes=D.n,this.viewModes=v.n,this.contexts=f.o}static{this.\u0275fac=function(Lt){return new(Lt||At)}}static{this.\u0275cmp=t.VBU({type:At,selectors:[["ds-objects-collection-tabulatable"]],inputs:{objects:"objects",linkType:"linkType",listID:"listID",value:"value",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(Lt,Rt){},encapsulation:2})}}return At})(),_e=(()=>{class At extends ve{static{this.\u0275fac=(()=>{let dt;return function(Rt){return(dt||(dt=t.xGo(At)))(Rt||At)}})()}static{this.\u0275cmp=t.VBU({type:At,selectors:[["ds-search-result-table-element"]],standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(Lt,Rt){},encapsulation:2})}}return At})();var Ce=n(24100),qe=n(25713),Re=n(45615),Ge=(n(12560),n(58003));const at=At=>({default:At});function Ke(At,tn){if(1&At&&(t.j41(0,"div")(1,"div",7)(2,"div",8),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",9),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()),2&At){let dt;const Lt=tn.$implicit,Rt=t.XpG();t.R7$(3),t.JRh(t.bMT(4,2,Lt+".notify-detail-modal")),t.R7$(3),t.JRh(t.i5U(7,4,"notify-detail-modal."+Rt.notifyMessage[Lt],t.eq3(7,at,null!==(dt=Rt.notifyMessage[Lt])&&void 0!==dt?dt:"n/a")))}}function Te(At,tn){if(1&At&&t.nrm(0,"pre",6),2&At){const dt=t.XpG();t.Y8G("@fadeIn",void 0)("innerHTML",dt.notifyMessage.message,t.npT)}}let pt=(()=>{class At{constructor(dt,Lt){this.activeModal=dt,this.translationsService=Lt,this.response=new t.bkB,this.isCoarMessageVisible=!1,this.translationsService.missingTranslationHandler=new Re.M}closeModal(){this.activeModal.close(),this.response.emit(!0)}toggleCoarMessage(){this.isCoarMessageVisible=!this.isCoarMessageVisible}static{this.\u0275fac=function(Lt){return new(Lt||At)(t.rXU(Ge.Lw),t.rXU(y.c$))}}static{this.\u0275cmp=t.VBU({type:At,selectors:[["ds-admin-notify-detail-modal"]],inputs:{notifyMessage:"notifyMessage",notifyMessageKeys:"notifyMessageKeys"},outputs:{response:"response"},standalone:!0,features:[t.aNF],decls:13,vars:7,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],[1,"d-flex","justify-content-end"],[1,"btn-primary",3,"click"],[1,"bg-secondary","text-white","mt-2","p-2",3,"innerHTML"],[1,"row","mb-4"],[1,"fw-bold","col"],[1,"col","text-end"]],template:function(Lt,Rt){1&Lt&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return Rt.activeModal.dismiss("Cross click")}),t.k0s()(),t.j41(5,"div",3),t.Z7z(6,Ke,8,9,"div",null,t.fX1),t.j41(8,"div",4)(9,"button",5),t.bIt("click",function(){return Rt.toggleCoarMessage()}),t.EFF(10),t.nI1(11,"translate"),t.k0s()(),t.DNE(12,Te,1,2,"pre",6),t.k0s()),2&Lt&&(t.R7$(2),t.JRh(t.bMT(3,3,"notify-message-modal.title")),t.R7$(4),t.Dyx(Rt.notifyMessageKeys),t.R7$(4),t.SpI(" ",t.bMT(11,5,"notify-message-modal.show-message")," "),t.R7$(2),t.vxM(Rt.isCoarMessageVisible?12:-1))},dependencies:[y.h,y.D9],encapsulation:2,data:{animation:[M.qG]}})}}return At})();var He=n(12673);function Bt(At,tn){if(1&At&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&At){const dt=t.XpG().$implicit;t.R7$(),t.JRh(t.i5U(2,1,dt.queueLastStartTime,"YYYY/MM/d hh:mm:ss"))}}function it(At,tn){1&At&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function Tt(At,tn){if(1&At&&(t.j41(0,"a",6),t.EFF(1),t.k0s()),2&At){const dt=t.XpG().$implicit;t.Y8G("routerLink","/items/"+(dt.context||dt.object)),t.R7$(),t.JRh(dt.relatedItem)}}function Ee(At,tn){1&At&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function je(At,tn){if(1&At&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&At){const dt=t.XpG().$implicit;t.R7$(),t.JRh(dt.ldnService)}}function ft(At,tn){1&At&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function vn(At,tn){if(1&At){const dt=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){t.eBV(dt);const Rt=t.XpG().$implicit,Sn=t.XpG();return t.Njj(Sn.reprocessMessage(Rt))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&At&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"notify-message-result.reprocess")," "))}function hn(At,tn){if(1&At){const dt=t.RV6();t.j41(0,"tr")(1,"td",2),t.DNE(2,Bt,3,4,"div")(3,it,2,0,"div"),t.k0s(),t.j41(4,"td")(5,"ds-truncatable",4)(6,"ds-truncatable-part",5),t.DNE(7,Tt,2,2,"a",6),t.k0s()(),t.DNE(8,Ee,2,0,"div"),t.k0s(),t.j41(9,"td"),t.DNE(10,je,2,1,"div")(11,ft,2,0,"div"),t.k0s(),t.j41(12,"td")(13,"div"),t.EFF(14),t.k0s()(),t.j41(15,"td")(16,"div",2),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.j41(19,"td")(20,"div",7)(21,"button",8),t.bIt("click",function(){const Rt=t.eBV(dt).$implicit,Sn=t.XpG();return t.Njj(Sn.openDetailModal(Rt))}),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.DNE(24,vn,3,3,"button",9),t.k0s()()()}if(2&At){const dt=tn.$implicit,Lt=t.XpG();t.R7$(2),t.vxM(dt.queueLastStartTime?2:-1),t.R7$(),t.vxM(dt.queueLastStartTime?-1:3),t.R7$(2),t.Y8G("id",dt.id),t.R7$(),t.Y8G("id",dt.id)("minLines",2),t.R7$(),t.vxM(dt.relatedItem?7:-1),t.R7$(),t.vxM(dt.relatedItem?-1:8),t.R7$(2),t.vxM(dt.ldnService?10:-1),t.R7$(),t.vxM(dt.ldnService?-1:11),t.R7$(3),t.JRh(dt.activityStreamType),t.R7$(3),t.JRh(t.bMT(18,13,"notify-detail-modal."+dt.queueStatusLabel)),t.R7$(5),t.JRh(t.bMT(23,15,"notify-message-result.detail")),t.R7$(2),t.vxM(dt.queueStatusLabel!==Lt.reprocessStatus&&Lt.validStatusesForReprocess.includes(dt.queueStatusLabel)?24:-1)}}let Un=(()=>{class At extends _e{constructor(dt,Lt,Rt,Sn){super(),this.modalService=dt,this.adminNotifyMessagesService=Lt,this.datePipe=Rt,this.searchConfigService=Sn,this.messagesSubject$=new N.t([]),this.reprocessStatus="QUEUE_STATUS_QUEUED_FOR_RETRY",this.validStatusesForReprocess=["QUEUE_STATUS_UNTRUSTED","QUEUE_STATUS_UNTRUSTED_IP","QUEUE_STATUS_FAILED","QUEUE_STATUS_UNMAPPED_ACTION"],this.subs=[],this.dateTypeKeys=["queueLastStartTime","queueTimeout"],this.messageKeys=["type","id","coarNotifyType","activityStreamType","inReplyTo","queueAttempts","queueLastStartTime","queueStatusLabel","queueTimeout"],this.dateFormat="YYYY/MM/d hh:mm:ss"}ngOnInit(){this.mapDetailsToMessages(),this.subs.push(this.searchConfigService.getCurrentConfiguration("").subscribe(dt=>{this.isInbound=dt.startsWith("NOTIFY.incoming")}))}ngOnDestroy(){this.subs.forEach(dt=>dt.unsubscribe())}openDetailModal(dt){const Lt=this.modalService.open(pt),Rt={...dt};this.messageKeys.forEach(Sn=>{this.dateTypeKeys.includes(Sn)&&(Rt[Sn]=this.datePipe.transform(Rt[Sn],this.dateFormat))}),Rt.message=JSON.stringify(JSON.parse(dt.message),null,2),Lt.componentInstance.notifyMessage=Rt,Lt.componentInstance.notifyMessageKeys=this.messageKeys}reprocessMessage(dt){this.subs.push(this.adminNotifyMessagesService.reprocessMessage(dt,this.messagesSubject$).subscribe(Lt=>{this.messagesSubject$.next(Lt)}))}mapDetailsToMessages(){this.subs.push(this.adminNotifyMessagesService.getDetailedMessages(this.objects?.page.map(dt=>dt.indexableObject)).subscribe(dt=>{this.messagesSubject$.next(dt)}))}static{this.\u0275fac=function(Lt){return new(Lt||At)(t.rXU(Ge.Bq),t.rXU(He.AdminNotifyMessagesService),t.rXU(i.vh),t.rXU(J.EN))}}static{this.\u0275cmp=t.VBU({type:At,selectors:[["ds-admin-notify-search-result"]],standalone:!0,features:[t.Jv_([i.vh,{provide:J.EN,useClass:oe.g}]),t.Vt3,t.aNF],decls:26,vars:20,consts:[[1,"table-responsive","mt-2"],[1,"table","table-striped","table-hover"],[1,"text-nowrap"],["scope","col"],[3,"id"],[3,"id","minLines"],[3,"routerLink"],[1,"d-flex","flex-column"],[1,"btn","mb-2","btn-dark",3,"click"],[1,"btn","btn-warning"],[1,"btn","btn-warning",3,"click"]],template:function(Lt,Rt){1&Lt&&(t.j41(0,"div",0)(1,"table",1)(2,"thead")(3,"tr",2)(4,"th",3),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"th",3),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"th",3),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"th",3),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"th",3),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"th",3),t.EFF(20),t.nI1(21,"translate"),t.k0s()()(),t.j41(22,"tbody"),t.Z7z(23,hn,25,17,"tr",null,t.fX1),t.nI1(25,"async"),t.k0s()()()),2&Lt&&(t.R7$(5),t.JRh(t.bMT(6,6,"notify-message-result.timestamp")),t.R7$(3),t.JRh(t.bMT(9,8,"notify-message-result.repositoryItem")),t.R7$(3),t.JRh(t.bMT(12,10,"notify-message-result.ldnService")),t.R7$(3),t.JRh(t.bMT(15,12,"notify-message-result.type")),t.R7$(3),t.JRh(t.bMT(18,14,"notify-message-result.status")),t.R7$(3),t.JRh(t.bMT(21,16,"notify-message-result.action")),t.R7$(3),t.Dyx(t.bMT(25,18,Rt.messagesSubject$)))},dependencies:[i.Jj,i.vh,ae.Wk,y.h,y.D9,Ce.d,qe.W],encapsulation:2})}}return At})();var Ct=n(74831),Ot=n(21193);const wt=new Map([[Ct.o,new Map([[v.n.Table,new Map([[f.o.CoarNotify,new Map([[Ot.SS,Un]])]])]])]]);let ln=(()=>{class At{constructor(dt){this.viewContainerRef=dt}static{this.\u0275fac=function(Lt){return new(Lt||At)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:At,selectors:[["","dsTabulatableObjects",""]],standalone:!0})}}return At})();function we(At,tn){}let Et=(()=>{class At{constructor(dt,Lt){this.cdr=dt,this.themeService=Lt,this.showLabel=!0,this.contentChange=new t.bkB,this.subs=[],this.viewMode=v.n.Table,this.inAndOutputNames=["objects","linkType","listID","showLabel","showThumbnails","context","viewMode","value","hideBadges","contentChange"]}ngOnInit(){this.instantiateComponent(this.objects)}ngOnChanges(dt){(0,E.Tn)(this.compRef)?this.instantiateComponent(this.objects,dt):this.inAndOutputNames.some(Lt=>(0,E.a4)(dt[Lt]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(dt))}ngOnDestroy(){this.subs.filter(dt=>(0,E.a4)(dt)).forEach(dt=>dt.unsubscribe())}instantiateComponent(dt,Lt){const Rt=this.getComponent(dt?.page[0]?.getRenderTypes(),this.viewMode,this.context),Sn=this.tabulatableObjectsDirective.viewContainerRef;Sn.clear(),this.compRef=Sn.createComponent(Rt,{index:0,injector:void 0}),(0,E.a4)(Lt)?this.ngOnChanges(Lt):this.connectInputsAndOutputs(),this.compRef.instance.reloadedObject&&(0,j.z)([(0,ce.of)(Lt),this.compRef.instance.reloadedObject.pipe((0,Z.s)(1))]).subscribe(([$n,Di])=>{Di&&(this.compRef.destroy(),this.objects=Di,this.instantiateComponent(Di,$n),this.cdr.detectChanges(),this.contentChange.emit(Di))})}getComponent(dt,Lt,Rt){return function mt(At,tn,dt=Ot.A2,Lt=Ot.SS){let Rt=null;for(const Sn of At){const $n=wt.get(Sn);if((0,E.a4)($n)){const Di=(0,Ot.mo)($n,[tn,dt,Lt],[Ot.e8,Ot.A2,Ot.SS]);((0,E.Tn)(Rt)||Rt.isLessRelevantThan(Di))&&(Rt=Di)}}return(0,E.a4)(Rt)?Rt.match:null}(dt,Lt,Rt,this.themeService.getThemeName())}connectInputsAndOutputs(){(0,E.hj)(this.inAndOutputNames)&&(0,E.a4)(this.compRef)&&(0,E.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(dt=>void 0!==this[dt]).forEach(dt=>{this.compRef.instance[dt]=this[dt]})}static{this.\u0275fac=function(Lt){return new(Lt||At)(t.rXU(t.gRc),t.rXU(fe.Fs))}}static{this.\u0275cmp=t.VBU({type:At,selectors:[["ds-tabulatable-objects-loader"]],viewQuery:function(Lt,Rt){if(1&Lt&&t.GBs(ln,7),2&Lt){let Sn;t.mGM(Sn=t.lsd())&&(Rt.tabulatableObjectsDirective=Sn.first)}},inputs:{objects:"objects",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:0,consts:[["dsTabulatableObjects",""]],template:function(Lt,Rt){1&Lt&&t.DNE(0,we,0,0,"ng-template",0)},dependencies:[ln],encapsulation:2})}}return At})();function kt(At,tn){if(1&At&&(t.j41(0,"div")(1,"div"),t.nrm(2,"ds-tabulatable-objects-loader",2),t.k0s()()),2&At){const dt=t.XpG();t.R7$(),t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("objects",dt.objects.payload)("context",dt.context)("showThumbnails",dt.showThumbnails)("linkType",dt.linkType)}}function vt(At,tn){1&At&&(t.nrm(0,"ds-error",1),t.nI1(1,"translate")),2&At&&t.FS9("message",t.bMT(1,1,"error.objects"))}function Jt(At,tn){1&At&&(t.nrm(0,"ds-loading",1),t.nI1(1,"translate")),2&At&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let sn=(()=>{class At{set objects(dt){this._objects$.next(dt)}get objects(){return this._objects$.getValue()}constructor(){this.viewMode=v.n.Table,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.data={},this._objects$=new N.t(void 0)}onPageChange(dt){this.pageChange.emit(dt)}onPageSizeChange(dt){this.pageSizeChange.emit(dt)}onSortDirectionChange(dt){this.sortDirectionChange.emit(dt)}onSortFieldChange(dt){this.sortFieldChange.emit(dt)}onPaginationChange(dt){this.paginationChange.emit(dt)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(Lt){return new(Lt||At)}}static{this.\u0275cmp=t.VBU({type:At,selectors:[["ds-object-table"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:4,vars:12,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator","retainScrollPosition"],[3,"message"],[3,"objects","context","showThumbnails","linkType"]],template:function(Lt,Rt){1&Lt&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function($n){return Rt.onPageChange($n)})("pageSizeChange",function($n){return Rt.onPageSizeChange($n)})("sortDirectionChange",function($n){return Rt.onSortDirectionChange($n)})("sortFieldChange",function($n){return Rt.onSortFieldChange($n)})("paginationChange",function($n){return Rt.onPaginationChange($n)})("prev",function(){return Rt.goPrev()})("next",function(){return Rt.goNext()}),t.DNE(1,kt,3,5,"div")(2,vt,2,3,"ds-error",1)(3,Jt,2,3,"ds-loading",1),t.k0s()),2&Lt&&(t.Y8G("paginationOptions",Rt.config)("collectionSize",null==Rt.objects||null==Rt.objects.payload?null:Rt.objects.payload.totalElements)("sortOptions",Rt.sortConfig)("hideGear",Rt.hideGear)("objects",Rt.objects)("hidePagerWhenSinglePage",Rt.hidePagerWhenSinglePage)("hidePaginationDetail",Rt.hidePaginationDetail)("showPaginator",Rt.showPaginator)("retainScrollPosition",!0),t.R7$(),t.vxM(null!=Rt.objects&&Rt.objects.hasSucceeded?1:-1),t.R7$(),t.vxM(null!=Rt.objects&&Rt.objects.hasFailed?2:-1),t.R7$(),t.vxM(null!=Rt.objects&&Rt.objects.isLoading?3:-1))},dependencies:[b.A,h.e,Et,P.v,y.h,y.D9],data:{animation:[M.qG]}})}}return At})();var zt=n(93446);const Gt=()=>[Promise.all([n.e(958),n.e(5563)]).then(n.bind(n,45563)).then(At=>At.ObjectGeospatialMapComponent)];function Je(At,tn){if(1&At&&t.nrm(0,"ds-object-geospatial-map",3),2&At){const dt=t.XpG(2);t.Y8G("objects",dt.objects)}}function ke(At,tn){1&At&&(t.DNE(0,Je,1,1),t.nv$(1,0,Gt),t.g25())}function Le(At,tn){if(1&At){const dt=t.RV6();t.j41(0,"ds-object-list",4),t.bIt("paginationChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onPaginationChange(Rt))})("pageChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onPageChange(Rt))})("pageSizeChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onPageSizeChange(Rt))})("sortDirectionChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onSortDirectionChange(Rt))})("deselectObject",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.deselectObject.emit(Rt))})("selectObject",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.selectObject.emit(Rt))})("sortFieldChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onSortFieldChange(Rt))})("importObject",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.importObject.emit(Rt))})("contentChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.contentChange.emit(Rt))})("prev",function(){t.eBV(dt);const Rt=t.XpG();return t.Njj(Rt.goPrev())})("next",function(){t.eBV(dt);const Rt=t.XpG();return t.Njj(Rt.goNext())}),t.k0s()}if(2&At){const dt=t.XpG();t.Y8G("ngClass",dt.placeholderFontClass)("config",dt.config)("sortConfig",dt.sortConfig)("objects",dt.objects)("hasBorder",dt.hasBorder)("hideGear",dt.hideGear)("linkType",dt.linkType)("context",dt.context)("hidePaginationDetail",dt.hidePaginationDetail)("showRSS",dt.showRSS)("showPaginator",dt.showPaginator)("showThumbnails",dt.showThumbnails)("selectable",dt.selectable)("selectionConfig",dt.selectionConfig)("importable",dt.importable)("importConfig",dt.importConfig)}}function ze(At,tn){if(1&At){const dt=t.RV6();t.j41(0,"ds-object-grid",5),t.bIt("paginationChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onPaginationChange(Rt))})("pageChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onPageChange(Rt))})("pageSizeChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onPageSizeChange(Rt))})("sortDirectionChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onSortDirectionChange(Rt))})("sortFieldChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onSortFieldChange(Rt))}),t.k0s()}if(2&At){const dt=t.XpG();t.Y8G("config",dt.config)("sortConfig",dt.sortConfig)("objects",dt.objects)("hideGear",dt.hideGear)("linkType",dt.linkType)("context",dt.context)("hidePaginationDetail",dt.hidePaginationDetail)("showPaginator",dt.showPaginator)("showThumbnails",dt.showThumbnails)}}function lt(At,tn){if(1&At){const dt=t.RV6();t.j41(0,"ds-object-detail",6),t.bIt("contentChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.contentChange.emit(Rt))}),t.k0s()}if(2&At){const dt=t.XpG();t.Y8G("config",dt.config)("sortConfig",dt.sortConfig)("objects",dt.objects)("hideGear",dt.hideGear)("showRSS",dt.showRSS)("linkType",dt.linkType)("context",dt.context)("hidePaginationDetail",dt.hidePaginationDetail)("showPaginator",dt.showPaginator)("showThumbnails",dt.showThumbnails)}}function Vt(At,tn){if(1&At){const dt=t.RV6();t.j41(0,"ds-object-table",5),t.bIt("paginationChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onPaginationChange(Rt))})("pageChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onPageChange(Rt))})("pageSizeChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onPageSizeChange(Rt))})("sortDirectionChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onSortDirectionChange(Rt))})("sortFieldChange",function(Rt){t.eBV(dt);const Sn=t.XpG();return t.Njj(Sn.onSortFieldChange(Rt))}),t.k0s()}if(2&At){const dt=t.XpG();t.Y8G("config",dt.config)("sortConfig",dt.sortConfig)("objects",dt.objects)("hideGear",dt.hideGear)("linkType",dt.linkType)("context",dt.context)("hidePaginationDetail",dt.hidePaginationDetail)("showPaginator",dt.showPaginator)("showThumbnails",dt.showThumbnails)}}let fn=(()=>{class At{constructor(dt,Lt,Rt,Sn,$n){this.cdRef=dt,this.route=Lt,this.router=Rt,this.elementRef=Sn,this.platformId=$n,this.hasBorder=!1,this.hideGear=!1,this.selectable=!1,this.showRSS=!1,this.customEvent=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.contentChange=new t.bkB,this.importable=!1,this.importObject=new t.bkB,this.hidePaginationDetail=!1,this.showPaginator=!0,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.viewModeEnum=v.n}ngOnInit(){this.currentMode$=this.route.queryParams.pipe((0,c.T)(dt=>(0,E.Im)(dt?.view)?v.n.ListElement:dt.view),(0,e.F)()),this.placeholderFontClass=(0,i.UE)(this.platformId)?(0,zt.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text"}onPageChange(dt){this.pageChange.emit(dt)}onPageSizeChange(dt){this.pageSizeChange.emit(dt)}onSortDirectionChange(dt){this.sortDirectionChange.emit(dt)}onSortFieldChange(dt){this.sortFieldChange.emit(dt)}onPaginationChange(dt){this.paginationChange.emit(dt)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(Lt){return new(Lt||At)(t.rXU(t.gRc),t.rXU(ae.nX),t.rXU(ae.Ix),t.rXU(t.aKT),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:At,selectors:[["ds-viewable-collection"]],inputs:{objects:"objects",config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",selectable:"selectable",selectionConfig:"selectionConfig",showRSS:"showRSS",importable:"importable",importConfig:"importConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",showPaginator:"showPaginator",showThumbnails:"showThumbnails"},outputs:{customEvent:"customEvent",deselectObject:"deselectObject",selectObject:"selectObject",contentChange:"contentChange",importObject:"importObject",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:11,vars:17,consts:[[3,"ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showRSS","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"],[3,"config","sortConfig","objects","hideGear","showRSS","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"],[3,"objects"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next","ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showRSS","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"],[3,"contentChange","config","sortConfig","objects","hideGear","showRSS","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"]],template:function(Lt,Rt){1&Lt&&(t.DNE(0,ke,3,0),t.nI1(1,"async"),t.DNE(2,Le,1,16,"ds-object-list",0),t.nI1(3,"async"),t.nI1(4,"async"),t.DNE(5,ze,1,9,"ds-object-grid",1),t.nI1(6,"async"),t.DNE(7,lt,1,10,"ds-object-detail",2),t.nI1(8,"async"),t.DNE(9,Vt,1,9,"ds-object-table",1),t.nI1(10,"async")),2&Lt&&(t.vxM(t.bMT(1,5,Rt.currentMode$)===Rt.viewModeEnum.GeospatialMap?0:-1),t.R7$(2),t.vxM(t.bMT(3,7,Rt.currentMode$)===Rt.viewModeEnum.ListElement||t.bMT(4,9,Rt.currentMode$)===Rt.viewModeEnum.GeospatialMap?2:-1),t.R7$(3),t.vxM(t.bMT(6,11,Rt.currentMode$)===Rt.viewModeEnum.GridElement?5:-1),t.R7$(2),t.vxM(t.bMT(8,13,Rt.currentMode$)===Rt.viewModeEnum.DetailedListElement?7:-1),t.R7$(2),t.vxM(t.bMT(10,15,Rt.currentMode$)===Rt.viewModeEnum.Table?9:-1))},dependencies:[i.Jj,i.YU,x,ee,sn,re],styles:["[_nghost-%COMP%]{display:block}"]})}}return At})()},32588:(B,C,n)=>{"use strict";n.r(C),n.d(C,{AccessStatusBadgeComponent:()=>S});var i=n(60177),t=n(68018),c=n(7673),e=n(96354),p=n(99437),m=n(8177),f=n(21832),v=n(4093),E=n(4600),y=n(78544),M=n(15862),b=n(89777),P=n(54438);const D=O=>({date:O});function I(O,L){if(1&O&&(P.SS7(0),P.nI1(1,"async"),P.j41(2,"span")(3,"span",1),P.EFF(4),P.nI1(5,"translate"),P.k0s(),P.EFF(6),P.nI1(7,"translate"),P.j41(8,"span",1),P.EFF(9,", "),P.k0s()()),2&O){const T=P.XpG(2),x=P.bMT(1,4,T.embargoDate$);P.R7$(2),P.HbH("badge bg-secondary dont-break-out access-status-list-element-badge "+T.accessStatusClass),P.R7$(2),P.JRh(P.bMT(5,6,"listelement.badge.access-status")),P.R7$(2),P.SpI(" ",P.i5U(7,8,L,P.eq3(11,D,x))," ")}}function h(O,L){if(1&O&&(P.DNE(0,I,10,13,"span",0),P.nI1(1,"async")),2&O){let T;const x=P.XpG();P.vxM((T=P.bMT(1,1,x.accessStatus$))?0:-1,T)}}let S=(()=>{class O{constructor(T){this.linkService=T,this.subs=[]}ngOnInit(){if((0,b.a4)(this.object))switch((0,b.a4)(this.object.accessStatus)||this.linkService.resolveLink(this.object,(0,E.s)("accessStatus")),this.object.type){case M.q.type.value:this.handleItem();break;case f._.type.value:this.handleBitstream()}}ngOnDestroy(){this.subs.filter(T=>(0,b.a4)(T)).forEach(T=>T.unsubscribe())}handleItem(){this.showAccessStatus=y.c.item.showAccessStatuses,this.showAccessStatus&&(this.accessStatus$=this.object.accessStatus.pipe((0,v.ak)(),(0,e.T)(T=>(0,b.a4)(T.status)?T.status:"unknown"),(0,e.T)(T=>`access-status.${T.toLowerCase()}.listelement.badge`),(0,p.W)(()=>(0,c.of)("access-status.unknown.listelement.badge"))),this.subs.push(this.accessStatus$.pipe((0,e.T)(T=>T.replace(/\./g,"-"))).subscribe(T=>{this.accessStatusClass=T})))}handleBitstream(){this.showAccessStatus=y.c.item.bitstream.showAccessStatuses,this.showAccessStatus&&(this.embargoDate$=this.object.accessStatus.pipe((0,v.ak)(),(0,e.T)(T=>(0,b.a4)(T.embargoDate)?T.embargoDate:null),(0,p.W)(()=>(0,c.of)(null))),this.subs.push(this.embargoDate$.pipe().subscribe(T=>{(0,b.a4)(T)&&(this.accessStatus$=(0,c.of)("embargo.listelement.badge"))})))}static{this.\u0275fac=function(x){return new(x||O)(P.rXU(m._))}}static{this.\u0275cmp=P.VBU({type:O,selectors:[["ds-base-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[P.aNF],decls:1,vars:1,consts:[[3,"class"],[1,"sr-only"]],template:function(x,N){1&x&&P.DNE(0,h,2,3),2&x&&P.vxM(N.showAccessStatus?0:-1)},dependencies:[i.Jj,t.h,t.D9],styles:["span[_ngcontent-%COMP%]{white-space:normal}"]})}}return O})()},442:(B,C,n)=>{"use strict";n.d(C,{E:()=>t});const t=new(n(44043).v)("accessStatus")},78584:(B,C,n)=>{"use strict";n.d(C,{I:()=>f}),n(73685);var t=n(29710),e=(n(32588),n(54438));const p=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"AccessStatusBadgeComponent"}importThemedComponent(y){return n(50822)(`./${y}/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,32588))}static{this.\u0275fac=(()=>{let y;return function(b){return(y||(y=e.xGo(v)))(b||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(M,b){1&M&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},46213:(B,C,n)=>{"use strict";n.r(C),n.d(C,{BadgesComponent:()=>M});var i=n(40940),c=(n(73685),n(78584)),e=n(8400),p=n(66840),m=n(91880),f=n(54438);function v(b,P){if(1&b&&f.nrm(0,"ds-my-dspace-status-badge",1),2&b){const D=f.XpG();f.Y8G("context",D.context)}}function E(b,P){if(1&b&&f.nrm(0,"ds-access-status-badge",0),2&b){const D=f.XpG();f.Y8G("object",D.object)}}const y=[i.o.MyDSpaceArchived,i.o.MyDSpaceWorkspace,i.o.MyDSpaceWorkflow,i.o.MyDSpaceDeclined,i.o.MyDSpaceApproved,i.o.MyDSpaceWaitingController,i.o.MyDSpaceValidation];let M=(()=>{class b{constructor(){this.showAccessStatus=!1}get isMyDSpaceStatus(){return y.includes(this.context)}static{this.\u0275fac=function(I){return new(I||b)}}static{this.\u0275cmp=f.VBU({type:b,selectors:[["ds-base-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[f.aNF],decls:5,vars:4,consts:[[3,"object"],[3,"context"],[1,"pe-1",3,"object"]],template:function(I,h){1&I&&(f.nrm(0,"ds-status-badge",0),f.DNE(1,v,1,1,"ds-my-dspace-status-badge",1),f.j41(2,"div"),f.nrm(3,"ds-type-badge",2),f.DNE(4,E,1,1,"ds-access-status-badge",0),f.k0s()),2&I&&(f.Y8G("object",h.object),f.R7$(),f.vxM(h.isMyDSpaceStatus?1:-1),f.R7$(2),f.Y8G("object",h.object),f.R7$(),f.vxM(h.showAccessStatus?4:-1))},dependencies:[c.I,e.Q,p.o,m.C]})}}return b})()},40086:(B,C,n)=>{"use strict";n.r(C),n.d(C,{MyDSpaceStatusBadgeComponent:()=>e});var i=n(68018),t=n(40940),c=n(54438);let e=(()=>{class p{ngOnInit(){switch(this.badgeContent=this.context,this.badgeClass="text-light badge ",this.context){case t.o.MyDSpaceValidation:this.badgeClass+="badge-validation";break;case t.o.MyDSpaceWaitingController:this.badgeClass+="badge-waiting-controller";break;case t.o.MyDSpaceWorkspace:this.badgeClass+="badge-workspace";break;case t.o.MyDSpaceArchived:this.badgeClass+="badge-archived";break;case t.o.MyDSpaceWorkflow:this.badgeClass+="badge-workflow"}}static{this.\u0275fac=function(v){return new(v||p)}}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ds-base-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[c.aNF],decls:9,vars:7,consts:[[3,"className"],[1,"sr-only"]],template:function(v,E){1&v&&(c.j41(0,"div")(1,"span",0)(2,"span",1),c.EFF(3),c.nI1(4,"translate"),c.k0s(),c.EFF(5),c.nI1(6,"translate"),c.j41(7,"span",1),c.EFF(8,", "),c.k0s()()()),2&v&&(c.R7$(),c.Y8G("className",E.badgeClass),c.R7$(2),c.JRh(c.bMT(4,3,"mydspace.status")),c.R7$(2),c.SpI(" ",c.bMT(6,5,"mydspace.status."+E.badgeContent)," "))},dependencies:[i.h,i.D9]})}}return p})()},8400:(B,C,n)=>{"use strict";n.d(C,{Q:()=>f}),n(40940);var t=n(29710),e=(n(40086),n(54438));const p=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["context"]}getComponentName(){return"MyDSpaceStatusBadgeComponent"}importThemedComponent(y){return n(87596)(`./${y}/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,40086))}static{this.\u0275fac=(()=>{let y;return function(b){return(y||(y=e.xGo(v)))(b||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(M,b){1&M&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},20122:(B,C,n)=>{"use strict";n.r(C),n.d(C,{StatusBadgeComponent:()=>f});var i=n(68018),c=(n(73685),n(89777)),e=n(54438);function p(v,E){1&v&&(e.j41(0,"div",0)(1,"span",2)(2,"span",3),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.EFF(5),e.nI1(6,"translate"),e.j41(7,"span",3),e.EFF(8,", "),e.k0s()()()),2&v&&(e.R7$(3),e.JRh(e.bMT(4,2,"item.badge.status")),e.R7$(2),e.SpI(" ",e.bMT(6,4,"item.badge.private")," "))}function m(v,E){1&v&&(e.j41(0,"div",1)(1,"span",3),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"span",3),e.EFF(8,", "),e.k0s()()),2&v&&(e.R7$(2),e.JRh(e.bMT(3,2,"item.badge.status")),e.R7$(3),e.JRh(e.bMT(6,4,"item.badge.withdrawn")))}let f=(()=>{class v{constructor(){this.privateBadge=!1,this.withdrawnBadge=!1}ngOnInit(){let y=this.object;(0,c.a4)(y.indexableObject)&&(y=y.indexableObject);const M=(0,c.a4)(y);this.privateBadge=M&&(0,c.a4)(y.isDiscoverable)&&!y.isDiscoverable,this.withdrawnBadge=M&&(0,c.a4)(y.isWithdrawn)&&y.isWithdrawn}static{this.\u0275fac=function(M){return new(M||v)}}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-base-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[[1,"private-badge"],[1,"withdrawn-badge"],[1,"badge","bg-danger"],[1,"sr-only"],[1,"badge","bg-warning"]],template:function(M,b){1&M&&e.DNE(0,p,9,6,"div",0)(1,m,9,6,"div",1),2&M&&(e.vxM(b.privateBadge?0:-1),e.R7$(),e.vxM(b.withdrawnBadge?1:-1))},dependencies:[i.h,i.D9],encapsulation:2})}}return v})()},66840:(B,C,n)=>{"use strict";n.d(C,{o:()=>f}),n(73685);var t=n(29710),e=(n(20122),n(54438));const p=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"StatusBadgeComponent"}importThemedComponent(y){return n(52504)(`./${y}/app/shared/object-collection/shared/badges/status-badge/status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,20122))}static{this.\u0275fac=(()=>{let y;return function(b){return(y||(y=e.xGo(v)))(b||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(M,b){1&M&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},83333:(B,C,n)=>{"use strict";n.d(C,{F:()=>v}),n(40940),n(73685);var c=n(29710),p=(n(46213),n(54438));const m=["*"];function f(E,y){}let v=(()=>{class E extends c.J{constructor(){super(...arguments),this.inAndOutputNames=["object","context","showAccessStatus"]}getComponentName(){return"BadgesComponent"}importThemedComponent(M){return n(70295)(`./${M}/app/shared/object-collection/shared/badges/badges.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,46213))}static{this.\u0275fac=(()=>{let M;return function(P){return(M||(M=p.xGo(E)))(P||E)}})()}static{this.\u0275cmp=p.VBU({type:E,selectors:[["ds-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[p.Vt3,p.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,P){1&b&&(p.NAR(),p.DNE(0,f,0,0,"ng-template",null,0,p.C5r),p.j41(2,"div",null,1),p.SdG(4),p.k0s())},encapsulation:2})}}return E})()},91880:(B,C,n)=>{"use strict";n.d(C,{C:()=>f}),n(73685);var t=n(29710),e=(n(30598),n(54438));const p=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"TypeBadgeComponent"}importThemedComponent(y){return n(45796)(`./${y}/app/shared/object-collection/shared/badges/type-badge/type-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,30598))}static{this.\u0275fac=(()=>{let y;return function(b){return(y||(y=e.xGo(v)))(b||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-type-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(M,b){1&M&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},30598:(B,C,n)=>{"use strict";n.r(C),n.d(C,{TypeBadgeComponent:()=>f});var i=n(68018),t=n(45451),e=(n(73685),n(89777)),p=n(54438);function m(v,E){if(1&v&&(p.j41(0,"span")(1,"span",0),p.EFF(2),p.nI1(3,"translate"),p.k0s(),p.j41(4,"span",1),p.EFF(5),p.nI1(6,"translate"),p.k0s(),p.j41(7,"span",0),p.EFF(8,", "),p.k0s()()),2&v){const y=p.XpG();p.R7$(2),p.JRh(p.bMT(3,2,"listelement.badge.dso-type")),p.R7$(3),p.JRh(p.bMT(6,4,y.typeMessage))}}let f=(()=>{class v{set object(y){this._object=y;const M=this._object.getRenderTypes();if(!(0,e.Im)(M.length)){const b=M[0];if(b instanceof Function){const P=(0,t.zA)(y.type);this._typeMessage=(0,e.a4)(P)?`${P.toLowerCase()}.listelement.badge`:`${b.name.toLowerCase()}.listelement.badge`}else this._typeMessage=`${b.toLowerCase()}.listelement.badge`}}get object(){return this._object}get typeMessage(){return this._typeMessage}static{this.\u0275fac=function(M){return new(M||v)}}static{this.\u0275cmp=p.VBU({type:v,selectors:[["ds-base-type-badge"]],inputs:{object:"object"},standalone:!0,features:[p.aNF],decls:1,vars:1,consts:[[1,"sr-only"],[1,"badge","bg-info"]],template:function(M,b){1&M&&p.DNE(0,m,9,6,"span"),2&M&&p.vxM(b.typeMessage?0:-1)},dependencies:[i.h,i.D9],encapsulation:2})}}return v})()},71622:(B,C,n)=>{"use strict";n.d(C,{t:()=>t});var i=n(49891);class t extends i.q{}},64537:(B,C,n)=>{"use strict";n.d(C,{q:()=>t});var i=n(49891);class t extends i.q{}},87083:(B,C,n)=>{"use strict";n.d(C,{H:()=>t});var i=n(49891);class t extends i.q{}},93644:(B,C,n)=>{"use strict";n.d(C,{y:()=>t});var i=n(49891);class t extends i.q{}},97593:(B,C,n)=>{"use strict";n.d(C,{A:()=>t});var i=n(49891);class t extends i.q{}},22260:(B,C,n)=>{"use strict";n.d(C,{L:()=>t});var i=n(49891);class t extends i.q{}},57565:(B,C,n)=>{"use strict";n.d(C,{$:()=>e});var i=n(54438),t=n(68018);n(77766);let e=(()=>{class p{constructor(){this.importObject=new i.bkB}static{this.\u0275fac=function(v){return new(v||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["ds-importable-list-item-control"]],inputs:{object:"object",importConfig:"importConfig"},outputs:{importObject:"importObject"},standalone:!0,features:[i.aNF],decls:4,vars:3,consts:[[1,"me-2"],[1,"btn","btn-outline-primary","btn-sm","float-start",3,"click","title"],[1,"fas","fa-cloud-download-alt","fa-fw"]],template:function(v,E){1&v&&(i.j41(0,"div",0)(1,"button",1),i.nI1(2,"translate"),i.bIt("click",function(){return E.importObject.emit(E.object)}),i.nrm(3,"i",2),i.k0s()()),2&v&&(i.R7$(),i.FS9("title",i.bMT(2,1,null==E.importConfig?null:E.importConfig.buttonLabel)))},dependencies:[t.h,t.D9],encapsulation:2})}}return p})()},39210:(B,C,n)=>{"use strict";n.d(C,{H:()=>e});var i=n(31635),t=n(94152),c=n(49891);let e=class extends c.q{getRenderTypes(){return this.indexableObject.getRenderTypes().map(m=>"string"==typeof m?m+"SearchResult":this.constructor)}};e=(0,i.Cg)([(0,t.ug)(c.q)],e)},77766:(B,C,n)=>{"use strict";n.d(C,{u:()=>t});var i=n(94152);class t extends i._U{}},8447:(B,C,n)=>{"use strict";n.d(C,{v:()=>M});var i=n(54438),t=n(96697),p=(n(40940),n(19192),n(43764)),m=n(73838),E=(n(79669),n(77766),n(21193));function y(b,P){}let M=(()=>{class b extends p.e{constructor(D,I){super(D),this.themeService=D,this.cdr=I,this.showLabel=!0,this.contentChange=new i.bkB,this.inputNamesDependentForComponent=["object","viewMode","context"],this.inputNames=["object","index","context","linkType","listID","showLabel","showThumbnails","viewMode","value"],this.outputNames=["contentChange"]}instantiateComponent(){super.instantiateComponent(),this.compRef.instance.reloadedObject&&this.compRef.instance.reloadedObject.pipe((0,t.s)(1)).subscribe(D=>{D&&(this.destroyComponentInstance(),this.object=D,this.instantiateComponent(),this.cdr.detectChanges(),this.contentChange.emit(D))})}getComponent(){return(0,E.Zx)(this.object.getRenderTypes(),this.viewMode,this.context,this.themeService.getThemeName())}static{this.\u0275fac=function(I){return new(I||b)(i.rXU(m.Fs),i.rXU(i.gRc))}}static{this.\u0275cmp=i.VBU({type:b,selectors:[["ds-listable-object-component-loader"]],inputs:{object:"object",index:"index",viewMode:"viewMode",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(I,h){1&I&&i.DNE(0,y,0,0,"ng-template",1,0,i.C5r)},styles:["[_nghost-%COMP%]{width:100%}"]})}}return b})()},21193:(B,C,n)=>{"use strict";n.d(C,{A2:()=>f,SS:()=>v,VK:()=>b,Zx:()=>P,e8:()=>m,eW:()=>h,mo:()=>D,zD:()=>y});var i=n(54438),t=n(78544),c=n(40940),e=n(19192),p=n(89777);const m=e.n.ListElement,f=c.o.Any,v="*";class E{constructor(O,L,T){this.match=O,this.level=L,this.relevancy=T}isMoreRelevantThan(O){return!!(0,p.Tn)(O)||!(O.level>this.level||O.level===this.level&&O.relevancy>this.relevancy)}isLessRelevantThan(O){return!this.isMoreRelevantThan(O)}}const y=new i.nKC("getThemeConfigFor",{providedIn:"root",factory:()=>I}),M=new Map;function b(S,O,L=f,T=v){return function(N){(0,p.Tn)(S)||((0,p.Tn)(M.get(S))&&M.set(S,new Map),(0,p.Tn)(M.get(S).get(O))&&M.get(S).set(O,new Map),(0,p.Tn)(M.get(S).get(O).get(L))&&M.get(S).get(O).set(L,new Map),M.get(S).get(O).get(L).set(T,N))}}function P(S,O,L=f,T=v){let x=null;for(const N of S){const j=M.get(N);if((0,p.a4)(j)){const $=D(j,[O,L,T],[m,f,v]);((0,p.Tn)(x)||x.isLessRelevantThan($))&&(x=$)}}return(0,p.a4)(x)?x.match:null}function D(S,O,L){let T=S,x=-1,N=0;for(let j=0;j<O.length;j++){let $=L[j]===v?h(T,O[j]):T.get(O[j]);if((0,p.Tn)($)?($=T.get(L[j]),-1===x&&(x=j)):N++,!(0,p.a4)($))return null;if(!($ instanceof Map))return new E($,x>-1?x:j+1,N);T=$}return null}const I=S=>t.c.themes.find(O=>O.name===S),h=(S,O,L=[])=>{const T=S.get(O);if((0,p.a4)(T))return T;{const x=I(O);if((0,p.a4)(x)&&(0,p.hj)(x.extends)){const N=x.extends,j=[...L,O];if(L.includes(N))throw new Error("Theme extension cycle detected: "+[...j,N].join(" -> "));return h(S,N,j)}}}},14726:(B,C,n)=>{"use strict";n.d(C,{b:()=>I});var i=n(60177),t=n(7901),c=n(68018),e=n(983),p=n(73028),m=n(96354),f=n(43446),v=n(8177),E=n(4093),y=n(89777),M=n(4600),b=n(54438);const P=h=>["/collections",h];function D(h,S){if(1&h&&(b.j41(0,"div",0)(1,"span",1),b.EFF(2),b.nI1(3,"translate"),b.j41(4,"a",2),b.nI1(5,"async"),b.EFF(6),b.nI1(7,"async"),b.k0s()()()),2&h){let O;const L=b.XpG();b.R7$(2),b.SpI("",b.bMT(3,3,"collection.listelement.badge"),": "),b.R7$(2),b.Y8G("routerLink",b.eq3(9,P,null==(O=b.bMT(5,5,L.collection$))?null:O.id)),b.R7$(2),b.SpI(" ",L.dsoNameService.getName(b.bMT(7,7,L.collection$))," ")}}let I=(()=>{class h{constructor(O,L){this.linkService=O,this.dsoNameService=L}ngOnInit(){this.linkService.resolveLinks(this.object,(0,M.s)("workflowitem",{isOptional:!0},(0,M.s)("collection",{}))),this.collection$=this.object.workflowitem.pipe((0,E.qD)(),(0,p.Z)(O=>O.hasSucceeded&&(0,y.hj)(O.payload)?O.payload.collection.pipe((0,E.qD)(),(0,m.T)(L=>L.hasSucceeded&&(0,y.hj)(L.payload)?L.payload:null)):e.w))}static{this.\u0275fac=function(L){return new(L||h)(b.rXU(v._),b.rXU(f.f))}}static{this.\u0275cmp=b.VBU({type:h,selectors:[["ds-item-collection"]],inputs:{object:"object"},standalone:!0,features:[b.aNF],decls:2,vars:3,consts:[[1,"mt-2","mb-2"],[1,"link-muted"],[3,"routerLink"]],template:function(L,T){1&L&&(b.DNE(0,D,8,11,"div",0),b.nI1(1,"async")),2&L&&b.vxM(b.bMT(1,1,T.collection$)?0:-1)},dependencies:[i.Jj,t.Wk,c.h,c.D9]})}}return h})()},90626:(B,C,n)=>{"use strict";n.d(C,{s:()=>D});var i=n(60177),t=n(68018),c=n(983),e=n(73028),p=n(96354),m=n(43446),f=n(8177),v=n(4093),E=n(89777),y=n(4600),M=n(54438);function b(I,h){if(1&I&&M.EFF(0),2&I){const S=M.XpG();M.SpI(" ",S.dsoNameService.getName(h)," ")}}function P(I,h){1&I&&(M.EFF(0),M.nI1(1,"translate")),2&I&&M.SpI(" ",M.bMT(1,1,"submitter.empty")," ")}let D=(()=>{class I{constructor(S,O){this.dsoNameService=S,this.linkService=O}ngOnInit(){this.linkService.resolveLinks(this.object,(0,y.s)("workflowitem",{},(0,y.s)("submitter",{}))),this.submitter$=this.object.workflowitem.pipe((0,v.qD)(),(0,e.Z)(S=>S.hasSucceeded&&(0,E.hj)(S.payload)?S.payload.submitter.pipe((0,v.qD)(),(0,p.T)(O=>O.hasSucceeded&&(0,E.hj)(O.payload)?O.payload:null)):c.w))}static{this.\u0275fac=function(O){return new(O||I)(M.rXU(m.f),M.rXU(f._))}}static{this.\u0275cmp=M.VBU({type:I,selectors:[["ds-item-submitter"]],inputs:{object:"object"},standalone:!0,features:[M.aNF],decls:8,vars:6,consts:[[1,"mt-2","mb-2"],[1,"text-muted"],[1,"badge","bg-info"]],template:function(O,L){if(1&O&&(M.j41(0,"div",0)(1,"span",1),M.EFF(2),M.nI1(3,"translate"),M.j41(4,"span",2),M.DNE(5,b,1,1),M.nI1(6,"async"),M.DNE(7,P,2,3),M.k0s()()()),2&O){let T;M.R7$(2),M.SpI(" ",M.bMT(3,2,"submission.workflow.tasks.generic.submitter"),": "),M.R7$(3),M.vxM((T=M.bMT(6,4,L.submitter$))?5:7,T)}},dependencies:[i.Jj,t.h,t.D9]})}}return I})()},79032:(B,C,n)=>{"use strict";n.d(C,{C:()=>m});var i=n(54438),t=n(43446),c=n(40940),e=n(19192),p=n(79669);let m=(()=>{class f{constructor(E){this.dsoNameService=E,this.showLabel=!0,this.reloadedObject=new i.bkB,this.linkTypes=p.n,this.viewModes=e.n,this.contexts=c.o}static{this.\u0275fac=function(y){return new(y||f)(i.rXU(t.f))}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-abstract-object-element"]],inputs:{object:"object",linkType:"linkType",listID:"listID",value:"value",index:"index",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(y,M){},encapsulation:2})}}return f})()},55621:(B,C,n)=>{"use strict";n.d(C,{d:()=>t});var i=n(49891);class t extends i.q{}},62643:(B,C,n)=>{"use strict";n.d(C,{Y:()=>D});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),p=n(65245),m=n(96697),f=n(96354),v=n(76089),E=n(50186);function M(I,h){if(1&I){const S=t.RV6();t.j41(0,"input",5,0),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("ngModelChange",function(L){t.eBV(S);const T=t.XpG(2);return t.Njj(T.selectCheckbox(L))}),t.k0s()}if(2&I){const S=t.sdS(1),O=t.XpG(2);t.Y8G("name","checkbox"+O.index)("id","object"+O.index)("ngModel",t.bMT(2,4,O.selected$)),t.BMQ("aria-label",t.bMT(3,6,S.checked?"selectable-list-item-control.deselect":"selectable-list-item-control.select"))}}function b(I,h){if(1&I){const S=t.RV6();t.j41(0,"input",6),t.nI1(1,"async"),t.nI1(2,"translate"),t.bIt("click",function(){t.eBV(S);const L=t.XpG().ngVar,T=t.XpG();return t.Njj(T.selectRadio(!L))}),t.k0s()}if(2&I){const S=t.XpG(2);t.Y8G("name","radio"+S.index)("id","object"+S.index)("checked",t.bMT(1,4,S.selected$)),t.BMQ("aria-label",t.bMT(2,6,"selectable-list-item-control.select"))}}function P(I,h){if(1&I&&(t.qex(0),t.j41(1,"span",2),t.DNE(2,M,4,8,"input",3)(3,b,3,8,"input",4),t.k0s(),t.bVm()),2&I){const S=t.XpG();t.R7$(2),t.vxM(S.selectionConfig.repeatable?2:-1),t.R7$(),t.vxM(S.selectionConfig.repeatable?-1:3)}}n(77766);let D=(()=>{class I{constructor(S){this.selectionService=S,this.deselectObject=new t.bkB,this.selectObject=new t.bkB}ngOnInit(){this.selected$=this.selectionService.isObjectSelected(this.selectionConfig.listId,this.object),this.selected$.pipe((0,p.i)(1)).subscribe(S=>{S?this.selectObject.emit(this.object):this.deselectObject.emit(this.object)})}selectCheckbox(S){S?this.selectionService.selectSingle(this.selectionConfig.listId,this.object):this.selectionService.deselectSingle(this.selectionConfig.listId,this.object)}selectRadio(S){S&&this.selectionService.getSelectableList(this.selectionConfig.listId).pipe((0,m.s)(1),(0,f.T)(L=>L?L.selection:[])).subscribe(L=>{L.forEach(T=>{this.selectionService.deselectSingle(this.selectionConfig.listId,T),this.deselectObject.emit(T)}),this.selectionService.selectSingle(this.selectionConfig.listId,this.object),this.selectObject.emit(this.object)})}static{this.\u0275fac=function(O){return new(O||I)(t.rXU(v.K))}}static{this.\u0275cmp=t.VBU({type:I,selectors:[["ds-selectable-list-item-control"]],inputs:{object:"object",selectionConfig:"selectionConfig",index:"index"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["selectListItemCheckbox",""],[4,"ngVar"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"name","id","ngModel"],["type","radio",1,"form-check-input","mt-2",3,"name","id","checked"],["type","checkbox",1,"form-check-input",3,"ngModelChange","name","id","ngModel"],["type","radio",1,"form-check-input","mt-2",3,"click","name","id","checked"]],template:function(O,L){1&O&&(t.DNE(0,P,4,2,"ng-container",1),t.nI1(1,"async")),2&O&&t.Y8G("ngVar",t.bMT(1,1,null==L.selectionService?null:L.selectionService.isObjectSelected(null==L.selectionConfig?null:L.selectionConfig.listId,L.object)))},dependencies:[i.Jj,c.YN,c.Zm,c.BC,c.vS,e.h,e.D9,E.r],encapsulation:2})}}return I})()},59194:(B,C,n)=>{"use strict";n.d(C,{q:()=>t});var i=n(49891);class t extends i.q{}},62378:(B,C,n)=>{"use strict";n.d(C,{I:()=>t});var i=n(49891);class t extends i.q{}},98288:(B,C,n)=>{"use strict";n.r(C),n.d(C,{ItemDetailPreviewFieldComponent:()=>M});var i=n(68018),c=(n(15862),n(61880)),e=n(72862),m=(n(49891),n(54438));function f(b,P){if(1&b&&m.nrm(0,"span",2),2&b){const D=m.XpG(3);m.Y8G("innerHTML",D.separator,m.npT)}}function v(b,P){if(1&b&&(m.j41(0,"span"),m.EFF(1),m.DNE(2,f,1,1,"span",2),m.k0s()),2&b){const D=P.$implicit,I=P.$index,h=P.$count;m.R7$(),m.SpI(" ",D,""),m.R7$(),m.vxM(I!==h-1?2:-1)}}function E(b,P){if(1&b&&m.Z7z(0,v,3,2,"span",null,m.fX1),2&b){const D=m.XpG();m.Dyx(D.allMetadataValues(D.metadata))}}function y(b,P){if(1&b&&(m.j41(0,"span",1),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&b){const D=m.XpG();m.R7$(),m.JRh(m.bMT(2,1,D.placeholder))}}let M=(()=>{class b{allMetadataValues(D){return c.O.allValues([this.object.hitHighlights,this.item.metadata],D)}static{this.\u0275fac=function(I){return new(I||b)}}static{this.\u0275cmp=m.VBU({type:b,selectors:[["ds-base-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[m.aNF],decls:4,vars:5,consts:[[3,"label"],[1,"text-muted"],[3,"innerHTML"]],template:function(I,h){1&I&&(m.j41(0,"ds-metadata-field-wrapper",0),m.nI1(1,"translate"),m.DNE(2,E,2,0)(3,y,3,3,"span",1),m.k0s()),2&I&&(m.Y8G("label",m.bMT(1,3,h.label)),m.R7$(2),m.vxM(h.item.hasMetadata(h.metadata)?2:-1),m.R7$(),m.vxM(h.item.hasMetadata(h.metadata)?-1:3))},dependencies:[e.Q,i.h,i.D9],encapsulation:2})}}return b})()},66977:(B,C,n)=>{"use strict";n.d(C,{f:()=>t});const t=new(n(44043).v)("identifiers")},38117:(B,C,n)=>{"use strict";n.d(C,{t:()=>m});var i=n(31635),t=n(72153),c=n(95970),e=n(77766),p=n(52467);let m=class extends e.u{static{this.type=p.t}constructor(v=c._.Error,E="listable-notification-object.default-message",...y){super(),this.notificationType=v,this.message=E,this.type=p.t,this.renderTypes=y}getRenderTypes(){return[...this.renderTypes,this.constructor]}};m=(0,i.Cg)([t.gV,(0,i.Sn)("design:paramtypes",[String,String,String])],m)},52467:(B,C,n)=>{"use strict";n.d(C,{t:()=>t});const t=new(n(44043).v)("listable-notification-object")},85401:(B,C,n)=>{"use strict";n.r(C),n.d(C,{ItemListPreviewComponent:()=>V});var i=n(60177),t=n(68018),p=(n(40940),n(56327),n(79096)),m=n(43446),v=(n(15862),n(49170)),E=n(2180),y=n(83333),M=n(14726),b=n(90626),D=(n(49891),n(24100)),I=n(25713),h=n(54438);const S=G=>({lead:!0,"text-muted":G}),O=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],L=G=>({"text-muted":G});function T(G,X){if(1&G&&(h.j41(0,"div",1),h.nrm(1,"ds-thumbnail",3),h.nI1(2,"async"),h.k0s()),2&G){const Q=h.XpG();h.R7$(),h.Y8G("thumbnail",h.bMT(2,2,null==Q.item?null:Q.item.thumbnail))("limitWidth",!0)}}function x(G,X){if(1&G&&h.nrm(0,"span",10),2&G){const Q=h.XpG(2);h.Y8G("innerHTML",Q.item.firstMetadataValue("dc.publisher")+", ",h.npT)}}function N(G,X){1&G&&(h.j41(0,"span"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&G&&(h.R7$(),h.JRh(h.bMT(2,1,"mydspace.results.no-authors")))}function j(G,X){1&G&&(h.j41(0,"span"),h.EFF(1,"; "),h.k0s())}function $(G,X){if(1&G&&(h.j41(0,"span")(1,"span",16),h.nrm(2,"span",16),h.k0s(),h.DNE(3,j,2,0,"span"),h.k0s()),2&G){const Q=X.$implicit,ee=X.$index,ie=X.$count;h.R7$(),h.Y8G("innerHTML",Q,h.npT),h.R7$(),h.Y8G("innerHTML",Q,h.npT),h.R7$(),h.vxM(ee!==ie-1?3:-1)}}function k(G,X){if(1&G&&(h.j41(0,"span",12),h.DNE(1,N,3,3,"span"),h.Z7z(2,$,4,3,"span",null,h.fX1),h.k0s()),2&G){const Q=h.XpG(2);h.R7$(),h.vxM(0===Q.item.allMetadataValues(h.lJ4(1,O)).length?1:-1),h.R7$(),h.Dyx(Q.item.allMetadataValues(h.lJ4(2,O)))}}function K(G,X){if(1&G&&h.nrm(0,"ds-item-submitter",15),2&G){const Q=h.XpG(2);h.Y8G("object",Q.object.indexableObject)}}function z(G,X){if(1&G&&(h.j41(0,"div")(1,"div",4),h.nrm(2,"ds-badges",5),h.k0s(),h.j41(3,"ds-truncatable",6),h.nrm(4,"h2",7),h.j41(5,"div")(6,"span",8)(7,"ds-truncatable-part",9),h.EFF(8," ("),h.DNE(9,x,1,1,"span",10),h.nrm(10,"span",11),h.nI1(11,"translate"),h.EFF(12,") "),h.DNE(13,k,4,3,"span",12),h.k0s()(),h.j41(14,"ds-truncatable-part",13),h.nrm(15,"span",14),h.nI1(16,"translate"),h.k0s()()(),h.DNE(17,K,1,1,"ds-item-submitter",15),h.nrm(18,"ds-item-collection",15),h.k0s()),2&G){const Q=h.XpG();h.Y8G("@fadeInOut",void 0),h.R7$(2),h.Y8G("object",Q.item)("context",Q.badgeContext)("showAccessStatus",!0),h.R7$(),h.Y8G("id",Q.item.id),h.R7$(),h.Y8G("innerHTML",Q.dsoTitle,h.npT)("ngClass",h.eq3(22,S,!Q.item.firstMetadataValue("dc.title"))),h.R7$(3),h.Y8G("id",Q.item.id)("minLines",1),h.R7$(2),h.vxM(Q.item.hasMetadata("dc.publisher")?9:-1),h.R7$(),h.Y8G("innerHTML",Q.item.firstMetadataValue("dc.date.issued")||h.bMT(11,18,"mydspace.results.no-date"),h.npT),h.R7$(3),h.vxM(Q.item.hasMetadata(h.lJ4(24,O))?13:-1),h.R7$(),h.Y8G("id",Q.item.id)("minLines",1),h.R7$(),h.Y8G("ngClass",h.eq3(25,L,!Q.item.firstMetadataValue("dc.description.abstract")))("innerHTML",Q.item.firstMetadataValue("dc.description.abstract")||h.bMT(16,20,"mydspace.results.no-abstract"),h.npT),h.R7$(2),h.vxM(Q.showSubmitter?17:-1),h.R7$(),h.Y8G("object",Q.object.indexableObject)}}let V=(()=>{class G{constructor(Q,ee){this.appConfig=Q,this.dsoNameService=ee,this.showSubmitter=!1}ngOnInit(){this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.item)}static{this.\u0275fac=function(ee){return new(ee||G)(h.rXU(p.vQ),h.rXU(m.f))}}static{this.\u0275cmp=h.VBU({type:G,selectors:[["ds-base-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[h.aNF],decls:4,vars:3,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"thumbnail","limitWidth"],[1,"d-flex"],[3,"object","context","showAccessStatus"],[3,"id"],[3,"innerHTML","ngClass"],[1,"text-muted"],[3,"id","minLines"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-date",3,"innerHTML"],[1,"item-list-authors"],[1,"item-list-abstract",3,"id","minLines"],[3,"ngClass","innerHTML"],[3,"object"],[3,"innerHTML"]],template:function(ee,ie){1&ee&&(h.j41(0,"div",0),h.DNE(1,T,3,4,"div",1),h.j41(2,"div",2),h.DNE(3,z,19,27,"div"),h.k0s()()),2&ee&&(h.R7$(),h.vxM(ie.showThumbnails?1:-1),h.R7$(),h.Y8G("ngClass",ie.showThumbnails?"col-9":"col-md-12"),h.R7$(),h.vxM(ie.item?3:-1))},dependencies:[i.Jj,M.b,b.s,i.YU,y.F,v.T,t.h,t.D9,D.d,I.W],data:{animation:[E.Ws]}})}}return G})()},86296:(B,C,n)=>{"use strict";n.r(C),n.d(C,{ObjectListComponent:()=>T});var i=n(60177),t=n(54438),m=(n(70998),n(25788),n(40940),n(19192)),f=n(2180),E=(n(79669),n(57565)),y=n(8447),M=n(62643),b=n(2175),P=n(33745),D=n(76089);const I=x=>({"ms-4":x});function h(x,N){if(1&x){const j=t.RV6();t.j41(0,"ds-selectable-list-item-control",7),t.bIt("deselectObject",function(k){t.eBV(j);const K=t.XpG(3);return t.Njj(K.deselectObject.emit(k))})("selectObject",function(k){t.eBV(j);const K=t.XpG(3);return t.Njj(K.selectObject.emit(k))}),t.k0s()}if(2&x){const j=t.XpG(),$=j.$implicit,k=j.$index,K=t.XpG(2);t.Y8G("index",k)("object",$)("selectionConfig",K.selectionConfig)}}function S(x,N){if(1&x){const j=t.RV6();t.j41(0,"ds-importable-list-item-control",8),t.bIt("importObject",function(k){t.eBV(j);const K=t.XpG(3);return t.Njj(K.importObject.emit(k))}),t.k0s()}if(2&x){const j=t.XpG().$implicit,$=t.XpG(2);t.Y8G("object",j)("importConfig",$.importConfig)}}function O(x,N){if(1&x){const j=t.RV6();t.j41(0,"li",3),t.nI1(1,"dsBrowserOnly"),t.DNE(2,h,1,3,"ds-selectable-list-item-control",4)(3,S,1,2,"ds-importable-list-item-control",5),t.j41(4,"ds-listable-object-component-loader",6),t.bIt("contentChange",function(k){t.eBV(j);const K=t.XpG(2);return t.Njj(K.contentChange.emit(k))}),t.k0s()()}if(2&x){const j=N.$implicit,$=N.$index,k=N.$count,K=t.XpG(2);t.AVh("border-bottom",K.hasBorder&&$!==k-1),t.BMQ("data-test",t.bMT(1,11,"list-object")),t.R7$(2),t.vxM(K.selectable?2:-1),t.R7$(),t.vxM(K.importable?3:-1),t.R7$(),t.Y8G("object",j)("viewMode",K.viewMode)("index",$)("context",K.context)("linkType",K.linkType)("listID",null==K.selectionConfig?null:K.selectionConfig.listId)}}function L(x,N){if(1&x&&(t.j41(0,"ul",1),t.Z7z(1,O,5,13,"li",2,t.fX1),t.k0s()),2&x){const j=t.XpG();t.Y8G("ngClass",t.eq3(1,I,j.selectable)),t.R7$(),t.Dyx(null==j.objects||null==j.objects.payload?null:j.objects.payload.page)}}let T=(()=>{class x{set objects(j){this._objects=j}get objects(){return this._objects}constructor(j){this.selectionService=j,this.viewMode=m.n.ListElement,this.hasBorder=!1,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.selectable=!1,this.showRSS=!1,this.hidePaginationDetail=!1,this.importable=!1,this.showPaginator=!0,this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.importObject=new t.bkB,this.sortFieldChange=new t.bkB}onPageChange(j){this.pageChange.emit(j)}onPageSizeChange(j){this.pageSizeChange.emit(j)}onSortDirectionChange(j){this.sortDirectionChange.emit(j)}onSortFieldChange(j){this.sortFieldChange.emit(j)}onPaginationChange(j){this.paginationChange.emit(j)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function($){return new($||x)(t.rXU(D.K))}}static{this.\u0275cmp=t.VBU({type:x,selectors:[["ds-base-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",showRSS:"showRSS",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.aNF],decls:2,vars:10,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","objects","sortOptions","hideGear","showRSS","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],["data-test","objects",1,"list-unstyled",3,"ngClass"],[1,"mt-4","mb-4","d-flex",3,"border-bottom"],[1,"mt-4","mb-4","d-flex"],[3,"index","object","selectionConfig"],[3,"object","importConfig"],[3,"contentChange","object","viewMode","index","context","linkType","listID"],[3,"deselectObject","selectObject","index","object","selectionConfig"],[3,"importObject","object","importConfig"]],template:function($,k){1&$&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(z){return k.onPageChange(z)})("pageSizeChange",function(z){return k.onPageSizeChange(z)})("sortDirectionChange",function(z){return k.onSortDirectionChange(z)})("sortFieldChange",function(z){return k.onSortFieldChange(z)})("paginationChange",function(z){return k.onPaginationChange(z)})("prev",function(){return k.goPrev()})("next",function(){return k.goNext()}),t.DNE(1,L,3,3,"ul",1),t.k0s()),2&$&&(t.Y8G("paginationOptions",k.config)("collectionSize",null==k.objects||null==k.objects.payload?null:k.objects.payload.totalElements)("objects",k.objects)("sortOptions",k.sortConfig)("hideGear",k.hideGear)("showRSS",k.showRSS)("hidePagerWhenSinglePage",k.hidePagerWhenSinglePage)("hidePaginationDetail",k.hidePaginationDetail)("showPaginator",k.showPaginator),t.R7$(),t.vxM(null!=k.objects&&k.objects.hasSucceeded?1:-1))},dependencies:[P.L,E.$,y.v,i.YU,b.e,M.Y],styles:["ds-selectable-list-item-control[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[f.qG]}})}}return x})()},15610:(B,C,n)=>{"use strict";n.d(C,{k:()=>Q});var i=n(31635),t=n(60177),c=n(7901),e=n(19192),p=n(92767),m=n(49170),f=n(83333),v=n(39210),E=n(21193),y=n(24100),M=n(25713),b=n(26971),P=n(54438);const D=ee=>[ee],I=()=>["dc.contributor.author","dc.creator","dc.contributor.*"];function h(ee,ie){if(1&ee&&(P.j41(0,"a",6),P.nrm(1,"ds-thumbnail",8),P.nI1(2,"async"),P.k0s()),2&ee){const te=P.XpG(2);P.Y8G("target",te.linkType===te.linkTypes.ExternalLink?"_blank":"_self")("routerLink",P.eq3(7,D,te.itemPageRoute)),P.BMQ("rel",te.linkType===te.linkTypes.ExternalLink?"noopener noreferrer":null),P.R7$(),P.Y8G("thumbnail",P.bMT(2,5,null==te.dso?null:te.dso.thumbnail))("limitWidth",!0)}}function S(ee,ie){if(1&ee&&(P.j41(0,"span",7),P.nrm(1,"ds-thumbnail",8),P.nI1(2,"async"),P.k0s()),2&ee){const te=P.XpG(2);P.R7$(),P.Y8G("thumbnail",P.bMT(2,2,null==te.dso?null:te.dso.thumbnail))("limitWidth",!0)}}function O(ee,ie){if(1&ee&&(P.j41(0,"div",1),P.DNE(1,h,3,9,"a",6)(2,S,3,4,"span",7),P.k0s()),2&ee){const te=P.XpG();P.R7$(),P.vxM(te.linkType!==te.linkTypes.None?1:-1),P.R7$(),P.vxM(te.linkType===te.linkTypes.None?2:-1)}}function L(ee,ie){if(1&ee&&P.nrm(0,"ds-badges",4),2&ee){const te=P.XpG();P.Y8G("object",te.dso)("context",te.context)("showAccessStatus",!0)}}function T(ee,ie){if(1&ee&&P.nrm(0,"a",9),2&ee){const te=P.XpG(2);P.Y8G("target",te.linkType===te.linkTypes.ExternalLink?"_blank":"_self")("routerLink",P.eq3(4,D,te.itemPageRoute))("innerHTML",te.dsoTitle,P.npT),P.BMQ("rel",te.linkType===te.linkTypes.ExternalLink?"noopener noreferrer":null)}}function x(ee,ie){if(1&ee&&P.nrm(0,"span",10),2&ee){const te=P.XpG(2);P.Y8G("innerHTML",te.dsoTitle,P.npT)}}function N(ee,ie){if(1&ee&&P.nrm(0,"span",15),2&ee){const te=P.XpG(3);P.Y8G("innerHTML",te.firstMetadataValue("dc.publisher"),P.npT)}}function j(ee,ie){1&ee&&(P.j41(0,"span"),P.EFF(1,", "),P.k0s())}function $(ee,ie){if(1&ee&&P.nrm(0,"span",16),2&ee){const te=P.XpG(3);P.Y8G("innerHTML",te.firstMetadataValue("dc.date.issued"),P.npT)}}function k(ee,ie){if(1&ee&&(P.EFF(0," ("),P.DNE(1,N,1,1,"span",15)(2,j,2,0,"span")(3,$,1,1,"span",16),P.EFF(4,") ")),2&ee){const te=P.XpG(2);P.R7$(),P.vxM(te.dso.firstMetadataValue("dc.publisher")?1:-1),P.R7$(),P.vxM(te.dso.firstMetadataValue("dc.publisher")&&te.dso.firstMetadataValue("dc.date.issued")?2:-1),P.R7$(),P.vxM(te.dso.firstMetadataValue("dc.date.issued")?3:-1)}}function K(ee,ie){1&ee&&(P.j41(0,"span"),P.EFF(1,"; "),P.k0s())}function z(ee,ie){if(1&ee&&(P.j41(0,"span")(1,"span",17),P.nrm(2,"span",17),P.k0s(),P.DNE(3,K,2,0,"span"),P.k0s()),2&ee){const te=ie.$implicit,he=ie.$index,ye=ie.$count;P.R7$(),P.Y8G("innerHTML",te,P.npT),P.R7$(),P.Y8G("innerHTML",te,P.npT),P.R7$(),P.vxM(he!==ye-1?3:-1)}}function V(ee,ie){if(1&ee&&(P.j41(0,"span",13),P.Z7z(1,z,4,3,"span",null,P.fX1),P.k0s()),2&ee){const te=P.XpG(2);P.R7$(),P.Dyx(te.allMetadataValues(P.lJ4(0,I)))}}function G(ee,ie){if(1&ee&&(P.j41(0,"div",14)(1,"ds-truncatable-part",12),P.nrm(2,"span",17),P.k0s()()),2&ee){const te=P.XpG(2);P.R7$(),P.Y8G("id",te.dso.id)("minLines",3),P.R7$(),P.Y8G("innerHTML",te.firstMetadataValue("dc.description.abstract"),P.npT)}}function X(ee,ie){if(1&ee&&(P.j41(0,"ds-truncatable",5),P.DNE(1,T,1,6,"a",9)(2,x,1,1,"span",10),P.j41(3,"span",11)(4,"ds-truncatable-part",12),P.DNE(5,k,5,3)(6,V,3,1,"span",13),P.k0s()(),P.DNE(7,G,3,3,"div",14),P.k0s()),2&ee){const te=P.XpG();P.Y8G("id",te.dso.id),P.R7$(),P.vxM(te.linkType!==te.linkTypes.None?1:-1),P.R7$(),P.vxM(te.linkType===te.linkTypes.None?2:-1),P.R7$(2),P.Y8G("id",te.dso.id)("minLines",1),P.R7$(),P.vxM(te.dso.firstMetadataValue("dc.publisher")||te.dso.firstMetadataValue("dc.date.issued")?5:-1),P.R7$(),P.vxM(te.dso.allMetadata(P.lJ4(8,I)).length>0?6:-1),P.R7$(),P.vxM(te.dso.firstMetadataValue("dc.description.abstract")?7:-1)}}let Q=class HM extends b.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails,this.itemPageRoute=(0,p._o)(this.dso)}static{this.\u0275fac=(()=>{let ie;return function(he){return(ie||(ie=P.xGo(HM)))(he||HM)}})()}static{this.\u0275cmp=P.VBU({type:HM,selectors:[["ds-item-search-result-list-element"]],standalone:!0,features:[P.Vt3,P.aNF],decls:6,vars:4,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[1,"d-flex"],[3,"object","context","showAccessStatus"],[3,"id"],["tabindex","-1",1,"dont-break-out",3,"target","routerLink"],[1,"dont-break-out"],[3,"thumbnail","limitWidth"],["role","link","tabindex","0",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"text-muted"],[3,"id","minLines"],[1,"item-list-authors"],[1,"item-list-abstract"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-date",3,"innerHTML"],[3,"innerHTML"]],template:function(te,he){1&te&&(P.j41(0,"div",0),P.DNE(1,O,3,2,"div",1),P.j41(2,"div",2)(3,"div",3),P.DNE(4,L,1,3,"ds-badges",4),P.k0s(),P.DNE(5,X,8,9,"ds-truncatable",5),P.k0s()()),2&te&&(P.R7$(),P.vxM(he.showThumbnails?1:-1),P.R7$(),P.Y8G("ngClass",he.showThumbnails?"col-9":"col-md-12"),P.R7$(2),P.vxM(he.showLabel?4:-1),P.R7$(),P.vxM(null!=he.object?5:-1))},dependencies:[t.Jj,t.YU,c.Wk,f.F,m.T,y.d,M.W],styles:[".item-list-supervision[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}"]})}};Q=(0,i.Cg)([(0,E.VK)("PublicationSearchResult",e.n.ListElement),(0,E.VK)(v.H,e.n.ListElement)],Q)},26971:(B,C,n)=>{"use strict";n.d(C,{P:()=>v});var i=n(79096),t=n(43446),c=n(61880),e=n(89777),p=n(79032),m=n(44860),f=n(54438);let v=(()=>{class E extends p.C{constructor(M,b,P){super(b),this.truncatableService=M,this.dsoNameService=b,this.appConfig=P}ngOnInit(){(0,e.a4)(this.object)&&(this.dso=this.object.indexableObject,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso))}allMetadataValues(M){const b=c.O.allValues([this.dso.metadata],M),P=c.O.allValues([this.object.hitHighlights],M),D=P.map(I=>I.replace(/<\/?em>/g,""));for(let I=0;I<D.length;I++){const h=b.indexOf(D[I]);-1!==h&&(b[h]=P[I])}return b}firstMetadataValue(M){return c.O.firstValue([this.object.hitHighlights,this.dso.metadata],M)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static{this.\u0275fac=function(b){return new(b||E)(f.rXU(m.F),f.rXU(t.f),f.rXU(i.vQ))}}static{this.\u0275cmp=f.VBU({type:E,selectors:[["ds-search-result-list-element"]],standalone:!0,features:[f.Vt3,f.aNF],decls:0,vars:0,template:function(b,P){},encapsulation:2})}}return E})()},56361:(B,C,n)=>{"use strict";n.d(C,{Gk:()=>f,Sg:()=>t,Yd:()=>m,ZH:()=>e,hf:()=>E,t3:()=>p});var i=n(6800);const t={SELECT:(0,i.N)("dspace/selectable-lists/SELECT"),SELECT_SINGLE:(0,i.N)("dspace/selectable-lists/SELECT_SINGLE"),DESELECT:(0,i.N)("dspace/selectable-lists/DESELECT"),DESELECT_SINGLE:(0,i.N)("dspace/selectable-lists/DESELECT_SINGLE"),SET_SELECTION:(0,i.N)("dspace/selectable-lists/SET_SELECTION"),DESELECT_ALL:(0,i.N)("dspace/selectable-lists/DESELECT_ALL")};class c{constructor(M,b){this.type=M,this.id=b}}class e extends c{constructor(M,b){super(t.SELECT,M),this.payload=b}}class p extends c{constructor(M,b){super(t.SELECT_SINGLE,M),this.payload={object:b}}}class m extends c{constructor(M,b){super(t.DESELECT_SINGLE,M),this.payload=b}}class f extends c{constructor(M,b){super(t.DESELECT,M),this.payload=b}}class E extends c{constructor(M){super(t.DESELECT_ALL,M)}}},76089:(B,C,n)=>{"use strict";n.d(C,{K:()=>y});var i=n(59640),t=n(96354),c=n(23294),e=n(23679),p=n(89777),m=n(56361),f=n(54438);const v=M=>M.selectableLists;let y=(()=>{class M{constructor(P){this.store=P}getSelectableList(P){return this.store.pipe((0,i.Lt)((M=>(0,e.pc)(M,v))(P)))}selectSingle(P,D){this.store.dispatch(new m.t3(P,D))}select(P,D){this.store.dispatch(new m.ZH(P,D))}deselectSingle(P,D){this.store.dispatch(new m.Yd(P,D))}deselect(P,D){this.store.dispatch(new m.Gk(P,D))}deselectAll(P){this.store.dispatch(new m.hf(P))}isObjectSelected(P,D){return this.getSelectableList(P).pipe((0,t.T)(I=>(0,p.a4)(I)&&(0,p.hj)(I.selection)&&(0,p.a4)(I.selection.find(h=>h.equals(D)))),(0,c.F)())}findSelectedByCondition(P,D){return this.getSelectableList(P).pipe((0,t.T)(I=>(0,p.a4)(I)&&(0,p.hj)(I.selection)?I.selection.find(h=>D(h)):void 0))}static{this.\u0275fac=function(D){return new(D||M)(f.KVO(i.il))}}static{this.\u0275prov=f.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},53844:(B,C,n)=>{"use strict";n.d(C,{AS:()=>m,NE:()=>e,T8:()=>t,Vu:()=>f,YE:()=>v,bx:()=>E,u7:()=>p});var i=n(6800);const t={INITIAL_DESELECT:(0,i.N)("dspace/object-select/INITIAL_DESELECT"),INITIAL_SELECT:(0,i.N)("dspace/object-select/INITIAL_SELECT"),SELECT:(0,i.N)("dspace/object-select/SELECT"),DESELECT:(0,i.N)("dspace/object-select/DESELECT"),SWITCH:(0,i.N)("dspace/object-select/SWITCH"),RESET:(0,i.N)("dspace/object-select/RESET")};class c{constructor(M,b){this.key=M,this.id=b}}class e extends c{constructor(){super(...arguments),this.type=t.INITIAL_DESELECT}}class p extends c{constructor(){super(...arguments),this.type=t.INITIAL_SELECT}}class m extends c{constructor(){super(...arguments),this.type=t.SELECT}}class f extends c{constructor(){super(...arguments),this.type=t.DESELECT}}class v extends c{constructor(){super(...arguments),this.type=t.SWITCH}}class E extends c{constructor(){super(...arguments),this.type=t.RESET}}},94525:(B,C,n)=>{"use strict";n.d(C,{Zb:()=>E,iv:()=>y});var i=n(48125),t=n.n(i),c=n(83278),e=n.n(c),p=n(95341),m=n.n(p),f=n(89777);function E(M){if("object"==typeof M){if(0===Object.keys(M).length)return!0;{let P=!0;for(const D in M)if((0,f.hj)(M[D])){P=!1;break}return P}}}function y(M,b){const P=(D,I)=>m()(D,(h,S,O)=>{if(!t()(S,I[O])&&(0,f.hj)(S)){const L=e()(S)&&e()(I[O])?P(S,I[O]):S;E(L)||(h[O]=L)}});return P(M,b)}},70780:(B,C,n)=>{"use strict";n.d(C,{b:()=>b});var i=n(60177),t=n(89417),c=n(96354),e=n(96697),p=n(31),f=(n(82584),n(50553)),v=n(59398),E=n(54438),y=n(7901);function M(P,D){if(1&P&&(E.j41(0,"option",2),E.nI1(1,"async"),E.EFF(2),E.k0s()),2&P){const I=D.$implicit,h=E.XpG();E.Y8G("value",I)("selected",I===+E.bMT(1,3,h.paginationOptions$).pageSize?"selected":null),E.R7$(2),E.SpI(" ",I," ")}}let b=(()=>{class P{constructor(I,h,S,O){this.route=I,this.router=h,this.paginationService=S,this.searchConfigurationService=O}ngOnInit(){this.paginationOptions$=this.searchConfigurationService.paginatedSearchOptions.pipe((0,c.T)(I=>I.pagination))}reloadRPP(I){const h=I.target.value;this.paginationOptions$.pipe((0,e.s)(1)).subscribe(S=>{this.paginationService.updateRoute(S.id,{page:1,pageSize:+h})})}static{this.\u0275fac=function(h){return new(h||P)(E.rXU(y.nX),E.rXU(y.Ix),E.rXU(p.m),E.rXU(f.EN))}}static{this.\u0275cmp=E.VBU({type:P,selectors:[["ds-page-size-selector"]],standalone:!0,features:[E.aNF],decls:5,vars:4,consts:[[1,"page-size-settings"],[3,"changed","id","label"],[3,"value","selected"]],template:function(h,S){1&h&&(E.j41(0,"div",0)(1,"ds-sidebar-dropdown",1),E.bIt("changed",function(L){return S.reloadRPP(L)}),E.Z7z(2,M,3,5,"option",2,E.fX1),E.nI1(4,"async"),E.k0s()()),2&h&&(E.R7$(),E.Y8G("id","search-sidebar-rpp")("label","search.sidebar.settings.rpp"),E.R7$(),E.Dyx(E.bMT(4,2,S.paginationOptions$).pageSizeOptions))},dependencies:[i.Jj,t.YN,t.xH,t.y7,v.v],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return P})()},8417:(B,C,n)=>{"use strict";n.d(C,{W:()=>c});var i=n(58003),t=n(54438);let c=(()=>{class e extends i.MI{constructor(){super(...arguments),this.currentPage=1,this.maxSize=10,this.pageSizeOptions=[1,5,10,20,40,60,80,100]}static{this.\u0275fac=(()=>{let m;return function(v){return(m||(m=t.xGo(e)))(v||e)}})()}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},2175:(B,C,n)=>{"use strict";n.d(C,{e:()=>oe});var i=n(60177),t=n(54438),c=n(58003),e=n(68018),p=n(7673),m=n(96354),f=n(25558),v=n(99172),E=n(96697),y=n(70998),b=(n(25788),n(31)),P=n(19192),D=n(79104),I=n(89777),h=n(50842),S=n(7901),O=n(84412),L=n(5964),T=n(78544),x=n(94925),N=n(2086),j=n(4093),$=n(82584),k=n(47561);function K(J,ve){1&J&&(t.j41(0,"div",0)(1,"a",1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nrm(4,"i",2),t.k0s()()),2&J&&(t.R7$(),t.Y8G("href",ve,t.B4B)("title",t.bMT(2,3,"feed.description")),t.BMQ("aria-label",t.bMT(3,5,"feed.description")))}function z(J,ve){if(1&J&&(t.DNE(0,K,5,7,"div",0),t.nI1(1,"async")),2&J){let _e;const Ce=t.XpG();t.vxM((_e=t.bMT(1,1,Ce.route$))?0:-1,_e)}}let V=(()=>{class J{constructor(_e,Ce,qe,Re,nt,Ge,at,Ke){this.groupDataService=_e,this.linkHeadService=Ce,this.configurationService=qe,this.searchConfigurationService=Re,this.router=nt,this.route=Ge,this.paginationService=at,this.translateService=Ke,this.route$=new O.t(""),this.isEnabled$=new O.t(null),this.isActivated$=new O.t(!1),this.subs=[]}ngOnDestroy(){this.linkHeadService.removeTag("rel='alternate'"),this.subs.forEach(_e=>{_e.unsubscribe()})}ngOnInit(){(0,I.a4)(this.route.snapshot.data?.enableRSS)?this.isActivated$.next(this.route.snapshot.data.enableRSS):(0,I.b0)(this.route.snapshot.data?.enableRSS)&&this.isActivated$.next(!1),this.uuid=this.groupDataService.getUUIDFromString(this.router.url),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.enable").pipe((0,j.qD)()).subscribe(_e=>{if(_e.hasSucceeded){const Ce="true"===_e.payload.values[0];this.isEnabled$.next(Ce),Ce&&this.getOpenSearchUri()}})),this.subs.push(this.router.events.pipe((0,L.p)(_e=>_e instanceof S.wF)).subscribe(()=>{this.uuid=this.groupDataService.getUUIDFromString(this.router.url),this.updateRssLinks()}))}ngOnChanges(_e){_e.sortConfig&&this.openSearchUri&&this.isEnabled$.getValue()&&this.updateRssLinks()}getOpenSearchUri(){this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.svccontext").pipe((0,j.qD)(),(0,m.T)(_e=>_e.hasSucceeded?_e.payload.values[0]:null),(0,L.p)(_e=>!!_e)).subscribe(_e=>{this.openSearchUri=_e,this.updateRssLinks()}))}updateRssLinks(){if(!this.openSearchUri||!this.isEnabled$.getValue())return;this.linkHeadService.removeTag("rel='alternate'");const Ce={...this.searchConfigurationService.paginatedSearchOptions.value};(0,I.a4)(this.sortConfig)&&(Ce.sort=this.sortConfig);const qe=T.c.rest.baseUrl+this.formulateRoute(this.uuid,this.openSearchUri,Ce.sort,Ce.query,Ce.filters,Ce.configuration,Ce.pagination?.pageSize,Ce.fixedFilter);this.addLinks(qe),this.linkHeadService.addTag({href:T.c.rest.baseUrl+"/"+this.openSearchUri+"/service",type:"application/atom+xml",rel:"search",title:"Dspace"}),this.route$.next(qe)}formulateRoute(_e,Ce,qe,Re,nt,Ge,at,Ke){let Te="format=atom";if(_e&&(Te+=`&scope=${_e}`),qe&&qe.direction&&qe.field&&"id"!==qe.field&&(Te+=`&sort=${qe.field}&sort_direction=${qe.direction}`),Te+=Re?`&query=${Re}`:"&query=*",Ge&&(Te+=`&configuration=${Ge}`),at&&(Te+=`&rpp=${at}`),nt)for(const pt of nt)for(const He of pt.values)Te+="&"+pt.key+"="+encodeURIComponent(He)+(pt.operator?","+pt.operator:"");return Ke&&(Te+="&"+Ke),Te="/"+Ce+"?"+Te,Te}addLinks(_e){this.linkHeadService.addTag({href:_e,type:"application/atom+xml",rel:"alternate",title:"Sitewide Atom feed"}),_e=_e.replace("format=atom","format=rss"),this.linkHeadService.addTag({href:_e,type:"application/rss+xml",rel:"alternate",title:"Sitewide RSS feed"})}static{this.\u0275fac=function(Ce){return new(Ce||J)(t.rXU(N.GroupDataService),t.rXU(k.m),t.rXU(x.ConfigurationDataService),t.rXU($.g),t.rXU(S.Ix),t.rXU(S.nX),t.rXU(b.m),t.rXU(e.c$))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-rss"]],inputs:{sortConfig:"sortConfig"},exportAs:["rssComponent"],standalone:!0,features:[t.OA$,t.aNF],decls:3,vars:5,consts:[[1,"d-inline-block","float-end","margin-right"],["target","_blank","rel","noopener noreferrer","role","button","tabindex","0",1,"btn","btn-secondary",3,"href","title"],[1,"fas","fa-rss-square"]],template:function(Ce,qe){1&Ce&&(t.DNE(0,z,2,3),t.nI1(1,"async"),t.nI1(2,"async")),2&Ce&&t.vxM(t.bMT(1,1,qe.isEnabled$)&&t.bMT(2,3,qe.isActivated$)?0:-1)},dependencies:[i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}.margin-right[_ngcontent-%COMP%]{margin-right:.5em}"]})}}return J})(),G=(()=>{class J{transform(_e){const Ce=[];for(const qe in _e)isNaN(parseInt(qe,10))?Ce.push({key:qe,value:_e[qe]}):Ce.push({key:+qe,value:_e[qe]});return Ce}static{this.\u0275fac=function(Ce){return new(Ce||J)}}static{this.\u0275pipe=t.EJ8({name:"dsKeys",type:J,pure:!0,standalone:!0})}}return J})();const X=["*"],Q=J=>({invisible:J});function ee(J,ve){if(1&J&&(t.j41(0,"div",4)(1,"span",8),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"span",9),t.EFF(5),t.nI1(6,"async"),t.nI1(7,"translate"),t.k0s()()),2&J){const _e=t.XpG(3);t.R7$(2),t.JRh(t.bMT(3,2,"pagination.showing.label")),t.R7$(3),t.JRh(t.i5U(7,6,"pagination.showing.detail",t.bMT(6,4,_e.showingDetails$)))}}function ie(J,ve){if(1&J){const _e=t.RV6();t.j41(0,"li",16),t.nI1(1,"async"),t.j41(2,"button",17),t.bIt("click",function(){const qe=t.eBV(_e).$implicit,Re=t.XpG(4);return t.Njj(Re.doPageSizeChange(qe))}),t.nrm(3,"i",18),t.nI1(4,"async"),t.EFF(5),t.k0s()()}if(2&J){const _e=ve.$implicit,Ce=t.XpG(4);t.BMQ("aria-selected",_e===t.bMT(1,3,Ce.pageSize$)),t.R7$(3),t.Y8G("ngClass",t.eq3(7,Q,_e!==t.bMT(4,5,Ce.pageSize$))),t.R7$(2),t.SpI(" ",_e," ")}}function te(J,ve){if(1&J){const _e=t.RV6();t.j41(0,"li",16),t.nI1(1,"async"),t.j41(2,"button",17),t.bIt("click",function(){const qe=t.eBV(_e).$implicit,Re=t.XpG(5);return t.Njj(Re.doSortDirectionChange(qe.value))}),t.nrm(3,"i",18),t.nI1(4,"async"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}if(2&J){const _e=ve.$implicit,Ce=t.XpG(5);t.BMQ("aria-selected",_e.value===t.bMT(1,3,Ce.sortDirection$)),t.R7$(3),t.Y8G("ngClass",t.eq3(9,Q,_e.value!==t.bMT(4,5,Ce.sortDirection$))),t.R7$(2),t.SpI(" ",t.bMT(6,7,"sorting."+_e.key)," ")}}function he(J,ve){if(1&J&&(t.j41(0,"li",13)(1,"span",19),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ul",20),t.Z7z(5,te,7,11,"li",16,t.fX1),t.nI1(7,"dsKeys"),t.k0s()()),2&J){const _e=t.XpG(4);t.R7$(2),t.JRh(t.bMT(3,1,"pagination.sort-direction")),t.R7$(3),t.Dyx(t.bMT(7,3,_e.sortDirections))}}function ye(J,ve){if(1&J&&(t.j41(0,"div",6,0)(2,"button",10),t.nI1(3,"translate"),t.nI1(4,"translate"),t.nrm(5,"i",11),t.k0s(),t.j41(6,"ul",12)(7,"li",13)(8,"span",14),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"ul",15),t.Z7z(12,ie,6,9,"li",16,t.fX1),t.k0s()(),t.DNE(14,he,8,5,"li",13),t.k0s()()),2&J){const _e=t.XpG(3);t.R7$(2),t.Y8G("title",t.bMT(3,4,"pagination.options.description")),t.BMQ("aria-label",t.bMT(4,6,"pagination.options.description")),t.R7$(7),t.JRh(t.bMT(10,8,"pagination.results-per-page")),t.R7$(3),t.Dyx(_e.pageSizeOptions),t.R7$(2),t.vxM(!1===_e.hideSortOptions?14:-1)}}function re(J,ve){if(1&J&&t.nrm(0,"ds-rss",7),2&J){const _e=t.XpG(3);t.Y8G("sortConfig",_e.rssSortOptions)}}function ce(J,ve){if(1&J&&(t.j41(0,"div",2)(1,"div",3),t.DNE(2,ee,8,9,"div",4),t.j41(3,"div",5),t.DNE(4,ye,15,10,"div",6)(5,re,1,1,"ds-rss",7),t.k0s()()()),2&J){const _e=t.XpG(2);t.R7$(2),t.vxM(!_e.hidePaginationDetail&&_e.collectionSize>0?2:-1),t.R7$(2),t.vxM(_e.hideGear?-1:4),t.R7$(),t.vxM(!1!==_e.showRSS?5:-1)}}function Z(J,ve){if(1&J){const _e=t.RV6();t.j41(0,"div",21)(1,"ngb-pagination",23),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"translate"),t.bIt("pageChange",function(qe){t.eBV(_e);const Re=t.XpG(3);return t.Njj(Re.doPageChange(qe))}),t.k0s()()}if(2&J){const _e=t.XpG(3);t.R7$(),t.Y8G("boundaryLinks",_e.paginationOptions.boundaryLinks)("collectionSize",_e.collectionSize)("disabled",_e.paginationOptions.disabled)("ellipses",_e.paginationOptions.ellipses)("maxSize",_e.isXs?5:_e.paginationOptions.maxSize)("page",t.bMT(2,10,_e.currentPage$))("pageSize",t.bMT(3,12,_e.pageSize$))("rotate",_e.paginationOptions.rotate)("size",_e.isXs?"sm":_e.paginationOptions.size),t.BMQ("aria-label",t.bMT(4,14,"pagination-control.page-number-bar")+_e.paginationOptions.id)}}function ne(J,ve){if(1&J){const _e=t.RV6();t.j41(0,"div",22)(1,"button",24),t.bIt("click",function(){t.eBV(_e);const qe=t.XpG(3);return t.Njj(qe.goPrev())}),t.nrm(2,"i",25),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",26),t.bIt("click",function(){t.eBV(_e);const qe=t.XpG(3);return t.Njj(qe.goNext())}),t.j41(6,"span",27),t.nI1(7,"translate"),t.nrm(8,"i",28),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()}if(2&J){const _e=t.XpG(3);t.R7$(),t.Y8G("dsBtnDisabled",(null==_e.objects||null==_e.objects.payload?null:_e.objects.payload.currentPage)<=1&&(null==_e.paginationOptions?null:_e.paginationOptions.currentPage)<=1),t.R7$(2),t.SpI(" ",t.bMT(4,5,"pagination.previous.button")," "),t.R7$(2),t.Y8G("dsBtnDisabled",(null==_e.objects||null==_e.objects.payload?null:_e.objects.payload.currentPage)>=(null==_e.objects||null==_e.objects.payload?null:_e.objects.payload.totalPages)||(null==_e.paginationOptions?null:_e.paginationOptions.currentPage)>=(null==_e.objects||null==_e.objects.payload?null:_e.objects.payload.totalPages)),t.R7$(),t.Y8G("ngbTooltip",(null==_e.objects||null==_e.objects.payload?null:_e.objects.payload.currentPage)>=(null==_e.objects||null==_e.objects.payload?null:_e.objects.payload.totalPages)?t.bMT(7,7,"pagination.next.button.disabled.tooltip"):null),t.R7$(3),t.SpI(" ",t.bMT(10,9,"pagination.next.button")," ")}}function fe(J,ve){if(1&J&&(t.j41(0,"div"),t.DNE(1,Z,5,16,"div",21)(2,ne,11,11,"div",22),t.k0s()),2&J){const _e=t.XpG(2);t.R7$(),t.vxM(_e.showPaginator?1:-1),t.R7$(),t.vxM(_e.showPaginator?-1:2)}}function ae(J,ve){if(1&J&&(t.j41(0,"div",1),t.DNE(1,ce,6,3,"div",2),t.SdG(2),t.DNE(3,fe,3,2,"div"),t.nI1(4,"async"),t.k0s()),2&J){const _e=t.XpG();t.Y8G("id","p-"+_e.id),t.R7$(),t.vxM(!_e.hidePaginationDetail&&_e.collectionSize>0||!_e.hideGear?1:-1),t.R7$(2),t.vxM(t.bMT(4,3,_e.showBottomPager$)?3:-1)}}let oe=(()=>{class J{ngOnInit(){this.subs.push(this.hostWindowService.isXs().subscribe(_e=>{this.isXs=_e,this.cdRef.markForCheck()})),this.checkConfig(this.paginationOptions),this.initializeConfig()}ngOnChanges(_e){(0,I.a4)(_e.collectionSize)&&(this.showingDetails$=this.getShowingDetails(this.collectionSize))}ngOnDestroy(){this.subs.filter(_e=>(0,I.a4)(_e)).forEach(_e=>_e.unsubscribe())}initializeConfig(){let _e;this.id=this.paginationOptions.id||null,this.pageSizeOptions=this.paginationOptions.pageSizeOptions,this.currentPage$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(Ce=>Ce.currentPage)),this.pageSize$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(Ce=>Ce.pageSize)),_e=this.sortOptions?this.sortOptions:new y.z(this.defaultSortField,this.defaultsortDirection),this.sortDirection$=this.paginationService.getCurrentSort(this.id,_e).pipe((0,m.T)(Ce=>Ce.direction)),this.sortField$=this.paginationService.getCurrentSort(this.id,_e).pipe((0,m.T)(Ce=>Ce.field)),this.showBottomPager$=this.shouldShowBottomPager}constructor(_e,Ce,qe){this.cdRef=_e,this.paginationService=Ce,this.hostWindowService=qe,this.viewMode=P.n.ListElement,this.showPaginator=!0,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.sortFieldChange=new t.bkB,this.paginationChange=new t.bkB,this.hidePaginationDetail=!1,this.hideGear=!1,this.hideSortOptions=!1,this.hidePagerWhenSinglePage=!0,this.retainScrollPosition=!1,this.showRSS=!1,this.currentPageState=void 0,this.sortDirections=y.U,this.defaultsortDirection=y.U.ASC,this.defaultSortField="name",this.subs=[],this.prev=new t.bkB,this.next=new t.bkB}doPageChange(_e){this.updateParams({page:_e}),this.emitPaginationChange()}doPageSizeChange(_e){this.updateParams({page:1,pageSize:_e}),this.emitPaginationChange()}doSortDirectionChange(_e){this.updateParams({page:1,sortDirection:_e}),this.emitPaginationChange()}emitPaginationChange(){this.paginationChange.emit()}updateParams(_e){this.paginationService.updateRoute(this.id,_e,{},this.retainScrollPosition)}getShowingDetails(_e){return(0,p.of)(_e).pipe((0,I.Az)(),(0,f.n)(()=>this.paginationService.getCurrentPagination(this.id,this.paginationOptions)),(0,m.T)(Ce=>{let qe;const Re=Ce.pageSize*Ce.currentPage;return qe=_e>Re?Re:_e,{range:`${Ce.pageSize*(Ce.currentPage-1)+1} - ${qe}`,total:_e}}),(0,v.Z)({range:"null - null",total:null}))}checkConfig(_e){const qe=["id","currentPage","pageSize","pageSizeOptions"].filter(Re=>!(Re in _e));if(0<qe.length)throw new Error("Paginate: Argument is missing the following required properties: "+qe.join(", "))}get hasMultiplePages(){return this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(_e=>this.collectionSize>_e.pageSize))}get shouldShowBottomPager(){return this.hasMultiplePages.pipe((0,m.T)(_e=>_e||!this.hidePagerWhenSinglePage))}goPrev(){this.prev.emit(!0),this.updatePagination(-1)}goNext(){this.next.emit(!0),this.updatePagination(1)}updatePagination(_e){this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,E.s)(1)).subscribe(Ce=>{this.updateParams({page:Ce.currentPage+_e})})}get rssSortOptions(){return!1!==this.showRSS&&this.showRSS instanceof y.z&&null!==this.showRSS.direction&&null!==this.showRSS.field?this.showRSS:this.sortOptions}static{this.\u0275fac=function(Ce){return new(Ce||J)(t.rXU(t.gRc),t.rXU(b.m),t.rXU(h.CV))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-pagination"]],inputs:{collectionSize:"collectionSize",paginationOptions:"paginationOptions",sortOptions:"sortOptions",showPaginator:"showPaginator",config:"config",objects:"objects",sortConfig:"sortConfig",hidePaginationDetail:"hidePaginationDetail",hideGear:"hideGear",hideSortOptions:"hideSortOptions",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",retainScrollPosition:"retainScrollPosition",showRSS:"showRSS"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",sortFieldChange:"sortFieldChange",paginationChange:"paginationChange",prev:"prev",next:"next"},exportAs:["paginationComponent"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:X,decls:2,vars:3,consts:[["paginationControls","ngbDropdown"],[3,"id"],[1,"pagination-masked","clearfix","top"],[1,"row"],[1,"col-auto","pagination-info"],[1,"col"],["ngbDropdown","","placement","bottom-right",1,"d-inline-block","float-end"],[3,"sortConfig"],[1,"align-middle","hidden-xs-down"],[1,"align-middle"],["id","paginationControls","ngbDropdownToggle","","aria-haspopup","true","aria-expanded","false","role","button","tabindex","0",1,"btn","btn-secondary",3,"title"],["aria-hidden","true",1,"fas","fa-cog"],["id","paginationControlsDropdownMenu","aria-labelledby","paginationControls","role","menu","ngbDropdownMenu",""],["role","menuitem"],["id","pagination-control_results-per-page","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_results-per-page","role","listbox",1,"list-unstyled"],["role","option"],["role","button","tabindex","0",1,"dropdown-item",3,"click"],["aria-hidden","true",1,"fas","fa-check",3,"ngClass"],["id","pagination-control_sort-direction","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_sort-direction","role","listbox",1,"list-unstyled"],[1,"pagination","justify-content-center","clearfix","bottom"],[1,"d-flex","justify-content-between"],[3,"pageChange","boundaryLinks","collectionSize","disabled","ellipses","maxSize","page","pageSize","rotate","size"],["id","nav-prev","type","button","role","button","tabindex","0",1,"btn","btn-outline-primary","float-start",3,"click","dsBtnDisabled"],[1,"fas","fa-angle-left"],["id","nav-next","type","button","role","button","tabindex","0",1,"btn","btn-outline-primary","float-end",3,"click","dsBtnDisabled"],[3,"ngbTooltip"],[1,"fas","fa-angle-right"]],template:function(Ce,qe){1&Ce&&(t.NAR(),t.DNE(0,ae,5,5,"div",1),t.nI1(1,"async")),2&Ce&&t.vxM(void 0===qe.currentPageState||qe.currentPageState===t.bMT(1,1,qe.currentPage$)?0:-1)},dependencies:[i.Jj,D.A,G,c.zH,c.tg,c.do,c.U0,c.c9,c.s5,c.n8,c.md,i.YU,V,e.h,e.D9],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"]})}}return J})()},34180:(B,C,n)=>{"use strict";n.d(C,{CX:()=>v,PM:()=>y,SP:()=>f,V7:()=>h,Wh:()=>P});var i=n(21626),t=n(7673),c=n(78544),e=n(25788),p=n(85186);const m=(new Date).getTime();function f(S,O=m){return new e.j(O,c.c.cache.msToLive.default,O,p.zE.Success,void 0,S,200)}function v(S,O){return(0,t.of)(f(S,O))}function E(S,O,L=15778368e5){return new e.j(L,c.c.cache.msToLive.default,L,p.zE.Error,S,void 0,O)}function y(S,O,L){return(0,t.of)(E(S,O,L))}function P(S){return f(void 0,S)}function h(S){return(0,t.of)(function I(S){const O=E();return S instanceof Error&&(O.errorMessage=S.message),S instanceof i.yz&&(O.statusCode=S.status),O}(S))}},93164:(B,C,n)=>{"use strict";n.d(C,{U:()=>p});var i=n(29710),t=n(54438);const c=["*"];function e(m,f){}let p=(()=>{class m extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["back","buttonLabel"]}getComponentName(){return"ResultsBackButtonComponent"}importThemedComponent(v){return n(79086)(`./${v}/app/shared/results-back-button/results-back-button.component`)}importUnthemedComponent(){return n.e(2076).then(n.bind(n,89296))}static{this.\u0275fac=(()=>{let v;return function(y){return(v||(v=t.xGo(m)))(y||m)}})()}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-results-back-button"]],inputs:{buttonLabel:"buttonLabel",back:"back"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:c,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(E,y){1&E&&(t.NAR(),t.DNE(0,e,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return m})()},44461:(B,C,n)=>{"use strict";n.d(C,{q:()=>v});var i=n(84572),t=n(5964),c=n(96354),e=n(61594),p=n(70161),m=n(89777),f=n(54438);let v=(()=>{class E{constructor(M,b,P,D){this.roleService=M,this.viewContainer=b,this.changeDetector=P,this.templateRef=D,this.subs=[]}ngOnChanges(M){this.hasRoles(this.dsShowOnlyForRole),M.dsShowOnlyForRole?this.validateOnly():M.dsShowExceptForRole&&this.validateExcept()}ngOnDestroy(){this.subs.filter(M=>(0,m.a4)(M)).forEach(M=>M.unsubscribe())}showTemplateBlockInView(){this.viewContainer.clear(),this.templateRef&&(this.viewContainer.createEmbeddedView(this.templateRef),this.changeDetector.markForCheck())}validateOnly(){this.subs.push(this.hasRoles(this.dsShowOnlyForRole).pipe((0,t.p)(M=>M)).subscribe(M=>{this.showTemplateBlockInView()}))}validateExcept(){this.subs.push(this.hasRoles(this.dsShowExceptForRole).pipe((0,t.p)(M=>!M)).subscribe(M=>{this.showTemplateBlockInView()}))}hasRoles(M){const P=(Array.isArray(M)?M:[M]).map(D=>this.roleService.checkRole(D));return(0,i.z)(P).pipe((0,c.T)(D=>D.includes(!0)),(0,e.$)())}static{this.\u0275fac=function(b){return new(b||E)(f.rXU(p.W),f.rXU(f.c1b),f.rXU(f.gRc),f.rXU(f.C4Q))}}static{this.\u0275dir=f.FsC({type:E,selectors:[["","dsShowOnlyForRole",""],["","dsShowExceptForRole",""]],inputs:{dsShowOnlyForRole:"dsShowOnlyForRole",dsShowExceptForRole:"dsShowExceptForRole"},standalone:!0,features:[f.OA$]})}}return E})()},84733:(B,C,n)=>{"use strict";n.d(C,{$s:()=>t,Jc:()=>c,aE:()=>p,zX:()=>e});var i=n(6800);const t={ADD:(0,i.N)("dspace/css-variables/ADD"),ADD_ALL:(0,i.N)("dspace/css-variables/ADD_ALL"),CLEAR:(0,i.N)("dspace/css-variables/CLEAR")};class c{constructor(f,v){this.type=t.ADD,this.payload={name:f,value:v}}}class e{constructor(f){this.type=t.ADD_ALL,this.payload=f}}class p{constructor(){this.type=t.CLEAR}}},87837:(B,C,n)=>{"use strict";n.d(C,{J:()=>v});var i=n(59640),t=n(23679),c=n(58956),e=n(73409),p=n(89777),m=n(84733),f=n(54438);let v=(()=>{class P{constructor(I){this.store=I,this.isSameDomain=h=>!h.href||0===h.href.indexOf(window.location.origin),this.hasCssRules=h=>{try{return h.cssRules}catch{return!1}},this.isStyleRule=h=>1===h.type}addCSSVariable(I,h){this.store.dispatch(new m.Jc(I,h))}addCSSVariables(I){this.store.dispatch(new m.zX(I))}clearCSSVariables(){this.store.dispatch(new m.aE)}getVariable(I){return this.store.pipe((0,i.Lt)(y(I)))}getAllVariables(){return this.store.pipe((0,i.Lt)(E))}searchVariable(I,h){return this.store.pipe((0,i.Lt)(M(I,h)))}getCSSVariablesFromStylesheets(I){return(0,p.hj)(I.styleSheets)?[...I.styleSheets].filter(this.isSameDomain).filter(this.hasCssRules).reduce((h,S)=>h.concat([...S.cssRules].filter(this.isStyleRule).reduce((O,L)=>[...O,...[...L.style].map(x=>({key:x.trim(),value:L.style.getPropertyValue(x).trim()})).filter(({key:x})=>0===x.indexOf("--"))],[])),[]):[]}static{this.\u0275fac=function(h){return new(h||P)(f.KVO(i.il))}}static{this.\u0275prov=f.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})();const E=P=>P.cssVariables,y=P=>(0,t.pc)(P,E),M=(P,D)=>(0,i.Mz)(b(P),I=>{if((0,p.a4)(I)){const{currentPage:h,pageSize:S}=D,O=(h-1)*S,T=I.slice(O,O+S),x=Math.ceil(I.length/S),N=new e.Q({currentPage:h,elementsPerPage:S,totalElements:I.length,totalPages:x});return(0,c.g)(N,T)}}),b=P=>(0,i.Mz)(E,D=>{if((0,p.a4)(D))return Object.keys(D).filter(I=>I.includes(P)).map(I=>({key:I,value:D[I]}))})},19375:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SearchFormComponent:()=>z});var i=n(60177),t=n(54438),c=n(89417),e=n(58003),p=n(68018),m=n(84412),f=n(96697),v=n(43446),E=n(98733),y=n(31),M=n(4093),b=n(94314),P=n(82584),D=n(4255),I=n(89777),h=n(33745),S=n(54034),O=n(78544),L=n(70998),T=n(40940),x=n(93136),N=n(16903),j=n(44905),$=n(7901);let k=(()=>{class V extends j.${constructor(X,Q){super(X,Q),this.activeModal=X,this.route=Q,this.Context=T.o,this.objectType=x.W.COMMUNITY,this.selectorTypes=[x.W.COMMUNITY,x.W.COLLECTION],this.action=j.u.SET_SCOPE,this.scopeChange=new t.bkB,this.defaultSort=new L.z(O.c.comcolSelectionSort.sortField,O.c.comcolSelectionSort.sortDirection)}navigate(X){this.scopeChange.emit(X)}static{this.\u0275fac=function(Q){return new(Q||V)(t.rXU(e.Lw),t.rXU($.nX))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-scope-selector-modal"]],standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:16,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"btn","btn-outline-primary","btn-lg","btn-block","w-100",3,"click"],[1,"position-relative","py-1","my-3","fw-normal","h3"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"],[1,"px-2","h5"],[3,"onSelect","context","currentDSOId","types","sort"]],template:function(Q,ee){1&Q&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return ee.selectObject(void 0)}),t.k0s()(),t.j41(5,"div",2)(6,"button",3),t.bIt("click",function(){return ee.selectObject(void 0)}),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",4),t.nrm(10,"hr"),t.j41(11,"div",5)(12,"span",6),t.EFF(13),t.nI1(14,"translate"),t.k0s()()(),t.j41(15,"h2",7),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.j41(18,"ds-dso-selector",8),t.bIt("onSelect",function(te){return ee.selectObject(te)}),t.k0s()()()),2&Q&&(t.R7$(2),t.SpI("",t.bMT(3,8,"dso-selector."+ee.action+"."+ee.objectType.toString().toLowerCase()+".head")," "),t.R7$(5),t.JRh(t.bMT(8,10,"dso-selector."+ee.action+"."+ee.objectType.toString().toLowerCase()+".button")),t.R7$(6),t.JRh(t.bMT(14,12,"dso-selector."+ee.action+"."+ee.objectType.toString().toLowerCase()+".or-divider")),t.R7$(3),t.JRh(t.bMT(17,14,"dso-selector."+ee.action+"."+ee.objectType.toString().toLowerCase()+".input-header")),t.R7$(2),t.Y8G("context",ee.Context.ScopeSelectorModal)("currentDSOId",null==ee.dsoRD?null:ee.dsoRD.payload.uuid)("types",ee.selectorTypes)("sort",ee.defaultSort))},dependencies:[N.x,p.h,p.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}}return V})();function K(V,G){if(1&V){const X=t.RV6();t.j41(0,"button",7),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(X);const ee=t.XpG();return t.Njj(ee.openScopeModal())}),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s()}if(2&V){const X=t.XpG();t.Y8G("ngbTooltip",X.dsoNameService.getName(t.bMT(1,2,X.selectedScope))),t.R7$(2),t.SpI(" ",X.dsoNameService.getName(t.bMT(3,4,X.selectedScope))||t.bMT(4,6,"search.form.scope.all")," ")}}let z=(()=>{class V{constructor(X,Q,ee,ie,te,he,ye,re){this.router=X,this.searchService=Q,this.searchFilterService=ee,this.paginationService=ie,this.searchConfig=te,this.modalService=he,this.dsoService=ye,this.dsoNameService=re,this.scope="",this.hideScopeInUrl=!1,this.selectedScope=new m.t(void 0),this.large=!1,this.brandColor="primary",this.showScopeSelector=!1,this.submitSearch=new t.bkB}ngOnChanges(){(0,I.hj)(this.scope)&&this.dsoService.findById(this.scope).pipe((0,M.ak)()).subscribe(X=>this.selectedScope.next(X))}onSubmit(X){(0,I.hj)(this.scope)&&(X=Object.assign(X,{scope:this.scope})),this.updateSearch(X),this.submitSearch.emit(X)}onScopeChange(X){this.updateSearch({scope:X?X.uuid:void 0}),this.searchFilterService.minimizeAll()}updateSearch(X){const ee=Object.assign({"spc.page":1},X);(0,I.a4)(X.scope)&&this.hideScopeInUrl&&delete ee.scope,this.router.navigate(this.getSearchLinkParts(),{queryParams:ee,queryParamsHandling:"merge"})}getSearchLink(){return this.inPlaceSearch?(0,S.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}openScopeModal(){this.modalService.open(k).componentInstance.scopeChange.pipe((0,f.s)(1)).subscribe(Q=>{this.selectedScope.next(Q),this.onScopeChange(Q)})}static{this.\u0275fac=function(Q){return new(Q||V)(t.rXU($.Ix),t.rXU(b.S),t.rXU(D.U),t.rXU(y.m),t.rXU(P.g),t.rXU(e.Bq),t.rXU(E.DSpaceObjectDataService),t.rXU(v.f))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-base-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[t.OA$,t.aNF],decls:12,vars:16,consts:[["form","ngForm"],["action","/search",3,"ngSubmit"],[1,"mb-3","input-group"],["type","button","role","button","tabindex","0",1,"scope-button","btn","btn-outline-secondary","text-truncate",3,"ngbTooltip"],["type","text","name","query","tabindex","0",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","submit","role","button","tabindex","0"],[1,"fas","fa-search"],["type","button","role","button","tabindex","0",1,"scope-button","btn","btn-outline-secondary","text-truncate",3,"click","ngbTooltip"]],template:function(Q,ee){if(1&Q){const ie=t.RV6();t.j41(0,"form",1,0),t.bIt("ngSubmit",function(){t.eBV(ie);const he=t.sdS(1);return t.Njj(ee.onSubmit(he.value))}),t.j41(2,"div")(3,"div",2),t.DNE(4,K,5,8,"button",3),t.j41(5,"input",4),t.nI1(6,"dsBrowserOnly"),t.mxI("ngModelChange",function(he){return t.eBV(ie),t.DH7(ee.query,he)||(ee.query=he),t.Njj(he)}),t.k0s(),t.j41(7,"button",5),t.nI1(8,"dsBrowserOnly"),t.nrm(9,"i",6),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()()}2&Q&&(t.R7$(4),t.vxM(ee.showScopeSelector?4:-1),t.R7$(),t.R50("ngModel",ee.query),t.Y8G("placeholder",ee.searchPlaceholder),t.BMQ("aria-label",ee.searchPlaceholder)("data-test",t.bMT(6,10,"search-box")),t.R7$(2),t.ZvI("search-button btn btn-",ee.brandColor,""),t.BMQ("data-test",t.bMT(8,12,"search-button")),t.R7$(3),t.SpI(" ",t.bMT(11,14,"search.form.search"),""))},dependencies:[i.Jj,h.L,c.YN,c.qT,c.me,c.BC,c.cb,c.vS,c.cV,e.n8,e.md,p.h,p.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.scope-button[_ngcontent-%COMP%]{max-width:var(--ds-search-form-scope-max-width)}"]})}}return V})()},43144:(B,C,n)=>{"use strict";n.d(C,{d:()=>m});var i=n(54438),t=n(29710);n(19375);const e=["*"];function p(f,v){}let m=(()=>{class f extends t.J{constructor(){super(...arguments),this.submitSearch=new i.bkB,this.inAndOutputNames=["query","inPlaceSearch","scope","hideScopeInUrl","currentUrl","large","brandColor","searchPlaceholder","showScopeSelector","submitSearch"]}getComponentName(){return"SearchFormComponent"}importThemedComponent(E){return n(76142)(`./${E}/app/shared/search-form/search-form.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,19375))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=i.xGo(f)))(M||f)}})()}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(i.NAR(),i.DNE(0,p,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return f})()},36237:(B,C,n)=>{"use strict";n.d(C,{Q:()=>L});var i=n(60177),t=n(89417),c=n(68018),e=n(7673),p=n(96697),m=n(79096),f=n(94314),v=n(82584),E=n(4255),y=n(79104),M=n(89777),b=n(73336),P=n(39356),D=n(54438),I=n(7901);const h=(T,x)=>x.filter;function S(T,x){if(1&T&&(D.j41(0,"option",3),D.EFF(1),D.nI1(2,"translate"),D.k0s()),2&T){const N=x.$implicit;D.Y8G("value",N.filter),D.R7$(),D.SpI(" ",D.bMT(2,2,"search.filters.filter."+N.filter+".head")," ")}}function O(T,x){if(1&T&&(D.j41(0,"option",3),D.EFF(1),D.nI1(2,"translate"),D.k0s()),2&T){const N=x.$implicit;D.Y8G("value",N.operator),D.R7$(),D.SpI(" ",D.bMT(2,2,"search.filters.operator."+N.operator+".text")," ")}}let L=(()=>{class T{constructor(N,j,$,k,K){this.router=N,this.searchService=j,this.searchConfigurationService=$,this.searchFilterService=k,this.appConfig=K,this.advancedFilterMap=new Map,this.currentValue="",this.filterSearchResults$=(0,e.of)([]),this.subs=[]}ngOnInit(){this.advancedFilters$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.scope),this.subs.push(this.advancedFilters$.subscribe(N=>{const j=new Map;if(N.length>0){this.currentFilter=N[0].filter,this.currentOperator=N[0].operators[0].operator;for(const $ of N)$.type!==P.R.range&&j.set($.filter,$)}this.advancedFilterMap=j}))}ngOnDestroy(){this.subs.forEach(N=>N.unsubscribe())}findSuggestions(N){if((0,M.a4)(this.filtersConfig))for(const j of this.filtersConfig)j.name===this.currentFilter&&(this.filterSearchResults$=this.searchFilterService.findSuggestions(j,this.searchConfigurationService.searchOptions.value,N))}applyFilter(){(0,M.hj)(this.currentValue)&&(this.searchFilterService.minimizeAll(),this.subs.push(this.searchConfigurationService.selectNewAppliedFilterParams(this.currentFilter,this.currentValue.trim(),this.currentOperator).pipe((0,p.s)(1)).subscribe(N=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:N}),this.currentValue=""})))}static{this.\u0275fac=function(j){return new(j||T)(D.rXU(I.Ix),D.rXU(f.S),D.rXU(v.g),D.rXU(E.U),D.rXU(m.vQ))}}static{this.\u0275cmp=D.VBU({type:T,selectors:[["ds-advanced-search"]],inputs:{configuration:"configuration",filtersConfig:"filtersConfig",scope:"scope"},standalone:!0,features:[D.aNF],decls:27,vars:32,consts:[[1,"advanced-search","b-3","p-3"],["for","advanced-search-filters",1,"sr-only"],["id","advanced-search-filters",1,"form-select","mb-2",3,"ngModelChange","keyup.enter","ngModel"],[3,"value"],["for","advanced-search-operators",1,"sr-only"],["id","advanced-search-operators",1,"form-select","mb-2",3,"ngModelChange","keyup.enter","ngModel"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],[1,"btn","btn-primary","mt-2",3,"click","dsBtnDisabled"]],template:function(j,$){if(1&j&&(D.j41(0,"h3"),D.EFF(1),D.nI1(2,"translate"),D.k0s(),D.j41(3,"div",0)(4,"h4"),D.EFF(5),D.nI1(6,"translate"),D.k0s(),D.j41(7,"label",1),D.EFF(8),D.nI1(9,"translate"),D.k0s(),D.j41(10,"select",2),D.mxI("ngModelChange",function(K){return D.DH7($.currentFilter,K)||($.currentFilter=K),K}),D.bIt("keyup.enter",function(){return $.applyFilter()})("ngModelChange",function(){return $.currentOperator=$.advancedFilterMap.get($.currentFilter).operators[0].operator}),D.Z7z(11,S,3,4,"option",3,h),D.nI1(13,"async"),D.k0s(),D.j41(14,"label",4),D.EFF(15),D.nI1(16,"translate"),D.k0s(),D.j41(17,"select",5),D.mxI("ngModelChange",function(K){return D.DH7($.currentOperator,K)||($.currentOperator=K),K}),D.bIt("keyup.enter",function(){return $.applyFilter()}),D.Z7z(18,O,3,4,"option",3,D.fX1),D.k0s(),D.j41(20,"ds-filter-input-suggestions",6),D.nI1(21,"async"),D.nI1(22,"translate"),D.nI1(23,"translate"),D.mxI("ngModelChange",function(K){return D.DH7($.currentValue,K)||($.currentValue=K),K}),D.bIt("submitSuggestion",function(){return $.applyFilter()})("findSuggestions",function(K){return $.findSuggestions(K)}),D.k0s(),D.j41(24,"button",7),D.bIt("click",function(){return $.applyFilter()}),D.EFF(25),D.nI1(26,"translate"),D.k0s()()),2&j){let k;D.R7$(),D.JRh(D.bMT(2,14,"search.sidebar.advanced-search.title")),D.R7$(4),D.JRh(D.bMT(6,16,"search.sidebar.advanced-search.filter-by")),D.R7$(3),D.SpI(" ",D.bMT(9,18,"search.sidebar.advanced-search.filters")," "),D.R7$(2),D.R50("ngModel",$.currentFilter),D.R7$(),D.Dyx(D.bMT(13,20,$.advancedFilters$)),D.R7$(4),D.SpI(" ",D.bMT(16,22,"search.sidebar.advanced-search.operators")," "),D.R7$(2),D.R50("ngModel",$.currentOperator),D.R7$(),D.Dyx(null==(k=$.advancedFilterMap.get($.currentFilter))?null:k.operators),D.R7$(2),D.Y8G("suggestions",D.bMT(21,24,$.filterSearchResults$))("placeholder",D.bMT(22,26,"search.filters.filter."+$.currentFilter+".placeholder"))("label",D.bMT(23,28,"search.filters.filter."+$.currentFilter+".label"))("action",$.router.url)("name","f."+$.currentFilter),D.R50("ngModel",$.currentValue),D.R7$(4),D.Y8G("dsBtnDisabled",""===$.currentValue),D.R7$(),D.SpI(" ",D.bMT(26,30,"search.sidebar.advanced-search.add")," ")}},dependencies:[i.Jj,y.A,b.H,t.YN,t.xH,t.y7,t.me,t.wz,t.BC,t.vS,c.h,c.D9],styles:["[_nghost-%COMP%]     ds-filter-input-suggestions label span{display:none}.advanced-search[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return T})()},43537:(B,C,n)=>{"use strict";n.d(C,{S:()=>c});var i=n(31635),t=n(74850);class c{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"filter",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"operator",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"label",void 0)},76391:(B,C,n)=>{"use strict";n.d(C,{L:()=>f});var i=n(31635),t=n(74850),c=n(72153),e=n(94152);const m=new(n(44043).v)("discovery-facets");let f=class{constructor(){this.type=m}static{this.type=m}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",Object)],f.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([c.gV],f)},75594:(B,C,n)=>{"use strict";n.d(C,{L:()=>c});var i=n(31635),t=n(74850);class c{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"label",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"label"),(0,i.Sn)("design:type",String)],c.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],c.prototype,"count",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],c.prototype,"authorityKey",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],c.prototype,"_links",void 0)},92832:(B,C,n)=>{"use strict";n.d(C,{E:()=>M});var i=n(31635),t=n(74850),c=n(72153),e=n(58956),p=n(94152),m=n(75594),v=(n(39356),n(75370));const y=new(n(44043).v)("discovery-facetvalues");let M=class extends v.a{constructor(){super(...arguments),this.type=y}static{this.type=y}};(0,i.Cg)([p.aK,(0,i.Sn)("design:type",Object)],M.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],M.prototype,"name",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetType"),(0,i.Sn)("design:type",String)],M.prototype,"filterType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],M.prototype,"facetLimit",void 0),(0,i.Cg)([(0,t.autoserializeAs)(m.L,"values"),(0,i.Sn)("design:type",Array)],M.prototype,"page",void 0),M=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(e.O),(0,t.inheritSerialization)(v.a)],M)},39356:(B,C,n)=>{"use strict";n.d(C,{R:()=>i});var i=function(t){return t.authority="authority",t.text="text",t.range="date",t.hierarchy="hierarchical",t.boolean="standard",t}(i||{})},30726:(B,C,n)=>{"use strict";n.d(C,{C:()=>c});var i=n(89777),t=n(25472);class c extends t.n{constructor(p){super(p),this.pagination=p.pagination,this.sort=p.sort,this.view=p.view}toRestUrl(p,m=[]){return(0,i.hj)(this.sort)&&m.push(`sort=${this.sort.field},${this.sort.direction}`),(0,i.hj)(this.pagination)&&(m.push("page="+(this.pagination.currentPage-1)),m.push(`size=${this.pagination.pageSize}`)),super.toRestUrl(p,m)}}},48337:(B,C,n)=>{"use strict";n.d(C,{F:()=>v});var i=n(31635),t=n(74850),c=n(72153),e=n(94152);n(39356);const f=new(n(44043).v)("discovery-filter");let v=class{constructor(){this.type=f,this.pageSize=5}static{this.type=f}get paramName(){return"f."+this.name}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",Object)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"name",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetType"),(0,i.Sn)("design:type",String)],v.prototype,"filterType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"hasFacets",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetLimit"),(0,i.Sn)("design:type",Object)],v.prototype,"pageSize",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"openByDefault"),(0,i.Sn)("design:type",Boolean)],v.prototype,"isOpenByDefault",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"maxValue",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"minValue",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([c.gV],v)},97104:(B,C,n)=>{"use strict";n.d(C,{n:()=>y});var i=n(31635),t=n(74850),c=n(72153),e=n(58956),p=n(94152),m=n(75370),f=n(49891);const E=new(n(44043).v)("discovery-objects");let y=class extends m.a{constructor(){super(...arguments),this.type=E}static{this.type=E}};(0,i.Cg)([p.aK,(0,i.Sn)("design:type",Object)],y.prototype,"type",void 0),(0,i.Cg)([(0,t.autoserializeAs)(f.q,"objects"),(0,i.Sn)("design:type",Array)],y.prototype,"page",void 0),y=(0,i.Cg)([c.gV,(0,t.inheritSerialization)(e.O),(0,t.inheritSerialization)(m.a)],y)},25472:(B,C,n)=>{"use strict";n.d(C,{n:()=>e});var i=n(19192),t=n(5127),c=n(89777);class e{constructor(m){this.view=i.n.ListElement,this.configuration=m.configuration,this.scope=m.scope,this.query=m.query,this.dsoTypes=m.dsoTypes,this.filters=m.filters,this.fixedFilter=m.fixedFilter}toRestUrl(m,f=[]){return(0,c.hj)(this.configuration)&&f.push(`configuration=${encodeURIComponent(this.configuration)}`),(0,c.hj)(this.fixedFilter)&&f.push(this.encodedFixedFilter),(0,c.hj)(this.query)&&f.push(`query=${encodeURIComponent(this.query)}`),(0,c.hj)(this.scope)&&f.push(`scope=${encodeURIComponent(this.scope)}`),(0,c.hj)(this.dsoTypes)&&this.dsoTypes.forEach(v=>{f.push(`dsoType=${encodeURIComponent(v)}`)}),(0,c.hj)(this.filters)&&this.filters.forEach(v=>{v.values.forEach(E=>{const y=E.includes(",")?`${E}`:E+(v.operator?","+v.operator:"");f.push(`${v.key}=${this.encodeFilterQueryValue(y)}`)})}),(0,c.hj)(f)&&(m=new t.t(m,`?${f.join("&")}`).toString()),m}get encodedFixedFilter(){const m=this.fixedFilter.match(/^([^=]+=)(.+)$/);return(0,c.a4)(m)?m[1]+this.encodeFilterQueryValue(m[2]):this.encodeFilterQueryValue(this.fixedFilter)}encodeFilterQueryValue(m){const f=m.match(/^(.*)(,\w+)$/);return(0,c.a4)(f)?encodeURIComponent(f[1])+f[2]:encodeURIComponent(m)}}},75370:(B,C,n)=>{"use strict";n.d(C,{a:()=>f});var i=n(31635),t=n(74850),c=n(58956),e=n(73409),p=n(43537);class m{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"by",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"order",void 0);class f extends c.O{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"scope",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"query",void 0),(0,i.Cg)([(0,t.autoserializeAs)(p.S),(0,i.Sn)("design:type",Array)],f.prototype,"appliedFilters",void 0),(0,i.Cg)([(0,t.autoserializeAs)(m),(0,i.Sn)("design:type",m)],f.prototype,"sort",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"configuration",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",e.Q)],f.prototype,"pageInfo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],f.prototype,"page",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],f.prototype,"facets",void 0)},49891:(B,C,n)=>{"use strict";n.d(C,{q:()=>E});var i=n(31635),t=n(74850),c=n(72153),e=n(54095),p=n(94152),m=n(77766);const v=new(n(44043).v)("searchresult");let E=class extends m.u{constructor(){super(...arguments),this.type=v}static{this.type=v}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([p.aK,t.autoserialize,(0,i.Sn)("design:type",e.Cr)],E.prototype,"hitHighlights",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,p.gM)("uuid"),(0,i.Sn)("design:type",Object)],E.prototype,"indexableObject",void 0),E=(0,i.Cg)([c.gV],E)},50825:(B,C,n)=>{"use strict";n.d(C,{w:()=>N});var i=n(60177),t=n(58003),c=n(68018),e=n(5964),p=n(25558),m=n(96354),f=n(99172),v=n(94925),E=n(11873),y=n(6170),M=n(60696),b=n(4093),P=n(44280),D=n(89777),I=n(9847),S=(n(30726),n(54438)),O=n(7901);function L(j,$){if(1&j&&(S.j41(0,"div",3)(1,"p",4),S.EFF(2),S.nI1(3,"translate"),S.k0s()()),2&j){const k=S.XpG();S.R7$(2),S.JRh(S.bMT(3,1,k.tooltipMsg))}}function T(j,$){if(1&j&&(S.j41(0,"div",3)(1,"p",4),S.EFF(2),S.nI1(3,"translate"),S.k0s(),S.j41(4,"p",5),S.EFF(5),S.k0s()()),2&j){const k=S.XpG();S.R7$(2),S.JRh(S.bMT(3,2,k.tooltipMsg)),S.R7$(3),S.JRh(k.exportLimitExceededMsg)}}function x(j,$){if(1&j){const k=S.RV6();S.j41(0,"button",6),S.nI1(1,"async"),S.nI1(2,"translate"),S.nI1(3,"async"),S.nI1(4,"translate"),S.nI1(5,"translate"),S.bIt("click",function(){S.eBV(k);const z=S.XpG();return S.Njj(z.export())}),S.nrm(6,"i",7),S.k0s()}if(2&j){const k=S.XpG(),K=S.sdS(1),z=S.sdS(3);S.Y8G("ngbTooltip",S.bMT(1,3,k.shouldShowWarning$)?z:K)("title",S.bMT(2,5,k.tooltipMsg)),S.BMQ("aria-label",S.bMT(3,7,k.shouldShowWarning$)?S.bMT(4,9,k.tooltipMsg)+" "+k.exportLimitExceededMsg:S.bMT(5,11,k.tooltipMsg))}}let N=(()=>{class j{constructor(k,K,z,V,G,X){this.scriptDataService=k,this.authorizationDataService=K,this.notificationsService=z,this.translateService=V,this.router=G,this.configurationService=X,this.tooltipMsg="metadata-export-search.tooltip",this.exportLimitExceededKey="metadata-export-search.submit.error.limit-exceeded",this.exportLimitExceededMsg=""}ngOnInit(){this.shouldShowButton$=this.authorizationDataService.isAuthorized(y._.AdministratorOf).pipe((0,e.p)(k=>k),(0,p.n)(()=>this.scriptDataService.scriptWithNameExistsAndCanExecute("metadata-export-search")),(0,m.T)(k=>k),(0,f.Z)(!1)),this.shouldShowWarning$=this.itemExceeds()}ngOnChanges(k){k.total&&(this.shouldShowWarning$=this.itemExceeds())}itemExceeds(){return this.configurationService.findByPropertyName("bulkedit.export.max.items").pipe((0,b.qD)(),(0,m.T)(k=>{const K=Number(k.payload?.values?.[0])||500;return K<this.total&&(this.exportLimitExceededMsg=this.translateService.instant(this.exportLimitExceededKey,{limit:String(K)}),!0)}))}export(){const k=[];if((0,D.a4)(this.searchConfig)&&((0,D.hj)(this.searchConfig.query)&&k.push({name:"-q",value:this.searchConfig.query}),(0,D.hj)(this.searchConfig.scope)&&k.push({name:"-s",value:this.searchConfig.scope}),(0,D.hj)(this.searchConfig.configuration)&&k.push({name:"-c",value:this.searchConfig.configuration}),(0,D.hj)(this.searchConfig.filters)&&this.searchConfig.filters.forEach(K=>{(0,D.a4)(K.values)&&K.values.forEach(z=>{let V,G;(0,D.a4)(K.operator)?(V=K.operator,G=z):(V=z.substring(z.lastIndexOf(",")+1),G=z.substring(0,z.lastIndexOf(",")));const X=`${K.key.substring(2)},${V}=${G}`;k.push({name:"-f",value:X})})}),(0,D.hj)(this.searchConfig.fixedFilter))){const z=this.searchConfig.fixedFilter.substring(2).split("=");if(z.length>1){const V=z[0],G=z[1].split(",");G.length>1&&k.push({name:"-f",value:`${V},${G[1]}=${G[0]}`})}}this.scriptDataService.invoke("metadata-export-search",k,[]).pipe((0,b.qD)()).subscribe(K=>{K.hasSucceeded?(this.notificationsService.success(this.translateService.get("metadata-export-search.submit.success")),this.router.navigateByUrl((0,P.yJ)(K.payload.processId))):this.notificationsService.error(this.translateService.get("metadata-export-search.submit.error"))})}static{this.\u0275fac=function(K){return new(K||j)(S.rXU(M.ScriptDataService),S.rXU(E.AuthorizationDataService),S.rXU(I.I),S.rXU(c.c$),S.rXU(O.Ix),S.rXU(v.ConfigurationDataService))}}static{this.\u0275cmp=S.VBU({type:j,selectors:[["ds-search-export-csv"]],inputs:{searchConfig:"searchConfig",total:"total"},standalone:!0,features:[S.OA$,S.aNF],decls:6,vars:3,consts:[["tipContent",""],["tipContentWarning",""],[1,"export-button","btn","btn-dark","btn-sm",3,"ngbTooltip","title"],[1,"tooltip-content"],[1,"m-0"],[1,"m-0","text-warning"],[1,"export-button","btn","btn-dark","btn-sm",3,"click","ngbTooltip","title"],[1,"fas","fa-file-export","fa-fw"]],template:function(K,z){1&K&&(S.DNE(0,L,4,3,"ng-template",null,0,S.C5r)(2,T,6,4,"ng-template",null,1,S.C5r)(4,x,7,13,"button",2),S.nI1(5,"async")),2&K&&(S.R7$(4),S.vxM(S.bMT(5,1,z.shouldShowButton$)?4:-1))},dependencies:[i.Jj,t.n8,t.md,c.h,c.D9],styles:[".export-button[_ngcontent-%COMP%]{background:var(--ds-admin-sidebar-bg);border-color:var(--ds-admin-sidebar-bg)}"]})}}return j})()},75548:(B,C,n)=>{"use strict";n.d(C,{Bf:()=>y,Fi:()=>m,L2:()=>f,Po:()=>M,R0:()=>v,ge:()=>e,nj:()=>p,tq:()=>E,y$:()=>t});var i=n(6800);const t={COLLAPSE:(0,i.N)("dspace/search-filter/COLLAPSE"),INITIALIZE:(0,i.N)("dspace/search-filter/INITIALIZE"),EXPAND:(0,i.N)("dspace/search-filter/EXPAND"),TOGGLE:(0,i.N)("dspace/search-filter/TOGGLE"),DECREMENT_PAGE:(0,i.N)("dspace/search-filter/DECREMENT_PAGE"),INCREMENT_PAGE:(0,i.N)("dspace/search-filter/INCREMENT_PAGE"),RESET_PAGE:(0,i.N)("dspace/search-filter/RESET_PAGE"),MINIMIZE_ALL:(0,i.N)("dspace/search-filters/MINIMIZE_ALL")};class c{constructor(P){this.filterName=P}}class e extends c{constructor(){super(...arguments),this.type=t.COLLAPSE}}class p extends c{constructor(){super(...arguments),this.type=t.EXPAND}}class m extends c{constructor(){super(...arguments),this.type=t.TOGGLE}}class f extends c{constructor(P){super(P.name),this.type=t.INITIALIZE,this.initiallyExpanded=P.isOpenByDefault}}class v extends c{constructor(){super(...arguments),this.type=t.DECREMENT_PAGE}}class E extends c{constructor(){super(...arguments),this.type=t.INCREMENT_PAGE}}class y extends c{constructor(){super(...arguments),this.type=t.RESET_PAGE}}class M extends c{constructor(){super(...arguments),this.type=t.MINIMIZE_ALL}}},86351:(B,C,n)=>{"use strict";n.d(C,{a:()=>Ra});var i=n(60177),t=n(54438),c=n(68018),e=n(84412),p=n(99172),m=n(84572),f=n(25558),v=n(7673),E=n(5964),y=n(96354),M=n(94314),b=n(82584),P=n(4255),D=n(50553),I=n(13957),h=n(89777),S=n(33745),L=(n(48337),n(49969)),T=n(23294),x=n(96697),N=n(88141),j=n(57775),$=n(4093),k=n(54034),K=n(25472),z=n(7901);const V=["equals","authority","range"];let G=(()=>{class rt{constructor(ut,jt,Nt,Ln,hi){this.searchService=ut,this.filterService=jt,this.rdbs=Nt,this.router=Ln,this.searchConfigService=hi,this.facetValues$=new e.t([]),this.isLastPage$=new e.t(!1),this.isAvailableForShowSearchText=new e.t(!1),this.subs=[],this.filterSearchResults$=(0,v.of)([]),this.collapseNextUpdate=!0,this.animationState="loading"}ngOnInit(){this.currentUrl=this.router.url,this.currentPage=this.getCurrentPage().pipe((0,T.F)()),this.searchOptions$=this.searchConfigService.searchOptions.pipe((0,y.T)(ut=>(0,h.Tn)(this.scope)?ut:Object.assign(new K.n(ut),{scope:this.scope}))),this.subs.push(this.searchOptions$.subscribe(()=>this.updateFilterValueList()),this.retrieveFilterValues().subscribe()),this.selectedAppliedFilters$=this.searchService.getSelectedValuesForFilter(this.filterConfig.name).pipe((0,y.T)(ut=>ut.filter(jt=>V.includes(jt.operator))),(0,T.F)((ut,jt)=>JSON.stringify(ut)===JSON.stringify(jt)))}updateFilterValueList(){this.animationState="loading",this.collapseNextUpdate=!0,this.filter=""}getSearchLink(){return this.inPlaceSearch?(0,k.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}showMore(){this.filterService.incrementPage(this.filterConfig.name)}showFirstPageOnly(){this.filterService.resetPage(this.filterConfig.name)}getCurrentPage(){return this.filterService.getPage(this.filterConfig.name)}onSubmit(ut){this.applyFilterValue(ut)}onClick(ut){this.applyFilterValue(ut.query)}hasValue(ut){return(0,h.a4)(ut)}ngOnDestroy(){this.subs.filter(ut=>(0,h.a4)(ut)).forEach(ut=>ut.unsubscribe())}findSuggestions(ut){this.subs.push(this.searchOptions$.pipe((0,x.s)(1)).subscribe(jt=>{this.filterSearchResults$=this.filterService.findSuggestions(this.filterConfig,jt,ut)}))}applyFilterValue(ut){if(ut.match(new RegExp("^.+,(equals|query|authority)$"))){this.filterService.minimizeAll();const jt=ut.split(",");this.subs.push(this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,jt.slice(0,jt.length-1).join(),jt[jt.length-1]).pipe((0,x.s)(1)).subscribe(Nt=>{this.router.navigate(this.getSearchLinkParts(),{queryParams:Nt}),this.filter="",this.filterSearchResults$=(0,v.of)([])}))}}retrieveFilterValues(){return(0,m.z)([this.searchOptions$,this.currentPage]).pipe((0,f.n)(([ut,jt])=>this.searchService.getFacetValuesFor(this.filterConfig,jt,ut).pipe((0,$.ak)(),(0,N.M)(Nt=>{this.isLastPage$.next((0,h.Tn)(Nt?.next)),this.isAvailableForShowSearchText.next(Nt?.page?.length<Nt?.facetLimit&&(0,h.Tn)(Nt?.next))}))),(0,y.T)(ut=>{let jt=this.facetValues$.value;return this.collapseNextUpdate&&(this.showFirstPageOnly(),jt=[],this.collapseNextUpdate=!1),1===ut.pageInfo.currentPage&&(jt=[]),jt=[...jt,ut],jt}),(0,N.M)(ut=>{this.animationState="ready",this.facetValues$.next(ut)}))}trackUpdate(ut,jt){return jt?jt._links.search.href:void 0}static{this.\u0275fac=function(jt){return new(jt||rt)(t.rXU(M.S),t.rXU(P.U),t.rXU(j.o),t.rXU(z.Ix),t.rXU(D.EN))}}static{this.\u0275cmp=t.VBU({type:rt,selectors:[["ds-search-facet-filter"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(jt,Nt){},encapsulation:2})}}return rt})();const X=(0,L.hZ)("facetLoad",[(0,L.wk)("ready",(0,L.iF)({opacity:1})),(0,L.wk)("loading",(0,L.iF)({opacity:0})),(0,L.kY)("loading <=> ready",(0,L.i0)(100))]);var Q=n(43764),ee=n(60163),ie=n(39356),te=n(89417),he=n(73336),ye=n(31),re=n(50808);let ce=(()=>{class rt{transform(ut,jt){if(isNaN(ut)||(0,h.Im)(ut)||0===ut)return ut;let Nt=Math.abs(ut);const Ln=Math.pow(10,1),hi=ut<0;let Li="";const $i=[{key:"Q",value:Math.pow(10,15)},{key:"T",value:Math.pow(10,12)},{key:"B",value:Math.pow(10,9)},{key:"M",value:Math.pow(10,6)},{key:"K",value:1e3}];for(let Ci=0;Ci<$i.length;Ci++){let Ls=Nt/$i[Ci].value;if(Ls=Math.round(Ls*Ln)/Ln,Ls>=1){Nt=Ls,Li=$i[Ci].key;break}}return(hi?"-":"")+Nt+Li}static{this.\u0275fac=function(jt){return new(jt||rt)}}static{this.\u0275pipe=t.EJ8({name:"dsShortNumber",type:rt,pure:!0,standalone:!0})}}return rt})();n(75594);var ne=n(77868);const fe=rt=>[rt],ae=rt=>({default:rt});function oe(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"a",1),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(ut);const Nt=t.XpG();return Nt.announceFilter(),t.Njj(Nt.filterService.minimizeAll())}),t.j41(2,"label",2),t.nrm(3,"input",3),t.j41(4,"span",4)(5,"span",5),t.EFF(6),t.nI1(7,"dsShortNumber"),t.k0s(),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()}if(2&rt){const ut=t.XpG();t.Y8G("tabIndex",-1)("routerLink",t.eq3(13,fe,ut.searchLink))("queryParams",t.bMT(1,6,ut.addQueryParams$)),t.R7$(3),t.Y8G("checked",!1),t.R7$(3),t.JRh(t.bMT(7,8,ut.filterValue.count)),t.R7$(2),t.SpI(" ",t.i5U(9,10,"search.filters."+ut.filterConfig.name+"."+ut.filterValue.value,t.eq3(15,ae,ut.filterValue.value))," ")}}let J=(()=>{class rt{constructor(ut,jt,Nt,Ln,hi,Li,$i){this.searchService=ut,this.filterService=jt,this.searchConfigService=Nt,this.router=Ln,this.paginationService=hi,this.liveRegionService=Li,this.translateService=$i}ngOnInit(){this.paginationId=this.searchConfigService.paginationID,this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,y.T)(ut=>!ut)),this.addQueryParams$=this.updateAddParams()}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.getFacetValue())}getSearchLink(){return this.inPlaceSearch?(0,k.N)(this.router):this.searchService.getSearchLink()}updateAddParams(){return this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,this.getFacetValue())}getFacetValue(){return(0,ne.SB)(this.filterValue,this.filterConfig)}announceFilter(){const ut=this.translateService.instant("search-facet-option.update.announcement",{filter:this.filterValue.value});this.liveRegionService.addMessage(ut)}static{this.\u0275fac=function(jt){return new(jt||rt)(t.rXU(M.S),t.rXU(P.U),t.rXU(b.g),t.rXU(z.Ix),t.rXU(ye.m),t.rXU(re.A),t.rXU(c.c$))}}static{this.\u0275cmp=t.VBU({type:rt,selectors:[["ds-search-facet-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[1,"d-flex","flex-row",3,"tabIndex","routerLink","queryParams"],[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox","role","checkbox","tabindex","0",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"w-100","ps-1","break-facet"],[1,"float-end","badge","bg-secondary","rounded-pill","mt-1","ms-1"]],template:function(jt,Nt){1&jt&&(t.DNE(0,oe,10,17,"a",0),t.nI1(1,"async")),2&jt&&t.vxM(t.bMT(1,1,Nt.isVisible)?0:-1)},dependencies:[i.Jj,z.Wk,ce,c.h,c.D9],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:fit-content}"]})}}return rt})();n(43537);const _e=rt=>[rt],Ce=rt=>({default:rt});let qe=(()=>{class rt{constructor(ut,jt,Nt,Ln,hi){this.paginationService=ut,this.router=jt,this.searchFilterService=Nt,this.searchService=Ln,this.searchConfigService=hi}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeQueryParams=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigService.unselectAppliedFilterParams(this.selectedValue.filter,this.selectedValue.value,this.selectedValue.operator)}getSearchLink(){return this.inPlaceSearch?(0,k.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(jt){return new(jt||rt)(t.rXU(ye.m),t.rXU(z.Ix),t.rXU(P.U),t.rXU(M.S),t.rXU(b.g))}}static{this.\u0275cmp=t.VBU({type:rt,selectors:[["ds-search-facet-selected-option"]],inputs:{selectedValue:"selectedValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:7,vars:14,consts:[[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox","role","checkbox","tabindex","0",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"filter-value","ps-1","break-facet"]],template:function(jt,Nt){1&jt&&(t.j41(0,"a",0),t.nI1(1,"async"),t.bIt("click",function(){return Nt.searchFilterService.minimizeAll()}),t.j41(2,"label",1),t.nrm(3,"input",2),t.j41(4,"span",3),t.EFF(5),t.nI1(6,"translate"),t.k0s()()()),2&jt&&(t.Y8G("tabIndex",-1)("routerLink",t.eq3(10,_e,Nt.searchLink))("queryParams",t.bMT(1,5,Nt.removeQueryParams)),t.R7$(3),t.Y8G("checked",!0),t.R7$(2),t.SpI(" ",t.i5U(6,7,"search.filters."+Nt.filterConfig.name+"."+Nt.selectedValue.value,t.eq3(12,Ce,Nt.selectedValue.label))," "))},dependencies:[i.Jj,z.Wk,c.h,c.D9],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:fit-content}"]})}}return rt})();function Re(rt,ot){if(1&rt&&t.nrm(0,"ds-search-facet-selected-option",1),2&rt){const ut=ot.$implicit,jt=t.XpG();t.Y8G("selectedValue",ut)("filterConfig",jt.filterConfig)("inPlaceSearch",jt.inPlaceSearch)}}function nt(rt,ot){if(1&rt&&t.nrm(0,"ds-search-facet-option",6),2&rt){const ut=ot.$implicit,jt=t.XpG(2);t.Y8G("filterConfig",jt.filterConfig)("filterValue",ut)("inPlaceSearch",jt.inPlaceSearch)}}function Ge(rt,ot){if(1&rt&&(t.j41(0,"div"),t.Z7z(1,nt,1,3,"ds-search-facet-option",6,t.BUC().trackUpdate,!0),t.k0s()),2&rt){const ut=ot.$implicit,jt=t.XpG();t.Y8G("@facetLoad",jt.animationState),t.R7$(),t.Dyx(ut.page)}}function at(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"a",7),t.bIt("click",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&rt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function Ke(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"a",8),t.bIt("click",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&rt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function Te(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"ds-filter-input-suggestions",9),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.DH7(Ln.filter,Nt)||(Ln.filter=Nt),t.Njj(Nt)}),t.bIt("submitSuggestion",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.Njj(Ln.onSubmit(Nt))})("clickSuggestion",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.Njj(Ln.onClick(Nt))})("findSuggestions",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.Njj(Ln.findSuggestions(Nt))}),t.k0s()}if(2&rt){const ut=t.XpG();t.Y8G("suggestions",t.bMT(1,6,ut.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+ut.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+ut.filterConfig.name+".label"))("action",ut.currentUrl)("name",ut.filterConfig.paramName),t.R50("ngModel",ut.filter)}}let pt=(()=>{class rt extends G{static{this.\u0275fac=(()=>{let ut;return function(Nt){return(ut||(ut=t.xGo(rt)))(Nt||rt)}})()}static{this.\u0275cmp=t.VBU({type:rt,selectors:[["ds-search-authority-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:13,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch"],[1,"clearfix","toggle-more-filters"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start",3,"click"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(jt,Nt){1&jt&&(t.j41(0,"div")(1,"div",0),t.Z7z(2,Re,1,3,"ds-search-facet-selected-option",1,t.fX1),t.nI1(4,"async"),t.Z7z(5,Ge,3,1,"div",null,t.fX1),t.nI1(7,"async"),t.j41(8,"div",2),t.DNE(9,at,3,3,"a",3),t.nI1(10,"async"),t.DNE(11,Ke,3,3,"a",4),t.nI1(12,"async"),t.k0s()(),t.DNE(13,Te,4,12,"ds-filter-input-suggestions",5),t.nI1(14,"async"),t.k0s()),2&jt&&(t.R7$(2),t.Dyx(t.bMT(4,3,Nt.selectedAppliedFilters$)),t.R7$(3),t.Dyx(t.bMT(7,5,Nt.facetValues$)),t.R7$(4),t.vxM(!0!==t.bMT(10,7,Nt.isLastPage$)?9:-1),t.R7$(2),t.vxM(t.bMT(12,9,Nt.currentPage)>1?11:-1),t.R7$(2),t.vxM(!1===t.bMT(14,11,Nt.isAvailableForShowSearchText)?13:-1))},dependencies:[i.Jj,he.H,te.YN,te.me,te.BC,te.vS,J,qe,c.h,c.D9],styles:[".filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-body-color)}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:none}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[X]}})}}return rt})();function He(rt,ot){if(1&rt&&t.nrm(0,"ds-search-facet-selected-option",1),2&rt){const ut=ot.$implicit,jt=t.XpG();t.Y8G("selectedValue",ut)("filterConfig",jt.filterConfig)("inPlaceSearch",jt.inPlaceSearch)}}function Bt(rt,ot){if(1&rt&&t.nrm(0,"ds-search-facet-option",5),2&rt){const ut=ot.$implicit,jt=t.XpG(2);t.Y8G("filterConfig",jt.filterConfig)("filterValue",ut)("inPlaceSearch",jt.inPlaceSearch)}}function it(rt,ot){if(1&rt&&(t.j41(0,"div"),t.Z7z(1,Bt,1,3,"ds-search-facet-option",5,t.BUC().trackUpdate,!0),t.k0s()),2&rt){const ut=ot.$implicit,jt=t.XpG();t.Y8G("@facetLoad",jt.animationState),t.R7$(),t.Dyx(ut.page)}}function Tt(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"a",6),t.bIt("click",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&rt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function Ee(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"a",7),t.bIt("click",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&rt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}let je=(()=>{class rt extends G{static{this.\u0275fac=(()=>{let ut;return function(Nt){return(ut||(ut=t.xGo(rt)))(Nt||rt)}})()}static{this.\u0275cmp=t.VBU({type:rt,selectors:[["ds-search-boolean-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:13,vars:10,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch"],[1,"clearfix","toggle-more-filters"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start",3,"click"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end",3,"click"]],template:function(jt,Nt){1&jt&&(t.j41(0,"div")(1,"div",0),t.Z7z(2,He,1,3,"ds-search-facet-selected-option",1,t.fX1),t.nI1(4,"async"),t.Z7z(5,it,3,1,"div",null,t.fX1),t.nI1(7,"async"),t.j41(8,"div",2),t.DNE(9,Tt,3,3,"a",3),t.nI1(10,"async"),t.DNE(11,Ee,3,3,"a",4),t.nI1(12,"async"),t.k0s()()()),2&jt&&(t.R7$(2),t.Dyx(t.bMT(4,2,Nt.selectedAppliedFilters$)),t.R7$(3),t.Dyx(t.bMT(7,4,Nt.facetValues$)),t.R7$(4),t.vxM(!0!==t.bMT(10,6,Nt.isLastPage$)?9:-1),t.R7$(2),t.vxM(t.bMT(12,8,Nt.currentPage)>1?11:-1))},dependencies:[i.Jj,J,qe,c.h,c.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[X]}})}}return rt})();var ft=n(22806),vn=n(79096),hn=n(73409),Un=n(90306),Ct=n(98995),Ot=n(58003);const wt=rt=>({name:rt});function mt(rt,ot){if(1&rt&&t.nrm(0,"ds-search-facet-selected-option",1),2&rt){const ut=ot.$implicit,jt=t.XpG();t.Y8G("selectedValue",ut)("filterConfig",jt.filterConfig)("inPlaceSearch",jt.inPlaceSearch)}}function ln(rt,ot){if(1&rt&&t.nrm(0,"ds-search-facet-option",7),2&rt){const ut=ot.$implicit,jt=t.XpG(2);t.Y8G("filterConfig",jt.filterConfig)("filterValue",ut)("inPlaceSearch",jt.inPlaceSearch)}}function we(rt,ot){if(1&rt&&(t.j41(0,"div"),t.Z7z(1,ln,1,3,"ds-search-facet-option",7,t.BUC().trackUpdate,!0),t.k0s()),2&rt){const ut=ot.$implicit,jt=t.XpG();t.Y8G("@facetLoad",jt.animationState),t.R7$(),t.Dyx(ut.page)}}function Et(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"a",8),t.bIt("click",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&rt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function kt(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"a",9),t.bIt("click",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&rt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function vt(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"ds-filter-input-suggestions",10),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.DH7(Ln.filter,Nt)||(Ln.filter=Nt),t.Njj(Nt)}),t.bIt("submitSuggestion",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.Njj(Ln.onSubmit(Nt))})("clickSuggestion",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.Njj(Ln.onClick(Nt))})("findSuggestions",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.Njj(Ln.findSuggestions(Nt))}),t.k0s()}if(2&rt){const ut=t.XpG();t.Y8G("suggestions",t.bMT(1,6,ut.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+ut.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+ut.filterConfig.name+".label"))("action",ut.currentUrl)("name",ut.filterConfig.paramName),t.R50("ngModel",ut.filter)}}function Jt(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.showVocabularyTree())}),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"lowercase"),t.nI1(4,"translate"),t.k0s()}if(2&rt){const ut=t.XpG();t.Mz_("id","show-",ut.filterConfig.name,"-tree"),t.R7$(),t.SpI(" ",t.i5U(4,7,"search.filters.filter.show-tree",t.eq3(10,wt,t.bMT(3,5,t.bMT(2,3,"search.filters.filter."+ut.filterConfig.name+".head"))))," ")}}let sn=(()=>{class rt extends G{constructor(ut,jt,Nt,Ln,hi,Li,$i,Ci){super(ut,jt,Nt,Ln,Ci),this.searchService=ut,this.filterService=jt,this.rdbs=Nt,this.router=Ln,this.modalService=hi,this.vocabularyService=Li,this.appConfig=$i,this.searchConfigService=Ci}onSubmit(ut){super.onSubmit((0,ne.mq)(ut,"query"))}ngOnInit(){super.ngOnInit();const ut=this.getVocabularyEntry();(0,h.a4)(ut)&&(this.vocabularyExists$=this.vocabularyService.searchTopEntries(ut,new hn.Q,!0,!1).pipe((0,E.p)(jt=>jt.hasCompleted),(0,x.s)(1),(0,y.T)(jt=>jt.hasSucceeded)))}showVocabularyTree(){const ut=this.modalService.open(Ct._,{size:"lg",windowClass:"treeview"});ut.componentInstance.vocabularyOptions={name:this.getVocabularyEntry(),closed:!0},ut.componentInstance.showAdd=!1,this.subs.push((0,ft.H)(ut.result).pipe((0,f.n)(jt=>this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,jt.value,"equals")),(0,x.s)(1)).subscribe(jt=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:jt})}))}getVocabularyEntry(){const ut=this.appConfig.vocabularies.filter(jt=>jt.filter===this.filterConfig.name);if(ut.length>0&&!0===ut[0].enabled)return ut[0].vocabulary}static{this.\u0275fac=function(jt){return new(jt||rt)(t.rXU(M.S),t.rXU(P.U),t.rXU(j.o),t.rXU(z.Ix),t.rXU(Ot.Bq),t.rXU(Un.g),t.rXU(vn.vQ),t.rXU(D.EN))}}static{this.\u0275cmp=t.VBU({type:rt,selectors:[["ds-search-hierarchy-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:17,vars:16,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch"],[1,"clearfix","toggle-more-filters"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel"],["href","javascript:void(0);","role","button","tabindex","0",3,"id"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start",3,"click"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],["href","javascript:void(0);","role","button","tabindex","0",3,"click","id"]],template:function(jt,Nt){1&jt&&(t.j41(0,"div")(1,"div",0),t.Z7z(2,mt,1,3,"ds-search-facet-selected-option",1,t.fX1),t.nI1(4,"async"),t.Z7z(5,we,3,1,"div",null,t.fX1),t.nI1(7,"async"),t.j41(8,"div",2),t.DNE(9,Et,3,3,"a",3),t.nI1(10,"async"),t.DNE(11,kt,3,3,"a",4),t.nI1(12,"async"),t.k0s()(),t.DNE(13,vt,4,12,"ds-filter-input-suggestions",5),t.nI1(14,"async"),t.k0s(),t.DNE(15,Jt,5,12,"a",6),t.nI1(16,"async")),2&jt&&(t.R7$(2),t.Dyx(t.bMT(4,4,Nt.selectedAppliedFilters$)),t.R7$(3),t.Dyx(t.bMT(7,6,Nt.facetValues$)),t.R7$(4),t.vxM(!0!==t.bMT(10,8,Nt.isLastPage$)?9:-1),t.R7$(2),t.vxM(t.bMT(12,10,Nt.currentPage)>1?11:-1),t.R7$(2),t.vxM(!1===t.bMT(14,12,Nt.isAvailableForShowSearchText)?13:-1),t.R7$(2),t.vxM(t.bMT(16,14,Nt.vocabularyExists$)?15:-1))},dependencies:[i.Jj,he.H,te.YN,te.me,te.BC,te.vS,i.GH,J,qe,c.h,c.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[X]}})}}return rt})();var zt=function(rt){return rt.Range="range",rt.Steps="steps",rt.Positions="positions",rt.Count="count",rt.Values="values",rt}(zt||{}),Gt=function(rt){return rt[rt.None=-1]="None",rt[rt.NoValue=0]="NoValue",rt[rt.LargeValue=1]="LargeValue",rt[rt.SmallValue=2]="SmallValue",rt}(Gt||{});function ke(rt){return"object"==typeof rt&&"function"==typeof rt.to}function Le(rt){rt.parentElement.removeChild(rt)}function ze(rt){return null!=rt}function lt(rt){rt.preventDefault()}function tn(rt){return"number"==typeof rt&&!isNaN(rt)&&isFinite(rt)}function dt(rt,ot,ut){ut>0&&($n(rt,ot),setTimeout(function(){Di(rt,ot)},ut))}function Lt(rt){return Math.max(Math.min(rt,100),0)}function Rt(rt){return Array.isArray(rt)?rt:[rt]}function Sn(rt){var ot=(rt=String(rt)).split(".");return ot.length>1?ot[1].length:0}function $n(rt,ot){rt.classList&&!/\s/.test(ot)?rt.classList.add(ot):rt.className+=" "+ot}function Di(rt,ot){rt.classList&&!/\s/.test(ot)?rt.classList.remove(ot):rt.className=rt.className.replace(new RegExp("(^|\\b)"+ot.split(" ").join("|")+"(\\b|$)","gi")," ")}function _t(rt){var ot=void 0!==window.pageXOffset,ut="CSS1Compat"===(rt.compatMode||"");return{x:ot?window.pageXOffset:ut?rt.documentElement.scrollLeft:rt.body.scrollLeft,y:ot?window.pageYOffset:ut?rt.documentElement.scrollTop:rt.body.scrollTop}}function oi(rt,ot){return 100/(ot-rt)}function ai(rt,ot,ut){return 100*ot/(rt[ut+1]-rt[ut])}function si(rt,ot){for(var ut=1;rt>=ot[ut];)ut+=1;return ut}var fi=function(){function rt(ot,ut,jt){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[jt||!1],this.xNumSteps=[!1],this.snap=ut;var Nt,Ln=[];for(Object.keys(ot).forEach(function(hi){Ln.push([Rt(ot[hi]),hi])}),Ln.sort(function(hi,Li){return hi[0][0]-Li[0][0]}),Nt=0;Nt<Ln.length;Nt++)this.handleEntryPoint(Ln[Nt][1],Ln[Nt][0]);for(this.xNumSteps=this.xSteps.slice(0),Nt=0;Nt<this.xNumSteps.length;Nt++)this.handleStepPoint(Nt,this.xNumSteps[Nt])}return rt.prototype.getDistance=function(ot){for(var ut=[],jt=0;jt<this.xNumSteps.length-1;jt++)ut[jt]=ai(this.xVal,ot,jt);return ut},rt.prototype.getAbsoluteDistance=function(ot,ut,jt){var Nt=0;if(ot<this.xPct[this.xPct.length-1])for(;ot>this.xPct[Nt+1];)Nt++;else ot===this.xPct[this.xPct.length-1]&&(Nt=this.xPct.length-2);!jt&&ot===this.xPct[Nt+1]&&Nt++,null===ut&&(ut=[]);var Ln,hi=1,Li=ut[Nt],$i=0,Ci=0,Ls=0,qs=0;for(Ln=jt?(ot-this.xPct[Nt])/(this.xPct[Nt+1]-this.xPct[Nt]):(this.xPct[Nt+1]-ot)/(this.xPct[Nt+1]-this.xPct[Nt]);Li>0;)$i=this.xPct[Nt+1+qs]-this.xPct[Nt+qs],ut[Nt+qs]*hi+100-100*Ln>100?(Ci=$i*Ln,hi=(Li-100*Ln)/ut[Nt+qs],Ln=1):(Ci=ut[Nt+qs]*$i/100*hi,hi=0),jt?(Ls-=Ci,this.xPct.length+qs>=1&&qs--):(Ls+=Ci,this.xPct.length-qs>=1&&qs++),Li=ut[Nt+qs]*hi;return ot+Ls},rt.prototype.toStepping=function(ot){return function ci(rt,ot,ut){if(ut>=rt.slice(-1)[0])return 100;var jt=si(ut,rt),hi=ot[jt-1],Li=ot[jt];return hi+function ns(rt,ot){return ai(rt,rt[0]<0?ot+Math.abs(rt[0]):ot-rt[0],0)}([rt[jt-1],rt[jt]],ut)/oi(hi,Li)}(this.xVal,this.xPct,ot)},rt.prototype.fromStepping=function(ot){return function cn(rt,ot,ut){if(ut>=100)return rt.slice(-1)[0];var jt=si(ut,ot),hi=ot[jt-1];return function is(rt,ot){return ot*(rt[1]-rt[0])/100+rt[0]}([rt[jt-1],rt[jt]],(ut-hi)*oi(hi,ot[jt]))}(this.xVal,this.xPct,ot)},rt.prototype.getStep=function(ot){return function gn(rt,ot,ut,jt){if(100===jt)return jt;var Nt=si(jt,rt),Ln=rt[Nt-1],hi=rt[Nt];return ut?jt-Ln>(hi-Ln)/2?hi:Ln:ot[Nt-1]?rt[Nt-1]+function fn(rt,ot){return Math.round(rt/ot)*ot}(jt-rt[Nt-1],ot[Nt-1]):jt}(this.xPct,this.xSteps,this.snap,ot)},rt.prototype.getDefaultStep=function(ot,ut,jt){var Nt=si(ot,this.xPct);return(100===ot||ut&&ot===this.xPct[Nt-1])&&(Nt=Math.max(Nt-1,1)),(this.xVal[Nt]-this.xVal[Nt-1])/jt},rt.prototype.getNearbySteps=function(ot){var ut=si(ot,this.xPct);return{stepBefore:{startValue:this.xVal[ut-2],step:this.xNumSteps[ut-2],highestStep:this.xHighestCompleteStep[ut-2]},thisStep:{startValue:this.xVal[ut-1],step:this.xNumSteps[ut-1],highestStep:this.xHighestCompleteStep[ut-1]},stepAfter:{startValue:this.xVal[ut],step:this.xNumSteps[ut],highestStep:this.xHighestCompleteStep[ut]}}},rt.prototype.countStepDecimals=function(){var ot=this.xNumSteps.map(Sn);return Math.max.apply(null,ot)},rt.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},rt.prototype.convert=function(ot){return this.getStep(this.toStepping(ot))},rt.prototype.handleEntryPoint=function(ot,ut){var jt;if(!tn(jt="min"===ot?0:"max"===ot?100:parseFloat(ot))||!tn(ut[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(jt),this.xVal.push(ut[0]);var Nt=Number(ut[1]);jt?this.xSteps.push(!isNaN(Nt)&&Nt):isNaN(Nt)||(this.xSteps[0]=Nt),this.xHighestCompleteStep.push(0)},rt.prototype.handleStepPoint=function(ot,ut){if(ut){if(this.xVal[ot]===this.xVal[ot+1])return void(this.xSteps[ot]=this.xHighestCompleteStep[ot]=this.xVal[ot]);this.xSteps[ot]=ai([this.xVal[ot],this.xVal[ot+1]],ut,0)/oi(this.xPct[ot],this.xPct[ot+1]);var Nt=Math.ceil(Number(((this.xVal[ot+1]-this.xVal[ot])/this.xNumSteps[ot]).toFixed(3))-1);this.xHighestCompleteStep[ot]=this.xVal[ot]+this.xNumSteps[ot]*Nt}},rt}(),Si={to:function(rt){return void 0===rt?"":rt.toFixed(2)},from:Number},ms={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Ai={tooltips:".__tooltips",aria:".__aria"};function xi(rt,ot){if(!tn(ot))throw new Error("noUiSlider: 'step' is not numeric.");rt.singleStep=ot}function Zt(rt,ot){if(!tn(ot))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");rt.keyboardPageMultiplier=ot}function Ii(rt,ot){if(!tn(ot))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");rt.keyboardMultiplier=ot}function Xt(rt,ot){if(!tn(ot))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");rt.keyboardDefaultStep=ot}function It(rt,ot){if("object"!=typeof ot||Array.isArray(ot))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===ot.min||void 0===ot.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");rt.spectrum=new fi(ot,rt.snap||!1,rt.singleStep)}function Fe(rt,ot){if(ot=Rt(ot),!Array.isArray(ot)||!ot.length)throw new Error("noUiSlider: 'start' option is incorrect.");rt.handles=ot.length,rt.start=ot}function Xe(rt,ot){if("boolean"!=typeof ot)throw new Error("noUiSlider: 'snap' option must be a boolean.");rt.snap=ot}function gt(rt,ot){if("boolean"!=typeof ot)throw new Error("noUiSlider: 'animate' option must be a boolean.");rt.animate=ot}function Yt(rt,ot){if("number"!=typeof ot)throw new Error("noUiSlider: 'animationDuration' option must be a number.");rt.animationDuration=ot}function Cn(rt,ot){var jt,ut=[!1];if("lower"===ot?ot=[!0,!1]:"upper"===ot&&(ot=[!1,!0]),!0===ot||!1===ot){for(jt=1;jt<rt.handles;jt++)ut.push(ot);ut.push(!1)}else{if(!Array.isArray(ot)||!ot.length||ot.length!==rt.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");ut=ot}rt.connect=ut}function On(rt,ot){switch(ot){case"horizontal":rt.ort=0;break;case"vertical":rt.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Nn(rt,ot){if(!tn(ot))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==ot&&(rt.margin=rt.spectrum.getDistance(ot))}function Qn(rt,ot){if(!tn(ot))throw new Error("noUiSlider: 'limit' option must be numeric.");if(rt.limit=rt.spectrum.getDistance(ot),!rt.limit||rt.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Jn(rt,ot){var ut;if(!tn(ot)&&!Array.isArray(ot))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(ot)&&2!==ot.length&&!tn(ot[0])&&!tn(ot[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==ot){for(Array.isArray(ot)||(ot=[ot,ot]),rt.padding=[rt.spectrum.getDistance(ot[0]),rt.spectrum.getDistance(ot[1])],ut=0;ut<rt.spectrum.xNumSteps.length-1;ut++)if(rt.padding[0][ut]<0||rt.padding[1][ut]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");if((ot[0]+ot[1])/(rt.spectrum.xVal[rt.spectrum.xVal.length-1]-rt.spectrum.xVal[0])>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function ki(rt,ot){switch(ot){case"ltr":rt.dir=0;break;case"rtl":rt.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Fi(rt,ot){if("string"!=typeof ot)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var ut=ot.indexOf("tap")>=0,jt=ot.indexOf("drag")>=0,Nt=ot.indexOf("fixed")>=0,Ln=ot.indexOf("snap")>=0,hi=ot.indexOf("hover")>=0,Li=ot.indexOf("unconstrained")>=0,$i=ot.indexOf("invert-connects")>=0,Ci=ot.indexOf("drag-all")>=0,Ls=ot.indexOf("smooth-steps")>=0;if(Nt){if(2!==rt.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Nn(rt,rt.start[1]-rt.start[0])}if($i&&2!==rt.handles)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(Li&&(rt.margin||rt.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");rt.events={tap:ut||Ln,drag:jt,dragAll:Ci,smoothSteps:Ls,fixed:Nt,snap:Ln,hover:hi,unconstrained:Li,invertConnects:$i}}function ss(rt,ot){if(!1!==ot)if(!0===ot||ke(ot)){rt.tooltips=[];for(var ut=0;ut<rt.handles;ut++)rt.tooltips.push(ot)}else{if((ot=Rt(ot)).length!==rt.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");ot.forEach(function(jt){if("boolean"!=typeof jt&&!ke(jt))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),rt.tooltips=ot}}function hs(rt,ot){if(ot.length!==rt.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");rt.handleAttributes=ot}function gs(rt,ot){if(!ke(ot))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");rt.ariaFormat=ot}function Ss(rt,ot){if(!function Je(rt){return ke(rt)&&"function"==typeof rt.from}(ot))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");rt.format=ot}function Ji(rt,ot){if("boolean"!=typeof ot)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");rt.keyboardSupport=ot}function ps(rt,ot){rt.documentElement=ot}function Ft(rt,ot){if("string"!=typeof ot&&!1!==ot)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");rt.cssPrefix=ot}function _n(rt,ot){if("object"!=typeof ot)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof rt.cssPrefix?(rt.cssClasses={},Object.keys(ot).forEach(function(ut){rt.cssClasses[ut]=rt.cssPrefix+ot[ut]})):rt.cssClasses=ot}function We(rt){var ot={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Si,format:Si},ut={step:{r:!1,t:xi},keyboardPageMultiplier:{r:!1,t:Zt},keyboardMultiplier:{r:!1,t:Ii},keyboardDefaultStep:{r:!1,t:Xt},start:{r:!0,t:Fe},connect:{r:!0,t:Cn},direction:{r:!0,t:ki},snap:{r:!1,t:Xe},animate:{r:!1,t:gt},animationDuration:{r:!1,t:Yt},range:{r:!0,t:It},orientation:{r:!1,t:On},margin:{r:!1,t:Nn},limit:{r:!1,t:Qn},padding:{r:!1,t:Jn},behaviour:{r:!0,t:Fi},ariaFormat:{r:!1,t:gs},format:{r:!1,t:Ss},tooltips:{r:!1,t:ss},keyboardSupport:{r:!0,t:Ji},documentElement:{r:!1,t:ps},cssPrefix:{r:!0,t:Ft},cssClasses:{r:!0,t:_n},handleAttributes:{r:!1,t:hs}},jt={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:ms,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};rt.format&&!rt.ariaFormat&&(rt.ariaFormat=rt.format),Object.keys(ut).forEach(function($i){if(ze(rt[$i])||void 0!==jt[$i])ut[$i].t(ot,ze(rt[$i])?rt[$i]:jt[$i]);else if(ut[$i].r)throw new Error("noUiSlider: '"+$i+"' is required.")}),ot.pips=rt.pips;var Nt=document.createElement("div");return ot.transformRule=void 0!==Nt.style.transform?"transform":void 0!==Nt.style.msTransform?"msTransform":"webkitTransform",ot.style=[["left","top"],["right","bottom"]][ot.dir][ot.ort],ot}function be(rt,ot,ut){var Li,$i,Ci,Ls,qs,Mo,jt=function En(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}(),Ln=function ni(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}()&&function Tn(){var rt=!1;try{var ot=Object.defineProperty({},"passive",{get:function(){rt=!0}});window.addEventListener("test",null,ot)}catch{}return rt}(),hi=rt,Qi=ot.spectrum,mr=[],Is=[],Vo=[],ca=0,Io={},os=!1,Po=rt.ownerDocument,gr=ot.documentElement||Po.documentElement,Yr=Po.body,da="rtl"===Po.dir||1===ot.ort?0:100;function br($t,mn){var Pn=Po.createElement("div");return mn&&$n(Pn,mn),$t.appendChild(Pn),Pn}function Nr($t,mn){var Pn=br($t,ot.cssClasses.origin),Hn=br(Pn,ot.cssClasses.handle);if(br(Hn,ot.cssClasses.touchArea),Hn.setAttribute("data-handle",String(mn)),ot.keyboardSupport&&(Hn.setAttribute("tabindex","0"),Hn.addEventListener("keydown",function(ui){return function zc($t,mn){if(qt()||ue(mn))return!1;var Pn=["Left","Right"],Hn=["Down","Up"],di=["PageDown","PageUp"],ui=["Home","End"];ot.dir&&!ot.ort?Pn.reverse():ot.ort&&!ot.dir&&(Hn.reverse(),di.reverse());var fo,Zi=$t.key.replace("Arrow",""),yi=Zi===di[0],eo=Zi===di[1],xs=Zi===Hn[0]||Zi===Pn[0]||yi,bo=Zi===Hn[1]||Zi===Pn[1]||eo,Fs=Zi===ui[1];if(!(xs||bo||Zi===ui[0]||Fs))return!0;if($t.preventDefault(),bo||xs){var xo=xs?0:1,wo=Gl(mn)[xo];if(null===wo)return!1;!1===wo&&(wo=Qi.getDefaultStep(Is[mn],xs,ot.keyboardDefaultStep)),wo*=eo||yi?ot.keyboardPageMultiplier:ot.keyboardMultiplier,wo=Math.max(wo,1e-7),fo=mr[mn]+(wo*=xs?-1:1)}else fo=Fs?ot.spectrum.xVal[ot.spectrum.xVal.length-1]:ot.spectrum.xVal[0];return Fr(mn,Qi.toStepping(fo),!0,!0),ro("slide",mn),ro("update",mn),ro("change",mn),ro("set",mn),!1}(ui,mn)})),void 0!==ot.handleAttributes){var di=ot.handleAttributes[mn];Object.keys(di).forEach(function(ui){Hn.setAttribute(ui,di[ui])})}return Hn.setAttribute("role","slider"),Hn.setAttribute("aria-orientation",ot.ort?"vertical":"horizontal"),0===mn?$n(Hn,ot.cssClasses.handleLower):mn===ot.handles-1&&$n(Hn,ot.cssClasses.handleUpper),Pn.handle=Hn,Pn}function lr($t,mn){return!!mn&&br($t,ot.cssClasses.connect)}function St($t,mn){return!(!ot.tooltips||!ot.tooltips[mn])&&br($t.firstChild,ot.cssClasses.tooltip)}function qt(){return hi.hasAttribute("disabled")}function ue($t){return Ci[$t].hasAttribute("disabled")}function nn(){Mo&&(Ro("update"+Ai.tooltips),Mo.forEach(function($t){$t&&Le($t)}),Mo=null)}function Bn(){nn(),Mo=Ci.map(St),ys("update"+Ai.tooltips,function($t,mn,Pn){if(Mo&&ot.tooltips&&!1!==Mo[mn]){var Hn=$t[mn];!0!==ot.tooltips[mn]&&(Hn=ot.tooltips[mn].to(Pn[mn])),Mo[mn].innerHTML=Hn}})}function Oe($t,mn){return $t.map(function(Pn){return Qi.fromStepping(mn?Qi.getStep(Pn):Pn)})}function gi(){qs&&(Le(qs),qs=null)}function rs($t){gi();var mn=function ct($t){function mn(xs,bo){return Number((xs+bo).toFixed(7))}var Pn=function Ve($t){if($t.mode===zt.Range||$t.mode===zt.Steps)return Qi.xVal;if($t.mode===zt.Count){if($t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var mn=$t.values-1,Pn=100/mn,Hn=[];mn--;)Hn[mn]=mn*Pn;return Hn.push(100),Oe(Hn,$t.stepped)}return $t.mode===zt.Positions?Oe($t.values,$t.stepped):$t.mode===zt.Values?$t.stepped?$t.values.map(function(di){return Qi.fromStepping(Qi.getStep(Qi.toStepping(di)))}):$t.values:[]}($t),Hn={},di=Qi.xVal[0],ui=Qi.xVal[Qi.xVal.length-1],Zi=!1,yi=!1,eo=0;return Pn=function Vt(rt){return rt.filter(function(ot){return!this[ot]&&(this[ot]=!0)},{})}(Pn.slice().sort(function(xs,bo){return xs-bo})),Pn[0]!==di&&(Pn.unshift(di),Zi=!0),Pn[Pn.length-1]!==ui&&(Pn.push(ui),yi=!0),Pn.forEach(function(xs,bo){var ao,Fs,fo,wo,wa,me,st,et,Wt,xo=xs,Ps=Pn[bo+1],Rn=$t.mode===zt.Steps;for(Rn&&(ao=Qi.xNumSteps[bo]),ao||(ao=Ps-xo),void 0===Ps&&(Ps=xo),ao=Math.max(ao,1e-7),Fs=xo;Fs<=Ps;Fs=mn(Fs,ao)){for(Wt=(wa=(wo=Qi.toStepping(Fs))-eo)/(et=Math.round(wa/($t.density||1))),fo=1;fo<=et;fo+=1)Hn[(me=eo+fo*Wt).toFixed(5)]=[Qi.fromStepping(me),0];st=Pn.indexOf(Fs)>-1?Gt.LargeValue:Rn?Gt.SmallValue:Gt.NoValue,!bo&&Zi&&Fs!==Ps&&(st=0),Fs===Ps&&yi||(Hn[wo.toFixed(5)]=[Fs,st]),eo=wo}}),Hn}($t);return qs=hi.appendChild(function Ht($t,mn,Pn){var Hn,di,ui=Po.createElement("div"),Zi=((Hn={})[Gt.None]="",Hn[Gt.NoValue]=ot.cssClasses.valueNormal,Hn[Gt.LargeValue]=ot.cssClasses.valueLarge,Hn[Gt.SmallValue]=ot.cssClasses.valueSub,Hn),yi=((di={})[Gt.None]="",di[Gt.NoValue]=ot.cssClasses.markerNormal,di[Gt.LargeValue]=ot.cssClasses.markerLarge,di[Gt.SmallValue]=ot.cssClasses.markerSub,di),eo=[ot.cssClasses.valueHorizontal,ot.cssClasses.valueVertical],xs=[ot.cssClasses.markerHorizontal,ot.cssClasses.markerVertical];function bo(Fs,fo){var xo=fo===ot.cssClasses.value;return fo+" "+(xo?eo:xs)[ot.ort]+" "+(xo?Zi:yi)[Fs]}return $n(ui,ot.cssClasses.pips),$n(ui,0===ot.ort?ot.cssClasses.pipsHorizontal:ot.cssClasses.pipsVertical),Object.keys($t).forEach(function(Fs){!function ao(Fs,fo,xo){if((xo=mn?mn(fo,xo):xo)!==Gt.None){var Ps=br(ui,!1);Ps.className=bo(xo,ot.cssClasses.marker),Ps.style[ot.style]=Fs+"%",xo>Gt.NoValue&&((Ps=br(ui,!1)).className=bo(xo,ot.cssClasses.value),Ps.setAttribute("data-value",String(fo)),Ps.style[ot.style]=Fs+"%",Ps.innerHTML=String(Pn.to(fo)))}}(Fs,$t[Fs][0],$t[Fs][1])}),ui}(mn,$t.filter,$t.format||{to:function(di){return String(Math.round(di))}}))}function Pr(){var $t=Li.getBoundingClientRect(),mn="offset"+["Width","Height"][ot.ort];return 0===ot.ort?$t.width||Li[mn]:$t.height||Li[mn]}function Yo($t,mn,Pn,Hn){var di=function(Zi){var yi=function Tl($t,mn,Pn){var Hn=0===$t.type.indexOf("touch"),di=0===$t.type.indexOf("mouse"),ui=0===$t.type.indexOf("pointer"),Zi=0,yi=0;if(0===$t.type.indexOf("MSPointer")&&(ui=!0),"mousedown"===$t.type&&!$t.buttons&&!$t.touches)return!1;if(Hn){var eo=function(ao){var Fs=ao.target;return Fs===Pn||Pn.contains(Fs)||$t.composed&&$t.composedPath().shift()===Pn};if("touchstart"===$t.type){var xs=Array.prototype.filter.call($t.touches,eo);if(xs.length>1)return!1;Zi=xs[0].pageX,yi=xs[0].pageY}else{var bo=Array.prototype.find.call($t.changedTouches,eo);if(!bo)return!1;Zi=bo.pageX,yi=bo.pageY}}return mn=mn||_t(Po),(di||ui)&&(Zi=$t.clientX+mn.x,yi=$t.clientY+mn.y),$t.pageOffset=mn,$t.points=[Zi,yi],$t.cursor=di||ui,$t}(Zi,Hn.pageOffset,Hn.target||mn);if(!yi||qt()&&!Hn.doNotReject||function bt(rt,ot){return rt.classList?rt.classList.contains(ot):new RegExp("\\b"+ot+"\\b").test(rt.className)}(hi,ot.cssClasses.tap)&&!Hn.doNotReject||$t===jt.start&&void 0!==yi.buttons&&yi.buttons>1||Hn.hover&&yi.buttons)return!1;Ln||yi.preventDefault(),yi.calcPoint=yi.points[ot.ort],Pn(yi,Hn)},ui=[];return $t.split(" ").forEach(function(Zi){mn.addEventListener(Zi,di,!!Ln&&{passive:!0}),ui.push([Zi,di])}),ui}function Ml($t){var mn=$t-function At(rt,ot){var ut=rt.getBoundingClientRect(),jt=rt.ownerDocument,Nt=jt.documentElement,Ln=_t(jt);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(Ln.x=0),ot?ut.top+Ln.y-Nt.clientTop:ut.left+Ln.x-Nt.clientLeft}(Li,ot.ort),Pn=100*mn/Pr();return Pn=Lt(Pn),ot.dir?100-Pn:Pn}function kl($t,mn){"mouseout"===$t.type&&"HTML"===$t.target.nodeName&&null===$t.relatedTarget&&Dc($t,mn)}function bc($t,mn){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===$t.buttons&&0!==mn.buttonsProperty)return Dc($t,mn);var Pn=(ot.dir?-1:1)*($t.calcPoint-mn.startCalcPoint);Ka(Pn>0,100*Pn/mn.baseSize,mn.locations,mn.handleNumbers,mn.connect)}function Dc($t,mn){mn.handle&&(Di(mn.handle,ot.cssClasses.active),ca-=1),mn.listeners.forEach(function(Pn){gr.removeEventListener(Pn[0],Pn[1])}),0===ca&&(Di(hi,ot.cssClasses.drag),xa(),$t.cursor&&(Yr.style.cursor="",Yr.removeEventListener("selectstart",lt))),ot.events.smoothSteps&&(mn.handleNumbers.forEach(function(Pn){Fr(Pn,Is[Pn],!0,!0,!1,!1)}),mn.handleNumbers.forEach(function(Pn){ro("update",Pn)})),mn.handleNumbers.forEach(function(Pn){ro("change",Pn),ro("set",Pn),ro("end",Pn)})}function rl($t,mn){if(!mn.handleNumbers.some(ue)){var Pn;1===mn.handleNumbers.length&&(ca+=1,$n(Pn=Ci[mn.handleNumbers[0]].children[0],ot.cssClasses.active)),$t.stopPropagation();var di=[],ui=Yo(jt.move,gr,bc,{target:$t.target,handle:Pn,connect:mn.connect,listeners:di,startCalcPoint:$t.calcPoint,baseSize:Pr(),pageOffset:$t.pageOffset,handleNumbers:mn.handleNumbers,buttonsProperty:$t.buttons,locations:Is.slice()}),Zi=Yo(jt.end,gr,Dc,{target:$t.target,handle:Pn,listeners:di,doNotReject:!0,handleNumbers:mn.handleNumbers}),yi=Yo("mouseout",gr,kl,{target:$t.target,handle:Pn,listeners:di,doNotReject:!0,handleNumbers:mn.handleNumbers});di.push.apply(di,ui.concat(Zi,yi)),$t.cursor&&(Yr.style.cursor=getComputedStyle($t.target).cursor,Ci.length>1&&$n(hi,ot.cssClasses.drag),Yr.addEventListener("selectstart",lt,!1)),mn.handleNumbers.forEach(function(eo){ro("start",eo)})}}function Qo($t){$t.stopPropagation();var mn=Ml($t.calcPoint),Pn=function Md($t){var mn=100,Pn=!1;return Ci.forEach(function(Hn,di){if(!ue(di)){var ui=Is[di],Zi=Math.abs(ui-$t);(Zi<mn||Zi<=mn&&$t>ui||100===Zi&&100===mn)&&(Pn=di,mn=Zi)}}),Pn}(mn);!1!==Pn&&(ot.events.snap||dt(hi,ot.cssClasses.tap,ot.animationDuration),Fr(Pn,mn,!0,!0),xa(),ro("slide",Pn,!0),ro("update",Pn,!0),ot.events.snap?rl($t,{handleNumbers:[Pn]}):(ro("change",Pn,!0),ro("set",Pn,!0)))}function Vl($t){var mn=Ml($t.calcPoint),Pn=Qi.getStep(mn),Hn=Qi.fromStepping(Pn);Object.keys(Io).forEach(function(di){"hover"===di.split(".")[0]&&Io[di].forEach(function(ui){ui.call(Ks,Hn)})})}function Ol($t){$t.fixed||Ci.forEach(function(mn,Pn){Yo(jt.start,mn.children[0],rl,{handleNumbers:[Pn]})}),$t.tap&&Yo(jt.start,Li,Qo,{}),$t.hover&&Yo(jt.move,Li,Vl,{hover:!0}),$t.drag&&Ls.forEach(function(mn,Pn){if(!1!==mn&&0!==Pn&&Pn!==Ls.length-1){var Hn=Ci[Pn-1],di=Ci[Pn],ui=[mn],Zi=[Hn,di],yi=[Pn-1,Pn];$n(mn,ot.cssClasses.draggable),$t.fixed&&(ui.push(Hn.children[0]),ui.push(di.children[0])),$t.dragAll&&(Zi=Ci,yi=Vo),ui.forEach(function(eo){Yo(jt.start,eo,rl,{handles:Zi,handleNumbers:yi,connect:mn})})}})}function ys($t,mn){Io[$t]=Io[$t]||[],Io[$t].push(mn),"update"===$t.split(".")[0]&&Ci.forEach(function(Pn,Hn){ro("update",Hn)})}function Ro($t){var mn=$t&&$t.split(".")[0],Pn=mn?$t.substring(mn.length):$t;Object.keys(Io).forEach(function(Hn){var di=Hn.split(".")[0],ui=Hn.substring(di.length);mn&&mn!==di||Pn&&Pn!==ui||function cr($t){return $t===Ai.aria||$t===Ai.tooltips}(ui)&&Pn!==ui||delete Io[Hn]})}function ro($t,mn,Pn){Object.keys(Io).forEach(function(Hn){var di=Hn.split(".")[0];$t===di&&Io[Hn].forEach(function(ui){ui.call(Ks,mr.map(ot.format.to),mn,mr.slice(),Pn||!1,Is.slice(),Ks)})})}function $o($t,mn,Pn,Hn,di,ui,Zi){var yi;return Ci.length>1&&!ot.events.unconstrained&&(Hn&&mn>0&&(yi=Qi.getAbsoluteDistance($t[mn-1],ot.margin,!1),Pn=Math.max(Pn,yi)),di&&mn<Ci.length-1&&(yi=Qi.getAbsoluteDistance($t[mn+1],ot.margin,!0),Pn=Math.min(Pn,yi))),Ci.length>1&&ot.limit&&(Hn&&mn>0&&(yi=Qi.getAbsoluteDistance($t[mn-1],ot.limit,!1),Pn=Math.min(Pn,yi)),di&&mn<Ci.length-1&&(yi=Qi.getAbsoluteDistance($t[mn+1],ot.limit,!0),Pn=Math.max(Pn,yi))),ot.padding&&(0===mn&&(yi=Qi.getAbsoluteDistance(0,ot.padding[0],!1),Pn=Math.max(Pn,yi)),mn===Ci.length-1&&(yi=Qi.getAbsoluteDistance(100,ot.padding[1],!0),Pn=Math.min(Pn,yi))),Zi||(Pn=Qi.getStep(Pn)),!((Pn=Lt(Pn))===$t[mn]&&!ui)&&Pn}function $l($t,mn){var Pn=ot.ort;return(Pn?mn:$t)+", "+(Pn?$t:mn)}function Ka($t,mn,Pn,Hn,di){var ui=Pn.slice(),Zi=Hn[0],yi=ot.events.smoothSteps,eo=[!$t,$t],xs=[$t,!$t];Hn=Hn.slice(),$t&&Hn.reverse(),Hn.length>1?Hn.forEach(function(ao,Fs){var fo=$o(ui,ao,ui[ao]+mn,eo[Fs],xs[Fs],!1,yi);!1===fo?mn=0:(mn=fo-ui[ao],ui[ao]=fo)}):eo=xs=[!0];var bo=!1;Hn.forEach(function(ao,Fs){bo=Fr(ao,Pn[ao]+mn,eo[Fs],xs[Fs],!1,yi)||bo}),bo&&(Hn.forEach(function(ao){ro("update",ao),ro("slide",ao)}),null!=di&&ro("drag",Zi))}function Sl($t,mn){return ot.dir?100-$t-mn:$t}function xa(){Vo.forEach(function($t){Ci[$t].style.zIndex=String(3+(Ci.length+(Is[$t]>50?-1:1)*$t))})}function Fr($t,mn,Pn,Hn,di,ui){return di||(mn=$o(Is,$t,mn,Pn,Hn,!1,ui)),!1!==mn&&(function Tc($t,mn){Is[$t]=mn,mr[$t]=Qi.fromStepping(mn);var Hn="translate("+$l(Sl(mn,0)-da+"%","0")+")";if(Ci[$t].style[ot.transformRule]=Hn,ot.events.invertConnects&&Is.length>1){var di=Is.every(function(ui,Zi,yi){return 0===Zi||ui>=yi[Zi-1]});if(os!==!di)return void function lc(){os=!os,Cn(ot,ot.connect.map(function($t){return!$t})),$r()}()}Ha($t),Ha($t+1),os&&(Ha($t-1),Ha($t+2))}($t,mn),!0)}function Ha($t){if(Ls[$t]){var mn=Is.slice();os&&mn.sort(function(yi,eo){return yi-eo});var Pn=0,Hn=100;0!==$t&&(Pn=mn[$t-1]),$t!==Ls.length-1&&(Hn=mn[$t]);var di=Hn-Pn,ui="translate("+$l(Sl(Pn,di)+"%","0")+")",Zi="scale("+$l(di/100,"1")+")";Ls[$t].style[ot.transformRule]=ui+" "+Zi}}function Wl($t,mn){return null===$t||!1===$t||void 0===$t||("number"==typeof $t&&($t=String($t)),!1!==($t=ot.format.from($t))&&($t=Qi.toStepping($t)),!1===$t||isNaN($t))?Is[mn]:$t}function al($t,mn,Pn){var Hn=Rt($t),di=void 0===Is[0];mn=void 0===mn||mn,ot.animate&&!di&&dt(hi,ot.cssClasses.tap,ot.animationDuration),Vo.forEach(function(yi){Fr(yi,Wl(Hn[yi],yi),!0,!1,Pn)});var ui=1===Vo.length?0:1;if(di&&Qi.hasNoSize()&&(Pn=!0,Is[0]=0,Vo.length>1)){var Zi=100/(Vo.length-1);Vo.forEach(function(yi){Is[yi]=yi*Zi})}for(;ui<Vo.length;++ui)Vo.forEach(function(yi){Fr(yi,Is[yi],!0,!0,Pn)});xa(),Vo.forEach(function(yi){ro("update",yi),null!==Hn[yi]&&mn&&ro("set",yi)})}function Il($t){if(void 0===$t&&($t=!1),$t)return 1===mr.length?mr[0]:mr.slice(0);var mn=mr.map(ot.format.to);return 1===mn.length?mn[0]:mn}function Gl($t){var mn=Is[$t],Pn=Qi.getNearbySteps(mn),Hn=mr[$t],di=Pn.thisStep.step,ui=null;if(ot.snap)return[Hn-Pn.stepBefore.startValue||null,Pn.stepAfter.startValue-Hn||null];!1!==di&&Hn+di>Pn.stepAfter.startValue&&(di=Pn.stepAfter.startValue-Hn),ui=Hn>Pn.thisStep.startValue?Pn.thisStep.step:!1!==Pn.stepBefore.step&&Hn-Pn.stepBefore.highestStep,100===mn?di=null:0===mn&&(ui=null);var Zi=Qi.countStepDecimals();return null!==di&&!1!==di&&(di=Number(di.toFixed(Zi))),null!==ui&&!1!==ui&&(ui=Number(ui.toFixed(Zi))),[ui,di]}function $r(){for(;$i.firstChild;)$i.removeChild($i.firstChild);for(var $t=0;$t<=ot.handles;$t++)Ls[$t]=lr($i,ot.connect[$t]),Ha($t);Ol({drag:ot.events.drag,fixed:!0})}!function dr(){Li=function Qr($t){return $n($t,ot.cssClasses.target),$n($t,0===ot.dir?ot.cssClasses.ltr:ot.cssClasses.rtl),$n($t,0===ot.ort?ot.cssClasses.horizontal:ot.cssClasses.vertical),$n($t,"rtl"===getComputedStyle($t).direction?ot.cssClasses.textDirectionRtl:ot.cssClasses.textDirectionLtr),br($t,ot.cssClasses.base)}(hi),function ol($t,mn){$i=br(mn,ot.cssClasses.connects),Ci=[],(Ls=[]).push(lr($i,$t[0]));for(var Pn=0;Pn<ot.handles;Pn++)Ci.push(Nr(mn,Pn)),Vo[Pn]=Pn,Ls.push(lr($i,$t[Pn+1]))}(ot.connect,Li),Ol(ot.events),al(ot.start),ot.pips&&rs(ot.pips),ot.tooltips&&Bn(),function xe(){Ro("update"+Ai.aria),ys("update"+Ai.aria,function($t,mn,Pn,Hn,di){Vo.forEach(function(ui){var Zi=Ci[ui],yi=$o(Is,ui,0,!0,!0,!0),eo=$o(Is,ui,100,!0,!0,!0),xs=di[ui],bo=String(ot.ariaFormat.to(Pn[ui]));yi=Qi.fromStepping(yi).toFixed(1),eo=Qi.fromStepping(eo).toFixed(1),xs=Qi.fromStepping(xs).toFixed(1),Zi.children[0].setAttribute("aria-valuemin",yi),Zi.children[0].setAttribute("aria-valuemax",eo),Zi.children[0].setAttribute("aria-valuenow",xs),Zi.children[0].setAttribute("aria-valuetext",bo)})})}()}();var Ks={destroy:function Od(){for(Ro(Ai.aria),Ro(Ai.tooltips),Object.keys(ot.cssClasses).forEach(function($t){Di(hi,ot.cssClasses[$t])});hi.firstChild;)hi.removeChild(hi.firstChild);delete hi.noUiSlider},steps:function Mc(){return Vo.map(Gl)},on:ys,off:Ro,get:Il,set:al,setHandle:function Xc($t,mn,Pn,Hn){if(!(($t=Number($t))>=0&&$t<Vo.length))throw new Error("noUiSlider: invalid handle number, got: "+$t);Fr($t,Wl(mn,$t),!0,!0,Hn),ro("update",$t),Pn&&ro("set",$t)},reset:function ac($t){al(ot.start,$t)},disable:function Ye($t){null!=$t?(Ci[$t].setAttribute("disabled",""),Ci[$t].handle.removeAttribute("tabindex")):(hi.setAttribute("disabled",""),Ci.forEach(function(mn){mn.handle.removeAttribute("tabindex")}))},enable:function Dt($t){null!=$t?(Ci[$t].removeAttribute("disabled"),Ci[$t].handle.setAttribute("tabindex","0")):(hi.removeAttribute("disabled"),Ci.forEach(function(mn){mn.removeAttribute("disabled"),mn.handle.setAttribute("tabindex","0")}))},__moveHandles:function($t,mn,Pn){Ka($t,mn,Is,Pn)},options:ut,updateOptions:function Wo($t,mn){var Pn=Il(),Hn=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];Hn.forEach(function(ui){void 0!==$t[ui]&&(ut[ui]=$t[ui])});var di=We(ut);Hn.forEach(function(ui){void 0!==$t[ui]&&(ot[ui]=di[ui])}),Qi=di.spectrum,ot.margin=di.margin,ot.limit=di.limit,ot.padding=di.padding,ot.pips?rs(ot.pips):gi(),ot.tooltips?Bn():nn(),Is=[],al(ze($t.start)?$t.start:Pn,mn),$t.connect&&$r()},target:hi,removePips:gi,removeTooltips:nn,getPositions:function(){return Is.slice()},getTooltips:function(){return Mo},getOrigins:function(){return Ci},pips:rs};return Ks}class ht{to(ot){return String(parseFloat(parseFloat(String(ot)).toFixed(2)))}from(ot){return parseFloat(ot)}}let Ut=(()=>{class rt{constructor(ut,jt,Nt){this.ngZone=ut,this.el=jt,this.renderer=Nt,this.handles=[],this.config={},this.change=new t.bkB(!0),this.update=new t.bkB(!0),this.slide=new t.bkB(!0),this.set=new t.bkB(!0),this.start=new t.bkB(!0),this.end=new t.bkB(!0),this.onChange=Function.prototype,this.cleanups=[],this.eventHandler=(Ln,hi,Li,$i)=>{let Ci=this.toValues(hi),Ls=!1;void 0!==this.value?(Array.isArray(Ci)&&this.value[Li]!=Ci[Li]&&(Ls=!0),!Array.isArray(Ci)&&this.value!=Ci&&(Ls=!0),Ls&&this.ngZone.run(()=>{Ln.observers.length>0&&Ln.emit(Ci),this.onChange(Ci)}),Array.isArray(Ci)?this.value[Li]=Ci[Li]:this.value=Ci):this.value=Ci},this.defaultKeyHandler=Ln=>{let Mo,hi=this.slider.steps(),Li=parseInt(Ln.target.getAttribute("data-handle")),$i=1,Ci=1,Ls=0,qs=0;switch(Ln.which){case 34:case 33:Ci=this.config.pageSteps;break;case 40:case 37:$i=-1,Ls=hi[Li][0],Ln.preventDefault();break;case 38:case 39:Ls=hi[Li][1],Ln.preventDefault()}qs=$i*Ci*Ls,Array.isArray(this.value)?(Mo=[...this.value],Mo[Li]=Mo[Li]+qs):Mo=this.value+qs,this.slider.set(Mo)}}ngOnChanges(ut){this.slider&&(ut.min||ut.max||ut.step||ut.range)&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.updateOptions({range:Object.assign({},{min:this.min,max:this.max},this.range||{}),step:this.step})})})}ngOnDestroy(){for(this.slider.destroy();this.cleanups.length;)this.cleanups.pop()?.()}toValues(ut){let jt=ut.map(this.config.format.from);return 1==jt.length?jt[0]:jt}writeValue(ut){this.slider?this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.set(ut)})}):null!==ut&&(this.value=ut,this.createSlider(ut))}registerOnChange(ut){this.onChange=ut}registerOnTouched(ut){}setDisabledState(ut){ut?this.renderer.setAttribute(this.el.nativeElement.childNodes[0],"disabled","true"):this.renderer.removeAttribute(this.el.nativeElement.childNodes[0],"disabled")}createSlider(ut){let jt=JSON.parse(JSON.stringify({behaviour:this.behaviour,connect:this.connect,limit:this.limit,start:ut,step:this.step,pageSteps:this.pageSteps,keyboard:this.keyboard,onKeydown:this.onKeydown,range:this.range||this.config.range||{min:this.min,max:this.max},tooltips:this.tooltips,snap:this.snap,animate:this.animate}));if(jt.tooltips=this.tooltips||this.config.tooltips,jt.format=this.format||this.config.format||new ht,this.ngZone.runOutsideAngular(()=>{this.slider=function Me(rt,ot){if(!rt||!rt.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+rt);if(rt.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var jt=be(rt,We(ot),ot);return rt.noUiSlider=jt,jt}(this.el.nativeElement.querySelector("div"),Object.assign(this.config,jt))}),this.handles=[].slice.call(this.el.nativeElement.querySelectorAll(".noUi-handle")),this.config.keyboard){void 0===this.config.pageSteps&&(this.config.pageSteps=10);for(const Nt of this.handles){Nt.setAttribute("tabindex",0);const Ln=this.config.onKeydown||this.defaultKeyHandler;this.ngZone.runOutsideAngular(()=>{this.cleanups.push(this.renderer.listen(Nt,"keydown",Ln),this.renderer.listen(Nt,"click",()=>{Nt.focus()}))})}}this.slider.on("set",(Nt,Ln,hi)=>{this.eventHandler(this.set,Nt,Ln,hi)}),this.slider.on("update",(Nt,Ln,hi)=>{this.update.observers.length>0&&this.ngZone.run(()=>{this.update.emit(this.toValues(Nt))})}),this.slider.on("change",(Nt,Ln,hi)=>{this.change.observers.length>0&&this.ngZone.run(()=>{this.change.emit(this.toValues(Nt))})}),this.slider.on("slide",(Nt,Ln,hi)=>{this.eventHandler(this.slide,Nt,Ln,hi)}),this.slider.on("start",(Nt,Ln,hi)=>{this.start.observers.length>0&&this.ngZone.run(()=>{this.start.emit(this.toValues(Nt))})}),this.slider.on("end",(Nt,Ln,hi)=>{this.end.observers.length>0&&this.ngZone.run(()=>{this.end.emit(this.toValues(Nt))})})}}return rt.\u0275fac=function(ut){return new(ut||rt)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(t.sFG))},rt.\u0275cmp=t.VBU({type:rt,selectors:[["nouislider"]],hostVars:2,hostBindings:function(ut,jt){2&ut&&t.AVh("ng2-nouislider",!0)},inputs:{disabled:"disabled",behaviour:"behaviour",connect:"connect",limit:"limit",min:"min",max:"max",snap:"snap",animate:"animate",range:"range",step:"step",format:"format",pageSteps:"pageSteps",config:"config",keyboard:"keyboard",onKeydown:"onKeydown",tooltips:"tooltips"},outputs:{change:"change",update:"update",slide:"slide",set:"set",start:"start",end:"end"},standalone:!0,features:[t.Jv_([{provide:te.kq,useExisting:(0,t.Rfq)(()=>rt),multi:!0}]),t.OA$,t.aNF],decls:1,vars:1,template:function(ut,jt){1&ut&&t.nrm(0,"div"),2&ut&&t.BMQ("disabled",!!jt.disabled||void 0)},styles:["[_nghost-%COMP%]{display:block;margin-top:1rem;margin-bottom:1rem}"]}),rt})();var un=n(50813),jn=n(87507),Zn=n(19370);const wi=".min",_s=".max",Uo=rt=>[rt];function pr(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"a",1),t.bIt("click",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.filterService.minimizeAll())}),t.j41(1,"span",2),t.EFF(2),t.k0s(),t.j41(3,"span",3)(4,"span",4),t.EFF(5),t.nI1(6,"dsShortNumber"),t.k0s()()()}if(2&rt){const ut=t.XpG();t.Y8G("routerLink",t.eq3(6,Uo,ut.searchLink))("queryParams",ut.changeQueryParams),t.R7$(2),t.JRh(ut.filterValue.label),t.R7$(3),t.JRh(t.bMT(6,4,ut.filterValue.count))}}let er=(()=>{class rt{constructor(ut,jt,Nt,Ln,hi){this.searchService=ut,this.filterService=jt,this.searchConfigService=Nt,this.router=Ln,this.paginationService=hi}ngOnInit(){this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,y.T)(ut=>!ut)),this.sub=this.searchConfigService.searchOptions.subscribe(()=>{this.updateChangeParams()})}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.filterValue.value)}getSearchLink(){return this.inPlaceSearch?(0,k.N)(this.router):this.searchService.getSearchLink()}updateChangeParams(){const ut=this.filterValue.value.split("-"),jt=ut.length>1?Number(ut[0].trim()):this.filterValue.value,Nt=ut.length>1?Number(ut[1].trim()):this.filterValue.value,Ln=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.changeQueryParams={[this.filterConfig.paramName+wi]:[jt],[this.filterConfig.paramName+_s]:Nt===(new Date).getUTCFullYear()?null:[Nt],[Ln]:1}}ngOnDestroy(){(0,h.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(jt){return new(jt||rt)(t.rXU(M.S),t.rXU(P.U),t.rXU(b.g),t.rXU(z.Ix),t.rXU(ye.m))}}static{this.\u0275cmp=t.VBU({type:rt,selectors:[["ds-search-facet-range-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["queryParamsHandling","merge","role","button","tabindex","0",1,"d-flex","flex-row",3,"routerLink","queryParams"],["queryParamsHandling","merge","role","button","tabindex","0",1,"d-flex","flex-row",3,"click","routerLink","queryParams"],[1,"filter-value","px-1"],[1,"float-end","filter-value-count","ms-auto"],[1,"badge","bg-secondary","rounded-pill"]],template:function(jt,Nt){1&jt&&(t.DNE(0,pr,7,8,"a",0),t.nI1(1,"async")),2&jt&&t.vxM(t.bMT(1,1,Nt.isVisible)?0:-1)},dependencies:[i.Jj,z.Wk,ce],styles:["a[_ngcontent-%COMP%]{color:var(--bs-link-color)}a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--bs-link-hover-color)}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}"]})}}return rt})();function Zs(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"nouislider",11),t.bIt("change",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.Njj(Ln.onSliderChange(Nt))})("keydown",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.startKeyboardControl())})("keyup",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.stopKeyboardControl())}),t.mxI("ngModelChange",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.DH7(Ln.range,Nt)||(Ln.range=Nt),t.Njj(Nt)}),t.k0s()}if(2&rt){const ut=t.XpG();t.Y8G("connect",!0)("config",ut.config)("min",ut.min)("max",ut.max)("step",1)("dsDebounce",250),t.R50("ngModel",ut.range)}}function tr(rt,ot){if(1&rt&&t.nrm(0,"ds-search-facet-range-option",12),2&rt){const ut=ot.$implicit,jt=t.XpG(2);t.Y8G("filterConfig",jt.filterConfig)("filterValue",ut)("inPlaceSearch",jt.inPlaceSearch)}}function Cr(rt,ot){if(1&rt&&(t.j41(0,"div"),t.Z7z(1,tr,1,3,"ds-search-facet-range-option",12,t.BUC().trackUpdate,!0),t.k0s()),2&rt){const ut=ot.$implicit,jt=t.XpG();t.Y8G("@facetLoad",jt.animationState),t.R7$(),t.Dyx(ut.page)}}let Sr=(()=>{class rt extends G{constructor(ut,jt,Nt,Ln,hi,Li,$i,Ci){super(ut,jt,hi,Nt,$i),this.searchService=ut,this.filterService=jt,this.router=Nt,this.route=Ln,this.rdbs=hi,this.translateService=Li,this.searchConfigService=$i,this.platformId=Ci,this.min=1950,this.max=(new Date).getUTCFullYear(),this.config={}}ngOnInit(){super.ngOnInit(),this.min=(0,un.zX)(this.filterConfig.minValue)||this.min,this.max=(0,un.zX)(this.filterConfig.maxValue)||this.max,this.minLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".min.placeholder"),this.maxLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".max.placeholder");const ut=this.route.getQueryParameterValue(this.filterConfig.paramName+wi).pipe((0,p.Z)(void 0)),jt=this.route.getQueryParameterValue(this.filterConfig.paramName+_s).pipe((0,p.Z)(void 0));this.subs.push((0,m.z)([ut,jt]).pipe((0,y.T)(([Nt,Ln])=>[(0,h.a4)(Nt)?Number(Nt):this.min,(0,h.a4)(Ln)?Number(Ln):this.max])).subscribe(Nt=>this.range=Nt)),this.config={handleAttributes:[{"aria-label":this.minLabel},{"aria-label":this.maxLabel}]}}onSliderChange(ut){this.sliderRange=ut}onSubmit(){if(this.keyboardControl)return;const ut=this.range[0]!==this.min?[this.range[0]]:null,jt=this.range[1]!==this.max?[this.range[1]]:null;this.router.navigate(this.getSearchLinkParts(),{queryParams:{[this.filterConfig.paramName+wi]:ut,[this.filterConfig.paramName+_s]:jt},queryParamsHandling:"merge"}),this.filter=""}startKeyboardControl(){this.keyboardControl=!0}stopKeyboardControl(){this.keyboardControl=!1}shouldShowSlider(){return(0,i.UE)(this.platformId)}static{this.\u0275fac=function(jt){return new(jt||rt)(t.rXU(M.S),t.rXU(P.U),t.rXU(z.Ix),t.rXU(jn.v$),t.rXU(j.o),t.rXU(c.c$),t.rXU(D.EN),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:rt,selectors:[["ds-search-range-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:26,vars:24,consts:[["form","ngForm"],[1,"filters","py-2"],[1,"add-filter","row",3,"ngSubmit","action"],[1,"col-6","mb-3","mb-0"],[1,"form-label"],[1,"fw-bold"],["type","text",1,"form-control",3,"ngModelChange","ngModel","name","placeholder"],[1,"col-6"],["type","submit","role","button","tabindex","0",1,"sr-only"],["ngDefaultControl","",3,"connect","config","min","max","step","dsDebounce","ngModel"],["role","button","tabindex","0",1,"btn","btn-primary",3,"click"],["ngDefaultControl","",3,"change","keydown","keyup","ngModelChange","connect","config","min","max","step","dsDebounce","ngModel"],[3,"filterConfig","filterValue","inPlaceSearch"]],template:function(jt,Nt){if(1&jt){const Ln=t.RV6();t.j41(0,"div")(1,"div",1)(2,"form",2,0),t.bIt("ngSubmit",function(){return t.eBV(Ln),t.Njj(Nt.onSubmit())}),t.j41(4,"div",3)(5,"label",4)(6,"span",5),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"input",6),t.mxI("ngModelChange",function(Li){return t.eBV(Ln),t.DH7(Nt.range[0],Li)||(Nt.range[0]=Li),t.Njj(Li)}),t.k0s()()(),t.j41(10,"div",7)(11,"label",4)(12,"span",5),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"input",6),t.mxI("ngModelChange",function(Li){return t.eBV(Ln),t.DH7(Nt.range[1],Li)||(Nt.range[1]=Li),t.Njj(Li)}),t.k0s()()(),t.j41(16,"button",8),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.DNE(19,Zs,1,7,"nouislider",9),t.Z7z(20,Cr,3,1,"div",null,t.fX1),t.nI1(22,"async"),t.j41(23,"button",10),t.bIt("click",function(){return t.eBV(Ln),t.Njj(Nt.onSubmit())}),t.EFF(24),t.nI1(25,"translate"),t.k0s()()()}2&jt&&(t.R7$(2),t.Y8G("action",Nt.currentUrl,t.B4B),t.R7$(5),t.SpI(" ",t.bMT(8,14,"search.filters.filter."+Nt.filterConfig.name+".min.label")," "),t.R7$(2),t.R50("ngModel",Nt.range[0]),t.Y8G("name",Nt.filterConfig.paramName+".min")("placeholder",Nt.minLabel),t.BMQ("aria-label",Nt.minLabel),t.R7$(4),t.SpI(" ",t.bMT(14,16,"search.filters.filter."+Nt.filterConfig.name+".max.label")," "),t.R7$(2),t.R50("ngModel",Nt.range[1]),t.Y8G("name",Nt.filterConfig.paramName+".max")("placeholder",Nt.maxLabel),t.BMQ("aria-label",Nt.maxLabel),t.R7$(2),t.SpI(" ",t.bMT(18,18,"search.filters.search.submit")," "),t.R7$(2),t.vxM(Nt.shouldShowSlider()?19:-1),t.R7$(),t.Dyx(t.bMT(22,20,Nt.facetValues$)),t.R7$(4),t.SpI(" ",t.bMT(25,22,"search.filters.search.submit")," "))},dependencies:[i.Jj,Zn.R,te.YN,te.qT,te.me,te.BC,te.cb,te.vS,te.cV,Ut,er,c.h,c.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  html:not([dir=rtl]) .noUi-horizontal .noUi-handle{right:calc(var(--ds-slider-handle-width) / -2)}  .noUi-horizontal .noUi-handle{width:var(--ds-slider-handle-width)}  .noUi-horizontal .noUi-handle:before{left:calc((var(--ds-slider-handle-width) - 2px) / 2 - 2px)}  .noUi-horizontal .noUi-handle:after{left:calc((var(--ds-slider-handle-width) - 2px) / 2 + 2px)}  .noUi-horizontal .noUi-handle:focus{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}  .noUi-connect{background:var(--ds-slider-color)}  .noUi-target{padding:0 calc(var(--ds-slider-handle-width) / 2 - 1.5px);margin:0 1px}  .noUi-connect{margin:0 calc(-1 * var(--ds-slider-handle-width) / 2);width:calc(100% + var(--ds-slider-handle-width))}  .noUi-handle{border-color:var(--ds-slider-handle-color)}  .noUi-handle:before,   .noUi-handle:after{background-color:var(--ds-slider-handle-color)}"],data:{animation:[X]}})}}return rt})();function oa(rt,ot){if(1&rt&&t.nrm(0,"ds-search-facet-selected-option",1),2&rt){const ut=ot.$implicit,jt=t.XpG();t.Y8G("selectedValue",ut)("filterConfig",jt.filterConfig)("inPlaceSearch",jt.inPlaceSearch)}}function fr(rt,ot){if(1&rt&&t.nrm(0,"ds-search-facet-option",6),2&rt){const ut=ot.$implicit,jt=t.XpG(2);t.Y8G("filterConfig",jt.filterConfig)("filterValue",ut)("inPlaceSearch",jt.inPlaceSearch)}}function Xr(rt,ot){if(1&rt&&(t.j41(0,"div"),t.Z7z(1,fr,1,3,"ds-search-facet-option",6,t.BUC().trackUpdate,!0),t.k0s()),2&rt){const ut=ot.$implicit,jt=t.XpG();t.Y8G("@facetLoad",jt.animationState),t.R7$(),t.Dyx(ut.page)}}function ko(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"a",7),t.bIt("click",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&rt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function ra(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"a",8),t.bIt("click",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&rt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function Co(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"ds-filter-input-suggestions",9),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.DH7(Ln.filter,Nt)||(Ln.filter=Nt),t.Njj(Nt)}),t.bIt("submitSuggestion",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.Njj(Ln.onSubmit(Nt))})("clickSuggestion",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.Njj(Ln.onClick(Nt))})("findSuggestions",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.Njj(Ln.findSuggestions(Nt))}),t.k0s()}if(2&rt){const ut=t.XpG();t.Y8G("suggestions",t.bMT(1,6,ut.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+ut.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+ut.filterConfig.name+".label"))("action",ut.currentUrl)("name",ut.filterConfig.paramName),t.R50("ngModel",ut.filter)}}let Sa=(()=>{class rt extends G{onSubmit(ut){super.onSubmit((0,ne.mq)(ut,"query"))}static{this.\u0275fac=(()=>{let ut;return function(Nt){return(ut||(ut=t.xGo(rt)))(Nt||rt)}})()}static{this.\u0275cmp=t.VBU({type:rt,selectors:[["ds-search-text-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:13,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch"],[1,"clearfix","toggle-more-filters"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-start",3,"click"],["href","javascript:void(0);","role","button","tabindex","0",1,"float-end",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(jt,Nt){1&jt&&(t.j41(0,"div")(1,"div",0),t.Z7z(2,oa,1,3,"ds-search-facet-selected-option",1,t.fX1),t.nI1(4,"async"),t.Z7z(5,Xr,3,1,"div",null,t.fX1),t.nI1(7,"async"),t.j41(8,"div",2),t.DNE(9,ko,3,3,"a",3),t.nI1(10,"async"),t.DNE(11,ra,3,3,"a",4),t.nI1(12,"async"),t.k0s()(),t.DNE(13,Co,4,12,"ds-filter-input-suggestions",5),t.nI1(14,"async"),t.k0s()),2&jt&&(t.R7$(2),t.Dyx(t.bMT(4,3,Nt.selectedAppliedFilters$)),t.R7$(3),t.Dyx(t.bMT(7,5,Nt.facetValues$)),t.R7$(4),t.vxM(!0!==t.bMT(10,7,Nt.isLastPage$)?9:-1),t.R7$(2),t.vxM(t.bMT(12,9,Nt.currentPage)>1?11:-1),t.R7$(2),t.vxM(!1===t.bMT(14,11,Nt.isAvailableForShowSearchText)?13:-1))},dependencies:[i.Jj,he.H,te.YN,te.me,te.BC,te.vS,J,qe,c.h,c.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[X]}})}}return rt})();const Ei=new Map;function Ir(rt,ot){}Ei.set(ie.R.text,Sa),Ei.set(ie.R.authority,pt),Ei.set(ie.R.boolean,je),Ei.set(ie.R.hierarchy,sn),Ei.set(ie.R.range,Sr);let Wa=(()=>{class rt extends Q.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["filterConfig"],this.inputNames=["filterConfig","inPlaceSearch","refreshFilters","scope"]}getComponent(){return function aa(rt){return Ei.get(rt)}(this.filterConfig.filterType)}static{this.\u0275fac=(()=>{let ut;return function(Nt){return(ut||(ut=t.xGo(rt)))(Nt||rt)}})()}static{this.\u0275cmp=t.VBU({type:rt,selectors:[["ds-search-facet-filter-wrapper"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(jt,Nt){1&jt&&t.DNE(0,Ir,0,0,"ng-template",1,0,t.C5r)},dependencies:[ee.z],encapsulation:2})}}return rt})(),Ia=(()=>{class rt{constructor(){this.value=0}next(){return++this.value}static{this.\u0275fac=function(jt){return new(jt||rt)}}static{this.\u0275prov=t.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}}return rt})();const Pa=rt=>({focus:rt}),Ga=(rt,ot)=>({closed:rt,notab:ot});function la(rt,ot){if(1&rt){const ut=t.RV6();t.j41(0,"div",0)(1,"button",1),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.nI1(6,"lowercase"),t.nI1(7,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.toggle())})("focusin",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.focusBox=!0)})("focusout",function(){t.eBV(ut);const Nt=t.XpG();return t.Njj(Nt.focusBox=!1)}),t.j41(8,"span",2),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"i",3),t.nI1(12,"async"),t.nI1(13,"async"),t.nI1(14,"translate"),t.k0s(),t.j41(15,"div",4),t.nI1(16,"async"),t.bIt("@slide.start",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.Njj(Ln.startSlide(Nt))})("@slide.done",function(Nt){t.eBV(ut);const Ln=t.XpG();return t.Njj(Ln.finishSlide(Nt))}),t.nrm(17,"ds-search-facet-filter-wrapper",5),t.k0s()()}if(2&rt){const ut=t.XpG();t.Y8G("id",ut.regionId)("ngClass",t.eq3(39,Pa,ut.focusBox)),t.BMQ("aria-labelledby",ut.toggleId),t.R7$(),t.Y8G("id",ut.toggleId),t.BMQ("aria-controls",ut.regionId)("aria-expanded",!0!==t.bMT(2,17,ut.collapsed$))("aria-label",t.bMT(4,21,t.bMT(3,19,ut.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")+" "+t.bMT(6,25,t.bMT(5,23,"search.filters.filter."+ut.filter.name+".head")))("data-test",t.bMT(7,27,"filter-toggle")),t.R7$(8),t.SpI(" ",t.bMT(10,29,"search.filters.filter."+ut.filter.name+".head")," "),t.R7$(2),t.Y8G("ngClass",t.bMT(12,31,ut.collapsed$)?"fa-plus":"fa-minus")("title",t.bMT(14,35,t.bMT(13,33,ut.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")),t.R7$(4),t.Y8G("@slide",t.bMT(16,37,ut.collapsed$)?"collapsed":"expanded")("ngClass",t.l_i(41,Ga,ut.closed,ut.notab)),t.R7$(2),t.Y8G("scope",ut.scope)("filterConfig",ut.filter)("inPlaceSearch",ut.inPlaceSearch)("refreshFilters",ut.refreshFilters)}}let Ra=(()=>{class rt{constructor(ut,jt,Nt,Ln){this.filterService=ut,this.searchService=jt,this.searchConfigService=Nt,this.sequenceService=Ln,this.isVisibilityComputed=new t.bkB,this.focusBox=!1,this.scope$=new e.t(void 0),this.subs=[],this.sequenceId=this.sequenceService.next()}ngOnInit(){this.appliedFilters$=this.searchService.getSelectedValuesForFilter(this.filter.name),this.active$=this.isActive(),this.collapsed$=this.isCollapsed(),this.initializeFilter(),this.subs.push(this.appliedFilters$.subscribe(ut=>{(0,h.hj)(ut)&&this.filterService.expand(this.filter.name)}),this.getIsActive().subscribe(()=>{this.isVisibilityComputed.emit(!0)}))}ngOnChanges(){this.scope$.value!==this.scope&&this.scope$.next(this.scope)}ngOnDestroy(){this.subs.forEach(ut=>ut.unsubscribe())}toggle(){this.filterService.toggle(this.filter.name)}isCollapsed(){return this.filterService.isCollapsed(this.filter.name)}initializeFilter(){this.filterService.initializeFilter(this.filter)}finishSlide(ut){"collapsed"===ut.fromState&&(this.closed=!1),"collapsed"===ut.toState&&(this.notab=!0)}startSlide(ut){"collapsed"===ut.toState&&(this.closed=!0),"collapsed"===ut.fromState&&(this.notab=!1)}get regionId(){return this.inPlaceSearch?`search-filter-region-${this.sequenceId}`:`search-filter-region-home-${this.sequenceId}`}get toggleId(){return this.inPlaceSearch?`search-filter-toggle-${this.sequenceId}`:`search-filter-toggle-home-${this.sequenceId}`}isActive(){return this.getIsActive().pipe((0,p.Z)(!0))}getIsActive(){return(0,m.z)([this.appliedFilters$,this.searchConfigService.searchOptions,this.scope$]).pipe((0,f.n)(([ut,jt,Nt])=>(0,h.hj)(ut.filter(Ln=>V.includes(Ln.operator)))?(0,v.of)(!0):((0,h.a4)(Nt)&&(jt.scope=Nt),this.searchService.getFacetValuesFor(this.filter,1,jt).pipe((0,E.p)(Ln=>!Ln.isLoading),(0,y.T)(Ln=>Ln.payload?.totalElements>0)))))}static{this.\u0275fac=function(jt){return new(jt||rt)(t.rXU(P.U),t.rXU(M.S),t.rXU(D.EN),t.rXU(Ia))}}static{this.\u0275cmp=t.VBU({type:rt,selectors:[["ds-search-filter"]],inputs:{filter:"filter",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},outputs:{isVisibilityComputed:"isVisibilityComputed"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:3,consts:[["role","region",1,"facet-filter","d-block","mb-3","p-3",3,"id","ngClass"],["role","button","tabindex","0",1,"filter-name","d-flex",3,"click","focusin","focusout","id"],[1,"h4","d-inline-block","text-start","mt-auto","mb-auto","dark:text-white","text-dark"],["aria-hidden","true",1,"filter-toggle","flex-grow-1","fas","p-auto",3,"ngClass","title"],[1,"search-filter-wrapper",3,"ngClass"],[3,"scope","filterConfig","inPlaceSearch","refreshFilters"]],template:function(jt,Nt){1&jt&&(t.DNE(0,la,18,44,"div",0),t.nI1(1,"async")),2&jt&&t.vxM(t.bMT(1,1,Nt.active$)?0:-1)},dependencies:[i.Jj,S.L,i.GH,i.YU,Wa,c.h,c.D9],styles:["[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]{border:1px solid var(--bs-light);cursor:pointer;line-height:0}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base)}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.closed[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.notab[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .filter-toggle[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base);text-align:right;position:relative}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{appearance:none;border:0;padding:0;background:#0000;width:100%;outline:none!important}[_nghost-%COMP%]   .facet-filter.focus[_ngcontent-%COMP%]{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}"],data:{animation:[I.M6]}})}}return rt})()},99719:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SearchFiltersComponent:()=>$});var i=n(60177),t=n(7901),c=n(68018),e=n(72234),p=n(96354),m=n(5964),f=n(96697),v=n(79096),E=n(94314),M=(n(82584),n(4255)),b=n(50553),P=n(54034),D=n(86351),I=n(54438);const h=(k,K)=>K.name,S=k=>[k];function O(k,K){if(1&k&&(I.j41(0,"h3"),I.EFF(1),I.nI1(2,"translate"),I.k0s()),2&k){const z=I.XpG();I.R7$(),I.JRh(I.bMT(2,1,z.filterLabel+".filters.head"))}}function L(k,K){if(1&k&&(I.j41(0,"h2"),I.EFF(1),I.nI1(2,"translate"),I.k0s()),2&k){const z=I.XpG();I.R7$(),I.JRh(I.bMT(2,1,z.filterLabel+".filters.head"))}}function T(k,K){if(1&k){const z=I.RV6();I.j41(0,"ds-search-filter",4),I.bIt("isVisibilityComputed",function(G){I.eBV(z);const X=I.XpG(2);return I.Njj(X.countFiltersWithComputedVisibility(G))}),I.k0s()}if(2&k){const z=K.$implicit,V=I.XpG(2);I.Y8G("scope",V.currentScope)("filter",z)("inPlaceSearch",V.inPlaceSearch)("refreshFilters",V.refreshFilters)}}function x(k,K){if(1&k&&(I.j41(0,"div"),I.nI1(1,"async"),I.Z7z(2,T,1,4,"ds-search-filter",3,h),I.nI1(4,"async"),I.k0s()),2&k){let z,V;const G=I.XpG();I.AVh("visually-hidden",G.getCurrentFiltersComputed(G.currentConfiguration)<(null==(z=I.bMT(1,2,G.filters))||null==z.payload?null:z.payload.length)),I.R7$(2),I.Dyx(null==(V=I.bMT(4,4,G.filters))?null:V.payload)}}function N(k,K){if(1&k&&I.nrm(0,"ngx-skeleton-loader",1),2&k){const z=I.XpG();I.Y8G("count",z.defaultFilterCount)}}function j(k,K){if(1&k){const z=I.RV6();I.j41(0,"button",5),I.nI1(1,"async"),I.bIt("click",function(){I.eBV(z);const G=I.XpG();return I.Njj(G.minimizeFilters())}),I.nrm(2,"i",6),I.EFF(3),I.nI1(4,"translate"),I.k0s()}if(2&k){const z=I.XpG();I.Y8G("routerLink",I.eq3(7,S,z.searchLink))("queryParams",I.bMT(1,3,z.clearParams)),I.R7$(3),I.SpI(" ",I.bMT(4,5,"search.filters.reset")," ")}}let $=(()=>{class k{constructor(z,V,G,X,Q){this.searchService=z,this.searchFilterService=V,this.router=G,this.searchConfigService=X,this.appConfig=Q,this.appliedFilters=new Map,this.currentFiltersComputed=[],this.finalFiltersComputed=[],this.subs=[],this.filterLabel="search",this.defaultFilterCount=this.appConfig.search.filterPlaceholdersCount??5}ngOnInit(){this.inPlaceSearch||(this.filterLabel="discover"),this.clearParams=this.searchConfigService.getCurrentFrontendFilters().pipe((0,p.T)(z=>(Object.keys(z).forEach(V=>z[V]=null),z))),this.searchLink=this.getSearchLink()}getSearchLink(){return this.inPlaceSearch?(0,P.N)(this.router):this.searchService.getSearchLink()}trackUpdate(z,V){return V?V.name:void 0}minimizeFilters(){this.searchService.appliedFilters$.value.length>0&&this.searchFilterService.minimizeAll()}countFiltersWithComputedVisibility(z){z&&this.filters.pipe((0,p.T)(V=>{if(V&&V.hasSucceeded&&V.payload){const G=V.payload.length;return this.getCurrentFiltersComputed(this.currentConfiguration)>=G?(this.findConfigInFinalFilters(this.currentConfiguration)||this.updateFinalFiltersComputed(this.currentConfiguration,G),{shouldIncrement:!1}):{shouldIncrement:!0,totalFilters:G}}return{shouldIncrement:!1}}),(0,m.p)(V=>V.shouldIncrement),(0,p.T)(V=>{const G=this.findConfigInCurrentFilters(this.currentConfiguration);return G?G.filtersComputed+=1:this.currentFiltersComputed.push({configuration:this.currentConfiguration,filtersComputed:1}),{totalFilters:V.totalFilters,currentComputed:this.getCurrentFiltersComputed(this.currentConfiguration)}}),(0,p.T)(V=>(V.currentComputed===V.totalFilters&&this.updateFinalFiltersComputed(this.currentConfiguration,V.currentComputed),V))).pipe((0,f.s)(1)).subscribe()}findConfigInCurrentFilters(z){return this.currentFiltersComputed.find(V=>V.configuration===z)}findConfigInFinalFilters(z){return this.finalFiltersComputed.find(V=>V.configuration===z)}updateFinalFiltersComputed(z,V){const G=this.findConfigInFinalFilters(z);G?G.filtersComputed=V:this.finalFiltersComputed.push({configuration:z,filtersComputed:V})}getCurrentFiltersComputed(z){return this.findConfigInCurrentFilters(z)?.filtersComputed||0}static{this.\u0275fac=function(V){return new(V||k)(I.rXU(E.S),I.rXU(M.U),I.rXU(t.Ix),I.rXU(b.EN),I.rXU(v.vQ))}}static{this.\u0275cmp=I.VBU({type:k,selectors:[["ds-base-search-filters"]],inputs:{filters:"filters",currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters"},standalone:!0,features:[I.aNF],decls:7,vars:8,consts:[[3,"visually-hidden"],[3,"count"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"routerLink","queryParams"],[3,"scope","filter","inPlaceSearch","refreshFilters"],[3,"isVisibilityComputed","scope","filter","inPlaceSearch","refreshFilters"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"click","routerLink","queryParams"],[1,"fas","fa-undo"]],template:function(V,G){if(1&V&&(I.DNE(0,O,3,3,"h3")(1,L,3,3,"h2")(2,x,5,6,"div",0),I.nI1(3,"async"),I.DNE(4,N,1,1,"ngx-skeleton-loader",1),I.nI1(5,"async"),I.DNE(6,j,5,9,"button",2)),2&V){let X,Q;I.vxM(G.inPlaceSearch?0:1),I.R7$(2),I.vxM(null!=(X=I.bMT(3,4,G.filters))&&X.hasSucceeded?2:-1),I.R7$(2),I.vxM(G.getCurrentFiltersComputed(G.currentConfiguration)<(null==(Q=I.bMT(5,6,G.filters))||null==Q.payload?null:Q.payload.length)?4:-1),I.R7$(2),I.vxM(G.inPlaceSearch?6:-1)}},dependencies:[i.Jj,e.Yq,e.Zm,t.Wk,D.a,c.h,c.D9],styles:["[_nghost-%COMP%]     ngx-skeleton-loader .skeleton-loader{height:var(--ds-filters-skeleton-height);margin-bottom:var(--ds-filters-skeleton-spacing);padding:var(--ds-filters-skeleton-spacing);background-color:var(--bs-light);box-shadow:none}"]})}}return k})()},23151:(B,C,n)=>{"use strict";n.d(C,{k:()=>m});var i=n(29710),c=(n(99719),n(54438));const e=["*"];function p(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["filters","currentConfiguration","currentScope","inPlaceSearch","refreshFilters"]}getComponentName(){return"SearchFiltersComponent"}importThemedComponent(E){return n(64565)(`./${E}/app/shared/search/search-filters/search-filters.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,99719))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=c.xGo(f)))(M||f)}})()}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-search-filters"]],inputs:{currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",filters:"filters"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},10996:(B,C,n)=>{"use strict";n.d(C,{L:()=>V});var i=n(60177),t=n(94314),c=n(43764),e=n(60163),m=(n(43537),n(89777)),f=n(21193),v=n(7901),E=n(68018),y=n(31),M=n(82584),b=n(4255),P=n(54034),D=n(54438);const I=(G,X)=>({type:G,value:X}),h=G=>({default:G});let S=(()=>{class G{constructor(Q,ee,ie,te,he){this.paginationService=Q,this.router=ee,this.searchConfigurationService=ie,this.searchService=te,this.searchFilterService=he}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeParameters$=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigurationService.unselectAppliedFilterParams(this.appliedFilter.filter,this.appliedFilter.value,this.appliedFilter.operator)}getSearchLink(){return this.inPlaceSearch?(0,P.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(ee){return new(ee||G)(D.rXU(y.m),D.rXU(v.Ix),D.rXU(M.g),D.rXU(t.S),D.rXU(b.U))}}static{this.\u0275cmp=D.VBU({type:G,selectors:[["ds-search-label"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[D.aNF],decls:12,vars:25,consts:[[1,"badge","bg-primary","me-1","mb-1","text-capitalize",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-start"],["aria-hidden","true",1,"ps-1"]],template:function(ee,ie){1&ee&&(D.j41(0,"a",0),D.nI1(1,"async"),D.nI1(2,"translate"),D.nI1(3,"translate"),D.bIt("click",function(){return ie.searchFilterService.minimizeAll()}),D.j41(4,"span",1)(5,"span",2),D.EFF(6),D.nI1(7,"translate"),D.nI1(8,"translate"),D.nI1(9,"translate"),D.k0s(),D.j41(10,"span",3),D.EFF(11,"\xd7"),D.k0s()()()),2&ee&&(D.Y8G("routerLink",ie.searchLink)("queryParams",D.bMT(1,6,ie.removeParameters$)),D.BMQ("aria-label",D.i5U(3,10,"search.filters.remove",D.l_i(20,I,D.bMT(2,8,"search.filters.applied.f."+ie.appliedFilter.filter),ie.appliedFilter.label))),D.R7$(6),D.E5c("",D.bMT(7,13,"search.filters.applied.f."+ie.appliedFilter.filter),"",D.bMT(8,15,"search.filters.applied.operator."+ie.appliedFilter.operator),": ",D.i5U(9,17,"search.filters."+ie.appliedFilter.filter+"."+ie.appliedFilter.label,D.eq3(23,h,ie.appliedFilter.label)),""))},dependencies:[i.Jj,v.Wk,E.h,E.D9],styles:[".badge[_ngcontent-%COMP%]{white-space:inherit}"]})}}return G})();const O=(G,X)=>({type:G,value:X});function L(G,X){if(1&G){const Q=D.RV6();D.j41(0,"a",1),D.nI1(1,"async"),D.nI1(2,"translate"),D.nI1(3,"translate"),D.bIt("click",function(){D.eBV(Q);const ie=D.XpG();return D.Njj(ie.searchFilterService.minimizeAll())}),D.j41(4,"span",2)(5,"span",3),D.EFF(6),D.nI1(7,"translate"),D.k0s(),D.j41(8,"span",4),D.EFF(9,"\xd7"),D.k0s()()()}if(2&G){const Q=D.XpG();D.Y8G("routerLink",Q.searchLink)("queryParams",D.bMT(1,5,Q.removeParametersMin$)),D.BMQ("aria-label",D.i5U(3,9,"search.filters.remove",D.l_i(14,O,D.bMT(2,7,"search.filters.applied.f."+Q.appliedFilter.filter+".min"),Q.min))),D.R7$(6),D.Lme("",D.bMT(7,12,"search.filters.applied.f."+Q.appliedFilter.filter+".min"),": ",Q.min,"")}}function T(G,X){if(1&G){const Q=D.RV6();D.j41(0,"a",1),D.nI1(1,"async"),D.nI1(2,"translate"),D.nI1(3,"translate"),D.bIt("click",function(){D.eBV(Q);const ie=D.XpG();return D.Njj(ie.searchFilterService.minimizeAll())}),D.j41(4,"span",2)(5,"span",3),D.EFF(6),D.nI1(7,"translate"),D.k0s(),D.j41(8,"span",4),D.EFF(9,"\xd7"),D.k0s()()()}if(2&G){const Q=D.XpG();D.Y8G("routerLink",Q.searchLink)("queryParams",D.bMT(1,5,Q.removeParametersMax$)),D.BMQ("aria-label",D.i5U(3,9,"search.filters.remove",D.l_i(14,O,D.bMT(2,7,"search.filters.applied.f."+Q.appliedFilter.filter+".max"),Q.max))),D.R7$(6),D.Lme("",D.bMT(7,12,"search.filters.applied.f."+Q.appliedFilter.filter+".max"),": ",Q.max,"")}}let x=(()=>{class G{constructor(Q,ee,ie,te,he){this.paginationService=Q,this.router=ee,this.searchConfigurationService=ie,this.searchService=te,this.searchFilterService=he}ngOnInit(){this.searchLink=this.getSearchLink(),this.min=this.appliedFilter.value.substring(1,this.appliedFilter.value.indexOf("TO")-1),this.max=this.appliedFilter.value.substring(this.appliedFilter.value.indexOf("TO")+3,this.appliedFilter.value.length-1),this.removeParametersMin$=this.updateRemoveParams(`${this.appliedFilter.filter}.min`,this.min),this.removeParametersMax$=this.updateRemoveParams(`${this.appliedFilter.filter}.max`,this.max)}updateRemoveParams(Q,ee,ie){return this.searchConfigurationService.unselectAppliedFilterParams(Q,ee,ie)}getSearchLink(){return this.inPlaceSearch?(0,P.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(ee){return new(ee||G)(D.rXU(y.m),D.rXU(v.Ix),D.rXU(M.g),D.rXU(t.S),D.rXU(b.U))}}static{this.\u0275cmp=D.VBU({type:G,selectors:[["ds-search-label-range"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[D.aNF],decls:2,vars:2,consts:[[1,"badge","bg-primary",3,"routerLink","queryParams"],[1,"badge","bg-primary",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-start"],["aria-hidden","true",1,"ps-1"]],template:function(ee,ie){1&ee&&D.DNE(0,L,10,17,"a",0)(1,T,10,17,"a",0),2&ee&&(D.vxM("*"!==ie.min?0:-1),D.R7$(),D.vxM("*"!==ie.max?1:-1))},dependencies:[i.Jj,v.Wk,E.h,E.D9],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}.badge[_ngcontent-%COMP%]{white-space:inherit}"]})}}return G})();const N=void 0,j=new Map([[N,new Map([[f.SS,S]])],["range",new Map([[f.SS,x]])]]);function k(G,X){}let K=(()=>{class G extends c.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["appliedFilter"],this.inputNames=["inPlaceSearch","appliedFilter"]}getComponent(){return function $(G,X){let Q=j.get(G);(0,m.Tn)(Q)&&(Q=j.get(N));const ee=Q.get(X);return(0,m.Tn)(ee)?Q.get(f.SS):ee}(this.appliedFilter.operator,this.themeService.getThemeName())}static{this.\u0275fac=(()=>{let Q;return function(ie){return(Q||(Q=D.xGo(G)))(ie||G)}})()}static{this.\u0275cmp=D.VBU({type:G,selectors:[["ds-search-label-loader"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[D.Vt3,D.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(ee,ie){1&ee&&D.DNE(0,k,0,0,"ng-template",1,0,D.C5r)},dependencies:[e.z],encapsulation:2})}}return G})();function z(G,X){if(1&G&&D.nrm(0,"ds-search-label-loader",1),2&G){const Q=X.$implicit,ee=D.XpG();D.Y8G("appliedFilter",Q)("inPlaceSearch",ee.inPlaceSearch)}}let V=(()=>{class G{constructor(Q){this.searchService=Q}ngOnInit(){this.appliedFilters$=this.searchService.appliedFilters$}static{this.\u0275fac=function(ee){return new(ee||G)(D.rXU(t.S))}}static{this.\u0275cmp=D.VBU({type:G,selectors:[["ds-search-labels"]],inputs:{inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[D.aNF],decls:4,vars:2,consts:[[1,"labels"],[3,"appliedFilter","inPlaceSearch"]],template:function(ee,ie){1&ee&&(D.j41(0,"div",0),D.Z7z(1,z,1,2,"ds-search-label-loader",1,D.fX1),D.nI1(3,"async"),D.k0s()),2&ee&&(D.R7$(),D.Dyx(D.bMT(3,0,ie.appliedFilters$)))},dependencies:[i.Jj,K],styles:["[_nghost-%COMP%]{line-height:1}[_nghost-%COMP%]   .labels[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}"]})}}return G})()},71384:(B,C,n)=>{"use strict";n.d(C,{L:()=>O});var i=n(12560),t=n(74831),c=n(48145),e=n(10406),p=n(15862),m=n(56327),f=n(84821),v=n(17144),E=n(13005),y=n(93644),M=n(97593),b=n(22260),P=n(39210),D=n(55621),I=n(59194),h=n(62378);const S=new Map([[i.a,t.o],[v.T,y.y],[E.k,D.d],[c.p,M.A],[e.E,b.L],[p.q,P.H],[m.t,I.q],[f.F,h.I]]);function O(L){return S.get(L)}},93145:(B,C,n)=>{"use strict";n.d(C,{b:()=>b});var i=n(60177),t=n(72234),c=n(94314),e=n(19192),p=n(89777),m=n(54438);function f(P,D){1&P&&(m.j41(0,"div",5)(1,"div",9),m.nrm(2,"ngx-skeleton-loader"),m.k0s()())}function v(P,D){if(1&P&&(m.j41(0,"div",4),m.DNE(1,f,3,0,"div",5),m.j41(2,"div")(3,"div",6),m.nrm(4,"ngx-skeleton-loader"),m.k0s(),m.j41(5,"div",7),m.nrm(6,"ngx-skeleton-loader",8),m.k0s()()()),2&P){const I=D.$index,h=m.XpG(2);m.AVh("my-4",0!==I),m.R7$(),m.vxM(h.showThumbnails?1:-1),m.R7$(),m.AVh("col-9",h.showThumbnails)("col-md-10",h.showThumbnails)("col-md-12",!h.showThumbnails),m.R7$(4),m.Y8G("count",h.textLineCount)}}function E(P,D){if(1&P&&m.Z7z(0,v,7,10,"div",3,m.fX1),2&P){const I=m.XpG();m.Dyx(I.loadingResults)}}function y(P,D){1&P&&(m.j41(0,"div",10)(1,"div",11),m.nrm(2,"ngx-skeleton-loader"),m.k0s()())}function M(P,D){if(1&P&&(m.j41(0,"div",2),m.Z7z(1,y,3,0,"div",10,m.fX1),m.k0s()),2&P){const I=m.XpG();m.R7$(),m.Dyx(I.loadingResults)}}let b=(()=>{class P{constructor(I){this.searchService=I,this.numberOfResults=0,this.textLineCount=2,this.ViewMode=e.n,this.viewMode$=this.searchService.getViewMode()}ngOnInit(){this.loadingResults=Array.from({length:this.numberOfResults},(I,h)=>h+1),(0,p.a4)(this.showThumbnails)||(this.showThumbnails=!0)}static{this.\u0275fac=function(h){return new(h||P)(m.rXU(c.S))}}static{this.\u0275cmp=m.VBU({type:P,selectors:[["ds-search-results-skeleton"]],inputs:{showThumbnails:"showThumbnails",numberOfResults:"numberOfResults",textLineCount:"textLineCount"},standalone:!0,features:[m.aNF],decls:8,vars:9,consts:[[1,"row","flex-nowrap"],[1,"info-skeleton","col-12"],[1,"card-columns","row"],[1,"row",3,"my-4"],[1,"row"],[1,"col-3","col-md-2"],[1,"badge-skeleton"],[1,"text-skeleton"],[3,"count"],[1,"thumbnail-skeleton","position-relative"],[1,"card-column","col","col-sm-6","col-lg-4"],[1,"card-skeleton"]],template:function(h,S){1&h&&(m.j41(0,"div",0)(1,"div",1),m.nI1(2,"async"),m.nrm(3,"ngx-skeleton-loader"),m.k0s()(),m.DNE(4,E,2,0),m.nI1(5,"async"),m.nI1(6,"async"),m.DNE(7,M,3,0,"div",2)),2&h&&(m.R7$(),m.AVh("mb-2",m.bMT(2,3,S.viewMode$)===S.ViewMode.ListElement),m.R7$(3),m.vxM(m.bMT(5,5,S.viewMode$)===S.ViewMode.ListElement?4:m.bMT(6,7,S.viewMode$)===S.ViewMode.GridElement?7:-1))},dependencies:[i.Jj,t.Yq,t.Zm],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .badge-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .text-skeleton ngx-skeleton-loader .skeleton-loader{height:var(--ds-search-skeleton-text-height)}[_nghost-%COMP%]     .badge-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader{width:var(--ds-search-skeleton-badge-width)}[_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader{width:var(--ds-search-skeleton-info-width)}[_nghost-%COMP%]     .thumbnail-skeleton{max-width:var(--ds-thumbnail-max-width);height:100%}[_nghost-%COMP%]     .thumbnail-skeleton ngx-skeleton-loader .skeleton-loader{margin-right:var(--ds-search-skeleton-thumbnail-margin);border-radius:0;height:100%}[_nghost-%COMP%]     .card-skeleton ngx-skeleton-loader .skeleton-loader{height:var(--ds-search-skeleton-card-height)}[_nghost-%COMP%]     ngx-skeleton-loader .skeleton-loader{background-color:var(--bs-light);box-shadow:none}[_nghost-%COMP%]     .card-columns{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}[_nghost-%COMP%]     .card-columns .card-column{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"]})}}return P})()},49965:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SearchResultsComponent:()=>G});var i=n(60177),t=n(54438),c=n(7901),e=n(68018),p=n(72234),E=(n(70998),n(25788),n(40940),n(94314)),y=n(82584),b=(n(19192),n(2180)),P=n(89777),D=n(14744),h=(n(79669),n(52186)),O=(n(30726),n(50825)),L=n(93145);const T=()=>["/search"],x=X=>({query:X});function N(X,Q){if(1&X&&(t.j41(0,"div",0)(1,"div",5)(2,"div",6)(3,"div",7),t.nrm(4,"ngx-skeleton-loader",8),t.nI1(5,"async"),t.k0s()()()()),2&X){const ee=t.XpG();t.R7$(4),t.Y8G("count",t.bMT(5,1,ee.activeFilters$).length)}}function j(X,Q){if(1&X&&(t.j41(0,"h1"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&X){const ee=t.XpG();t.R7$(),t.JRh(t.bMT(2,1,ee.configuration?ee.configuration+".search.results.head":"search.results.head"))}}function $(X,Q){if(1&X&&t.nrm(0,"ds-search-export-csv",2),2&X){const ee=t.XpG();t.Y8G("searchConfig",ee.searchConfig)("total",null==ee.searchResults||null==ee.searchResults.payload?null:ee.searchResults.payload.totalElements)}}function k(X,Q){if(1&X){const ee=t.RV6();t.j41(0,"div")(1,"ds-viewable-collection",9),t.bIt("contentChange",function(te){t.eBV(ee);const he=t.XpG();return t.Njj(he.contentChange.emit(te))})("deselectObject",function(te){t.eBV(ee);const he=t.XpG();return t.Njj(he.deselectObject.emit(te))})("selectObject",function(te){t.eBV(ee);const he=t.XpG();return t.Njj(he.selectObject.emit(te))}),t.k0s()()}if(2&X){const ee=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("config",ee.searchConfig.pagination)("sortConfig",ee.searchConfig.sort)("objects",ee.searchResults)("hideGear",!0)("showRSS",!0)("selectable",ee.selectable)("selectionConfig",ee.selectionConfig)("linkType",ee.linkType)("context",ee.context)("hidePaginationDetail",ee.hidePaginationDetail)("showThumbnails",ee.showThumbnails)}}function K(X,Q){if(1&X&&t.nrm(0,"ds-search-results-skeleton",3),2&X){const ee=t.XpG();t.Y8G("showThumbnails",ee.showThumbnails)("numberOfResults",ee.searchConfig.pagination.pageSize)}}function z(X,Q){if(1&X&&(t.nrm(0,"ds-error",4),t.nI1(1,"translate")),2&X){const ee=t.XpG();t.FS9("message",t.bMT(1,1,ee.errorMessageLabel()))}}function V(X,Q){if(1&X&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"a",10),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&X){const ee=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,4,"search.results.no-results")," "),t.R7$(2),t.Y8G("routerLink",t.lJ4(8,T))("queryParams",t.eq3(9,x,ee.surroundStringWithQuotes(null==ee.searchConfig?null:ee.searchConfig.query))),t.R7$(),t.SpI(" ",t.bMT(5,6,"search.results.no-results-link")," ")}}let G=(()=>{class X{constructor(ee,ie){this.searchConfigService=ee,this.searchService=ie,this.hasNoValue=P.Tn,this.showCsvExport=!1,this.disableHeader=!1,this.selectable=!1,this.hidePaginationDetail=!1,this.selectionConfig=null,this.contentChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.activeFilters$=this.searchConfigService.getCurrentFilters(),this.appliedFilters$=this.searchService.appliedFilters$}isLoading(){return!this.showError()&&((0,P.Tn)(this.searchResults)||(0,P.Tn)(this.searchResults.payload)||this.searchResults.isLoading)}showError(){return this.searchResults?.hasFailed&&(!this.searchResults?.errorMessage||400!==this.searchResults?.statusCode)}errorMessageLabel(){return 422===this.searchResults?.statusCode?"error.invalid-search-query":"error.search-results"}surroundStringWithQuotes(ee){let ie=ee;return(0,P.hj)(ie)&&!(ie.startsWith('"')&&ie.endsWith('"'))&&(ie=`"${ie}"`),ie}static{this.\u0275fac=function(ie){return new(ie||X)(t.rXU(y.g),t.rXU(E.S))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-base-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],decls:10,vars:11,consts:[[1,"row"],[1,"d-flex","justify-content-between"],[3,"searchConfig","total"],[3,"showThumbnails","numberOfResults"],[3,"message"],[1,"col-12"],[1,"filters-badge-skeleton-container"],[1,"filter-badge-skeleton"],[3,"count"],[3,"contentChange","deselectObject","selectObject","config","sortConfig","objects","hideGear","showRSS","selectable","selectionConfig","linkType","context","hidePaginationDetail","showThumbnails"],["queryParamsHandling","merge","role","link","tabindex","0",3,"routerLink","queryParams"]],template:function(ie,te){1&ie&&(t.DNE(0,N,6,3,"div",0),t.nI1(1,"async"),t.nI1(2,"async"),t.j41(3,"div",1),t.DNE(4,j,3,3,"h1")(5,$,1,2,"ds-search-export-csv",2),t.k0s(),t.DNE(6,k,2,12,"div")(7,K,1,2,"ds-search-results-skeleton",3)(8,z,2,3,"ds-error",4)(9,V,6,11,"div")),2&ie&&(t.vxM(t.bMT(1,7,te.activeFilters$).length>0&&0===t.bMT(2,9,te.appliedFilters$).length?0:-1),t.R7$(4),t.vxM(te.disableHeader?-1:4),t.R7$(),t.vxM(te.showCsvExport?5:-1),t.R7$(),t.vxM(te.searchResults&&null!=te.searchResults&&te.searchResults.hasSucceeded&&(null==te.searchResults||!te.searchResults.isLoading)&&(null==te.searchResults||null==te.searchResults.payload?null:te.searchResults.payload.page.length)>0?6:-1),t.R7$(),t.vxM(te.isLoading()?7:-1),t.R7$(),t.vxM(te.showError()?8:-1),t.R7$(),t.vxM(0===(null==te.searchResults||null==te.searchResults.payload?null:te.searchResults.payload.page.length)||400===(null==te.searchResults?null:te.searchResults.statusCode)?9:-1))},dependencies:[i.Jj,D.A,p.Yq,p.Zm,h.h,c.Wk,O.w,L.b,e.h,e.D9],styles:["[_nghost-%COMP%]     .filter-badge-skeleton ngx-skeleton-loader .skeleton-loader{background-color:var(--bs-light);box-shadow:none;width:var(--ds-search-skeleton-filter-badge-width);height:var(--ds-search-skeleton-badge-height);margin-bottom:0;margin-right:calc(var(--bs-spacer) / 4)}[_nghost-%COMP%]     .filters-badge-skeleton-container{display:flex;max-height:var(--ds-search-skeleton-badge-height)}"],data:{animation:[b.qG,b.Ws]}})}}return X})()},18155:(B,C,n)=>{"use strict";n.d(C,{N:()=>b});var i=n(54438),f=(n(70998),n(25788),n(40940),n(19192),n(79669),n(29710));n(30726),n(49965);const y=["*"];function M(P,D){}let b=(()=>{class P extends f.J{constructor(){super(...arguments),this.inAndOutputNames=["linkType","searchResults","searchConfig","showCsvExport","showThumbnails","sortConfig","viewMode","configuration","disableHeader","selectable","context","hidePaginationDetail","selectionConfig","contentChange","deselectObject","selectObject"],this.contentChange=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchResultsComponent"}importThemedComponent(I){return n(18527)(`./${I}/app/shared/search/search-results/search-results.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,49965))}static{this.\u0275fac=(()=>{let I;return function(S){return(I||(I=i.xGo(P)))(S||P)}})()}static{this.\u0275cmp=i.VBU({type:P,selectors:[["ds-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:y,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,S){1&h&&(i.NAR(),i.DNE(0,M,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return P})()},60253:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SearchSettingsComponent:()=>b});var i=n(89417),t=n(68018),e=(n(70998),n(31)),m=(n(82584),n(50553)),f=n(70780),v=n(59398),E=n(54438);function y(P,D){if(1&P&&(E.j41(0,"option",3),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&P){const I=D.$implicit,h=E.XpG(2);E.Y8G("value",I.field+","+I.direction.toString())("selected",I.field===(null==h.currentSortOption?null:h.currentSortOption.field)&&I.direction===(null==h.currentSortOption?null:h.currentSortOption.direction)?"selected":null),E.R7$(),E.SpI(" ",E.bMT(2,3,"sorting."+I.field+"."+I.direction)," ")}}function M(P,D){if(1&P){const I=E.RV6();E.j41(0,"ds-sidebar-dropdown",2),E.bIt("changed",function(S){E.eBV(I);const O=E.XpG();return E.Njj(O.reloadOrder(S))}),E.Z7z(1,y,3,5,"option",3,E.fX1),E.k0s()}if(2&P){const I=E.XpG();E.Y8G("id","search-sidebar-sort")("label","search.sidebar.settings.sort-by"),E.R7$(),E.Dyx(I.sortOptionsList)}}let b=(()=>{class P{constructor(I,h){this.paginationService=I,this.searchConfigurationService=h}reloadOrder(I){const h=I.target.value.split(",");this.paginationService.updateRoute(this.searchConfigurationService.paginationID,{sortField:h[0],sortDirection:h[1],page:1})}static{this.\u0275fac=function(h){return new(h||P)(E.rXU(e.m),E.rXU(m.EN))}}static{this.\u0275cmp=E.VBU({type:P,selectors:[["ds-base-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[E.aNF],decls:7,vars:4,consts:[[1,"result-order-settings"],[3,"id","label"],[3,"changed","id","label"],[3,"value","selected"]],template:function(h,S){1&h&&(E.qex(0),E.j41(1,"h3"),E.EFF(2),E.nI1(3,"translate"),E.k0s(),E.j41(4,"div",0),E.DNE(5,M,3,2,"ds-sidebar-dropdown",1),E.k0s(),E.nrm(6,"ds-page-size-selector"),E.bVm()),2&h&&(E.R7$(2),E.JRh(E.bMT(3,2,"search.sidebar.settings.title")),E.R7$(3),E.vxM(S.sortOptionsList?5:-1))},dependencies:[i.YN,i.xH,i.y7,f.b,v.v,t.h,t.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return P})()},19229:(B,C,n)=>{"use strict";n.d(C,{_:()=>f}),n(70998);var t=n(29710),e=(n(60253),n(54438));const p=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["currentSortOption","sortOptionsList"]}getComponentName(){return"SearchSettingsComponent"}importThemedComponent(y){return n(60911)(`./${y}/app/shared/search/search-settings/search-settings.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,60253))}static{this.\u0275fac=(()=>{let y;return function(b){return(y||(y=e.xGo(v)))(b||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:p,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(M,b){1&M&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},38689:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SearchSidebarComponent:()=>O});var i=n(60177),t=n(54438),c=n(68018),e=n(96354),p=n(79096),f=(n(70998),n(82584)),v=n(19194),E=n(36237),M=(n(30726),n(23151)),b=n(19229),P=n(88245);function D(L,T){if(1&L){const x=t.RV6();t.j41(0,"ds-view-mode-switch",11),t.bIt("changeViewMode",function(j){t.eBV(x);const $=t.XpG();return t.Njj($.changeViewMode.emit(j))}),t.k0s()}if(2&L){const x=t.XpG();t.Y8G("viewModeList",x.viewModeList)}}function I(L,T){if(1&L){const x=t.RV6();t.j41(0,"ds-search-switch-configuration",12),t.bIt("changeConfiguration",function(j){t.eBV(x);const $=t.XpG();return t.Njj($.changeConfiguration.emit(j))}),t.k0s()}if(2&L){const x=t.XpG();t.Y8G("configurationList",x.configurationList)("defaultConfiguration",x.configuration)("inPlaceSearch",x.inPlaceSearch)}}function h(L,T){if(1&L&&(t.nrm(0,"ds-advanced-search",9),t.nI1(1,"async")),2&L){let x;const N=t.XpG();t.Y8G("configuration",N.configuration)("filtersConfig",null==(x=t.bMT(1,3,N.filters))?null:x.payload)("scope",N.currentScope)}}function S(L,T){if(1&L&&t.nrm(0,"ds-search-settings",10),2&L){const x=t.XpG();t.Y8G("currentSortOption",x.currentSortOption)("sortOptionsList",x.sortOptionsList)}}let O=(()=>{class L{constructor(x,N){this.appConfig=x,this.searchConfigurationService=N,this.showViewModes=!0,this.inPlaceSearch=!0,this.toggleSidebar=new t.bkB,this.changeConfiguration=new t.bkB,this.changeViewMode=new t.bkB}ngOnInit(){this.showAdvancedSearch$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.currentScope).pipe((0,e.T)(x=>this.appConfig.search.advancedFilters.enabled&&x.length>0))}static{this.\u0275fac=function(N){return new(N||L)(t.rXU(p.vQ),t.rXU(f.g))}}static{this.\u0275cmp=t.VBU({type:L,selectors:[["ds-base-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[t.aNF],decls:18,vars:21,consts:[["id","sidebar-options",1,"d-block","d-md-none","search-controls","clearfix"],[1,"results"],["aria-controls","search-content",1,"btn","btn-outline-primary","float-end","close-sidebar",3,"click"],[1,"fas","fa-arrow-right"],["id","search-sidebar-content"],[1,"d-none","d-md-block",3,"viewModeList"],[1,"sidebar-content"],[3,"configurationList","defaultConfiguration","inPlaceSearch"],[3,"currentScope","currentConfiguration","filters","refreshFilters","inPlaceSearch"],[3,"configuration","filtersConfig","scope"],[3,"currentSortOption","sortOptionsList"],[1,"d-none","d-md-block",3,"changeViewMode","viewModeList"],[3,"changeConfiguration","configurationList","defaultConfiguration","inPlaceSearch"]],template:function(N,j){1&N&&(t.j41(0,"div")(1,"div",0)(2,"small",1),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",2),t.nI1(6,"translate"),t.bIt("click",function(){return j.toggleSidebar.emit()}),t.nrm(7,"i",3),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"div",4),t.DNE(11,D,1,1,"ds-view-mode-switch",5),t.j41(12,"div",6),t.DNE(13,I,1,3,"ds-search-switch-configuration",7),t.nrm(14,"ds-search-filters",8),t.DNE(15,h,2,5,"ds-advanced-search",9),t.nI1(16,"async"),t.DNE(17,S,1,2,"ds-search-settings",10),t.k0s()()()),2&N&&(t.R7$(3),t.Lme("",j.resultCount," ",t.bMT(4,13,"search.sidebar.results"),""),t.R7$(2),t.BMQ("aria-label",t.bMT(6,15,"search.sidebar.close")),t.R7$(3),t.SpI(" ",t.bMT(9,17,"search.sidebar.close")," "),t.R7$(3),t.vxM(j.showViewModes?11:-1),t.R7$(2),t.vxM(j.configurationList?13:-1),t.R7$(),t.Y8G("currentScope",j.currentScope)("currentConfiguration",j.configuration)("filters",j.filters)("refreshFilters",j.refreshFilters)("inPlaceSearch",j.inPlaceSearch),t.R7$(),t.vxM(j.inPlaceSearch&&!0===t.bMT(16,19,j.showAdvancedSearch$)?15:-1),t.R7$(2),t.vxM(j.inPlaceSearch?17:-1))},dependencies:[E.Q,i.Jj,P.o,M.k,b._,c.h,c.D9,v.g],styles:["[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{line-height:var(--ds-button-height)}[_nghost-%COMP%]   ds-view-mode-switch[_ngcontent-%COMP%]{margin-bottom:var(--bs-spacer)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):not(ds-search-switch-configuration){margin-bottom:calc(4 * var(--bs-spacer));display:block}[_nghost-%COMP%]   ds-search-switch-configuration[_ngcontent-%COMP%]{margin-bottom:calc(2 * var(--bs-spacer));display:block}"]})}}return L})()},27499:(B,C,n)=>{"use strict";n.d(C,{p:()=>v});var i=n(54438),c=(n(70998),n(29710));n(30726),n(38689);const m=["*"];function f(E,y){}let v=(()=>{class E extends c.J{constructor(){super(...arguments),this.toggleSidebar=new i.bkB,this.changeConfiguration=new i.bkB,this.changeViewMode=new i.bkB,this.inAndOutputNames=["configuration","configurationList","currentScope","currentSortOption","resultCount","filters","viewModeList","showViewModes","inPlaceSearch","searchOptions","sortOptionsList","refreshFilters","toggleSidebar","changeConfiguration","changeViewMode"]}getComponentName(){return"SearchSidebarComponent"}importThemedComponent(M){return n(98587)(`./${M}/app/shared/search/search-sidebar/search-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,38689))}static{this.\u0275fac=(()=>{let M;return function(P){return(M||(M=i.xGo(E)))(P||E)}})()}static{this.\u0275cmp=i.VBU({type:E,selectors:[["ds-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,P){1&b&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return E})()},88245:(B,C,n)=>{"use strict";n.d(C,{o:()=>D});var i=n(54438),t=n(89417),c=n(68018),e=n(48376),p=n.n(e),m=n(94314),v=(n(82584),n(50553)),E=n(89777),y=n(54034),M=n(7901);function b(I,h){if(1&I&&(i.j41(0,"option",3),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&I){const S=h.$implicit;i.Y8G("ngValue",S),i.R7$(),i.SpI(" ",i.bMT(2,2,S.label)," ")}}function P(I,h){if(1&I){const S=i.RV6();i.j41(0,"div",0)(1,"h3",1),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.j41(4,"select",2),i.mxI("ngModelChange",function(L){i.eBV(S);const T=i.XpG();return i.DH7(T.selectedOption,L)||(T.selectedOption=L),i.Njj(L)}),i.bIt("change",function(){i.eBV(S);const L=i.XpG();return i.Njj(L.onSelect())}),i.Z7z(5,b,3,4,"option",3,i.fX1),i.k0s()()}if(2&I){const S=i.XpG();i.R7$(2),i.JRh(i.bMT(3,3,"search.switch-configuration.title")),i.R7$(2),i.Y8G("compareWith",S.compare),i.R50("ngModel",S.selectedOption),i.R7$(),i.Dyx(S.configurationList)}}let D=(()=>{class I{constructor(S,O,L){this.router=S,this.searchService=O,this.searchConfigService=L,this.configurationList=[],this.changeConfiguration=new i.bkB}ngOnInit(){this.searchConfigService.getCurrentConfiguration(this.defaultConfiguration).subscribe(S=>{const O=p()(this.configurationList,{value:S});this.selectedOption=this.configurationList[O]})}onSelect(){const S={queryParams:{configuration:this.selectedOption.value}};this.changeConfiguration.emit(this.selectedOption),this.router.navigate(this.getSearchLinkParts(),S)}compare(S,O){return S===O}ngOnDestroy(){(0,E.a4)(this.sub)&&this.sub.unsubscribe()}getSearchLink(){return this.inPlaceSearch?(0,y.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static{this.\u0275fac=function(O){return new(O||I)(i.rXU(M.Ix),i.rXU(m.S),i.rXU(v.EN))}}static{this.\u0275cmp=i.VBU({type:I,selectors:[["ds-search-switch-configuration"]],inputs:{inPlaceSearch:"inPlaceSearch",configurationList:"configurationList",defaultConfiguration:"defaultConfiguration"},outputs:{changeConfiguration:"changeConfiguration"},standalone:!0,features:[i.aNF],decls:1,vars:1,consts:[[1,"search-switch-configuration"],["id","configuration-switch"],["aria-labelledby","configuration-switch",1,"form-select",3,"ngModelChange","change","compareWith","ngModel"],[3,"ngValue"]],template:function(O,L){1&O&&i.DNE(0,P,7,5,"div",0),2&O&&i.vxM((null==L.configurationList?null:L.configurationList.length)>1?0:-1)},dependencies:[t.YN,t.xH,t.y7,t.wz,t.BC,t.vS,c.h,c.D9]})}}return I})()},33006:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SearchComponent:()=>je});var i=n(60177),t=n(54438),c=n(7901),e=n(68018),p=n(59519),m=n.n(p),f=n(84412),v=n(84572),E=n(23294),y=n(96354),M=n(25558),b=n(5964),P=n(70152),D=n(79096),I=n(78544),h=n(47067),S=n(39015),O=n(87507),L=n(40940),T=n(4093),x=n(94314),j=(n(82584),n(92767)),$=n(50553),k=n(34366),K=n(89777),z=n(50842),G=(n(79669),n(43144)),X=n(41519),Q=n(60768),ee=n(4600),ie=n(54034),te=n(19194),he=n(30726),ye=n(10996),re=n(18155),ce=n(27499);const Z=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],ne=["[searchContentTop]","[additionalSearchOptions]"];function fe(ft,vn){}function ae(ft,vn){1&ft&&t.DNE(0,fe,0,0,"ng-template")}function oe(ft,vn){if(1&ft&&(t.j41(0,"div",3)(1,"div",5)(2,"div",6),t.DNE(3,ae,1,0,null,7),t.k0s()()()),2&ft){t.XpG();const hn=t.sdS(11);t.R7$(3),t.Y8G("ngTemplateOutlet",hn)}}function J(ft,vn){}function ve(ft,vn){1&ft&&t.DNE(0,J,0,0,"ng-template")}function _e(ft,vn){if(1&ft&&(t.j41(0,"div"),t.DNE(1,ve,1,0,null,7),t.k0s()),2&ft){t.XpG();const hn=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",hn)}}function Ce(ft,vn){}function qe(ft,vn){1&ft&&t.DNE(0,Ce,0,0,"ng-template")}function Re(ft,vn){if(1&ft&&(t.j41(0,"ds-page-with-sidebar",4),t.DNE(1,qe,1,0,null,7),t.k0s()),2&ft){const hn=t.XpG(),Un=t.sdS(7),Ct=t.sdS(9);t.Y8G("id","search-page")("sideBarWidth",hn.sideBarWidth)("sidebarContent",Ct),t.R7$(),t.Y8G("ngTemplateOutlet",Un)}}function nt(ft,vn){}function Ge(ft,vn){1&ft&&t.DNE(0,nt,0,0,"ng-template")}function at(ft,vn){if(1&ft&&t.DNE(0,Ge,1,0,null,7),2&ft){t.XpG(3);const hn=t.sdS(11);t.Y8G("ngTemplateOutlet",hn)}}function Ke(ft,vn){if(1&ft&&(t.j41(0,"div",6),t.DNE(1,at,1,1),t.SdG(2,1),t.k0s()),2&ft){const hn=t.XpG(2);t.R7$(),t.vxM(hn.searchEnabled?1:-1)}}function Te(ft,vn){if(1&ft&&t.nrm(0,"ds-view-mode-switch",10),2&ft){const hn=t.XpG(2);t.Y8G("viewModeList",hn.viewModeList)("inPlaceSearch",hn.inPlaceSearch)}}function pt(ft,vn){if(1&ft){const hn=t.RV6();t.j41(0,"ds-search-results",14),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.bIt("contentChange",function(Ct){t.eBV(hn);const Ot=t.XpG(2);return t.Njj(Ot.onContentChange(Ct))})("deselectObject",function(Ct){t.eBV(hn);const Ot=t.XpG(2);return t.Njj(Ot.deselectObject.emit(Ct))})("selectObject",function(Ct){t.eBV(hn);const Ot=t.XpG(2);return t.Njj(Ot.selectObject.emit(Ct))}),t.k0s()}if(2&ft){const hn=t.XpG(2);t.Y8G("searchResults",t.bMT(1,10,hn.resultsRD$))("searchConfig",t.bMT(2,12,hn.searchOptions$))("configuration",t.bMT(3,14,hn.currentConfiguration$))("disableHeader",!hn.searchEnabled)("linkType",hn.linkType)("context",t.bMT(4,16,hn.currentContext$))("selectable",hn.selectable)("selectionConfig",hn.selectionConfig)("showCsvExport",hn.showCsvExport)("showThumbnails",hn.showThumbnails)}}function He(ft,vn){if(1&ft){const hn=t.RV6();t.j41(0,"div",5),t.DNE(1,Ke,3,1,"div",6),t.nI1(2,"async"),t.j41(3,"div",8)(4,"div",9),t.DNE(5,Te,1,2,"ds-view-mode-switch",10),t.j41(6,"button",11),t.bIt("click",function(){t.eBV(hn);const Ct=t.XpG();return t.Njj(Ct.openSidebar())}),t.nrm(7,"i",12),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.SdG(10),t.DNE(11,pt,5,18,"ds-search-results",13),t.k0s()()}if(2&ft){const hn=t.XpG();t.R7$(),t.vxM(!0!==t.bMT(2,4,hn.isXsOrSm$)?1:-1),t.R7$(4),t.vxM(hn.inPlaceSearch&&hn.showViewModes?5:-1),t.R7$(3),t.SpI(" ",t.bMT(9,6,"search.sidebar.open")," "),t.R7$(3),t.vxM(hn.inPlaceSearch?11:-1)}}function Bt(ft,vn){if(1&ft){const hn=t.RV6();t.j41(0,"ds-search-sidebar",17),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("changeConfiguration",function(Ct){t.eBV(hn);const Ot=t.XpG(2);return t.Njj(Ot.changeContext(Ct.context))})("changeViewMode",function(){t.eBV(hn);const Ct=t.XpG(2);return t.Njj(Ct.changeViewMode())}),t.k0s()}if(2&ft){let hn;const Un=t.XpG(2);t.Y8G("configurationList",Un.configurationList)("configuration",t.bMT(1,12,Un.currentConfiguration$))("currentScope",t.bMT(2,14,Un.currentScope$))("filters",Un.filtersRD$.asObservable())("refreshFilters",Un.refreshFilters)("resultCount",null==(hn=t.bMT(3,16,Un.resultsRD$))||null==hn.payload?null:hn.payload.totalElements)("searchOptions",t.bMT(4,18,Un.searchOptions$))("sortOptionsList",t.bMT(5,20,Un.sortOptionsList$))("currentSortOption",t.bMT(6,22,Un.currentSortOptions$))("inPlaceSearch",Un.inPlaceSearch)("viewModeList",Un.viewModeList)("showViewModes",Un.showViewModes)}}function it(ft,vn){if(1&ft){const hn=t.RV6();t.j41(0,"ds-search-sidebar",18),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("toggleSidebar",function(){t.eBV(hn);const Ct=t.XpG(2);return t.Njj(Ct.closeSidebar())})("changeConfiguration",function(Ct){t.eBV(hn);const Ot=t.XpG(2);return t.Njj(Ot.changeContext(Ct.context))})("changeViewMode",function(){t.eBV(hn);const Ct=t.XpG(2);return t.Njj(Ct.changeViewMode())}),t.k0s()}if(2&ft){let hn;const Un=t.XpG(2);t.Y8G("configurationList",Un.configurationList)("configuration",t.bMT(1,12,Un.currentConfiguration$))("currentScope",t.bMT(2,14,Un.currentScope$))("filters",Un.filtersRD$.asObservable())("refreshFilters",Un.refreshFilters)("resultCount",null==(hn=t.bMT(3,16,Un.resultsRD$))||null==hn.payload?null:hn.payload.totalElements)("searchOptions",t.bMT(4,18,Un.searchOptions$))("sortOptionsList",t.bMT(5,20,Un.sortOptionsList$))("currentSortOption",t.bMT(6,22,Un.currentSortOptions$))("inPlaceSearch",Un.inPlaceSearch)("viewModeList",Un.viewModeList)("showViewModes",Un.showViewModes)}}function Tt(ft,vn){if(1&ft&&(t.DNE(0,Bt,7,24,"ds-search-sidebar",15),t.nI1(1,"async"),t.DNE(2,it,7,24,"ds-search-sidebar",16),t.nI1(3,"async")),2&ft){const hn=t.XpG();t.vxM(!0!==t.bMT(1,2,hn.isXsOrSm$)?0:-1),t.R7$(2),t.vxM(t.bMT(3,4,hn.isXsOrSm$)?2:-1)}}function Ee(ft,vn){if(1&ft&&(t.nrm(0,"ds-search-form",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.j41(4,"div",20)(5,"div",21),t.nrm(6,"ds-search-labels",22),t.k0s()()),2&ft){let hn,Un;const Ct=t.XpG();t.Y8G("query",null==(hn=t.bMT(1,8,Ct.searchOptions$))?null:hn.query)("scope",null==(Un=t.bMT(2,10,Ct.searchOptions$))?null:Un.scope)("hideScopeInUrl",Ct.hideScopeInUrl)("currentUrl",Ct.searchLink)("showScopeSelector",Ct.showScopeSelector)("inPlaceSearch",Ct.inPlaceSearch)("searchPlaceholder",t.bMT(3,12,Ct.searchFormPlaceholder)),t.R7$(6),t.Y8G("inPlaceSearch",Ct.inPlaceSearch)}}let je=(()=>{class ft{constructor(hn,Un,Ct,Ot,wt,mt,ln,we){this.service=hn,this.sidebarService=Un,this.windowService=Ct,this.searchConfigService=Ot,this.routeService=wt,this.router=mt,this.appConfig=ln,this.platformId=we,this.configurationList=[],this.context=L.o.Search,this.useCachedVersionIfAvailable=!0,this.inPlaceSearch=!0,this.paginationId="spc",this.searchEnabled=!0,this.sideBarWidth=3,this.searchFormPlaceholder="search.search-form.placeholder",this.selectable=!1,this.showCsvExport=!1,this.showSidebar=!0,this.showViewModes=!0,this.showScopeSelector=!0,this.trackStatistics=!1,this.currentConfiguration$=new f.t(""),this.currentContext$=new f.t(null),this.currentSortOptions$=new f.t(null),this.filtersRD$=new f.t(null),this.resultsRD$=new f.t(null),this.searchOptions$=new f.t(null),this.sortOptionsList$=new f.t([]),this.initialized$=new f.t(!1),this.refreshFilters=new f.t(!1),this.uuidRegex=/\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b/g,this.allowedObjectPaths=["entities",j.xb,h.CC,S.b2],this.subs=[],this.resultFound=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.isXsOrSm$=this.windowService.isXsOrSm()}ngOnInit(){if(!this.renderOnServerSide&&!I.c.ssr.enableSearchComponent&&(0,i.Vy)(this.platformId))return this.subs.push(this.getSearchOptions().pipe((0,E.F)()).subscribe(wt=>{this.searchOptions$.next(wt)})),void this.initialized$.next(!0);this.useUniquePageId&&(this.paginationId=m()(this.paginationId)),this.searchConfigService.setPaginationId(this.paginationId),(0,K.a4)(this.configuration)&&this.routeService.setParameter("configuration",this.configuration),(0,K.a4)(this.fixedFilterQuery)&&this.routeService.setParameter("fixedFilterQuery",this.fixedFilterQuery),this.currentScope$=this.routeService.getQueryParameterValue("scope").pipe((0,y.T)(wt=>(0,K.a4)(wt)?wt:this.scope??"")),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.searchLink=this.getSearchLink(),this.currentContext$.next(this.context);const hn=this.searchConfigService.getCurrentConfiguration(this.configuration).pipe((0,E.F)()),Un=(0,v.z)([hn,this.currentScope$]).pipe((0,M.n)(([wt,mt])=>this.searchConfigService.getConfigurationSearchConfig(wt,mt)),(0,y.T)(wt=>this.searchConfigService.getConfigurationSortOptions(wt)),(0,E.F)()),Ct=Un.pipe((0,M.n)(wt=>this.searchConfigService.getCurrentSort(this.paginationId,wt[0])),(0,E.F)()),Ot=this.getSearchOptions().pipe((0,E.F)());this.subs.push((0,v.z)([hn,Un,Ot,Ct,this.currentScope$]).pipe((0,b.p)(([wt,mt,ln,we,Et])=>ln.pagination.id===this.paginationId),(0,P.B)(100)).subscribe(([wt,mt,ln,we,Et])=>{const kt=Object.assign({},ln,{configuration:ln.configuration||wt,sort:we||ln.sort});""===kt.query&&(kt.query=this.query),(0,K.Im)(kt.scope)&&(kt.scope=Et);const vt=new he.C(kt);JSON.stringify(vt)!==JSON.stringify(this.searchOptions$.value)&&(this.currentConfiguration$.next(wt),this.currentSortOptions$.next(vt.sort),this.sortOptionsList$.next(mt),this.searchOptions$.next(vt),this.initialized$.next(!0),this.retrieveSearchResults(vt),this.retrieveFilters(vt))})),this.subscribeToRoutingEvents()}changeContext(hn){this.currentContext$.next(hn)}closeSidebar(){this.sidebarService.collapse()}changeViewMode(){this.resultsRD$.next(null)}openSidebar(){this.sidebarService.expand()}onContentChange(hn){this.retrieveFilters(this.lastSearchOptions),this.refreshFilters.next(!0)}ngOnDestroy(){this.subs.filter(hn=>(0,K.a4)(hn)).forEach(hn=>hn.unsubscribe())}getSearchOptions(){return this.searchConfigService.paginatedSearchOptions}retrieveFilters(hn){this.searchConfigService.getConfig(hn.scope,hn.configuration).pipe((0,T.qD)()).subscribe(Un=>{this.filtersRD$.next(Un)})}retrieveSearchResults(hn){this.resultsRD$.next(null),this.lastSearchOptions=hn;const Un=[(0,ee.s)("thumbnail",{isOptional:!0}),(0,ee.s)("item",{isOptional:!0},(0,ee.s)("thumbnail",{isOptional:!0}))];this.appConfig.item.showAccessStatuses&&Un.push((0,ee.s)("accessStatus",{isOptional:!0})),"supervision"===this.configuration&&Un.push((0,ee.s)("supervisionOrders",{isOptional:!0}));const Ct=Object.assign(new he.C({}),hn);(0,K.hj)(this.hiddenQuery)&&(Ct.query=(0,K.hj)(Ct.query)?Ct.query+" AND "+this.hiddenQuery:this.hiddenQuery),this.service.search(Ct,void 0,this.useCachedVersionIfAvailable,!0,...Un).pipe((0,T.qD)()).subscribe(Ot=>{Ot.hasSucceeded&&(this.trackStatistics&&this.service.trackSearch(Ct,Ot.payload),Ot.payload?.page?.length>0&&this.resultFound.emit(Ot.payload)),this.resultsRD$.next(Ot)})}subscribeToRoutingEvents(){this.trackStatistics&&this.subs.push(this.router.events.pipe((0,b.p)(hn=>hn instanceof c.Z),(0,y.T)(hn=>this.getDsoUUIDFromUrl(hn.url)),(0,K.Az)()).subscribe(hn=>{this.resultsRD$.value.hasSucceeded&&this.service.trackSearch(this.searchOptions$.value,this.resultsRD$.value.payload,hn)}))}getDsoUUIDFromUrl(hn){if((0,K.hj)(hn)&&this.allowedObjectPaths.some(Un=>hn.startsWith(`/${Un}`))){const Un=hn.substring(hn.lastIndexOf("/")+1);if(Un.match(this.uuidRegex))return Un}return null}isSidebarCollapsed(){return this.sidebarService.isCollapsed}getSearchLink(){return this.inPlaceSearch?(0,ie.N)(this.router):this.service.getSearchLink()}static{this.\u0275fac=function(Un){return new(Un||ft)(t.rXU(x.S),t.rXU(Q.o),t.rXU(z.CV),t.rXU($.EN),t.rXU(O.v$),t.rXU(c.Ix),t.rXU(D.vQ),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:ft,selectors:[["ds-base-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl",renderOnServerSide:"renderOnServerSide"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],ngContentSelectors:ne,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],[1,"container"],[3,"id","sideBarWidth","sidebarContent"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-end","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(Un,Ct){1&Un&&(t.NAR(Z),t.DNE(0,oe,4,1,"div",3),t.nI1(1,"async"),t.DNE(2,_e,2,1,"div"),t.nI1(3,"async"),t.DNE(4,Re,2,4,"ds-page-with-sidebar",4),t.nI1(5,"async"),t.DNE(6,He,12,8,"ng-template",null,0,t.C5r)(8,Tt,4,6,"ng-template",null,1,t.C5r)(10,Ee,7,14,"ng-template",null,2,t.C5r)),2&Un&&(t.vxM(Ct.searchEnabled&&t.bMT(1,3,Ct.isXsOrSm$)?0:-1),t.R7$(2),t.vxM(!Ct.showSidebar&&t.bMT(3,5,Ct.initialized$)?2:-1),t.R7$(2),t.vxM(Ct.showSidebar&&t.bMT(5,7,Ct.initialized$)?4:-1))},dependencies:[i.Jj,i.T3,X.f,ye.L,G.d,re.N,ce.p,e.h,e.D9,te.g],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}[_nghost-%COMP%]{--bs-gutter-x: .75rem}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[k.W]},changeDetection:0})}}return ft})()},77868:(B,C,n)=>{"use strict";n.d(C,{SB:()=>t,gp:()=>e,mq:()=>p});var i=n(89777);function t(m,f){const v=new RegExp(`[?|&]${c(encodeURIComponent(f.paramName))}=(${c(encodeURIComponent(m.value))}[^&]*)`,"g");if((0,i.hj)(m._links)){const E=v.exec(m._links.search.href);if((0,i.hj)(E))return decodeURIComponent(E[1])}return m.authorityKey?p(m.authorityKey,"authority"):p(m.value,"equals")}function c(m){return m.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function e(m){return m.match(new RegExp(".+,(equals|query|authority)$"))?m.substring(0,m.lastIndexOf(",")):m}function p(m,f){return m.match(new RegExp("^.+,(equals|query|authority|contains|notcontains|notequals)$"))?m:`${m},${f}`}},89336:(B,C,n)=>{"use strict";n.d(C,{N:()=>v});var i=n(54438),e=(n(40940),n(79669),n(29710));n(33006);const m=["*"];function f(E,y){}let v=(()=>{class E extends e.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","hiddenQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl","resultFound","deselectObject","selectObject"],this.resultFound=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchComponent"}importThemedComponent(M){return n(13390)(`./${M}/app/shared/search/search.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,33006))}static{this.\u0275fac=(()=>{let M;return function(P){return(M||(M=i.xGo(E)))(P||E)}})()}static{this.\u0275cmp=i.VBU({type:E,selectors:[["ds-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(b,P){1&b&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return E})()},41519:(B,C,n)=>{"use strict";n.d(C,{f:()=>y});var i=n(60177),t=n(96354),c=n(34366),e=n(50842),p=n(60768),m=n(54438);const f=["*"];function v(M,b){1&M&&m.eu8(0)}function E(M,b){if(1&M&&(m.j41(0,"div",4),m.nI1(1,"async"),m.nI1(2,"async"),m.nI1(3,"async"),m.DNE(4,v,1,0,"ng-container",5),m.k0s()),2&M){const P=m.XpG();m.STu("col-12 col-md-",P.sideBarWidth," sidebar-content ",m.bMT(1,9,P.sidebarClasses),""),m.AVh("invisible",!0===m.bMT(2,11,P.isSidebarCollapsed$)&&!0===m.bMT(3,13,P.isXsOrSm$)),m.Mz_("id","",P.id,"-sidebar-content"),m.R7$(4),m.Y8G("ngTemplateOutlet",P.sidebarContent)}}let y=(()=>{class M{constructor(P,D){this.sidebarService=P,this.windowService=D,this.sideBarWidth=3}ngOnInit(){this.isXsOrSm$=this.windowService.isXsOrSm(),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.sidebarClasses=this.isSidebarCollapsed$.pipe((0,t.T)(P=>P?"":"active"))}isSidebarCollapsed(){return this.sidebarService.isCollapsed}closeSidebar(){this.sidebarService.collapse()}openSidebar(){this.sidebarService.expand()}static{this.\u0275fac=function(D){return new(D||M)(m.rXU(p.o),m.rXU(e.CV))}}static{this.\u0275cmp=m.VBU({type:M,selectors:[["ds-page-with-sidebar"]],inputs:{id:"id",sidebarContent:"sidebarContent",sideBarWidth:"sideBarWidth"},standalone:!0,features:[m.aNF],ngContentSelectors:f,decls:9,vars:15,consts:[[1,"container"],[1,"row"],[1,"row-with-sidebar","row-offcanvas","row-offcanvas-left","px-0"],[3,"id","invisible","class"],[3,"id"],[4,"ngTemplateOutlet"]],template:function(D,I){1&D&&(m.NAR(),m.j41(0,"div",0)(1,"div",1)(2,"div",2),m.nI1(3,"async"),m.DNE(4,E,5,15,"div",3),m.j41(5,"div"),m.nI1(6,"async"),m.nI1(7,"async"),m.SdG(8),m.k0s()()()()),2&D&&(m.R7$(2),m.Y8G("@pushInOut",m.bMT(3,9,I.isSidebarCollapsed$)?"collapsed":"expanded"),m.R7$(2),m.vxM(I.sideBarWidth>0?4:-1),m.R7$(),m.ZvI("col-12 col-md-",12-I.sideBarWidth,""),m.AVh("px-0",0===I.sideBarWidth)("invisible",!0!==m.bMT(6,11,I.isSidebarCollapsed$)&&!0===m.bMT(7,13,I.isXsOrSm$)))},dependencies:[i.Jj,i.T3],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}.row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{width:100%}.row-with-sidebar.row-offcanvas[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-right:calc(var(--bs-gutter-x) / 2);padding-left:calc(var(--bs-gutter-x) / 2)}@media (min-width: 768px){.row-with-sidebar[_ngcontent-%COMP%]{display:flex}}@media (max-width: 767.98px){.row-with-sidebar[_ngcontent-%COMP%], .row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{position:relative}.row-with-sidebar.row-offcanvas-right[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{right:-100%}.row-with-sidebar.row-offcanvas-left[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{left:-100%}.row-with-sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}}@media (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;z-index:var(--bs-zindex-sticky);padding-top:var(--ds-content-spacing);margin-top:calc(-1 * var(--ds-content-spacing));align-self:flex-start;display:block}}"],data:{animation:[c.W]}})}}return M})()},59398:(B,C,n)=>{"use strict";n.d(C,{v:()=>e});var i=n(54438),t=n(68018);const c=["*"];let e=(()=>{class p{constructor(){this.changed=new i.bkB}static{this.\u0275fac=function(v){return new(v||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["ds-sidebar-dropdown"]],inputs:{id:"id",label:"label"},outputs:{changed:"changed"},standalone:!0,features:[i.aNF],ngContentSelectors:c,decls:7,vars:5,consts:[[1,"setting-option","mb-3","p-3"],[1,"form-label",3,"for"],[1,"form-select",3,"change","id"]],template:function(v,E){1&v&&(i.NAR(),i.j41(0,"div",0)(1,"h4")(2,"label",1),i.EFF(3),i.nI1(4,"translate"),i.k0s()(),i.j41(5,"select",2),i.bIt("change",function(M){return E.changed.emit(M)}),i.SdG(6),i.k0s()()),2&v&&(i.R7$(2),i.FS9("for",E.id),i.R7$(),i.JRh(i.bMT(4,3,E.label)),i.R7$(2),i.FS9("id",E.id))},dependencies:[t.h,t.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return p})()},16464:(B,C,n)=>{"use strict";n.d(C,{EI:()=>c,Kd:()=>t,pm:()=>e});var i=n(6800);const t={COLLAPSE:(0,i.N)("dspace/sidebar/COLLAPSE"),EXPAND:(0,i.N)("dspace/sidebar/EXPAND"),TOGGLE:(0,i.N)("dspace/sidebar/TOGGLE")};class c{constructor(){this.type=t.COLLAPSE}}class e{constructor(){this.type=t.EXPAND}}},60768:(B,C,n)=>{"use strict";n.d(C,{o:()=>E});var i=n(59640),t=n(84572),c=n(96354),e=n(50842),p=n(16464),m=n(54438);const v=(0,i.Mz)(y=>y.sidebar,y=>y.sidebarCollapsed);let E=(()=>{class y{constructor(b,P){this.store=b,this.windowService=P,this.isXsOrSm$=this.windowService.isXsOrSm(),this.isCollapsedInStore=this.store.pipe((0,i.Lt)(v))}get isCollapsed(){return(0,t.z)(this.isXsOrSm$,this.isCollapsedInStore).pipe((0,c.T)(([b,P])=>!b||P))}collapse(){this.store.dispatch(new p.EI)}expand(){this.store.dispatch(new p.pm)}static{this.\u0275fac=function(P){return new(P||y)(m.KVO(i.il),m.KVO(e.CV))}}static{this.\u0275prov=m.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},45387:(B,C,n)=>{"use strict";n.d(C,{P5:()=>I});var i=n(89417),t=n(68018),c=n(89777),e=n(31),p=n(41358),m=n(54438),f=n(7901);let v=(()=>{class h{constructor(O,L,T){this.paginationService=O,this.route=L,this.router=T,this.subs=[]}ngOnInit(){this.subs.push(this.route.queryParams.subscribe(O=>{(0,c.a4)(O.startsWith)&&this.setStartsWith(O.startsWith)})),this.formData=new i.J3({startsWith:new i.hs})}getStartsWith(){return this.startsWith}setStartsWith(O){this.startsWith=O}setStartsWithParam(O=!0){"-1"===this.startsWith&&(this.startsWith=void 0),O?this.paginationService.updateRoute(this.paginationId,{page:1},{startsWith:this.startsWith},void 0,{queryParamsHandling:""}):this.router.navigate([],{queryParams:Object.assign({startsWith:this.startsWith})})}submitForm(O){this.startsWith=O.startsWith,this.setStartsWithParam()}ngOnDestroy(){this.subs.filter(O=>(0,c.a4)(O)).forEach(O=>O.unsubscribe())}static{this.\u0275fac=function(L){return new(L||h)(m.rXU(e.m),m.rXU(f.nX),m.rXU(f.Ix))}}static{this.\u0275cmp=m.VBU({type:h,selectors:[["ds-start-with-abstract"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},standalone:!0,features:[m.aNF],decls:0,vars:0,template:function(L,T){},encapsulation:2})}}return h})();function E(h,S){if(1&h&&(m.j41(0,"option",5),m.EFF(1),m.k0s()),2&h){const O=S.$implicit,L=m.XpG();m.Y8G("value",O)("selected",O===L.startsWithYear?"selected":null),m.R7$(),m.SpI(" ",O," ")}}function y(h,S){if(1&h&&(m.j41(0,"option",5),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&h){const O=S.$implicit,L=m.XpG();m.Y8G("value",O)("selected",O===L.startsWithMonth?"selected":null),m.R7$(),m.SpI(" ",m.bMT(2,3,"browse.startsWith.months."+O)," ")}}let M=(()=>{class h extends v{constructor(){super(...arguments),this.startsWithMonth="none"}ngOnInit(){this.monthOptions=["none","january","february","march","april","may","june","july","august","september","october","november","december"],super.ngOnInit()}setStartsWithYearEvent(O){this.startsWithYear=+O.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}setStartsWithMonthEvent(O){this.startsWithMonth=O.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}getStartsWith(){const O=this.getStartsWithMonth();if(O>0&&(0,c.a4)(this.startsWithYear)&&-1!==this.startsWithYear){let L=""+O;return O<10&&(L=`0${O}`),`${this.startsWithYear}-${L}`}return(0,c.a4)(this.startsWithYear)&&this.startsWithYear>0?""+this.startsWithYear:void 0}setStartsWithYearMonth(){this.startsWith=this.getStartsWith()}setStartsWith(O){if(this.startsWith=O,(0,c.a4)(O)&&O.indexOf("-")>-1){const L=O.split("-");this.startsWithYear=+L[0];const T=+L[1];this.startsWithMonth=T<this.monthOptions.length?this.monthOptions[T]:this.monthOptions[0]}else this.startsWithYear=+O}getStartsWithMonth(){return this.monthOptions.indexOf(this.startsWithMonth)}static{this.\u0275fac=(()=>{let O;return function(T){return(O||(O=m.xGo(h)))(T||h)}})()}static{this.\u0275cmp=m.VBU({type:h,selectors:[["ds-starts-with-date"]],standalone:!0,features:[m.Vt3,m.aNF],decls:27,vars:25,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12","fw-bold","mb-1"],[1,"col-6","col-md-2"],["id","year-select",1,"form-select",3,"change"],[3,"value","selected"],["id","month-select",1,"form-select",3,"change"],[1,"col-12","col-md-6"],[1,"mb-3","input-group","pt-1","pt-md-0"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],["type","submit","role","button","tabindex","0",1,"btn","btn-primary"],[1,"fas","fa-book-open"]],template:function(L,T){1&L&&(m.j41(0,"form",0),m.bIt("ngSubmit",function(){return T.submitForm(T.formData.value)}),m.j41(1,"div",1)(2,"span",2),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"div",3)(6,"select",4),m.nI1(7,"translate"),m.bIt("change",function(N){return T.setStartsWithYearEvent(N)}),m.j41(8,"option",5),m.EFF(9),m.nI1(10,"translate"),m.k0s(),m.Z7z(11,E,2,3,"option",5,m.fX1),m.k0s()(),m.j41(13,"div",3)(14,"select",6),m.nI1(15,"translate"),m.bIt("change",function(N){return T.setStartsWithMonthEvent(N)}),m.Z7z(16,y,3,5,"option",5,m.fX1),m.k0s()(),m.j41(18,"div",7)(19,"div",8),m.nrm(20,"input",9),m.nI1(21,"translate"),m.nI1(22,"translate"),m.j41(23,"button",10),m.nrm(24,"i",11),m.EFF(25),m.nI1(26,"translate"),m.k0s()()()()()),2&L&&(m.Y8G("formGroup",T.formData),m.R7$(3),m.SpI(" ",m.bMT(4,11,"browse.startsWith.jump")," "),m.R7$(3),m.BMQ("aria-label",m.bMT(7,13,"browse.startsWith.choose_year.label")),m.R7$(2),m.Y8G("value",-1)("selected",!T.startsWithYear),m.R7$(),m.SpI(" ",m.bMT(10,15,"browse.startsWith.choose_year")," "),m.R7$(2),m.Dyx(T.startsWithOptions),m.R7$(3),m.BMQ("aria-label",m.bMT(15,17,"browse.startsWith.months.none.label")),m.R7$(2),m.Dyx(T.monthOptions),m.R7$(4),m.FS9("placeholder",m.bMT(21,19,"browse.startsWith.type_date")),m.Y8G("value",T.getStartsWith()?T.getStartsWith():""),m.BMQ("aria-label",m.bMT(22,21,"browse.startsWith.type_date.label")),m.R7$(5),m.SpI(" ",m.bMT(26,23,"browse.startsWith.submit"),""))},dependencies:[i.YN,i.qT,i.xH,i.y7,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,t.h,t.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}"]})}}return h})();const P=new Map([[p.c.text,(()=>{class h extends v{getStartsWith(){return(0,c.a4)(this.startsWith)?this.startsWith:""}setStartsWithParam(O=!0){"0-9"===this.startsWith&&(this.startsWith="0"),super.setStartsWithParam(O)}static{this.\u0275fac=(()=>{let O;return function(T){return(O||(O=m.xGo(h)))(T||h)}})()}static{this.\u0275cmp=m.VBU({type:h,selectors:[["ds-starts-with-text"]],standalone:!0,features:[m.Vt3,m.aNF],decls:14,vars:14,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"mb-3","input-group","col-sm-12","col-md-6","col-auto"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],["type","submit","role","button","tabindex","0",1,"btn","btn-primary"],[1,"fas","fa-book-open"],[1,"text-muted"]],template:function(L,T){1&L&&(m.j41(0,"form",0),m.bIt("ngSubmit",function(){return T.submitForm(T.formData.value)}),m.j41(1,"div",1)(2,"div",2)(3,"div",3),m.nrm(4,"input",4),m.nI1(5,"translate"),m.nI1(6,"translate"),m.j41(7,"button",5),m.nrm(8,"i",6),m.EFF(9),m.nI1(10,"translate"),m.k0s()()(),m.j41(11,"small",7),m.EFF(12),m.nI1(13,"translate"),m.k0s()()()),2&L&&(m.Y8G("formGroup",T.formData),m.R7$(4),m.FS9("placeholder",m.bMT(5,6,"browse.search-form.placeholder")),m.Y8G("value",T.getStartsWith()),m.BMQ("aria-label",m.bMT(6,8,"browse.startsWith.input")),m.R7$(5),m.SpI(" ",m.bMT(10,10,"browse.startsWith.submit"),""),m.R7$(3),m.JRh(m.bMT(13,12,"browse.startsWith.type_text")))},dependencies:[i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,t.h,t.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:0}"]})}}return h})()],[p.c.date,M]]);function I(h){return P.get(h)}},71708:(B,C,n)=>{"use strict";n.d(C,{u:()=>m});var i=n(43764),t=n(45387),e=(n(41358),n(54438));function p(f,v){}let m=(()=>{class f extends i.e{constructor(){super(...arguments),this.inputNames=[...this.inputNames,"paginationId","startsWithOptions","type"]}getComponent(){return(0,t.P5)(this.type)}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=e.xGo(f)))(M||f)}})()}static{this.\u0275cmp=e.VBU({type:f,selectors:[["ds-starts-with-loader"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(y,M){1&y&&e.DNE(0,p,0,0,"ng-template",1,0,e.C5r)},encapsulation:2})}}return f})()},41358:(B,C,n)=>{"use strict";n.d(C,{c:()=>i});var i=function(t){return t.text="Text",t.date="Date",t}(i||{})},49886:(B,C,n)=>{"use strict";n.d(C,{y:()=>E});var i=n(31635),t=n(74850),c=n(71985),e=n(72153),p=n(70963),m=n(73685),f=n(80675),v=n(77356);let E=class extends m.M{static{this.type=v.m}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"subscriptionType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],E.prototype,"subscriptionParameterList",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(p.N),(0,i.Sn)("design:type",c.c)],E.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(f.X),(0,i.Sn)("design:type",c.c)],E.prototype,"resource",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(m.M)],E)},77356:(B,C,n)=>{"use strict";n.d(C,{m:()=>t});const t=new(n(44043).v)("subscription")},84981:(B,C,n)=>{"use strict";n.d(C,{w:()=>ye});var i=n(60177),t=n(54438),c=n(89417),e=n(68018),p=n(48376),m=n.n(p),f=n(84412),v=n(44668),E=n(22806),y=n(84572),M=n(96697),b=n(96354),P=n(73028),D=n(88141),I=n(94196),h=n(43446),O=(n(73685),n(4093)),L=n(64972),T=n(79104),x=n(89777),N=n(9847),j=n(91880),k=(n(49886),n(41947)),K=n(58003);function z(re,ce){if(1&re&&t.nrm(0,"ds-type-badge",13),2&re){const Z=t.XpG(3);t.Y8G("object",Z.dso)}}function V(re,ce){if(1&re&&(t.j41(0,"span",7),t.DNE(1,z,1,1,"ds-type-badge",13),t.k0s()),2&re){const Z=t.XpG(2);t.R7$(),t.vxM(Z.dso?1:-1)}}function G(re,ce){if(1&re&&(t.j41(0,"div",17),t.nrm(1,"input",19),t.j41(2,"label",20),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&re){const Z=ce.$implicit;t.R7$(),t.Y8G("id","checkbox-"+Z)("formControlName",Z),t.R7$(),t.Y8G("for","checkbox-"+Z),t.R7$(),t.JRh(t.bMT(4,4,"subscriptions.modal.new-subscription-form.frequency."+Z))}}function X(re,ce){1&re&&(t.j41(0,"ds-alert",18),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&re&&(t.Y8G("type","alert-danger"),t.R7$(),t.SpI(" ",t.bMT(2,2,"context-menu.actions.subscription.frequency.required")," "))}function Q(re,ce){if(1&re&&(t.j41(0,"fieldset",8)(1,"legend",14),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",15),t.nrm(5,"input",16),t.Z7z(6,G,5,6,"div",17,t.fX1),t.k0s(),t.DNE(8,X,3,4,"ds-alert",18),t.k0s()),2&re){const Z=ce.$implicit,ne=t.XpG(2);t.FS9("formGroupName",Z.key),t.R7$(2),t.SpI(" ",t.bMT(3,4,"subscriptions.modal.new-subscription-form.type."+Z.key),": "),t.R7$(3),t.Y8G("value",null==Z||null==Z.value?null:Z.value.controls.subscriptionId.value),t.R7$(),t.Dyx(ne.frequencyDefaultValues),t.R7$(2),t.vxM(ne.submitted&&null!=Z&&null!=Z.value&&null!=Z.value.controls.frequencies.errors&&Z.value.controls.frequencies.errors.required?8:-1)}}function ee(re,ce){1&re&&(t.j41(0,"p",9),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&re&&(t.R7$(),t.JRh(t.bMT(2,1,"subscriptions.modal.delete-info")))}function ie(re,ce){1&re&&(t.j41(0,"span"),t.nrm(1,"i",21),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&re&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"subscriptions.modal.new-subscription-form.processing")," "))}function te(re,ce){1&re&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&re&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"subscriptions.modal.new-subscription-form.submit")," "))}function he(re,ce){if(1&re){const Z=t.RV6();t.j41(0,"form",1),t.bIt("ngSubmit",function(){t.eBV(Z);const fe=t.XpG();return t.Njj(fe.submit())}),t.j41(1,"div",2)(2,"h4",3),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){t.eBV(Z);const fe=t.XpG();return t.Njj(fe.activeModal.close())}),t.k0s()(),t.j41(6,"div",5)(7,"p",6)(8,"strong"),t.EFF(9),t.k0s(),t.DNE(10,V,2,1,"span",7),t.k0s(),t.j41(11,"div"),t.Z7z(12,Q,9,6,"fieldset",8,t.fX1),t.nI1(14,"keyvalue"),t.k0s(),t.DNE(15,ee,3,3,"p",9),t.nI1(16,"async"),t.k0s(),t.j41(17,"div",10)(18,"button",11),t.bIt("click",function(){t.eBV(Z);const fe=t.XpG();return t.Njj(fe.activeModal.close())}),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"button",12),t.nI1(22,"async"),t.DNE(23,ie,4,3,"span"),t.nI1(24,"async"),t.DNE(25,te,3,3,"span"),t.nI1(26,"async"),t.k0s()()()}if(2&re){const Z=t.XpG();t.Y8G("formGroup",Z.subscriptionForm),t.R7$(3),t.JRh(t.bMT(4,9,"subscriptions.modal.title")),t.R7$(6),t.JRh(Z.dsoNameService.getName(Z.dso)),t.R7$(),t.vxM(Z.dso?10:-1),t.R7$(2),t.Dyx(t.bMT(14,11,null==Z.subscriptionForm?null:Z.subscriptionForm.controls)),t.R7$(3),t.vxM(t.bMT(16,13,Z.showDeleteInfo$)?15:-1),t.R7$(4),t.SpI(" ",t.bMT(20,15,"subscriptions.modal.close")," "),t.R7$(2),t.Y8G("dsBtnDisabled",t.bMT(22,17,Z.processing$)||!Z.isValid),t.R7$(2),t.vxM(t.bMT(24,19,Z.processing$)?23:-1),t.R7$(2),t.vxM(!0!==t.bMT(26,21,Z.processing$)?25:-1)}}let ye=(()=>{class re{constructor(Z,ne,fe,ae,oe,J,ve,_e){this.formBuilder=Z,this.modalService=ne,this.notificationsService=fe,this.subscriptionService=ae,this.activeModal=oe,this.authService=J,this.translate=ve,this.dsoNameService=_e,this.processing$=new f.t(!1),this.showDeleteInfo$=new f.t(!1),this.submitted=!1,this.subscriptionDefaultTypes=["content"],this.frequencyDefaultValues=["D","W","M"],this.isValid=!1,this.updateSubscription=new t.bkB}ngOnInit(){this.authService.getAuthenticatedUserFromStore().pipe((0,M.s)(1),(0,b.T)(Z=>Z.uuid),(0,v.t)({refCount:!1})).subscribe(Z=>{this.ePersonId=Z,(0,x.hj)(this.subscription)?this.initFormByGivenSubscription():this.initFormByAllSubscriptions()}),this.subscriptionForm.valueChanges.subscribe(Z=>{let ne=!1;for(const fe of this.frequencyDefaultValues)ne=ne||Z.content.frequencies[fe];this.isValid=ne})}initFormByAllSubscriptions(){this.subscriptionForm=new c.J3({});for(const Z of this.subscriptionDefaultTypes){const ne=new c.J3({});ne.addControl("subscriptionId",this.formBuilder.control("")),ne.addControl("frequencies",this.formBuilder.group({}));for(const fe of this.frequencyDefaultValues)ne.controls.frequencies.addControl(fe,this.formBuilder.control(!1));this.subscriptionForm.addControl(Z,ne)}this.initFormDataBySubscriptions()}initFormByGivenSubscription(){const Z=new c.J3({});Z.addControl("subscriptionId",this.formBuilder.control(this.subscription.id)),Z.addControl("frequencies",this.formBuilder.group({})),Z.get("frequencies").addValidators(c.k0.required);for(const ne of this.frequencyDefaultValues){const fe=-1!==m()(this.subscription.subscriptionParameterList,["value",ne]);Z.controls.frequencies.addControl(ne,this.formBuilder.control(fe))}this.subscriptionForm=this.formBuilder.group({[this.subscription.subscriptionType]:Z})}initFormDataBySubscriptions(){this.processing$.next(!0),this.subscriptionService.getSubscriptionsByPersonDSO(this.ePersonId,this.dso?.uuid).pipe((0,O.ak)()).subscribe({next:Z=>{if(Z.pageInfo.totalElements>0){this.showDeleteInfo$.next(!0);for(const ne of Z.page){const ae=this.subscriptionForm.get(ne.subscriptionType);if((0,x.hj)(ae)){ae.controls.subscriptionId.setValue(ne.id);for(const oe of ne.subscriptionParameterList.filter(J=>"frequency"===J.name))ae.controls.frequencies.controls[oe.value]?.setValue(!0)}}}this.processing$.next(!1)},error:Z=>{this.processing$.next(!1)}})}submit(){this.submitted=!0;const Z=Object.keys(this.subscriptionForm.controls),ne=[],fe=[];Z.forEach(oe=>{const J=this.subscriptionForm.controls[oe];if(J.touched&&J.dirty){const ve=this.createBody(J.controls.subscriptionId.value,oe,J.controls.frequencies);(0,x.hj)(ve.id)?fe.push(ve):(0,x.hj)(ve.subscriptionParameterList)&&ne.push(ve)}});const ae=[];(0,x.hj)(ne)&&ae.push((0,E.H)(ne).pipe((0,P.Z)(oe=>this.subscriptionService.createSubscription(oe,this.ePersonId,this.dso.uuid).pipe((0,O.qD)())),(0,D.M)(oe=>{if(oe.hasSucceeded){const J=this.translate.instant("subscriptions.modal.create.success",{type:oe.payload.subscriptionType});this.notificationsService.success(null,J)}else this.notificationsService.error(null,this.translate.instant("subscriptions.modal.create.error"))}))),(0,x.hj)(fe)&&ae.push((0,E.H)(fe).pipe((0,P.Z)(oe=>this.subscriptionService.updateSubscription(oe,this.ePersonId,this.dso.uuid).pipe((0,O.qD)())),(0,D.M)(oe=>{if(oe.hasSucceeded){const J=this.translate.instant("subscriptions.modal.update.success",{type:oe.payload.subscriptionType});this.notificationsService.success(null,J),(0,x.hj)(this.subscription)&&this.updateSubscription.emit(oe.payload)}else this.notificationsService.error(null,this.translate.instant("subscriptions.modal.update.error"))}))),(0,y.z)([...ae]).subscribe(oe=>{this.activeModal.close()})}createBody(Z,ne,fe){const ae={id:(0,x.hj)(Z)?Z:null,subscriptionType:ne,subscriptionParameterList:[]};for(const oe of this.frequencyDefaultValues)fe.value[oe]&&ae.subscriptionParameterList.push({name:"frequency",value:oe});return ae}static{this.\u0275fac=function(ne){return new(ne||re)(t.rXU(c.ze),t.rXU(K.Bq),t.rXU(N.I),t.rXU(k.SubscriptionsDataService),t.rXU(K.Lw),t.rXU(I.uR),t.rXU(e.c$),t.rXU(h.f))}}static{this.\u0275cmp=t.VBU({type:re,selectors:[["ds-subscription-modal"]],inputs:{dso:"dso",subscription:"subscription"},outputs:{updateSubscription:"updateSubscription"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["data-test","subscription-form",3,"formGroup"],["data-test","subscription-form",3,"ngSubmit","formGroup"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"float-end"],[1,"mb-3","row",3,"formGroupName"],[1,"text-muted"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-success",3,"dsBtnDisabled"],[3,"object"],[1,"col-md-4","col-form-label","float-md-start","pt-0"],[1,"col-md-8"],["type","hidden","formControlName","subscriptionId",3,"value"],["formGroupName","frequencies",1,"form-check"],[3,"type"],["type","checkbox",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(ne,fe){1&ne&&t.DNE(0,he,27,23,"form",0),2&ne&&t.vxM(fe.subscriptionForm?0:-1)},dependencies:[L.C,i.Jj,T.A,c.YN,c.qT,c.me,c.Zm,c.BC,c.cb,i.lG,c.X1,c.j4,c.JD,c.$R,j.C,e.h,e.D9]})}}return re})()},41947:(B,C,n)=>{"use strict";n.r(C),n.d(C,{SubscriptionsDataService:()=>K});var i=n(96697),t=n(96354),c=n(25558),e=n(5964),p=n(23294),m=n(85426),f=n(43446),v=n(57775),E=n(10186),y=n(81948),M=n(72073),b=n(20881),P=n(60796),D=n(73054),I=n(36343),h=n(49755),S=n(3601),O=n(7094),L=n(4093),T=n(89777),x=n(9847),N=n(4600),j=n(54438),$=n(21626),k=n(59640);let K=(()=>{class z extends b.W{constructor(G,X,Q,ee,ie,te,he,ye,re){super("subscriptions",ee,ie,he,ye),this.comparator=G,this.http=X,this.notificationsService=Q,this.requestService=ee,this.rdbService=ie,this.store=te,this.objectCache=he,this.halService=ye,this.nameService=re,this.findByEpersonLinkPath="findByEPerson",this.searchData=new P.X(this.linkPath,ee,ie,he,ye,this.responseMsToLive),this.deleteData=new M.I(this.linkPath,ee,ie,he,ye,Q,this.responseMsToLive,this.constructIdEndpoint)}getSubscriptionsByPersonDSO(G,X){const Q=Object.assign(new I._,{searchParams:[new E.x("resource",X),new E.x("eperson_id",G)]});return this.searchData.searchBy("findByEPersonAndDso",Q,!1,!0)}createSubscription(G,X,Q){return this.halService.getEndpoint(this.linkPath).pipe((0,T.VT)(),(0,i.s)(1),(0,t.T)(ee=>`${ee}?resource=${Q}&eperson_id=${X}`),(0,t.T)(ee=>new h.QU(this.requestService.generateRequestId(),ee,JSON.stringify(G))),(0,m.w$)(this.requestService),(0,c.n)(ee=>this.rdbService.buildFromRequestUUID(ee.uuid)),(0,L.qD)())}updateSubscription(G,X,Q){return this.halService.getEndpoint(this.linkPath).pipe((0,T.VT)(),(0,i.s)(1),(0,t.T)(ee=>`${ee}/${G.id}?resource=${Q}&eperson_id=${X}`),(0,t.T)(ee=>new h.v_(this.requestService.generateRequestId(),ee,JSON.stringify(G))),(0,m.w$)(this.requestService),(0,c.n)(ee=>this.rdbService.buildFromRequestUUID(ee.uuid)),(0,L.qD)())}deleteSubscription(G){return this.halService.getEndpoint(this.linkPath).pipe((0,e.p)(X=>(0,T.hj)(X)),(0,p.F)(),(0,c.n)(X=>this.deleteData.delete(G)),(0,L.qD)())}findAllSubscriptions(G){return this.findAllData.findAll(G,!0,!0,(0,N.s)("resource"),(0,N.s)("eperson"))}findByEPerson(G,X){const Q=Object.assign(new I._,X,{searchParams:[new E.x("uuid",G)]});return this.getEndpoint().pipe((0,t.T)(ee=>`${ee}/search/${this.findByEpersonLinkPath}`),(0,c.n)(ee=>this.findListByHref(ee,Q,!1,!0,(0,N.s)("resource"),(0,N.s)("eperson"))))}static{this.\u0275fac=function(X){return new(X||z)(j.KVO(D.j),j.KVO($.Qq),j.KVO(x.I),j.KVO(S.B),j.KVO(v.o),j.KVO(k.il),j.KVO(y.$),j.KVO(O.Y),j.KVO(f.f))}}static{this.\u0275prov=j.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},97402:(B,C,n)=>{"use strict";n.d(C,{K:()=>c,t:()=>t});const t={SET:(0,n(6800).N)("dspace/theme/SET")};class c{constructor(p){this.type=t.SET,this.payload={name:p}}}},93620:(B,C,n)=>{"use strict";n.d(C,{Q:()=>i});const i="base"},73838:(B,C,n)=>{"use strict";n.d(C,{Fs:()=>fe});var i=n(60177),t=n(7901),c=n(59640),e=n(84412),p=n(7673),m=n(22806),f=n(70274),v=n(983),E=n(96697),y=n(5964),M=n(25558),b=n(96354),P=n(39974),D=n(85412),h=n(56594),S=n(39901),O=n(72001),L=n(78544),T=n(8177),x=n(98733),N=n(12238),j=n(4093),$=n(89777),k=n(195),K=n(21193),z=n(4600),V=n(97402),G=n(93620),X=n(84572),Q=n(15343),ee=n(74511);class ie{constructor(oe){this.config=oe}matches(oe,J){return(0,p.of)(!0)}}class te extends ie{constructor(oe){super(oe),this.config=oe,this.regex=new RegExp(this.config.regex)}matches(oe,J){let ve;const _e=(0,Q.wN)(J);return(0,$.hj)(_e)&&(ve=_e.match(this.regex)),(0,$.Tn)(ve)&&(ve=oe.match(this.regex)),(0,p.of)((0,$.a4)(ve))}}class he extends ie{constructor(oe,J){super(oe),this.config=oe,this.handleService=J}matches(oe,J){return(0,$.a4)(J?.handle)?(0,X.z)([this.handleService.normalizeHandle(J?.handle),this.handleService.normalizeHandle(this.config.handle)]).pipe((0,b.T)(([ve,_e])=>(0,$.a4)(J)&&(0,$.a4)(J.handle)&&ve===_e),(0,E.s)(1)):(0,p.of)(!1)}}class ye extends ie{constructor(oe){super(oe),this.config=oe}matches(oe,J){return(0,p.of)((0,$.a4)(J)&&J.uuid===this.config.uuid)}}var ce=n(54438);const Z=(0,c.UX)("theme"),ne=(0,c.Mz)(Z,ae=>(0,$.a4)(ae)?ae.currentTheme:G.Q);let fe=(()=>{class ae{constructor(J,ve,_e,Ce,qe,Re,nt){this.store=J,this.linkService=ve,this.dSpaceObjectDataService=_e,this.injector=Ce,this.gtcf=qe,this.router=Re,this.document=nt,this._isThemeLoading$=new e.t(!1),this._isThemeCSSLoading$=new e.t(!1),this.themes=L.c.themes.map(Ge=>((ae,oe)=>(0,$.a4)(ae.regex)?new te(ae):(0,$.a4)(ae.handle)?new he(ae,oe.get(ee.e)):(0,$.a4)(ae.uuid)?new ye(ae):new ie(ae))(Ge,Ce)),this.hasDynamicTheme=L.c.themes.some(Ge=>(0,$.a4)(Ge.regex)||(0,$.a4)(Ge.handle)||(0,$.a4)(Ge.uuid))}setTheme(J){this.store.dispatch(new V.K(J))}getThemeName(){let J;return this.store.pipe((0,c.Lt)(ne),(0,E.s)(1)).subscribe(ve=>J=ve),J}getThemeName$(){return this.store.pipe((0,c.Lt)(ne))}get isThemeLoading$(){return this._isThemeLoading$}listenForThemeChanges(J){this.getThemeName$().subscribe(ve=>{if(J&&(0,N.S)(this._isThemeCSSLoading$,!0),(0,$.a4)(ve))this.loadGlobalThemeConfig(ve);else{const _e=(0,O.Nv)();(0,$.a4)(_e)?this.loadGlobalThemeConfig(_e.name):this.loadGlobalThemeConfig(G.Q)}})}listenForRouteChanges(){this.router.events.pipe((0,y.p)(J=>J instanceof t.gx),(0,M.n)(J=>this.updateThemeOnRouteChange$(J.urlAfterRedirects,J.state.root)),(0,M.n)(J=>J?this._isThemeCSSLoading$:[!1])).subscribe(J=>{(0,N.S)(this._isThemeLoading$,J)})}loadGlobalThemeConfig(J){this.setThemeCss(J),this.setHeadTags(J)}setThemeCss(J){const ve=this.document.getElementsByTagName("head")[0];if((0,$.Tn)(ve))return;const _e=Array.from(ve.getElementsByClassName("theme-css")),Ce=this.document.createElement("link");Ce.setAttribute("rel","stylesheet"),Ce.setAttribute("type","text/css"),Ce.setAttribute("class","theme-css"),Ce.setAttribute("href",`${encodeURIComponent(J)}-theme.css`),Ce.onload=()=>{(0,$.hj)(_e)&&_e.forEach(qe=>{(0,$.a4)(qe)&&qe.remove()}),(0,N.S)(this._isThemeCSSLoading$,!1)},ve.appendChild(Ce)}setHeadTags(J){const ve=this.document.getElementsByTagName("head")[0];if((0,$.Tn)(ve))return;const _e=Array.from(ve.getElementsByClassName("theme-head-tag"));(0,$.a4)(_e)&&_e.forEach(qe=>qe.remove());const Ce=this.document.createDocumentFragment();this.createHeadTags(J).forEach(qe=>Ce.appendChild(qe)),ve.appendChild(Ce)}createHeadTags(J){const ve=this.getThemeConfigFor(J),_e=ve?.headTags;if((0,$.Tn)(_e)){const Ce=ve?.extends;return(0,$.a4)(Ce)?this.createHeadTags(Ce):[this.createHeadTag({tagName:"link",attributes:{rel:"icon",href:"assets/images/favicon.ico",sizes:"any"}})]}return _e.map(this.createHeadTag.bind(this))}createHeadTag(J){const ve=this.document.createElement(J.tagName);return(0,$.a4)(J.attributes)&&Object.entries(J.attributes).forEach(([_e,Ce])=>ve.setAttribute(_e,Ce)),ve.setAttribute("class","theme-head-tag"),ve}updateThemeOnRouteChange$(J,ve){const Ce=this.store.pipe((0,c.Lt)(ne)).pipe((0,M.n)(qe=>{const Re=this.findRouteData(ve);if(!0===this.hasDynamicTheme&&(0,$.hj)(this.themes)){if((0,$.a4)(Re)&&(0,$.a4)(Re.data)&&(0,$.a4)(Re.data.dso)){const nt=Re.data.dso;if(nt.hasSucceeded)return(0,p.of)(nt.payload).pipe(this.getAncestorDSOs(),(0,M.n)(Ge=>this.matchThemeToDSOs(Ge,J)),(0,b.T)(Ge=>this.getActionForMatch(Ge,qe)))}return(0,$.a4)(ve.queryParams)&&(0,$.a4)(ve.queryParams.scope)?this.dSpaceObjectDataService.findById(ve.queryParams.scope).pipe((0,j.yd)(),(0,j.Bo)(),this.getAncestorDSOs(),(0,M.n)(Ge=>this.matchThemeToDSOs(Ge,J)),(0,b.T)(Ge=>this.getActionForMatch(Ge,qe))):(0,m.H)(this.themes).pipe((0,f.H)(nt=>nt.matches(J,void 0).pipe((0,y.p)(Ge=>!0===Ge),(0,b.T)(()=>nt),(0,E.s)(1))),(0,E.s)(1),(0,b.T)(nt=>this.getActionForMatch(nt,qe)))}return(0,p.of)(new k.L)}),(0,E.s)(1));return Ce.pipe((0,y.p)(qe=>qe.type!==k.o)).subscribe(qe=>{this.store.dispatch(qe)}),Ce.pipe((0,b.T)(qe=>qe.type===V.t.SET))}findRouteData(...J){const ve=J.find(_e=>(0,$.a4)(_e.data)&&(0,$.a4)(_e.data.dso));if((0,$.a4)(ve))return ve;{const _e=J.map(Ce=>Ce.children).reduce((Ce,qe)=>[...Ce,...qe]);return(0,$.hj)(_e)?this.findRouteData(..._e):void 0}}getAncestorDSOs(){return J=>J.pipe(function I(ae,oe=1/0,J){return oe=(oe||0)<1?1/0:oe,(0,P.N)((ve,_e)=>(0,D.h)(ve,_e,ae,oe,void 0,!0,J))}(ve=>{if((0,$.a4)(ve)&&"function"==typeof ve.getParentLinkKey){const _e=ve.getParentLinkKey();return this.linkService.resolveLinkWithoutAttaching(ve,(0,z.s)(_e)).pipe((0,j.qD)(),(0,b.T)(Ce=>(0,$.a4)(Ce.payload)?Ce.payload:null))}return v.w}),(0,y.p)(ve=>(0,$.a4)(ve)),(0,h.$)())}getActionForMatch(J,ve){const _e=J?.config.name??G.Q;return _e!==ve?new V.K(_e):new k.L}matchThemeToDSOs(J,ve){return(0,m.H)(this.themes).pipe((0,f.H)(_e=>(0,m.H)(J).pipe((0,f.H)(Ce=>_e.matches(ve,Ce)),(0,y.p)(Ce=>!0===Ce),(0,b.T)(()=>_e),(0,E.s)(1))),(0,E.s)(1),(0,S.U)(void 0))}getThemeConfigFor(J){return this.gtcf(J)}static{this.\u0275fac=function(ve){return new(ve||ae)(ce.KVO(c.il),ce.KVO(T._),ce.KVO(x.DSpaceObjectDataService),ce.KVO(ce.zZn),ce.KVO(K.zD),ce.KVO(t.Ix),ce.KVO(i.qQ))}}static{this.\u0275prov=ce.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})()},29710:(B,C,n)=>{"use strict";n.d(C,{J:()=>S});var i=n(54438),t=n(84412),c=n(84572),e=n(7673),p=n(22806),m=n(25558),f=n(88141),v=n(96354),E=n(99437),y=n(89777),M=n(93620),b=n(73838);const P=["vcr"],D=["content"],I=["*"];function h(O,L){}let S=(()=>{class O{constructor(T,x){this.cdr=T,this.themeService=x,this.compRef$=new t.t(void 0),this.inAndOutputNames=[]}ngOnChanges(T){(0,y.Tn)(this.compRef)?this.initComponentInstance(T):this.inAndOutputNames.some(x=>(0,y.a4)(T[x]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(T))}ngAfterViewInit(){this.initComponentInstance()}ngOnDestroy(){[this.themeSub,this.lazyLoadSub].filter(T=>(0,y.a4)(T)).forEach(T=>T.unsubscribe()),this.destroyComponentInstance()}initComponentInstance(T){(0,y.a4)(this.themeSub)&&this.themeSub.unsubscribe(),this.themeSub=this.themeService?.getThemeName$().subscribe(()=>{this.renderComponentInstance(T)})}renderComponentInstance(T){(0,y.a4)(this.lazyLoadSub)&&this.lazyLoadSub.unsubscribe(),(0,y.Tn)(this.lazyLoadObs)&&(this.lazyLoadObs=(0,c.z)([(0,e.of)(T),this.resolveThemedComponent(this.themeService.getThemeName()).pipe((0,m.n)(x=>(0,y.a4)(x)&&(0,y.a4)(x[this.getComponentName()])?[x[this.getComponentName()]]:(0,p.H)(this.importUnthemedComponent()).pipe((0,f.M)(()=>this.usedTheme=M.Q),(0,v.T)(N=>N[this.getComponentName()]))))])),this.lazyLoadSub=this.lazyLoadObs.subscribe(([x,N])=>{this.destroyComponentInstance(),this.compRef=this.vcr.createComponent(N,{projectableNodes:[this.themedElementContent.nativeElement.childNodes]}),(0,y.a4)(x)?this.ngOnChanges(x):this.connectInputsAndOutputs(),this.compRef$.next(this.compRef),this.cdr.markForCheck(),this.themedElementContent.nativeElement.remove()})}destroyComponentInstance(){(0,y.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null),(0,y.a4)(this.vcr)&&this.vcr.clear()}connectInputsAndOutputs(){(0,y.hj)(this.inAndOutputNames)&&(0,y.a4)(this.compRef)&&(0,y.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(T=>void 0!==this[T]).forEach(T=>{this.compRef.instance[T]=this[T]})}resolveThemedComponent(T,x=[]){return(0,y.hj)(T)?(0,p.H)(this.importThemedComponent(T)).pipe((0,f.M)(()=>this.usedTheme=T),(0,E.W)(()=>{const N=this.themeService.getThemeConfigFor(T)?.extends,j=[...x,T];if(x.includes(N))throw new Error("Theme extension cycle detected: "+[...j,N].join(" -> "));return this.resolveThemedComponent(N,j)})):(0,e.of)(null)}static{this.\u0275fac=function(x){return new(x||O)(i.rXU(i.gRc),i.rXU(b.Fs))}}static{this.\u0275cmp=i.VBU({type:O,selectors:[["ds-themed"]],viewQuery:function(x,N){if(1&x&&(i.GBs(P,5,i.c1b),i.GBs(D,5)),2&x){let j;i.mGM(j=i.lsd())&&(N.vcr=j.first),i.mGM(j=i.lsd())&&(N.themedElementContent=j.first)}},hostVars:1,hostBindings:function(x,N){2&x&&i.BMQ("data-used-theme",N.usedTheme)},standalone:!0,features:[i.OA$,i.aNF],ngContentSelectors:I,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(x,N){1&x&&(i.NAR(),i.DNE(0,h,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())}})}}return O})()},45615:(B,C,n)=>{"use strict";n.d(C,{M:()=>i});class i{handle(c){return c.interpolateParams&&c.interpolateParams.default||c.key}}},25713:(B,C,n)=>{"use strict";n.d(C,{W:()=>v});var i=n(68018),t=n(89777),c=n(54438);let e=(()=>{class E{constructor(){this.actualClick=new c.bkB}mousedownEvent(M){this.start=new Date}mouseupEvent(M){new Date-this.start<250&&this.actualClick.emit(M)}static{this.\u0275fac=function(b){return new(b||E)}}static{this.\u0275dir=c.FsC({type:E,selectors:[["","dsDragClick",""]],hostBindings:function(b,P){1&b&&c.bIt("mousedown",function(I){return P.mousedownEvent(I)})("mouseup",function(I){return P.mouseupEvent(I)})},outputs:{actualClick:"actualClick"},standalone:!0})}}return E})();var p=n(44860);const m=["content"],f=["*"];let v=(()=>{class E{constructor(M){this.service=M,this.maxLines=-1,this.fixedHeight=!1,this.background="default",this.showToggle=!0,this.expand=!1,this.expandable=!1}ngOnInit(){this.setLines()}setLines(){this.sub=this.service.isCollapsed(this.id).subscribe(M=>{M?(this.lines=this.minLines.toString(),this.expand=!1):(this.lines=this.maxLines<0?"none":this.maxLines.toString(),this.expand=!0)})}ngAfterViewChecked(){this.truncateElement()}toggle(){this.service.toggle(this.id),this.expandable=!this.expandable}truncateElement(){if(this.showToggle){const M=this.content.nativeElement;M.scrollHeight>M.offsetHeight?M.children.length>0?M.children[M.children.length-1].offsetHeight>M.offsetHeight?(M.classList.add("truncated"),M.classList.remove("removeFaded")):(M.classList.remove("truncated"),M.classList.add("removeFaded")):M.innerText.length>0?(M.classList.add("truncated"),M.classList.remove("removeFaded")):(M.classList.remove("truncated"),M.classList.add("removeFaded")):(M.classList.remove("truncated"),M.classList.add("removeFaded"))}}get isExpanded(){return this.expand&&this.expandable}ngOnDestroy(){(0,t.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(b){return new(b||E)(c.rXU(p.F))}}static{this.\u0275cmp=c.VBU({type:E,selectors:[["ds-truncatable-part"]],viewQuery:function(b,P){if(1&b&&c.GBs(m,7),2&b){let D;c.mGM(D=c.lsd())&&(P.content=D.first)}},inputs:{minLines:"minLines",maxLines:"maxLines",id:"id",type:"type",fixedHeight:"fixedHeight",background:"background",showToggle:"showToggle"},standalone:!0,features:[c.aNF],ngContentSelectors:f,decls:9,vars:17,consts:[["content",""],[1,"content","dont-break-out","preserve-line-breaks"],["dsDragClick","","role","button","tabindex","0",3,"actualClick","keyup.Enter","keyup.Space"],[1,"ms-1"]],template:function(b,P){if(1&b){const D=c.RV6();c.NAR(),c.j41(0,"div")(1,"div",1,0),c.SdG(3),c.k0s(),c.j41(4,"button",2),c.bIt("actualClick",function(){return c.eBV(D),c.Njj(P.toggle())})("keyup.Enter",function(){return c.eBV(D),c.Njj(P.toggle())})("keyup.Space",function(){return c.eBV(D),c.Njj(P.toggle())}),c.nrm(5,"i"),c.j41(6,"span",3),c.EFF(7),c.nI1(8,"translate"),c.k0s()()()}2&b&&(c.ZBM("clamp-",P.background,"-",P.lines," min-",P.minLines," ",P.type," ",P.fixedHeight?"fixedHeight":"",""),c.R7$(4),c.ZvI("btn btn-link p-0 ",P.isExpanded?"collapseButton":"expandButton",""),c.BMQ("aria-expanded",P.isExpanded),c.R7$(),c.ZvI("fas ",P.isExpanded?"fa-angle-up":"fa-angle-down",""),c.R7$(2),c.JRh(c.bMT(8,15,"item.truncatable-part.show-"+(P.isExpanded?"less":"more"))))},dependencies:[e,i.h,i.D9],styles:[".content[_ngcontent-%COMP%]:not(.truncated) ~ button.expandButton[_ngcontent-%COMP%]{display:none}.btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}.removeFaded.content[_ngcontent-%COMP%]:after{display:none}"]})}}return E})()},59788:(B,C,n)=>{"use strict";n.d(C,{GV:()=>e,Qs:()=>m,VR:()=>t,f7:()=>p});var i=n(6800);const t={TOGGLE:(0,i.N)("dspace/truncatable/TOGGLE"),COLLAPSE:(0,i.N)("dspace/truncatable/COLLAPSE"),EXPAND:(0,i.N)("dspace/truncatable/EXPAND")};class c{constructor(v){this.id=v}}class e extends c{constructor(){super(...arguments),this.type=t.TOGGLE}}class p extends c{constructor(){super(...arguments),this.type=t.COLLAPSE}}class m extends c{constructor(){super(...arguments),this.type=t.EXPAND}}},24100:(B,C,n)=>{"use strict";n.d(C,{d:()=>e});var i=n(44860),t=n(54438);const c=["*"];let e=(()=>{class p{constructor(f,v){this.service=f,this.el=v,this.initialExpand=!1,this.onHover=!1,this.showToggle=!0}ngOnInit(){this.initialExpand?this.service.expand(this.id):this.service.collapse(this.id)}hoverCollapse(){this.onHover&&this.service.collapse(this.id)}hoverExpand(){this.onHover&&this.service.expand(this.id)}ngAfterViewChecked(){if(this.showToggle&&this.el.nativeElement.querySelectorAll(".truncated")?.length>0){const v=this.el.nativeElement.querySelectorAll(".dont-break-out");for(let E=0;E<v.length-1;E++)v[E].classList.remove("truncated"),v[E].classList.add("notruncatable");v[v.length-1].classList.add("truncated")}}static{this.\u0275fac=function(v){return new(v||p)(t.rXU(i.F),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["ds-truncatable"]],inputs:{initialExpand:"initialExpand",id:"id",onHover:"onHover",showToggle:"showToggle"},standalone:!0,features:[t.aNF],ngContentSelectors:c,decls:2,vars:0,consts:[[3,"mouseenter","mouseleave"]],template:function(v,E){1&v&&(t.NAR(),t.j41(0,"div",0),t.bIt("mouseenter",function(){return E.hoverExpand()})("mouseleave",function(){return E.hoverCollapse()}),t.SdG(1),t.k0s())}})}}return p})()},44860:(B,C,n)=>{"use strict";n.d(C,{F:()=>f});var i=n(59640),t=n(96354),c=n(89777),e=n(59788),p=n(54438);const m=y=>y.truncatable;let f=(()=>{class y{constructor(b){this.store=b}isCollapsed(b){return this.store.pipe((0,i.Lt)(function v(y){return function E(y){return(0,i.Mz)(m,M=>{if((0,c.a4)(M))return M[y]})}(y)}(b)),(0,t.T)(P=>!!P&&P.collapsed))}toggle(b){this.store.dispatch(new e.GV(b))}collapse(b){this.store.dispatch(new e.f7(b))}expand(b){this.store.dispatch(new e.Qs(b))}static{this.\u0275fac=function(P){return new(P||y)(p.KVO(i.il))}}static{this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},89291:(B,C,n)=>{"use strict";n.d(C,{H:()=>t});var i=n(51801);class t{constructor(){this.disableMultipart=!1,this.itemAlias=null,this.autoUpload=!0,this.method=i.D.POST}}},84780:(B,C,n)=>{"use strict";n.d(C,{y:()=>k});var i=n(60177),t=n(54438),c=n(68018),e=n(59519),p=n.n(e),m=n(27200),f=n(7673),v=n(44940),E=n(79104),y=n(89777);n(89291);let b=(()=>{class K{constructor(){this._overrideDragOverPage=!1}overrideDragOverPage(){this._overrideDragOverPage=!0}allowDragOverPage(){this._overrideDragOverPage=!1}isAllowedDragOverPage(){return!this._overrideDragOverPage}static{this.\u0275fac=function(G){return new(G||K)}}static{this.\u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();var P=n(21626),D=n(67138);const I=K=>({"ds-base-drop-zone-file-over":K}),h=K=>({width:K}),S=K=>({"progress-bar":!0,"bg-success progress-bar-striped progress-bar-animated":K});function O(K,z){if(1&K){const V=t.RV6();t.j41(0,"div",7),t.nI1(1,"async"),t.bIt("fileOver",function(X){t.eBV(V);const Q=t.XpG();return t.Njj(Q.fileOverDocument(X))}),t.k0s()}if(2&K){const V=t.XpG();t.AVh("ds-document-drop-zone-active",t.bMT(1,3,V.isOverDocumentDropZone)),t.Y8G("uploader",V.uploader)}}function L(K,z){if(1&K&&(t.j41(0,"div",2)(1,"div",8)(2,"p",9),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&K){const V=t.XpG();t.R7$(3),t.JRh(t.bMT(4,1,V.dropOverDocumentMsg))}}function T(K,z){if(1&K){const V=t.RV6();t.j41(0,"div",6)(1,"span",10),t.nrm(2,"i",11),t.EFF(3),t.nI1(4,"translate"),t.nI1(5,"translate"),t.j41(6,"label",12),t.bIt("keyup.enter",function(X){t.eBV(V);const Q=t.sdS(12);return X.stopImmediatePropagation(),t.Njj(Q.click())}),t.j41(7,"span",13),t.nI1(8,"translate"),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.nrm(11,"input",14,0),t.k0s()()}if(2&K){const V=t.XpG();t.R7$(3),t.Lme(" ",t.bMT(4,9,V.dropMsg),"",t.bMT(5,11,"uploader.or")," "),t.R7$(3),t.Mz_("for","inputFileUploader-",V.uploaderId,""),t.R7$(),t.BMQ("aria-label",t.bMT(8,13,V.ariaLabel)),t.R7$(2),t.JRh(t.bMT(10,15,"uploader.browse")),t.R7$(2),t.Mz_("id","inputFileUploader-",V.uploaderId,""),t.Y8G("uploader",V.uploader)}}function x(K,z){if(1&K&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&K){const V=t.XpG(2);t.R7$(),t.Lme("",t.bMT(2,2,"uploader.queue-length"),": ",null==V.uploader||null==V.uploader.queue?null:V.uploader.queue.length," | ")}}function N(K,z){if(1&K&&(t.j41(0,"span",21),t.EFF(1),t.k0s()),2&K){const V=t.XpG(2);t.R7$(),t.SpI("",V.uploader.progress,"%")}}function j(K,z){1&K&&(t.j41(0,"span",21),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&K&&(t.R7$(),t.JRh(t.bMT(2,1,"uploader.processing")))}function $(K,z){if(1&K){const V=t.RV6();t.j41(0,"div")(1,"div",15)(2,"div",16)(3,"span",17),t.DNE(4,x,3,4,"span"),t.EFF(5),t.k0s(),t.j41(6,"div",18)(7,"button",19),t.nI1(8,"translate"),t.bIt("click",function(){t.eBV(V);const X=t.XpG();return t.Njj(X.uploader.clearQueue())}),t.nrm(9,"i",20),t.k0s()(),t.DNE(10,N,2,1,"span",21)(11,j,3,3,"span",21),t.k0s(),t.j41(12,"div",22),t.nrm(13,"div",23),t.k0s()()()}if(2&K){const V=t.XpG();t.R7$(4),t.vxM(V.uploader.options.disableMultipart?-1:4),t.R7$(),t.SpI("",null==V.uploader||null==V.uploader.queue[0]?null:V.uploader.queue[0].file.name," "),t.R7$(2),t.FS9("title",t.bMT(8,8,"uploader.delete.btn-title")),t.Y8G("dsBtnDisabled",!V.uploader.queue.length),t.R7$(3),t.vxM(V.uploader.progress<100&&(0!==V.uploader.progress||V.uploader.options.autoUpload)?10:-1),t.R7$(),t.vxM(100===V.uploader.progress?11:-1),t.R7$(2),t.Y8G("ngStyle",t.eq3(10,h,V.uploader.progress+"%"))("ngClass",t.eq3(12,S,100===V.uploader.progress))}}let k=(()=>{class K{onDragOver(V){this.enableDragOverDocument&&this.dragService.isAllowedDragOverPage()&&(V.preventDefault(),"HTML"!==V.target.tagName&&(this.isOverDocumentDropZone=(0,f.of)(!0)))}constructor(V,G,X,Q){this.cdr=V,this.dragService=G,this.tokenExtractor=X,this.cookieService=Q,this.ON_BEHALF_HEADER="X-On-Behalf-Of",this.onCompleteItem=new t.bkB,this.onUploadError=new t.bkB,this.onFileSelected=new t.bkB,this.isOverBaseDropZone=(0,f.of)(!1),this.isOverDocumentDropZone=(0,f.of)(!1)}ngOnInit(){this.uploaderId="ds-drag-and-drop-uploader"+p()(),this.checkConfig(this.uploadFilesOptions),this.uploader=new m.l0({url:this.uploadFilesOptions.url,authToken:this.uploadFilesOptions.authToken,disableMultipart:this.uploadFilesOptions.disableMultipart,itemAlias:this.uploadFilesOptions.itemAlias,removeAfterUpload:!0,autoUpload:this.uploadFilesOptions.autoUpload,method:this.uploadFilesOptions.method,queueLimit:this.uploadFilesOptions.maxFileNumber}),(0,y.b0)(this.enableDragOverDocument)&&(this.enableDragOverDocument=!1),(0,y.b0)(this.dropMsg)&&(this.dropMsg="uploader.drag-message"),(0,y.b0)(this.dropOverDocumentMsg)&&(this.dropOverDocumentMsg="uploader.drag-message")}ngAfterViewInit(){this.uploader.onAfterAddingAll=V=>{this.onFileSelected.emit(V)},(0,y.b0)(this.onBeforeUpload)&&(this.onBeforeUpload=()=>{}),this.uploader.onBeforeUploadItem=V=>{V.url!==this.uploader.options.url&&(V.url=this.uploader.options.url),this.uploader.options.headers=[{name:v.sA,value:this.tokenExtractor.getToken()}],(0,y.a4)(this.uploadFilesOptions.impersonatingID)&&this.uploader.options.headers.push({name:this.ON_BEHALF_HEADER,value:this.uploadFilesOptions.impersonatingID}),this.onBeforeUpload(),this.isOverDocumentDropZone=(0,f.of)(!1)},(0,y.a4)(this.uploadProperties)&&(this.uploader.onBuildItemForm=(V,G)=>{G.append("properties",JSON.stringify(this.uploadProperties))}),this.uploader.onCompleteItem=(V,G,X,Q)=>{const ee=Q[v.oo.toLowerCase()];if((0,y.hj)(ee)&&(this.saveXsrfToken(ee),this.uploader.options.headers=[{name:v.sA,value:this.tokenExtractor.getToken()}]),(0,y.hj)(G)){const ie=JSON.parse(G);this.onCompleteItem.emit(ie)}},this.uploader.onErrorItem=(V,G,X,Q)=>{const ee=Q[v.oo.toLowerCase()];(0,y.hj)(ee)&&(this.saveXsrfToken(ee),this.uploader.options.headers=[{name:v.sA,value:this.tokenExtractor.getToken()}]),this.onUploadError.emit({item:V,response:G,status:X,headers:Q}),this.uploader.cancelAll()},this.uploader.onProgressAll=()=>this.onProgress(),this.uploader.onProgressItem=()=>this.onProgress()}fileOverBase(V){this.isOverBaseDropZone=(0,f.of)(V)}fileOverDocument(V){V||(this.isOverDocumentDropZone=(0,f.of)(V))}onProgress(){this.cdr.detectChanges()}checkConfig(V){const X=["url","authToken","disableMultipart","itemAlias"].filter(Q=>!(Q in V&&""!==V[Q]));if(0<X.length)throw new Error("UploadFiles: Argument is missing the following required properties: "+X.join(", "))}saveXsrfToken(V){this.cookieService.remove(v.dX),this.cookieService.set(v.dX,V)}static{this.\u0275fac=function(G){return new(G||K)(t.rXU(t.gRc),t.rXU(b),t.rXU(P.B3),t.rXU(D.O))}}static{this.\u0275cmp=t.VBU({type:K,selectors:[["ds-uploader"]],hostBindings:function(G,X){1&G&&t.bIt("dragover",function(ee){return X.onDragOver(ee)},!1,t.tSv)},inputs:{dropMsg:"dropMsg",dropOverDocumentMsg:"dropOverDocumentMsg",enableDragOverDocument:"enableDragOverDocument",onBeforeUpload:"onBeforeUpload",uploadFilesOptions:"uploadFilesOptions",uploadProperties:"uploadProperties",ariaLabel:"ariaLabel"},outputs:{onCompleteItem:"onCompleteItem",onUploadError:"onUploadError",onFileSelected:"onFileSelected"},standalone:!0,features:[t.aNF],decls:11,vars:17,consts:[["fileInput",""],["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"ds-document-drop-zone-active","uploader"],[1,"ds-document-drop-zone-inner","position-fixed","h-100","w-100","p-2"],[1,"row"],[1,"col-md-12"],["ng2FileDrop","",1,"well","ds-base-drop-zone","mt-1","mb-3","text-muted",3,"fileOver","ngClass","uploader"],[1,"text-center","m-0","p-2","d-flex","justify-content-center","align-items-center"],["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"fileOver","uploader"],[1,"ds-document-drop-zone-inner-content","position-relative","d-flex","flex-column","justify-content-center","text-center","h-100","w-100"],[1,"text-primary"],[1,"d-flex","align-items-center"],["aria-hidden","true",1,"fas","fa-upload","pe-1"],["tabindex","0",1,"btn","btn-link","m-0","p-0","ms-1",3,"keyup.enter","for"],["role","button"],["type","file","ng2FileSelect","","multiple","","tabindex","0",1,"d-none",3,"id","uploader"],[1,"m-1"],[1,"upload-item-top"],[1,"filename"],["role","group",1,"btn-group","btn-group-sm","float-end"],["type","button",1,"btn","btn-danger",3,"click","title","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-trash"],[1,"float-end","me-3"],[1,"ds-base-drop-zone-progress","clearfix","mt-2"],["role","progressbar",2,"height","5px","width","0",3,"ngStyle","ngClass"]],template:function(G,X){1&G&&(t.DNE(0,O,2,5,"div",1),t.nI1(1,"async"),t.DNE(2,L,5,3,"div",2),t.nI1(3,"async"),t.j41(4,"div",3)(5,"div",4)(6,"div",5),t.nI1(7,"async"),t.bIt("fileOver",function(ee){return X.fileOverBase(ee)}),t.DNE(8,T,13,17,"div",6)(9,$,14,14,"div"),t.nI1(10,"async"),t.k0s()()()),2&G&&(t.vxM(t.bMT(1,7,X.isOverDocumentDropZone)?0:-1),t.R7$(2),t.vxM(t.bMT(3,9,X.isOverDocumentDropZone)?2:-1),t.R7$(2),t.BMQ("id",X.uploaderId),t.R7$(2),t.Y8G("ngClass",t.eq3(15,I,t.bMT(7,11,X.isOverBaseDropZone)))("uploader",X.uploader),t.R7$(2),t.vxM(0===(null==X.uploader||null==X.uploader.queue?null:X.uploader.queue.length)?8:-1),t.R7$(),t.vxM(t.bMT(10,13,X.isOverBaseDropZone)||0!==(null==X.uploader||null==X.uploader.queue?null:X.uploader.queue.length)?9:-1))},dependencies:[E.A,i.MD,i.YU,i.B3,i.Jj,m.eB,m.Ff,m.UJ,c.h,c.D9],styles:[".ds-base-drop-zone[_ngcontent-%COMP%]{border:2px dashed var(--bs-gray-600)}.ds-base-drop-zone-file-over[_ngcontent-%COMP%]{border:2px dashed var(--bs-primary)}.ds-base-drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-height:var(--ds-drop-zone-area-height)}.ds-document-drop-zone[_ngcontent-%COMP%]{top:0;left:0;z-index:-1}.ds-document-drop-zone-active[_ngcontent-%COMP%]{z-index:var(--ds-drop-zone-area-z-index)!important}.ds-document-drop-zone-inner[_ngcontent-%COMP%]{background-color:#ffffffb3;z-index:var(--ds-drop-zone-area-inner-z-index);top:0;left:0}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]{border:4px dashed var(--bs-primary);z-index:var(--ds-drop-zone-area-inner-z-index)}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--bs-font-size-lg) * 2.5)}"]})}}return K})()},33745:(B,C,n)=>{"use strict";n.d(C,{L:()=>c});var i=n(60177),t=n(54438);let c=(()=>{class e{constructor(m){this.platformID=m}transform(m){if((0,i.UE)(this.platformID))return m}static{this.\u0275fac=function(f){return new(f||e)(t.rXU(t.Agw,16))}}static{this.\u0275pipe=t.EJ8({name:"dsBrowserOnly",type:e,pure:!0,standalone:!0})}}return e})()},38133:(B,C,n)=>{"use strict";n.d(C,{z:()=>t});var i=n(54438);let t=(()=>{class c{constructor(p){this._elementRef=p,this.dsClickOutside=new i.bkB}onClick(){const p=this._elementRef.nativeElement;p.contains(p.ownerDocument.activeElement)||this.dsClickOutside.emit(null)}static{this.\u0275fac=function(m){return new(m||c)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:c,selectors:[["","dsClickOutside",""]],hostBindings:function(m,f){1&m&&i.bIt("click",function(){return f.onClick()},!1,i.EBC)},outputs:{dsClickOutside:"dsClickOutside"},standalone:!0})}}return c})()},19370:(B,C,n)=>{"use strict";n.d(C,{R:()=>f});var i=n(54438),t=n(21413),c=n(70152),e=n(23294),p=n(56977),m=n(89417);let f=(()=>{class v{constructor(y){this.model=y,this.onDebounce=new i.bkB,this.dsDebounce=500,this.subject=new t.B}ngOnInit(){this.model.valueChanges.pipe((0,c.B)(this.dsDebounce),(0,e.F)(),(0,p.Q)(this.subject)).subscribe(y=>{this.model.dirty&&this.onDebounce.emit(y)})}ngOnDestroy(){this.subject.next(),this.subject.complete()}static{this.\u0275fac=function(M){return new(M||v)(i.rXU(m.vO))}}static{this.\u0275dir=i.FsC({type:v,selectors:[["","ngModel","","dsDebounce",""]],inputs:{dsDebounce:"dsDebounce"},outputs:{onDebounce:"onDebounce"},standalone:!0})}}return v})()},81829:(B,C,n)=>{"use strict";n.d(C,{s:()=>z});const c="bits",p="bytes",m="",b="jedec",j={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};var K=n(54438);let z=(()=>{class V{transform(X=0,Q=2){return function $(V,{bits:G=!1,pad:X=!1,base:Q=-1,round:ee=2,locale:ie=m,localeOptions:te={},separator:he=m,spacer:ye=" ",symbols:re={},standard:ce=m,output:Z="string",fullform:ne=!1,fullforms:fe=[],exponent:ae=-1,roundingMethod:oe="round",precision:J=0}={}){let ve=ae,_e=Number(V),Ce=[],qe=0,Re=m;"si"===ce?(Q=10,ce=b):"iec"===ce||ce===b?Q=2:2===Q?ce="iec":(Q=10,ce=b);const nt=10===Q?1e3:1024,Ge=!0===ne,at=_e<0,Ke=Math[oe];if("bigint"!=typeof V&&isNaN(V))throw new TypeError("Invalid number");if("function"!=typeof Ke)throw new TypeError("Invalid rounding method");if(at&&(_e=-_e),(-1===ve||isNaN(ve))&&(ve=Math.floor(Math.log(_e)/Math.log(nt)),ve<0&&(ve=0)),ve>8&&(J>0&&(J+=8-ve),ve=8),"exponent"===Z)return ve;if(0===_e)Ce[0]=0,Re=Ce[1]=j.symbol[ce][G?c:p][ve];else{qe=_e/(2===Q?Math.pow(2,10*ve):Math.pow(1e3,ve)),G&&(qe*=8,qe>=nt&&ve<8&&(qe/=nt,ve++));const Te=Math.pow(10,ve>0?ee:0);Ce[0]=Ke(qe*Te)/Te,Ce[0]===nt&&ve<8&&-1===ae&&(Ce[0]=1,ve++),Re=Ce[1]=10===Q&&1===ve?G?"kbit":"kB":j.symbol[ce][G?c:p][ve]}if(at&&(Ce[0]=-Ce[0]),J>0&&(Ce[0]=Ce[0].toPrecision(J)),Ce[1]=re[Ce[1]]||Ce[1],!0===ie?Ce[0]=Ce[0].toLocaleString():ie.length>0?Ce[0]=Ce[0].toLocaleString(ie,te):he.length>0&&(Ce[0]=Ce[0].toString().replace(".",he)),X&&ee>0){const Te=Ce[0].toString(),pt=he||(Te.match(/(\D)/g)||[]).pop()||".",He=Te.toString().split(pt),Bt=He[1]||m,it=Bt.length;Ce[0]=`${He[0]}${pt}${Bt.padEnd(it+(ee-it),"0")}`}return Ge&&(Ce[1]=fe[ve]?fe[ve]:j.fullform[ce][ve]+(G?"bit":"byte")+(1===Ce[0]?m:"s")),"array"===Z?Ce:"object"===Z?{value:Ce[0],symbol:Ce[1],exponent:ve,unit:Re}:Ce.join(ye)}(X,{standard:"jedec",round:Q})}static{this.\u0275fac=function(Q){return new(Q||V)}}static{this.\u0275pipe=K.EJ8({name:"dsFileSize",type:V,pure:!0,standalone:!0})}}return V})()},4600:(B,C,n)=>{"use strict";n.d(C,{s:()=>e});var i=n(36343),t=n(89777);const e=(p,{findListOptions:m,shouldEmbed:f,useCachedVersionIfAvailable:v,reRequestOnStale:E,isOptional:y}={},...M)=>({name:p,findListOptions:(0,t.a4)(m)?m:new i._,shouldEmbed:!(0,t.a4)(f)||f,useCachedVersionIfAvailable:!(0,t.a4)(v)||v,reRequestOnStale:!(0,t.a4)(E)||E,isOptional:!!(0,t.a4)(y)&&y,linksToFollow:M})},83363:(B,C,n)=>{"use strict";n.d(C,{l:()=>t});var i=n(54438);let t=(()=>{class c{constructor(p){this.elementRef=p,this.dsHoverOutside=new i.bkB}onMouseOver(p){const m=p.target,f=document.querySelector(this.dsHoverOutsideOfParentSelector);(f?new i.aKT(f):this.elementRef).nativeElement.contains(m)||this.dsHoverOutside.emit(null)}static{this.\u0275fac=function(m){return new(m||c)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:c,selectors:[["","dsHoverOutside",""]],hostBindings:function(m,f){1&m&&i.bIt("mouseover",function(E){return f.onMouseOver(E)},!1,i.EBC)},inputs:{dsHoverOutsideOfParentSelector:"dsHoverOutsideOfParentSelector"},outputs:{dsHoverOutside:"dsHoverOutside"},standalone:!0})}}return c})()},93446:(B,C,n)=>{"use strict";function i(t){return t<400?"thumb-font-0":t<750?"thumb-font-1":t<1e3?"thumb-font-2":"thumb-font-3"}n.d(C,{F:()=>i})},18902:(B,C,n)=>{"use strict";n.d(C,{U:()=>t});var i=n(54438);let t=(()=>{class c{transform(p,m=null){return Object.keys(p).map(f=>Object.assign({key:f},{value:p[f]}))}static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275pipe=i.EJ8({name:"dsObjNgFor",type:c,pure:!0,standalone:!0})}}return c})()},89856:(B,C,n)=>{"use strict";n.d(C,{as:()=>c,nW:()=>e});var i=n(4600);function c(p,m){return`f.${p}=${m},equals`}function e(p,m){const f=[];return p&&f.push((0,i.s)("thumbnail")),m&&f.push((0,i.s)("accessStatus")),[(0,i.s)("leftItem",void 0,...f),(0,i.s)("rightItem",void 0,...f)]}},54034:(B,C,n)=>{"use strict";n.d(C,{F:()=>e,N:()=>c});var i=n(5127),t=n(89777);function c(p){return"/"+p.parseUrl(p.url).root.children.primary.segments.map(f=>f.path).join("/")}function e(p){if((0,t.a4)(p.parent)){const m=e(p.parent);return new i.t(m,p.routeConfig.path).toString()}return p.routeConfig?p.routeConfig.path:""}},40444:(B,C,n)=>{"use strict";n.d(C,{d:()=>c});var i=n(54438),t=n(345);let c=(()=>{class e{constructor(m){this.domSanitizer=m}transform(m){return null==m?null:this.domSanitizer.bypassSecurityTrustResourceUrl(m)}static{this.\u0275fac=function(f){return new(f||e)(i.rXU(t.up,16))}}static{this.\u0275pipe=i.EJ8({name:"dsSafeUrl",type:e,pure:!0,standalone:!0})}}return e})()},50186:(B,C,n)=>{"use strict";n.d(C,{r:()=>t});var i=n(54438);let t=(()=>{class c{set ngVar(p){this.context.$implicit=this.context.ngVar=p,this.updateView()}constructor(p,m){this.vcRef=p,this.templateRef=m,this.context={}}updateView(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.templateRef,this.context)}static{this.\u0275fac=function(m){return new(m||c)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:c,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0})}}return c})()},19194:(B,C,n)=>{"use strict";n.d(C,{g:()=>L});var i=n(54438),t=n(7901),c=n(68018),e=n(5964),p=n(78544),m=n(94314),f=n(19192),v=n(89777),E=n(33745),y=n(54034);const M=()=>({view:"list"}),b=()=>({view:"grid"}),P=()=>({view:"detailed"}),D=()=>({view:"geospatialMap"});function I(T,x){if(1&T){const N=i.RV6();i.j41(0,"button",3),i.nI1(1,"translate"),i.nI1(2,"translate"),i.nI1(3,"dsBrowserOnly"),i.bIt("click",function(){i.eBV(N);const $=i.XpG();return i.Njj($.switchViewTo($.viewModeEnum.ListElement))}),i.nrm(4,"i",4),i.k0s()}if(2&T){const N=i.XpG();i.AVh("active",N.currentMode===N.viewModeEnum.ListElement),i.Y8G("title",i.bMT(1,7,"search.view-switch.show-list"))("queryParams",i.lJ4(13,M)),i.BMQ("aria-current",N.currentMode===N.viewModeEnum.ListElement)("aria-label",i.bMT(2,9,"search.view-switch.show-list"))("data-test",i.bMT(3,11,"list-view"))}}function h(T,x){if(1&T){const N=i.RV6();i.j41(0,"button",3),i.nI1(1,"translate"),i.nI1(2,"translate"),i.nI1(3,"dsBrowserOnly"),i.bIt("click",function(){i.eBV(N);const $=i.XpG();return i.Njj($.switchViewTo($.viewModeEnum.GridElement))}),i.nrm(4,"i",5),i.k0s()}if(2&T){const N=i.XpG();i.AVh("active",N.currentMode===N.viewModeEnum.GridElement),i.Y8G("title",i.bMT(1,7,"search.view-switch.show-grid"))("queryParams",i.lJ4(13,b)),i.BMQ("aria-current",N.currentMode===N.viewModeEnum.GridElement)("aria-label",i.bMT(2,9,"search.view-switch.show-grid"))("data-test",i.bMT(3,11,"grid-view"))}}function S(T,x){if(1&T){const N=i.RV6();i.j41(0,"button",3),i.nI1(1,"translate"),i.nI1(2,"translate"),i.nI1(3,"dsBrowserOnly"),i.bIt("click",function(){i.eBV(N);const $=i.XpG();return i.Njj($.switchViewTo($.viewModeEnum.DetailedListElement))}),i.nrm(4,"i",6),i.k0s()}if(2&T){const N=i.XpG();i.AVh("active",N.currentMode===N.viewModeEnum.DetailedListElement),i.Y8G("title",i.bMT(1,7,"search.view-switch.show-detail"))("queryParams",i.lJ4(13,P)),i.BMQ("aria-current",N.currentMode===N.viewModeEnum.DetailedListElement)("aria-label",i.bMT(2,9,"search.view-switch.show-detail"))("data-test",i.bMT(3,11,"detail-view"))}}function O(T,x){if(1&T){const N=i.RV6();i.j41(0,"button",7),i.nI1(1,"translate"),i.nI1(2,"translate"),i.nI1(3,"dsBrowserOnly"),i.bIt("click",function(){i.eBV(N);const $=i.XpG();return i.Njj($.switchViewTo($.viewModeEnum.GeospatialMap))}),i.nrm(4,"span",8),i.j41(5,"span",9),i.EFF(6),i.nI1(7,"translate"),i.k0s()()}if(2&T){const N=i.XpG();i.AVh("active",N.currentMode===N.viewModeEnum.GeospatialMap),i.Y8G("title",i.bMT(1,8,"search.view-switch.show-geospatialMap"))("queryParams",i.lJ4(16,D)),i.BMQ("aria-current",N.currentMode===N.viewModeEnum.GeospatialMap)("aria-label",i.bMT(2,10,"search.view-switch.show-geospatialMap"))("data-test",i.bMT(3,12,"geospatial-view")),i.R7$(6),i.JRh(i.bMT(7,14,"search.view-switch.show-geospatialMap"))}}let L=(()=>{class T{constructor(N,j){this.searchService=N,this.router=j,this.currentMode=f.n.ListElement,this.viewModeEnum=f.n,this.changeViewMode=new i.bkB}ngOnInit(){(0,v.Im)(this.viewModeList)&&(this.viewModeList=[f.n.ListElement,f.n.GridElement],p.c.geospatialMapViewer.enableSearchViewMode&&this.viewModeList.push(f.n.GeospatialMap)),this.sub=this.searchService.getViewMode().pipe((0,e.p)(N=>(0,v.hj)(N))).subscribe(N=>{this.currentMode=N})}switchViewTo(N){N!==this.currentMode&&this.changeViewMode.emit(N),this.searchService.setViewMode(N,this.getSearchLinkParts())}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}isToShow(N){return this.viewModeList&&this.viewModeList.includes(N)}getSearchLink(){return this.inPlaceSearch?(0,y.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static{this.\u0275fac=function(j){return new(j||T)(i.rXU(m.S),i.rXU(t.Ix))}}static{this.\u0275cmp=i.VBU({type:T,selectors:[["ds-view-mode-switch"]],inputs:{inPlaceSearch:"inPlaceSearch",viewModeList:"viewModeList"},outputs:{changeViewMode:"changeViewMode"},standalone:!0,features:[i.aNF],decls:5,vars:4,consts:[["data-bs-toggle","buttons",1,"btn-group"],["routerLink",".","queryParamsHandling","merge",1,"btn","btn-secondary",3,"title","queryParams","active"],["routerLink",".","queryParamsHandling","merge","routerLinkActive","active",1,"btn","btn-secondary",3,"title","queryParams","active"],["routerLink",".","queryParamsHandling","merge",1,"btn","btn-secondary",3,"click","title","queryParams"],[1,"fas","fa-list"],[1,"fas","fa-th-large"],[1,"far","fa-square"],["routerLink",".","queryParamsHandling","merge","routerLinkActive","active",1,"btn","btn-secondary",3,"click","title","queryParams"],[1,"fas","fa-map"],[1,"sr-only"]],template:function(j,$){1&j&&(i.j41(0,"div",0),i.DNE(1,I,5,14,"button",1)(2,h,5,14,"button",1)(3,S,5,14,"button",1)(4,O,8,17,"button",2),i.k0s()),2&j&&(i.R7$(),i.vxM($.isToShow($.viewModeEnum.ListElement)?1:-1),i.R7$(),i.vxM($.isToShow($.viewModeEnum.GridElement)?2:-1),i.R7$(),i.vxM($.isToShow($.viewModeEnum.DetailedListElement)?3:-1),i.R7$(),i.vxM($.isToShow($.viewModeEnum.GeospatialMap)?4:-1))},dependencies:[E.L,t.Wk,t.wQ,c.h,c.D9]})}}return T})()},66423:(B,C,n)=>{"use strict";n.d(C,{Y:()=>E});var i=n(54438),t=n(7901),c=n(25558),e=n(5964),p=n(96697),m=n(97324),f=n(64691);let v=(()=>{class y{constructor(b,P,D){this.angulartics2=b,this.referrerService=P,this.router=D}resolve(b,P){const D=b.data.dsoPath||"dso.payload";return this.router.events.pipe((0,e.p)(I=>I instanceof t.gx),(0,p.s)(1),(0,c.n)(()=>this.referrerService.getReferrer().pipe((0,p.s)(1)))).subscribe(I=>{this.angulartics2.eventTrack.next({action:"page_view",properties:{object:this.getNestedProperty(b.data,D),referrer:I}})}),!0}getNestedProperty(b,P){const D=P.split(".");let I=b;for(const h of D){if(!I||!I.hasOwnProperty(h))return;I=I[h]}return I}static{this.\u0275fac=function(P){return new(P||y)(i.KVO(m.il),i.KVO(f.f),i.KVO(t.Ix))}}static{this.\u0275prov=i.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const E=(y,M,b=(0,i.WQX)(v))=>b.resolve(y,M)},68660:(B,C,n)=>{"use strict";n.d(C,{$n:()=>S,Mz:()=>h});var i=n(54438),t=n(37542),c=n(84572),e=n(22806),p=n(7673),m=n(96354),f=n(96697),v=n(78544),E=n(94925),y=n(19252),M=n(4093),b=n(89564),P=n(89777);const h="matomo.enabled";let S=(()=>{class O{constructor(T){this.injector=T,this.orejimeService=(0,i.WQX)(b.B),this._window=(0,i.WQX)(y.lc),this.configService=(0,i.WQX)(E.ConfigurationDataService),this.changeMatomoConsent=x=>{x?this.matomoTracker?.setConsentGiven():this.matomoTracker?.forgetConsentGiven()}}init(){if(this._window.nativeWindow&&(this._window.nativeWindow.changeMatomoConsent=this.changeMatomoConsent),v.c.production){const T=this.orejimeService.getSavedPreferences();(0,c.z)([T,this.isMatomoEnabled$(),this.getSiteId$(),this.getTrackerUrl$()]).subscribe(([x,N,j,$])=>{N&&j&&$&&((0,i.N4e)(this.injector,()=>{this.matomoTracker=(0,i.WQX)(t.kA),this.matomoInitializer=(0,i.WQX)(t.TV)}),this.matomoInitializer.initializeTracker({siteId:j,trackerUrl:$}),this.changeMatomoConsent(x?.matomo))})}}appendVisitorId(T){return(0,e.H)(this.matomoTracker?.getVisitorId()).pipe((0,m.T)(x=>this.appendTrackerId(T,x)),(0,f.s)(1))}getTrackerUrl$(){return(0,P.hj)(v.c.matomo?.trackerUrl)?(0,p.of)(v.c.matomo.trackerUrl):this.configService.findByPropertyName("matomo.tracker.url").pipe((0,M.qD)(),(0,m.T)(T=>T.hasSucceeded&&T.payload&&(0,P.hj)(T.payload.values)&&T.payload.values[0]))}getSiteId$(){return this.configService.findByPropertyName("matomo.request.siteid").pipe((0,M.qD)(),(0,m.T)(T=>T.hasSucceeded&&T.payload&&(0,P.hj)(T.payload.values)&&T.payload.values[0]))}isMatomoEnabled$(){return this.configService.findByPropertyName(h).pipe((0,M.qD)(),(0,m.T)(T=>T.hasSucceeded&&T.payload&&(0,P.hj)(T.payload.values)&&"true"===T.payload.values[0]?.toLowerCase()))}appendTrackerId(T,x){const N=new URL(T);return(0,P.hj)(x)&&N.searchParams.append("trackerId",x),N.toString()}static{this.\u0275fac=function(x){return new(x||O)(i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},56066:(B,C,n)=>{"use strict";n.d(C,{m:()=>E});var i=n(60177),t=n(54438),c=n(68018),e=n(5598),p=n(15202),m=n(58003);const f=y=>({"d-none":y});function v(y,M){1&y&&t.nrm(0,"ds-loading")}let E=(()=>{class y{constructor(b){this.activeModal=b,this.selectedEvent=new t.bkB,this.loading=!0}selectObject(b){this.loading=!0,this.selectedEvent.emit(b)}closeCollectionModal(){this.activeModal.dismiss(!1)}theOnlySelectable(b){this.selectedEvent.emit(b)}searchComplete(){this.loading=!1}isLoading(){return!!this.loading}static{this.\u0275fac=function(P){return new(P||y)(t.rXU(m.Lw))}}static{this.\u0275cmp=t.VBU({type:y,selectors:[["ds-submission-import-external-collection"]],outputs:{selectedEvent:"selectedEvent"},standalone:!0,features:[t.aNF],decls:8,vars:8,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"selectionChange","searchComplete","ngClass","entityType"]],template:function(P,D){1&P&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return D.closeCollectionModal()}),t.k0s()(),t.j41(5,"div",2),t.DNE(6,v,1,0,"ds-loading"),t.j41(7,"ds-collection-dropdown",3),t.bIt("selectionChange",function(h){return D.selectObject(h)})("searchComplete",function(){return D.searchComplete()}),t.k0s()()()),2&P&&(t.R7$(2),t.SpI("",t.bMT(3,4,"dso-selector.select.collection.head")," "),t.R7$(4),t.vxM(D.isLoading()?6:-1),t.R7$(),t.Y8G("ngClass",t.eq3(6,f,D.isLoading()))("entityType",D.entityType))},dependencies:[i.YU,e.m,p.v,c.h,c.D9],styles:[".btn-close[_ngcontent-%COMP%]:focus{outline:none!important}"]})}}return y})()},69123:(B,C,n)=>{"use strict";n.d(C,{S:()=>i});var i=function(t){return t.Submission="SUBMISSION",t.Workflow="WORKFLOW",t}(i||{})},8734:(B,C,n)=>{"use strict";n.d(C,{Bo:()=>ye,CG:()=>E,Dy:()=>k,IE:()=>Z,Ob:()=>ee,SE:()=>te,Sm:()=>y,Vn:()=>c,Z5:()=>ie,Zi:()=>M,Zl:()=>j,_D:()=>he,dm:()=>v,f0:()=>I,h3:()=>x,hJ:()=>m,i6:()=>f,jc:()=>D,kq:()=>G,ky:()=>N,l5:()=>V,lE:()=>t,nt:()=>ce,nu:()=>z,oW:()=>h,pL:()=>K,sf:()=>$,sj:()=>O,t2:()=>b,tR:()=>L,ug:()=>P,v0:()=>Q,w7:()=>re,wM:()=>T,wT:()=>p,x9:()=>X});var i=n(6800);const t={INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/INIT_SUBMISSION_FORM"),RESET_SUBMISSION_FORM:(0,i.N)("dspace/submission/RESET_SUBMISSION_FORM"),CANCEL_SUBMISSION_FORM:(0,i.N)("dspace/submission/CANCEL_SUBMISSION_FORM"),COMPLETE_INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/COMPLETE_INIT_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS"),SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM"),SAVE_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_SUCCESS"),SAVE_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_SECTION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM"),SAVE_SUBMISSION_SECTION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_SUCCESS"),SAVE_SUBMISSION_SECTION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_ERROR"),CHANGE_SUBMISSION_COLLECTION:(0,i.N)("dspace/submission/CHANGE_SUBMISSION_COLLECTION"),SET_ACTIVE_SECTION:(0,i.N)("dspace/submission/SET_ACTIVE_SECTION"),INIT_SECTION:(0,i.N)("dspace/submission/INIT_SECTION"),ENABLE_SECTION:(0,i.N)("dspace/submission/ENABLE_SECTION"),DISABLE_SECTION:(0,i.N)("dspace/submission/DISABLE_SECTION"),SET_SECTION_FORM_ID:(0,i.N)("dspace/submission/SET_SECTION_FORM_ID"),SECTION_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_STATUS_CHANGE"),SECTION_LOADING_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_LOADING_STATUS_CHANGE"),UPDATE_SECTION_DATA:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA"),UPDATE_SECTION_DATA_SUCCESS:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA_SUCCESS"),SAVE_AND_DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/SAVE_AND_DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_SUCCESS"),DEPOSIT_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_ERROR"),DISCARD_SUBMISSION:(0,i.N)("dspace/submission/DISCARD_SUBMISSION"),DISCARD_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_SUCCESS"),DISCARD_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_ERROR"),CLEAN_DUPLICATE_DETECTION:(0,i.N)("dspace/submission/CLEAN_DUPLICATE_DETECTION"),NEW_FILE:(0,i.N)("dspace/submission/NEW_FILE"),EDIT_FILE_DATA:(0,i.N)("dspace/submission/EDIT_FILE_DATA"),EDIT_FILE_PRIMARY_BITSTREAM_DATA:(0,i.N)("dspace/submission/EDIT_FILE_PRIMARY_BITSTREAM_DATA"),DELETE_FILE:(0,i.N)("dspace/submission/DELETE_FILE"),ADD_SECTION_ERROR:(0,i.N)("dspace/submission/ADD_SECTION_ERROR"),DELETE_SECTION_ERROR:(0,i.N)("dspace/submission/DELETE_SECTION_ERROR"),REMOVE_SECTION_ERRORS:(0,i.N)("dspace/submission/REMOVE_SECTION_ERRORS")};class c{constructor(fe,ae,oe){this.type=t.ADD_SECTION_ERROR,this.payload={submissionId:fe,sectionId:ae,error:oe}}}class p{constructor(fe,ae,oe,J,ve,_e,Ce,qe,Re,nt,Ge){this.type=t.INIT_SECTION,this.payload={submissionId:fe,sectionId:ae,header:oe,config:J,mandatory:ve,scope:_e,sectionType:Ce,visibility:qe,enabled:Re,data:nt,errors:Ge}}}class m{constructor(fe,ae){this.type=t.ENABLE_SECTION,this.payload={submissionId:fe,sectionId:ae}}}class f{constructor(fe,ae){this.type=t.DISABLE_SECTION,this.payload={submissionId:fe,sectionId:ae}}}class v{constructor(fe,ae,oe,J,ve,_e){this.type=t.UPDATE_SECTION_DATA,this.payload={submissionId:fe,sectionId:ae,data:oe,errorsToShow:J,serverValidationErrors:ve,metadata:_e}}}class E{constructor(fe){this.type=t.CLEAN_DUPLICATE_DETECTION,this.payload={submissionId:fe}}}class y{constructor(){this.type=t.UPDATE_SECTION_DATA_SUCCESS}}class M{constructor(fe,ae){this.type=t.REMOVE_SECTION_ERRORS,this.payload={submissionId:fe,sectionId:ae}}}class b{constructor(fe,ae,oe){this.type=t.SET_SECTION_FORM_ID,this.payload={submissionId:fe,sectionId:ae,formId:oe}}}class P{constructor(fe){this.type=t.COMPLETE_INIT_SUBMISSION_FORM,this.payload={submissionId:fe}}}class D{constructor(fe,ae,oe,J,ve,_e,Ce){this.type=t.INIT_SUBMISSION_FORM,this.payload={collectionId:fe,submissionId:ae,selfUrl:oe,submissionDefinition:J,sections:ve,item:_e,errors:Ce}}}class I{constructor(fe){this.type=t.SAVE_FOR_LATER_SUBMISSION_FORM,this.payload={submissionId:fe}}}class h{constructor(fe,ae){this.type=t.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:fe,submissionObject:ae}}}class O{constructor(fe,ae=!1){this.type=t.SAVE_SUBMISSION_FORM,this.payload={submissionId:fe,isManual:ae}}}class L{constructor(fe,ae,oe,J){this.type=t.SAVE_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:fe,submissionObject:ae,showNotifications:oe,showErrors:J}}}class T{constructor(fe){this.type=t.SAVE_SUBMISSION_FORM_ERROR,this.payload={submissionId:fe}}}class x{constructor(fe,ae){this.type=t.SAVE_SUBMISSION_SECTION_FORM,this.payload={submissionId:fe,sectionId:ae}}}class N{constructor(fe,ae,oe){this.type=t.SAVE_SUBMISSION_SECTION_FORM_SUCCESS,this.payload={submissionId:fe,submissionObject:ae,notify:oe}}}class j{constructor(fe){this.type=t.SAVE_SUBMISSION_SECTION_FORM_ERROR,this.payload={submissionId:fe}}}class ${constructor(fe,ae,oe,J,ve,_e){this.type=t.RESET_SUBMISSION_FORM,this.payload={collectionId:fe,submissionId:ae,selfUrl:oe,sections:J,submissionDefinition:ve,item:_e}}}class k{constructor(){this.type=t.CANCEL_SUBMISSION_FORM}}class K{constructor(fe,ae){this.type=t.CHANGE_SUBMISSION_COLLECTION,this.payload={submissionId:fe,collectionId:ae}}}class z{constructor(fe){this.type=t.SAVE_AND_DEPOSIT_SUBMISSION,this.payload={submissionId:fe}}}class V{constructor(fe){this.type=t.DEPOSIT_SUBMISSION,this.payload={submissionId:fe}}}class G{constructor(fe){this.type=t.DEPOSIT_SUBMISSION_SUCCESS,this.payload={submissionId:fe}}}class X{constructor(fe){this.type=t.DEPOSIT_SUBMISSION_ERROR,this.payload={submissionId:fe}}}class Q{constructor(fe){this.type=t.DISCARD_SUBMISSION,this.payload={submissionId:fe}}}class ee{constructor(fe){this.type=t.DISCARD_SUBMISSION_SUCCESS,this.payload={submissionId:fe}}}class ie{constructor(fe){this.type=t.DISCARD_SUBMISSION_ERROR,this.payload={submissionId:fe}}}class te{constructor(fe,ae,oe){this.type=t.SECTION_STATUS_CHANGE,this.payload={submissionId:fe,sectionId:ae,status:oe}}}class he{constructor(fe,ae){this.type=t.SET_ACTIVE_SECTION,this.payload={submissionId:fe,sectionId:ae}}}class ye{constructor(fe,ae,oe,J){this.type=t.NEW_FILE,this.payload={submissionId:fe,sectionId:ae,fileId:oe,data:J}}}class re{constructor(fe,ae,oe){this.type=t.EDIT_FILE_PRIMARY_BITSTREAM_DATA,this.payload={submissionId:fe,sectionId:ae,fileId:oe}}}class ce{constructor(fe,ae,oe,J){this.type=t.EDIT_FILE_DATA,this.payload={submissionId:fe,sectionId:ae,fileId:oe,data:J}}}class Z{constructor(fe,ae,oe){this.type=t.DELETE_FILE,this.payload={submissionId:fe,sectionId:ae,fileId:oe}}}},67707:(B,C,n)=>{"use strict";n.d(C,{l:()=>i});var i=function(t){return t.Relationships="relationships",t.SubmissionForm="submission-form",t.Upload="upload",t.License="license",t.CcLicense="cclicense",t.AccessesCondition="accessCondition",t.SherpaPolicies="sherpaPolicy",t.Identifiers="identifiers",t.Collection="collection",t.CoarNotify="coarnotify",t.Duplicates="duplicates",t}(i||{})},12443:(B,C,n)=>{"use strict";n.d(C,{c:()=>Q});var i=n(1473),t=n(48376),c=n.n(t),e=n(5771),p=n.n(e),m=n(48125),f=n.n(m),v=n(84572),E=n(96354),y=n(23294),M=n(73028),b=n(5964),P=n(96697),D=n(33553),I=n(74242),h=n(61989),S=n(89777),O=n(59726),L=n(70338),T=n(9847),x=n(69123),N=n(8734),j=n(91261),$=n(30250),k=n(69289),K=n(67707),z=n(54438),V=n(53588),G=n(59640),X=n(68018);let Q=(()=>{class ee{constructor(te,he,ye,re,ce,Z){this.formService=te,this.notificationsService=he,this.scrollToService=ye,this.submissionService=re,this.store=ce,this.translate=Z}checkSectionErrors(te,he,ye,re,ce=[]){if((0,S.Im)(re))this.store.dispatch(new N.Zi(te,he)),this.store.dispatch(new O.Dp(ye));else if(!f()(re,ce)){const Z=[];re.forEach(ne=>{(0,k.A)(ne.path).forEach(ae=>{ae.fieldId&&(this.formService.addError(ye,ae.fieldId,ae.fieldIndex,ne.message),Z.push(ae.fieldId))})}),ce.forEach(ne=>{(0,k.A)(ne.path).forEach(ae=>{ae.fieldId&&(Z.includes(ae.fieldId)||this.formService.removeError(ye,ae.fieldId,ae.fieldIndex))})})}}dispatchRemoveSectionErrors(te,he){this.store.dispatch(new N.Zi(te,he))}dispatchSetSectionFormId(te,he,ye){this.store.dispatch(new N.t2(te,he,ye))}getSectionData(te,he,ye){return this.store.select((0,j.on)(te,he)).pipe((0,E.T)(re=>ye===K.l.SubmissionForm?(0,I.Z5)(re):re),(0,y.F)())}getShownSectionErrors(te,he,ye){let re;return re=ye!==K.l.SubmissionForm?this.getSectionErrors(te,he):this.getSectionState(te,he,ye).pipe((0,M.Z)(ce=>this.formService.getFormErrors(ce.formId).pipe((0,E.T)(Z=>{const ne=new D.S("sections",he),fe=Z.map(ae=>({path:ne.getPath(ae.fieldId.replace(/\_/g,".")).path,message:ae.message})).filter(ae=>-1===c()(ce.errorsToShow,{path:ae.path}));return[...ce.errorsToShow,...fe]})))),re}getSectionErrors(te,he){return this.store.select((0,j.D6)(te,he)).pipe((0,y.F)())}getSectionServerErrors(te,he){return this.store.select((0,j.aU)(te,he)).pipe((0,y.F)())}getSectionState(te,he,ye){return this.store.select((0,j.sR)(te,he)).pipe((0,b.p)(re=>(0,S.a4)(re)),(0,E.T)(re=>re),(0,E.T)(re=>(0,S.a4)(re.data)&&ye===K.l.SubmissionForm?Object.assign({},re,{data:(0,I.Z5)(re.data)}):re),(0,y.F)())}isSectionValid(te,he){return this.store.select((0,j.sR)(te,he)).pipe((0,b.p)(ye=>(0,S.a4)(ye)),(0,E.T)(ye=>ye.isValid),(0,y.F)())}isSectionActive(te,he){return this.submissionService.getActiveSectionId(te).pipe((0,E.T)(ye=>he===ye),(0,y.F)())}isSectionEnabled(te,he){return this.store.select((0,j.sR)(te,he)).pipe((0,b.p)(ye=>(0,S.a4)(ye)),(0,E.T)(ye=>ye.enabled),(0,y.F)())}isSectionReadOnly(te,he,ye){return this.store.select((0,j.sR)(te,he)).pipe((0,b.p)(re=>(0,S.a4)(re)),(0,E.T)(re=>!((0,S.Im)(ye)||(0,S.Im)(re.visibility)||(0,S.Im)(re.scope))&&"READONLY"===((ye.valueOf()===h.L.WorkspaceItem.valueOf()?x.S.Submission:x.S.Workflow).valueOf()===re.scope.valueOf()?re.visibility.main:re.visibility.other)),(0,y.F)())}isSectionAvailable(te,he){return this.store.select((0,j.sO)(te)).pipe((0,b.p)(ye=>(0,S.EA)(ye)),(0,E.T)(ye=>(0,S.EA)(ye.sections)&&(0,S.EA)(ye.sections[he])),(0,y.F)())}isSectionTypeAvailable(te,he){return this.store.select((0,j.sO)(te)).pipe((0,b.p)(ye=>(0,S.EA)(ye)),(0,E.T)(ye=>(0,S.EA)(ye.sections)&&(0,S.EA)(p()(ye.sections,{sectionType:he}))),(0,y.F)())}isSectionType(te,he,ye){return this.store.select((0,j.sO)(te)).pipe((0,b.p)(re=>(0,S.EA)(re)),(0,E.T)(re=>(0,S.EA)(re.sections)&&(0,S.EA)(re.sections[he])&&re.sections[he].sectionType===ye),(0,y.F)())}addSection(te,he){this.store.dispatch(new N.hJ(te,he)),this.scrollToService.scrollTo({target:he,offset:-70})}removeSection(te,he){this.store.dispatch(new N.i6(te,he))}updateSectionData(te,he,ye,re=[],ce=[],Z){if((0,S.hj)(ye)){const ne=this.isSectionAvailable(te,he),fe=this.isSectionEnabled(te,he);(0,v.z)(ne,fe).pipe((0,P.s)(1),(0,b.p)(([ae,oe])=>ae)).subscribe(([ae,oe])=>{this.store.dispatch(new N.dm(te,he,ye,re,ce,Z))})}}setSectionError(te,he,ye){this.store.dispatch(new N.Vn(te,he,ye))}setSectionStatus(te,he,ye){this.store.dispatch(new N.SE(te,he,ye))}computeSectionConfiguredMetadata(te){const he=[],ye="string"==typeof te?JSON.parse(te,i.zno):te;return ye.rows&&!(0,S.Im)(ye.rows)&&ye.rows.forEach(re=>{re.fields&&!(0,S.Im)(re.fields)&&re.fields.forEach(ce=>{ce.selectableMetadata&&!(0,S.Im)(ce.selectableMetadata)&&ce.selectableMetadata.forEach(Z=>{he.includes(Z.metadata)||he.push(Z.metadata)})})}),he}getIsInformational(te){return te===K.l.SherpaPolicies}static{this.\u0275fac=function(he){return new(he||ee)(z.KVO(L.u),z.KVO(T.I),z.KVO(V.WY),z.KVO($.E),z.KVO(G.il),z.KVO(X.c$))}}static{this.\u0275prov=z.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})()},52043:(B,C,n)=>{"use strict";n.d(C,{x:()=>i});var i=function(t){return t.HIDDEN="HIDDEN",t.READONLY="READONLY",t}(i||{})},91261:(B,C,n)=>{"use strict";n.d(C,{D6:()=>b,Uh:()=>v,aU:()=>P,hZ:()=>p,hi:()=>E,on:()=>M,pc:()=>e,sO:()=>m,sR:()=>y});var i=n(59640),t=n(89777),c=n(37098);function e(D,I,h){return(0,i.Mz)(D,S=>{if((0,t.a4)(S)&&(0,t.a4)(S[I]))return S[I][h]})}function p(D,I){return(0,i.Mz)(D,h=>{if((0,t.a4)(h)&&(0,t.a4)(h[I]))return h[I]})}function m(D){return e(c.O,"objects",D)}function v(D,I){return p(M(D,I),"files")}function E(D,I,h){return e(M(D,I),"files",h)}function y(D,I){return e(m(D),"sections",I)}function M(D,I){return p(y(D,I),"data")}function b(D,I){return p(y(D,I),"errorsToShow")}function P(D,I){return p(y(D,I),"serverValidationErrors")}},37098:(B,C,n)=>{"use strict";n.d(C,{u:()=>re,O:()=>ce});var i=n(59640),t=n(25622),c=n.n(t),e=n(5771),p=n.n(e),m=n(48125),f=n.n(m),v=n(63448),E=n.n(v),y=n(89777),M=n(8734);const b=Object.create({});function G(Z,ne){return Z||(ne?[...ne]:void 0)}function X(Z,ne,fe){return(0,y.a4)(Z[ne.payload.submissionId].sections[ne.payload.sectionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{sections:Object.assign({},Z[ne.payload.submissionId].sections,{[ne.payload.sectionId]:Object.assign({},Z[ne.payload.submissionId].sections[ne.payload.sectionId],{enabled:fe})})})}):Z}const re={objects:function P(Z=b,ne){switch(ne.type){case M.lE.COMPLETE_INIT_SUBMISSION_FORM:return function L(Z,ne){return(0,y.a4)(Z[ne.payload.submissionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{isLoading:!1})}):Z}(Z,ne);case M.lE.INIT_SUBMISSION_FORM:return function S(Z,ne){const fe=Object.assign({},Z);return fe[ne.payload.submissionId]={collection:ne.payload.collectionId,definition:ne.payload.submissionDefinition.name,selfUrl:ne.payload.selfUrl,activeSection:null,sections:Object.create(null),isLoading:!0,savePending:!1,depositPending:!1},fe}(Z,ne);case M.lE.RESET_SUBMISSION_FORM:return function O(Z,ne){return(0,y.a4)(Z[ne.payload.submissionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{sections:Object.create(null),isLoading:!0})}):Z}(Z,ne);case M.lE.CANCEL_SUBMISSION_FORM:return b;case M.lE.SAVE_SUBMISSION_FORM:case M.lE.SAVE_FOR_LATER_SUBMISSION_FORM:case M.lE.SAVE_AND_DEPOSIT_SUBMISSION:case M.lE.SAVE_SUBMISSION_SECTION_FORM:return function T(Z,ne){return(0,y.a4)(Z[ne.payload.submissionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{activeSection:Z[ne.payload.submissionId].activeSection,sections:Z[ne.payload.submissionId].sections,isLoading:Z[ne.payload.submissionId].isLoading,savePending:!0})}):Z}(Z,ne);case M.lE.SAVE_SUBMISSION_FORM_SUCCESS:case M.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS:case M.lE.SAVE_SUBMISSION_FORM_ERROR:case M.lE.SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:case M.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR:return function x(Z,ne){return(0,y.a4)(Z[ne.payload.submissionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{savePending:!1})}):Z}(Z,ne);case M.lE.CHANGE_SUBMISSION_COLLECTION:return function $(Z,ne){return Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{collection:ne.payload.collectionId})})}(Z,ne);case M.lE.DEPOSIT_SUBMISSION:return function N(Z,ne){return(0,y.a4)(Z[ne.payload.submissionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{savePending:!1,depositPending:!0})}):Z}(Z,ne);case M.lE.DEPOSIT_SUBMISSION_SUCCESS:return b;case M.lE.DEPOSIT_SUBMISSION_ERROR:return function j(Z,ne){return(0,y.a4)(Z[ne.payload.submissionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{depositPending:!1})}):Z}(Z,ne);case M.lE.DISCARD_SUBMISSION:return Z;case M.lE.DISCARD_SUBMISSION_SUCCESS:return b;case M.lE.DISCARD_SUBMISSION_ERROR:return Z;case M.lE.SET_ACTIVE_SECTION:return function k(Z,ne){return(0,y.a4)(Z[ne.payload.submissionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{activeSection:ne.payload.sectionId,sections:Z[ne.payload.submissionId].sections,isLoading:Z[ne.payload.submissionId].isLoading,savePending:Z[ne.payload.submissionId].savePending})}):Z}(Z,ne);case M.lE.INIT_SECTION:return function K(Z,ne){return(0,y.a4)(Z[ne.payload.submissionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{sections:Object.assign({},Z[ne.payload.submissionId].sections,{[ne.payload.sectionId]:{header:ne.payload.header,config:ne.payload.config,mandatory:ne.payload.mandatory,scope:ne.payload.scope,sectionType:ne.payload.sectionType,visibility:ne.payload.visibility,collapsed:!1,enabled:ne.payload.enabled,data:ne.payload.data,errorsToShow:[],serverValidationErrors:ne.payload.errors||[],isLoading:!1,isValid:(0,y.Im)(ne.payload.errors)}})})}):Z}(Z,ne);case M.lE.SET_SECTION_FORM_ID:return function z(Z,ne){return(0,y.a4)(Z[ne.payload.submissionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{sections:Object.assign({},Z[ne.payload.submissionId].sections,{[ne.payload.sectionId]:{...Z[ne.payload.submissionId].sections[ne.payload.sectionId],formId:ne.payload.formId}})})}):Z}(Z,ne);case M.lE.ENABLE_SECTION:return X(Z,ne,!0);case M.lE.UPDATE_SECTION_DATA:return function V(Z,ne){return(0,y.hj)(Z[ne.payload.submissionId])&&(0,y.hj)(Z[ne.payload.submissionId].sections[ne.payload.sectionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{sections:Object.assign({},Z[ne.payload.submissionId].sections,{[ne.payload.sectionId]:Object.assign({},Z[ne.payload.submissionId].sections[ne.payload.sectionId],{enabled:!0,data:ne.payload.data,errorsToShow:ne.payload.errorsToShow,serverValidationErrors:ne.payload.serverValidationErrors,metadata:G(ne.payload.metadata,Z[ne.payload.submissionId].sections[ne.payload.sectionId].metadata)})})})}):Z}(Z,ne);case M.lE.DISABLE_SECTION:return X(Z,ne,!1);case M.lE.SECTION_STATUS_CHANGE:return function Q(Z,ne){return(0,y.hj)(Z[ne.payload.submissionId])&&(0,y.a4)(Z[ne.payload.submissionId].sections[ne.payload.sectionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{sections:Object.assign({},Z[ne.payload.submissionId].sections,Object.assign({},{[ne.payload.sectionId]:Object.assign({},Z[ne.payload.submissionId].sections[ne.payload.sectionId],{isValid:ne.payload.status})}))})}):Z}(Z,ne);case M.lE.NEW_FILE:return function ee(Z,ne){const fe=Z[ne.payload.submissionId].sections[ne.payload.sectionId].data;let ae;return(0,y.b0)(fe.files)?ae={files:[ne.payload.data]}:(ae=fe,ae.files.push(ne.payload.data)),Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{sections:Object.assign({},Z[ne.payload.submissionId].sections,{[ne.payload.sectionId]:Object.assign({},Z[ne.payload.submissionId].sections[ne.payload.sectionId],{enabled:!0,data:ae})})})})}(Z,ne);case M.lE.EDIT_FILE_PRIMARY_BITSTREAM_DATA:return function ie(Z,ne){const fe=Z[ne.payload.submissionId].sections[ne.payload.sectionId].data,{submissionId:ae,sectionId:oe,fileId:J}=ne.payload,ve=p()(fe.files,{uuid:J});if((0,y.kZ)(ve))return Z;const _e=Z[ae];return{...Z,[ae]:{..._e,sections:{..._e.sections,[oe]:{..._e.sections[oe],data:{..._e.sections[oe].data,primary:J}}},isLoading:_e.isLoading,savePending:_e.savePending}}}(Z,ne);case M.lE.EDIT_FILE_DATA:return function te(Z,ne){const fe=Z[ne.payload.submissionId].sections[ne.payload.sectionId].data;if((0,y.a4)(fe.files)){const ae=p()(fe.files,{uuid:ne.payload.fileId});if((0,y.Pe)(ae)){const oe=Array.from(fe.files);return oe[ae]=ne.payload.data,Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{activeSection:Z[ne.payload.submissionId].activeSection,sections:Object.assign({},Z[ne.payload.submissionId].sections,Object.assign({},{[ne.payload.sectionId]:Object.assign({},Z[ne.payload.submissionId].sections[ne.payload.sectionId],{data:Object.assign({},Z[ne.payload.submissionId].sections[ne.payload.sectionId].data,{files:oe})})})),isLoading:Z[ne.payload.submissionId].isLoading,savePending:Z[ne.payload.submissionId].savePending})})}}return Z}(Z,ne);case M.lE.DELETE_FILE:return function he(Z,ne){const fe=Z[ne.payload.submissionId].sections[ne.payload.sectionId].data;if((0,y.a4)(fe.files)){const ae=p()(fe.files,{uuid:ne.payload.fileId});if((0,y.Pe)(ae)){const oe=Array.from(fe.files);return oe.splice(ae,1),Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{sections:Object.assign({},Z[ne.payload.submissionId].sections,Object.assign({},{[ne.payload.sectionId]:Object.assign({},Z[ne.payload.submissionId].sections[ne.payload.sectionId],{data:Object.assign({},Z[ne.payload.submissionId].sections[ne.payload.sectionId].data,{files:oe})})}))})})}}return Z}(Z,ne);case M.lE.ADD_SECTION_ERROR:return((Z,ne)=>{const{submissionId:fe,sectionId:ae,error:oe}=ne.payload;if((0,y.a4)(Z[fe].sections[ae])){const J=E()(Z[fe].sections[ae].errorsToShow.concat(oe),f());return Object.assign({},Z,{[fe]:Object.assign({},Z[fe],{activeSection:Z[ne.payload.submissionId].activeSection,sections:Object.assign({},Z[fe].sections,{[ae]:Object.assign({},Z[ne.payload.submissionId].sections[ne.payload.sectionId],{errorsToShow:J})})})})}return Z})(Z,ne);case M.lE.DELETE_SECTION_ERROR:return((Z,ne)=>{const{submissionId:fe,sectionId:ae,errors:oe}=ne.payload;if((0,y.a4)(Z[fe].sections[ae])){let J;return J=Array.isArray(oe)?c()(oe,oe,f()):Z[fe].sections[ae].errorsToShow.filter(ve=>ve.path!==oe.path||!f()(ve,oe)),Object.assign({},Z,{[fe]:Object.assign({},Z[fe],{sections:Object.assign({},Z[fe].sections,{[ae]:Object.assign({},Z[fe].sections[ae],{errorsToShow:J})})})})}return Z})(Z,ne);case M.lE.REMOVE_SECTION_ERRORS:return function h(Z,ne){return(0,y.hj)(Z[ne.payload.submissionId])&&(0,y.hj)(Z[ne.payload.submissionId].sections[ne.payload.sectionId])?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{sections:Object.assign({},Z[ne.payload.submissionId].sections,{[ne.payload.sectionId]:Object.assign({},Z[ne.payload.submissionId].sections[ne.payload.sectionId],{errorsToShow:[]})})})}):Z}(Z,ne);case M.lE.CLEAN_DUPLICATE_DETECTION:return function ye(Z,ne){return(0,y.hj)(Z[ne.payload.submissionId])&&Z[ne.payload.submissionId].sections.hasOwnProperty("duplicates")?Object.assign({},Z,{[ne.payload.submissionId]:Object.assign({},Z[ne.payload.submissionId],{sections:Object.assign({},Z[ne.payload.submissionId].sections,{duplicates:Object.assign({},Z[ne.payload.submissionId].sections.duplicates,{enabled:!1,data:{potentialDuplicates:[]}})})})}):Z}(Z,ne);default:return Z}}},ce=(0,i.UX)("submission")},30250:(B,C,n)=>{"use strict";n.d(C,{E:()=>te});var i=n(21626),t=n(59640),c=n(7673),e=n(41584),p=n(96354),m=n(99437),f=n(47677),v=n(5964),E=n(99172),y=n(23294),M=n(96697),b=n(88141),P=n(70274),D=n(78544),I=n(76456),h=n(3601),S=n(87507),O=n(94314),L=n(28690),T=n(55121),x=n(61989),N=n(89777),j=n(9847),$=n(34180),k=n(69123),K=n(8734),z=n(91261),V=n(37098),G=n(54438),X=n(7901),Q=n(68018);let te=(()=>{class he{constructor(re,ce,Z,ne,fe,ae,oe,J,ve){this.notificationsService=re,this.restService=ce,this.router=Z,this.routeService=ne,this.store=fe,this.translate=ae,this.searchService=oe,this.requestService=J,this.jsonPatchOperationService=ve,this.workspaceLinkPath="workspaceitems",this.workflowLinkPath="workflowitems"}changeSubmissionCollection(re,ce){this.store.dispatch(new K.pL(re,ce))}getSubmissionCollectionId(re){return this.store.pipe((0,t.Lt)(function ie(he){return(0,t.Mz)(function ee(he){return(0,t.Mz)(V.O,ye=>ye.objects[he])}(he),ye=>ye?.collection)}(re)))}createSubmission(re){return this.restService.postToEndpoint(this.workspaceLinkPath,{},null,null,re).pipe((0,p.T)(ce=>ce[0]),(0,m.W)(()=>(0,c.of)({})))}createSubmissionFromExternalSource(re,ce){const Z=Object.create({});let ne=new i.Lr;return ne=ne.append("Content-Type","text/uri-list"),Z.headers=ne,this.restService.postToEndpoint(this.workspaceLinkPath,re,null,Z,ce)}depositSubmission(re){const ce=Object.create({});let Z=new i.Lr;return Z=Z.append("Content-Type","text/uri-list"),ce.headers=Z,this.restService.postToEndpoint(this.workflowLinkPath,re,null,ce)}discardSubmission(re){return this.restService.deleteById(re)}dispatchInit(re,ce,Z,ne,fe,ae,oe){this.store.dispatch(new K.jc(re,ce,Z,ne,fe,ae,oe))}dispatchDeposit(re){this.store.dispatch(new K.nu(re))}dispatchDiscard(re){this.store.dispatch(new K.v0(re))}dispatchSave(re,ce){this.getSubmissionSaveProcessingStatus(re).pipe((0,f.I)(Z=>!Z)).subscribe(()=>{this.store.dispatch(new K.sj(re,ce))})}dispatchSaveForLater(re){this.store.dispatch(new K.f0(re))}dispatchSaveSection(re,ce){this.store.dispatch(new K.h3(re,ce))}getActiveSectionId(re){return this.getSubmissionObject(re).pipe((0,p.T)(ce=>ce.activeSection))}getSubmissionObject(re){return this.store.select((0,z.sO)(re)).pipe((0,v.p)(ce=>(0,N.EA)(ce)))}getSubmissionSections(re){return this.getSubmissionObject(re).pipe((0,f.I)(ce=>(0,N.EA)(ce.sections)&&!ce.isLoading),(0,p.T)(ce=>ce.sections),(0,p.T)(ce=>{const Z=[];return Object.keys(ce).filter(ne=>!this.isSectionHidden(ce[ne])).forEach(ne=>{const fe=Object.create({});fe.config=ce[ne].config,fe.mandatory=ce[ne].mandatory,fe.data=ce[ne].data,fe.errorsToShow=ce[ne].errorsToShow,fe.serverValidationErrors=ce[ne].serverValidationErrors,fe.header=ce[ne].header,fe.id=ne,fe.sectionType=ce[ne].sectionType,Z.push(fe)}),Z}),(0,E.Z)([]),(0,y.F)())}getDisabledSectionsList(re){return this.getSubmissionObject(re).pipe((0,v.p)(ce=>(0,N.EA)(ce.sections)&&!ce.isLoading),(0,p.T)(ce=>ce.sections),(0,p.T)(ce=>{const Z=[];return Object.keys(ce).filter(ne=>!this.isSectionHidden(ce[ne])).filter(ne=>!ce[ne].enabled).forEach(ne=>{const fe=Object.create({});fe.header=ce[ne].header,fe.id=ne,Z.push(fe)}),Z}),(0,E.Z)([]),(0,y.F)())}getSubmissionObjectLinkName(){const re=this.router.routerState.snapshot.url;return re.startsWith("/workspaceitems")||re.startsWith("/submit")?this.workspaceLinkPath:re.startsWith("/workflowitems")?this.workflowLinkPath:"edititems"}getSubmissionScope(){let re;switch(this.getSubmissionObjectLinkName()){case this.workspaceLinkPath:re=x.L.WorkspaceItem;break;case this.workflowLinkPath:re=x.L.WorkflowItem}return re}getSubmissionStatus(re){return this.store.select(V.O).pipe((0,p.T)(ce=>ce.objects[re]),(0,v.p)(ce=>(0,N.EA)(ce)&&(0,N.EA)(ce.sections)),(0,p.T)(ce=>ce.sections),(0,p.T)(ce=>{const Z=[];return(0,N.EA)(ce)&&Object.keys(ce).filter(ne=>ce.hasOwnProperty(ne)).filter(ne=>!this.isSectionHidden(ce[ne])).filter(ne=>ce[ne].enabled).filter(ne=>!1===ce[ne].isValid).forEach(ne=>{Z.push(ce[ne].isValid)}),!(0,N.Im)(ce)&&(0,N.Im)(Z)}),(0,y.F)(),(0,E.Z)(!1))}getSubmissionSaveProcessingStatus(re){return this.getSubmissionObject(re).pipe((0,p.T)(ce=>ce.savePending),(0,y.F)(),(0,E.Z)(!1))}getSubmissionDepositProcessingStatus(re){return this.getSubmissionObject(re).pipe((0,p.T)(ce=>ce.depositPending),(0,y.F)(),(0,E.Z)(!1))}hasUnsavedModification(){return this.jsonPatchOperationService.hasPendingOperations("sections")}isSectionHidden(re){const ce=this.getSubmissionScope();return!((0,N.Im)(ce)||(0,N.Im)(re.visibility)||(0,N.Im)(re.scope))&&"HIDDEN"===((ce.valueOf()===x.L.WorkspaceItem.valueOf()?k.S.Submission:k.S.Workflow).valueOf()===re.scope.valueOf()?re.visibility.main:re.visibility.other)}isSubmissionLoading(re){return this.getSubmissionObject(re).pipe((0,p.T)(ce=>ce.isLoading),(0,y.F)())}notifyNewSection(re,ce,Z){const ne=this.translate.instant("submission.sections.general.metadata-extracted-new-section",{sectionId:ce});this.notificationsService.info(null,ne,null,!0)}redirectToMyDSpace(){this.searchService.getEndpoint().pipe((0,M.s)(1),(0,b.M)(re=>this.requestService.removeByHrefSubstring(re)),(0,P.H)(()=>this.routeService.getPreviousUrl().pipe((0,M.s)(1),(0,b.M)(re=>{(0,N.Im)(re)||!re.startsWith("/mydspace")?this.router.navigate(["/mydspace"]):this.router.navigateByUrl(re)})))).subscribe()}resetAllSubmissionObjects(){this.store.dispatch(new K.Dy)}resetSubmissionObject(re,ce,Z,ne,fe,ae){this.store.dispatch(new K.sf(re,ce,Z,fe,ne,ae))}retrieveSubmission(re){return this.restService.getDataById(this.getSubmissionObjectLinkName(),re).pipe((0,f.I)(ce=>(0,N.EA)(ce)),(0,p.T)(ce=>(0,$.SP)(ce[0])),(0,m.W)(ce=>{if(ce instanceof I._p)return(0,$.PM)(ce.errorMessage,ce.statusCode)}))}setActiveSection(re,ce){this.store.dispatch(new K._D(re,ce))}startAutoSave(re){if(this.stopAutoSave(),0===D.c.submission.autosave.timer)return;const ce=D.c.submission.autosave.timer;this.timer$=(0,e.O)(ce,ce),this.autoSaveSub=this.timer$.subscribe(()=>this.store.dispatch(new K.sj(re)))}stopAutoSave(){(0,N.a4)(this.autoSaveSub)&&(this.autoSaveSub.unsubscribe(),this.autoSaveSub=null)}static{this.\u0275fac=function(ce){return new(ce||he)(G.KVO(j.I),G.KVO(T.O),G.KVO(X.Ix),G.KVO(S.v$),G.KVO(t.il),G.KVO(Q.c$),G.KVO(O.S),G.KVO(h.B),G.KVO(L.U))}}static{this.\u0275prov=G.jDH({token:he,factory:he.\u0275fac})}}return he})()},69289:(B,C,n)=>{"use strict";n.d(C,{A:()=>p});var i=n(89777);const t=/([^\/]+)/g,c=/\/sections\/(.*)/,p=m=>("string"==typeof m?[m]:m).map(v=>v.match(t)&&v.match(t).length>2?{sectionId:v.match(t)[1],fieldId:v.match(t)[2],fieldIndex:(0,i.a4)(v.match(t)[3])?+v.match(t)[3]:0,originalPath:v}:{sectionId:v.match(c)[1],originalPath:v})},676:(B,C,n)=>{"use strict";n.d(C,{A:()=>c});var i=n(69289);const c=(e=[])=>{const p=Object.create({});return e.forEach(m=>{(0,i.A)(m.paths).forEach(v=>{const E={path:v.originalPath,message:m.message};p[v.sectionId]||(p[v.sectionId]=[]),p[v.sectionId].push(E)})}),p}},93007:(B,C,n)=>{"use strict";n.d(C,{C2:()=>t,jV:()=>e});var i=n(5127);const t="suggestions";function e(p){return new i.t(function c(){return`/${t}`}(),p).toString()}},70997:(B,C,n)=>{"use strict";n.d(C,{E:()=>$});var i=n(60177),t=n(54438),c=n(68018),e=n(56106),m=n(84412),f=n(40605),v=n(983),E=n(96354),y=n(5964),M=n(25558),b=n(35659),P=n(4093),D=n(89777),I=n(9847);const h=k=>({days:k}),S=k=>({hours:k}),O=k=>({minutes:k});function L(k,K){1&k&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&k&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"system-wide-alert-banner.countdown.prefix")," "))}function T(k,K){if(1&k&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&k){const z=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.days",t.eq3(6,h,t.bMT(2,1,z.countDownDays)))," ")}}function x(k,K){if(1&k&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&k){const z=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.hours",t.eq3(6,S,t.bMT(2,1,z.countDownHours)))," ")}}function N(k,K){if(1&k&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&k){const z=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.minutes",t.eq3(6,O,t.bMT(2,1,z.countDownMinutes)))," ")}}function j(k,K){if(1&k&&(t.j41(0,"div")(1,"div",0)(2,"div",1)(3,"span",2),t.DNE(4,L,3,3,"span"),t.nI1(5,"async"),t.nI1(6,"async"),t.nI1(7,"async"),t.DNE(8,T,4,8,"span"),t.nI1(9,"async"),t.DNE(10,x,4,8,"span"),t.nI1(11,"async"),t.nI1(12,"async"),t.DNE(13,N,4,8,"span"),t.nI1(14,"async"),t.nI1(15,"async"),t.nI1(16,"async"),t.k0s(),t.nrm(17,"span",3),t.nI1(18,"async"),t.k0s()()()),2&k){let z;const V=t.XpG();t.R7$(4),t.vxM(t.bMT(5,5,V.countDownDays)>0||t.bMT(6,7,V.countDownHours)>0||t.bMT(7,9,V.countDownMinutes)>0?4:-1),t.R7$(4),t.vxM(t.bMT(9,11,V.countDownDays)>0?8:-1),t.R7$(2),t.vxM(t.bMT(11,13,V.countDownDays)>0||t.bMT(12,15,V.countDownHours)>0?10:-1),t.R7$(3),t.vxM(t.bMT(14,17,V.countDownDays)>0||t.bMT(15,19,V.countDownHours)>0||t.bMT(16,21,V.countDownMinutes)>0?13:-1),t.R7$(4),t.Y8G("innerHTML",null==(z=t.bMT(18,23,V.systemWideAlert$))?null:z.message,t.npT)}}let $=(()=>{class k{constructor(z,V,G){this.platformId=z,this.systemWideAlertDataService=V,this.notificationsService=G,this.systemWideAlert$=new m.t(void 0),this.countDownMinutes=new m.t(0),this.countDownHours=new m.t(0),this.countDownDays=new m.t(0),this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.systemWideAlertDataService.searchBy("active").pipe((0,P.Hz)(),(0,E.T)(z=>z.page),(0,y.p)(z=>(0,D.hj)(z)),(0,E.T)(z=>z[0])).subscribe(z=>{this.systemWideAlert$.next(z)})),this.subscriptions.push(this.systemWideAlert$.pipe((0,M.n)(z=>{if((0,D.a4)(z)&&(0,D.a4)(z.countdownTo)){const G=(0,e.zonedTimeToUtc)(z.countdownTo,"UTC").getTime()-(new Date).getTime();if(G>0)return this.allocateTimeUnits(G),(0,i.UE)(this.platformId)?(0,f.Y)(1e3):v.w}return this.countDownDays.next(0),this.countDownHours.next(0),this.countDownMinutes.next(0),v.w})).subscribe(()=>{this.setTimeDifference(this.systemWideAlert$.getValue().countdownTo)}))}setTimeDifference(z){const G=(0,e.zonedTimeToUtc)(z,"UTC").getTime()-(new Date).getTime();this.allocateTimeUnits(G)}allocateTimeUnits(z){const V=Math.floor(z/6e4%60),G=Math.floor(z/36e5%24),X=Math.floor(z/864e5);this.countDownMinutes.next(V),this.countDownHours.next(G),this.countDownDays.next(X)}ngOnDestroy(){this.subscriptions.forEach(z=>{(0,D.a4)(z)&&z.unsubscribe()})}static{this.\u0275fac=function(V){return new(V||k)(t.rXU(t.Agw),t.rXU(b.SystemWideAlertDataService),t.rXU(I.I))}}static{this.\u0275cmp=t.VBU({type:k,selectors:[["ds-system-wide-alert-banner"]],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[1,"rounded-0","alert","alert-warning","w100","m-0","px-1"],[1,"container"],[1,"fw-bold"],[3,"innerHTML"]],template:function(V,G){if(1&V&&(t.DNE(0,j,19,25,"div"),t.nI1(1,"async")),2&V){let X;t.vxM(null!=(X=t.bMT(1,1,G.systemWideAlert$))&&X.active?0:-1)}},dependencies:[i.Jj,c.h,c.D9]})}}return k})()},17942:(B,C,n)=>{"use strict";n.d(C,{$:()=>f});var i=n(31635),t=n(74850),c=n(72153),e=n(44043),p=n(94152),m=n(67716);let f=class{static{this.type=m.B}};(0,i.Cg)([p.aK,t.autoserialize,(0,i.Sn)("design:type",e.v)],f.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"alertId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"message",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"countdownTo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"active",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([c.gV],f)},67716:(B,C,n)=>{"use strict";n.d(C,{B:()=>t});const t=new(n(44043).v)("systemwidealert")},49170:(B,C,n)=>{"use strict";n.d(C,{T:()=>m});var i=n(29710),c=(n(99524),n(54438));const e=["*"];function p(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["thumbnail","defaultImage","alt","placeholder","limitWidth"]}getComponentName(){return"ThumbnailComponent"}importThemedComponent(E){return n(572)(`./${E}/app/thumbnail/thumbnail.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,99524))}static{this.\u0275fac=(()=>{let E;return function(M){return(E||(E=c.xGo(f)))(M||f)}})()}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[c.Vt3,c.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,M){1&y&&(c.NAR(),c.DNE(0,p,0,0,"ng-template",null,0,c.C5r),c.j41(2,"div",null,1),c.SdG(4),c.k0s())},encapsulation:2})}}return f})()},99524:(B,C,n)=>{"use strict";n.r(C),n.d(C,{ThumbnailComponent:()=>O});var i=n(60177),t=n(54438),c=n(68018),e=n(7673),p=n(25558),m=n(94196),f=n(11873),v=n(6170),E=n(25788),y=n(21832),M=n(76461),b=n(89777),P=n(15202),D=n(40444);function I(L,T){1&L&&(t.j41(0,"div",1)(1,"div",3)(2,"div",4),t.nrm(3,"ds-loading",5),t.k0s()()()),2&L&&(t.R7$(3),t.Y8G("spinner",!0))}function h(L,T){if(1&L){const x=t.RV6();t.j41(0,"img",6),t.nI1(1,"dsSafeUrl"),t.nI1(2,"translate"),t.bIt("error",function(){t.eBV(x);const j=t.XpG();return t.Njj(j.errorHandler())})("load",function(){t.eBV(x);const j=t.XpG();return t.Njj(j.successHandler())}),t.k0s()}if(2&L){const x=t.XpG();t.AVh("d-none",x.isLoading()),t.Y8G("src",t.bMT(1,4,x.src()),t.B4B)("alt",t.bMT(2,6,x.alt))}}function S(L,T){if(1&L&&(t.j41(0,"div",1)(1,"div",3)(2,"div",7),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&L){const x=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,1,x.placeholder)," ")}}let O=(()=>{class L{constructor(x,N,j,$){this.platformID=x,this.auth=N,this.authorizationService=j,this.fileService=$,this.defaultImage=null,this.src=(0,t.vPA)(void 0),this.retriedWithToken=!1,this.alt="thumbnail.default.alt",this.placeholder="thumbnail.default.placeholder",this.limitWidth=!0,this.isLoading=(0,t.vPA)(!0)}ngOnChanges(x){if((0,i.UE)(this.platformID)){if((0,b.Tn)(this.thumbnail))return void this.setSrc(this.defaultImage);const N=this.contentHref;(0,b.a4)(N)?this.setSrc(N):this.setSrc(this.defaultImage)}}get bitstream(){return this.thumbnail instanceof y._?this.thumbnail:this.thumbnail instanceof E.j?this.thumbnail.payload:void 0}get contentHref(){return this.thumbnail instanceof y._?this.thumbnail?._links?.content?.href:this.thumbnail instanceof E.j?this.thumbnail?.payload?._links?.content?.href:void 0}errorHandler(){const x=this.src(),N=this.bitstream,j=N?._links?.content?.href;!this.retriedWithToken&&(0,b.a4)(j)&&x===j?(this.retriedWithToken=!0,this.auth.isAuthenticated().pipe((0,p.n)($=>$?this.authorizationService.isAuthorized(v._.CanDownload,N.self):(0,e.of)(!1)),(0,p.n)($=>$?this.fileService.retrieveFileDownloadLink(j):(0,e.of)(null))).subscribe($=>{(0,b.a4)($)?this.setSrc($):this.setSrc(this.defaultImage)})):this.setSrc(x!==this.defaultImage?this.defaultImage:null)}setSrc(x){this.src()!==x&&(null!==x&&!1===this.isLoading()&&this.isLoading.set(!0),this.src.set(x),null===x&&!0===this.isLoading()&&this.isLoading.set(!1))}successHandler(){this.isLoading.set(!1)}static{this.\u0275fac=function(N){return new(N||L)(t.rXU(t.Agw),t.rXU(m.uR),t.rXU(f.AuthorizationDataService),t.rXU(M.E))}}static{this.\u0275cmp=t.VBU({type:L,selectors:[["ds-base-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[t.OA$,t.aNF],decls:4,vars:5,consts:[[1,"thumbnail"],[1,"thumbnail-content","outer"],[1,"thumbnail-content","img-fluid",3,"d-none","src","alt"],[1,"inner"],[1,"centered"],[3,"spinner"],[1,"thumbnail-content","img-fluid",3,"error","load","src","alt"],[1,"thumbnail-placeholder","centered"]],template:function(N,j){1&N&&(t.j41(0,"div",0),t.DNE(1,I,4,1,"div",1)(2,h,3,8,"img",2)(3,S,5,3,"div",1),t.k0s()),2&N&&(t.AVh("limit-width",j.limitWidth),t.R7$(),t.vxM(j.isLoading()?1:-1),t.R7$(),t.vxM(null!==j.src()?2:-1),t.R7$(),t.vxM(null===j.src()&&!1===j.isLoading()?3:-1))},dependencies:[D.d,P.v,c.D9],styles:['.limit-width[_ngcontent-%COMP%]{max-width:var(--ds-thumbnail-max-width)}img[_ngcontent-%COMP%]{max-width:100%}.outer[_ngcontent-%COMP%]{position:relative}.outer[_ngcontent-%COMP%]:before{display:block;content:"";width:100%;padding-top:141.4285714286%}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%]{position:absolute;inset:0}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .thumbnail-placeholder[_ngcontent-%COMP%]{background:var(--ds-thumbnail-placeholder-background);border:var(--ds-thumbnail-placeholder-border);color:var(--ds-thumbnail-placeholder-color);font-weight:700}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .centered[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}']})}}return L})()},68174:(B,C,n)=>{"use strict";n.d(C,{$:()=>I});var i=n(84572),t=n(96354),c=n(25558),e=n(96697),p=n(3601),m=n(87507),f=n(4093),v=n(80189),E=n(89777),y=n(9847),M=n(54438),b=n(7901),P=n(68018),D=n(60177);let I=(()=>{class h{constructor(O,L,T,x,N,j,$,k){this.route=O,this.workflowItemService=L,this.router=T,this.routeService=x,this.notificationsService=N,this.translationService=j,this.requestService=$,this.location=k}ngOnInit(){this.type=this.getType(),this.wfi$=this.route.data.pipe((0,t.T)(O=>O.wfi),(0,f.Bo)()),this.item$=this.wfi$.pipe((0,c.n)(O=>O.item.pipe((0,f.v7)(),(0,f.Bo)()))),this.previousQueryParameters=this.location.getState()?.previousQueryParams}performAction(){(0,i.z)([this.wfi$,this.requestService.removeByHrefSubstring("/discover")]).pipe((0,e.s)(1),(0,c.n)(([O])=>this.sendRequest(O.id))).subscribe(O=>{if(O){const L=this.translationService.get("workflow-item."+this.type+".notification.success.title"),T=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(L,T)}else{const L=this.translationService.get("workflow-item."+this.type+".notification.error.title"),T=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(L,T)}this.previousPage()})}previousPage(){this.routeService.getPreviousUrl().pipe((0,e.s)(1)).subscribe(O=>{let L={};if((0,E.Im)(O)&&(O="/mydspace",L=this.previousQueryParameters),O.split("?").length>1)for(const T of O.split("?")[1].split("&"))L[T.split("=")[0]]=decodeURIComponent(T.split("=")[1]);this.router.navigate([O.split("?")[0]],{queryParams:L})})}static{this.\u0275fac=function(L){return new(L||h)(M.rXU(b.nX),M.rXU(v.WorkflowItemDataService),M.rXU(b.Ix),M.rXU(m.v$),M.rXU(y.I),M.rXU(P.c$),M.rXU(p.B),M.rXU(D.aZ))}}static{this.\u0275dir=M.FsC({type:h,selectors:[["ds-workflowitem-action-page"]],inputs:{type:"type"},standalone:!0})}}return h})()},33063:(B,C,n)=>{"use strict";n.d(C,{BD:()=>m,BY:()=>E,HJ:()=>v,RS:()=>I,Rd:()=>M,Rk:()=>f,UM:()=>b,Uf:()=>y,XH:()=>p,YN:()=>P,b1:()=>D});var i=n(15343),t=n(5127);function p(O){return new t.t((0,i.Q)(),O,P).toString()}function m(O){return new t.t((0,i.Q)(),O,b).toString()}function f(O){return new t.t((0,i.Q)(),O,D).toString()}function v(O){return new t.t((0,i.Q)(),O,I).toString()}function E(O){return new t.t((0,i.cp)(),O,h).toString()}function y(O){return new t.t((0,i.cp)(),O,S).toString()}const M="edit",b="delete",P="view",D="sendback",I="advanced",h="delete",S="edit"},79096:(B,C,n)=>{"use strict";n.d(C,{Dr:()=>c,l9:()=>e,vQ:()=>t});var i=n(54438);const t=new i.nKC("APP_CONFIG"),c=(0,i.zw6)("APP_CONFIG_STATE"),e=new i.nKC("APP_DATA_SERVICES_MAP")},72001:(B,C,n)=>{"use strict";n.d(C,{$k:()=>m,Nv:()=>v});var i=n(58813),c=n(89777),e=n(93620),p=n(78544);const m=(E,y)=>{f(E,y),console.log("Environment extended with app config")},f=(E,y)=>{Object.assign(E,(0,i.all)([E,y],{arrayMerge:(b,P,D)=>P}))},v=()=>p.c.themes.find(E=>(0,c.Tn)(E.regex)&&(0,c.Tn)(E.handle)&&(0,c.Tn)(E.uuid))??{name:e.Q}},78544:(B,C,n)=>{"use strict";n.d(C,{c:()=>i});const i={production:!0,ssr:{enabled:!0,enablePerformanceProfiler:!1,inlineCriticalCss:!1,transferState:!0,replaceRestUrl:!0,excludePathPatterns:[{pattern:"^/communities/[a-f0-9-]{36}/browse(/.*)?$",flag:"i"},{pattern:"^/collections/[a-f0-9-]{36}/browse(/.*)?$",flag:"i"},{pattern:"^/browse/"},{pattern:"^/search"},{pattern:"^/community-list$"},{pattern:"^/statistics/?"},{pattern:"^/admin/"},{pattern:"^/processes/?"},{pattern:"^/notifications/"},{pattern:"^/access-control/"},{pattern:"^/health$"}],enableSearchComponent:!1,enableBrowseComponent:!1}}},95532:(B,C,n)=>{"use strict";n.d(C,{C:()=>c,S:()=>t});var i=n(54438);const t=new i.nKC("REQUEST"),c=new i.nKC("RESPONSE")},14758:(B,C,n)=>{"use strict";n(96935),n(52165),n(82374);var e=n(54438),p=n(345),m=n(74523),f=n(60177),v=n(7901),E=n(59640),y=n(84412),M=n(23294),b=n(35335),P=n(53993),D=n(96697),I=n(78544),h=n(94196),S=n(12321),O=n(19252),L=n(12238),T=n(29710),x=n(47874);const N=["*"];function j(d,_){}let $=(()=>{class d extends T.J{constructor(){super(...arguments),this.inAndOutputNames=["shouldShowRouteLoader","shouldShowFullscreenLoader"]}getComponentName(){return"RootComponent"}importThemedComponent(r){return n(94634)(`./${r}/app/root/root.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,47874))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:N,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,j,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var k=n(53186),K=n(68018),z=n(45124),V=n(89777),G=n(58003);const X=d=>({timeToExpire:d});let Q=(()=>{class d{constructor(r,u,w){this.activeModal=r,this.authService=u,this.store=w,this.response=new e.bkB,this.timeToExpire=(I.c.auth.ui.timeUntilIdle+I.c.auth.ui.idleGracePeriod)/1e3/60}ngOnInit(){(0,V.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.graceTimer=setTimeout(()=>{this.logOutPressed()},I.c.auth.ui.idleGracePeriod)}extendSessionPressed(){this.extendSessionAndCloseModal()}logOutPressed(){this.closeModal(),this.store.dispatch(new z.du)}closePressed(){this.extendSessionAndCloseModal()}extendSessionAndCloseModal(){(0,V.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.authService.setIdle(!1),this.closeModal()}closeModal(){this.activeModal.close(),this.response.emit(!0)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(G.Lw),e.rXU(h.uR),e.rXU(E.il))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-idle-modal"]],outputs:{response:"response"},standalone:!0,features:[e.aNF],decls:18,vars:15,consts:[["id","idle-modal.header",1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Log out",1,"cancel","btn","btn-danger",3,"click"],[1,"fas","fa-sign-out-alt"],["type","button","aria-label","Extend session","ngbAutofocus","",1,"confirm","btn","btn-primary",3,"click"],[1,"fas","fa-redo-alt"]],template:function(u,w){1&u&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return w.closePressed()}),e.k0s()(),e.j41(5,"div",2)(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",3)(10,"button",4),e.bIt("click",function(){return w.logOutPressed()}),e.nrm(11,"i",5),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",6),e.bIt("click",function(){return w.extendSessionPressed()}),e.nrm(15,"i",7),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()),2&u&&(e.R7$(2),e.SpI("",e.bMT(3,4,"idle-modal.header")," "),e.R7$(5),e.JRh(e.i5U(8,6,"idle-modal.info",e.eq3(13,X,w.timeToExpire))),e.R7$(5),e.SpI(" ",e.bMT(13,9,"idle-modal.log-out")," "),e.R7$(4),e.SpI(" ",e.bMT(17,11,"idle-modal.extend-session")," "))},dependencies:[K.h,K.D9],encapsulation:2})}}return d})();var ee=n(87837),ie=n(73838);let te=(()=>{class d{constructor(r,u,w,Y,De,Ie,tt,Pt,bn,en,ti){this._window=r,this.document=u,this.platformId=w,this.themeService=Y,this.translate=De,this.store=Ie,this.authService=tt,this.router=Pt,this.cssService=bn,this.modalService=en,this.modalConfig=ti,this.isRouteLoading$=new y.t(!1),this.notificationOptions=I.c.notifications,(0,f.UE)(this.platformId)&&this.trackIdleModal(),this.isThemeLoading$=this.themeService.isThemeLoading$,this.storeCSSVariables()}ngOnInit(){this.modalConfig.beforeDismiss=(0,m.A)(function*(){return"function"!=typeof this?.componentInstance?.beforeDismiss||this.componentInstance.beforeDismiss()}),this.isAuthBlocking$=this.store.pipe((0,E.Lt)(S.Gv),(0,M.F)()),this.dispatchWindowSize(this._window.nativeWindow.innerWidth,this._window.nativeWindow.innerHeight)}storeCSSVariables(){this.cssService.clearCSSVariables(),this.cssService.addCSSVariables(this.cssService.getCSSVariablesFromStylesheets(this.document))}ngAfterViewInit(){this.router.events.pipe((0,b.c)(0)).subscribe(r=>{r instanceof v.Z?(0,L.S)(this.isRouteLoading$,!0):(r instanceof v.wF||r instanceof v.j5)&&(0,L.S)(this.isRouteLoading$,!1)})}onResize(r){this.dispatchWindowSize(r.target.innerWidth,r.target.innerHeight)}dispatchWindowSize(r,u){this.store.dispatch(new k.l(r,u))}trackIdleModal(){const r=this.authService.isUserIdle(),u=this.authService.isAuthenticated();r.pipe((0,P.E)(u)).subscribe(([w,Y])=>{if(w&&Y&&!this.idleModalOpen){const De=this.modalService.open(Q,{ariaLabelledBy:"idle-modal.header"});this.idleModalOpen=!0,De.componentInstance.response.pipe((0,D.s)(1)).subscribe(Ie=>{Ie&&(this.idleModalOpen=!1)})}})}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(O.lc),e.rXU(f.qQ),e.rXU(e.Agw),e.rXU(ie.Fs),e.rXU(K.c$),e.rXU(E.il),e.rXU(h.uR),e.rXU(v.Ix),e.rXU(ee.J),e.rXU(G.Bq),e.rXU(G.LY))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-app"]],hostBindings:function(u,w){1&u&&e.bIt("resize",function(De){return w.onResize(De)},!1,e.tSv)},standalone:!0,features:[e.aNF],decls:4,vars:8,consts:[[3,"shouldShowFullscreenLoader","shouldShowRouteLoader"]],template:function(u,w){1&u&&(e.nrm(0,"ds-root",0),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async")),2&u&&e.Y8G("shouldShowFullscreenLoader",e.bMT(1,2,w.isAuthBlocking$)||e.bMT(2,4,w.isThemeLoading$))("shouldShowRouteLoader",e.bMT(3,6,w.isRouteLoading$))},dependencies:[f.Jj,$],changeDetection:0})}}return d})();var he=n(72001),ye=Object.defineProperty,ce=(d,_,r)=>((d,_,r)=>_ in d?ye(d,_,{enumerable:!0,configurable:!0,writable:!0,value:r}):d[_]=r)(d,"symbol"!=typeof _?_+"":_,r);const Z="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IGY9bmV3IFRleHRFbmNvZGVyO2Z1bmN0aW9uIHAoZSl7cmV0dXJuWy4uLm5ldyBVaW50OEFycmF5KGUpXS5tYXAodD0+dC50b1N0cmluZygxNikucGFkU3RhcnQoMiwiMCIpKS5qb2luKCIiKX1hc3luYyBmdW5jdGlvbiB3KGUsdCxyKXtyZXR1cm4gcChhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChyLnRvVXBwZXJDYXNlKCksZi5lbmNvZGUoZSt0KSkpfWZ1bmN0aW9uIGIoZSx0LHI9IlNIQS0yNTYiLG49MWU2LHM9MCl7Y29uc3Qgbz1uZXcgQWJvcnRDb250cm9sbGVyLGE9RGF0ZS5ub3coKTtyZXR1cm57cHJvbWlzZTooYXN5bmMoKT0+e2ZvcihsZXQgYz1zO2M8PW47Yys9MSl7aWYoby5zaWduYWwuYWJvcnRlZClyZXR1cm4gbnVsbDtpZihhd2FpdCB3KHQsYyxyKT09PWUpcmV0dXJue251bWJlcjpjLHRvb2s6RGF0ZS5ub3coKS1hfX1yZXR1cm4gbnVsbH0pKCksY29udHJvbGxlcjpvfX1mdW5jdGlvbiBoKGUpe2NvbnN0IHQ9YXRvYihlKSxyPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylyW25dPXQuY2hhckNvZGVBdChuKTtyZXR1cm4gcn1mdW5jdGlvbiBnKGUsdD0xMil7Y29uc3Qgcj1uZXcgVWludDhBcnJheSh0KTtmb3IobGV0IG49MDtuPHQ7bisrKXJbbl09ZSUyNTYsZT1NYXRoLmZsb29yKGUvMjU2KTtyZXR1cm4gcn1hc3luYyBmdW5jdGlvbiBtKGUsdD0iIixyPTFlNixuPTApe2NvbnN0IHM9IkFFUy1HQ00iLG89bmV3IEFib3J0Q29udHJvbGxlcixhPURhdGUubm93KCksbD1hc3luYygpPT57Zm9yKGxldCB1PW47dTw9cjt1Kz0xKXtpZihvLnNpZ25hbC5hYm9ydGVkfHwhY3x8IXkpcmV0dXJuIG51bGw7dHJ5e2NvbnN0IGQ9YXdhaXQgY3J5cHRvLnN1YnRsZS5kZWNyeXB0KHtuYW1lOnMsaXY6Zyh1KX0sYyx5KTtpZihkKXJldHVybntjbGVhclRleHQ6bmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGQpLHRvb2s6RGF0ZS5ub3coKS1hfX1jYXRjaHt9fXJldHVybiBudWxsfTtsZXQgYz1udWxsLHk9bnVsbDt0cnl7eT1oKGUpO2NvbnN0IHU9YXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoIlNIQS0yNTYiLGYuZW5jb2RlKHQpKTtjPWF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJyYXciLHUscywhMSxbImRlY3J5cHQiXSl9Y2F0Y2h7cmV0dXJue3Byb21pc2U6UHJvbWlzZS5yZWplY3QoKSxjb250cm9sbGVyOm99fXJldHVybntwcm9taXNlOmwoKSxjb250cm9sbGVyOm99fWxldCBpO29ubWVzc2FnZT1hc3luYyBlPT57Y29uc3R7dHlwZTp0LHBheWxvYWQ6cixzdGFydDpuLG1heDpzfT1lLmRhdGE7bGV0IG89bnVsbDtpZih0PT09ImFib3J0IilpPT1udWxsfHxpLmFib3J0KCksaT12b2lkIDA7ZWxzZSBpZih0PT09IndvcmsiKXtpZigib2JmdXNjYXRlZCJpbiByKXtjb25zdHtrZXk6YSxvYmZ1c2NhdGVkOmx9PXJ8fHt9O289YXdhaXQgbShsLGEscyxuKX1lbHNle2NvbnN0e2FsZ29yaXRobTphLGNoYWxsZW5nZTpsLHNhbHQ6Y309cnx8e307bz1iKGwsYyxhLHMsbil9aT1vLmNvbnRyb2xsZXIsby5wcm9taXNlLnRoZW4oYT0+e3NlbGYucG9zdE1lc3NhZ2UoYSYmey4uLmEsd29ya2VyOiEwfSl9KX19fSkoKTsK",fe=typeof self<"u"&&self.Blob&&new Blob([(d=Z,Uint8Array.from(atob(d),_=>_.charCodeAt(0)))],{type:"text/javascript;charset=utf-8"});var d;function ae(d){let _;try{if(_=fe&&(self.URL||self.webkitURL).createObjectURL(fe),!_)throw"";const r=new Worker(_,{name:d?.name});return r.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(_)}),r}catch{return new Worker("data:text/javascript;base64,"+Z,{name:d?.name})}finally{_&&(self.URL||self.webkitURL).revokeObjectURL(_)}}function oe(){}function ve(d){return d()}function _e(){return Object.create(null)}function Ce(d){d.forEach(ve)}function qe(d){return"function"==typeof d}function Re(d,_){return d!=d?_==_:d!==_||d&&"object"==typeof d||"function"==typeof d}function at(d,_,r,u){return d[1]&&u?function J(d,_){for(const r in _)d[r]=_[r];return d}(r.ctx.slice(),d[1](u(_))):r.ctx}function He(d,_){d.appendChild(_)}function Ee(d,_,r){d.insertBefore(_,r||null)}function je(d){d.parentNode&&d.parentNode.removeChild(d)}function ft(d){return document.createElement(d)}function vn(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Un(){return function hn(d){return document.createTextNode(d)}(" ")}function Ct(d,_,r,u){return d.addEventListener(_,r,u),()=>d.removeEventListener(_,r,u)}function Ot(d,_,r){null==r?d.removeAttribute(_):d.getAttribute(_)!==r&&d.setAttribute(_,r)}function mt(d,_,r){d.classList.toggle(_,!!r)}let Et;function kt(d){Et=d}function vt(){if(!Et)throw new Error("Function called outside component initialization");return Et}const Gt=[],Je=[];let ke=[];const Le=[],ze=Promise.resolve();let lt=!1;function Vt(){lt||(lt=!0,ze.then(Lt))}function At(d){ke.push(d)}const tn=new Set;let dt=0;function Lt(){if(0!==dt)return;const d=Et;do{try{for(;dt<Gt.length;){const _=Gt[dt];dt++,kt(_),Rt(_.$$)}}catch(_){throw Gt.length=0,dt=0,_}for(kt(null),Gt.length=0,dt=0;Je.length;)Je.pop()();for(let _=0;_<ke.length;_+=1){const r=ke[_];tn.has(r)||(tn.add(r),r())}ke.length=0}while(Gt.length);for(;Le.length;)Le.pop()();lt=!1,tn.clear(),kt(d)}function Rt(d){if(null!==d.fragment){d.update(),Ce(d.before_update);const _=d.dirty;d.dirty=[-1],d.fragment&&d.fragment.p(d.ctx,_),d.after_update.forEach(At)}}const $n=new Set;let ai;function bt(d,_){d&&d.i&&($n.delete(d),d.i(_))}function ns(d,_,r,u){var w;const Y=null==(w=r[d])?void 0:w.type;if(_="Boolean"===Y&&"boolean"!=typeof _?null!=_:_,!u||!r[d])return _;if("toAttribute"===u)switch(Y){case"Object":case"Array":return null==_?null:JSON.stringify(_);case"Boolean":return _?"":null;case"Number":return _??null;default:return _}else switch(Y){case"Object":case"Array":return _&&JSON.parse(_);case"Boolean":default:return _;case"Number":return null!=_?+_:_}}"function"==typeof HTMLElement&&(ai=class extends HTMLElement{constructor(d,_,r){super(),ce(this,"$$ctor"),ce(this,"$$s"),ce(this,"$$c"),ce(this,"$$cn",!1),ce(this,"$$d",{}),ce(this,"$$r",!1),ce(this,"$$p_d",{}),ce(this,"$$l",{}),ce(this,"$$l_u",new Map),this.$$ctor=d,this.$$s=_,r&&this.attachShadow({mode:"open"})}addEventListener(d,_,r){if(this.$$l[d]=this.$$l[d]||[],this.$$l[d].push(_),this.$$c){const u=this.$$c.$on(d,_);this.$$l_u.set(_,u)}super.addEventListener(d,_,r)}removeEventListener(d,_,r){if(super.removeEventListener(d,_,r),this.$$c){const u=this.$$l_u.get(_);u&&(u(),this.$$l_u.delete(_))}}connectedCallback(){var d=this;return(0,m.A)(function*(){if(d.$$cn=!0,!d.$$c){let _=function(Y){return()=>{let De;return{c:function(){De=ft("slot"),"default"!==Y&&Ot(De,"name",Y)},m:function(Ie,tt){Ee(Ie,De,tt)},d:function(Ie){Ie&&je(De)}}}};if(yield Promise.resolve(),!d.$$cn||d.$$c)return;const r={},u=function we(d){const _={};return d.childNodes.forEach(r=>{_[r.slot||"default"]=!0}),_}(d);for(const Y of d.$$s)Y in u&&(r[Y]=[_(Y)]);for(const Y of d.attributes){const De=d.$$g_p(Y.name);De in d.$$d||(d.$$d[De]=ns(De,Y.value,d.$$p_d,"toProp"))}for(const Y in d.$$p_d)!(Y in d.$$d)&&void 0!==d[Y]&&(d.$$d[Y]=d[Y],delete d[Y]);d.$$c=new d.$$ctor({target:d.shadowRoot||d,props:{...d.$$d,$$slots:r,$$scope:{ctx:[]}}});const w=()=>{d.$$r=!0;for(const Y in d.$$p_d)if(d.$$d[Y]=d.$$c.$$.ctx[d.$$c.$$.props[Y]],d.$$p_d[Y].reflect){const De=ns(Y,d.$$d[Y],d.$$p_d,"toAttribute");null==De?d.removeAttribute(d.$$p_d[Y].attribute||Y):d.setAttribute(d.$$p_d[Y].attribute||Y,De)}d.$$r=!1};d.$$c.$$.after_update.push(w),w();for(const Y in d.$$l)for(const De of d.$$l[Y]){const Ie=d.$$c.$on(Y,De);d.$$l_u.set(De,Ie)}d.$$l={}}})()}attributeChangedCallback(d,_,r){var u;this.$$r||(d=this.$$g_p(d),this.$$d[d]=ns(d,r,this.$$p_d,"toProp"),null==(u=this.$$c)||u.$set({[d]:this.$$d[d]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(d){return Object.keys(this.$$p_d).find(_=>this.$$p_d[_].attribute===d||!this.$$p_d[_].attribute&&_.toLowerCase()===d)||d}});class si{constructor(){ce(this,"$$"),ce(this,"$$set")}$destroy(){(function Tn(d,_){const r=d.$$;null!==r.fragment&&(function Sn(d){const _=[],r=[];ke.forEach(u=>-1===d.indexOf(u)?_.push(u):r.push(u)),r.forEach(u=>u()),ke=_}(r.after_update),Ce(r.on_destroy),r.fragment&&r.fragment.d(_),r.on_destroy=r.fragment=null,r.ctx=[])})(this,1),this.$destroy=oe}$on(_,r){if(!qe(r))return oe;const u=this.$$.callbacks[_]||(this.$$.callbacks[_]=[]);return u.push(r),()=>{const w=u.indexOf(r);-1!==w&&u.splice(w,1)}}$set(_){this.$$set&&!function nt(d){return 0===Object.keys(d).length}(_)&&(this.$$.skip_bound=!0,this.$$set(_),this.$$.skip_bound=!1)}}typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const cn=new TextEncoder;function Si(){return Si=(0,m.A)(function*(d,_="SHA-256",r=1e5){const u=Date.now().toString(16);return d||(d=Math.round(Math.random()*r)),{algorithm:_,challenge:yield ms(u,d,_),salt:u,signature:""}}),Si.apply(this,arguments)}function ms(d,_,r){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,m.A)(function*(d,_,r){return function gn(d){return[...new Uint8Array(d)].map(_=>_.toString(16).padStart(2,"0")).join("")}(yield crypto.subtle.digest(r.toUpperCase(),cn.encode(d+_)))}),Ai.apply(this,arguments)}function xi(d,_,r="SHA-256",u=1e6,w=0){const Y=new AbortController,De=Date.now();return{promise:(0,m.A)(function*(){for(let Ie=w;Ie<=u;Ie+=1){if(Y.signal.aborted)return null;if((yield ms(_,Ie,r))===d)return{number:Ie,took:Date.now()-De}}return null})(),controller:Y}}function Xt(d,_=12){const r=new Uint8Array(_);for(let u=0;u<_;u++)r[u]=d%256,d=Math.floor(d/256);return r}function Fe(){return Fe=(0,m.A)(function*(d,_="",r=1e6,u=0){const w="AES-GCM",Y=new AbortController,De=Date.now(),Ie=function(){var bn=(0,m.A)(function*(){for(let en=u;en<=r;en+=1){if(Y.signal.aborted||!tt||!Pt)return null;try{const ti=yield crypto.subtle.decrypt({name:w,iv:Xt(en)},tt,Pt);if(ti)return{clearText:(new TextDecoder).decode(ti),took:Date.now()-De}}catch{}}return null});return function(){return bn.apply(this,arguments)}}();let tt=null,Pt=null;try{Pt=function Ii(d){const _=atob(d),r=new Uint8Array(_.length);for(let u=0;u<_.length;u++)r[u]=_.charCodeAt(u);return r}(d);const bn=yield crypto.subtle.digest("SHA-256",cn.encode(_));tt=yield crypto.subtle.importKey("raw",bn,w,!1,["decrypt"])}catch{return{promise:Promise.reject(),controller:Y}}return{promise:Ie(),controller:Y}}),Fe.apply(this,arguments)}var Xe=(d=>(d.ERROR="error",d.VERIFIED="verified",d.VERIFYING="verifying",d.UNVERIFIED="unverified",d.EXPIRED="expired",d))(Xe||{});function gt(d){!function Bt(d,_,r){const u=function it(d){if(!d)return document;const _=d.getRootNode?d.getRootNode():d.ownerDocument;return _&&_.host?_:d.ownerDocument}(d);if(!u.getElementById(_)){const w=ft("style");w.id=_,w.textContent=r,function Tt(d,_){He(d.head||d,_)}(u,w)}}(d,"svelte-ddsc3z",'.altcha.svelte-ddsc3z.svelte-ddsc3z{background:var(--altcha-color-base, transparent);border:var(--altcha-border-width, 1px) solid var(--altcha-color-border, #a0a0a0);border-radius:var(--altcha-border-radius, 3px);color:var(--altcha-color-text, currentColor);display:flex;flex-direction:column;max-width:var(--altcha-max-width, 260px);position:relative;text-align:left}.altcha.svelte-ddsc3z.svelte-ddsc3z:focus-within{border-color:var(--altcha-color-border-focus, currentColor)}.altcha[data-floating].svelte-ddsc3z.svelte-ddsc3z{background:var(--altcha-color-base, white);display:none;filter:drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.2));left:-100%;position:fixed;top:-100%;width:var(--altcha-max-width, 260px);z-index:999999}.altcha[data-floating=top].svelte-ddsc3z .altcha-anchor-arrow.svelte-ddsc3z{border-bottom-color:transparent;border-top-color:var(--altcha-color-border, #a0a0a0);bottom:-12px;top:auto}.altcha[data-floating=bottom].svelte-ddsc3z.svelte-ddsc3z:focus-within::after{border-bottom-color:var(--altcha-color-border-focus, currentColor)}.altcha[data-floating=top].svelte-ddsc3z.svelte-ddsc3z:focus-within::after{border-top-color:var(--altcha-color-border-focus, currentColor)}.altcha[data-floating].svelte-ddsc3z.svelte-ddsc3z:not([data-state=unverified]){display:block}.altcha-anchor-arrow.svelte-ddsc3z.svelte-ddsc3z{border:6px solid transparent;border-bottom-color:var(--altcha-color-border, #a0a0a0);content:"";height:0;left:12px;position:absolute;top:-12px;width:0}.altcha-main.svelte-ddsc3z.svelte-ddsc3z{align-items:center;display:flex;gap:0.4rem;padding:0.7rem}.altcha-label.svelte-ddsc3z.svelte-ddsc3z{flex-grow:1}.altcha-label.svelte-ddsc3z label.svelte-ddsc3z{cursor:pointer}.altcha-logo.svelte-ddsc3z.svelte-ddsc3z{color:currentColor;opacity:0.3}.altcha-logo.svelte-ddsc3z.svelte-ddsc3z:hover{opacity:1}.altcha-error.svelte-ddsc3z.svelte-ddsc3z{color:var(--altcha-color-error-text, #f23939);display:flex;font-size:0.85rem;gap:0.3rem;padding:0 0.7rem 0.7rem}.altcha-footer.svelte-ddsc3z.svelte-ddsc3z{align-items:center;background-color:var(--altcha-color-footer-bg, transparent);display:flex;font-size:0.75rem;opacity:0.4;padding:0.2rem 0.7rem;text-align:right}.altcha-footer.svelte-ddsc3z.svelte-ddsc3z:hover{opacity:1}.altcha-footer.svelte-ddsc3z>.svelte-ddsc3z:first-child{flex-grow:1}.altcha-footer.svelte-ddsc3z a{color:currentColor}.altcha-checkbox.svelte-ddsc3z.svelte-ddsc3z{display:flex;align-items:center;height:24px;width:24px}.altcha-checkbox.svelte-ddsc3z input.svelte-ddsc3z{width:18px;height:18px;margin:0}.altcha-hidden.svelte-ddsc3z.svelte-ddsc3z{display:none}.altcha-spinner.svelte-ddsc3z.svelte-ddsc3z{animation:svelte-ddsc3z-altcha-spinner 0.75s infinite linear;transform-origin:center}@keyframes svelte-ddsc3z-altcha-spinner{100%{transform:rotate(360deg)}}')}function Yt(d){let _,r,u;return{c(){_=vn("svg"),r=vn("path"),u=vn("path"),Ot(r,"d","M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z"),Ot(r,"fill","currentColor"),Ot(r,"opacity",".25"),Ot(u,"d","M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z"),Ot(u,"fill","currentColor"),Ot(u,"class","altcha-spinner svelte-ddsc3z"),Ot(_,"width","24"),Ot(_,"height","24"),Ot(_,"viewBox","0 0 24 24"),Ot(_,"xmlns","http://www.w3.org/2000/svg")},m(w,Y){Ee(w,_,Y),He(_,r),He(_,u)},d(w){w&&je(_)}}}function Cn(d){let _,u,r=d[11].label+"";return{c(){_=ft("label"),Ot(_,"for",u=d[4]+"_checkbox"),Ot(_,"class","svelte-ddsc3z")},m(w,Y){Ee(w,_,Y),_.innerHTML=r},p(w,Y){2048&Y[0]&&r!==(r=w[11].label+"")&&(_.innerHTML=r),16&Y[0]&&u!==(u=w[4]+"_checkbox")&&Ot(_,"for",u)},d(w){w&&je(_)}}}function On(d){let _,r=d[11].verifying+"";return{c(){_=ft("span")},m(u,w){Ee(u,_,w),_.innerHTML=r},p(u,w){2048&w[0]&&r!==(r=u[11].verifying+"")&&(_.innerHTML=r)},d(u){u&&je(_)}}}function Nn(d){let _,u,w,r=d[11].verified+"";return{c(){_=ft("span"),u=Un(),w=ft("input"),Ot(w,"type","hidden"),Ot(w,"name",d[4]),w.value=d[6]},m(Y,De){Ee(Y,_,De),_.innerHTML=r,Ee(Y,u,De),Ee(Y,w,De)},p(Y,De){2048&De[0]&&r!==(r=Y[11].verified+"")&&(_.innerHTML=r),16&De[0]&&Ot(w,"name",Y[4]),64&De[0]&&(w.value=Y[6])},d(Y){Y&&(je(_),je(u),je(w))}}}function Qn(d){let _,r,u,w,Y,De,Ie;return{c(){_=ft("div"),r=ft("a"),u=vn("svg"),w=vn("path"),Y=vn("path"),De=vn("path"),Ot(w,"d","M2.33955 16.4279C5.88954 20.6586 12.1971 21.2105 16.4279 17.6604C18.4699 15.947 19.6548 13.5911 19.9352 11.1365L17.9886 10.4279C17.8738 12.5624 16.909 14.6459 15.1423 16.1284C11.7577 18.9684 6.71167 18.5269 3.87164 15.1423C1.03163 11.7577 1.4731 6.71166 4.8577 3.87164C8.24231 1.03162 13.2883 1.4731 16.1284 4.8577C16.9767 5.86872 17.5322 7.02798 17.804 8.2324L19.9522 9.01429C19.7622 7.07737 19.0059 5.17558 17.6604 3.57212C14.1104 -0.658624 7.80283 -1.21043 3.57212 2.33956C-0.658625 5.88958 -1.21046 12.1971 2.33955 16.4279Z"),Ot(w,"fill","currentColor"),Ot(Y,"d","M3.57212 2.33956C1.65755 3.94607 0.496389 6.11731 0.12782 8.40523L2.04639 9.13961C2.26047 7.15832 3.21057 5.25375 4.8577 3.87164C8.24231 1.03162 13.2883 1.4731 16.1284 4.8577L13.8302 6.78606L19.9633 9.13364C19.7929 7.15555 19.0335 5.20847 17.6604 3.57212C14.1104 -0.658624 7.80283 -1.21043 3.57212 2.33956Z"),Ot(Y,"fill","currentColor"),Ot(De,"d","M7 10H5C5 12.7614 7.23858 15 10 15C12.7614 15 15 12.7614 15 10H13C13 11.6569 11.6569 13 10 13C8.3431 13 7 11.6569 7 10Z"),Ot(De,"fill","currentColor"),Ot(u,"width","22"),Ot(u,"height","22"),Ot(u,"viewBox","0 0 20 20"),Ot(u,"fill","none"),Ot(u,"xmlns","http://www.w3.org/2000/svg"),Ot(r,"href",Ji),Ot(r,"target","_blank"),Ot(r,"class","altcha-logo svelte-ddsc3z"),Ot(r,"aria-label",Ie=d[11].ariaLinkLabel)},m(tt,Pt){Ee(tt,_,Pt),He(_,r),He(r,u),He(u,w),He(u,Y),He(u,De)},p(tt,Pt){2048&Pt[0]&&Ie!==(Ie=tt[11].ariaLinkLabel)&&Ot(r,"aria-label",Ie)},d(tt){tt&&je(_)}}}function Jn(d){let _,r,u,w;function Y(tt,Pt){return tt[7]===Xe.EXPIRED?Fi:ki}let De=Y(d),Ie=De(d);return{c(){_=ft("div"),r=vn("svg"),u=vn("path"),w=Un(),Ie.c(),Ot(u,"stroke-linecap","round"),Ot(u,"stroke-linejoin","round"),Ot(u,"d","M6 18L18 6M6 6l12 12"),Ot(r,"width","14"),Ot(r,"height","14"),Ot(r,"xmlns","http://www.w3.org/2000/svg"),Ot(r,"fill","none"),Ot(r,"viewBox","0 0 24 24"),Ot(r,"stroke-width","1.5"),Ot(r,"stroke","currentColor"),Ot(_,"class","altcha-error svelte-ddsc3z")},m(tt,Pt){Ee(tt,_,Pt),He(_,r),He(r,u),He(_,w),Ie.m(_,null)},p(tt,Pt){De===(De=Y(tt))&&Ie?Ie.p(tt,Pt):(Ie.d(1),Ie=De(tt),Ie&&(Ie.c(),Ie.m(_,null)))},d(tt){tt&&je(_),Ie.d()}}}function ki(d){let _,r=d[11].error+"";return{c(){_=ft("div"),Ot(_,"title",d[5])},m(u,w){Ee(u,_,w),_.innerHTML=r},p(u,w){2048&w[0]&&r!==(r=u[11].error+"")&&(_.innerHTML=r),32&w[0]&&Ot(_,"title",u[5])},d(u){u&&je(_)}}}function Fi(d){let _,r=d[11].expired+"";return{c(){_=ft("div"),Ot(_,"title",d[5])},m(u,w){Ee(u,_,w),_.innerHTML=r},p(u,w){2048&w[0]&&r!==(r=u[11].expired+"")&&(_.innerHTML=r),32&w[0]&&Ot(_,"title",u[5])},d(u){u&&je(_)}}}function ss(d){let _,r,u=d[11].footer+"";return{c(){_=ft("div"),r=ft("div"),Ot(r,"class","svelte-ddsc3z"),Ot(_,"class","altcha-footer svelte-ddsc3z")},m(w,Y){Ee(w,_,Y),He(_,r),r.innerHTML=u},p(w,Y){2048&Y[0]&&u!==(u=w[11].footer+"")&&(r.innerHTML=u)},d(w){w&&je(_)}}}function hs(d){let _;return{c(){_=ft("div"),Ot(_,"class","altcha-anchor-arrow svelte-ddsc3z")},m(r,u){Ee(r,_,u),d[48](_)},p:oe,d(r){r&&je(_),d[48](null)}}}function gs(d){let _,r,u,w,Y,De,Ie,tt,Pt,bn,en,ti,ri,Xn,qn,Yi,Ts;const Wi=d[46].default,Cs=function Ge(d,_,r,u){if(d){const w=at(d,_,r,u);return d[0](w)}}(Wi,d,d[45],null);let As=d[7]===Xe.VERIFYING&&Yt();function jr(qi,Eo){return qi[7]===Xe.VERIFIED?Nn:qi[7]===Xe.VERIFYING?On:Cn}let wr=jr(d),yo=wr(d),so=(!0!==d[3]||d[12])&&Qn(d),Xo=(d[5]||d[7]===Xe.EXPIRED)&&Jn(d),po=d[11].footer&&(!0!==d[2]||d[12])&&ss(d),vr=d[1]&&hs(d);return{c(){Cs&&Cs.c(),_=Un(),r=ft("div"),u=ft("div"),As&&As.c(),w=Un(),Y=ft("div"),De=ft("input"),Pt=Un(),bn=ft("div"),yo.c(),en=Un(),so&&so.c(),ti=Un(),Xo&&Xo.c(),ri=Un(),po&&po.c(),Xn=Un(),vr&&vr.c(),Ot(De,"type","checkbox"),Ot(De,"id",Ie=d[4]+"_checkbox"),De.required=tt="onsubmit"!==d[0]&&(!d[1]||"off"!==d[0]),Ot(De,"class","svelte-ddsc3z"),Ot(Y,"class","altcha-checkbox svelte-ddsc3z"),mt(Y,"altcha-hidden",d[7]===Xe.VERIFYING),Ot(bn,"class","altcha-label svelte-ddsc3z"),Ot(u,"class","altcha-main svelte-ddsc3z"),Ot(r,"class","altcha svelte-ddsc3z"),Ot(r,"data-state",d[7]),Ot(r,"data-floating",d[1])},m(qi,Eo){Cs&&Cs.m(qi,Eo),Ee(qi,_,Eo),Ee(qi,r,Eo),He(r,u),As&&As.m(u,null),He(u,w),He(u,Y),He(Y,De),De.checked=d[8],He(u,Pt),He(u,bn),yo.m(bn,null),He(u,en),so&&so.m(u,null),He(r,ti),Xo&&Xo.m(r,null),He(r,ri),po&&po.m(r,null),He(r,Xn),vr&&vr.m(r,null),d[49](r),qn=!0,Yi||(Ts=[Ct(De,"change",d[47]),Ct(De,"change",d[13]),Ct(De,"invalid",d[14])],Yi=!0)},p(qi,Eo){Cs&&Cs.p&&(!qn||16384&Eo[1])&&function Te(d,_,r,u,w,Y){if(w){const De=at(_,r,u,Y);d.p(De,w)}}(Cs,Wi,qi,qi[45],qn?function Ke(d,_,r,u){if(d[2]&&u){const w=d[2](u(r));if(void 0===_.dirty)return w;if("object"==typeof w){const Y=[],De=Math.max(_.dirty.length,w.length);for(let Ie=0;Ie<De;Ie+=1)Y[Ie]=_.dirty[Ie]|w[Ie];return Y}return _.dirty|w}return _.dirty}(Wi,qi[45],Eo,null):function pt(d){if(d.ctx.length>32){const _=[],r=d.ctx.length/32;for(let u=0;u<r;u++)_[u]=-1;return _}return-1}(qi[45]),null),qi[7]===Xe.VERIFYING?As||(As=Yt(),As.c(),As.m(u,w)):As&&(As.d(1),As=null),(!qn||16&Eo[0]&&Ie!==(Ie=qi[4]+"_checkbox"))&&Ot(De,"id",Ie),(!qn||3&Eo[0]&&tt!==(tt="onsubmit"!==qi[0]&&(!qi[1]||"off"!==qi[0])))&&(De.required=tt),256&Eo[0]&&(De.checked=qi[8]),(!qn||128&Eo[0])&&mt(Y,"altcha-hidden",qi[7]===Xe.VERIFYING),wr===(wr=jr(qi))&&yo?yo.p(qi,Eo):(yo.d(1),yo=wr(qi),yo&&(yo.c(),yo.m(bn,null))),!0!==qi[3]||qi[12]?so?so.p(qi,Eo):(so=Qn(qi),so.c(),so.m(u,null)):so&&(so.d(1),so=null),qi[5]||qi[7]===Xe.EXPIRED?Xo?Xo.p(qi,Eo):(Xo=Jn(qi),Xo.c(),Xo.m(r,ri)):Xo&&(Xo.d(1),Xo=null),qi[11].footer&&(!0!==qi[2]||qi[12])?po?po.p(qi,Eo):(po=ss(qi),po.c(),po.m(r,Xn)):po&&(po.d(1),po=null),qi[1]?vr?vr.p(qi,Eo):(vr=hs(qi),vr.c(),vr.m(r,null)):vr&&(vr.d(1),vr=null),(!qn||128&Eo[0])&&Ot(r,"data-state",qi[7]),(!qn||2&Eo[0])&&Ot(r,"data-floating",qi[1])},i(qi){qn||(bt(Cs,qi),qn=!0)},o(qi){(function _t(d,_){if(d&&d.o){if($n.has(d))return;$n.add(d),undefined.c.push(()=>{$n.delete(d)}),d.o(_)}})(Cs,qi),qn=!1},d(qi){qi&&(je(_),je(r)),Cs&&Cs.d(qi),As&&As.d(),yo.d(),so&&so.d(),Xo&&Xo.d(),po&&po.d(),vr&&vr.d(),d[49](null),Yi=!1,Ce(Ts)}}}const Ss="Visit Altcha.org",Ji="https://altcha.org/";function ps(d){return JSON.parse(d)}function Ft(d,_,r){var u,w;let Y,De,Ie,tt,{$$slots:Pt={},$$scope:bn}=_,{auto:en}=_,{blockspam:ti}=_,{challengeurl:ri}=_,{challengejson:Xn}=_,{debug:qn=!1}=_,{delay:Yi=0}=_,{expire:Ts}=_,{floating:Wi}=_,{floatinganchor:Cs}=_,{floatingoffset:As}=_,{hidefooter:jr=!1}=_,{hidelogo:wr=!1}=_,{name:yo="altcha"}=_,{maxnumber:so=1e6}=_,{mockerror:Xo=!1}=_,{obfuscated:po}=_,{plugins:vr}=_,{refetchonexpire:qi=!0}=_,{spamfilter:Eo=!1}=_,{strings:Dh}=_,{test:Ma=!1}=_,{verifyurl:ji}=_,{workers:ts=Math.min(16,navigator.hardwareConcurrency||8)}=_,{workerurl:ls}=_;const Ws=function zt(){const d=vt();return(_,r,{cancelable:u=!1}={})=>{const w=d.$$.callbacks[_];if(w){const Y=function ln(d,_,{bubbles:r=!1,cancelable:u=!1}={}){return new CustomEvent(d,{detail:_,bubbles:r,cancelable:u})}(_,r,{cancelable:u});return w.slice().forEach(De=>{De.call(d,Y)}),!Y.defaultPrevented}return!0}}(),Hr=["SHA-256","SHA-384","SHA-512"],Ul=null==(w=null==(u=document.documentElement.lang)?void 0:u.split("-"))?void 0:w[0];let Oo,kr=!1,So=null,Td=null,rr=null,Vr=null,Oa=null,zr=null,jl=[],ar=Xe.UNVERIFIED;function p2(an,Ki){return btoa(JSON.stringify({algorithm:an.algorithm,challenge:an.challenge,number:Ki.number,salt:an.salt,signature:an.signature,test:!!Ma||void 0,took:Ki.took}))}function f2(){ri&&qi&&ar===Xe.VERIFIED?oo():Vn(Xe.EXPIRED,tt.expired)}function D1(){return D1=(0,m.A)(function*(){var an;if(Xo)throw yr("mocking error"),new Error("Mocked error.");if(De)return yr("using provided json data"),De;if(Ma)return yr("generating test challenge",{test:Ma}),function fi(d){return Si.apply(this,arguments)}("boolean"!=typeof Ma?+Ma:void 0);{if(!ri&&rr){const Er=rr.getAttribute("action");null!=Er&&Er.includes("/form/")&&r(15,ri=Er+"/altcha")}if(!ri)throw new Error("Attribute challengeurl not set.");yr("fetching challenge from",ri);const Ki=yield fetch(ri,{headers:Eo?{"x-altcha-spam-filter":"1"}:{}});if(200!==Ki.status)throw new Error(`Server responded with ${Ki.status}.`);const Bo=Ki.headers.get("Expires"),sa=Ki.headers.get("X-Altcha-Config"),rc=yield Ki.json(),_f=new URLSearchParams(null==(an=rc.salt.split("?"))?void 0:an[1]),$a=_f.get("expires")||_f.get("expire");if($a){const Er=new Date(1e3*+$a),Hc=isNaN(Er.getTime())?0:Er.getTime()-Date.now();Hc>0&&A(Hc)}if(sa)try{const Er=JSON.parse(sa);Er&&"object"==typeof Er&&(Er.verifyurl&&(Er.verifyurl=new URL(Er.verifyurl,new URL(ri)).toString()),on(Er))}catch(Er){yr("unable to configure from X-Altcha-Config",Er)}if(!Ts&&null!=Bo&&Bo.length){const Er=Date.parse(Bo);if(Er){const Hc=Er-Date.now();Hc>0&&A(Hc)}}return rc}}),D1.apply(this,arguments)}function yr(...an){(qn||an.some(Ki=>Ki instanceof Error))&&console[an[0]instanceof Error?"error":"log"]("ALTCHA",`[name=${yo}]`,...an)}function kM(an){const Ki=an.target;Wi&&Ki&&!Oo.contains(Ki)&&(ar===Xe.VERIFIED||"off"===en&&ar===Xe.UNVERIFIED)&&r(9,Oo.style.display="none",Oo)}function VM(){Wi&&ar!==Xe.UNVERIFIED&&a()}function $M(an){ar===Xe.UNVERIFIED&&oo()}function T1(an){rr&&"onsubmit"===en?ar===Xe.UNVERIFIED?(an.preventDefault(),an.stopPropagation(),oo().then(()=>{rr?.requestSubmit()})):ar!==Xe.VERIFIED&&(an.preventDefault(),an.stopPropagation(),ar===Xe.VERIFYING&&GM()):rr&&Wi&&"off"===en&&ar===Xe.UNVERIFIED&&(an.preventDefault(),an.stopPropagation(),r(9,Oo.style.display="block",Oo),a())}function WM(){Vn()}function GM(){ar===Xe.VERIFYING&&tt.waitAlert&&alert(tt.waitAlert)}function o(){Wi&&a()}function a(an=20){if(Oo)if(Td||(Td=(Cs?document.querySelector(Cs):rr?.querySelector('input[type="submit"], button[type="submit"], button:not([type="button"]):not([type="reset"])'))||rr),Td){const Ki=parseInt(As,10)||12,Bo=Td.getBoundingClientRect(),sa=Oo.getBoundingClientRect(),rc=document.documentElement.clientHeight,_f=document.documentElement.clientWidth,$a="auto"===Wi?Bo.bottom+sa.height+Ki+an>rc:"top"===Wi,Er=Math.max(an,Math.min(_f-an-sa.width,Bo.left+Bo.width/2-sa.width/2));if(r(9,Oo.style.top=$a?Bo.top-(sa.height+Ki)+"px":`${Bo.bottom+Ki}px`,Oo),r(9,Oo.style.left=`${Er}px`,Oo),Oo.setAttribute("data-floating",$a?"top":"bottom"),So){const Hc=So.getBoundingClientRect();r(10,So.style.left=Bo.left-Er+Bo.width/2-Hc.width/2+"px",So)}}else yr("unable to find floating anchor element")}function g(){return(g=(0,m.A)(function*(an){if(!ji)throw new Error("Attribute verifyurl not set.");yr("requesting server verification from",ji);const Ki={payload:an};if(Eo){const{blockedCountries:rc,classifier:_f,disableRules:$a,email:Er,expectedLanguages:Hc,expectedCountries:v2,fields:M1,ipAddress:O1,text:YL,timeZone:WL}=function kL(){return"ipAddress"===Eo?{blockedCountries:void 0,classifier:void 0,disableRules:void 0,email:!1,expectedCountries:void 0,expectedLanguages:void 0,fields:!1,ipAddress:void 0,text:void 0,timeZone:void 0}:"object"==typeof Eo?Eo:{blockedCountries:void 0,classifier:void 0,disableRules:void 0,email:void 0,expectedCountries:void 0,expectedLanguages:void 0,fields:void 0,ipAddress:void 0,text:void 0,timeZone:void 0}}();Ki.blockedCountries=rc,Ki.classifier=_f,Ki.disableRules=$a,Ki.email=!1===Er?void 0:function jL(an){var Ki;const Bo=rr?.querySelector("string"==typeof an?`input[name="${an}"]`:'input[type="email"]:not([data-no-spamfilter])');return(null==(Ki=Bo?.value)?void 0:Ki.slice(Bo.value.indexOf("@")))||void 0}(Er),Ki.expectedCountries=v2,Ki.expectedLanguages=Hc||(Ul?[Ul]:void 0),Ki.fields=!1===M1?void 0:function VL(an){return[...rr?.querySelectorAll(null!=an&&an.length?an.map(Ki=>`input[name="${Ki}"]`).join(", "):'input[type="text"]:not([data-no-spamfilter]), textarea:not([data-no-spamfilter])')||[]].reduce((Ki,Bo)=>{const sa=Bo.name,rc=Bo.value;return sa&&rc&&(Ki[sa]=/\n/.test(rc)?rc.replace(new RegExp("(?<!\\r)\\n","g"),"\r\n"):rc),Ki},{})}(M1),Ki.ipAddress=!1===O1?void 0:O1||"auto",Ki.text=YL,Ki.timeZone=!1===WL?void 0:WL||function Zt(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}}()}const Bo=yield fetch(ji,{body:JSON.stringify(Ki),headers:{"content-type":"application/json"},method:"POST"});if(200!==Bo.status)throw new Error(`Server responded with ${Bo.status}.`);const sa=yield Bo.json();if(null!=sa&&sa.payload&&r(6,zr=sa.payload),Ws("serververification",sa),ti&&"BAD"===sa.classification)throw new Error("SpamFilter returned negative classification.")})).apply(this,arguments)}function A(an){yr("expire",an),Oa&&(clearTimeout(Oa),Oa=null),an<1?f2():Oa=setTimeout(f2,an)}function U(an){yr("floating",an),Wi!==an&&(r(9,Oo.style.left="",Oo),r(9,Oo.style.top="",Oo)),r(1,Wi=!0===an||""===an?"auto":!1===an||"false"===an?void 0:Wi),Wi?(en||r(0,en="onsubmit"),document.addEventListener("scroll",VM),document.addEventListener("click",kM),window.addEventListener("resize",o)):"onsubmit"===en&&r(0,en=void 0)}function H(an){if(!an.algorithm)throw new Error("Invalid challenge. Property algorithm is missing.");if(void 0===an.signature)throw new Error("Invalid challenge. Property signature is missing.");if(!Hr.includes(an.algorithm.toUpperCase()))throw new Error(`Unknown algorithm value. Allowed values: ${Hr.join(", ")}`);if(!an.challenge||an.challenge.length<40)throw new Error("Challenge is too short. Min. 40 chars.");if(!an.salt||an.salt.length<10)throw new Error("Salt is too short. Min. 10 chars.")}function se(an){return ge.apply(this,arguments)}function ge(){return ge=(0,m.A)(function*(an){let Ki=null;if("Worker"in window){try{Ki=yield function Be(an){return Qe.apply(this,arguments)}(an,an.maxnumber)}catch(Bo){yr(Bo)}if(void 0!==Ki?.number||"obfuscated"in an)return{data:an,solution:Ki}}if("obfuscated"in an){const Bo=yield function It(d){return Fe.apply(this,arguments)}(an.obfuscated,an.key,an.maxnumber);return{data:an,solution:yield Bo.promise}}return{data:an,solution:yield xi(an.challenge,an.salt,an.algorithm,an.maxnumber||so).promise}}),ge.apply(this,arguments)}function Qe(){return(Qe=(0,m.A)(function*(an,Ki=("number"==typeof Ma?Ma:so),Bo=Math.ceil(ts)){const sa=[];Bo=Math.min(16,Math.max(1,Bo));for(let $a=0;$a<Bo;$a++)sa.push(altchaCreateWorker(ls));const rc=Math.ceil(Ki/Bo),_f=yield Promise.all(sa.map(($a,Er)=>{const Hc=Er*rc;return new Promise(v2=>{$a.addEventListener("message",M1=>{if(M1.data)for(const O1 of sa)O1!==$a&&O1.postMessage({type:"abort"});v2(M1.data)}),$a.postMessage({payload:an,max:Hc+rc,start:Hc,type:"work"})})}));for(const $a of sa)$a.terminate();return _f.find($a=>!!$a)||null})).apply(this,arguments)}function Mt(){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,m.A)(function*(){if(!po)return void r(7,ar=Xe.ERROR);const an=jl.find(Ki=>"obfuscation"===Ki.constructor.pluginName);return an&&"clarify"in an?"clarify"in an&&"function"==typeof an.clarify?an.clarify():void 0:(r(7,ar=Xe.ERROR),void yr("Plugin `obfuscation` not found. Import `altcha/plugins/obfuscation` to load it."))})).apply(this,arguments)}function on(an){void 0!==an.obfuscated&&r(24,po=an.obfuscated),void 0!==an.auto&&(r(0,en=an.auto),"onload"===en&&(po?Mt():oo())),void 0!==an.blockspam&&r(16,ti=!!an.blockspam),void 0!==an.floatinganchor&&r(20,Cs=an.floatinganchor),void 0!==an.delay&&r(18,Yi=an.delay),void 0!==an.floatingoffset&&r(21,As=an.floatingoffset),void 0!==an.floating&&U(an.floating),void 0!==an.expire&&(A(an.expire),r(19,Ts=an.expire)),an.challenge&&(H(an.challenge),De=an.challenge),void 0!==an.challengeurl&&r(15,ri=an.challengeurl),void 0!==an.debug&&r(17,qn=!!an.debug),void 0!==an.hidefooter&&r(2,jr=!!an.hidefooter),void 0!==an.hidelogo&&r(3,wr=!!an.hidelogo),void 0!==an.maxnumber&&r(22,so=+an.maxnumber),void 0!==an.mockerror&&r(23,Xo=!!an.mockerror),void 0!==an.name&&r(4,yo=an.name),void 0!==an.refetchonexpire&&r(25,qi=!!an.refetchonexpire),void 0!==an.spamfilter&&r(26,Eo="object"==typeof an.spamfilter?an.spamfilter:!!an.spamfilter),an.strings&&r(44,Ie=an.strings),void 0!==an.test&&r(27,Ma="number"==typeof an.test?an.test:!!an.test),void 0!==an.verifyurl&&r(28,ji=an.verifyurl),void 0!==an.workers&&r(29,ts=+an.workers),void 0!==an.workerurl&&r(30,ls=an.workerurl)}function Dn(){return{auto:en,blockspam:ti,challengeurl:ri,debug:qn,delay:Yi,expire:Ts,floating:Wi,floatinganchor:Cs,floatingoffset:As,hidefooter:jr,hidelogo:wr,name:yo,maxnumber:so,mockerror:Xo,obfuscated:po,refetchonexpire:qi,spamfilter:Eo,strings:tt,test:Ma,verifyurl:ji,workers:ts,workerurl:ls}}function Wn(){return Td}function pi(){return ar}function Vn(an=Xe.UNVERIFIED,Ki=null){Oa&&(clearTimeout(Oa),Oa=null),r(8,kr=!1),r(5,Vr=Ki),r(6,zr=null),r(7,ar=an)}function bs(an){Td=an}function Js(an,Ki=null){r(7,ar=an),r(5,Vr=Ki)}function oo(){return Or.apply(this,arguments)}function Or(){return Or=(0,m.A)(function*(){return Vn(Xe.VERIFYING),yield new Promise(an=>setTimeout(an,Yi||0)),function UL(){return D1.apply(this,arguments)}().then(an=>(H(an),yr("challenge",an),se(an))).then(({data:an,solution:Ki})=>{if(yr("solution",Ki),"challenge"in an&&Ki&&!("clearText"in Ki)){if(void 0===Ki?.number)throw yr("Unable to find a solution. Ensure that the 'maxnumber' attribute is greater than the randomly generated number."),new Error("Unexpected result returned.");if(ji)return function l(an){return g.apply(this,arguments)}(p2(an,Ki));r(6,zr=p2(an,Ki)),yr("payload",zr)}}).then(()=>{(function fn(){return Vt(),ze})().then(()=>{r(7,ar=Xe.VERIFIED),yr("verified"),Ws("verified",{payload:zr})})}).catch(an=>{yr(an),r(7,ar=Xe.ERROR),r(5,Vr=an.message)})}),Or.apply(this,arguments)}return function sn(d){vt().$$.on_destroy.push(d)}(()=>{(function BL(){for(const an of jl)an.destroy()})(),rr&&(rr.removeEventListener("submit",T1),rr.removeEventListener("reset",WM),rr.removeEventListener("focusin",$M),rr=null),Oa&&(clearTimeout(Oa),Oa=null),document.removeEventListener("click",kM),document.removeEventListener("scroll",VM),window.removeEventListener("resize",o)}),function Jt(d){vt().$$.on_mount.push(d)}(()=>{yr("mounted","0.9.0"),yr("workers",ts),function $L(){const an=void 0!==vr?vr.split(","):void 0;for(const Ki of globalThis.altchaPlugins)(!an||an.includes(Ki.pluginName))&&jl.push(new Ki({el:Oo,clarify:Mt,dispatch:Ws,getConfiguration:Dn,getFloatingAnchor:Wn,getState:pi,log:yr,reset:Vn,solve:se,setState:Js,setFloatingAnchor:bs,verify:oo}))}(),yr("plugins",jl.length?jl.map(an=>an.constructor.pluginName).join(", "):"none"),Ma&&yr("using test mode"),Ts&&A(Ts),void 0!==en&&yr("auto",en),void 0!==Wi&&U(Wi),rr=Oo.closest("form"),rr&&(rr.addEventListener("submit",T1,{capture:!0}),rr.addEventListener("reset",WM),"onfocus"===en&&rr.addEventListener("focusin",$M)),"onload"===en&&(po?Mt():oo()),Y&&(jr||wr)&&yr("Attributes hidefooter and hidelogo ignored because usage with free API Keys requires attribution."),requestAnimationFrame(()=>{Ws("load")})}),d.$$set=an=>{"auto"in an&&r(0,en=an.auto),"blockspam"in an&&r(16,ti=an.blockspam),"challengeurl"in an&&r(15,ri=an.challengeurl),"challengejson"in an&&r(31,Xn=an.challengejson),"debug"in an&&r(17,qn=an.debug),"delay"in an&&r(18,Yi=an.delay),"expire"in an&&r(19,Ts=an.expire),"floating"in an&&r(1,Wi=an.floating),"floatinganchor"in an&&r(20,Cs=an.floatinganchor),"floatingoffset"in an&&r(21,As=an.floatingoffset),"hidefooter"in an&&r(2,jr=an.hidefooter),"hidelogo"in an&&r(3,wr=an.hidelogo),"name"in an&&r(4,yo=an.name),"maxnumber"in an&&r(22,so=an.maxnumber),"mockerror"in an&&r(23,Xo=an.mockerror),"obfuscated"in an&&r(24,po=an.obfuscated),"plugins"in an&&r(32,vr=an.plugins),"refetchonexpire"in an&&r(25,qi=an.refetchonexpire),"spamfilter"in an&&r(26,Eo=an.spamfilter),"strings"in an&&r(33,Dh=an.strings),"test"in an&&r(27,Ma=an.test),"verifyurl"in an&&r(28,ji=an.verifyurl),"workers"in an&&r(29,ts=an.workers),"workerurl"in an&&r(30,ls=an.workerurl),"$$scope"in an&&r(45,bn=an.$$scope)},d.$$.update=()=>{32768&d.$$.dirty[0]&&r(12,Y=!(null==ri||!ri.includes(".altcha.org")||null==ri||!ri.includes("apiKey=ckey_"))),1&d.$$.dirty[1]&&(De=Xn?ps(Xn):void 0),4&d.$$.dirty[1]&&r(44,Ie=Dh?ps(Dh):{}),8192&d.$$.dirty[1]&&r(11,tt={ariaLinkLabel:Ss,error:"Verification failed. Try again later.",expired:"Verification expired. Try again.",footer:`Protected by <a href="${Ji}" target="_blank" aria-label="${Ie.ariaLinkLabel||Ss}">ALTCHA</a>`,label:"I'm not a robot",verified:"Verified",verifying:"Verifying...",waitAlert:"Verifying... please wait.",...Ie}),192&d.$$.dirty[0]&&Ws("statechange",{payload:zr,state:ar}),32&d.$$.dirty[0]&&function g2(){for(const Ki of jl)"function"==typeof Ki.onErrorChange&&Ki.onErrorChange(Vr)}(),128&d.$$.dirty[0]&&function _2(){for(const Ki of jl)"function"==typeof Ki.onStateChange&&Ki.onStateChange(ar);Wi&&ar!==Xe.UNVERIFIED&&requestAnimationFrame(()=>{a()}),r(8,kr=ar===Xe.VERIFIED)}()},[en,Wi,jr,wr,yo,Vr,zr,ar,kr,Oo,So,tt,Y,function m2(){[Xe.UNVERIFIED,Xe.ERROR,Xe.EXPIRED].includes(ar)?Eo&&!1===rr?.reportValidity()?r(8,kr=!1):po?Mt():oo():r(8,kr=!0)},GM,ri,ti,qn,Yi,Ts,Cs,As,so,Xo,po,qi,Eo,Ma,ji,ts,ls,Xn,vr,Dh,Mt,on,Dn,Wn,function li(an){return jl.find(Ki=>Ki.constructor.pluginName===an)},pi,Vn,bs,Js,oo,Ie,bn,Pt,function Dl(){kr=this.checked,r(8,kr)},function gf(an){Je[an?"unshift":"push"](()=>{So=an,r(10,So)})},function KM(an){Je[an?"unshift":"push"](()=>{Oo=an,r(9,Oo)})}]}customElements.define("altcha-widget",function is(d,_,r,u,w){let De=class extends ai{constructor(){super(d,r,w),this.$$p_d=_}static get observedAttributes(){return Object.keys(_).map(Ie=>(_[Ie].attribute||Ie).toLowerCase())}};return Object.keys(_).forEach(Ie=>{Object.defineProperty(De.prototype,Ie,{get(){return this.$$c&&Ie in this.$$c?this.$$c[Ie]:this.$$d[Ie]},set(tt){var Pt;tt=ns(Ie,tt,_),this.$$d[Ie]=tt,null==(Pt=this.$$c)||Pt.$set({[Ie]:tt})}})}),u.forEach(Ie=>{Object.defineProperty(De.prototype,Ie,{get(){var tt;return null==(tt=this.$$c)?void 0:tt[Ie]}})}),d.element=De,De}(class _n extends si{constructor(_){super(),function oi(d,_,r,u,w,Y,De=null,Ie=[-1]){const tt=Et;kt(d);const Pt=d.$$={fragment:null,ctx:[],props:Y,update:oe,not_equal:w,bound:_e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(_.context||(tt?tt.$$.context:[])),callbacks:_e(),dirty:Ie,skip_bound:!1,root:_.target||tt.$$.root};De&&De(Pt.root);let bn=!1;if(Pt.ctx=r?r(d,_.props||{},(en,ti,...ri)=>{const Xn=ri.length?ri[0]:ti;return Pt.ctx&&w(Pt.ctx[en],Pt.ctx[en]=Xn)&&(!Pt.skip_bound&&Pt.bound[en]&&Pt.bound[en](Xn),bn&&function ni(d,_){-1===d.$$.dirty[0]&&(Gt.push(d),Vt(),d.$$.dirty.fill(0)),d.$$.dirty[_/31|0]|=1<<_%31}(d,en)),ti}):[],Pt.update(),bn=!0,Ce(Pt.before_update),Pt.fragment=!!u&&u(Pt.ctx),_.target){if(_.hydrate){const en=function wt(d){return Array.from(d.childNodes)}(_.target);Pt.fragment&&Pt.fragment.l(en),en.forEach(je)}else Pt.fragment&&Pt.fragment.c();_.intro&&bt(d.$$.fragment),function En(d,_,r){const{fragment:u,after_update:w}=d.$$;u&&u.m(_,r),At(()=>{const Y=d.$$.on_mount.map(ve).filter(qe);d.$$.on_destroy?d.$$.on_destroy.push(...Y):Ce(Y),d.$$.on_mount=[]}),w.forEach(At)}(d,_.target,_.anchor),Lt()}kt(tt)}(this,_,Ft,gs,Re,{auto:0,blockspam:16,challengeurl:15,challengejson:31,debug:17,delay:18,expire:19,floating:1,floatinganchor:20,floatingoffset:21,hidefooter:2,hidelogo:3,name:4,maxnumber:22,mockerror:23,obfuscated:24,plugins:32,refetchonexpire:25,spamfilter:26,strings:33,test:27,verifyurl:28,workers:29,workerurl:30,clarify:34,configure:35,getConfiguration:36,getFloatingAnchor:37,getPlugin:38,getState:39,reset:40,setFloatingAnchor:41,setState:42,verify:43},gt,[-1,-1,-1])}get auto(){return this.$$.ctx[0]}set auto(_){this.$$set({auto:_}),Lt()}get blockspam(){return this.$$.ctx[16]}set blockspam(_){this.$$set({blockspam:_}),Lt()}get challengeurl(){return this.$$.ctx[15]}set challengeurl(_){this.$$set({challengeurl:_}),Lt()}get challengejson(){return this.$$.ctx[31]}set challengejson(_){this.$$set({challengejson:_}),Lt()}get debug(){return this.$$.ctx[17]}set debug(_){this.$$set({debug:_}),Lt()}get delay(){return this.$$.ctx[18]}set delay(_){this.$$set({delay:_}),Lt()}get expire(){return this.$$.ctx[19]}set expire(_){this.$$set({expire:_}),Lt()}get floating(){return this.$$.ctx[1]}set floating(_){this.$$set({floating:_}),Lt()}get floatinganchor(){return this.$$.ctx[20]}set floatinganchor(_){this.$$set({floatinganchor:_}),Lt()}get floatingoffset(){return this.$$.ctx[21]}set floatingoffset(_){this.$$set({floatingoffset:_}),Lt()}get hidefooter(){return this.$$.ctx[2]}set hidefooter(_){this.$$set({hidefooter:_}),Lt()}get hidelogo(){return this.$$.ctx[3]}set hidelogo(_){this.$$set({hidelogo:_}),Lt()}get name(){return this.$$.ctx[4]}set name(_){this.$$set({name:_}),Lt()}get maxnumber(){return this.$$.ctx[22]}set maxnumber(_){this.$$set({maxnumber:_}),Lt()}get mockerror(){return this.$$.ctx[23]}set mockerror(_){this.$$set({mockerror:_}),Lt()}get obfuscated(){return this.$$.ctx[24]}set obfuscated(_){this.$$set({obfuscated:_}),Lt()}get plugins(){return this.$$.ctx[32]}set plugins(_){this.$$set({plugins:_}),Lt()}get refetchonexpire(){return this.$$.ctx[25]}set refetchonexpire(_){this.$$set({refetchonexpire:_}),Lt()}get spamfilter(){return this.$$.ctx[26]}set spamfilter(_){this.$$set({spamfilter:_}),Lt()}get strings(){return this.$$.ctx[33]}set strings(_){this.$$set({strings:_}),Lt()}get test(){return this.$$.ctx[27]}set test(_){this.$$set({test:_}),Lt()}get verifyurl(){return this.$$.ctx[28]}set verifyurl(_){this.$$set({verifyurl:_}),Lt()}get workers(){return this.$$.ctx[29]}set workers(_){this.$$set({workers:_}),Lt()}get workerurl(){return this.$$.ctx[30]}set workerurl(_){this.$$set({workerurl:_}),Lt()}get clarify(){return this.$$.ctx[34]}get configure(){return this.$$.ctx[35]}get getConfiguration(){return this.$$.ctx[36]}get getFloatingAnchor(){return this.$$.ctx[37]}get getPlugin(){return this.$$.ctx[38]}get getState(){return this.$$.ctx[39]}get reset(){return this.$$.ctx[40]}get setFloatingAnchor(){return this.$$.ctx[41]}get setState(){return this.$$.ctx[42]}get verify(){return this.$$.ctx[43]}},{auto:{},blockspam:{},challengeurl:{},challengejson:{},debug:{type:"Boolean"},delay:{},expire:{},floating:{},floatinganchor:{},floatingoffset:{},hidefooter:{type:"Boolean"},hidelogo:{type:"Boolean"},name:{},maxnumber:{},mockerror:{type:"Boolean"},obfuscated:{},plugins:{},refetchonexpire:{type:"Boolean"},spamfilter:{type:"Boolean"},strings:{},test:{type:"Boolean"},verifyurl:{},workers:{},workerurl:{}},["default"],["clarify","configure","getConfiguration","getFloatingAnchor","getPlugin","getState","reset","setFloatingAnchor","setState","verify"],!1)),globalThis.altchaCreateWorker=d=>d?new Worker(new URL(d)):new ae,globalThis.altchaPlugins=globalThis.altchaPlugins||[];var We=n(21626),be=n(49969);function Ue(d){return new e.wOt(3e3,!1)}function jt(d){switch(d.length){case 0:return new be.sf;case 1:return d[0];default:return new be.ui(d)}}function Nt(d,_,r=new Map,u=new Map){const w=[],Y=[];let De=-1,Ie=null;if(_.forEach(tt=>{const Pt=tt.get("offset"),bn=Pt==De,en=bn&&Ie||new Map;tt.forEach((ti,ri)=>{let Xn=ri,qn=ti;if("offset"!==ri)switch(Xn=d.normalizePropertyName(Xn,w),qn){case be.FX:qn=r.get(ri);break;case be.kp:qn=u.get(ri);break;default:qn=d.normalizeStyleValue(ri,Xn,qn,w)}en.set(Xn,qn)}),bn||Y.push(en),Ie=en,De=Pt}),w.length)throw function Ei(){return new e.wOt(3502,!1)}();return Y}function Ln(d,_,r,u){switch(_){case"start":d.onStart(()=>u(r&&hi(r,"start",d)));break;case"done":d.onDone(()=>u(r&&hi(r,"done",d)));break;case"destroy":d.onDestroy(()=>u(r&&hi(r,"destroy",d)))}}function hi(d,_,r){const Y=Li(d.element,d.triggerName,d.fromState,d.toState,_||d.phaseName,r.totalTime??d.totalTime,!!r.disabled),De=d._data;return null!=De&&(Y._data=De),Y}function Li(d,_,r,u,w="",Y=0,De){return{element:d,triggerName:_,fromState:r,toState:u,phaseName:w,totalTime:Y,disabled:!!De}}function $i(d,_,r){let u=d.get(_);return u||d.set(_,u=r),u}function Ci(d){const _=d.indexOf(":");return[d.substring(1,_),d.slice(_+1)]}const Ls=typeof document>"u"?null:document.documentElement;function qs(d){const _=d.parentNode||d.host||null;return _===Ls?null:_}let Qi=null,mr=!1;function Io(d,_){for(;_;){if(_===d)return!0;_=qs(_)}return!1}function os(d,_,r){if(r)return Array.from(d.querySelectorAll(_));const u=d.querySelector(_);return u?[u]:[]}let gr=(()=>{class d{validateStyleProperty(r){return function Is(d){Qi||(Qi=function ca(){return typeof document<"u"?document.body:null}()||{},mr=!!Qi.style&&"WebkitAppearance"in Qi.style);let _=!0;return Qi.style&&!function Mo(d){return"ebkit"==d.substring(1,6)}(d)&&(_=d in Qi.style,!_&&mr&&(_="Webkit"+d.charAt(0).toUpperCase()+d.slice(1)in Qi.style)),_}(r)}containsElement(r,u){return Io(r,u)}getParentElement(r){return qs(r)}query(r,u,w){return os(r,u,w)}computeStyle(r,u,w){return w||""}animate(r,u,w,Y,De,Ie=[],tt){return new be.sf(w,Y)}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();class Yr{static{this.NOOP=new gr}}class da{}const Nr=1e3,Qr="ng-enter",St="ng-leave",qt="ng-trigger",ue=".ng-trigger",Ye="ng-animating",Dt=".ng-animating";function nn(d){if("number"==typeof d)return d;const _=d.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:Bn(parseFloat(_[1]),_[2])}function Bn(d,_){return"s"===_?d*Nr:d}function xe(d,_,r){return d.hasOwnProperty("duration")?d:function Ve(d,_,r){let w,Y=0,De="";if("string"==typeof d){const Ie=d.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ie)return _.push(Ue()),{duration:0,delay:0,easing:""};w=Bn(parseFloat(Ie[1]),Ie[2]);const tt=Ie[3];null!=tt&&(Y=Bn(parseFloat(tt),Ie[4]));const Pt=Ie[5];Pt&&(De=Pt)}else w=d;if(!r){let Ie=!1,tt=_.length;w<0&&(_.push(function ht(){return new e.wOt(3100,!1)}()),Ie=!0),Y<0&&(_.push(function Ut(){return new e.wOt(3101,!1)}()),Ie=!0),Ie&&_.splice(tt,0,Ue())}return{duration:w,delay:Y,easing:De}}(d,_,r)}function Ht(d,_,r){_.forEach((u,w)=>{const Y=kl(w);r&&!r.has(w)&&r.set(w,d.style[Y]),d.style[Y]=u})}function gi(d,_){_.forEach((r,u)=>{const w=kl(u);d.style[w]=""})}function rs(d){return Array.isArray(d)?1==d.length?d[0]:(0,be.K2)(d):d}const Yo=new RegExp("{{\\s*(.+?)\\s*}}","g");function Tl(d){let _=[];if("string"==typeof d){let r;for(;r=Yo.exec(d);)_.push(r[1]);Yo.lastIndex=0}return _}function Ml(d,_,r){const u=`${d}`,w=u.replace(Yo,(Y,De)=>{let Ie=_[De];return null==Ie&&(r.push(function un(){return new e.wOt(3003,!1)}()),Ie=""),Ie.toString()});return w==u?d:w}const Md=/-+([a-z0-9])/g;function kl(d){return d.replace(Md,(..._)=>_[1].toUpperCase())}function Qo(d,_,r){switch(_.type){case be.If.Trigger:return d.visitTrigger(_,r);case be.If.State:return d.visitState(_,r);case be.If.Transition:return d.visitTransition(_,r);case be.If.Sequence:return d.visitSequence(_,r);case be.If.Group:return d.visitGroup(_,r);case be.If.Animate:return d.visitAnimate(_,r);case be.If.Keyframes:return d.visitKeyframes(_,r);case be.If.Style:return d.visitStyle(_,r);case be.If.Reference:return d.visitReference(_,r);case be.If.AnimateChild:return d.visitAnimateChild(_,r);case be.If.AnimateRef:return d.visitAnimateRef(_,r);case be.If.Query:return d.visitQuery(_,r);case be.If.Stagger:return d.visitStagger(_,r);default:throw function jn(){return new e.wOt(3004,!1)}()}}function Vl(d,_){return window.getComputedStyle(d)[_]}const zc=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ol extends da{normalizePropertyName(_,r){return kl(_)}normalizeStyleValue(_,r,u,w){let Y="";const De=u.toString().trim();if(zc.has(r)&&0!==u&&"0"!==u)if("number"==typeof u)Y="px";else{const Ie=u.match(/^[+-]?[\d\.]+([a-z]*)$/);Ie&&0==Ie[1].length&&w.push(function Zn(){return new e.wOt(3005,!1)}())}return De+Y}}const Ka="*";const Fr=new Set(["true","1"]),Ha=new Set(["false","0"]);function Wl(d,_){const r=Fr.has(d)||Ha.has(d),u=Fr.has(_)||Ha.has(_);return(w,Y)=>{let De=d==Ka||d==w,Ie=_==Ka||_==Y;return!De&&r&&"boolean"==typeof w&&(De=w?Fr.has(d):Ha.has(d)),!Ie&&u&&"boolean"==typeof Y&&(Ie=Y?Fr.has(_):Ha.has(_)),De&&Ie}}const ac=new RegExp("s*:selfs*,?","g");function Xc(d,_,r,u){return new Od(d).build(_,r,u)}class Od{constructor(_){this._driver=_}build(_,r,u){const w=new Wo(r);return this._resetContextStyleTimingState(w),Qo(this,rs(_),w)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,r){let u=r.queryCount=0,w=r.depCount=0;const Y=[],De=[];return"@"==_.name.charAt(0)&&r.errors.push(function wi(){return new e.wOt(3006,!1)}()),_.definitions.forEach(Ie=>{if(this._resetContextStyleTimingState(r),Ie.type==be.If.State){const tt=Ie,Pt=tt.name;Pt.toString().split(/\s*,\s*/).forEach(bn=>{tt.name=bn,Y.push(this.visitState(tt,r))}),tt.name=Pt}else if(Ie.type==be.If.Transition){const tt=this.visitTransition(Ie,r);u+=tt.queryCount,w+=tt.depCount,De.push(tt)}else r.errors.push(function _s(){return new e.wOt(3007,!1)}())}),{type:be.If.Trigger,name:_.name,states:Y,transitions:De,queryCount:u,depCount:w,options:null}}visitState(_,r){const u=this.visitStyle(_.styles,r),w=_.options&&_.options.params||null;if(u.containsDynamicStyles){const Y=new Set,De=w||{};u.styles.forEach(Ie=>{Ie instanceof Map&&Ie.forEach(tt=>{Tl(tt).forEach(Pt=>{De.hasOwnProperty(Pt)||Y.add(Pt)})})}),Y.size&&r.errors.push(function Uo(){return new e.wOt(3008,!1)}(0,Y.values()))}return{type:be.If.State,name:_.name,style:u,options:w?{params:w}:null}}visitTransition(_,r){r.queryCount=0,r.depCount=0;const u=Qo(this,rs(_.animation),r),w=function Sl(d,_){const r=[];return"string"==typeof d?d.split(/\s*,\s*/).forEach(u=>function Tc(d,_,r){if(":"==d[0]){const tt=function xa(d,_){switch(d){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,u)=>parseFloat(u)>parseFloat(r);case":decrement":return(r,u)=>parseFloat(u)<parseFloat(r);default:return _.push(function ko(){return new e.wOt(3016,!1)}()),"* => *"}}(d,r);if("function"==typeof tt)return void _.push(tt);d=tt}const u=d.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return r.push(function Xr(){return new e.wOt(3015,!1)}()),_;const w=u[1],Y=u[2],De=u[3];_.push(Wl(w,De)),"<"==Y[0]&&(w!=Ka||De!=Ka)&&_.push(Wl(De,w))}(u,r,_)):r.push(d),r}(_.expr,r.errors);return{type:be.If.Transition,matchers:w,animation:u,queryCount:r.queryCount,depCount:r.depCount,options:dr(_.options)}}visitSequence(_,r){return{type:be.If.Sequence,steps:_.steps.map(u=>Qo(this,u,r)),options:dr(_.options)}}visitGroup(_,r){const u=r.currentTime;let w=0;const Y=_.steps.map(De=>{r.currentTime=u;const Ie=Qo(this,De,r);return w=Math.max(w,r.currentTime),Ie});return r.currentTime=w,{type:be.If.Group,steps:Y,options:dr(_.options)}}visitAnimate(_,r){const u=function lc(d,_){if(d.hasOwnProperty("duration"))return d;if("number"==typeof d)return Ks(xe(d,_).duration,0,"");const r=d;if(r.split(/\s+/).some(Y=>"{"==Y.charAt(0)&&"{"==Y.charAt(1))){const Y=Ks(0,0,"");return Y.dynamic=!0,Y.strValue=r,Y}const w=xe(r,_);return Ks(w.duration,w.delay,w.easing)}(_.timings,r.errors);r.currentAnimateTimings=u;let w,Y=_.styles?_.styles:(0,be.iF)({});if(Y.type==be.If.Keyframes)w=this.visitKeyframes(Y,r);else{let De=_.styles,Ie=!1;if(!De){Ie=!0;const Pt={};u.easing&&(Pt.easing=u.easing),De=(0,be.iF)(Pt)}r.currentTime+=u.duration+u.delay;const tt=this.visitStyle(De,r);tt.isEmptyStep=Ie,w=tt}return r.currentAnimateTimings=null,{type:be.If.Animate,timings:u,style:w,options:null}}visitStyle(_,r){const u=this._makeStyleAst(_,r);return this._validateStyleAst(u,r),u}_makeStyleAst(_,r){const u=[],w=Array.isArray(_.styles)?_.styles:[_.styles];for(let Ie of w)"string"==typeof Ie?Ie===be.kp?u.push(Ie):r.errors.push(new e.wOt(3002,!1)):u.push(new Map(Object.entries(Ie)));let Y=!1,De=null;return u.forEach(Ie=>{if(Ie instanceof Map&&(Ie.has("easing")&&(De=Ie.get("easing"),Ie.delete("easing")),!Y))for(let tt of Ie.values())if(tt.toString().indexOf("{{")>=0){Y=!0;break}}),{type:be.If.Style,styles:u,easing:De,offset:_.offset,containsDynamicStyles:Y,options:null}}_validateStyleAst(_,r){const u=r.currentAnimateTimings;let w=r.currentTime,Y=r.currentTime;u&&Y>0&&(Y-=u.duration+u.delay),_.styles.forEach(De=>{"string"!=typeof De&&De.forEach((Ie,tt)=>{const Pt=r.collectedStyles.get(r.currentQuerySelector),bn=Pt.get(tt);let en=!0;bn&&(Y!=w&&Y>=bn.startTime&&w<=bn.endTime&&(r.errors.push(function er(){return new e.wOt(3010,!1)}()),en=!1),Y=bn.startTime),en&&Pt.set(tt,{startTime:Y,endTime:w}),r.options&&function Pr(d,_,r){const u=_.params||{},w=Tl(d);w.length&&w.forEach(Y=>{u.hasOwnProperty(Y)||r.push(function pn(){return new e.wOt(3001,!1)}())})}(Ie,r.options,r.errors)})})}visitKeyframes(_,r){const u={type:be.If.Keyframes,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function Zs(){return new e.wOt(3011,!1)}()),u;let Y=0;const De=[];let Ie=!1,tt=!1,Pt=0;const bn=_.steps.map(Ts=>{const Wi=this._makeStyleAst(Ts,r);let Cs=null!=Wi.offset?Wi.offset:function $r(d){if("string"==typeof d)return null;let _=null;if(Array.isArray(d))d.forEach(r=>{if(r instanceof Map&&r.has("offset")){const u=r;_=parseFloat(u.get("offset")),u.delete("offset")}});else if(d instanceof Map&&d.has("offset")){const r=d;_=parseFloat(r.get("offset")),r.delete("offset")}return _}(Wi.styles),As=0;return null!=Cs&&(Y++,As=Wi.offset=Cs),tt=tt||As<0||As>1,Ie=Ie||As<Pt,Pt=As,De.push(As),Wi});tt&&r.errors.push(function tr(){return new e.wOt(3012,!1)}()),Ie&&r.errors.push(function Cr(){return new e.wOt(3200,!1)}());const en=_.steps.length;let ti=0;Y>0&&Y<en?r.errors.push(function Sr(){return new e.wOt(3202,!1)}()):0==Y&&(ti=1/(en-1));const ri=en-1,Xn=r.currentTime,qn=r.currentAnimateTimings,Yi=qn.duration;return bn.forEach((Ts,Wi)=>{const Cs=ti>0?Wi==ri?1:ti*Wi:De[Wi],As=Cs*Yi;r.currentTime=Xn+qn.delay+As,qn.duration=As,this._validateStyleAst(Ts,r),Ts.offset=Cs,u.styles.push(Ts)}),u}visitReference(_,r){return{type:be.If.Reference,animation:Qo(this,rs(_.animation),r),options:dr(_.options)}}visitAnimateChild(_,r){return r.depCount++,{type:be.If.AnimateChild,options:dr(_.options)}}visitAnimateRef(_,r){return{type:be.If.AnimateRef,animation:this.visitReference(_.animation,r),options:dr(_.options)}}visitQuery(_,r){const u=r.currentQuerySelector,w=_.options||{};r.queryCount++,r.currentQuery=_;const[Y,De]=function Gl(d){const _=!!d.split(/\s*,\s*/).find(r=>":self"==r);return _&&(d=d.replace(ac,"")),d=d.replace(/@\*/g,ue).replace(/@\w+/g,r=>ue+"-"+r.slice(1)).replace(/:animating/g,Dt),[d,_]}(_.selector);r.currentQuerySelector=u.length?u+" "+Y:Y,$i(r.collectedStyles,r.currentQuerySelector,new Map);const Ie=Qo(this,rs(_.animation),r);return r.currentQuery=null,r.currentQuerySelector=u,{type:be.If.Query,selector:Y,limit:w.limit||0,optional:!!w.optional,includeSelf:De,animation:Ie,originalSelector:_.selector,options:dr(_.options)}}visitStagger(_,r){r.currentQuery||r.errors.push(function oa(){return new e.wOt(3013,!1)}());const u="full"===_.timings?{duration:0,delay:0,easing:"full"}:xe(_.timings,r.errors,!0);return{type:be.If.Stagger,animation:Qo(this,rs(_.animation),r),timings:u,options:null}}}class Wo{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dr(d){return d?(d={...d}).params&&(d.params=function Mc(d){return d?{...d}:null}(d.params)):d={},d}function Ks(d,_,r){return{duration:d,delay:_,easing:r}}function $t(d,_,r,u,w,Y,De=null,Ie=!1){return{type:1,element:d,keyframes:_,preStyleProps:r,postStyleProps:u,duration:w,delay:Y,totalTime:w+Y,easing:De,subTimeline:Ie}}class mn{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,r){let u=this._map.get(_);u||this._map.set(_,u=[]),u.push(...r)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const di=new RegExp(":enter","g"),Zi=new RegExp(":leave","g");function yi(d,_,r,u,w,Y=new Map,De=new Map,Ie,tt,Pt=[]){return(new eo).buildKeyframes(d,_,r,u,w,Y,De,Ie,tt,Pt)}class eo{buildKeyframes(_,r,u,w,Y,De,Ie,tt,Pt,bn=[]){Pt=Pt||new mn;const en=new bo(_,r,Pt,w,Y,bn,[]);en.options=tt;const ti=tt.delay?nn(tt.delay):0;en.currentTimeline.delayNextStep(ti),en.currentTimeline.setStyles([De],null,en.errors,tt),Qo(this,u,en);const ri=en.timelines.filter(Xn=>Xn.containsAnimation());if(ri.length&&Ie.size){let Xn;for(let qn=ri.length-1;qn>=0;qn--){const Yi=ri[qn];if(Yi.element===r){Xn=Yi;break}}Xn&&!Xn.allowOnlyTimelineStyles()&&Xn.setStyles([Ie],null,en.errors,tt)}return ri.length?ri.map(Xn=>Xn.buildKeyframes()):[$t(r,[],[],[],0,ti,"",!1)]}visitTrigger(_,r){}visitState(_,r){}visitTransition(_,r){}visitAnimateChild(_,r){const u=r.subInstructions.get(r.element);if(u){const w=r.createSubContext(_.options),Y=r.currentTimeline.currentTime,De=this._visitSubInstructions(u,w,w.options);Y!=De&&r.transformIntoNewTimeline(De)}r.previousNode=_}visitAnimateRef(_,r){const u=r.createSubContext(_.options);u.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],r,u),this.visitReference(_.animation,u),r.transformIntoNewTimeline(u.currentTimeline.currentTime),r.previousNode=_}_applyAnimationRefDelays(_,r,u){for(const w of _){const Y=w?.delay;if(Y){const De="number"==typeof Y?Y:nn(Ml(Y,w?.params??{},r.errors));u.delayNextStep(De)}}}_visitSubInstructions(_,r,u){let Y=r.currentTimeline.currentTime;const De=null!=u.duration?nn(u.duration):null,Ie=null!=u.delay?nn(u.delay):null;return 0!==De&&_.forEach(tt=>{const Pt=r.appendInstructionToTimeline(tt,De,Ie);Y=Math.max(Y,Pt.duration+Pt.delay)}),Y}visitReference(_,r){r.updateOptions(_.options,!0),Qo(this,_.animation,r),r.previousNode=_}visitSequence(_,r){const u=r.subContextCount;let w=r;const Y=_.options;if(Y&&(Y.params||Y.delay)&&(w=r.createSubContext(Y),w.transformIntoNewTimeline(),null!=Y.delay)){w.previousNode.type==be.If.Style&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=xs);const De=nn(Y.delay);w.delayNextStep(De)}_.steps.length&&(_.steps.forEach(De=>Qo(this,De,w)),w.currentTimeline.applyStylesToKeyframe(),w.subContextCount>u&&w.transformIntoNewTimeline()),r.previousNode=_}visitGroup(_,r){const u=[];let w=r.currentTimeline.currentTime;const Y=_.options&&_.options.delay?nn(_.options.delay):0;_.steps.forEach(De=>{const Ie=r.createSubContext(_.options);Y&&Ie.delayNextStep(Y),Qo(this,De,Ie),w=Math.max(w,Ie.currentTimeline.currentTime),u.push(Ie.currentTimeline)}),u.forEach(De=>r.currentTimeline.mergeTimelineCollectedStyles(De)),r.transformIntoNewTimeline(w),r.previousNode=_}_visitTiming(_,r){if(_.dynamic){const u=_.strValue;return xe(r.params?Ml(u,r.params,r.errors):u,r.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,r){const u=r.currentAnimateTimings=this._visitTiming(_.timings,r),w=r.currentTimeline;u.delay&&(r.incrementTime(u.delay),w.snapshotCurrentStyles());const Y=_.style;Y.type==be.If.Keyframes?this.visitKeyframes(Y,r):(r.incrementTime(u.duration),this.visitStyle(Y,r),w.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=_}visitStyle(_,r){const u=r.currentTimeline,w=r.currentAnimateTimings;!w&&u.hasCurrentStyleProperties()&&u.forwardFrame();const Y=w&&w.easing||_.easing;_.isEmptyStep?u.applyEmptyStep(Y):u.setStyles(_.styles,Y,r.errors,r.options),r.previousNode=_}visitKeyframes(_,r){const u=r.currentAnimateTimings,w=r.currentTimeline.duration,Y=u.duration,Ie=r.createSubContext().currentTimeline;Ie.easing=u.easing,_.styles.forEach(tt=>{Ie.forwardTime((tt.offset||0)*Y),Ie.setStyles(tt.styles,tt.easing,r.errors,r.options),Ie.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(Ie),r.transformIntoNewTimeline(w+Y),r.previousNode=_}visitQuery(_,r){const u=r.currentTimeline.currentTime,w=_.options||{},Y=w.delay?nn(w.delay):0;Y&&(r.previousNode.type===be.If.Style||0==u&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xs);let De=u;const Ie=r.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!w.optional,r.errors);r.currentQueryTotal=Ie.length;let tt=null;Ie.forEach((Pt,bn)=>{r.currentQueryIndex=bn;const en=r.createSubContext(_.options,Pt);Y&&en.delayNextStep(Y),Pt===r.element&&(tt=en.currentTimeline),Qo(this,_.animation,en),en.currentTimeline.applyStylesToKeyframe(),De=Math.max(De,en.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(De),tt&&(r.currentTimeline.mergeTimelineCollectedStyles(tt),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=_}visitStagger(_,r){const u=r.parentContext,w=r.currentTimeline,Y=_.timings,De=Math.abs(Y.duration),Ie=De*(r.currentQueryTotal-1);let tt=De*r.currentQueryIndex;switch(Y.duration<0?"reverse":Y.easing){case"reverse":tt=Ie-tt;break;case"full":tt=u.currentStaggerTime}const bn=r.currentTimeline;tt&&bn.delayNextStep(tt);const en=bn.currentTime;Qo(this,_.animation,r),r.previousNode=_,u.currentStaggerTime=w.currentTime-en+(w.startTime-u.currentTimeline.startTime)}}const xs={};class bo{constructor(_,r,u,w,Y,De,Ie,tt){this._driver=_,this.element=r,this.subInstructions=u,this._enterClassName=w,this._leaveClassName=Y,this.errors=De,this.timelines=Ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=tt||new ao(this._driver,r,0),Ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,r){if(!_)return;const u=_;let w=this.options;null!=u.duration&&(w.duration=nn(u.duration)),null!=u.delay&&(w.delay=nn(u.delay));const Y=u.params;if(Y){let De=w.params;De||(De=this.options.params={}),Object.keys(Y).forEach(Ie=>{(!r||!De.hasOwnProperty(Ie))&&(De[Ie]=Ml(Y[Ie],De,this.errors))})}}_copyOptions(){const _={};if(this.options){const r=this.options.params;if(r){const u=_.params={};Object.keys(r).forEach(w=>{u[w]=r[w]})}}return _}createSubContext(_=null,r,u){const w=r||this.element,Y=new bo(this._driver,w,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(w,u||0));return Y.previousNode=this.previousNode,Y.currentAnimateTimings=this.currentAnimateTimings,Y.options=this._copyOptions(),Y.updateOptions(_),Y.currentQueryIndex=this.currentQueryIndex,Y.currentQueryTotal=this.currentQueryTotal,Y.parentContext=this,this.subContextCount++,Y}transformIntoNewTimeline(_){return this.previousNode=xs,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,r,u){const w={duration:r??_.duration,delay:this.currentTimeline.currentTime+(u??0)+_.delay,easing:""},Y=new Fs(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,w,_.stretchStartingKeyframe);return this.timelines.push(Y),w}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,r,u,w,Y,De){let Ie=[];if(w&&Ie.push(this.element),_.length>0){_=(_=_.replace(di,"."+this._enterClassName)).replace(Zi,"."+this._leaveClassName);let Pt=this._driver.query(this.element,_,1!=u);0!==u&&(Pt=u<0?Pt.slice(Pt.length+u,Pt.length):Pt.slice(0,u)),Ie.push(...Pt)}return!Y&&0==Ie.length&&De.push(function fr(){return new e.wOt(3014,!1)}()),Ie}}class ao{constructor(_,r,u,w){this._driver=_,this.element=r,this.startTime=u,this._elementTimelineStylesLookup=w,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+_),r&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,r){return this.applyStylesToKeyframe(),new ao(this._driver,_,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,r){this._localTimelineStyles.set(_,r),this._globalTimelineStyles.set(_,r),this._styleSummary.set(_,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[r,u]of this._globalTimelineStyles)this._backFill.set(r,u||be.kp),this._currentKeyframe.set(r,be.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,r,u,w){r&&this._previousKeyframe.set("easing",r);const Y=w&&w.params||{},De=function xo(d,_){const r=new Map;let u;return d.forEach(w=>{if("*"===w){u??=_.keys();for(let Y of u)r.set(Y,be.kp)}else for(let[Y,De]of w)r.set(Y,De)}),r}(_,this._globalTimelineStyles);for(let[Ie,tt]of De){const Pt=Ml(tt,Y,u);this._pendingStyles.set(Ie,Pt),this._localTimelineStyles.has(Ie)||this._backFill.set(Ie,this._globalTimelineStyles.get(Ie)??be.kp),this._updateStyle(Ie,Pt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,r)=>{this._currentKeyframe.set(r,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,_)}))}snapshotCurrentStyles(){for(let[_,r]of this._localTimelineStyles)this._pendingStyles.set(_,r),this._updateStyle(_,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let r in this._currentKeyframe)_.push(r);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((r,u)=>{const w=this._styleSummary.get(u);(!w||r.time>w.time)&&this._updateStyle(u,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,r=new Set,u=1===this._keyframes.size&&0===this.duration;let w=[];this._keyframes.forEach((Ie,tt)=>{const Pt=new Map([...this._backFill,...Ie]);Pt.forEach((bn,en)=>{bn===be.FX?_.add(en):bn===be.kp&&r.add(en)}),u||Pt.set("offset",tt/this.duration),w.push(Pt)});const Y=[..._.values()],De=[...r.values()];if(u){const Ie=w[0],tt=new Map(Ie);Ie.set("offset",0),tt.set("offset",1),w=[Ie,tt]}return $t(this.element,w,Y,De,this.duration,this.startTime,this.easing,!1)}}class Fs extends ao{constructor(_,r,u,w,Y,De,Ie=!1){super(_,r,De.delay),this.keyframes=u,this.preStyleProps=w,this.postStyleProps=Y,this._stretchStartingKeyframe=Ie,this.timings={duration:De.duration,delay:De.delay,easing:De.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:r,duration:u,easing:w}=this.timings;if(this._stretchStartingKeyframe&&r){const Y=[],De=u+r,Ie=r/De,tt=new Map(_[0]);tt.set("offset",0),Y.push(tt);const Pt=new Map(_[0]);Pt.set("offset",fo(Ie)),Y.push(Pt);const bn=_.length-1;for(let en=1;en<=bn;en++){let ti=new Map(_[en]);const ri=ti.get("offset");ti.set("offset",fo((r+ri*u)/De)),Y.push(ti)}u=De,r=0,w="",_=Y}return $t(this.element,_,this.preStyleProps,this.postStyleProps,u,r,w,!0)}}function fo(d,_=3){const r=Math.pow(10,_-1);return Math.round(d*r)/r}function Ps(d,_,r,u,w,Y,De,Ie,tt,Pt,bn,en,ti){return{type:0,element:d,triggerName:_,isRemovalTransition:w,fromState:r,fromStyles:Y,toState:u,toStyles:De,timelines:Ie,queriedElements:tt,preStyleProps:Pt,postStyleProps:bn,totalTime:en,errors:ti}}const wo={};class wa{constructor(_,r,u){this._triggerName=_,this.ast=r,this._stateStyles=u}match(_,r,u,w){return function st(d,_,r,u,w){return d.some(Y=>Y(_,r,u,w))}(this.ast.matchers,_,r,u,w)}buildStyles(_,r,u){let w=this._stateStyles.get("*");return void 0!==_&&(w=this._stateStyles.get(_?.toString())||w),w?w.buildStyles(r,u):new Map}build(_,r,u,w,Y,De,Ie,tt,Pt,bn){const en=[],ti=this.ast.options&&this.ast.options.params||wo,Xn=this.buildStyles(u,Ie&&Ie.params||wo,en),qn=tt&&tt.params||wo,Yi=this.buildStyles(w,qn,en),Ts=new Set,Wi=new Map,Cs=new Map,As="void"===w,jr={params:Ae(qn,ti),delay:this.ast.options?.delay},wr=bn?[]:yi(_,r,this.ast.animation,Y,De,Xn,Yi,jr,Pt,en);let yo=0;return wr.forEach(so=>{yo=Math.max(so.duration+so.delay,yo)}),en.length?Ps(r,this._triggerName,u,w,As,Xn,Yi,[],[],Wi,Cs,yo,en):(wr.forEach(so=>{const Xo=so.element,po=$i(Wi,Xo,new Set);so.preStyleProps.forEach(qi=>po.add(qi));const vr=$i(Cs,Xo,new Set);so.postStyleProps.forEach(qi=>vr.add(qi)),Xo!==r&&Ts.add(Xo)}),Ps(r,this._triggerName,u,w,As,Xn,Yi,wr,[...Ts.values()],Wi,Cs,yo))}}function Ae(d,_){const r={..._};return Object.entries(d).forEach(([u,w])=>{null!=w&&(r[u]=w)}),r}class et{constructor(_,r,u){this.styles=_,this.defaultParams=r,this.normalizer=u}buildStyles(_,r){const u=new Map,w=Ae(_,this.defaultParams);return this.styles.styles.forEach(Y=>{"string"!=typeof Y&&Y.forEach((De,Ie)=>{De&&(De=Ml(De,w,r));const tt=this.normalizer.normalizePropertyName(Ie,r);De=this.normalizer.normalizeStyleValue(Ie,tt,De,r),u.set(Ie,De)})}),u}}class Rn{constructor(_,r,u){this.name=_,this.ast=r,this._normalizer=u,this.transitionFactories=[],this.states=new Map,r.states.forEach(w=>{this.states.set(w.name,new et(w.style,w.options&&w.options.params||{},u))}),mi(this.states,"true","1"),mi(this.states,"false","0"),r.transitions.forEach(w=>{this.transitionFactories.push(new wa(_,w,this.states))}),this.fallbackTransition=function Gn(d,_){return new wa(d,{type:be.If.Transition,animation:{type:be.If.Sequence,steps:[],options:null},matchers:[(De,Ie)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,r,u,w){return this.transitionFactories.find(De=>De.match(_,r,u,w))||null}matchStyles(_,r,u){return this.fallbackTransition.buildStyles(_,r,u)}}function mi(d,_,r){d.has(_)?d.has(r)||d.set(r,d.get(_)):d.has(r)&&d.set(_,d.get(r))}const Ys=new mn;class mo{constructor(_,r,u){this.bodyNode=_,this._driver=r,this._normalizer=u,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,r){const u=[],Y=Xc(this._driver,r,u,[]);if(u.length)throw function Lr(){return new e.wOt(3503,!1)}();this._animations.set(_,Y)}_buildPlayer(_,r,u){const w=_.element,Y=Nt(this._normalizer,_.keyframes,r,u);return this._driver.animate(w,Y,_.duration,_.delay,_.easing,[],!0)}create(_,r,u={}){const w=[],Y=this._animations.get(_);let De;const Ie=new Map;if(Y?(De=yi(this._driver,r,Y,Qr,St,new Map,new Map,u,Ys,w),De.forEach(bn=>{const en=$i(Ie,bn.element,new Map);bn.postStyleProps.forEach(ti=>en.set(ti,null))})):(w.push(function aa(){return new e.wOt(3300,!1)}()),De=[]),w.length)throw function Ir(){return new e.wOt(3504,!1)}();Ie.forEach((bn,en)=>{bn.forEach((ti,ri)=>{bn.set(ri,this._driver.computeStyle(en,ri,be.kp))})});const Pt=jt(De.map(bn=>{const en=Ie.get(bn.element);return this._buildPlayer(bn,new Map,en)}));return this._playersById.set(_,Pt),Pt.onDestroy(()=>this.destroy(_)),this.players.push(Pt),Pt}destroy(_){const r=this._getPlayer(_);r.destroy(),this._playersById.delete(_);const u=this.players.indexOf(r);u>=0&&this.players.splice(u,1)}_getPlayer(_){const r=this._playersById.get(_);if(!r)throw function Wa(){return new e.wOt(3301,!1)}();return r}listen(_,r,u,w){const Y=Li(r,"","","");return Ln(this._getPlayer(_),u,Y,w),()=>{}}command(_,r,u,w){if("register"==u)return void this.register(_,w[0]);if("create"==u)return void this.create(_,r,w[0]||{});const Y=this._getPlayer(_);switch(u){case"play":Y.play();break;case"pause":Y.pause();break;case"reset":Y.reset();break;case"restart":Y.restart();break;case"finish":Y.finish();break;case"init":Y.init();break;case"setPosition":Y.setPosition(parseFloat(w[0]));break;case"destroy":this.destroy(_)}}}const Hs="ng-animate-queued",lo="ng-animate-disabled",Bi=[],Xs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},to="__ng_removed";class go{get params(){return this.options.params}constructor(_,r=""){this.namespaceId=r;const u=_&&_.hasOwnProperty("value");if(this.value=function Oc(d){return d??null}(u?_.value:_),u){const{value:Y,...De}=_;this.options=De}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const r=_.params;if(r){const u=this.options.params;Object.keys(r).forEach(w=>{null==u[w]&&(u[w]=r[w])})}}}const Do="void",no=new go(Do);class Lo{constructor(_,r,u){this.id=_,this.hostElement=r,this._engine=u,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,Rr(r,this._hostClassName)}listen(_,r,u,w){if(!this._triggers.has(r))throw function Ia(){return new e.wOt(3302,!1)}();if(null==u||0==u.length)throw function Pa(){return new e.wOt(3303,!1)}();if(!function No(d){return"start"==d||"done"==d}(u))throw function Ga(){return new e.wOt(3400,!1)}();const Y=$i(this._elementListeners,_,[]),De={name:r,phase:u,callback:w};Y.push(De);const Ie=$i(this._engine.statesByElement,_,new Map);return Ie.has(r)||(Rr(_,qt),Rr(_,qt+"-"+r),Ie.set(r,no)),()=>{this._engine.afterFlush(()=>{const tt=Y.indexOf(De);tt>=0&&Y.splice(tt,1),this._triggers.has(r)||Ie.delete(r)})}}register(_,r){return!this._triggers.has(_)&&(this._triggers.set(_,r),!0)}_getTrigger(_){const r=this._triggers.get(_);if(!r)throw function la(){return new e.wOt(3401,!1)}();return r}trigger(_,r,u,w=!0){const Y=this._getTrigger(r),De=new cs(this.id,r,_);let Ie=this._engine.statesByElement.get(_);Ie||(Rr(_,qt),Rr(_,qt+"-"+r),this._engine.statesByElement.set(_,Ie=new Map));let tt=Ie.get(r);const Pt=new go(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&tt&&Pt.absorbOptions(tt.options),Ie.set(r,Pt),tt||(tt=no),Pt.value!==Do&&tt.value===Pt.value){if(!function Xi(d,_){const r=Object.keys(d),u=Object.keys(_);if(r.length!=u.length)return!1;for(let w=0;w<r.length;w++){const Y=r[w];if(!_.hasOwnProperty(Y)||d[Y]!==_[Y])return!1}return!0}(tt.params,Pt.params)){const qn=[],Yi=Y.matchStyles(tt.value,tt.params,qn),Ts=Y.matchStyles(Pt.value,Pt.params,qn);qn.length?this._engine.reportError(qn):this._engine.afterFlush(()=>{gi(_,Yi),Ht(_,Ts)})}return}const ti=$i(this._engine.playersByElement,_,[]);ti.forEach(qn=>{qn.namespaceId==this.id&&qn.triggerName==r&&qn.queued&&qn.destroy()});let ri=Y.matchTransition(tt.value,Pt.value,_,Pt.params),Xn=!1;if(!ri){if(!w)return;ri=Y.fallbackTransition,Xn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:r,transition:ri,fromState:tt,toState:Pt,player:De,isFallbackTransition:Xn}),Xn||(Rr(_,Hs),De.onStart(()=>{Xa(_,Hs)})),De.onDone(()=>{let qn=this.players.indexOf(De);qn>=0&&this.players.splice(qn,1);const Yi=this._engine.playersByElement.get(_);if(Yi){let Ts=Yi.indexOf(De);Ts>=0&&Yi.splice(Ts,1)}}),this.players.push(De),ti.push(De),De}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(r=>r.delete(_)),this._elementListeners.forEach((r,u)=>{this._elementListeners.set(u,r.filter(w=>w.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const r=this._engine.playersByElement.get(_);r&&(r.forEach(u=>u.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,r){const u=this._engine.driver.query(_,ue,!0);u.forEach(w=>{if(w[to])return;const Y=this._engine.fetchNamespacesByElement(w);Y.size?Y.forEach(De=>De.triggerLeaveAnimation(w,r,!1,!0)):this.clearElementCache(w)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(w=>this.clearElementCache(w)))}triggerLeaveAnimation(_,r,u,w){const Y=this._engine.statesByElement.get(_),De=new Map;if(Y){const Ie=[];if(Y.forEach((tt,Pt)=>{if(De.set(Pt,tt.value),this._triggers.has(Pt)){const bn=this.trigger(_,Pt,Do,w);bn&&Ie.push(bn)}}),Ie.length)return this._engine.markElementAsRemoved(this.id,_,!0,r,De),u&&jt(Ie).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const r=this._elementListeners.get(_),u=this._engine.statesByElement.get(_);if(r&&u){const w=new Set;r.forEach(Y=>{const De=Y.name;if(w.has(De))return;w.add(De);const tt=this._triggers.get(De).fallbackTransition,Pt=u.get(De)||no,bn=new go(Do),en=new cs(this.id,De,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:De,transition:tt,fromState:Pt,toState:bn,player:en,isFallbackTransition:!0})})}}removeNode(_,r){const u=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,r),this.triggerLeaveAnimation(_,r,!0))return;let w=!1;if(u.totalAnimations){const Y=u.players.length?u.playersByQueriedElement.get(_):[];if(Y&&Y.length)w=!0;else{let De=_;for(;De=De.parentNode;)if(u.statesByElement.get(De)){w=!0;break}}}if(this.prepareLeaveAnimationListeners(_),w)u.markElementAsRemoved(this.id,_,!1,r);else{const Y=_[to];(!Y||Y===Xs)&&(u.afterFlush(()=>this.clearElementCache(_)),u.destroyInnerAnimations(_),u._onRemovalComplete(_,r))}}insertNode(_,r){Rr(_,this._hostClassName)}drainQueuedTransitions(_){const r=[];return this._queue.forEach(u=>{const w=u.player;if(w.destroyed)return;const Y=u.element,De=this._elementListeners.get(Y);De&&De.forEach(Ie=>{if(Ie.name==u.triggerName){const tt=Li(Y,u.triggerName,u.fromState.value,u.toState.value);tt._data=_,Ln(u.player,Ie.phase,tt,Ie.callback)}}),w.markedForDestroy?this._engine.afterFlush(()=>{w.destroy()}):r.push(u)}),this._queue=[],r.sort((u,w)=>{const Y=u.transition.ast.depCount,De=w.transition.ast.depCount;return 0==Y||0==De?Y-De:this._engine.driver.containsElement(u.element,w.element)?1:-1})}destroy(_){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}}class ua{_onRemovalComplete(_,r){this.onRemovalComplete(_,r)}constructor(_,r,u){this.bodyNode=_,this.driver=r,this._normalizer=u,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(w,Y)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(r=>{r.players.forEach(u=>{u.queued&&_.push(u)})}),_}createNamespace(_,r){const u=new Lo(_,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(u,r):(this.newHostElements.set(r,u),this.collectEnterElement(r)),this._namespaceLookup[_]=u}_balanceNamespaceList(_,r){const u=this._namespaceList,w=this.namespacesByHostElement;if(u.length-1>=0){let De=!1,Ie=this.driver.getParentElement(r);for(;Ie;){const tt=w.get(Ie);if(tt){const Pt=u.indexOf(tt);u.splice(Pt+1,0,_),De=!0;break}Ie=this.driver.getParentElement(Ie)}De||u.unshift(_)}else u.push(_);return w.set(r,_),_}register(_,r){let u=this._namespaceLookup[_];return u||(u=this.createNamespace(_,r)),u}registerTrigger(_,r,u){let w=this._namespaceLookup[_];w&&w.register(r,u)&&this.totalAnimations++}destroy(_,r){_&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const u=this._fetchNamespace(_);this.namespacesByHostElement.delete(u.hostElement);const w=this._namespaceList.indexOf(u);w>=0&&this._namespaceList.splice(w,1),u.destroy(r),delete this._namespaceLookup[_]}))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const r=new Set,u=this.statesByElement.get(_);if(u)for(let w of u.values())if(w.namespaceId){const Y=this._fetchNamespace(w.namespaceId);Y&&r.add(Y)}return r}trigger(_,r,u,w){if(za(r)){const Y=this._fetchNamespace(_);if(Y)return Y.trigger(r,u,w),!0}return!1}insertNode(_,r,u,w){if(!za(r))return;const Y=r[to];if(Y&&Y.setForRemoval){Y.setForRemoval=!1,Y.setForMove=!0;const De=this.collectedLeaveElements.indexOf(r);De>=0&&this.collectedLeaveElements.splice(De,1)}if(_){const De=this._fetchNamespace(_);De&&De.insertNode(r,u)}w&&this.collectEnterElement(r)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,r){r?this.disabledNodes.has(_)||(this.disabledNodes.add(_),Rr(_,lo)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),Xa(_,lo))}removeNode(_,r,u){if(za(r)){const w=_?this._fetchNamespace(_):null;w?w.removeNode(r,u):this.markElementAsRemoved(_,r,!1,u);const Y=this.namespacesByHostElement.get(r);Y&&Y.id!==_&&Y.removeNode(r,u)}else this._onRemovalComplete(r,u)}markElementAsRemoved(_,r,u,w,Y){this.collectedLeaveElements.push(r),r[to]={namespaceId:_,setForRemoval:w,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:Y}}listen(_,r,u,w,Y){return za(r)?this._fetchNamespace(_).listen(r,u,w,Y):()=>{}}_buildInstruction(_,r,u,w,Y){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,u,w,_.fromState.options,_.toState.options,r,Y)}destroyInnerAnimations(_){let r=this.driver.query(_,ue,!0);r.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(_,Dt,!0),r.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(_){const r=this.playersByElement.get(_);r&&r.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(_){const r=this.playersByQueriedElement.get(_);r&&r.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return jt(this.players).onDone(()=>_());_()})}processLeaveNode(_){const r=_[to];if(r&&r.setForRemoval){if(_[to]=Xs,r.namespaceId){this.destroyInnerAnimations(_);const u=this._fetchNamespace(r.namespaceId);u&&u.clearElementCache(_)}this._onRemovalComplete(_,r.setForRemoval)}_.classList?.contains(lo)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(_=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,w)=>this._balanceNamespaceList(u,w)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)Rr(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{r=this._flushAnimations(u,_)}finally{for(let w=0;w<u.length;w++)u[w]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],r.length?jt(r).onDone(()=>{u.forEach(w=>w())}):u.forEach(w=>w())}}reportError(_){throw function Ra(){return new e.wOt(3402,!1)}()}_flushAnimations(_,r){const u=new mn,w=[],Y=new Map,De=[],Ie=new Map,tt=new Map,Pt=new Map,bn=new Set;this.disabledNodes.forEach(ji=>{bn.add(ji);const ts=this.driver.query(ji,".ng-animate-queued",!0);for(let ls=0;ls<ts.length;ls++)bn.add(ts[ls])});const en=this.bodyNode,ti=Array.from(this.statesByElement.keys()),ri=La(ti,this.collectedEnterElements),Xn=new Map;let qn=0;ri.forEach((ji,ts)=>{const ls=Qr+qn++;Xn.set(ts,ls),ji.forEach(Ws=>Rr(Ws,ls))});const Yi=[],Ts=new Set,Wi=new Set;for(let ji=0;ji<this.collectedLeaveElements.length;ji++){const ts=this.collectedLeaveElements[ji],ls=ts[to];ls&&ls.setForRemoval&&(Yi.push(ts),Ts.add(ts),ls.hasAnimation?this.driver.query(ts,".ng-star-inserted",!0).forEach(Ws=>Ts.add(Ws)):Wi.add(ts))}const Cs=new Map,As=La(ti,Array.from(Ts));As.forEach((ji,ts)=>{const ls=St+qn++;Cs.set(ts,ls),ji.forEach(Ws=>Rr(Ws,ls))}),_.push(()=>{ri.forEach((ji,ts)=>{const ls=Xn.get(ts);ji.forEach(Ws=>Xa(Ws,ls))}),As.forEach((ji,ts)=>{const ls=Cs.get(ts);ji.forEach(Ws=>Xa(Ws,ls))}),Yi.forEach(ji=>{this.processLeaveNode(ji)})});const jr=[],wr=[];for(let ji=this._namespaceList.length-1;ji>=0;ji--)this._namespaceList[ji].drainQueuedTransitions(r).forEach(ls=>{const Ws=ls.player,Hr=ls.element;if(jr.push(Ws),this.collectedEnterElements.length){const Vr=Hr[to];if(Vr&&Vr.setForMove){if(Vr.previousTriggersValues&&Vr.previousTriggersValues.has(ls.triggerName)){const Oa=Vr.previousTriggersValues.get(ls.triggerName),zr=this.statesByElement.get(ls.element);if(zr&&zr.has(ls.triggerName)){const jl=zr.get(ls.triggerName);jl.value=Oa,zr.set(ls.triggerName,jl)}}return void Ws.destroy()}}const Ul=!en||!this.driver.containsElement(en,Hr),kr=Cs.get(Hr),Oo=Xn.get(Hr),So=this._buildInstruction(ls,u,Oo,kr,Ul);if(So.errors&&So.errors.length)return void wr.push(So);if(Ul)return Ws.onStart(()=>gi(Hr,So.fromStyles)),Ws.onDestroy(()=>Ht(Hr,So.toStyles)),void w.push(Ws);if(ls.isFallbackTransition)return Ws.onStart(()=>gi(Hr,So.fromStyles)),Ws.onDestroy(()=>Ht(Hr,So.toStyles)),void w.push(Ws);const Td=[];So.timelines.forEach(Vr=>{Vr.stretchStartingKeyframe=!0,this.disabledNodes.has(Vr.element)||Td.push(Vr)}),So.timelines=Td,u.append(Hr,So.timelines),De.push({instruction:So,player:Ws,element:Hr}),So.queriedElements.forEach(Vr=>$i(Ie,Vr,[]).push(Ws)),So.preStyleProps.forEach((Vr,Oa)=>{if(Vr.size){let zr=tt.get(Oa);zr||tt.set(Oa,zr=new Set),Vr.forEach((jl,ar)=>zr.add(ar))}}),So.postStyleProps.forEach((Vr,Oa)=>{let zr=Pt.get(Oa);zr||Pt.set(Oa,zr=new Set),Vr.forEach((jl,ar)=>zr.add(ar))})});if(wr.length){const ji=[];wr.forEach(ts=>{ji.push(function ot(){return new e.wOt(3505,!1)}())}),jr.forEach(ts=>ts.destroy()),this.reportError(ji)}const yo=new Map,so=new Map;De.forEach(ji=>{const ts=ji.element;u.has(ts)&&(so.set(ts,ts),this._beforeAnimationBuild(ji.player.namespaceId,ji.instruction,yo))}),w.forEach(ji=>{const ts=ji.element;this._getPreviousPlayers(ts,!1,ji.namespaceId,ji.triggerName,null).forEach(Ws=>{$i(yo,ts,[]).push(Ws),Ws.destroy()})});const Xo=Yi.filter(ji=>Yc(ji,tt,Pt)),po=new Map;Sc(po,this.driver,Wi,Pt,be.kp).forEach(ji=>{Yc(ji,tt,Pt)&&Xo.push(ji)});const qi=new Map;ri.forEach((ji,ts)=>{Sc(qi,this.driver,new Set(ji),tt,be.FX)}),Xo.forEach(ji=>{const ts=po.get(ji),ls=qi.get(ji);po.set(ji,new Map([...ts?.entries()??[],...ls?.entries()??[]]))});const Eo=[],Dh=[],Ma={};De.forEach(ji=>{const{element:ts,player:ls,instruction:Ws}=ji;if(u.has(ts)){if(bn.has(ts))return ls.onDestroy(()=>Ht(ts,Ws.toStyles)),ls.disabled=!0,ls.overrideTotalTime(Ws.totalTime),void w.push(ls);let Hr=Ma;if(so.size>1){let kr=ts;const Oo=[];for(;kr=kr.parentNode;){const So=so.get(kr);if(So){Hr=So;break}Oo.push(kr)}Oo.forEach(So=>so.set(So,Hr))}const Ul=this._buildAnimation(ls.namespaceId,Ws,yo,Y,qi,po);if(ls.setRealPlayer(Ul),Hr===Ma)Eo.push(ls);else{const kr=this.playersByElement.get(Hr);kr&&kr.length&&(ls.parentPlayer=jt(kr)),w.push(ls)}}else gi(ts,Ws.fromStyles),ls.onDestroy(()=>Ht(ts,Ws.toStyles)),Dh.push(ls),bn.has(ts)&&w.push(ls)}),Dh.forEach(ji=>{const ts=Y.get(ji.element);if(ts&&ts.length){const ls=jt(ts);ji.setRealPlayer(ls)}}),w.forEach(ji=>{ji.parentPlayer?ji.syncPlayerEvents(ji.parentPlayer):ji.destroy()});for(let ji=0;ji<Yi.length;ji++){const ts=Yi[ji],ls=ts[to];if(Xa(ts,St),ls&&ls.hasAnimation)continue;let Ws=[];if(Ie.size){let Ul=Ie.get(ts);Ul&&Ul.length&&Ws.push(...Ul);let kr=this.driver.query(ts,Dt,!0);for(let Oo=0;Oo<kr.length;Oo++){let So=Ie.get(kr[Oo]);So&&So.length&&Ws.push(...So)}}const Hr=Ws.filter(Ul=>!Ul.destroyed);Hr.length?Ic(this,ts,Hr):this.processLeaveNode(ts)}return Yi.length=0,Eo.forEach(ji=>{this.players.push(ji),ji.onDone(()=>{ji.destroy();const ts=this.players.indexOf(ji);this.players.splice(ts,1)}),ji.play()}),Eo}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,r,u,w,Y){let De=[];if(r){const Ie=this.playersByQueriedElement.get(_);Ie&&(De=Ie)}else{const Ie=this.playersByElement.get(_);if(Ie){const tt=!Y||Y==Do;Ie.forEach(Pt=>{Pt.queued||!tt&&Pt.triggerName!=w||De.push(Pt)})}}return(u||w)&&(De=De.filter(Ie=>!(u&&u!=Ie.namespaceId||w&&w!=Ie.triggerName))),De}_beforeAnimationBuild(_,r,u){const Y=r.element,De=r.isRemovalTransition?void 0:_,Ie=r.isRemovalTransition?void 0:r.triggerName;for(const tt of r.timelines){const Pt=tt.element,bn=Pt!==Y,en=$i(u,Pt,[]);this._getPreviousPlayers(Pt,bn,De,Ie,r.toState).forEach(ri=>{const Xn=ri.getRealPlayer();Xn.beforeDestroy&&Xn.beforeDestroy(),ri.destroy(),en.push(ri)})}gi(Y,r.fromStyles)}_buildAnimation(_,r,u,w,Y,De){const Ie=r.triggerName,tt=r.element,Pt=[],bn=new Set,en=new Set,ti=r.timelines.map(Xn=>{const qn=Xn.element;bn.add(qn);const Yi=qn[to];if(Yi&&Yi.removedBeforeQueried)return new be.sf(Xn.duration,Xn.delay);const Ts=qn!==tt,Wi=function Sd(d){const _=[];return ha(d,_),_}((u.get(qn)||Bi).map(yo=>yo.getRealPlayer())).filter(yo=>!!yo.element&&yo.element===qn),Cs=Y.get(qn),As=De.get(qn),jr=Nt(this._normalizer,Xn.keyframes,Cs,As),wr=this._buildPlayer(Xn,jr,Wi);if(Xn.subTimeline&&w&&en.add(qn),Ts){const yo=new cs(_,Ie,qn);yo.setRealPlayer(wr),Pt.push(yo)}return wr});Pt.forEach(Xn=>{$i(this.playersByQueriedElement,Xn.element,[]).push(Xn),Xn.onDone(()=>function ll(d,_,r){let u=d.get(_);if(u){if(u.length){const w=u.indexOf(r);u.splice(w,1)}0==u.length&&d.delete(_)}return u}(this.playersByQueriedElement,Xn.element,Xn))}),bn.forEach(Xn=>Rr(Xn,Ye));const ri=jt(ti);return ri.onDestroy(()=>{bn.forEach(Xn=>Xa(Xn,Ye)),Ht(tt,r.toStyles)}),en.forEach(Xn=>{$i(w,Xn,[]).push(ri)}),ri}_buildPlayer(_,r,u){return r.length>0?this.driver.animate(_.element,r,_.duration,_.delay,_.easing,u):new be.sf(_.duration,_.delay)}}class cs{constructor(_,r,u){this.namespaceId=_,this.triggerName=r,this.element=u,this._player=new be.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((r,u)=>{r.forEach(w=>Ln(_,u,void 0,w))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const r=this._player;r.triggerCallback&&_.onStart(()=>r.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,r){$i(this._queuedCallbacks,_,[]).push(r)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const r=this._player;r.triggerCallback&&r.triggerCallback(_)}}function za(d){return d&&1===d.nodeType}function Kl(d,_){const r=d.style.display;return d.style.display=_??"none",r}function Sc(d,_,r,u,w){const Y=[];r.forEach(tt=>Y.push(Kl(tt)));const De=[];u.forEach((tt,Pt)=>{const bn=new Map;tt.forEach(en=>{const ti=_.computeStyle(Pt,en,w);bn.set(en,ti),(!ti||0==ti.length)&&(Pt[to]=nr,De.push(Pt))}),d.set(Pt,bn)});let Ie=0;return r.forEach(tt=>Kl(tt,Y[Ie++])),De}function La(d,_){const r=new Map;if(d.forEach(Ie=>r.set(Ie,[])),0==_.length)return r;const w=new Set(_),Y=new Map;function De(Ie){if(!Ie)return 1;let tt=Y.get(Ie);if(tt)return tt;const Pt=Ie.parentNode;return tt=r.has(Pt)?Pt:w.has(Pt)?1:De(Pt),Y.set(Ie,tt),tt}return _.forEach(Ie=>{const tt=De(Ie);1!==tt&&r.get(tt).push(Ie)}),r}function Rr(d,_){d.classList?.add(_)}function Xa(d,_){d.classList?.remove(_)}function Ic(d,_,r){jt(r).onDone(()=>d.processLeaveNode(_))}function ha(d,_){for(let r=0;r<d.length;r++){const u=d[r];u instanceof be.ui?ha(u.players,_):_.push(u)}}function Yc(d,_,r){const u=r.get(d);if(!u)return!1;let w=_.get(d);return w?u.forEach(Y=>w.add(Y)):_.set(d,u),r.delete(d),!0}class To{constructor(_,r,u){this._driver=r,this._normalizer=u,this._triggerCache={},this.onRemovalComplete=(w,Y)=>{},this._transitionEngine=new ua(_.body,r,u),this._timelineEngine=new mo(_.body,r,u),this._transitionEngine.onRemovalComplete=(w,Y)=>this.onRemovalComplete(w,Y)}registerTrigger(_,r,u,w,Y){const De=_+"-"+w;let Ie=this._triggerCache[De];if(!Ie){const tt=[],bn=Xc(this._driver,Y,tt,[]);if(tt.length)throw function Sa(){return new e.wOt(3404,!1)}();Ie=function Wt(d,_,r){return new Rn(d,_,r)}(w,bn,this._normalizer),this._triggerCache[De]=Ie}this._transitionEngine.registerTrigger(r,w,Ie)}register(_,r){this._transitionEngine.register(_,r)}destroy(_,r){this._transitionEngine.destroy(_,r)}onInsert(_,r,u,w){this._transitionEngine.insertNode(_,r,u,w)}onRemove(_,r,u){this._transitionEngine.removeNode(_,r,u)}disableAnimations(_,r){this._transitionEngine.markElementAsDisabled(_,r)}process(_,r,u,w){if("@"==u.charAt(0)){const[Y,De]=Ci(u);this._timelineEngine.command(Y,r,De,w)}else this._transitionEngine.trigger(_,r,u,w)}listen(_,r,u,w,Y){if("@"==u.charAt(0)){const[De,Ie]=Ci(u);return this._timelineEngine.listen(De,r,Ie,Y)}return this._transitionEngine.listen(_,r,u,w,Y)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(_){this._transitionEngine.afterFlushAnimationsDone(_)}}class Pl{static{this.initialStylesByElement=new WeakMap}constructor(_,r,u){this._element=_,this._startStyles=r,this._endStyles=u,this._state=0;let w=Pl.initialStylesByElement.get(_);w||Pl.initialStylesByElement.set(_,w=new Map),this._initialStyles=w}start(){this._state<1&&(this._startStyles&&Ht(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ht(this._element,this._initialStyles),this._endStyles&&(Ht(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Pl.initialStylesByElement.delete(this._element),this._startStyles&&(gi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gi(this._element,this._endStyles),this._endStyles=null),Ht(this._element,this._initialStyles),this._state=3)}}function Hl(d){let _=null;return d.forEach((r,u)=>{(function ur(d){return"display"===d||"position"===d})(u)&&(_=_||new Map,_.set(u,r))}),_}class zl{constructor(_,r,u,w){this.element=_,this.keyframes=r,this.options=u,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map;const r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const r=[];return _.forEach(u=>{r.push(Object.fromEntries(u))}),r}_triggerWebAnimation(_,r,u){return _.animate(this._convertKeyframesToObject(r),u)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,w)=>{"offset"!==w&&_.set(w,this._finished?u:Vl(this.element,w))}),this.currentSnapshot=_}triggerCallback(_){const r="start"===_?this._onStartFns:this._onDoneFns;r.forEach(u=>u()),r.length=0}}class ir{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}containsElement(_,r){return Io(_,r)}getParentElement(_){return qs(_)}query(_,r,u){return os(_,r,u)}computeStyle(_,r,u){return Vl(_,r)}animate(_,r,u,w,Y,De=[]){const tt={duration:u,delay:w,fill:0==w?"both":"forwards"};Y&&(tt.easing=Y);const Pt=new Map,bn=De.filter(ri=>ri instanceof zl);(function Dc(d,_){return 0===d||0===_})(u,w)&&bn.forEach(ri=>{ri.currentSnapshot.forEach((Xn,qn)=>Pt.set(qn,Xn))});let en=function Oe(d){return d.length?d[0]instanceof Map?d:d.map(_=>new Map(Object.entries(_))):[]}(r).map(ri=>new Map(ri));en=function rl(d,_,r){if(r.size&&_.length){let u=_[0],w=[];if(r.forEach((Y,De)=>{u.has(De)||w.push(De),u.set(De,Y)}),w.length)for(let Y=1;Y<_.length;Y++){let De=_[Y];w.forEach(Ie=>De.set(Ie,Vl(d,Ie)))}}return _}(_,en,Pt);const ti=function Jr(d,_){let r=null,u=null;return Array.isArray(_)&&_.length?(r=Hl(_[0]),_.length>1&&(u=Hl(_[_.length-1]))):_ instanceof Map&&(r=Hl(_)),r||u?new Pl(d,r,u):null}(_,en);return new zl(_,en,tt,ti)}}const Id="@.disabled";class Ya{constructor(_,r,u,w){this.namespaceId=_,this.delegate=r,this.engine=u,this._onDestroy=w,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(_){this.delegate.destroyNode?.(_)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(_,r){return this.delegate.createElement(_,r)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,r){this.delegate.appendChild(_,r),this.engine.onInsert(this.namespaceId,r,_,!1)}insertBefore(_,r,u,w=!0){this.delegate.insertBefore(_,r,u),this.engine.onInsert(this.namespaceId,r,_,w)}removeChild(_,r,u){this.parentNode(r)&&this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(_,r){return this.delegate.selectRootElement(_,r)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,r,u,w){this.delegate.setAttribute(_,r,u,w)}removeAttribute(_,r,u){this.delegate.removeAttribute(_,r,u)}addClass(_,r){this.delegate.addClass(_,r)}removeClass(_,r){this.delegate.removeClass(_,r)}setStyle(_,r,u,w){this.delegate.setStyle(_,r,u,w)}removeStyle(_,r,u){this.delegate.removeStyle(_,r,u)}setProperty(_,r,u){"@"==r.charAt(0)&&r==Id?this.disableAnimations(_,!!u):this.delegate.setProperty(_,r,u)}setValue(_,r){this.delegate.setValue(_,r)}listen(_,r,u){return this.delegate.listen(_,r,u)}disableAnimations(_,r){this.engine.disableAnimations(_,r)}}class Pd extends Ya{constructor(_,r,u,w,Y){super(r,u,w,Y),this.factory=_,this.namespaceId=r}setProperty(_,r,u){"@"==r.charAt(0)?"."==r.charAt(1)&&r==Id?this.disableAnimations(_,u=void 0===u||!!u):this.engine.process(this.namespaceId,_,r.slice(1),u):this.delegate.setProperty(_,r,u)}listen(_,r,u){if("@"==r.charAt(0)){const w=function vf(d){switch(d){case"body":return document.body;case"document":return document;case"window":return window;default:return d}}(_);let Y=r.slice(1),De="";return"@"!=Y.charAt(0)&&([Y,De]=function yf(d){const _=d.indexOf(".");return[d.substring(0,_),d.slice(_+1)]}(Y)),this.engine.listen(this.namespaceId,w,Y,De,Ie=>{this.factory.scheduleListenerCallback(Ie._data||-1,u,Ie)})}return this.delegate.listen(_,r,u)}}class Qc{constructor(_,r,u){this.delegate=_,this.engine=r,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(w,Y)=>{Y?.removeChild(null,w)}}createRenderer(_,r){const w=this.delegate.createRenderer(_,r);if(!_||!r?.data?.animation){const Pt=this._rendererCache;let bn=Pt.get(w);return bn||(bn=new Ya("",w,this.engine,()=>Pt.delete(w)),Pt.set(w,bn)),bn}const Y=r.id,De=r.id+"-"+this._currentId;this._currentId++,this.engine.register(De,_);const Ie=Pt=>{Array.isArray(Pt)?Pt.forEach(Ie):this.engine.registerTrigger(Y,De,_,Pt.name,Pt)};return r.data.animation.forEach(Ie),new Pd(this,De,w,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(_,r,u){if(_>=0&&_<this._microtaskId)return void this._zone.run(()=>r(u));const w=this._animationCallbacksBuffer;0==w.length&&queueMicrotask(()=>{this._zone.run(()=>{w.forEach(Y=>{const[De,Ie]=Y;De(Ie)}),this._animationCallbacksBuffer=[]})}),w.push([r,u])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let le=(()=>{class d extends To{constructor(r,u,w){super(r,u,w)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(f.qQ),e.KVO(Yr),e.KVO(da))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const Pe=[{provide:da,useFactory:function Se(){return new Ol}},{provide:To,useClass:le},{provide:e._9s,useFactory:function de(d,_,r){return new Qc(d,_,r)},deps:[p.B7,To,e.SKi]}],Ze=[{provide:Yr,useFactory:()=>new ir},{provide:e.bc$,useValue:"BrowserAnimations"},...Pe];var ds=n(57786),es=n(71985),co=n(21413),Rl=n(73557),Dr=n(983),Kn=n(7673),pa=n(18810),Rd=n(98071);class Qa{constructor(_,r,u){this.kind=_,this.value=r,this.error=u,this.hasValue="N"===_}observe(_){return Mh(this,_)}do(_,r,u){const{kind:w,value:Y,error:De}=this;return"N"===w?_?.(Y):"E"===w?r?.(De):u?.()}accept(_,r,u){var w;return(0,Rd.T)(null===(w=_)||void 0===w?void 0:w.next)?this.observe(_):this.do(_,r,u)}toObservable(){const{kind:_,value:r,error:u}=this,w="N"===_?(0,Kn.of)(r):"E"===_?(0,pa.$)(()=>u):"C"===_?Dr.w:0;if(!w)throw new TypeError(`Unexpected notification kind ${_}`);return w}static createNext(_){return new Qa("N",_)}static createError(_){return new Qa("E",void 0,_)}static createComplete(){return Qa.completeNotification}}function Mh(d,_){var r,u,w;const{kind:Y,value:De,error:Ie}=d;if("string"!=typeof Y)throw new TypeError('Invalid notification, missing "kind"');"N"===Y?null===(r=_.next)||void 0===r||r.call(_,De):"E"===Y?null===(u=_.error)||void 0===u||u.call(_,Ie):null===(w=_.complete)||void 0===w||w.call(_)}Qa.completeNotification=new Qa("C");var Ad=n(39974),Pc=n(54360),In=n(96354),Ao=n(99437),_o=n(5964),bu=n(58750);function Cf(d,_,r,u){return(0,Ad.N)((w,Y)=>{let De;_&&"function"!=typeof _?({duration:r,element:De,connector:u}=_):De=_;const Ie=new Map,tt=Xn=>{Ie.forEach(Xn),Xn(Y)},Pt=Xn=>tt(qn=>qn.error(Xn));let bn=0,en=!1;const ti=new Pc.H(Y,Xn=>{try{const qn=d(Xn);let Yi=Ie.get(qn);if(!Yi){Ie.set(qn,Yi=u?u():new co.B);const Ts=function ri(Xn,qn){const Yi=new es.c(Ts=>{bn++;const Wi=qn.subscribe(Ts);return()=>{Wi.unsubscribe(),0==--bn&&en&&ti.unsubscribe()}});return Yi.key=Xn,Yi}(qn,Yi);if(Y.next(Ts),r){const Wi=(0,Pc._)(Yi,()=>{Yi.complete(),Wi?.unsubscribe()},void 0,void 0,()=>Ie.delete(qn));ti.add((0,bu.Tg)(r(Ts)).subscribe(Wi))}}Yi.next(De?De(Xn):Xn)}catch(qn){Pt(qn)}},()=>tt(Xn=>Xn.complete()),Pt,()=>Ie.clear(),()=>(en=!0,0===bn));w.subscribe(ti)})}var Tr=n(73028);function Du(d,_){return _?r=>r.pipe(Du((u,w)=>(0,bu.Tg)(d(u,w)).pipe((0,In.T)((Y,De)=>_(u,Y,w,De))))):(0,Ad.N)((r,u)=>{let w=0,Y=null,De=!1;r.subscribe((0,Pc._)(u,Ie=>{Y||(Y=(0,Pc._)(u,void 0,()=>{Y=null,De&&u.complete()}),(0,bu.Tg)(d(Ie,w++)).subscribe(Y))},()=>{De=!0,!Y&&u.complete()}))})}const Xl={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Tu="__@ngrx/effects_create__";function Ti(d,_={}){const r=_.functional?d:d(),u={...Xl,..._};return Object.defineProperty(r,Tu,{value:u}),r}function fa(d){return Object.getPrototypeOf(d)}function Rc(d){return"function"==typeof d}function Yl(d){return d.filter(Rc)}function Ig(d,_,r){const u=fa(d),Y=u&&"Object"!==u.constructor.name?u.constructor.name:null,De=function xd(d){return function io(d){return Object.getOwnPropertyNames(d).filter(u=>!(!d[u]||!d[u].hasOwnProperty(Tu))&&d[u][Tu].hasOwnProperty("dispatch")).map(u=>({propertyName:u,...d[u][Tu]}))}(d)}(d).map(({propertyName:Ie,dispatch:tt,useEffectsErrorHandler:Pt})=>{const bn="function"==typeof d[Ie]?d[Ie]():d[Ie],en=Pt?r(bn,_):bn;return!1===tt?en.pipe((0,Rl.w)()):en.pipe(function Ef(){return(0,Ad.N)((d,_)=>{d.subscribe((0,Pc._)(_,r=>{_.next(Qa.createNext(r))},()=>{_.next(Qa.createComplete()),_.complete()},r=>{_.next(Qa.createError(r)),_.complete()}))})}()).pipe((0,In.T)(ri=>({effect:d[Ie],notification:ri,propertyName:Ie,sourceName:Y,sourceInstance:d})))});return(0,ds.h)(...De)}function Pg(d,_,r=10){return d.pipe((0,Ao.W)(u=>(_&&_.handleError(u),r<=1?d:Pg(d,_,r-1))))}let uo=(()=>{class d extends es.c{constructor(r){super(),r&&(this.source=r)}lift(r){const u=new d;return u.source=this,u.operator=r,u}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(E.sA))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();function Pi(...d){return(0,_o.p)(_=>d.some(r=>"string"==typeof r?r===_.type:r.type===_.type))}const bf=new e.nKC("@ngrx/effects Internal Root Guard"),Oh=new e.nKC("@ngrx/effects User Provided Effects"),Ou=new e.nKC("@ngrx/effects Internal Root Effects"),Df=new e.nKC("@ngrx/effects Internal Root Effects Instances"),Sh=new e.nKC("@ngrx/effects Internal Feature Effects"),Ih=new e.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),Rg=new e.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Pg}),Ql="@ngrx/effects/init";(0,E.VP)(Ql);function P1(d){return xg(d,"ngrxOnInitEffects")}function xg(d,_){return d&&_ in d&&"function"==typeof d[_]}let wg=(()=>{class d extends co.B{constructor(r,u){super(),this.errorHandler=r,this.effectsErrorHandler=u}addEffects(r){this.next(r)}toActions(){return this.pipe(Cf(r=>function l0(d){return!!d.constructor&&"Object"!==d.constructor.name&&"Function"!==d.constructor.name}(r)?fa(r):r),(0,Tr.Z)(r=>r.pipe(Cf(Lg))),(0,Tr.Z)(r=>{const u=r.pipe(Du(Y=>function R1(d,_){return r=>{const u=Ig(r,d,_);return function u0(d){return xg(d,"ngrxOnRunEffects")}(r)?r.ngrxOnRunEffects(u):u}}(this.errorHandler,this.effectsErrorHandler)(Y)),(0,In.T)(Y=>(function Tf(d,_){if("N"===d.notification.kind){const r=d.notification.value;!function Ag(d){return"function"!=typeof d&&d&&d.type&&"string"==typeof d.type}(r)&&_.handleError(new Error(`Effect ${function c0({propertyName:d,sourceInstance:_,sourceName:r}){const u="function"==typeof _[d];return r?`"${r}.${String(d)}${u?"()":""}"`:`"${String(d)}()"`}(d)} dispatched an invalid action: ${function XO(d){try{return JSON.stringify(d)}catch{return d}}(r)}`))}}(Y,this.errorHandler),Y.notification)),(0,_o.p)(Y=>"N"===Y.kind&&null!=Y.value),function a0(){return(0,Ad.N)((d,_)=>{d.subscribe((0,Pc._)(_,r=>Mh(r,_)))})}()),w=r.pipe((0,D.s)(1),(0,_o.p)(P1),(0,In.T)(Y=>Y.ngrxOnInitEffects()));return(0,ds.h)(u,w)}))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(e.zcH),e.KVO(Rg))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();function Lg(d){return function d0(d){return xg(d,"ngrxOnIdentifyEffects")}(d)?d.ngrxOnIdentifyEffects():""}let Fn=(()=>{class d{get isStarted(){return!!this.effectsSubscription}constructor(r,u){this.effectSources=r,this.store=u,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(wg),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),Hi=(()=>{class d{constructor(r,u,w,Y,De,Ie,tt){this.sources=r,u.start();for(const Pt of Y)r.addEffects(Pt);w.dispatch({type:Ql})}addEffects(r){this.sources.addEffects(r)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(wg),e.KVO(Fn),e.KVO(E.il),e.KVO(Df),e.KVO(E.wc,8),e.KVO(E.ae,8),e.KVO(bf,8))}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({})}}return d})(),Ph=(()=>{class d{constructor(r,u,w,Y){const De=u.flat();for(const Ie of De)r.addEffects(Ie)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Hi),e.KVO(Ih),e.KVO(E.wc,8),e.KVO(E.ae,8))}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({})}}return d})(),Ld=(()=>{class d{static forFeature(...r){const u=r.flat(),w=Yl(u);return{ngModule:Ph,providers:[w,{provide:Sh,multi:!0,useValue:u},{provide:Oh,multi:!0,useValue:[]},{provide:Ih,multi:!0,useFactory:ho,deps:[Sh,Oh]}]}}static forRoot(...r){const u=r.flat(),w=Yl(u);return{ngModule:Hi,providers:[w,{provide:Ou,useValue:[u]},{provide:bf,useFactory:Ng},{provide:Oh,multi:!0,useValue:[]},{provide:Df,useFactory:ho,deps:[Ou,Oh]}]}}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({})}}return d})();function ho(d,_){const r=[];for(const u of d)r.push(...u);for(const u of _)r.push(...u);return r.map(u=>function ma(d){return d instanceof e.nKC||Rc(d)}(u)?(0,e.WQX)(u):u)}function Ng(){const d=(0,e.WQX)(Fn,{optional:!0,skipSelf:!0}),_=(0,e.WQX)(Ou,{self:!0});if((1!==_.length||0!==_[0].length)&&d)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Jc=n(97324),Na=n(37542),Su=n(33669),h0=n(27468),Ah=n(22806),Ns=n(84572),Ni=n(25558),Mf=n(70274),Vi=n(88141),_a=n(39901),Nd=n(73703);const Aa=new e.nKC("MATOMO_ROUTER_CONFIGURATION"),Jl={prependBaseHref:!0,trackPageTitle:!0,delay:0,exclude:[],navigationEndComparator:"fullUrl"},Iu=new e.nKC("INTERNAL_ROUTER_CONFIGURATION",{factory:()=>{const{disabled:d,enableLinkTracking:_}=(0,e.WQX)(Na.Gc),r=(0,e.WQX)(Aa,{optional:!0})||{};return{...Jl,...r,enableLinkTracking:_,disabled:d}}}),Zl=new e.nKC("MATOMO_ROUTER_INTERCEPTORS");class A1{constructor(_,r){this.fn=_,this.injector=r}beforePageTrack(_){return(0,e.N4e)(this.injector,()=>this.fn(_))}}function Of(d){return function Fg(d){return"function"!=typeof d.prototype?.beforePageTrack}(d)?{provide:Zl,multi:!0,useFactory:()=>new A1(d,(0,e.WQX)(e.duS))}:{provide:Zl,multi:!0,useClass:d}}function xh(d,_){const r=function Ug(d,_){return d.children.find(r=>r.outlet===_)}(d,_);return r?xh(r,_):d}class x1{constructor(){this.router=(0,e.WQX)(v.Ix)}beforePageTrack(_){const r=this.getRoute(_),u=this.extractRouteData(r);return this.processRouteData(u)}getRoute(_){return xh(this.router.routerState.snapshot.root,v.Xk)}}const Sf=new e.nKC("MATOMO_ROUTE_DATA_KEY",{providedIn:"root",factory:()=>"matomo"});let f0=(()=>{class d extends x1{constructor(){super(...arguments),this.tracker=(0,e.WQX)(Na.kA),this.dataKey=(0,e.WQX)(Sf)}extractRouteData(r){return r.data[this.dataKey]}processRouteData(r){r&&(r.title&&this.tracker.setDocumentTitle(r.title),r.ecommerce&&this.tracker.setEcommerceView(r.ecommerce))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const _0=new e.nKC("MATOMO_PAGE_TITLE_PROVIDER",{factory:()=>new jg((0,e.WQX)(p.hE))});class jg{constructor(_){this.title=_}getCurrentPageTitle(_){return(0,Kn.of)(this.title.getTitle())}}const w1=new e.nKC("MATOMO_PAGE_URL_PROVIDER",{factory:()=>new cc((0,e.WQX)(Iu),(0,e.WQX)(f.kB,{optional:!0}),(0,e.WQX)(f.hb))});class cc{constructor(_,r,u){this.config=_,this.baseHref=r,this.locationStrategy=u}getCurrentPageUrl(_){const r=this.config.prependBaseHref?this.getBaseHrefWithoutTrailingSlash()+_.urlAfterRedirects:_.urlAfterRedirects;return(0,Kn.of)(r)}getBaseHrefWithoutTrailingSlash(){return function va(d){return d.endsWith("/")?d.slice(0,-1):d}(this.baseHref??this.locationStrategy.getBaseHref()??"")}}function Go(d){return d instanceof v.wF}function wh(d){return"string"==typeof d?new RegExp(d):d}function Lh(d){return(_,r)=>d(_)===d(r)}let Nh=(()=>{class d{constructor(r,u,w,Y,De,Ie,tt){if(this.router=r,this.platformId=u,this.config=w,this.pageTitleProvider=Y,this.pageUrlProvider=De,this.tracker=Ie,this.interceptors=tt,this.initialize=(0,Na.MH)(()=>{if(this.config.disabled||!(0,f.UE)(this.platformId))return;const Pt=-1===this.config.delay?Su.D:(0,b.c)(this.config.delay),bn=function Fd(d){switch(d.navigationEndComparator){case"fullUrl":return Lh(_=>_.urlAfterRedirects);case"ignoreQueryParams":return Lh(_=>function Pu(d){return d.split("?")[0]}(_.urlAfterRedirects));default:return d.navigationEndComparator}}(this.config);this.router.events.pipe((0,_o.p)(Go),(0,_o.p)(function Pf(d){const _=function If(d){return d?Array.isArray(d)?d.map(wh):[wh(d)]:[]}(d);return r=>!_.some(u=>r.urlAfterRedirects.match(u))}(this.config.exclude)),(0,M.F)(bn),Pt,(0,Ni.n)(en=>this.presetPageTitleAndUrl(en).pipe((0,In.T)(({pageUrl:ti})=>({pageUrl:ti,event:en})))),(0,Mf.H)(({event:en,pageUrl:ti})=>this.callInterceptors(en).pipe((0,Vi.M)(()=>this.trackPageView(ti))))).subscribe()},"MatomoRouter has already been initialized"),tt&&!Array.isArray(tt))throw function g0(){return new Error('An invalid MATOMO_ROUTER_INTERCEPTORS provider was configured. Did you forget to set "multi: true" ?')}()}init(){this.initialize()}callInterceptors(r){return this.interceptors?(0,h0.p)(this.interceptors.map(u=>{const w=u.beforePageTrack(r);return(null==w?(0,Kn.of)(void 0):(0,Ah.H)(w)).pipe((0,D.s)(1),(0,_a.U)(void 0))})).pipe((0,Nd.u)(void 0),(0,_a.U)(void 0)):(0,Kn.of)(void 0)}presetPageTitleAndUrl(r){const u=this.config.trackPageTitle?this.pageTitleProvider.getCurrentPageTitle(r).pipe((0,Vi.M)(Y=>this.tracker.setDocumentTitle(Y))):(0,Kn.of)(void 0),w=this.pageUrlProvider.getCurrentPageUrl(r).pipe((0,Vi.M)(Y=>this.tracker.setCustomUrl(Y)));return(0,Ns.z)([u,w]).pipe((0,In.T)(([Y,De])=>({pageUrl:De})))}trackPageView(r){this.tracker.trackPageView(),this.config.enableLinkTracking&&this.tracker.enableLinkTracking("enable-pseudo"===this.config.enableLinkTracking),this.tracker.setReferrerUrl(r)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(v.Ix),e.KVO(e.Agw),e.KVO(Iu),e.KVO(_0),e.KVO(w1),e.KVO(Na.kA),e.KVO(Zl,8))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var zi=n(1473),Ac=n(20766),kg=n(53588),Vg=n(85188),vo=n(79096),Af=n(60432),xu=n(581),xf=n(18705),wf=n(370),$g=n(12816),Fh=n(32954),Bh=n(13684),Uh=n(82272),jd=n(21772);const Zc=["*"];function Lf(d,_){}let dc=(()=>{class d extends T.J{getComponentName(){return"ForbiddenComponent"}importThemedComponent(r){return n(30130)(`./${r}/app/forbidden/forbidden.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,21772))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-forbidden"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Zc,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,Lf,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Nf=n(84848),wu=n(81176),jh=n(88368),Lu=n(11989),kd=n(55681),Wg=n(9894);const Ff=["*"];function Bf(d,_){}let kh=(()=>{class d extends T.J{getComponentName(){return"PageErrorComponent"}importThemedComponent(r){return n(18400)(`./${r}/app/page-error/page-error.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,9894))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-page-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Ff,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,Bf,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var hl=n(74154);const Gg=["*"];function Nu(d,_){}let Vh=(()=>{class d extends T.J{getComponentName(){return"PageInternalServerErrorComponent"}importThemedComponent(r){return n(46544)(`./${r}/app/page-internal-server-error/page-internal-server-error.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,74154))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-page-internal-server-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Gg,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,Nu,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Fu=n(80830);const $h=["*"];function Uf(d,_){}let Wh=(()=>{class d extends T.J{getComponentName(){return"PageNotFoundComponent"}importThemedComponent(r){return n(94826)(`./${r}/app/pagenotfound/pagenotfound.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,80830))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-pagenotfound"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:$h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,Uf,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(65112),n(70687);const Hg=[f.MD,G.UN],zg=[];let qc=(()=>{class d{static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({providers:[...zg],imports:[Hg,x.RootComponent,$,wu.HeaderComponent,jh.q,Lu.HeaderNavbarWrapperComponent,kd.h,Af.AdminSidebarComponent,wf.u,xu.g,xf.W,Bh.FooterComponent,Uh.C,Fu.PageNotFoundComponent,Wh,$g.BreadcrumbsComponent,Fh.B,jd.ForbiddenComponent,dc,Q,Vh,hl.PageInternalServerErrorComponent,kh,Wg.PageErrorComponent,Nf.Y]})}}return d})();var v0=n(39618),Gh=n(66515),Vd=(n(24968),n(87136));const xc=[];let E0=(()=>{class d{static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({providers:[...xc.map(r=>({provide:r}))],imports:[f.MD,qc,v0.HeaderComponent,Gh.HeaderNavbarWrapperComponent,Vd.NavbarComponent]})}}return d})(),Kh=(()=>{class d{static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[E0]})}}return d})();var Bu=n(61594),$d=n(25428),Wd=n(96132),pl=n(66372),Hh=n(195);let Yg=(()=>{class d{constructor(r,u){this.actions$=r,this.menuService=u,this.menuID=pl.D.PUBLIC,this.resize$=Ti(()=>this.actions$.pipe(Pi(k.O.RESIZE),(0,In.T)(()=>new $d.F$(this.menuID)))),this.routeChange$=Ti(()=>this.actions$.pipe(Pi(Ac.hr),(0,In.T)(()=>new $d.F$(this.menuID)))),this.openAdminSidebar$=Ti(()=>this.actions$.pipe(Pi($d.jZ.EXPAND_MENU_PREVIEW),(0,Ni.n)(w=>this.menuService.getMenu(w.menuID).pipe((0,Bu.$)(),(0,In.T)(Y=>Y.id===pl.D.ADMIN&&!Y.previewCollapsed&&Y.collapsed?new $d.F$(pl.D.PUBLIC):new Hh.L)))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(Wd.$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Ja=n(81948),ql=n(36482),ed=n(87433),C0=n(88392),Za=n(3601),qr=n(46755),Mi=n(4093),b0=n(66903),ws=n(8734),ea=n(9847),Gd=n(76089),as=n(4600),Kd=n(49792),Ar=function(d){return d[d.Add=0]="Add",d[d.Remove=1]="Remove",d}(Ar||{});let Jg=(()=>{class d{constructor(r,u,w,Y,De,Ie,tt,Pt,bn,en,ti){this.actions$=r,this.relationshipService=u,this.relationshipTypeService=w,this.submissionObjectService=Y,this.store=De,this.objectCache=Ie,this.requestService=tt,this.notificationsService=Pt,this.translateService=bn,this.selectableListService=en,this.debounceTime=ti,this.requestQueue=new co.B,this.debounceMap={},this.nameVariantUpdates={},this.initialActionMap={},this.mapLastActions$=Ti(()=>this.actions$.pipe(Pi(Kd.oE.ADD_RELATIONSHIP,Kd.oE.REMOVE_RELATIONSHIP),(0,In.T)(ri=>{const{item1:Xn,item2:qn,submissionId:Yi,relationshipType:Ts}=ri.payload,Wi=this.createIdentifier(Xn,qn,Ts);(0,V.Tn)(this.debounceMap[Wi])?(this.initialActionMap[Wi]=ri.type,this.debounceMap[Wi]=new y.t(ri.type),this.debounceMap[Wi].pipe(this.debounceTime(500),(0,D.s)(1)).subscribe(Cs=>{if(this.initialActionMap[Wi]===Cs)if(Cs===Kd.oE.ADD_RELATIONSHIP){let As=ri.payload.nameVariant;(0,V.a4)(this.nameVariantUpdates[Wi])&&(As=this.nameVariantUpdates[Wi],delete this.nameVariantUpdates[Wi]),this.requestQueue.next({type:Ar.Add,item1:Xn,item2:qn,relationshipType:Ts,submissionId:Yi,nameVariant:As})}else this.requestQueue.next({type:Ar.Remove,item1:Xn,item2:qn,relationshipType:Ts,submissionId:Yi});delete this.debounceMap[Wi],delete this.initialActionMap[Wi]})):this.debounceMap[Wi].next(ri.type)})),{dispatch:!1}),this.updateNameVariantsActions$=Ti(()=>this.actions$.pipe(Pi(Kd.oE.UPDATE_NAME_VARIANT),(0,In.T)(ri=>{const{item1:Xn,item2:qn,relationshipType:Yi,submissionId:Ts,nameVariant:Wi}=ri.payload,Cs=this.createIdentifier(Xn,qn,Yi);(0,V.a4)(this.debounceMap[Cs])?this.nameVariantUpdates[Cs]=Wi:this.relationshipService.updateNameVariant(Xn,qn,Yi,Wi).pipe((0,_o.p)(jr=>(0,V.a4)(jr.payload)),(0,D.s)(1)).subscribe(jr=>{this.updateAfterPatchSubmissionId=Ts,this.relationshipService.refreshRelationshipItemsInCache(Xn),this.relationshipService.refreshRelationshipItemsInCache(qn)})})),{dispatch:!1}),this.updateRelationshipActions$=Ti(()=>this.actions$.pipe(Pi(Kd.oE.UPDATE_RELATIONSHIP),(0,In.T)(ri=>{this.updateAfterPatchSubmissionId=ri.payload.submissionId})),{dispatch:!1}),this.saveSubmissionSection=Ti(()=>this.actions$.pipe(Pi(ql.G9.EMPTY,qr.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,_o.p)(()=>(0,V.a4)(this.updateAfterPatchSubmissionId)),(0,Ni.n)(()=>this.refreshWorkspaceItemInCache(this.updateAfterPatchSubmissionId)),(0,In.T)(ri=>new ws.ky(this.updateAfterPatchSubmissionId,[ri],!1)))),this.executeRequestsInQueue()}executeRequestsInQueue(){this.requestQueue.pipe((0,Mf.H)(r=>{switch(r.type){case Ar.Add:return this.addRelationship(r.item1,r.item2,r.relationshipType,r.submissionId,r.nameVariant).pipe((0,In.T)(()=>r));case Ar.Remove:return this.removeRelationship(r.item1,r.item2,r.relationshipType).pipe((0,In.T)(()=>r));default:return[r]}}),(0,Ni.n)(r=>this.refreshWorkspaceItemInCache(r.submissionId))).subscribe(r=>{this.store.dispatch(new ws.ky(r.id,[r],!1))})}createIdentifier(r,u,w){return`${r.uuid}-${u.uuid}-${w}`}addRelationship(r,u,w,Y,De){const Ie=r.firstMetadataValue("dspace.entity.type"),tt=u.firstMetadataValue("dspace.entity.type");return this.relationshipTypeService.getRelationshipTypeByLabelAndTypes(w,Ie,tt).pipe((0,Tr.Z)(Pt=>null===Pt?[null]:Pt.rightwardType===w?this.relationshipService.addRelationship(Pt.id,u,r,De,void 0):this.relationshipService.addRelationship(Pt.id,r,u,void 0,De)),(0,D.s)(1),(0,Vi.M)(Pt=>{if((0,V.Tn)(Pt)||Pt.hasFailed){const bn=`list-${Y}-${w}`;let en;this.selectableListService.findSelectedByCondition(bn,ti=>(0,V.a4)(ti.indexableObject)&&ti.indexableObject.uuid===u.uuid).pipe((0,D.s)(1),(0,V.Az)()).subscribe(ti=>{this.selectableListService.deselectSingle(bn,ti)}),en=(0,V.Tn)(Pt)?this.translateService.instant("relationships.add.error.relationship-type.content",{type:w}):this.translateService.instant("relationships.add.error.server.content"),this.notificationsService.error(this.translateService.instant("relationships.add.error.title"),en)}}))}removeRelationship(r,u,w){return this.relationshipService.getRelationshipByItemsAndLabel(r,u,w).pipe((0,Tr.Z)(Y=>this.relationshipService.deleteRelationship(Y.id,"none")),(0,D.s)(1))}refreshWorkspaceItemInCache(r){return this.submissionObjectService.findById(r,!1,!1,(0,as.s)("item")).pipe((0,Mi.yd)(),(0,Mi.Bo)())}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(ed.RelationshipDataService),e.KVO(C0.RelationshipTypeDataService),e.KVO(b0.$),e.KVO(E.il),e.KVO(Ja.$),e.KVO(Za.B),e.KVO(ea.I),e.KVO(K.c$),e.KVO(Gd.K),e.KVO(Mi.f6))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),D0=(()=>{class d{constructor(r,u){this.actions$=r,this.store=u}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();class L1{constructor(_){this.original=_}toString(){if((0,V.Im)(this.original))return"";{const _=this.original.indexOf("?");return _<0?this.original:this.original.substring(0,_)}}}var Zg=n(16464);let N1=(()=>{class d{constructor(r){this.actions$=r,this.routeChange$=Ti(()=>this.actions$.pipe(Pi(Ac.hr),(0,_o.p)(u=>this.previousPath!==this.getBaseUrl(u)),(0,Vi.M)(u=>{this.previousPath=this.getBaseUrl(u)}),(0,In.T)(()=>new Zg.EI)))}getBaseUrl(r){return new L1(r.payload.routerState.url).toString()}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var zh=n(97402),kf=n(93620);let Hd=(()=>{class d{constructor(r){this.actions$=r,this.initTheme$=Ti(()=>this.actions$.pipe(Pi(Ql),(0,In.T)(()=>{const u=(0,he.Nv)();return(0,V.a4)(u)?new zh.K(u.name):new zh.K(kf.Q)})))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Uu=n(6800);const fl={REHYDRATE:(0,Uu.N)("dspace/ngrx/REHYDRATE"),REPLAY:(0,Uu.N)("dspace/ngrx/REPLAY")};class uc{constructor(_,r){this.type=_,this.payload=r}}const F1=[(()=>{class d{constructor(r,u){this.actions=r,this.store=u,this.replay=Ti(()=>this.actions.pipe(Pi(fl.REPLAY),(0,In.T)(w=>(0,Kn.of)({}))),{dispatch:!1}),this.resize=Ti(()=>this.actions.pipe(Pi(fl.REPLAY,fl.REHYDRATE),(0,In.T)(()=>new k.l(window.innerWidth,window.innerHeight))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Yg,D0,N1,Hd,Jg],ec=new e.nKC("MENU_PROVIDER");function $f(d,_,r,u,w,Y){if(r.hasOwnProperty("providerType")&&r.hasOwnProperty("childProviderTypes")){const De=r.providerType;r.childProviderTypes.forEach((tt,Pt)=>{$f(d,_,tt,Pt,`${_}_${u}_0`,Y)}),$f(d,_,De,u,w,!0)}else r.hasOwnProperty("providerType")&&r.hasOwnProperty("paths")?qg(d,r.providerType,_,u,w,Y,r.paths):qg(d,r,_,u,w,Y)}function qg(d,_,r,u,w,Y,De){d.push({provide:ec,multi:!0,useFactory(tt){if(tt.menuID=r,tt.index=tt.index??u,(0,V.a4)(w)){tt.menuProviderId=tt.menuProviderId??`${w}_${u}`;let Pt=tt.parentID;(0,V.a4)(Pt)&&(Pt=`${Pt}_0`),tt.parentID=Pt??w}else tt.menuProviderId=tt.menuProviderId??`${r}_${u}`;return(0,V.hj)(De)&&(tt.activePaths=De,tt.shouldPersistOnRouteChange=!1),Y&&(tt.shouldPersistOnRouteChange=!1),tt},deps:[_]}),d.push(_)}var td=n(10686),Fo=n(11873),Os=n(6170),tc=n(60696),Ri=n(19125);class q{constructor(){this.shouldPersistOnRouteChange=!0,this.alwaysRenderExpandable=!1,this.renderBrowserOnly=!1}static onRoute(..._){if(!q.isPrototypeOf(this))throw new Error("onRoute should only be called from concrete subclasses of AbstractMenuProvider");return{providerType:this,paths:_}}static withSubs(_){if(!q.isPrototypeOf(this))throw new Error("withSubs should only be called from concrete subclasses of AbstractMenuProvider");return{providerType:this,childProviderTypes:_}}getAutomatedSectionId(_){return`${this.menuProviderId}_${_}`}}class R extends q{constructor(){super(...arguments),this.alwaysRenderExpandable=!0}getSections(){return(0,Ns.z)([this.getTopSection(),this.getSubSections()]).pipe((0,In.T)(([_,r])=>{const u=_.id??this.getAutomatedSectionIdForTopSection();return[...r.map((Y,De)=>({...Y,id:Y.id??this.getAutomatedSectionIdForSubsection(De),parentID:u,alwaysRenderExpandable:!1})),{..._,id:u,alwaysRenderExpandable:this.alwaysRenderExpandable}]}))}getAutomatedSectionIdForTopSection(){return this.getAutomatedSectionId(0)}getAutomatedSectionIdForSubsection(_){return`${this.getAutomatedSectionIdForTopSection()}_${_}`}}let W=(()=>{class d extends R{constructor(r,u,w){super(),this.authorizationService=r,this.scriptDataService=u,this.modalService=w}getTopSection(){return(0,Kn.of)({model:{type:Ri.x.TEXT,text:"menu.section.access_control"},icon:"key",visible:!0})}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.AdministratorOf),this.authorizationService.isAuthorized(Os._.CanManageGroups)]).pipe((0,In.T)(([r,u])=>[{visible:r,model:{type:Ri.x.LINK,text:"menu.section.access_control_people",link:"/access-control/epeople"}},{visible:u,model:{type:Ri.x.LINK,text:"menu.section.access_control_groups",link:"/access-control/groups"}},{visible:r,model:{type:Ri.x.LINK,text:"menu.section.access_control_bulk",link:"/access-control/bulk-access"}}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService),e.KVO(tc.ScriptDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),pe=(()=>{class d extends q{constructor(r){super(),this.authorizationService=r}getSections(){return this.authorizationService.isAuthorized(Os._.AdministratorOf).pipe((0,In.T)(r=>[{visible:r,model:{type:Ri.x.LINK,text:"menu.section.admin_search",link:"/admin/search"},icon:"search"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Ne=n(57168);let xt=(()=>{class d extends R{constructor(r,u){super(),this.appConfig=r,this.browseService=u}getTopSection(){return(0,Kn.of)({model:{type:Ri.x.TEXT,text:"menu.section.browse_global"},icon:"globe",visible:!0})}getSubSections(){return this.browseService.getBrowseDefinitions().pipe((0,Mi.yd)(),(0,In.T)(r=>[...r.payload.page.map(u=>({visible:!0,model:{type:Ri.x.LINK,text:`menu.section.browse_global_by_${u.id}`,link:`/browse/${u.id}`}})),{visible:this.appConfig.geospatialMapViewer.enableBrowseMap,model:{type:Ri.x.LINK,text:"menu.section.browse_global_geospatial_map",link:"/browse/map"}}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(vo.vQ),e.KVO(Ne.q))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),rn=(()=>{class d extends R{constructor(r){super(),this.authorizationService=r}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.CoarNotifyEnabled),this.authorizationService.isAuthorized(Os._.AdministratorOf)]).pipe((0,In.T)(([r,u])=>[{visible:u&&r,model:{type:Ri.x.LINK,text:"menu.section.notify_dashboard",link:"/admin/notify-dashboard"}},{visible:u&&r,model:{type:Ri.x.LINK,text:"menu.section.services",link:"/admin/ldn/services"}}]))}getTopSection(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.CoarNotifyEnabled),this.authorizationService.isAuthorized(Os._.AdministratorOf)]).pipe((0,In.T)(([r,u])=>({visible:u&&r,model:{type:Ri.x.TEXT,text:"menu.section.coar_notify"},icon:"inbox"})))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var dn=n(84981);class wn extends q{constructor(){super(...arguments),this.shouldPersistOnRouteChange=!1}getSections(_,r){return this.getRouteContext(_,r).pipe((0,Ni.n)(u=>this.isApplicable(u)?this.getSectionsForContext(u):(0,Kn.of)([])))}isApplicable(_){return!0}}class An extends wn{getRouteContext(_,r){let u=_.data.dso;for(;(0,V.a4)(_.parent)&&(0,V.Tn)(u);)u=(_=_.parent).data.dso;return(0,V.a4)(u)&&u.hasSucceeded&&(0,V.a4)(u.payload)?(0,Kn.of)(u.payload):(0,Kn.of)(void 0)}getDsoType(_){const r=_.getRenderTypes()[0];return"string"==typeof r||r instanceof String?r.toLowerCase():_.type.toString().toLowerCase()}isApplicable(_){return(0,V.a4)(_)}}let bi=(()=>{class d extends An{constructor(r,u){super(),this.authorizationService=r,this.modalService=u}getSectionsForContext(r){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.CanSubscribe,r.self)]).pipe((0,In.T)(([u])=>[{visible:u,model:{type:Ri.x.ONCLICK,text:"subscriptions.tooltip",function:()=>{this.modalService.open(dn.w).componentInstance.dso=r}},icon:"bell"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),ei=(()=>{class d extends q{getSections(){return(0,Kn.of)([{visible:!0,model:{type:Ri.x.LINK,text:"menu.section.browse_global_communities_and_collections",link:"/community-list"},icon:"diagram-project"}])}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var vi=n(94925);let Us=(()=>{class d extends R{constructor(r,u){super(),this.authorizationService=r,this.configurationDataService=u}getSubSections(){return(0,Ns.z)([this.configurationDataService.findByPropertyName("contentreport.enable").pipe((0,Mi.qD)(),(0,In.T)(r=>r.hasSucceeded&&r.payload&&"true"===r.payload.values[0])),this.authorizationService.isAuthorized(Os._.AdministratorOf)]).pipe((0,In.T)(([r,u])=>[{visible:u&&r,model:{type:Ri.x.LINK,text:"menu.section.reports.collections",link:"/admin/reports/collections"},icon:"user-check"},{visible:u&&r,model:{type:Ri.x.LINK,text:"menu.section.reports.queries",link:"/admin/reports/queries"},icon:"user-check"}]))}getTopSection(){return(0,Ns.z)([this.configurationDataService.findByPropertyName("contentreport.enable").pipe((0,Mi.qD)(),(0,In.T)(r=>r.hasSucceeded&&r.payload&&"true"===r.payload.values[0])),this.authorizationService.isAuthorized(Os._.AdministratorOf)]).pipe((0,In.T)(([r,u])=>({visible:u&&r,model:{type:Ri.x.TEXT,text:"menu.section.reports"},icon:"file-alt"})))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService),e.KVO(vi.ConfigurationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),us=(()=>{class d extends q{constructor(r){super(),this.authorizationService=r}getSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.AdministratorOf)]).pipe((0,In.T)(([r])=>[{visible:r,model:{type:Ri.x.LINK,text:"menu.section.curation_task",link:"admin/curation-tasks"},icon:"filter"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Gi=n(15343),vs=n(5127);let Gs=(()=>{class d extends An{constructor(r){super(),this.authorizationDataService=r}getSectionsForContext(r){return(0,Ns.z)([this.authorizationDataService.isAuthorized(Os._.CanEditMetadata,r.self)]).pipe((0,In.T)(([u])=>[{visible:u,model:{type:Ri.x.LINK,text:this.getDsoType(r)+".page.edit",link:new vs.t((0,Gi.wN)(r),"edit","metadata").toString()},icon:"pencil-alt"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Jo=(()=>{class d extends An{constructor(){super(...arguments),this.alwaysRenderExpandable=!0}getSectionsForContext(r){return(0,Kn.of)([{visible:!0,model:{type:Ri.x.TEXT,text:this.getDsoType(r)+".page.options"},icon:"ellipsis-vertical"}])}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();n(6138);const ks=["*"];function Qs(d,_){}let Ko=(()=>{class d extends T.J{getComponentName(){return"EditCollectionSelectorComponent"}importThemedComponent(r){return n(61130)(`./${r}/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,6138))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-edit-collection-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ks,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,Qs,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(64134);const Mr=["*"];function hr(d,_){}let ya=(()=>{class d extends T.J{getComponentName(){return"EditCommunitySelectorComponent"}importThemedComponent(r){return n(11452)(`./${r}/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,64134))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-edit-community-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Mr,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,hr,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(52684);const Ea=["*"];function Al(d,_){}let xl=(()=>{class d extends T.J{getComponentName(){return"EditItemSelectorComponent"}importThemedComponent(r){return n(6122)(`./${r}/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,52684))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-edit-item-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Ea,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,Al,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})(),Fa=(()=>{class d extends R{constructor(r,u){super(),this.authorizationService=r,this.modalService=u}getTopSection(){return(0,Kn.of)({accessibilityHandle:"edit",model:{type:Ri.x.TEXT,text:"menu.section.edit"},icon:"pencil",visible:!0})}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.IsCollectionAdmin),this.authorizationService.isAuthorized(Os._.IsCommunityAdmin),this.authorizationService.isAuthorized(Os._.CanEditItem)]).pipe((0,In.T)(([r,u,w])=>[{visible:u,model:{type:Ri.x.ONCLICK,text:"menu.section.edit_community",function:()=>{this.modalService.open(ya)}}},{visible:r,model:{type:Ri.x.ONCLICK,text:"menu.section.edit_collection",function:()=>{this.modalService.open(Ko)}}},{visible:w,model:{type:Ri.x.ONCLICK,text:"menu.section.edit_item",function:()=>{this.modalService.open(xl)}}}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Oi=n(43446),wc=n(48145),wl=n(93136),zd=n(44280),nd=n(34010),hc=n(3116),ju=n(34180),xr=n(16903),qa=n(44905);function Xd(d,_){if(1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,r.header))}}let id=(()=>{class d extends qa.${constructor(r,u,w,Y,De,Ie,tt,Pt,bn){super(r,u),this.activeModal=r,this.route=u,this.router=w,this.notificationsService=Y,this.translationService=De,this.scriptDataService=Ie,this.authorizationDataService=tt,this.dsoNameService=Pt,this.modalService=bn,this.objectType=wl.W.DSPACEOBJECT,this.selectorTypes=[wl.W.COLLECTION],this.action=qa.u.EXPORT_BATCH}navigate(r){if(r instanceof wc.p){const u=this.modalService.open(hc.M);u.componentInstance.name=this.dsoNameService.getName(r),u.componentInstance.headerLabel="confirmation-modal.export-batch.header",u.componentInstance.infoLabel="confirmation-modal.export-batch.info",u.componentInstance.cancelLabel="confirmation-modal.export-batch.cancel",u.componentInstance.confirmLabel="confirmation-modal.export-batch.confirm",u.componentInstance.confirmIcon="fas fa-file-export";const w=u.componentInstance.response.pipe((0,Ni.n)(Y=>{if(Y)return this.startScriptNotifyAndRedirect(r).pipe((0,Ni.n)(Ie=>(0,Kn.of)(Ie)));this.modalService.open(d).componentInstance.dsoRD=(0,ju.SP)(r)}));return w.subscribe(),w}return(0,Kn.of)(!1)}startScriptNotifyAndRedirect(r){const u=[Object.assign(new nd.p,{name:"--id",value:r.uuid}),Object.assign(new nd.p,{name:"--type",value:"COLLECTION"})];return this.authorizationDataService.isAuthorized(Os._.AdministratorOf).pipe((0,Ni.n)(()=>this.scriptDataService.invoke(tc.BATCH_EXPORT_SCRIPT_NAME,u,[])),(0,Mi.qD)(),(0,In.T)(w=>{if(w.hasSucceeded){const Y=this.translationService.get("process.new.notification.success.title"),De=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(Y,De),(0,V.hj)(w.payload)&&this.router.navigateByUrl((0,zd.yJ)(w.payload.processId)),!0}{const Y=this.translationService.get("process.new.notification.error.title"),De=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(Y,De),!1}}))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(G.Lw),e.rXU(v.nX),e.rXU(v.Ix),e.rXU(ea.I),e.rXU(K.c$),e.rXU(tc.ScriptDataService),e.rXU(Fo.AuthorizationDataService),e.rXU(Oi.f),e.rXU(G.Bq))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-export-batch-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"]],template:function(u,w){1&u&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return w.close()}),e.k0s()(),e.j41(5,"div",2),e.DNE(6,Xd,3,3,"span",3),e.j41(7,"ds-dso-selector",4),e.bIt("onSelect",function(De){return w.selectObject(De)}),e.k0s()()()),2&u&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+w.action+"."+w.objectType.toString().toLowerCase()+".head")," "),e.R7$(4),e.vxM(w.header?6:-1),e.R7$(),e.Y8G("currentDSOId",null==w.dsoRD?null:w.dsoRD.payload.uuid)("types",w.selectorTypes)("sort",w.defaultSort))},dependencies:[xr.x,K.h,K.D9],encapsulation:2})}}return d})();var pc=n(10406);function e_(d,_){if(1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,r.header))}}let Ca=(()=>{class d extends qa.${constructor(r,u,w,Y,De,Ie,tt,Pt,bn){super(r,u),this.activeModal=r,this.route=u,this.router=w,this.notificationsService=Y,this.translationService=De,this.scriptDataService=Ie,this.authorizationDataService=tt,this.dsoNameService=Pt,this.modalService=bn,this.objectType=wl.W.DSPACEOBJECT,this.selectorTypes=[wl.W.COLLECTION,wl.W.COMMUNITY],this.action=qa.u.EXPORT_METADATA}navigate(r){if(r instanceof wc.p||r instanceof pc.E){const u=this.modalService.open(hc.M);u.componentInstance.name=this.dsoNameService.getName(r),u.componentInstance.headerLabel="confirmation-modal.export-metadata.header",u.componentInstance.infoLabel="confirmation-modal.export-metadata.info",u.componentInstance.cancelLabel="confirmation-modal.export-metadata.cancel",u.componentInstance.confirmLabel="confirmation-modal.export-metadata.confirm",u.componentInstance.confirmIcon="fas fa-file-export";const w=u.componentInstance.response.pipe((0,Ni.n)(Y=>{if(Y)return this.startScriptNotifyAndRedirect(r).pipe((0,Ni.n)(Ie=>(0,Kn.of)(Ie)));this.modalService.open(d).componentInstance.dsoRD=(0,ju.SP)(r)}));return w.subscribe(),w}return(0,Kn.of)(!1)}startScriptNotifyAndRedirect(r){const u=[Object.assign(new nd.p,{name:"-i",value:r.uuid})];return this.authorizationDataService.isAuthorized(Os._.AdministratorOf).pipe((0,Ni.n)(w=>(w&&u.push(Object.assign(new nd.p,{name:"-a"})),this.scriptDataService.invoke(tc.METADATA_EXPORT_SCRIPT_NAME,u,[]))),(0,Mi.qD)(),(0,In.T)(w=>{if(w.hasSucceeded){const Y=this.translationService.get("process.new.notification.success.title"),De=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(Y,De),(0,V.hj)(w.payload)&&this.router.navigateByUrl((0,zd.yJ)(w.payload.processId)),!0}{const Y=this.translationService.get("process.new.notification.error.title"),De=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(Y,De),!1}}))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(G.Lw),e.rXU(v.nX),e.rXU(v.Ix),e.rXU(ea.I),e.rXU(K.c$),e.rXU(tc.ScriptDataService),e.rXU(Fo.AuthorizationDataService),e.rXU(Oi.f),e.rXU(G.Bq))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-export-metadata-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"]],template:function(u,w){1&u&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return w.close()}),e.k0s()(),e.j41(5,"div",2),e.DNE(6,e_,3,3,"span",3),e.j41(7,"ds-dso-selector",4),e.bIt("onSelect",function(De){return w.selectObject(De)}),e.k0s()()()),2&u&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+w.action+"."+w.objectType.toString().toLowerCase()+".head")," "),e.R7$(4),e.vxM(w.header?6:-1),e.R7$(),e.Y8G("currentDSOId",null==w.dsoRD?null:w.dsoRD.payload.uuid)("types",w.selectorTypes)("sort",w.defaultSort))},dependencies:[xr.x,K.h,K.D9],encapsulation:2})}}return d})(),Lc=(()=>{class d extends R{constructor(r,u,w){super(),this.authorizationService=r,this.scriptDataService=u,this.modalService=w}getTopSection(){return(0,Kn.of)({accessibilityHandle:"export",model:{type:Ri.x.TEXT,text:"menu.section.export"},icon:"file-export",visible:!0})}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(tc.METADATA_EXPORT_SCRIPT_NAME)]).pipe((0,In.T)(([r,u])=>[{visible:r&&u,model:{type:Ri.x.ONCLICK,text:"menu.section.export_metadata",function:()=>{this.modalService.open(Ca)}}},{visible:r&&u,model:{type:Ri.x.ONCLICK,text:"menu.section.export_batch",function:()=>{this.modalService.open(id)}}}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService),e.KVO(tc.ScriptDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),t_=(()=>{class d extends q{constructor(r){super(),this.authorizationService=r}getSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.AdministratorOf)]).pipe((0,In.T)(([r])=>[{visible:r,model:{type:Ri.x.LINK,text:"menu.section.health",link:"/health"},icon:"heartbeat"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Wf=(()=>{class d extends R{constructor(r,u,w){super(),this.authorizationService=r,this.scriptDataService=u,this.modalService=w}getTopSection(){return(0,Kn.of)({model:{type:Ri.x.TEXT,text:"menu.section.import"},icon:"file-import",visible:!0})}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(tc.METADATA_IMPORT_SCRIPT_NAME)]).pipe((0,In.T)(([r,u])=>[{visible:r&&u,model:{type:Ri.x.LINK,text:"menu.section.import_metadata",link:"/admin/metadata-import"}},{visible:r&&u,model:{type:Ri.x.LINK,text:"menu.section.import_batch",link:"/admin/batch-import"}}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService),e.KVO(tc.ScriptDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var T0=n(89894),el=n(15862);let n_=(()=>{class d extends An{constructor(r,u,w,Y,De,Ie){super(),this.authorizationService=r,this.menuService=u,this.translate=w,this.notificationsService=Y,this.researcherProfileService=De,this.modalService=Ie}getSectionsForContext(r){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.CanClaimItem,r.self)]).pipe((0,In.T)(([u])=>[{visible:u,model:{type:Ri.x.ONCLICK,text:"item.page.claim.button",function:()=>{this.claimResearcher(r)}},icon:"hand-paper"}]))}isApplicable(r){return r instanceof el.q&&"person"===this.getDsoType(r)}claimResearcher(r){this.researcherProfileService.createFromExternalSourceAndReturnRelatedItemId(r.self).subscribe(u=>{(0,V.hj)(u)?(this.notificationsService.success(this.translate.get("researcherprofile.success.claim.title"),this.translate.get("researcherprofile.success.claim.body")),this.authorizationService.invalidateAuthorizationsRequestCache(),this.menuService.hideMenuSection(pl.D.DSO_EDIT,this.getAutomatedSectionId(0))):this.notificationsService.error(this.translate.get("researcherprofile.error.claim.title"),this.translate.get("researcherprofile.error.claim.body"))})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService),e.KVO(Wd.$),e.KVO(K.c$),e.KVO(ea.I),e.KVO(T0.ResearcherProfileDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Gf=(()=>{class d extends An{constructor(r){super(),this.authorizationService=r}getSectionsForContext(r){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.CanSynchronizeWithORCID,r.self)]).pipe((0,In.T)(([u])=>[{visible:u,model:{type:Ri.x.LINK,text:"item.page.orcid.tooltip",link:new vs.t((0,Gi.wN)(r),"orcid").toString()},icon:"orcid fab fa-lg"}]))}isApplicable(r){return r instanceof el.q&&"person"===this.getDsoType(r)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var ku=n(61206),i_=n(57439),sd=n(7164),Vu=n(25645),s_=n(38884),o_=n(82574);let Xh=(()=>{class d{constructor(r,u,w,Y,De,Ie,tt){this.modalService=r,this.versionService=u,this.versionHistoryService=w,this.itemVersionShared=Y,this.router=De,this.workspaceItemDataService=Ie,this.itemService=tt}openCreateVersionModal(r){const u=r,w=u._links.version.href,Y=this.modalService.open(o_.L);this.versionService.findByHref(w).pipe((0,Mi.qD)()).subscribe(De=>{Y.componentInstance.firstVersion=De.hasNoContent,Y.componentInstance.versionNumber=De.hasNoContent?void 0:De.payload.version}),Y.componentInstance.createVersionEvent.pipe((0,Ni.n)(De=>this.versionHistoryService.createVersion(u._links.self.href,De)),(0,Mi.qD)(),(0,Vi.M)(()=>Y.close()),(0,Vi.M)(De=>{this.itemVersionShared.notifyCreateNewVersion(De)}),(0,Mi.ak)(),(0,Ni.n)(De=>this.itemService.findByHref(De._links.item.href)),(0,Mi.ak)(),(0,Ni.n)(De=>this.workspaceItemDataService.findByItem(De.uuid,!0,!1)),(0,Mi.ak)()).subscribe(De=>{this.router.navigateByUrl("workspaceitems/"+De.id+"/edit")})}isNewVersionButtonDisabled(r){return this.versionHistoryService.hasDraftVersion$(r._links.version.href).pipe((0,In.T)(u=>!!u))}getVersioningTooltipMessage(r,u,w){return this.isNewVersionButtonDisabled(r).pipe((0,Ni.n)(Y=>(0,Kn.of)(Y?u:w)))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(G.Bq),e.KVO(i_.VersionDataService),e.KVO(sd.VersionHistoryDataService),e.KVO(s_.h),e.KVO(v.Ix),e.KVO(Vu.WorkspaceitemDataService),e.KVO(ku.ItemDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),Kf=(()=>{class d extends An{constructor(r,u){super(),this.authorizationService=r,this.dsoVersioningModalService=u}getSectionsForContext(r){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.CanCreateVersion,r.self),this.dsoVersioningModalService.isNewVersionButtonDisabled(r),this.dsoVersioningModalService.getVersioningTooltipMessage(r,"item.page.version.hasDraft","item.page.version.create")]).pipe((0,In.T)(([u,w,Y])=>[{visible:u,model:{type:Ri.x.ONCLICK,text:Y,disabled:w,function:()=>{this.dsoVersioningModalService.openCreateVersionModal(r)}},icon:"code-branch"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService),e.KVO(Xh))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();n(89862);const $u=["*"];function Hf(d,_){}let B1=(()=>{class d extends T.J{getComponentName(){return"CreateCollectionParentSelectorComponent"}importThemedComponent(r){return n(12706)(`./${r}/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,89862))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-create-collection-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:$u,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,Hf,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(20258);const U1=["*"];function ZO(d,_){}let qO=(()=>{class d extends T.J{getComponentName(){return"CreateCommunityParentSelectorComponent"}importThemedComponent(r){return n(27122)(`./${r}/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,20258))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-create-community-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:U1,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,ZO,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var eS=n(39334);let tS=(()=>{class d extends R{constructor(r,u){super(),this.authorizationService=r,this.modalService=u}getTopSection(){return(0,Kn.of)({accessibilityHandle:"new",model:{type:Ri.x.TEXT,text:"menu.section.new"},icon:"plus",visible:!0})}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.IsCollectionAdmin),this.authorizationService.isAuthorized(Os._.IsCommunityAdmin),this.authorizationService.isAuthorized(Os._.AdministratorOf),this.authorizationService.isAuthorized(Os._.CanSubmit),this.authorizationService.isAuthorized(Os._.CoarNotifyEnabled)]).pipe((0,In.T)(([r,u,w,Y,De])=>[{visible:u,model:{type:Ri.x.ONCLICK,text:"menu.section.new_community",function:()=>{this.modalService.open(qO)}}},{visible:r,model:{type:Ri.x.ONCLICK,text:"menu.section.new_collection",function:()=>{this.modalService.open(B1)}}},{visible:Y,model:{type:Ri.x.ONCLICK,text:"menu.section.new_item",function:()=>{this.modalService.open(eS.L)}}},{visible:w,model:{type:Ri.x.LINK,text:"menu.section.new_process",link:"/processes/new"}},{visible:w&&De,model:{type:Ri.x.LINK,text:"menu.section.services_new",link:"/admin/ldn/services/new"},icon:""}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var j1=n(80883);let H2=(()=>{class d extends R{constructor(r){super(),this.authorizationService=r}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.CanSeeQA),this.authorizationService.isAuthorized(Os._.AdministratorOf)]).pipe((0,In.T)(([r,u])=>[{visible:r,model:{type:Ri.x.LINK,text:"menu.section.quality-assurance",link:"/notifications/quality-assurance"}},{visible:u,model:{type:Ri.x.LINK,text:"menu.section.notifications_publication-claim",link:"/admin/notifications/"+j1.VZ}}]))}getTopSection(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.CanSeeQA),this.authorizationService.isAuthorized(Os._.AdministratorOf)]).pipe((0,In.T)(([r,u])=>({visible:r||u,model:{type:Ri.x.TEXT,text:"menu.section.notifications"},icon:"bell"})))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),k1=(()=>{class d extends q{constructor(r){super(),this.authorizationService=r}getSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.AdministratorOf)]).pipe((0,In.T)(([r])=>[{visible:r,model:{type:Ri.x.LINK,text:"menu.section.processes",link:"/processes"},icon:"terminal"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),nS=(()=>{class d extends R{constructor(r,u,w){super(),this.authorizationService=r,this.scriptDataService=u,this.modalService=w}getTopSection(){return(0,Kn.of)({model:{type:Ri.x.TEXT,text:"menu.section.registries"},icon:"list",visible:!0})}getSubSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.AdministratorOf)]).pipe((0,In.T)(([r])=>[{visible:r,model:{type:Ri.x.LINK,text:"menu.section.registries_metadata",link:"admin/registries/metadata"}},{visible:r,model:{type:Ri.x.LINK,text:"menu.section.registries_format",link:"admin/registries/bitstream-formats"}}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService),e.KVO(tc.ScriptDataService),e.KVO(G.Bq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),iS=(()=>{class d extends An{constructor(r){super(),this.authorizationService=r}getSectionsForContext(r){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.CanViewUsageStatistics,r?._links.self.href)]).pipe((0,In.T)(([u])=>{let Y,w="statistics";return(0,V.a4)(r)&&(Y=(0,Gi.wN)(r),(0,V.a4)(Y)&&(w=`statistics${Y}`)),[{visible:u,model:{type:Ri.x.LINK,text:"menu.section.statistics",link:w},icon:"chart-line"}]}))}isApplicable(r){return!0}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),z2=(()=>{class d extends q{constructor(r){super(),this.authorizationService=r}getSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.AdministratorOf)]).pipe((0,In.T)(([r])=>[{visible:r,model:{type:Ri.x.LINK,text:"menu.section.system-wide-alert",link:"/admin/system-wide-alert"},icon:"exclamation-circle"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var sS=n(23743),a_=n(82418);let M0=(()=>{class d extends An{constructor(r,u){super(),this.dsoWithdrawnReinstateModalService=r,this.correctionTypeDataService=u}getSectionsForContext(r){return(0,Ns.z)([this.correctionTypeDataService.findByItem(r.uuid,!0).pipe((0,Mi.qD)(),(0,Mi.Bo)())]).pipe((0,In.T)(([u])=>[{visible:r.isArchived&&u?.page.some(w=>w.topic===a_.pc),model:{type:Ri.x.ONCLICK,text:"item.page.withdrawn",function:()=>{this.dsoWithdrawnReinstateModalService.openCreateWithdrawnReinstateModal(r,"request-withdrawn",r.isArchived)}},icon:"eye-slash"},{visible:r.isWithdrawn&&u?.page.some(w=>w.topic===a_.el),model:{type:Ri.x.ONCLICK,text:"item.page.reinstate",function:()=>{this.dsoWithdrawnReinstateModalService.openCreateWithdrawnReinstateModal(r,"request-reinstate",r.isArchived)}},icon:"eye"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(a_.Ee),e.KVO(sS.CorrectionTypeDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),oS=(()=>{class d extends q{constructor(r){super(),this.authorizationService=r}getSections(){return(0,Ns.z)([this.authorizationService.isAuthorized(Os._.AdministratorOf)]).pipe((0,In.T)(([r])=>[{visible:r,model:{type:Ri.x.LINK,text:"menu.section.workflow",link:"/admin/workflow"},icon:"user-check"}]))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Fo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const Yd=function Vf(d){const _=[];return Object.entries(d).forEach(([r,u])=>{for(const[w,Y]of u.entries())$f(_,r,Y,w)}),_}({[pl.D.PUBLIC]:[ei,xt,iS],[pl.D.ADMIN]:[tS,Fa,Wf,Lc,H2,W,pe,Us,nS,us,k1,oS,t_,z2,rn],[pl.D.DSO_EDIT]:[Jo.withSubs([bi.onRoute(td.r.COMMUNITY_PAGE,td.r.COLLECTION_PAGE),Gs.onRoute(td.r.COMMUNITY_PAGE,td.r.COLLECTION_PAGE,td.r.ITEM_PAGE),M0.onRoute(td.r.ITEM_PAGE),Kf.onRoute(td.r.ITEM_PAGE),Gf.onRoute(td.r.ITEM_PAGE),n_.onRoute(td.r.ITEM_PAGE)])]});let zf=0;const l_=[function rS(d){return(_,r)=>(zf++,console.log("@ngrx action",zf,r.type),console.log("state",JSON.stringify(_)),console.log("action",JSON.stringify(r)),console.log("------------------------------------"),d(_,r))}],aS=[function V1(d){return(_,r)=>(r.type===fl.REHYDRATE&&(_=Object.assign({},_,r.payload)),d(_,r))}];var Xf=n(23679),lS=n(83),O0=n(47067),S0=n(39015),Yh=n(85643),Yf=n(54761),dS=n(42657),c_=n(61457);const I0=(0,c_.L)(()=>(0,Kn.of)(Os._.EPersonRegistration));var Qh=n(17102),d_=n(40220);const Ho=(0,Qh.e)(()=>{const d=(0,e.WQX)(d_.GH);return I.c.info.enableEndUserAgreement?d.hasCurrentUserAcceptedAgreement(!0):(0,Kn.of)(!0)}),u_=(0,c_.L)(()=>(0,Kn.of)(Os._.EPersonForgotPassword));var Qd=n(82923),h_=n(45402),Wu=n(92767),X2=n(25913),R0=n(20387),od=n(44030),uS=n(26646);let $1=(()=>{class d{constructor(r,u,w,Y,De,Ie){this.actions$=r,this.store$=u,this.translate=w,this.notificationsService=Y,this.qualityAssuranceSourceService=De,this.qualityAssuranceSourceDataService=Ie,this.retrieveAllSource$=Ti(()=>this.actions$.pipe(Pi(od.xq.RETRIEVE_ALL_SOURCE),(0,P.E)(this.store$),(0,Ni.n)(([tt,Pt])=>this.qualityAssuranceSourceService.getSources(tt.payload.elementsPerPage,tt.payload.currentPage).pipe((0,In.T)(bn=>new od.$_(bn.page,bn.totalPages,bn.currentPage,bn.totalElements)),(0,Ao.W)(bn=>(bn instanceof Error?console.error(bn.message):console.error("Unexpected object thrown",bn),(0,Kn.of)(new od.Fx))))))),this.retrieveAllSourceErrorAction$=Ti(()=>this.actions$.pipe(Pi(od.xq.RETRIEVE_ALL_SOURCE_ERROR),(0,Vi.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.source.error.service.retrieve"))})),{dispatch:!1}),this.addSourceAction$=Ti(()=>this.actions$.pipe(Pi(od.xq.ADD_SOURCE),(0,Vi.M)(()=>{this.qualityAssuranceSourceDataService.clearFindAllSourceRequests()})),{dispatch:!1})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(E.il),e.KVO(K.c$),e.KVO(ea.I),e.KVO(uS.p),e.KVO(R0.QualityAssuranceSourceDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var W1=n(45688),Zf=n(39848),p_=n(10186),A0=n(70998);let hS=(()=>{class d{constructor(r){this.qualityAssuranceTopicRestService=r}getTopics(r,u,w,Y){const Ie={elementsPerPage:r,currentPage:u,sort:new A0.z("name",A0.U.ASC),searchParams:[new p_.x("source",w)]};let tt;return(0,V.a4)(Y)?(Ie.searchParams.push(new p_.x("target",Y)),tt=this.qualityAssuranceTopicRestService.searchTopicsByTarget(Ie)):tt=this.qualityAssuranceTopicRestService.searchTopicsBySource(Ie),tt.pipe((0,Mi.qD)(),(0,In.T)(Pt=>{if(Pt.hasSucceeded)return Pt.payload;throw new Error("Can't retrieve Quality Assurance topics from the Broker topics REST service")}))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(W1.QualityAssuranceTopicDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),pS=(()=>{class d{constructor(r,u,w,Y,De,Ie){this.actions$=r,this.store$=u,this.translate=w,this.notificationsService=Y,this.qualityAssuranceTopicService=De,this.qualityAssuranceTopicDataService=Ie,this.retrieveAllTopics$=Ti(()=>this.actions$.pipe(Pi(Zf.py.RETRIEVE_ALL_TOPICS),(0,P.E)(this.store$),(0,Ni.n)(([tt,Pt])=>this.qualityAssuranceTopicService.getTopics(tt.payload.elementsPerPage,tt.payload.currentPage,tt.payload.source,tt.payload.target).pipe((0,In.T)(bn=>new Zf.C3(bn.page,bn.totalPages,bn.currentPage,bn.totalElements)),(0,Ao.W)(bn=>(bn instanceof Error?console.error(bn.message):console.error("Unexpected object thrown",bn),(0,Kn.of)(new Zf.IL))))))),this.retrieveAllTopicsErrorAction$=Ti(()=>this.actions$.pipe(Pi(Zf.py.RETRIEVE_ALL_TOPICS_ERROR),(0,Vi.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.topic.error.service.retrieve"))})),{dispatch:!1}),this.addTopicsAction$=Ti(()=>this.actions$.pipe(Pi(Zf.py.ADD_TOPICS),(0,Vi.M)(()=>{this.qualityAssuranceTopicDataService.clearFindAllTopicsRequests()})),{dispatch:!1})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(E.il),e.KVO(K.c$),e.KVO(ea.I),e.KVO(hS),e.KVO(W1.QualityAssuranceTopicDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var qf=n(85955),gl=n(69470);const fS=[pS,$1,(()=>{class d{constructor(r,u,w,Y,De,Ie){this.actions$=r,this.store$=u,this.translate=w,this.notificationsService=Y,this.suggestionsService=De,this.configurationService=Ie,this.retrieveTargetsBySource$=Ti(()=>this.actions$.pipe(Pi(gl.lz.RETRIEVE_TARGETS_BY_SOURCE),(0,Ni.n)(tt=>this.suggestionsService.getTargets(tt.payload.source,tt.payload.elementsPerPage,tt.payload.currentPage).pipe((0,In.T)(Pt=>new gl.Pc(tt.payload.source,Pt.page,Pt.totalPages,Pt.currentPage,Pt.totalElements)),(0,Ao.W)(Pt=>(Pt instanceof Error&&console.error(Pt.message),(0,Kn.of)(new gl.Fz(tt.payload.source)))))))),this.retrieveAllTargetsErrorAction$=Ti(()=>this.actions$.pipe(Pi(gl.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR),(0,Vi.M)(()=>{this.notificationsService.error(null,this.translate.get("suggestion.target.error.service.retrieve"))})),{dispatch:!1}),this.retrieveUserTargets$=Ti(()=>this.actions$.pipe(Pi(z.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS),(0,Ni.n)(tt=>this.configurationService.findByPropertyName("researcher-profile.entity-type").pipe((0,Mi.qD)(),(0,Ni.n)(Pt=>Pt.hasSucceeded&&Pt.payload.values.length>0?this.suggestionsService.retrieveCurrentUserSuggestions(tt.payload).pipe((0,In.T)(bn=>new gl.Gx(bn))):(0,Kn.of)(new gl.Gx([]))))))),this.refreshUserSuggestionsAction$=Ti(()=>this.actions$.pipe(Pi(gl.lz.REFRESH_USER_SUGGESTIONS),(0,Ni.n)(()=>this.store$.select(tt=>tt.core.auth.userId).pipe((0,Ni.n)(tt=>tt?this.configurationService.findByPropertyName("researcher-profile.entity-type").pipe((0,Mi.qD)(),(0,Ni.n)(Pt=>Pt.hasSucceeded&&Pt.payload.values.length>0?this.suggestionsService.retrieveCurrentUserSuggestions(tt).pipe((0,In.T)(bn=>new gl.Gx(bn)),(0,Ao.W)(bn=>(bn instanceof Error&&console.error(bn.message),(0,Kn.of)(new gl.Af)))):(0,Kn.of)(new gl.Gx([]))),(0,Ao.W)(Pt=>(Pt instanceof Error&&console.error(Pt.message),(0,Kn.of)(new gl.Af)))):(0,Kn.of)(new gl.Gx([]))),(0,Ao.W)(tt=>(tt instanceof Error&&console.error(tt.message),(0,Kn.of)(new gl.Af)))))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(E.il),e.KVO(K.c$),e.KVO(ea.I),e.KVO(qf.F),e.KVO(vi.ConfigurationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})()],f_=()=>(0,e.EmA)([(0,e.oKB)(E.md.forFeature("suggestionNotifications",X2.W,Xf.wP),Ld.forFeature(fS))]);var Y2=n(66423),em=n(5771),x0=n.n(em),m_=n(48125),Gu=n.n(m_),K1=n(28898),mS=n.n(K1),H1=n(28690),w0=n(12443),Nc=n(67707),rd=n(30250),z1=n(69289),g_=n(676);let X1=(()=>{class d{constructor(r,u,w,Y,De,Ie,tt,Pt,bn){this.actions$=r,this.notificationsService=u,this.operationsService=w,this.sectionService=Y,this.store$=De,this.submissionService=Ie,this.submissionObjectService=tt,this.translate=Pt,this.workspaceItemDataService=bn,this.loadForm$=Ti(()=>this.actions$.pipe(Pi(ws.lE.INIT_SUBMISSION_FORM),(0,In.T)(en=>{const ti=en.payload.submissionDefinition,ri=[];return ti.sections.page.forEach(Xn=>{const qn=Xn._links.self.href||Xn._links.self,Yi=qn.substr(qn.lastIndexOf("/")+1),Ts=Xn._links.config?Xn._links.config.href||Xn._links.config:"";let Cs,Wi=Xn.mandatory||(0,V.hj)(en.payload.sections)&&en.payload.sections.hasOwnProperty(Yi);Xn.sectionType===Nc.l.Duplicates&&(Wi=__()||(0,V.hj)(en.payload.sections[Yi].potentialDuplicates)),Cs=Xn.sectionType!==Nc.l.SubmissionForm?(0,V.EA)(en.payload.sections)&&(0,V.EA)(en.payload.sections[Yi])?en.payload.sections[Yi]:Object.create(null):en.payload.item.metadata;const As=(0,V.hj)(en.payload.errors)&&en.payload.errors[Yi]||null;ri.push(new ws.wT(en.payload.submissionId,Yi,Xn.header,Ts,Xn.mandatory,Xn.scope,Xn.sectionType,Xn.visibility,Wi,Cs,As))}),{action:en,definition:ti,mappedActions:ri}}),(0,Tr.Z)(en=>(0,Ah.H)(en.mappedActions.concat(new ws.ug(en.action.payload.submissionId)))))),this.resetForm$=Ti(()=>this.actions$.pipe(Pi(ws.lE.RESET_SUBMISSION_FORM),(0,In.T)(en=>new ws.jc(en.payload.collectionId,en.payload.submissionId,en.payload.selfUrl,en.payload.submissionDefinition,en.payload.sections,en.payload.item,null)))),this.saveSubmission$=Ti(()=>this.actions$.pipe(Pi(ws.lE.SAVE_SUBMISSION_FORM),(0,Ni.n)(en=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),en.payload.submissionId,"sections").pipe((0,In.T)(ti=>new ws.tR(en.payload.submissionId,ti,en.payload.isManual,en.payload.isManual)),(0,Ao.W)(()=>(0,Kn.of)(new ws.wM(en.payload.submissionId))))))),this.saveForLaterSubmission$=Ti(()=>this.actions$.pipe(Pi(ws.lE.SAVE_FOR_LATER_SUBMISSION_FORM),(0,Ni.n)(en=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),en.payload.submissionId,"sections").pipe((0,In.T)(ti=>new ws.oW(en.payload.submissionId,ti)),(0,Ao.W)(()=>(0,Kn.of)(new ws.wM(en.payload.submissionId))))))),this.saveSubmissionSuccess$=Ti(()=>this.actions$.pipe(Pi(ws.lE.SAVE_SUBMISSION_FORM_SUCCESS),(0,P.E)(this.store$),(0,In.T)(([en,ti])=>this.parseSaveResponse(ti.submission.objects[en.payload.submissionId],en.payload.submissionObject,en.payload.submissionId,ti.forms,en.payload.showNotifications,en.payload.showErrors)),(0,Tr.Z)(en=>(0,Ah.H)(en)))),this.saveSubmissionSectionSuccess$=Ti(()=>this.actions$.pipe(Pi(ws.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS),(0,P.E)(this.store$),(0,In.T)(([en,ti])=>this.parseSaveResponse(ti.submission.objects[en.payload.submissionId],en.payload.submissionObject,en.payload.submissionId,ti.forms,!1,!1)),(0,Tr.Z)(en=>(0,Ah.H)(en)))),this.saveSection$=Ti(()=>this.actions$.pipe(Pi(ws.lE.SAVE_SUBMISSION_SECTION_FORM),(0,Ni.n)(en=>this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),en.payload.submissionId,"sections",en.payload.sectionId).pipe((0,In.T)(ti=>new ws.ky(en.payload.submissionId,ti)),(0,Ao.W)(()=>(0,Kn.of)(new ws.Zl(en.payload.submissionId))))))),this.saveError$=Ti(()=>this.actions$.pipe(Pi(ws.lE.SAVE_SUBMISSION_FORM_ERROR,ws.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR),(0,P.E)(this.store$),(0,Vi.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.save_error_notice")))),{dispatch:!1}),this.saveAndDeposit$=Ti(()=>this.actions$.pipe(Pi(ws.lE.SAVE_AND_DEPOSIT_SUBMISSION),(0,P.E)(this.submissionService.hasUnsavedModification()),(0,Ni.n)(([en,ti])=>{let ri;return ri=ti?this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),en.payload.submissionId,"sections"):this.submissionObjectService.findById(en.payload.submissionId,!1,!0,(0,as.s)("item"),(0,as.s)("collection")).pipe((0,Mi.ak)(),(0,In.T)(Xn=>[Xn])),ri.pipe((0,In.T)(Xn=>this.canDeposit(Xn)?new ws.l5(en.payload.submissionId):(this.notificationsService.warning(null,this.translate.instant("submission.sections.general.cannot_deposit"),null,!0),new ws.tR(en.payload.submissionId,Xn,!1,!0))),(0,Ao.W)(()=>(0,Kn.of)(new ws.wM(en.payload.submissionId))))}))),this.depositSubmission$=Ti(()=>this.actions$.pipe(Pi(ws.lE.DEPOSIT_SUBMISSION),(0,P.E)(this.store$),(0,Ni.n)(([en,ti])=>this.submissionService.depositSubmission(ti.submission.objects[en.payload.submissionId].selfUrl).pipe((0,In.T)(()=>new ws.kq(en.payload.submissionId)),(0,Ao.W)(ri=>(0,Kn.of)(new ws.x9(en.payload.submissionId))))))),this.saveForLaterSubmissionSuccess$=Ti(()=>this.actions$.pipe(Pi(ws.lE.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS),(0,Vi.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice"))),(0,Vi.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionSuccess$=Ti(()=>this.actions$.pipe(Pi(ws.lE.DEPOSIT_SUBMISSION_SUCCESS),(0,Vi.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.deposit_success_notice"))),(0,Vi.M)(en=>this.workspaceItemDataService.invalidateById(en.payload.submissionId)),(0,Vi.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionError$=Ti(()=>this.actions$.pipe(Pi(ws.lE.DEPOSIT_SUBMISSION_ERROR),(0,Vi.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.deposit_error_notice")))),{dispatch:!1}),this.discardSubmission$=Ti(()=>this.actions$.pipe(Pi(ws.lE.DISCARD_SUBMISSION),(0,Ni.n)(en=>this.submissionService.discardSubmission(en.payload.submissionId).pipe((0,In.T)(()=>new ws.Ob(en.payload.submissionId)),(0,Ao.W)(()=>(0,Kn.of)(new ws.Z5(en.payload.submissionId))))))),this.addAllMetadataToSectionData=Ti(()=>this.actions$.pipe(Pi(ws.lE.UPDATE_SECTION_DATA),(0,Ni.n)(en=>this.sectionService.getSectionState(en.payload.submissionId,en.payload.sectionId,Nc.l.Upload).pipe((0,In.T)(ti=>[en,ti]),(0,D.s)(1))),(0,_o.p)(([en,ti])=>ti.sectionType===Nc.l.SubmissionForm),(0,Ni.n)(([en,ti])=>ti.sectionType===Nc.l.SubmissionForm?this.submissionObjectService.findById(en.payload.submissionId,!0,!1,(0,as.s)("item")).pipe((0,Mi.ak)()).pipe((0,Ni.n)(qn=>qn.item.pipe((0,Mi.ak)()))).pipe((0,In.T)(qn=>qn.metadata),(0,_o.p)(qn=>!Gu()(en.payload.data,qn)),(0,In.T)(qn=>new ws.dm(en.payload.submissionId,en.payload.sectionId,qn,en.payload.errorsToShow,en.payload.serverValidationErrors,en.payload.metadata))):(0,Kn.of)(new ws.Sm)))),this.discardSubmissionSuccess$=Ti(()=>this.actions$.pipe(Pi(ws.lE.DISCARD_SUBMISSION_SUCCESS),(0,Vi.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.discard_success_notice"))),(0,Vi.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.discardSubmissionError$=Ti(()=>this.actions$.pipe(Pi(ws.lE.DISCARD_SUBMISSION_ERROR),(0,Vi.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.discard_error_notice")))),{dispatch:!1})}canDeposit(r){let u=!0;return(0,V.hj)(r)&&r.forEach(w=>{const{errors:Y}=w;Y&&!(0,V.Im)(Y)&&(u=!1)}),u}parseSaveResponse(r,u,w,Y,De=!0,Ie=!0){const tt=[];return(0,V.hj)(u)&&(De&&this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice")),u.forEach(Pt=>{let bn=Object.create({});const{errors:en}=Pt;en&&!(0,V.Im)(en)&&(bn=(0,g_.A)(en),De&&this.notificationsService.warning(null,this.translate.get("submission.sections.general.sections_not_valid")));const ti=Pt.sections&&(0,V.hj)(Pt.sections)?Pt.sections:{},ri=mS()(Object.keys(ti),Object.keys(bn));for(const qn of ri){const Yi=bn[qn]||[],Ts=ti[qn]||{};if(r.sections[qn].sectionType===Nc.l.Upload&&(0,V.Im)(Ts.files)&&!r.sections[qn].enabled)continue;De&&!r.sections[qn].enabled&&this.submissionService.notifyNewSection(w,qn,r.sections[qn].sectionType);const Cs=Q1(Y1(Y,r,qn),Yi,r.sections[qn].sectionType,Ie);tt.push(new ws.dm(w,qn,Ts,Cs,Yi))}const Xn=x0()(r.sections,qn=>qn.sectionType===Nc.l.SherpaPolicies);if((0,V.EA)(Xn)&&(0,V.hj)(r.sections[Xn]?.data)&&(0,V.Im)(ti[Xn])&&tt.push(new ws.dm(w,Xn,null,[],[])),!__()){const qn=x0()(r.sections,Yi=>Yi.sectionType===Nc.l.Duplicates);(0,V.EA)(qn)&&ti.hasOwnProperty(qn)&&(0,V.Im)(ti[qn].potentialDuplicates)&&tt.push(new ws.CG(w))}})),tt}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(ea.I),e.KVO(H1.U),e.KVO(w0.c),e.KVO(E.il),e.KVO(rd.E),e.KVO(b0.$),e.KVO(K.c$),e.KVO(Vu.WorkspaceitemDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();function Y1(d,_,r){return d?d[_.sections[r].formId]:null}function Q1(d,_,r,u){if(u||r!==Nc.l.SubmissionForm.valueOf())return _;if(!d||!d.touched)return[];const w=[];return _.forEach(Y=>{(0,z1.A)(Y.path).forEach(Ie=>{Ie.fieldId&&d.touched[Ie.fieldId]&&w.push(Y)})}),w}function __(){return I.c.submission.duplicateDetection.alwaysShowSection}const J1=[X1];var v_=n(37098);const tm=()=>(0,e.EmA)([(0,e.oKB)(E.md.forFeature("submission",v_.u,Xf.wP),Ld.forFeature(J1))]);var Jh=n(93007);const gS=[{path:Gi.n,component:Vh},{path:Gi.RC,component:kh},{path:"",canActivate:[(d,_,r=(0,e.WQX)(E.il))=>r.pipe((0,E.Lt)(S.Gv)).pipe((0,In.T)(u=>!1===u),(0,M.F)(),(0,_o.p)(u=>!0===u),(0,D.s)(1))],canActivateChild:[(d,_,r=(0,e.WQX)(Qd.RootDataService),u=(0,e.WQX)(v.Ix))=>r.checkServerAvailability().pipe((0,D.s)(1),(0,In.T)(w=>!!w||u.parseUrl((0,Gi.N2)())))],children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"reload/:rnd",component:Wh,pathMatch:"full",canActivate:[(d,_,r=(0,e.WQX)(vo.vQ),u=(0,e.WQX)(v.Ix))=>{if((0,V.hj)(d.queryParams.redirect)){const w=d.queryParams.redirect.startsWith(r.ui.nameSpace)?d.queryParams.redirect.substring(r.ui.nameSpace.length):d.queryParams.redirect;return u.parseUrl(w)}return u.createUrlTree([Gi.Eo])}]},{path:"home",loadChildren:()=>n.e(2550).then(n.bind(n,82550)).then(d=>d.ROUTES),data:{showBreadcrumbs:!1,enableRSS:!0,dsoPath:"site"},providers:[f_()],canActivate:[Ho],resolve:{site:(d,_,r=(0,e.WQX)(h_.SiteDataService))=>r.find().pipe((0,D.s)(1)),tracking:Y2.Y}},{path:"community-list",loadChildren:()=>n.e(1257).then(n.bind(n,31257)).then(d=>d.ROUTES),canActivate:[Ho]},{path:"id",loadChildren:()=>n.e(7993).then(n.bind(n,57993)).then(d=>d.ROUTES),canActivate:[Ho]},{path:"handle",loadChildren:()=>n.e(7993).then(n.bind(n,57993)).then(d=>d.ROUTES),canActivate:[Ho]},{path:Gi.il,loadChildren:()=>Promise.all([n.e(9532),n.e(2076),n.e(6140)]).then(n.bind(n,26140)).then(d=>d.ROUTES),canActivate:[I0]},{path:Gi.sT,loadChildren:()=>Promise.all([n.e(9532),n.e(2076),n.e(857)]).then(n.bind(n,80857)).then(d=>d.ROUTES),canActivate:[Ho,u_]},{path:S0.b2,loadChildren:()=>Promise.all([n.e(2963),n.e(5338)]).then(n.bind(n,35338)).then(d=>d.ROUTES),canActivate:[Ho]},{path:O0.CC,loadChildren:()=>Promise.all([n.e(7502),n.e(9494),n.e(2963),n.e(2076),n.e(3945)]).then(n.bind(n,13945)).then(d=>d.ROUTES),canActivate:[Ho]},{path:Wu.xb,loadChildren:()=>Promise.all([n.e(906),n.e(2076),n.e(9916)]).then(n.bind(n,59916)).then(d=>d.ROUTES),canActivate:[Ho]},{path:"entities/:entity-type",loadChildren:()=>Promise.all([n.e(906),n.e(2076),n.e(9916)]).then(n.bind(n,59916)).then(d=>d.ROUTES),canActivate:[Ho]},{path:Gi.H_,loadChildren:()=>Promise.all([n.e(2313),n.e(3381)]).then(n.bind(n,43381)).then(d=>d.ROUTES),canActivate:[Ho]},{path:Gi.l2,loadChildren:()=>Promise.all([n.e(2313),n.e(3381)]).then(n.bind(n,43381)).then(d=>d.ROUTES),canActivate:[Ho]},{path:"mydspace",loadChildren:()=>n.e(303).then(n.bind(n,20303)).then(d=>d.ROUTES),data:{enableRSS:!0},providers:[f_()],canActivate:[Yh.t,Ho]},{path:"search",loadChildren:()=>n.e(6395).then(n.bind(n,86395)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[Ho]},{path:"browse",loadChildren:()=>n.e(473).then(n.bind(n,60473)).then(d=>d.ROUTES),canActivate:[Ho]},{path:Gi.pU,loadChildren:()=>n.e(1197).then(n.bind(n,61197)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[dS.Y,Ho]},{path:lS.uD,loadChildren:()=>Promise.all([n.e(6958),n.e(9673)]).then(n.bind(n,99673)).then(d=>d.ROUTES),providers:[f_()],canActivate:[Yh.t,Ho]},{path:"login",loadChildren:()=>n.e(4623).then(n.bind(n,64623)).then(d=>d.ROUTES)},{path:"logout",loadChildren:()=>n.e(3584).then(n.bind(n,13584)).then(d=>d.ROUTES)},{path:"submit",loadChildren:()=>n.e(3314).then(n.bind(n,53314)).then(d=>d.ROUTES),providers:[tm()],canActivate:[Ho]},{path:"import-external",loadChildren:()=>n.e(9170).then(n.bind(n,39170)).then(d=>d.ROUTES),canActivate:[Ho]},{path:"workspaceitems",loadChildren:()=>Promise.all([n.e(906),n.e(2306),n.e(8922)]).then(n.bind(n,18922)).then(d=>d.ROUTES),providers:[tm()],canActivate:[Ho]},{path:Gi.Vv,providers:[tm()],loadChildren:()=>Promise.all([n.e(906),n.e(2306),n.e(4113)]).then(n.bind(n,74113)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[Ho]},{path:Gi.pX,loadChildren:()=>Promise.all([n.e(2076),n.e(8495)]).then(n.bind(n,68495)).then(d=>d.ROUTES),providers:[f_()],canActivate:[Yh.t,Ho]},{path:zd.rG,loadChildren:()=>Promise.all([n.e(2076),n.e(454)]).then(n.bind(n,10454)).then(d=>d.ROUTES),canActivate:[Yh.t,Ho]},{path:Jh.C2,loadChildren:()=>n.e(1598).then(n.bind(n,61598)).then(d=>d.ROUTES),providers:[f_()],canActivate:[Yh.t,Ho]},{path:Gi.Ep,loadChildren:()=>Promise.all([n.e(2076),n.e(4900)]).then(n.bind(n,4900)).then(d=>d.ROUTES)},{path:Gi.RZ,loadChildren:()=>Promise.all([n.e(2076),n.e(7490)]).then(n.bind(n,77490)).then(d=>d.ROUTES),canActivate:[Ho]},{path:Gi.OC,component:dc},{path:"statistics",loadChildren:()=>Promise.all([n.e(2076),n.e(1493)]).then(n.bind(n,31493)).then(d=>d.ROUTES),canActivate:[Ho]},{path:Gi.lH,loadChildren:()=>n.e(2973).then(n.bind(n,22973)).then(d=>d.ROUTES)},{path:Gi.UP,loadChildren:()=>Promise.all([n.e(1200),n.e(9532),n.e(8519)]).then(n.bind(n,78519)).then(d=>d.ROUTES),canActivate:[Yf.i,Ho]},{path:"subscriptions",loadChildren:()=>Promise.all([n.e(2076),n.e(3344)]).then(n.bind(n,3344)).then(d=>d.ROUTES),canActivate:[Yh.t]},{path:"external-login/:token",loadChildren:()=>Promise.all([n.e(2076),n.e(8254)]).then(n.bind(n,98254)).then(d=>d.ROUTES)},{path:"review-account/:token",loadChildren:()=>Promise.all([n.e(2076),n.e(7846)]).then(n.bind(n,97846)).then(d=>d.ROUTES)},{path:"email-confirmation",loadChildren:()=>n.e(221).then(n.bind(n,60221)).then(d=>d.ROUTES)},{path:"**",pathMatch:"full",component:Wh}]}];n(29297);var Ku=n(93635),Hu=n(38196),N0=n(14700),F0=n(34298);let zu=(()=>{class d{constructor(r,u,w){this.inj=r,this.router=u,this.store=w,this.refreshTokenRequestUrls=[]}isUnauthorized(r){return 401===r.status}isSuccess(r){return 200===r.status||204===r.status}isAuthRequest(r){return r&&r.url&&(r.url.endsWith("/authn/login")||r.url.endsWith("/authn/logout")||r.url.endsWith("/authn/status"))}isLoginResponse(r){return r.url&&r.url.endsWith("/authn/login")}isLogoutResponse(r){return r.url&&r.url.endsWith("/authn/logout")}isStatusResponse(r){return r.url&&r.url.endsWith("/authn/status")}parseLocation(r){let u=r.trim();u=u.replace('location="',""),u=u.replace('"',"");let w=/%3A%2F%2F/g;return u=u.replace(w,"://"),w=/%3A/g,u=u.replace(w,":"),u.trim()}sortAuthMethods(r){const u=[];let w=!1,Y=!1;return r.forEach(De=>{De.authMethodType===Hu.Q.Password&&(u.push(De),w=!0),De.authMethodType===Hu.Q.Ldap&&(Y=!0)}),Y&&!w&&u.push(new Ku.q(Hu.Q.Password,0)),r.forEach(De=>{De.authMethodType!==Hu.Q.Password&&u.push(De)}),u}parseAuthMethodsFromHeaders(r){let u=[];if((0,V.hj)(r.get("www-authenticate"))){const De=r.get("www-authenticate").match(/(\w+ (\w+=((".*?")|[^,]*)(, )?)*)/g);for(const Ie in De){const tt=De[Ie].split(", "),Pt=tt[0].split(" ")[0].trim();let bn;if(1===tt.length)bn=new Ku.q(Pt,Number(Ie)),u.push(bn);else if(tt.length>1){let en=tt[1];en=this.parseLocation(en),bn=new Ku.q(Pt,Number(Ie),en),u.push(bn)}}u=this.sortAuthMethods(u)}else u.push(new Ku.q(Hu.Q.Password,0));return u}makeAuthStatusObject(r,u,w,Y){const De=new N0.T;if(Y&&(De.authMethods=this.parseAuthMethodsFromHeaders(Y)),De.id=null,De.okay=!0,r)De.authenticated=!0,De.token=new F0.S(u);else if(De.authenticated=!1,(0,V.hj)(w))if("string"==typeof w)try{De.error=JSON.parse(w)}catch(Ie){console.error('Unknown auth error "',w,'" caused ',Ie),De.error={error:"Unknown",message:"Unknown auth error",status:500,timestamp:Date.now(),path:""}}else De.error=w;return De}intercept(r,u){const w=this.inj.get(h.uR),Y=w.getToken();let De,Ie;if(w.isTokenExpired())return(0,Kn.of)(null);if(this.isAuthRequest(r)&&!this.isLogoutResponse(r)||!(0,V.hj)(Y))De=r.clone();else{Ie=w.buildAuthHeader(Y);let tt=r.headers.set("authorization",Ie);const Pt=w.getImpersonateID();(0,V.a4)(Pt)&&(tt=tt.set("X-On-Behalf-Of",Pt)),De=r.clone({headers:tt})}return u.handle(De).pipe((0,In.T)(tt=>{if(tt instanceof We.cS&&this.isSuccess(tt)&&this.isAuthRequest(tt)){let Pt;if(this.isLoginResponse(tt)){const bn=tt.headers.get("authorization");Pt=tt.clone({body:this.makeAuthStatusObject(!0,bn)}),this.refreshTokenRequestUrls=[]}else Pt=this.isStatusResponse(tt)?tt.clone({body:Object.assign(tt.body,{authMethods:this.parseAuthMethodsFromHeaders(tt.headers)})}):tt.clone({body:this.makeAuthStatusObject(!1)});return Pt}return tt}),(0,Ao.W)((tt,Pt)=>{if(tt instanceof We.yz){if(this.isAuthRequest(tt)){this.refreshTokenRequestUrls=[];const bn=new We.cS({body:this.makeAuthStatusObject(!1,null,tt.error,tt.headers),headers:tt.headers,status:tt.status,statusText:tt.statusText,url:tt.url});return(0,Kn.of)(bn)}this.isUnauthorized(tt)&&(0,V.Pe)(Y)&&w.isTokenExpired()&&this.store.dispatch(new z.Wu("auth.messages.expired"))}return(0,pa.$)(tt)}))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(e.zZn),e.KVO(v.Ix),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),vS=(()=>{class d{constructor(r,u){this.appConfig=r,this.platformId=u,this.baseUrl=this.appConfig.rest.baseUrl,this.ssrBaseUrl=this.appConfig.rest.ssrBaseUrl}intercept(r,u){if((0,f.UE)(this.platformId)||(0,V.Im)(this.ssrBaseUrl)||this.baseUrl===this.ssrBaseUrl)return u.handle(r);const w=r.url.replace(this.baseUrl,this.ssrBaseUrl),Y=r.clone({url:w});return u.handle(Y)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(vo.vQ),e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Z1=n(31943),Zh=n(97576);let yS=(()=>{class d{constructor(r){this.localeService=r}intercept(r,u){let w;return this.localeService.getLanguageCodeList().pipe((0,Z1.S)((Y,De)=>[...Y,De],[]),(0,Tr.Z)(Y=>(w=r.clone({headers:r.headers.set("Accept-Language",Y.toString())}),u.handle(w))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Zh.iH))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var ES=n(75398),fc=n(44242);const B0="orejime-anonymous",U0="google-analytics",y_="correlation-id",j0="CORRELATION-ID";var bS=n(77270);const DS=d=>d.correlationId;var nm=n(67138),TS=n(65148),ad=n(89564);let mc=(()=>{class d{constructor(r,u,w,Y,De){this.cookieService=r,this.uuidService=u,this.store=w,this.orejimeService=Y,this._window=De,this._window?.nativeWindow&&(this._window.nativeWindow.initCorrelationId=()=>this.initCorrelationId())}initCorrelationId(){this.orejimeService?.getSavedPreferences().subscribe(r=>{(0,V.a4)(r)&&r[y_]&&this.setCorrelationId()})}setCorrelationId(){let r=this.cookieService.get(j0);(0,V.Im)(r)&&(r=this.getCorrelationId()),(0,V.Im)(r)&&(r=this.uuidService.generate()),this.store.dispatch(new bS.q(r)),this.cookieService.set(j0,r)}getCorrelationId(){let r;return this.store.pipe((0,E.Lt)(DS),(0,D.s)(1)).subscribe(u=>{r=u}),r}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(nm.O),e.KVO(TS.v),e.KVO(E.il),e.KVO(ad.B),e.KVO(O.lc))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),im=(()=>{class d{constructor(r,u,w){this.cidService=r,this.router=u,this.orejimeService=w}intercept(r,u){return this.orejimeService.getSavedPreferences().pipe((0,Ni.n)(w=>{const Y=(0,V.Im)(w)||(0,V.Im)(w[y_])||!w[y_];let De=r.headers;if(!Y){const Ie=this.cidService.getCorrelationId();(0,V.a4)(Ie)&&(De=De.append("X-CORRELATION-ID",Ie))}return De=De.append("X-REFERRER",this.router.url),r=r.clone({withCredentials:!0,headers:De}),u.handle(r)}))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(mc),e.KVO(v.Ix),e.KVO(ad.B))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var $e=n(31635),yn=n(74850),fs=n(72153),ld=n(56538),Ds=n(44043),sr=n(94152),ep=n(89465);let Jd=class extends ld.I{static{this.type=ep.uC}get self(){return this._links.self.href}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],Jd.prototype,"type",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Jd.prototype,"id",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],Jd.prototype,"_links",void 0),Jd=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(ld.I)],Jd);let Ba=class extends ld.I{static{this.type=ep.zd}get self(){return this._links.self.href}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],Ba.prototype,"type",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Number)],Ba.prototype,"id",void 0),(0,$e.Cg)([(0,yn.deserializeAs)("id"),(0,$e.Sn)("design:type",String)],Ba.prototype,"uuid",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Ba.prototype,"name",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Ba.prototype,"description",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Ba.prototype,"url",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Number)],Ba.prototype,"score",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Boolean)],Ba.prototype,"enabled",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Boolean)],Ba.prototype,"usesActorEmailId",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Ba.prototype,"ldnUrl",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Ba.prototype,"lowerIp",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Ba.prototype,"upperIp",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],Ba.prototype,"notifyServiceInboundPatterns",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],Ba.prototype,"_links",void 0),Ba=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(ld.I)],Ba),n(12560);const k0=new Ds.v("notifyrequests");let Xu=class{static{this.type=k0}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],Xu.prototype,"type",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],Xu.prototype,"notifyStatus",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Xu.prototype,"itemuuid",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],Xu.prototype,"_links",void 0),Xu=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(ld.I)],Xu);var MS=n(66816);let tp=class{static{this.type=MS.Q}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],tp.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],tp.prototype,"values",void 0),(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],tp.prototype,"type",void 0),tp=(0,$e.Cg)([fs.gV],tp),n(25394),n(71695);var sm=n(32506);const nC=new e.nKC("mockResponseMap",{providedIn:"root",factory:()=>iC}),iC=new Map([]);let E_=(()=>{class d extends sm.Y{constructor(r,u){super(u),this.mockResponseMap=r,this.http=u}get(r){const u=this.getMockData(r);return(0,V.Im)(u)?super.get(r):this.toMockResponse$(u)}request(r,u,w,Y,De){const Ie=this.getMockData(u);return(0,V.Im)(Ie)?super.request(r,u,w,Y,De):this.toMockResponse$(Ie)}toMockResponse$(r){return(0,Kn.of)({payload:r,headers:new We.Lr,statusCode:200,statusText:"OK"})}getMockData(r){let u;if(u=this.mockResponseMap.has(r)?r:new URL(r).pathname.slice(I.c.rest.nameSpace.length),this.mockResponseMap.has(u))return JSON.parse(JSON.stringify(this.mockResponseMap.get(u)))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(nC),e.KVO(We.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var V0=n(442);let cd=class{static{this.type=V0.E}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],cd.prototype,"type",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],cd.prototype,"status",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],cd.prototype,"embargoDate",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],cd.prototype,"_links",void 0),cd=(0,$e.Cg)([fs.gV],cd);var sC=n(66977);let nc=class{static{this.type=sC.f}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],nc.prototype,"type",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],nc.prototype,"identifiers",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],nc.prototype,"_links",void 0),nc=(0,$e.Cg)([fs.gV],nc);var $0=n(38117);n(76391),n(92832),n(48337),n(97104),n(49891),n(49886);const AS=new Ds.v("statistics");let np=class{static{this.type=AS}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],np.prototype,"type",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],np.prototype,"_links",void 0),np=(0,$e.Cg)([fs.gV],np);const xS=new Ds.v("submissioncoarnotifyconfig");let Yu=class extends ld.I{static{this.type=xS}get self(){return this._links.self.href}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],Yu.prototype,"type",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Yu.prototype,"id",void 0),(0,$e.Cg)([(0,yn.deserializeAs)("id"),(0,$e.Sn)("design:type",String)],Yu.prototype,"uuid",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],Yu.prototype,"patterns",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],Yu.prototype,"_links",void 0),Yu=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(ld.I)],Yu),n(17942);const wS=new Ds.v("shortlivedtoken");let ip=class{static{this.type=wS}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],ip.prototype,"type",void 0),(0,$e.Cg)([(0,yn.autoserializeAs)("token"),(0,$e.Sn)("design:type",String)],ip.prototype,"value",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],ip.prototype,"_links",void 0),ip=(0,$e.Cg)([fs.gV],ip);var Zd=n(80541),Ll=n(2523);let qd=class extends Zd.G{static{this.type=Ll.XI}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],qd.prototype,"type",void 0),(0,$e.Cg)([(0,yn.autoserializeAs)(String,"name"),(0,$e.Sn)("design:type",String)],qd.prototype,"uuid",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],qd.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],qd.prototype,"itemAccessConditionOptions",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],qd.prototype,"bitstreamAccessConditionOptions",void 0),qd=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(Zd.G)],qd);let dd=class extends Zd.G{static{this.type=Ll.NS}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],dd.prototype,"accessConditionOptions",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Boolean)],dd.prototype,"discoverable",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Boolean)],dd.prototype,"canChangeDiscoverable",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],dd.prototype,"_links",void 0),dd=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(Zd.G)],dd);let K0=class extends dd{static{this.type=Ll.NS}};K0=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(dd)],K0),n(29706),n(52711),n(4341),n(75534),n(69123);let Fc=class extends Zd.G{static{this.type=Ll.WJ}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Fc.prototype,"header",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Boolean)],Fc.prototype,"mandatory",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Fc.prototype,"scope",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Fc.prototype,"sectionType",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Object)],Fc.prototype,"visibility",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],Fc.prototype,"_links",void 0),Fc=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(Zd.G)],Fc);let rm=class extends Fc{static{this.type=Ll.Lq}};rm=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(Fc)],rm);let ud=class extends Zd.G{static{this.type=Ll.mU}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],ud.prototype,"accessConditionOptions",void 0),(0,$e.Cg)([(0,fs.nf)(Ll.KX),(0,$e.Sn)("design:type",es.c)],ud.prototype,"metadata",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Boolean)],ud.prototype,"required",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Number)],ud.prototype,"maxSize",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],ud.prototype,"_links",void 0),ud=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(Zd.G)],ud);let oC=class extends ud{static{this.type=Ll.V_}};oC=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(ud)],oC);var rC=n(58956);const BS=new Ds.v("root");let eu=class{static{this.type=BS}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],eu.prototype,"type",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],eu.prototype,"dspaceUI",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],eu.prototype,"dspaceName",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],eu.prototype,"dspaceServer",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],eu.prototype,"dspaceVersion",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],eu.prototype,"_links",void 0),eu=(0,$e.Cg)([fs.gV],eu),n(89253),n(49340);var ba=n(73685);const z0=new Ds.v("feedback");let Qu=class extends ba.M{static{this.type=z0}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Qu.prototype,"email",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Qu.prototype,"message",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Qu.prototype,"page",void 0),Qu=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(ba.M)],Qu),n(33749),n(27632);var op=n(46884);const X0=new Ds.v("qualityassuranceevent");let Gr=class{static{this.type=X0}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Gr.prototype,"id",void 0),(0,$e.Cg)([(0,yn.autoserializeAs)(String,"id"),(0,$e.Sn)("design:type",String)],Gr.prototype,"uuid",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Gr.prototype,"originalId",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Gr.prototype,"title",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Number)],Gr.prototype,"trust",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Gr.prototype,"eventDate",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Gr.prototype,"status",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Object)],Gr.prototype,"message",void 0),(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],Gr.prototype,"type",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],Gr.prototype,"_links",void 0),(0,$e.Cg)([(0,fs.nf)(op.U),(0,$e.Sn)("design:type",es.c)],Gr.prototype,"target",void 0),(0,$e.Cg)([(0,fs.nf)(op.U),(0,$e.Sn)("design:type",es.c)],Gr.prototype,"related",void 0),Gr=(0,$e.Cg)([fs.gV],Gr);const _l=new Ds.v("qualityassurancesource");let Kr=class{static{this.type=_l}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Kr.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Kr.prototype,"lastEvent",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Number)],Kr.prototype,"totalEvents",void 0),(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],Kr.prototype,"type",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],Kr.prototype,"_links",void 0),Kr=(0,$e.Cg)([fs.gV],Kr);const Y0=new Ds.v("qualityassurancetopic");let tu=class{static{this.type=Y0}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],tu.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],tu.prototype,"name",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],tu.prototype,"lastEvent",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Number)],tu.prototype,"totalEvents",void 0),(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],tu.prototype,"type",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],tu.prototype,"_links",void 0),tu=(0,$e.Cg)([fs.gV],tu),n(60781);const kS=new Ds.v("suggestionsource");let rp=class{static{this.type=kS}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],rp.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Number)],rp.prototype,"total",void 0),(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],rp.prototype,"type",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],rp.prototype,"_links",void 0),rp=(0,$e.Cg)([fs.gV],rp);const Q0=new Ds.v("suggestiontarget");let Bc=class{static{this.type=Q0}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Bc.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Bc.prototype,"display",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Bc.prototype,"source",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Number)],Bc.prototype,"total",void 0),(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],Bc.prototype,"type",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],Bc.prototype,"_links",void 0),Bc=(0,$e.Cg)([fs.gV],Bc);const VS=new Ds.v("orcidhistory");let tl=class extends ld.I{static{this.type=VS}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],tl.prototype,"type",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Number)],tl.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],tl.prototype,"entityName",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],tl.prototype,"profileItemId",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],tl.prototype,"entityId",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],tl.prototype,"entityType",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Number)],tl.prototype,"status",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],tl.prototype,"putCode",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],tl.prototype,"_links",void 0),tl=(0,$e.Cg)([fs.gV],tl);const b_=new Ds.v("orcidqueue");let Nl=class extends ld.I{static{this.type=b_}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],Nl.prototype,"type",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Number)],Nl.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Nl.prototype,"description",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Nl.prototype,"profileItemId",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Nl.prototype,"entityId",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Nl.prototype,"recordType",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Nl.prototype,"operation",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],Nl.prototype,"_links",void 0),Nl=(0,$e.Cg)([fs.gV],Nl),n(12207),n(77123);var D_=n(70963);const J0=new Ds.v("authorization"),am=new Ds.v("feature");let gc=class extends ba.M{static{this.type=J0}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],gc.prototype,"id",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],gc.prototype,"_links",void 0),(0,$e.Cg)([(0,fs.nf)(D_.N),(0,$e.Sn)("design:type",es.c)],gc.prototype,"eperson",void 0),(0,$e.Cg)([(0,fs.nf)(am),(0,$e.Sn)("design:type",es.c)],gc.prototype,"feature",void 0),(0,$e.Cg)([(0,fs.nf)(op.U),(0,$e.Sn)("design:type",es.c)],gc.prototype,"object",void 0),gc=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(ba.M)],gc);var cC=n(21832),GS=(n(36480),n(611),n(77766));const KS=new Ds.v("browseEntry");let ic=class extends GS.u{static{this.type=KS}getRenderTypes(){return[this.constructor]}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],ic.prototype,"type",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],ic.prototype,"authority",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],ic.prototype,"value",void 0),(0,$e.Cg)([(0,yn.autoserializeAs)("valueLang"),(0,$e.Sn)("design:type",String)],ic.prototype,"language",void 0),(0,$e.Cg)([(0,yn.autoserializeAs)("thumbnail"),(0,$e.Sn)("design:type",String)],ic.prototype,"thumbnail",void 0),(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Number)],ic.prototype,"count",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],ic.prototype,"_links",void 0),ic=(0,$e.Cg)([fs.gV],ic);var T_=n(41033);const lp=new Ds.v("property");let _c=class{static{this.type=lp}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],_c.prototype,"type",void 0),(0,$e.Cg)([(0,yn.autoserializeAs)(String,"name"),(0,$e.Sn)("design:type",String)],_c.prototype,"uuid",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],_c.prototype,"name",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],_c.prototype,"values",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],_c.prototype,"_links",void 0),_c=(0,$e.Cg)([fs.gV],_c),n(43125),n(38516);var q0=n(99278);let hd=class extends ba.M{static{this.type=am}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],hd.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],hd.prototype,"description",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],hd.prototype,"resourcetypes",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],hd.prototype,"_links",void 0),hd=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(ba.M)],hd),n(58771),n(34621),n(89505),n(9575),n(83174),n(43588);var ty=n(8322);let cp=class extends ba.M{static{this.type=ty.m}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Boolean)],cp.prototype,"custom",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],cp.prototype,"text",void 0),cp=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(ba.M)],cp),n(86576),n(88906);const mC=new Ds.v("discover");let vc=class{static{this.type=mC}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],vc.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],vc.prototype,"filters",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],vc.prototype,"sortOptions",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],vc.prototype,"type",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],vc.prototype,"_links",void 0),vc=(0,$e.Cg)([fs.gV],vc);const nu=new Ds.v("site");let M_=class extends ba.M{static{this.type=nu}};M_=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(ba.M)],M_);var O_=n(96799);const lm=new Ds.v("itemtemplate");let cm=class extends el.q{static{this.type=lm}};(0,$e.Cg)([(0,fs.nf)(O_.n),(0,$e.Sn)("design:type",es.c)],cm.prototype,"templateItemOf",void 0),cm=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(el.q)],cm),n(83800),n(71147);var gC=n(46969),sy=n(43040);let pd=class extends ba.M{static{this.type=sy.s}};(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],pd.prototype,"_links",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],pd.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],pd.prototype,"summary",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],pd.prototype,"submitterName",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Boolean)],pd.prototype,"draftVersion",void 0),(0,$e.Cg)([sr.aK,(0,fs.nf)(gC.x,!0),(0,$e.Sn)("design:type",es.c)],pd.prototype,"versions",void 0),pd=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(ba.M)],pd),n(11774);let Uc=class extends ld.I{static{this.type=new Ds.v("correctiontype")}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],Uc.prototype,"type",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Uc.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Uc.prototype,"topic",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Uc.prototype,"discoveryConfiguration",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],Uc.prototype,"creationForm",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],Uc.prototype,"_links",void 0),Uc=(0,$e.Cg)([fs.gV],Uc),n(16868);var oy=n(55349);const Rs=new Ds.v("submissioncclicenseUrl");let dp=class extends oy.s{static{this.type=Rs}};(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],dp.prototype,"type",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],dp.prototype,"url",void 0),dp=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(oy.s)],dp);var ry=n(56327),Zu=n(84821),qu=n(38608);let sc=class{static{this.type=qu.Hx}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],sc.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],sc.prototype,"name",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Boolean)],sc.prototype,"scrollable",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Boolean)],sc.prototype,"hierarchical",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Object)],sc.prototype,"preloadLevel",void 0),(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Object)],sc.prototype,"type",void 0),(0,$e.Cg)([(0,fs.nf)(qu.mt,!0),(0,$e.Sn)("design:type",es.c)],sc.prototype,"entries",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],sc.prototype,"_links",void 0),sc=(0,$e.Cg)([fs.gV],sc);var dm=n(13627),eh=(n(38511),n(96283)),P_=n(59922),up=n(85579);let oc=class{static{this.type=up.T}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],oc.prototype,"id",void 0),(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",Ds.v)],oc.prototype,"type",void 0),(0,$e.Cg)([sr.aK,yn.autoserialize,(0,$e.Sn)("design:type",String)],oc.prototype,"ordertype",void 0),(0,$e.Cg)([(0,yn.deserializeAs)(new eh.a("supervision-order"),"id"),(0,$e.Sn)("design:type",String)],oc.prototype,"uuid",void 0),(0,$e.Cg)([yn.deserialize,(0,$e.Sn)("design:type",Object)],oc.prototype,"_links",void 0),(0,$e.Cg)([(0,fs.nf)(op.U),(0,$e.Sn)("design:type",es.c)],oc.prototype,"item",void 0),(0,$e.Cg)([(0,fs.nf)(P_.U),(0,$e.Sn)("design:type",es.c)],oc.prototype,"group",void 0),oc=(0,$e.Cg)([fs.gV],oc);class iu{}(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],iu.prototype,"id",void 0);var R_=n(17144),A_=n(13005);const vC=new Ds.v("ratingrevieweraction"),ay=new Ds.v("selectrevieweraction");let um=class extends iu{static{this.type=vC}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Boolean)],um.prototype,"descriptionRequired",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Number)],um.prototype,"maxValue",void 0),um=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(iu)],um);let x_=class extends iu{static{this.type=ay}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],x_.prototype,"group",void 0),x_=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(iu)],x_),n(92229);var ly=n(9701);let su=class extends ba.M{static{this.type=ly.f}};(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",String)],su.prototype,"id",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],su.prototype,"options",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Boolean)],su.prototype,"advanced",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],su.prototype,"advancedOptions",void 0),(0,$e.Cg)([yn.autoserialize,(0,$e.Sn)("design:type",Array)],su.prototype,"advancedInfo",void 0),su=(0,$e.Cg)([fs.gV,(0,yn.inheritSerialization)(ba.M)],su);var hm=n(2632);let cy=(()=>{class d extends nm.O{set(r,u,w){(0,hm.set)(r,u,w),this.updateSource()}remove(r,u){(0,hm.remove)(r,u),this.updateSource()}get(r){return(0,hm.getJSON)(r)}getAll(){return(0,hm.getJSON)()}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Yn=n(89417),Ui=n(40940),kn=n(19192),ou=n(97593),zn=n(21193),Vs=n(8177),ta=n(4266),zo=n(49170),na=n(83333),$s=n(44860),pm=n(61880),or=n(79032);let ru=(()=>{class d extends or.C{constructor(r,u,w){super(r),this.dsoNameService=r,this.truncatableService=u,this.bitstreamDataService=w}ngOnInit(){(0,V.a4)(this.object)&&(this.dso=this.object.indexableObject,this.isCollapsed$=this.isCollapsed())}allMetadataValues(r){return pm.O.allValues([this.object.hitHighlights,this.dso.metadata],r)}firstMetadataValue(r){return pm.O.firstValue([this.object.hitHighlights,this.dso.metadata],r)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Oi.f),e.rXU($s.F),e.rXU(ta.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(u,w){},encapsulation:2})}}return d})();const ZS=["*"],w_=d=>["/collections/",d];function qS(d,_){if(1&d&&(e.j41(0,"a",1),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.Y8G("target",u.linkType===u.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,w_,u.dso.id)),e.BMQ("rel",u.linkType===u.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(r=e.bMT(3,8,u.dso.logo))?null:r.payload)("limitWidth",!1)}}function eI(d,_){if(1&d&&(e.j41(0,"span",2),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(r=e.bMT(2,2,u.dso.logo))?null:r.payload)("limitWidth",!1)}}function tI(d,_){if(1&d&&e.nrm(0,"ds-badges",4),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function nI(d,_){if(1&d&&(e.j41(0,"p",6),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.dso.shortDescription)}}function iI(d,_){if(1&d&&(e.j41(0,"div",7)(1,"a",9),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,w_,r.dso.id)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let vl=class y2 extends ru{constructor(_,r,u,w){super(_,u,w),this.dsoNameService=_,this.linkService=r,this.truncatableService=u,this.bitstreamDataService=w}set dso(_){this._dso=_,(0,V.a4)(this._dso)&&(0,V.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,as.s)("logo"))}get dso(){return this._dso}static{this.\u0275fac=function(r){return new(r||y2)(e.rXU(Oi.f),e.rXU(Vs._),e.rXU($s.F),e.rXU(ta.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:y2,selectors:[["ds-collection-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ZS,decls:10,vars:6,consts:[[1,"card"],["tabindex","-1",1,"card-img-top",3,"target","routerLink"],[1,"card-img-top"],[1,"card-body"],[3,"object","context"],[1,"card-title"],[1,"card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,qS,4,12,"a",1)(2,eI,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,tI,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,nI,2,1,"p",6)(8,iI,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(2),e.vxM(u.showLabel?4:-1),e.R7$(2),e.JRh(u.dsoNameService.getName(u.dso)),e.R7$(),e.vxM(u.dso.shortDescription?7:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?8:-1))},dependencies:[f.Jj,v.Wk,na.F,zo.T,K.h,K.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};vl=(0,$e.Cg)([(0,zn.VK)(ou.A,kn.n.GridElement),(0,$e.Sn)("design:paramtypes",[Oi.f,Vs._,$s.F,ta.BitstreamDataService])],vl);const dy=d=>[d];let L_=class zM extends ru{ngOnInit(){super.ngOnInit(),this.editPath=(0,O0._E)(this.dso.uuid)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(zM)))(u||zM)}})()}static{this.\u0275cmp=e.VBU({type:zM,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(r,u){1&r&&(e.j41(0,"ds-collection-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&r&&(e.Y8G("object",u.object)("index",u.index)("linkType",u.linkType)("listID",u.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,dy,u.editPath)))},dependencies:[vl,v.Wk]})}};L_=(0,$e.Cg)([(0,zn.VK)(ou.A,kn.n.GridElement,Ui.o.AdminSearch)],L_);var au=n(22260);const yC=["*"],uy=d=>["/communities/",d];function N_(d,_){if(1&d&&(e.j41(0,"a",1),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.Y8G("target",u.linkType===u.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,uy,u.dso.id)),e.BMQ("rel",u.linkType===u.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(r=e.bMT(3,8,u.dso.logo))?null:r.payload)("limitWidth",!1)}}function hy(d,_){if(1&d&&(e.j41(0,"span",2),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(r=e.bMT(2,2,u.dso.logo))?null:r.payload)("limitWidth",!1)}}function tw(d,_){if(1&d&&e.nrm(0,"ds-badges",4),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function EC(d,_){if(1&d&&(e.j41(0,"p",6),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.dso.shortDescription)}}function CC(d,_){if(1&d&&(e.j41(0,"div",7)(1,"a",9),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,uy,r.dso.id)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let hp=class E2 extends ru{constructor(_,r,u,w){super(_,u,w),this.dsoNameService=_,this.linkService=r,this.truncatableService=u,this.bitstreamDataService=w}set dso(_){this._dso=_,(0,V.a4)(this._dso)&&(0,V.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,as.s)("logo"))}get dso(){return this._dso}static{this.\u0275fac=function(r){return new(r||E2)(e.rXU(Oi.f),e.rXU(Vs._),e.rXU($s.F),e.rXU(ta.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:E2,selectors:[["ds-community-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:yC,decls:10,vars:6,consts:[[1,"card"],["tabindex","-1",1,"card-img-top",3,"target","routerLink"],[1,"card-img-top"],[1,"card-body"],[3,"object","context"],[1,"card-title"],[1,"card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,N_,4,12,"a",1)(2,hy,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,tw,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,EC,2,1,"p",6)(8,CC,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(2),e.vxM(u.showLabel?4:-1),e.R7$(2),e.JRh(u.dsoNameService.getName(u.dso)),e.R7$(),e.vxM(u.dso.shortDescription?7:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?8:-1))},dependencies:[f.Jj,v.Wk,na.F,zo.T,K.h,K.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};hp=(0,$e.Cg)([(0,zn.VK)(au.L,kn.n.GridElement),(0,$e.Sn)("design:paramtypes",[Oi.f,Vs._,$s.F,ta.BitstreamDataService])],hp);const F_=d=>[d];let pp=class XM extends ru{ngOnInit(){super.ngOnInit(),this.editPath=(0,S0.pk)(this.dso.uuid)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(XM)))(u||XM)}})()}static{this.\u0275cmp=e.VBU({type:XM,selectors:[["ds-community-admin-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(r,u){1&r&&(e.j41(0,"ds-community-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&r&&(e.Y8G("object",u.object)("index",u.index)("linkType",u.linkType)("listID",u.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,F_,u.editPath)))},dependencies:[hp,v.Wk]})}};pp=(0,$e.Cg)([(0,zn.VK)(au.L,kn.n.GridElement,Ui.o.AdminSearch)],pp);var nl=n(60163),yl=n(39210),th=n(55743);const fd=d=>({"btn-sm":d}),nh=d=>[d];function fp(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.move"),""))}function bC(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-private"),""))}function ih(d,_){if(1&d&&(e.j41(0,"a",4),e.nI1(1,"translate"),e.nrm(2,"i",12),e.DNE(3,bC,3,3,"span",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("ngClass",e.eq3(6,fd,r.small))("routerLink",e.eq3(8,nh,r.getPrivateRoute()))("title",e.bMT(1,4,"admin.search.item.make-private")),e.R7$(3),e.vxM(r.small?-1:3)}}function mp(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-public"),""))}function py(d,_){if(1&d&&(e.j41(0,"a",5),e.nI1(1,"translate"),e.nrm(2,"i",13),e.DNE(3,mp,3,3,"span",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("ngClass",e.eq3(6,fd,r.small))("routerLink",e.eq3(8,nh,r.getPublicRoute()))("title",e.bMT(1,4,"admin.search.item.make-public")),e.R7$(3),e.vxM(r.small?-1:3)}}function fm(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.edit"),""))}function DC(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.withdraw"),""))}function TC(d,_){if(1&d&&(e.j41(0,"a",8),e.nI1(1,"translate"),e.nrm(2,"i",14),e.DNE(3,DC,3,3,"span",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("ngClass",e.eq3(6,fd,r.small))("routerLink",e.eq3(8,nh,r.getWithdrawRoute()))("title",e.bMT(1,4,"admin.search.item.withdraw")),e.R7$(3),e.vxM(r.small?-1:3)}}function sI(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.reinstate"),""))}function oI(d,_){if(1&d&&(e.j41(0,"a",9),e.nI1(1,"translate"),e.nrm(2,"i",15),e.DNE(3,sI,3,3,"span",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("ngClass",e.eq3(6,fd,r.small))("routerLink",e.eq3(8,nh,r.getReinstateRoute()))("title",e.bMT(1,4,"admin.search.item.reinstate")),e.R7$(3),e.vxM(r.small?-1:3)}}function rI(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.delete"),""))}let fy=(()=>{class d{getEditRoute(){return(0,Wu.$r)(this.item)}getMoveRoute(){return new vs.t(this.getEditRoute(),th.Bw).toString()}getDeleteRoute(){return new vs.t(this.getEditRoute(),th.Jr).toString()}getWithdrawRoute(){return new vs.t(this.getEditRoute(),th.kH).toString()}getReinstateRoute(){return new vs.t(this.getEditRoute(),th.Pg).toString()}getPrivateRoute(){return new vs.t(this.getEditRoute(),th.$2).toString()}getPublicRoute(){return new vs.t(this.getEditRoute(),th.RS).toString()}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-admin-search-result-actions-element"]],inputs:{item:"item",small:"small"},standalone:!0,features:[e.aNF],decls:17,vars:34,consts:[[1,"space-children-mr","my-1"],[1,"btn","btn-secondary","move-link",3,"ngClass","routerLink","title"],[1,"fa","fa-arrow-circle-right"],[1,"d-none","d-sm-inline"],[1,"btn","btn-secondary","private-link",3,"ngClass","routerLink","title"],[1,"btn","btn-secondary","public-link",3,"ngClass","routerLink","title"],[1,"btn","btn-secondary","edit-link",3,"ngClass","routerLink","title"],[1,"fa","fa-edit"],[1,"btn","btn-warning","t","withdraw-link",3,"ngClass","routerLink","title"],[1,"btn","btn-warning","reinstate-link",3,"ngClass","routerLink","title"],[1,"btn","btn-danger","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"fa","fa-eye-slash"],[1,"fa","fa-eye"],[1,"fa","fa-ban"],[1,"fa","fa-undo"]],template:function(u,w){1&u&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,fp,3,3,"span",3),e.k0s(),e.DNE(5,ih,4,10,"a",4)(6,py,4,10,"a",5),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,fm,3,3,"span",3),e.k0s(),e.DNE(11,TC,4,10,"a",8)(12,oI,4,10,"a",9),e.j41(13,"a",10),e.nI1(14,"translate"),e.nrm(15,"i",11),e.DNE(16,rI,3,3,"span",3),e.k0s()()),2&u&&(e.R7$(),e.Y8G("ngClass",e.eq3(22,fd,w.small))("routerLink",e.eq3(24,nh,w.getMoveRoute()))("title",e.bMT(2,16,"admin.search.item.move")),e.R7$(3),e.vxM(w.small?-1:4),e.R7$(),e.vxM(w.item&&w.item.isDiscoverable?5:-1),e.R7$(),e.vxM(w.item&&!w.item.isDiscoverable?6:-1),e.R7$(),e.Y8G("ngClass",e.eq3(26,fd,w.small))("routerLink",e.eq3(28,nh,w.getEditRoute()))("title",e.bMT(8,18,"admin.search.item.edit")),e.R7$(3),e.vxM(w.small?-1:10),e.R7$(),e.vxM(w.item&&!w.item.isWithdrawn?11:-1),e.R7$(),e.vxM(w.item&&w.item.isWithdrawn?12:-1),e.R7$(),e.Y8G("ngClass",e.eq3(30,fd,w.small))("routerLink",e.eq3(32,nh,w.getDeleteRoute()))("title",e.bMT(14,20,"admin.search.item.delete")),e.R7$(3),e.vxM(w.small?-1:16))},dependencies:[f.YU,v.Wk,K.h,K.D9]})}}return d})();const aI=["badges"],lI=["buttons"],MC=["*"];function cI(d,_){}let sh=class C2 extends ru{constructor(_,r,u,w){super(_,r,u),this.dsoNameService=_,this.truncatableService=r,this.bitstreamDataService=u,this.themeService=w}ngOnInit(){super.ngOnInit();const _=this.getComponent(),r=this.dynamicComponentLoaderDirective.viewContainerRef;r.clear(),this.compRef=r.createComponent(_,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",this.object),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID)}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(){return(0,zn.Zx)(this.object.getRenderTypes(),kn.n.GridElement,void 0,this.themeService.getThemeName())}static{this.\u0275fac=function(r){return new(r||C2)(e.rXU(Oi.f),e.rXU($s.F),e.rXU(ta.BitstreamDataService),e.rXU(ie.Fs))}}static{this.\u0275cmp=e.VBU({type:C2,selectors:[["ds-item-admin-search-result-grid-element"]],viewQuery:function(r,u){if(1&r&&(e.GBs(nl.z,7),e.GBs(aI,7),e.GBs(lI,7)),2&r){let w;e.mGM(w=e.lsd())&&(u.dynamicComponentLoaderDirective=w.first),e.mGM(w=e.lsd())&&(u.badges=w.first),e.mGM(w=e.lsd())&&(u.buttons=w.first)}},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:MC,decls:8,vars:2,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"item","small"]],template:function(r,u){1&r&&(e.NAR(),e.DNE(0,cI,0,0,"ng-template",2),e.j41(1,"div",null,0),e.SdG(3),e.k0s(),e.j41(4,"ul",3,1)(6,"li",4),e.nrm(7,"ds-item-admin-search-result-actions-element",5),e.k0s()()),2&r&&(e.R7$(7),e.Y8G("item",u.dso)("small",!0))},dependencies:[nl.z,fy]})}};sh=(0,$e.Cg)([(0,zn.VK)(yl.H,kn.n.GridElement,Ui.o.AdminSearch),(0,$e.Sn)("design:paramtypes",[Oi.f,$s.F,ta.BitstreamDataService,ie.Fs])],sh);var Da=n(26971);const OC=d=>[d];function dI(d,_){if(1&d&&e.nrm(0,"ds-badges",2),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function SC(d,_){if(1&d&&e.nrm(0,"a",3),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,OC,"/collections/"+r.dso.id))("innerHTML",r.dsoTitle,e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function uI(d,_){if(1&d&&e.nrm(0,"span",4),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}function hI(d,_){if(1&d&&e.nrm(0,"div",5),2&d){const r=e.XpG();e.Y8G("innerHTML",r.firstMetadataValue("dc.description.abstract"),e.npT)}}let gp=class YM extends Da.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(YM)))(u||YM)}})()}static{this.\u0275cmp=e.VBU({type:YM,selectors:[["ds-collection-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:5,consts:[[1,"row"],[3,"ngClass"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,dI,1,2,"ds-badges",2)(3,SC,1,6,"a",3)(4,uI,1,1,"span",4)(5,hI,1,1,"div",5),e.k0s()()),2&r&&(e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9 offset-3 offset-md-2":"col-md-12"),e.R7$(),e.vxM(u.showLabel?2:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?3:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?4:-1),e.R7$(),e.vxM(u.dso.shortDescription?5:-1))},dependencies:[f.YU,v.Wk,na.F],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};gp=(0,$e.Cg)([(0,zn.VK)(ou.A,kn.n.ListElement)],gp);const my=d=>[d];let mm=class QM extends Da.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,O0._E)(this.dso.uuid)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(QM)))(u||QM)}})()}static{this.\u0275cmp=e.VBU({type:QM,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],["data-test","coll-link",1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(r,u){1&r&&(e.nrm(0,"ds-collection-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&r&&(e.Y8G("object",u.object)("index",u.index)("linkType",u.linkType)("listID",u.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,my,u.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.collection.edit")," "))},dependencies:[gp,v.Wk,K.h,K.D9]})}};mm=(0,$e.Cg)([(0,zn.VK)(ou.A,kn.n.ListElement,Ui.o.AdminSearch)],mm);const gm=d=>[d];function _m(d,_){if(1&d&&e.nrm(0,"ds-badges",2),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function vm(d,_){if(1&d&&e.nrm(0,"a",3),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,gm,"/communities/"+r.dso.id))("innerHTML",r.dsoTitle,e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function pI(d,_){if(1&d&&e.nrm(0,"span",4),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}function fI(d,_){if(1&d&&e.nrm(0,"div",5),2&d){const r=e.XpG();e.Y8G("innerHTML",r.firstMetadataValue("dc.description.abstract"),e.npT)}}let ym=class JM extends Da.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(JM)))(u||JM)}})()}static{this.\u0275cmp=e.VBU({type:JM,selectors:[["ds-community-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:5,consts:[[1,"row"],[3,"ngClass"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,_m,1,2,"ds-badges",2)(3,vm,1,6,"a",3)(4,pI,1,1,"span",4)(5,fI,1,1,"div",5),e.k0s()()),2&r&&(e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9 offset-3 offset-md-2":"col-md-12"),e.R7$(),e.vxM(u.showLabel?2:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?3:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?4:-1),e.R7$(),e.vxM(u.dso.shortDescription?5:-1))},dependencies:[f.YU,v.Wk,na.F],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};ym=(0,$e.Cg)([(0,zn.VK)(au.L,kn.n.ListElement)],ym);const B_=d=>[d];let _p=class ZM extends Da.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,S0.pk)(this.dso.uuid)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(ZM)))(u||ZM)}})()}static{this.\u0275cmp=e.VBU({type:ZM,selectors:[["ds-community-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(r,u){1&r&&(e.nrm(0,"ds-community-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&r&&(e.Y8G("object",u.object)("index",u.index)("linkType",u.linkType)("listID",u.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,B_,u.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.community.edit")," "))},dependencies:[ym,v.Wk,K.h,K.D9]})}};_p=(0,$e.Cg)([(0,zn.VK)(au.L,kn.n.ListElement,Ui.o.AdminSearch)],_p);var oh=n(8447);let gy=class qM extends Da.P{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(qM)))(u||qM)}})()}static{this.\u0275cmp=e.VBU({type:qM,selectors:[["ds-item-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:7,consts:[[3,"object","viewMode","index","linkType","listID"],[3,"item","small"]],template:function(r,u){1&r&&e.nrm(0,"ds-listable-object-component-loader",0)(1,"ds-item-admin-search-result-actions-element",1),2&r&&(e.Y8G("object",u.object)("viewMode",u.viewModes.ListElement)("index",u.index)("linkType",u.linkType)("listID",u.listID),e.R7$(),e.Y8G("item",u.dso)("small",!1))},dependencies:[fy,oh.v]})}};gy=(0,$e.Cg)([(0,zn.VK)(yl.H,kn.n.ListElement,Ui.o.AdminSearch)],gy);var Em=n(33063);const IC=d=>({"btn-sm":d}),PC=d=>[d];function nw(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function mI(d,_){1&d&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.send-back"),""))}let RC=(()=>{class d{getDeleteRoute(){return(0,Em.BD)(this.wfi.id)}getSendBackRoute(){return(0,Em.Rk)(this.wfi.id)}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workflow-item-admin-workflow-actions-element"]],inputs:{wfi:"wfi",small:"small"},standalone:!0,features:[e.aNF],decls:9,vars:20,consts:[[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-light","my-1","send-back-link",3,"ngClass","routerLink","title"],[1,"fa","fa-hand-point-left"]],template:function(u,w){1&u&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,nw,3,3,"span",3),e.k0s(),e.j41(5,"a",4),e.nI1(6,"translate"),e.nrm(7,"i",5),e.DNE(8,mI,3,3,"span",3),e.k0s()()),2&u&&(e.R7$(),e.Y8G("ngClass",e.eq3(12,IC,w.small))("routerLink",e.eq3(14,PC,w.getDeleteRoute()))("title",e.bMT(2,8,"admin.workflow.item.delete")),e.R7$(3),e.vxM(w.small?-1:4),e.R7$(),e.Y8G("ngClass",e.eq3(16,IC,w.small))("routerLink",e.eq3(18,PC,w.getSendBackRoute()))("title",e.bMT(6,10,"admin.workflow.item.send-back")),e.R7$(3),e.vxM(w.small?-1:8))},dependencies:[f.YU,v.Wk,K.h,K.D9]})}}return d})();var vp=n(99737),gI=n(71384),Ua=n(85186),_y=n(80094),Cm=n(14744);function vy(d,_){1&d&&(e.nrm(0,"ds-error",9),e.nI1(1,"translate")),2&d&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.type-of-order.error"))}function U_(d,_){1&d&&(e.nrm(0,"ds-error",9),e.nI1(1,"translate")),2&d&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.group.error"))}let AC=(()=>{class d{constructor(r,u,w,Y,De){this.dsoNameService=r,this.activeModal=u,this.supervisionOrderDataService=w,this.notificationsService=Y,this.translateService=De,this.isSubmitted=!1,this.create=new e.bkB}close(){this.activeModal.close()}updateGroupObjectSelected(r){this.selectedGroup=r}save(){if(this.isSubmitted=!0,this.selectedOrderType&&this.selectedGroup){const r=new oc;r.ordertype=this.selectedOrderType,this.supervisionOrderDataService.create(r,this.itemUUID,this.selectedGroup.uuid,this.selectedOrderType).pipe((0,Mi.qD)()).subscribe(u=>{u.state===Ua.zE.Success?(this.notificationsService.success(this.translateService.get("supervision-group-selector.notification.create.success.title",{name:this.dsoNameService.getName(this.selectedGroup)})),this.create.emit(u.payload),this.close()):this.notificationsService.error(this.translateService.get("supervision-group-selector.notification.create.failure.title"),422===u.statusCode?this.translateService.get("supervision-group-selector.notification.create.already-existing"):u.errorMessage)})}}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Oi.f),e.rXU(G.Lw),e.rXU(vp.SupervisionOrderDataService),e.rXU(ea.I),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-supervision-group-selector"]],outputs:{create:"create"},standalone:!0,features:[e.aNF],decls:38,vars:29,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"control-group","col-sm-12"],["for","supervisionOrder",1,"form-label"],["name","supervisionOrder","id","supervisionOrder",1,"form-select",3,"ngModelChange","ngModel"],["value","EDITOR"],["value","OBSERVER"],[3,"message"],["for","supervisionGroup",1,"form-label"],[1,"mb-3"],["id","supervisionGroup","type","text","disabled","",1,"form-control",3,"value"],[3,"select","isListOfEPerson"],[1,"modal-footer"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"btn","btn-primary","save",3,"click"],[1,"fas","fa-save"]],template:function(u,w){1&u&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return w.close()}),e.k0s()(),e.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"label",5),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"select",6),e.nI1(12,"translate"),e.mxI("ngModelChange",function(De){return e.DH7(w.selectedOrderType,De)||(w.selectedOrderType=De),De}),e.j41(13,"option",7),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",8),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.DNE(19,vy,2,3,"ds-error",9),e.k0s()(),e.j41(20,"div",3)(21,"div",4)(22,"label",10),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.qex(25,11),e.nrm(26,"input",12),e.DNE(27,U_,2,3,"ds-error",9),e.bVm(),e.j41(28,"ds-eperson-group-list",13),e.bIt("select",function(De){return w.updateGroupObjectSelected(De)}),e.k0s()()(),e.j41(29,"div",14)(30,"button",15),e.bIt("click",function(){return w.close()}),e.nrm(31,"i",16),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"button",17),e.bIt("click",function(){return w.save()}),e.nrm(35,"i",18),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()()),2&u&&(e.R7$(2),e.SpI("",e.bMT(3,13,"supervision-group-selector.header")," "),e.R7$(7),e.JRh(e.bMT(10,15,"supervision-group-selector.select.type-of-order.label")),e.R7$(2),e.R50("ngModel",w.selectedOrderType),e.BMQ("aria-label",e.bMT(12,17,"supervision-group-selector.select.type-of-order.label")),e.R7$(3),e.JRh(e.bMT(15,19,"supervision-group-selector.select.type-of-order.option.editor")),e.R7$(3),e.JRh(e.bMT(18,21,"supervision-group-selector.select.type-of-order.option.observer")),e.R7$(2),e.vxM(!w.isSubmitted||w.selectedOrderType&&""!==w.selectedOrderType?-1:19),e.R7$(4),e.JRh(e.bMT(24,23,"supervision-group-selector.select.group.label")),e.R7$(3),e.Y8G("value",w.selectedGroup?w.dsoNameService.getName(w.selectedGroup):""),e.R7$(),e.vxM(w.isSubmitted&&!w.selectedGroup?27:-1),e.R7$(),e.Y8G("isListOfEPerson",!1),e.R7$(4),e.SpI(" ",e.bMT(33,25,"supervision-group-selector.button.cancel")," "),e.R7$(4),e.SpI(" ",e.bMT(37,27,"supervision-group-selector.button.save")," "))},dependencies:[_y.T,Cm.A,Yn.YN,Yn.xH,Yn.y7,Yn.wz,Yn.BC,Yn.vS,K.h,K.D9]})}}return d})();var bm=n(19852),jc=n(50186);function _I(d,_){if(1&d){const r=e.RV6();e.j41(0,"a",3),e.nI1(1,"translate"),e.bIt("click",function(w){const Y=e.eBV(r).$implicit,De=e.XpG(3);return w.preventDefault(),w.stopImmediatePropagation(),e.Njj(De.deleteSupervisionOrder(Y))}),e.EFF(2),e.j41(3,"span",4),e.EFF(4," \xd7"),e.k0s()()}if(2&d){const r=_.$implicit,u=e.XpG(3);e.Y8G("ngbTooltip",e.bMT(1,2,"workflow-item.search.result.list.element.supervised.remove-tooltip")),e.R7$(2),e.SpI(" ",u.dsoNameService.getName(r.group)," ")}}function Dm(d,_){if(1&d&&(e.j41(0,"div",1)(1,"div")(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div"),e.Z7z(6,_I,5,4,"a",2,e.fX1),e.k0s()()),2&d){const r=e.XpG().ngVar;e.R7$(3),e.SpI("",e.bMT(4,1,"workflow-item.search.result.list.element.supervised-by")," "),e.R7$(3),e.Dyx(r)}}function xC(d,_){if(1&d&&(e.qex(0),e.DNE(1,Dm,8,3,"div",1),e.bVm()),2&d){const r=_.ngVar;e.R7$(),e.vxM((null==r?null:r.length)>0?1:-1)}}let wC=(()=>{class d{constructor(r){this.dsoNameService=r,this.supervisionOrderList=[],this.supervisionOrderEntries$=new y.t([]),this.delete=new e.bkB}ngOnChanges(r){r&&r.supervisionOrderList&&this.getSupervisionOrderEntries(r.supervisionOrderList.currentValue).subscribe(u=>{this.supervisionOrderEntries$.next(u)})}getSupervisionOrderEntries(r){return(0,Ah.H)(r).pipe((0,Tr.Z)(u=>u.group.pipe((0,Mi.qD)(),(0,In.T)(w=>w.hasSucceeded?{supervisionOrder:u,group:w.payload}:null))),(0,bm.T)((u,w)=>(0,V.hj)(w)?[...u,w]:u,[]))}deleteSupervisionOrder(r){this.delete.emit(r)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Oi.f))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-supervision-order-status"]],inputs:{supervisionOrderList:"supervisionOrderList"},outputs:{delete:"delete"},standalone:!0,features:[e.OA$,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[1,"item-list-supervision"],["data-test","soBadge","aria-label","Close",1,"badge","bg-primary","me-1","mb-1","text-capitalize","mw-100","text-truncate",3,"ngbTooltip"],["data-test","soBadge","aria-label","Close",1,"badge","bg-primary","me-1","mb-1","text-capitalize","mw-100","text-truncate",3,"click","ngbTooltip"],["aria-hidden","true"]],template:function(u,w){1&u&&(e.DNE(0,xC,2,1,"ng-container",0),e.nI1(1,"async")),2&u&&e.Y8G("ngVar",e.bMT(1,1,w.supervisionOrderEntries$))},dependencies:[f.Jj,G.n8,G.md,K.h,K.D9,jc.r],styles:[".badge[_ngcontent-%COMP%]{cursor:pointer}"]})}}return d})();const j_=d=>({"btn-sm":d}),LC=d=>[d];function vI(d,_){1&d&&(e.j41(0,"span",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function yI(d,_){1&d&&(e.j41(0,"span",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.policies"),""))}function EI(d,_){1&d&&(e.j41(0,"span",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.supervision"),""))}let rh=(()=>{class d{constructor(r,u,w,Y,De){this.dsoNameService=r,this.modalService=u,this.notificationsService=w,this.supervisionOrderDataService=Y,this.translateService=De,this.supervisionOrderList=[],this.messagePrefix="workflow-item.search.result",this.create=new e.bkB,this.delete=new e.bkB}ngOnInit(){const r=this.wsi.item.pipe((0,Mi.ak)());r.pipe((0,In.T)(u=>this.getPoliciesRoute(u))).subscribe(u=>{this.resourcePoliciesPageRoute=u}),r.subscribe(u=>{this.item=u})}getDeleteRoute(){return(0,Em.BY)(this.wsi.id)}getPoliciesRoute(r){return["/items",r.uuid,"edit",th.K4]}deleteSupervisionOrder(r){const u=this.modalService.open(hc.M);u.componentInstance.name=this.dsoNameService.getName(r.group),u.componentInstance.headerLabel=this.messagePrefix+".delete-supervision.modal.header",u.componentInstance.infoLabel=this.messagePrefix+".delete-supervision.modal.info",u.componentInstance.cancelLabel=this.messagePrefix+".delete-supervision.modal.cancel",u.componentInstance.confirmLabel=this.messagePrefix+".delete-supervision.modal.confirm",u.componentInstance.brandColor="danger",u.componentInstance.confirmIcon="fas fa-trash",u.componentInstance.response.pipe((0,D.s)(1),(0,Ni.n)(w=>{if(w&&(0,V.a4)(r.supervisionOrder.id))return this.supervisionOrderDataService.delete(r.supervisionOrder.id).pipe((0,D.s)(1),(0,Vi.M)(Y=>{Y?this.notificationsService.success(null,this.translateService.get(this.messagePrefix+".notification.deleted.success",{name:this.dsoNameService.getName(r.group)})):this.notificationsService.error(null,this.translateService.get(this.messagePrefix+".notification.deleted.failure",{name:this.dsoNameService.getName(r.group)}))}))})).subscribe(w=>{w&&this.delete.emit(this.convertReloadedObject())})}openSupervisionModal(){const r=this.modalService.open(AC,{size:"lg",backdrop:"static"});r.componentInstance.itemUUID=this.item.uuid,r.componentInstance.create.subscribe(()=>{this.create.emit(this.convertReloadedObject())})}convertReloadedObject(){const r=(0,gI.L)(this.wsi.constructor);return Object.assign(new r,this.wsi,{indexableObject:this.wsi})}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(Oi.f),e.rXU(G.Bq),e.rXU(ea.I),e.rXU(vp.SupervisionOrderDataService),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workspace-item-admin-workflow-actions-element"]],inputs:{wsi:"wsi",small:"small",supervisionOrderList:"supervisionOrderList"},outputs:{create:"create",delete:"delete"},standalone:!0,features:[e.aNF],decls:15,vars:26,consts:[[1,"my-1"],[3,"delete","supervisionOrderList"],[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-light","my-1","policies-link",3,"ngClass","routerLink","title"],[1,"fas","fa-edit"],[1,"btn","btn-light","my-1","supervision-group-selector",3,"click","ngClass","title"],[1,"fas","fa-users-cog"]],template:function(u,w){1&u&&(e.j41(0,"div",0)(1,"ds-supervision-order-status",1),e.bIt("delete",function(De){return w.deleteSupervisionOrder(De)}),e.k0s()(),e.j41(2,"div",2)(3,"a",3),e.nI1(4,"translate"),e.nrm(5,"i",4),e.DNE(6,vI,3,3,"span",5),e.k0s(),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,yI,3,3,"span",5),e.k0s(),e.j41(11,"a",8),e.nI1(12,"translate"),e.bIt("click",function(){return w.openSupervisionModal()}),e.nrm(13,"i",9),e.DNE(14,EI,3,3,"span",5),e.k0s()()),2&u&&(e.R7$(),e.Y8G("supervisionOrderList",w.supervisionOrderList),e.R7$(2),e.Y8G("ngClass",e.eq3(18,j_,w.small))("routerLink",e.eq3(20,LC,w.getDeleteRoute()))("title",e.bMT(4,12,"admin.workflow.item.delete")),e.R7$(3),e.vxM(w.small?-1:6),e.R7$(),e.Y8G("ngClass",e.eq3(22,j_,w.small))("routerLink",w.resourcePoliciesPageRoute)("title",e.bMT(8,14,"admin.workflow.item.policies")),e.R7$(3),e.vxM(w.small?-1:10),e.R7$(),e.Y8G("ngClass",e.eq3(24,j_,w.small))("title",e.bMT(12,16,"admin.workflow.item.supervision")),e.R7$(3),e.vxM(w.small?-1:14))},dependencies:[f.YU,v.Wk,wC,K.h,K.D9]})}}return d})();var k_=n(59194);const CI=["badges"],bI=["buttons"];function V_(d,_){}function NC(d,_){if(1&d&&e.nrm(0,"ds-workflow-item-admin-workflow-actions-element",8),2&d){const r=e.XpG();e.Y8G("wfi",r.dso)("small",!0)}}let Tm=class b2 extends ru{constructor(_,r,u,w,Y){super(_,u,Y),this.dsoNameService=_,this.linkService=r,this.truncatableService=u,this.themeService=w,this.bitstreamDataService=Y}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,as.s)("item")),this.item$=this.dso.item.pipe((0,Mi.v7)(),(0,Mi.Bo)()),this.item$.pipe((0,D.s)(1)).subscribe(_=>{const r=this.getComponent(_),u=this.dynamicComponentLoaderDirective.viewContainerRef;u.clear(),this.compRef=u.createComponent(r,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",_),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()})}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(_){return(0,zn.Zx)(_.getRenderTypes(),kn.n.GridElement,void 0,this.themeService.getThemeName())}static{this.\u0275fac=function(r){return new(r||b2)(e.rXU(Oi.f),e.rXU(Vs._),e.rXU($s.F),e.rXU(ie.Fs),e.rXU(ta.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:b2,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(r,u){if(1&r&&(e.GBs(nl.z,7),e.GBs(CI,7),e.GBs(bI,7)),2&r){let w;e.mGM(w=e.lsd())&&(u.dynamicComponentLoaderDirective=w.first),e.mGM(w=e.lsd())&&(u.badges=w.first),e.mGM(w=e.lsd())&&(u.buttons=w.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:4,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ms-1"],[1,"workflow-badge"],[1,"badge","bg-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"wfi","small"]],template:function(r,u){1&r&&(e.DNE(0,V_,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7),e.DNE(10,NC,1,2,"ds-workflow-item-admin-workflow-actions-element",8),e.k0s()()),2&r&&(e.R7$(5),e.JRh(e.bMT(6,2,"admin.workflow.item.workflow")),e.R7$(5),e.vxM(u.object?10:-1))},dependencies:[nl.z,K.h,K.D9,RC]})}};Tm=(0,$e.Cg)([(0,zn.VK)(k_.q,kn.n.GridElement,Ui.o.AdminWorkflowSearch),(0,$e.Sn)("design:paramtypes",[Oi.f,Vs._,$s.F,ie.Fs,ta.BitstreamDataService])],Tm);var Mm=n(62378);const DI=["badges"],FC=["buttons"];function yy(d,_){}let ah=class D2 extends ru{constructor(_,r,u,w,Y,De){super(_,u,Y),this.dsoNameService=_,this.linkService=r,this.truncatableService=u,this.themeService=w,this.bitstreamDataService=Y,this.supervisionOrderDataService=De,this.supervisionOrder$=new y.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,as.s)("item")),this.item$=this.dso.item.pipe((0,Mi.v7)(),(0,Mi.Bo)()),this.item$.pipe((0,D.s)(1)).subscribe(_=>{const r=this.getComponent(_),u=this.dynamicComponentLoaderDirective.viewContainerRef;u.clear(),this.compRef=u.createComponent(r,{index:0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",_),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()}),this.item$.pipe((0,D.s)(1),(0,Vi.M)(_=>this.itemId=_.id),(0,Tr.Z)(_=>this.retrieveSupervisorOrders(_.id))).subscribe(_=>{this.supervisionOrder$.next(_)})}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(_){return(0,zn.Zx)(_.getRenderTypes(),kn.n.GridElement,void 0,this.themeService.getThemeName())}retrieveSupervisorOrders(_){return this.supervisionOrderDataService.searchByItem(_,!1,!0,(0,as.s)("group")).pipe((0,Mi.qD)(),(0,In.T)(r=>r.hasSucceeded&&!r.hasNoContent?r.payload.page:[]))}reloadObject(_){this.reloadedObject.emit(_)}static{this.\u0275fac=function(r){return new(r||D2)(e.rXU(Oi.f),e.rXU(Vs._),e.rXU($s.F),e.rXU(ie.Fs),e.rXU(ta.BitstreamDataService),e.rXU(vp.SupervisionOrderDataService))}}static{this.\u0275cmp=e.VBU({type:D2,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(r,u){if(1&r&&(e.GBs(nl.z,7),e.GBs(DI,7),e.GBs(FC,7)),2&r){let w;e.mGM(w=e.lsd())&&(u.dynamicComponentLoaderDirective=w.first),e.mGM(w=e.lsd())&&(u.badges=w.first),e.mGM(w=e.lsd())&&(u.buttons=w.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:8,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ms-1"],[1,"workflow-badge"],[1,"badge","bg-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[3,"create","delete","small","supervisionOrderList","wsi"]],template:function(r,u){if(1&r){const w=e.RV6();e.DNE(0,yy,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7)(10,"ds-workspace-item-admin-workflow-actions-element",8),e.nI1(11,"async"),e.bIt("create",function(De){return e.eBV(w),e.Njj(u.reloadObject(De))})("delete",function(De){return e.eBV(w),e.Njj(u.reloadObject(De))}),e.k0s()()()}2&r&&(e.R7$(5),e.JRh(e.bMT(6,4,"admin.workflow.item.workspace")),e.R7$(5),e.Y8G("small",!0)("supervisionOrderList",e.bMT(11,6,u.supervisionOrder$))("wsi",u.dso))},dependencies:[f.Jj,nl.z,K.h,K.D9,rh]})}};function TI(d,_){if(1&d&&(e.nrm(0,"ds-listable-object-component-loader",2),e.nI1(1,"async")),2&d){const r=e.XpG();e.Y8G("object",e.bMT(1,5,r.item$))("viewMode",r.viewModes.ListElement)("index",r.index)("linkType",r.linkType)("listID",r.listID)}}ah=(0,$e.Cg)([(0,zn.VK)(Mm.I,kn.n.GridElement,Ui.o.AdminWorkflowSearch),(0,$e.Sn)("design:paramtypes",[Oi.f,Vs._,$s.F,ie.Fs,ta.BitstreamDataService,vp.SupervisionOrderDataService])],ah);let $_=class T2 extends Da.P{constructor(_,r,u,w){super(r,u,w),this.linkService=_,this.truncatableService=r,this.dsoNameService=u,this.appConfig=w,this.item$=new y.t(void 0)}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,as.s)("item")),this.dso.item.pipe((0,Mi.qD)(),(0,Mi.Bo)()).subscribe(_=>{this.item$.next(_)})}static{this.\u0275fac=function(r){return new(r||T2)(e.rXU(Vs._),e.rXU($s.F),e.rXU(Oi.f),e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:T2,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:8,consts:[[1,"workflow-badge"],[1,"badge","bg-info"],[3,"object","viewMode","index","linkType","listID"],[3,"wfi","small"]],template:function(r,u){1&r&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,TI,2,7,"ds-listable-object-component-loader",2),e.nI1(5,"async"),e.nrm(6,"ds-workflow-item-admin-workflow-actions-element",3)),2&r&&(e.R7$(2),e.JRh(e.bMT(3,4,"admin.workflow.item.workflow")),e.R7$(2),e.vxM(e.bMT(5,6,u.item$)?4:-1),e.R7$(2),e.Y8G("wfi",u.dso)("small",!1))},dependencies:[f.Jj,oh.v,K.h,K.D9,RC]})}};function MI(d,_){if(1&d&&(e.nrm(0,"ds-listable-object-component-loader",1),e.nI1(1,"async")),2&d){const r=e.XpG();e.Y8G("object",e.bMT(1,5,r.item$))("viewMode",r.viewModes.ListElement)("index",r.index)("linkType",r.linkType)("listID",r.listID)}}$_=(0,$e.Cg)([(0,zn.VK)(k_.q,kn.n.ListElement,Ui.o.AdminWorkflowSearch),(0,$e.Sn)("design:paramtypes",[Vs._,$s.F,Oi.f,Object])],$_);let W_=class M2 extends Da.P{constructor(_,r,u,w,Y){super(w,r,Y),this.linkService=_,this.dsoNameService=r,this.supervisionOrderDataService=u,this.truncatableService=w,this.appConfig=Y,this.item$=new y.t(void 0),this.supervisionOrder$=new y.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,as.s)("item")),this.dso.item.pipe((0,Mi.qD)(),(0,Mi.Bo)()).pipe((0,D.s)(1),(0,Vi.M)(r=>{this.item$.next(r),this.itemId=r.id}),(0,Tr.Z)(r=>this.retrieveSupervisorOrders(r.id))).subscribe(r=>{this.supervisionOrder$.next(r)})}retrieveSupervisorOrders(_){return this.supervisionOrderDataService.searchByItem(_,!1,!0,(0,as.s)("group")).pipe((0,Mi.qD)(),(0,In.T)(r=>r.hasSucceeded&&!r.hasNoContent?r.payload.page:[]))}reloadObject(_){this.reloadedObject.emit(_)}static{this.\u0275fac=function(r){return new(r||M2)(e.rXU(Vs._),e.rXU(Oi.f),e.rXU(vp.SupervisionOrderDataService),e.rXU($s.F),e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:M2,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:11,consts:[[1,"badge","bg-info"],[3,"object","viewMode","index","linkType","listID"],[3,"create","delete","small","supervisionOrderList","wsi"]],template:function(r,u){1&r&&(e.j41(0,"span",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,MI,2,7,"ds-listable-object-component-loader",1),e.nI1(4,"async"),e.j41(5,"ds-workspace-item-admin-workflow-actions-element",2),e.nI1(6,"async"),e.bIt("create",function(Y){return u.reloadObject(Y)})("delete",function(Y){return u.reloadObject(Y)}),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,5,"admin.workflow.item.workspace")),e.R7$(2),e.vxM(e.bMT(4,7,u.item$)?3:-1),e.R7$(2),e.Y8G("small",!1)("supervisionOrderList",e.bMT(6,9,u.supervisionOrder$))("wsi",u.dso))},dependencies:[f.Jj,oh.v,K.h,K.D9,rh]})}};W_=(0,$e.Cg)([(0,zn.VK)(Mm.I,kn.n.ListElement,Ui.o.AdminWorkflowSearch),(0,$e.Sn)("design:paramtypes",[Vs._,Oi.f,vp.SupervisionOrderDataService,$s.F,Object])],W_);const lu=(0,be.hZ)("focusShadow",[(0,be.wk)("focus",(0,be.iF)({boxShadow:"rgba(119, 119, 119, 0.6) 0px 0px 6px"})),(0,be.wk)("blur",(0,be.iF)({boxShadow:"none"})),(0,be.kY)("focus <=> blur",[(0,be.i0)("250ms")])]);(0,be.hZ)("focusBackground",[(0,be.wk)("focus",(0,be.iF)({backgroundColor:"rgba(119, 119, 119, 0.1)"})),(0,be.wk)("blur",(0,be.iF)({backgroundColor:"transparent"})),(0,be.kY)("focus <=> blur",[(0,be.i0)("250ms")])]);var il=n(24100),qo=n(25713);const Ey=["*","*"],Cy=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],BC=d=>[d];function Om(d,_){if(1&d&&(e.j41(0,"a",2),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",11),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,BC,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function G_(d,_){if(1&d&&(e.j41(0,"span",3)(1,"div"),e.nrm(2,"ds-thumbnail",11),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function sw(d,_){if(1&d&&e.nrm(0,"ds-badges",5),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)("showAccessStatus",!0)}}function OI(d,_){if(1&d&&(e.j41(0,"span",13),e.EFF(1),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.JRh(r.firstMetadataValue("dc.date.issued"))}}function UC(d,_){if(1&d&&(e.j41(0,"span"),e.EFF(1,", "),e.nrm(2,"span",14),e.k0s()),2&d){const r=_.$implicit;e.R7$(2),e.Y8G("innerHTML",r,e.npT)}}function by(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",9)(1,"p",12),e.DNE(2,OI,2,1,"span",13),e.Z7z(3,UC,3,1,"span",null,e.fX1),e.k0s()()),2&d){const r=e.XpG();e.Y8G("id",r.dso.id)("minLines",1),e.R7$(2),e.vxM(r.dso.hasMetadata("dc.date.issued")?2:-1),e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(3,Cy)))}}function SI(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",9)(1,"p",15),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.Y8G("id",r.dso.id)("minLines",3),e.R7$(2),e.Y8G("innerHTML",r.firstMetadataValue("dc.description.abstract"),e.npT)}}function jC(d,_){if(1&d&&(e.j41(0,"div",10)(1,"a",16),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,BC,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let yc=class O2 extends ru{constructor(_,r,u){super(_,r,u),this.dsoNameService=_,this.truncatableService=r,this.bitstreamDataService=u}ngOnInit(){super.ngOnInit(),this.itemPageRoute=(0,Wu._o)(this.dso),this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso)}static{this.\u0275fac=function(r){return new(r||O2)(e.rXU(Oi.f),e.rXU($s.F),e.rXU(ta.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:O2,selectors:[["ds-item-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Ey,decls:15,vars:14,consts:[[1,"card"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context","showAccessStatus"],[3,"id"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[3,"id","minLines"],[1,"text-center"],[3,"thumbnail","limitWidth"],[1,"item-authors","card-text","text-muted"],[1,"item-date"],[3,"innerHTML"],[1,"item-abstract","card-text"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(Ey),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"div",1),e.SdG(3),e.k0s(),e.DNE(4,Om,5,12,"a",2)(5,G_,4,4,"span",3),e.j41(6,"div",4),e.DNE(7,sw,1,3,"ds-badges",5),e.j41(8,"ds-truncatable",6)(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,by,5,4,"ds-truncatable-part",9)(12,SI,3,3,"ds-truncatable-part",9),e.k0s(),e.DNE(13,jC,4,8,"div",10),e.k0s(),e.SdG(14,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,11,u.isCollapsed$)?"blur":"focus"),e.R7$(4),e.vxM(u.linkType!==u.linkTypes.None?4:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?5:-1),e.R7$(2),e.vxM(u.showLabel?7:-1),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata(e.lJ4(13,Cy))?11:-1),e.R7$(),e.vxM(u.dso.hasMetadata("dc.description.abstract")?12:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?13:-1))},dependencies:[f.Jj,v.Wk,na.F,zo.T,K.h,K.D9,il.d,qo.W],data:{animation:[lu]}})}};yc=(0,$e.Cg)([(0,zn.VK)("PublicationSearchResult",kn.n.GridElement),(0,zn.VK)(yl.H,kn.n.GridElement),(0,$e.Sn)("design:paramtypes",[Oi.f,$s.F,ta.BitstreamDataService])],yc);const Dy=["*","*"],Ty=d=>[d];function kC(d,_){if(1&d&&(e.j41(0,"a",3),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Ty,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function My(d,_){if(1&d&&(e.j41(0,"span",4)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function II(d,_){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function PI(d,_){if(1&d&&(e.j41(0,"span",15)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&d){const r=e.XpG(2);e.R7$(3),e.SpI(" ",r.firstMetadataValue("creativework.publisher")," ")}}function RI(d,_){if(1&d&&(e.j41(0,"p",9)(1,"ds-truncatable-part",13)(2,"span",14),e.EFF(3),e.k0s(),e.DNE(4,PI,4,1,"span",15),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",1),e.R7$(2),e.JRh(r.firstMetadataValue("creativework.editor")),e.R7$(),e.vxM(r.dso.hasMetadata("creativework.publisher")?4:-1)}}function AI(d,_){if(1&d&&(e.j41(0,"p",10)(1,"ds-truncatable-part",13),e.nrm(2,"span",16),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("dc.description"),e.npT)}}function xI(d,_){if(1&d&&(e.j41(0,"div",11)(1,"a",17),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Ty,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Sm=class eO extends yc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(eO)))(u||eO)}})()}static{this.\u0275cmp=e.VBU({type:eO,selectors:[["ds-journal-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Dy,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[1,"item-publisher","card-text","text-muted"],[1,"item-description","card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[3,"id","minLines"],[1,"item-editor"],[1,"item-publisher"],[3,"innerHTML"],["role","link","tabindex","0",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(Dy),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,kC,5,12,"a",3)(6,My,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,II,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,RI,5,4,"p",9)(12,AI,3,3,"p",10)(13,xI,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,11,u.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",u.dso.id),e.R7$(3),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.showLabel?8:-1),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata("creativework.editor")?11:-1),e.R7$(),e.vxM(u.dso.hasMetadata("dc.description")?12:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?13:-1))},dependencies:[f.Jj,v.Wk,na.F,zo.T,K.h,K.D9,il.d,qo.W],data:{animation:[lu]}})}};Sm=(0,$e.Cg)([(0,zn.VK)("JournalSearchResult",kn.n.GridElement)],Sm);const Oy=()=>({}),wI=(d,_)=>({indexableObject:d,hitHighlights:_});let K_=class tO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(tO)))(u||tO)}})()}static{this.\u0275cmp=e.VBU({type:tO,selectors:[["ds-journal-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-journal-search-result-grid-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,wI,u.object,e.lJ4(3,Oy)))("linkType",u.linkType)},dependencies:[Sm]})}};K_=(0,$e.Cg)([(0,zn.VK)("Journal",kn.n.GridElement)],K_);const VC=["*","*"],cu=d=>[d];function Im(d,_){if(1&d&&(e.j41(0,"a",3),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,cu,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function Sy(d,_){if(1&d&&(e.j41(0,"span",4)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function Iy(d,_){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function LI(d,_){if(1&d&&(e.j41(0,"p",9)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("creativework.datePublished"),e.npT)}}function yp(d,_){if(1&d&&(e.j41(0,"p",10)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("journal.title"),e.npT)}}function $C(d,_){if(1&d&&(e.j41(0,"div",11)(1,"a",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,cu,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Pm=class nO extends yc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(nO)))(u||nO)}})()}static{this.\u0275cmp=e.VBU({type:nO,selectors:[["ds-journal-issue-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:VC,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[1,"item-date","card-text","text-muted"],[1,"item-journal-title","card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[3,"id","minLines"],[3,"innerHTML"],["role","link","tabindex","0",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(VC),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,Im,5,12,"a",3)(6,Sy,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,Iy,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,LI,3,3,"p",9)(12,yp,3,3,"p",10)(13,$C,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,11,u.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",u.dso.id),e.R7$(3),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.showLabel?8:-1),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata("creativework.datePublished")?11:-1),e.R7$(),e.vxM(u.dso.hasMetadata("journal.title")?12:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?13:-1))},dependencies:[f.Jj,v.Wk,na.F,zo.T,K.h,K.D9,il.d,qo.W],data:{animation:[lu]}})}};Pm=(0,$e.Cg)([(0,zn.VK)("JournalIssueSearchResult",kn.n.GridElement)],Pm);const NI=()=>({}),FI=(d,_)=>({indexableObject:d,hitHighlights:_});let H_=class iO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(iO)))(u||iO)}})()}static{this.\u0275cmp=e.VBU({type:iO,selectors:[["ds-journal-issue-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-journal-issue-search-result-grid-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,FI,u.object,e.lJ4(3,NI)))("linkType",u.linkType)},dependencies:[Pm]})}};H_=(0,$e.Cg)([(0,zn.VK)("JournalIssue",kn.n.GridElement)],H_);const WC=["*","*"],Py=d=>[d];function BI(d,_){if(1&d&&(e.j41(0,"a",3),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Py,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function GC(d,_){if(1&d&&(e.j41(0,"span",4)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function z_(d,_){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function UI(d,_){if(1&d&&(e.j41(0,"p",9)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("creativework.datePublished"),e.npT)}}function jI(d,_){if(1&d&&(e.j41(0,"p",10)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("dc.description"),e.npT)}}function KC(d,_){if(1&d&&(e.j41(0,"div",11)(1,"a",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Py,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Rm=class sO extends yc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(sO)))(u||sO)}})()}static{this.\u0275cmp=e.VBU({type:sO,selectors:[["ds-journal-volume-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:WC,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[1,"item-date","card-text","text-muted"],[1,"item-description","card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[3,"id","minLines"],[3,"innerHTML"],["role","link","tabindex","0",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(WC),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,BI,5,12,"a",3)(6,GC,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,z_,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,UI,3,3,"p",9)(12,jI,3,3,"p",10)(13,KC,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,11,u.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",u.dso.id),e.R7$(3),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.showLabel?8:-1),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata("creativework.datePublished")?11:-1),e.R7$(),e.vxM(u.dso.hasMetadata("dc.description")?12:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?13:-1))},dependencies:[f.Jj,v.Wk,na.F,zo.T,K.h,K.D9,il.d,qo.W],data:{animation:[lu]}})}};Rm=(0,$e.Cg)([(0,zn.VK)("JournalVolumeSearchResult",kn.n.GridElement)],Rm);const kI=()=>({}),lh=(d,_)=>({indexableObject:d,hitHighlights:_});let md=class oO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(oO)))(u||oO)}})()}static{this.\u0275cmp=e.VBU({type:oO,selectors:[["ds-journal-volume-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-journal-volume-search-result-grid-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,lh,u.object,e.lJ4(3,kI)))("linkType",u.linkType)},dependencies:[Rm]})}};md=(0,$e.Cg)([(0,zn.VK)("JournalVolume",kn.n.GridElement)],md);var Fl=n(15610);const VI=()=>["creativeworkseries.issn"],Ry=d=>[d];function Ay(d,_){if(1&d&&(e.j41(0,"a",10),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,Ry,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==r.dso?null:r.dso.thumbnail))("limitWidth",!0)}}function $I(d,_){if(1&d&&(e.j41(0,"span",11),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!0)}}function HC(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,Ay,3,9,"a",10)(2,$I,3,4,"span",11),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function WI(d,_){if(1&d&&e.nrm(0,"ds-badges",3),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function zC(d,_){if(1&d&&e.nrm(0,"a",5),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Ry,r.itemPageRoute))("innerHTML",r.dsoTitle,e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function ow(d,_){if(1&d&&e.nrm(0,"span",6),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}function GI(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function Am(d,_){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",13),e.DNE(2,GI,2,0,"span"),e.k0s()),2&d){const r=_.$implicit,u=_.$index,w=_.$count;e.R7$(),e.Y8G("innerHTML",r,e.npT),e.R7$(),e.vxM(u!==w-1?2:-1)}}function xy(d,_){if(1&d&&(e.j41(0,"span",9),e.Z7z(1,Am,3,2,"span",null,e.fX1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(0,VI)))}}let xm=class rO extends Fl.k{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(rO)))(u||rO)}})()}static{this.\u0275cmp=e.VBU({type:rO,selectors:[["ds-journal-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"object","context"],[3,"id"],["role","link","tabindex","0",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"text-muted"],[3,"id","minLines"],[1,"item-list-journals"],["tabindex","-1",1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[1,"lead","item-list-title","dont-break-out"],[3,"thumbnail","limitWidth"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,HC,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,WI,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,zC,1,6,"a",5)(6,ow,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,xy,3,1,"span",9),e.k0s()()()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.vxM(u.showLabel?3:-1),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.Y8G("id",u.dso.id)("minLines",1),e.R7$(),e.vxM(u.dso.allMetadata(e.lJ4(9,VI)).length>0?9:-1))},dependencies:[f.Jj,f.YU,v.Wk,na.F,zo.T,il.d,qo.W]})}};xm=(0,$e.Cg)([(0,zn.VK)("JournalSearchResult",kn.n.ListElement)],xm);const KI=()=>({}),HI=(d,_)=>({indexableObject:d,hitHighlights:_});let Ep=class aO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(aO)))(u||aO)}})()}static{this.\u0275cmp=e.VBU({type:aO,selectors:[["ds-journal-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-journal-search-result-list-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,HI,u.object,e.lJ4(3,KI)))("linkType",u.linkType)},dependencies:[xm]})}};Ep=(0,$e.Cg)([(0,zn.VK)("Journal",kn.n.ListElement)],Ep);const gd=()=>["publicationvolume.volumeNumber"],wm=d=>[d],wy=()=>["publicationissue.issueNumber"];function Lm(d,_){if(1&d&&(e.j41(0,"a",10),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,wm,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==r.dso?null:r.dso.thumbnail))("limitWidth",!0)}}function zI(d,_){if(1&d&&(e.j41(0,"span",11),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!0)}}function XI(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,Lm,3,9,"a",10)(2,zI,3,4,"span",11),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function Ly(d,_){if(1&d&&e.nrm(0,"ds-badges",3),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function XC(d,_){if(1&d&&e.nrm(0,"a",5),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,wm,r.itemPageRoute))("innerHTML",r.dsoTitle,e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function du(d,_){if(1&d&&e.nrm(0,"span",6),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}function Nm(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function rw(d,_){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",14),e.DNE(2,Nm,2,0,"span"),e.k0s()),2&d){const r=_.$implicit,u=_.$index,w=_.$count;e.R7$(),e.Y8G("innerHTML",r,e.npT),e.R7$(),e.vxM(u!==w-1?2:-1)}}function X_(d,_){1&d&&(e.j41(0,"span"),e.EFF(1," - "),e.k0s())}function YC(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function QC(d,_){if(1&d&&(e.j41(0,"span"),e.DNE(1,X_,2,0,"span"),e.nrm(2,"span",14),e.DNE(3,YC,2,0,"span"),e.k0s()),2&d){const r=_.$implicit,u=_.$index,w=_.$count;e.R7$(),e.vxM(0===u?1:-1),e.R7$(),e.Y8G("innerHTML",r,e.npT),e.R7$(),e.vxM(u!==w-1?3:-1)}}function YI(d,_){if(1&d&&(e.j41(0,"span",13),e.Z7z(1,QC,4,3,"span",null,e.fX1),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(0,wy)))}}function Fm(d,_){if(1&d&&(e.j41(0,"span",9),e.Z7z(1,rw,3,2,"span",null,e.fX1),e.DNE(3,YI,3,1,"span",13),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(1,gd))),e.R7$(2),e.vxM(r.dso.allMetadata(e.lJ4(2,wy)).length>0?3:-1)}}let Bm=class lO extends Fl.k{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(lO)))(u||lO)}})()}static{this.\u0275cmp=e.VBU({type:lO,selectors:[["ds-journal-issue-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"object","context"],[3,"id"],["role","link","tabindex","0",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"text-muted"],[3,"id","minLines"],[1,"item-list-journal-issues"],["tabindex","-1",1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[1,"lead","item-list-title","dont-break-out"],[3,"thumbnail","limitWidth"],[1,"item-list-journal-issue-numbers"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,XI,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,Ly,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,XC,1,6,"a",5)(6,du,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,Fm,4,3,"span",9),e.k0s()()()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.vxM(u.showLabel?3:-1),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.Y8G("id",u.dso.id)("minLines",1),e.R7$(),e.vxM(u.dso.allMetadata(e.lJ4(9,gd)).length>0?9:-1))},dependencies:[f.Jj,f.YU,v.Wk,na.F,zo.T,il.d,qo.W]})}};Bm=(0,$e.Cg)([(0,zn.VK)("JournalIssueSearchResult",kn.n.ListElement)],Bm);const QI=()=>({}),JI=(d,_)=>({indexableObject:d,hitHighlights:_});let Y_=class cO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(cO)))(u||cO)}})()}static{this.\u0275cmp=e.VBU({type:cO,selectors:[["ds-journal-issue-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-journal-issue-search-result-list-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,JI,u.object,e.lJ4(3,QI)))("linkType",u.linkType)},dependencies:[Bm]})}};Y_=(0,$e.Cg)([(0,zn.VK)("JournalIssue",kn.n.ListElement)],Y_);const JC=()=>["journal.title"],ZC=()=>["publicationvolume.volumeNumber"],qC=d=>[d];function ZI(d,_){if(1&d&&(e.j41(0,"a",11),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,qC,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==r.dso?null:r.dso.thumbnail))("limitWidth",!0)}}function Q_(d,_){if(1&d&&(e.j41(0,"span",12),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!0)}}function qI(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,ZI,3,9,"a",11)(2,Q_,3,4,"span",12),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function eP(d,_){if(1&d&&e.nrm(0,"ds-badges",3),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function eb(d,_){if(1&d&&e.nrm(0,"a",5),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,qC,r.itemPageRoute))("innerHTML",r.dsoTitle,e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function tb(d,_){if(1&d&&e.nrm(0,"span",6),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}function Ny(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function nb(d,_){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",14),e.DNE(2,Ny,2,0,"span"),e.k0s()),2&d){const r=_.$implicit,u=_.$index,w=_.$count;e.R7$(),e.Y8G("innerHTML",r,e.npT),e.R7$(),e.vxM(u!==w-1?2:-1)}}function tP(d,_){if(1&d&&(e.j41(0,"span",9),e.Z7z(1,nb,3,2,"span",null,e.fX1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(0,JC)))}}function ib(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,";"),e.k0s())}function Fy(d,_){if(1&d&&(e.j41(0,"span")(1,"span"),e.EFF(2," ("),e.k0s(),e.nrm(3,"span",14),e.j41(4,"span"),e.EFF(5,")"),e.k0s(),e.DNE(6,ib,2,0,"span"),e.k0s()),2&d){const r=_.$implicit,u=_.$index,w=_.$count;e.R7$(3),e.Y8G("innerHTML",r,e.npT),e.R7$(3),e.vxM(u!==w-1?6:-1)}}function sb(d,_){if(1&d&&(e.j41(0,"span",10),e.Z7z(1,Fy,7,2,"span",null,e.fX1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(0,ZC)))}}let Cp=class dO extends Fl.k{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(dO)))(u||dO)}})()}static{this.\u0275cmp=e.VBU({type:dO,selectors:[["ds-journal-volume-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:12,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"object","context"],[3,"id"],["role","link","tabindex","0",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"text-muted"],[3,"id","minLines"],[1,"item-list-journal-volumes"],[1,"item-list-journal-volume-identifiers"],["tabindex","-1",1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[1,"lead","item-list-title","dont-break-out"],[3,"thumbnail","limitWidth"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,qI,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,eP,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,eb,1,6,"a",5)(6,tb,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,tP,3,1,"span",9)(10,sb,3,1,"span",10),e.k0s()()()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.vxM(u.showLabel?3:-1),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.Y8G("id",u.dso.id)("minLines",1),e.R7$(),e.vxM(u.dso.allMetadata(e.lJ4(10,JC)).length>0?9:-1),e.R7$(),e.vxM(u.dso.allMetadata(e.lJ4(11,ZC)).length>0?10:-1))},dependencies:[f.Jj,f.YU,v.Wk,na.F,zo.T,il.d,qo.W]})}};Cp=(0,$e.Cg)([(0,zn.VK)("JournalVolumeSearchResult",kn.n.ListElement)],Cp);const nP=()=>({}),iP=(d,_)=>({indexableObject:d,hitHighlights:_});let J_=class uO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(uO)))(u||uO)}})()}static{this.\u0275cmp=e.VBU({type:uO,selectors:[["ds-journal-volume-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-journal-volume-search-result-list-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,iP,u.object,e.lJ4(3,nP)))("linkType",u.linkType)},dependencies:[Cp]})}};J_=(0,$e.Cg)([(0,zn.VK)("JournalVolume",kn.n.ListElement)],J_);var uu=n(47677);function By(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}let kc=(()=>{class d extends Da.P{constructor(r,u,w){super(r,w,null),this.truncatableService=r,this.linkService=u,this.dsoNameService=w}ngOnInit(){super.ngOnInit(),(0,V.a4)(this.dso)&&(this.parentTitle$=this.getParentTitle(),this.description=this.getDescription())}isCurrent(){return this.context===Ui.o.SideBarSearchModalCurrent}getParentTitle(){return this.getParent().pipe((0,In.T)(r=>(0,V.a4)(r)&&(0,V.a4)(r.payload)?this.dsoNameService.getName(r.payload):void 0))}getParent(){if("function"==typeof this.dso.getParentLinkKey){const r=this.dso.getParentLinkKey();return this.linkService.resolveLink(this.dso,(0,as.s)(r))[r].pipe((0,uu.I)(u=>u.hasSucceeded||204===u.statusCode))}return(0,Kn.of)(void 0)}getDescription(){const r=this.firstMetadataValue("dc.publisher"),u=this.firstMetadataValue("dc.date.issued"),w=this.allMetadataValues(["dc.contributor.author","dc.creator","dc.contributor.*"]);let Y="";return((0,V.hj)(r)||(0,V.hj)(u))&&(Y+="("),(0,V.hj)(r)&&(Y+=r),(0,V.hj)(u)&&((0,V.hj)(r)&&(Y+=", "),Y+=u),(0,V.hj)(Y)&&(Y+=") "),(0,V.hj)(w)&&w.forEach((De,Ie)=>{Y+=De,Ie<w.length-1&&(Y+="; ")}),this.undefinedIfEmpty(Y)}undefinedIfEmpty(r){return this.defaultIfEmpty(r,void 0)}defaultIfEmpty(r,u){return(0,V.hj)(r)?r:u}static{this.\u0275fac=function(u){return new(u||d)(e.rXU($s.F),e.rXU(Vs._),e.rXU(Oi.f))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(u,w){1&u&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,By,2,5,"ds-truncatable-part",0)),2&u&&(e.Y8G("maxLines",1)("background",w.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",w.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,w.parentTitle$&&w.parentTitle$)?e.bMT(3,13,w.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",w.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",w.isCurrent()?"text-light":"text-primary")("innerHTML",w.dsoTitle,e.npT),e.R7$(),e.vxM(w.description?7:-1))},dependencies:[f.Jj,f.YU,K.h,K.D9,qo.W],encapsulation:2})}}return d})();function Uy(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}let bp=class hO extends kc{getDescription(){const _=this.allMetadataValues(["creativeworkseries.issn"]);let r="";return(0,V.hj)(_)&&(r+=_.join(", ")),this.undefinedIfEmpty(r)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(hO)))(u||hO)}})()}static{this.\u0275cmp=e.VBU({type:hO,selectors:[["ds-journal-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,Uy,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[f.Jj,f.YU,K.h,K.D9,qo.W],encapsulation:2})}};function sP(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}bp=(0,$e.Cg)([(0,zn.VK)("JournalSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModal),(0,zn.VK)("JournalSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModalCurrent),(0,zn.VK)("JournalSearchResult",kn.n.ListElement,Ui.o.ScopeSelectorModal),(0,zn.VK)("JournalSearchResult",kn.n.ListElement,Ui.o.ScopeSelectorModalCurrent)],bp);let Z_=class pO extends kc{getDescription(){const _=this.allMetadataValues(["publicationvolume.volumeNumber"]),r=this.allMetadataValues(["publicationissue.issueNumber"]);let u="";return(0,V.hj)(_)&&(u+=_.join(", ")),(0,V.hj)(u)&&(0,V.hj)(r)&&(u+=" - "),(0,V.hj)(r)&&(u+=r.join(", ")),this.undefinedIfEmpty(u)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(pO)))(u||pO)}})()}static{this.\u0275cmp=e.VBU({type:pO,selectors:[["ds-journal-issue-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,sP,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[f.Jj,f.YU,K.h,K.D9,qo.W],encapsulation:2})}};function oP(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}Z_=(0,$e.Cg)([(0,zn.VK)("JournalIssueSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModal),(0,zn.VK)("JournalIssueSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModalCurrent),(0,zn.VK)("JournalIssueSearchResult",kn.n.ListElement,Ui.o.ScopeSelectorModal),(0,zn.VK)("JournalIssueSearchResult",kn.n.ListElement,Ui.o.ScopeSelectorModalCurrent)],Z_);let q_=class fO extends kc{getDescription(){const _=this.allMetadataValues(["journal.title"]),r=this.allMetadataValues(["publicationvolume.volumeNumber"]);let u="";return(0,V.hj)(_)&&(u+=_.join(", ")),(0,V.hj)(r)&&((0,V.hj)(u)&&(u+=" "),u+=r.map(w=>`(${w})`).join(" ")),this.undefinedIfEmpty(u)}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(fO)))(u||fO)}})()}static{this.\u0275cmp=e.VBU({type:fO,selectors:[["ds-journal-volume-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,oP,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[f.Jj,f.YU,K.h,K.D9,qo.W],encapsulation:2})}};q_=(0,$e.Cg)([(0,zn.VK)("JournalVolumeSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModal),(0,zn.VK)("JournalVolumeSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModalCurrent),(0,zn.VK)("JournalVolumeSearchResult",kn.n.ListElement,Ui.o.ScopeSelectorModal),(0,zn.VK)("JournalVolumeSearchResult",kn.n.ListElement,Ui.o.ScopeSelectorModalCurrent)],q_);var ob=n(61806),ja=n(72862),jy=n(56977);class ev{}const rb=function(){var d=(0,m.A)(function*(){return(yield n.e(2441).then(n.t.bind(n,92441,23))).default});return function(){return d.apply(this,arguments)}}(),ab=new e.nKC("Lazily loaded MarkdownIt",{providedIn:"root",factory:rb});let rP=(()=>{class d{constructor(r,u,w,Y){this.markdownIt=r,this.sanitizer=u,this.mathService=w,this.elementRef=Y,this.alive$=new co.B,this.el=Y.nativeElement}ngOnInit(){this.render(this.dsMarkdown)}render(r,u=!1){var w=this;return(0,m.A)(function*(){(0,V.Im)(r)||!I.c.markdown.enabled&&!u?w.el.innerHTML=w.sanitizer.sanitize(e.WPN.HTML,r):I.c.markdown.mathjax?w.renderMathjaxThenMarkdown(r):w.renderMarkdown(r)})()}renderMathjaxThenMarkdown(r){const u=this.sanitizer.sanitize(e.WPN.HTML,r);this.el.innerHTML=u,this.mathService.ready().pipe((0,_o.p)(w=>w),(0,D.s)(1),(0,jy.Q)(this.alive$)).subscribe(()=>{this.mathService.render(this.el)?.then(w=>{this.renderMarkdown(this.el.innerHTML,!0)})})}renderMarkdown(r,u=!1){var w=this;return(0,m.A)(function*(){const De=new(yield w.markdownIt)({html:!0,linkify:!0}),Ie=u?De.render(r):w.sanitizer.sanitize(e.WPN.HTML,De.render(r));w.el.innerHTML=Ie})()}ngOnDestroy(){this.alive$.next(!1)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(ab),e.rXU(p.up),e.rXU(ev),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:d,selectors:[["","dsMarkdown",""]],inputs:{dsMarkdown:"dsMarkdown"},standalone:!0})}}return d})();const lb=(d,_)=>({value:d,img:_}),aP=d=>["/browse",d];function ky(d,_){1&d&&e.eu8(0)}function cb(d,_){if(1&d&&e.nrm(0,"span",7),2&d){const r=e.XpG(2);e.Y8G("innerHTML",r.separator,e.npT)}}function db(d,_){if(1&d&&e.DNE(0,ky,1,0,"ng-container",6)(1,cb,1,1,"span",7),2&d){const r=_.$implicit,u=_.$index,w=_.$count,Y=e.XpG(),De=e.sdS(5),Ie=e.sdS(7),tt=e.sdS(9),Pt=e.sdS(11),bn=e.sdS(13);e.Y8G("ngTemplateOutlet",Y.renderMarkdown?De:Y.hasLink(r)?Y.hasValue(Y.img)?tt:Ie:Y.hasBrowseDefinition()?bn:Pt)("ngTemplateOutletContext",e.l_i(3,lb,r.value,Y.img)),e.R7$(),e.vxM(u!==w-1?1:-1)}}function ka(d,_){1&d&&e.nrm(0,"span",8),2&d&&e.Y8G("dsMarkdown",_.value)}function Vy(d,_){if(1&d&&(e.j41(0,"a",9),e.EFF(1),e.k0s()),2&d){const r=_.value,u=e.XpG();e.Y8G("href",r,e.B4B),e.BMQ("target",u.getLinkAttributes(r).target)("rel",u.getLinkAttributes(r).rel),e.R7$(),e.SpI(" ",r," ")}}function aw(d,_){if(1&d&&(e.j41(0,"a",10),e.nrm(1,"img",11),e.nI1(2,"translate"),e.EFF(3),e.k0s()),2&d){const r=_.img,u=_.value;e.Y8G("href",u,e.B4B),e.R7$(),e.xc7("height","var("+r.heightVar+", --ds-item-page-img-field-default-inline-height)"),e.Y8G("alt",e.bMT(2,6,r.alt))("src",r.URI,e.B4B),e.R7$(2),e.SpI(" ",u," ")}}function lw(d,_){if(1&d&&(e.j41(0,"span",12),e.EFF(1),e.k0s()),2&d){const r=_.value;e.R7$(),e.JRh(r)}}function ub(d,_){if(1&d&&(e.j41(0,"a",13),e.EFF(1),e.k0s()),2&d){const r=_.value,u=e.XpG();e.Y8G("routerLink",e.eq3(3,aP,u.browseDefinition.id))("queryParams",u.getQueryParams(r)),e.R7$(),e.JRh(r)}}let ch=(()=>{class d{constructor(r){this.appConfig=r,this.enableMarkdown=!1,this.hasValue=V.a4}ngOnChanges(r){this.renderMarkdown=!!this.appConfig.markdown.enabled&&this.enableMarkdown}hasBrowseDefinition(){return(0,V.a4)(this.browseDefinition)}hasLink(r){return!!(0,V.a4)(this.urlRegex)&&new RegExp(this.urlRegex).test(r.value)}getQueryParams(r){const u={startsWith:r};return this.browseDefinition.getRenderType()===ob.o.value?{value:r}:u}hasInternalLink(r){return r.startsWith(I.c.ui.baseUrl)}getLinkAttributes(r){return this.hasInternalLink(r)?{target:"_self",rel:""}:{target:"_blank",rel:"noopener noreferrer"}}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-metadata-values"]],inputs:{mdValues:"mdValues",separator:"separator",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex",browseDefinition:"browseDefinition",img:"img"},standalone:!0,features:[e.OA$,e.aNF],decls:14,vars:3,consts:[["markdown",""],["link",""],["linkImg",""],["simple",""],["browselink",""],[3,"label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"separator",3,"innerHTML"],[1,"dont-break-out",3,"dsMarkdown"],["role","link","tabindex","0",1,"dont-break-out","ds-simple-metadata-link",3,"href"],["target","_blank","role","link","tabindex","0",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"link-logo",3,"alt","src"],[1,"dont-break-out","preserve-line-breaks"],["role","link","tabindex","0",1,"dont-break-out","preserve-line-breaks","ds-browse-link",3,"routerLink","queryParams"]],template:function(u,w){1&u&&(e.j41(0,"ds-metadata-field-wrapper",5),e.nI1(1,"translate"),e.Z7z(2,db,2,6,null,null,e.fX1),e.k0s(),e.DNE(4,ka,1,1,"ng-template",null,0,e.C5r)(6,Vy,2,4,"ng-template",null,1,e.C5r)(8,aw,4,8,"ng-template",null,2,e.C5r)(10,lw,2,1,"ng-template",null,3,e.C5r)(12,ub,2,5,"ng-template",null,4,e.C5r)),2&u&&(e.Y8G("label",e.bMT(1,1,w.label)),e.R7$(2),e.Dyx(w.mdValues))},dependencies:[rP,ja.Q,f.T3,v.Wk,K.h,K.D9]})}}return d})();var hb=n(27916),$y=n.n(hb),pb=n(26365),fb=n(54009);let dh=(()=>{class d{constructor(r,u){this.browseDefinitionDataService=r,this.browseService=u,this.enableMarkdown=!1,this.separator="<br/>"}get browseDefinition(){return this.browseService.getBrowseDefinitions().pipe((0,Mi.qD)(),(0,Mi.Bo)(),(0,Mi.W8)(),(0,pb.U)(),(0,_o.p)(r=>$y()(r.metadataKeys,this.fields,d.fieldMatch).length>0),(0,D.s)(1))}static fieldMatch(r,u){return u===r||r.endsWith(".*")&&u.substring(0,r.length-1)===r.substring(0,r.length-1)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(fb.BrowseDefinitionDataService),e.rXU(Ne.q))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ng-component"]],inputs:{item:"item"},standalone:!0,features:[e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(u,w){1&u&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&u&&(e.R7$(),e.Y8G("mdValues",null==w.item?null:w.item.allMetadata(w.fields))("separator",w.separator)("label",w.label)("enableMarkdown",w.enableMarkdown)("urlRegex",w.urlRegex)("browseDefinition",e.bMT(2,7,w.browseDefinition))("img",w.img))},dependencies:[f.Jj,ch],encapsulation:2})}}return d})(),Vc=(()=>{class d extends dh{constructor(){super(...arguments),this.enableMarkdown=!1}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-generic-item-page-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(u,w){1&u&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&u&&(e.R7$(),e.Y8G("mdValues",null==w.item?null:w.item.allMetadata(w.fields))("separator",w.separator)("label",w.label)("enableMarkdown",w.enableMarkdown)("urlRegex",w.urlRegex)("browseDefinition",e.bMT(2,7,w.browseDefinition))("img",w.img))},dependencies:[f.Jj,ch],encapsulation:2})}}return d})();var $c=n(31893),tv=n(87507);let uh=(()=>{class d{constructor(r,u){this.routeService=r,this.router=u,this.showLabel=!0,this.previousRoute=/^(\/search|\/browse|\/collections|\/admin\/search|\/mydspace)/,this.geospatialItemPageFieldsEnabled=!1,this.back=()=>{this.routeService.getPreviousUrl().pipe((0,D.s)(1)).subscribe(w=>{this.router.navigateByUrl(w)})},this.mediaViewer=I.c.mediaViewer,this.geospatialItemPageFieldsEnabled=I.c.geospatialMapViewer.enableItemPageFields}ngOnInit(){this.itemPageRoute=(0,Wu._o)(this.object),this.showBackButton$=this.routeService.getPreviousUrl().pipe((0,In.T)(r=>this.previousRoute.test(r)),(0,D.s)(1)),this.iiifEnabled=(()=>!!this.object.firstMetadataValue("dspace.iiif.enabled"))(),this.iiifSearchEnabled=(()=>!!this.object.firstMetadataValue("iiif.search.enabled"))(),this.iiifSearchEnabled&&(this.iiifQuery$=this.routeService.getPreviousUrl().pipe((0,_o.p)(r=>r.includes("/search")),(0,In.T)(r=>(new v.nU).parse(r).queryParamMap.get("query")),(0,D.s)(1)))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(tv.v$),e.rXU(v.Ix))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item"]],inputs:{object:"object",showLabel:"showLabel",viewMode:"viewMode"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(u,w){},encapsulation:2})}}return d})();var hw=n(10653),pw=n(89856);let fw=(()=>{class d{constructor(){this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){(0,V.hj)(this.relationType)&&(0,V.hj)(this.item)&&(this.fixedFilter=(0,pw.as)(this.relationType,this.item.id))}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-related-entities-search"]],inputs:{relationType:"relationType",configuration:"configuration",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:1,vars:5,consts:[[3,"fixedFilterQuery","configuration","searchEnabled","sideBarWidth","showCsvExport"]],template:function(u,w){1&u&&e.nrm(0,"ds-configuration-search-page",0),2&u&&e.Y8G("fixedFilterQuery",w.fixedFilter)("configuration",w.configuration)("searchEnabled",w.searchEnabled)("sideBarWidth",w.sideBarWidth)("showCsvExport",!0)},dependencies:[hw.M],encapsulation:2})}}return d})();function mb(d,_){if(1&d&&(e.j41(0,"div",1),e.nrm(1,"ds-related-entities-search",7),e.k0s()),2&d){const r=e.XpG().$implicit,u=e.XpG(2);e.R7$(),e.Y8G("item",u.item)("relationType",r.filter)("configuration",r.configuration)("searchEnabled",u.searchEnabled)("sideBarWidth",u.sideBarWidth)}}function gb(d,_){if(1&d&&(e.j41(0,"li",3)(1,"a",5),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,mb,2,5,"ng-template",6),e.k0s()),2&d){const r=_.$implicit;e.Y8G("ngbNavItem",r.filter),e.R7$(2),e.SpI(" ",e.bMT(3,2,"item.page.relationships."+r.label)," ")}}function mw(d,_){if(1&d){const r=e.RV6();e.j41(0,"ul",2,0),e.nI1(2,"async"),e.bIt("navChange",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onTabChange(w))}),e.Z7z(3,gb,5,4,"li",3,e.fX1),e.k0s(),e.nrm(5,"div",4)}if(2&d){const r=e.sdS(1),u=e.XpG();e.Y8G("destroyOnHide",!0)("activeId",e.bMT(2,3,u.activeTab$)),e.R7$(3),e.Dyx(u.relationTypes),e.R7$(2),e.Y8G("ngbNavOutlet",r)}}function gw(d,_){if(1&d&&e.nrm(0,"ds-related-entities-search",7),2&d){const r=_.ngVar,u=e.XpG(2);e.Y8G("item",u.item)("relationType",r.filter)("configuration",r.configuration)("searchEnabled",u.searchEnabled)("sideBarWidth",u.sideBarWidth)}}function _w(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,gw,1,5,"ds-related-entities-search",8),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("ngVar",r.relationTypes[0])}}let Wy=(()=>{class d{constructor(r,u){this.route=r,this.router=u,this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){this.activeTab$=this.route.queryParams.pipe((0,In.T)(r=>r.tab))}onTabChange(r){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:r.nextId,query:this.route.snapshot.queryParams.query,scope:this.route.snapshot.queryParams.scope,"spc.page":1}})}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(v.nX),e.rXU(v.Ix))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-tabbed-related-entities-search"]],inputs:{relationTypes:"relationTypes",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[["tabs","ngbNav"],[1,"mt-4"],["ngbNav","","role","tablist",1,"nav-tabs",3,"navChange","destroyOnHide","activeId"],["role","presentation",3,"ngbNavItem"],[3,"ngbNavOutlet"],["ngbNavLink","","role","tab"],["ngbNavContent",""],[3,"item","relationType","configuration","searchEnabled","sideBarWidth"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth",4,"ngVar"]],template:function(u,w){1&u&&e.DNE(0,mw,6,5)(1,_w,2,1,"div",1),2&u&&(e.vxM(w.relationTypes.length>1?0:-1),e.R7$(),e.vxM(1===w.relationTypes.length?1:-1))},dependencies:[f.Jj,G.Pv,G.Um,G.X9,G.sy,G.Ri,G.m_,fw,K.h,K.D9,jc.r],encapsulation:2})}}return d})();var lP=n(36343),nv=n(15202),vw=n(93446),yw=n(1837);const cP=d=>({amount:d});function dP(d,_){if(1&d&&e.nrm(0,"ds-listable-object-component-loader",2),2&d){const r=_.$implicit,u=e.XpG(3);e.Y8G("object",r)("viewMode",u.viewMode)}}function Dp(d,_){1&d&&(e.nrm(0,"ds-loading",3),e.nI1(1,"translate")),2&d&&e.FS9("message",e.bMT(1,1,"loading.default"))}function Um(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",5)(1,"button",7),e.bIt("click",function(){e.eBV(r);const w=e.XpG(4);return e.Njj(w.increase())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&d){const r=e.XpG(2).ngVar,u=e.XpG(2);e.R7$(2),e.Lme("",e.i5U(3,2,"item.page.related-items.view-more",e.eq3(5,cP,(null==r||null==r.payload?null:r.payload.totalElements)-u.incrementBy*u.objects.length<u.incrementBy?(null==r||null==r.payload?null:r.payload.totalElements)-u.incrementBy*u.objects.length:u.incrementBy))," ",u.label,"")}}function uP(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",6)(1,"button",7),e.bIt("click",function(){e.eBV(r);const w=e.XpG(4);return e.Njj(w.decrease())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&d){const r=e.XpG(2).ngVar,u=e.XpG(2);e.R7$(2),e.Lme("",e.i5U(3,2,"item.page.related-items.view-less",e.eq3(5,cP,null==r||null==r.payload||null==r.payload.page?null:r.payload.page.length))," ",u.label,"")}}function Ew(d,_){if(1&d&&(e.j41(0,"div",4),e.DNE(1,Um,4,7,"div",5)(2,uP,4,7,"div",6),e.k0s()),2&d){const r=e.XpG().ngVar,u=e.XpG(2);e.R7$(),e.vxM((null==r||null==r.payload?null:r.payload.totalPages)>u.objects.length?1:-1),e.R7$(),e.vxM(u.objects.length>1?2:-1)}}function _b(d,_){if(1&d&&(e.qex(0),e.Z7z(1,dP,1,2,"ds-listable-object-component-loader",2,e.fX1),e.DNE(3,Dp,2,3,"ds-loading",3)(4,Ew,3,2,"div",4),e.bVm()),2&d){const r=_.ngVar,u=e.XpG().$index,w=e.XpG();e.R7$(),e.Dyx(null==r||null==r.payload?null:r.payload.page),e.R7$(2),e.vxM(u+1!==w.objects.length||!(r||u>0)||null!=r&&r.hasSucceeded&&null!=r&&r.payload&&(null==r||null==r.payload||null==r.payload.page?null:r.payload.page.length)>0?-1:3),e.R7$(),e.vxM(u+1===w.objects.length&&(null==r||null==r.payload||null==r.payload.page?null:r.payload.page.length)>0?4:-1)}}function hP(d,_){1&d&&(e.DNE(0,_b,5,2,"ng-container",1),e.nI1(1,"async")),2&d&&e.Y8G("ngVar",e.bMT(1,1,_.$implicit))}let hh=(()=>{class d extends yw.e{constructor(r,u,w,Y){super(),this.relationshipService=r,this.elementRef=u,this.appConfig=w,this.platformId=Y,this.incrementBy=5,this.options=new lP._,this.viewMode=kn.n.ListElement,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.placeholderFontClass=(0,f.UE)(this.platformId)?(0,vw.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text",super.ngOnInit()}getPage(r){return this.relationshipService.getRelatedItemsByLabel(this.parentItem,this.relationType,Object.assign(this.options,{elementsPerPage:this.incrementBy,currentPage:r,fetchThumbnail:this.fetchThumbnail}))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(ed.RelationshipDataService),e.rXU(e.aKT),e.rXU(vo.vQ),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-related-items"]],inputs:{parentItem:"parentItem",relationType:"relationType",incrementBy:"incrementBy",options:"options",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:2,consts:[[3,"label","ngClass"],[4,"ngVar"],[3,"object","viewMode"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["id","view-more",1,"float-start"],["id","view-less",1,"float-end"],[1,"btn","btn-link","btn-link-inline","text-capitalize",3,"click"]],template:function(u,w){1&u&&(e.j41(0,"ds-metadata-field-wrapper",0),e.Z7z(1,hP,2,3,"ng-container",null,e.fX1),e.k0s()),2&u&&(e.Y8G("label",w.label)("ngClass",w.placeholderFontClass),e.R7$(),e.Dyx(w.objects))},dependencies:[f.Jj,oh.v,ja.Q,f.YU,nv.v,K.h,K.D9,jc.r],styles:["[_nghost-%COMP%]{display:block}ds-listable-object-component-loader[_ngcontent-%COMP%]{margin-bottom:10px;display:block}"]})}}return d})();var hu=n(44087),pu=n(93164);const pP=()=>["creativeworkseries.issn"],iv=()=>["creativework.publisher"],vb=()=>["creativework.editor"],fP=()=>["dc.description"],Gy=d=>[d],Cw=()=>({label:"isJournalOfPublication",filter:"isJournalOfPublication",configuration:"default-relationships"});function yb(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}let Ky=class mO extends uh{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(mO)))(u||mO)}})()}static{this.\u0275cmp=e.VBU({type:mO,selectors:[["ds-journal"]],standalone:!0,features:[e.Vt3,e.aNF],decls:23,vars:40,consts:[[3,"back"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"item-page-fields",3,"item","fields","label"],[3,"item","fields","label"],[1,"col-12","col-md-6"],[3,"parentItem","relationType","label"],["role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100","px-0"],[3,"item","relationTypes"]],template:function(r,u){1&r&&(e.DNE(0,yb,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",8),e.k0s(),e.j41(13,"div",9),e.nrm(14,"ds-related-items",10),e.nI1(15,"translate"),e.nrm(16,"ds-generic-item-page-field",7),e.j41(17,"div")(18,"a",11),e.EFF(19),e.nI1(20,"translate"),e.k0s()()(),e.j41(21,"div",12),e.nrm(22,"ds-tabbed-related-entities-search",13),e.k0s()()),2&r&&(e.vxM(e.bMT(1,23,u.showBackButton$)?0:-1),e.R7$(3),e.Y8G("item",u.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,25,null==u.object?null:u.object.thumbnail)),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(31,pP))("label","journal.page.issn"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(32,iv))("label","journal.page.publisher"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(33,vb))("label","journal.page.editor"),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isVolumeOfJournal")("label",e.bMT(15,27,"item.page.journal-volumes")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(34,fP))("label","journal.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(35,Gy,u.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(20,29,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",u.object)("relationTypes",e.eq3(38,Gy,e.lJ4(37,Cw))))},dependencies:[f.Jj,hu.T,Vc,ja.Q,hh,v.Wk,Wy,$c.V,pu.U,zo.T,K.h,K.D9]})}};Ky=(0,$e.Cg)([(0,zn.VK)("Journal",kn.n.StandalonePage)],Ky);const mP=()=>["publicationvolume.volumeNumber"],Eb=()=>["publicationissue.issueNumber"],Hy=()=>["creativework.datePublished"],gP=()=>["journal.title"],_P=()=>["creativeworkseries.issn"],sv=()=>["dc.description"],vP=()=>["creativework.keywords"],yP=d=>[d];function EP(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}let ov=class gO extends uh{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(gO)))(u||gO)}})()}static{this.\u0275cmp=e.VBU({type:gO,selectors:[["ds-journal-issue"]],standalone:!0,features:[e.Vt3,e.aNF],decls:26,vars:52,consts:[[3,"back"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"mb-1","mt-1",3,"parentItem","relationType","label"],["role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"]],template:function(r,u){1&r&&(e.DNE(0,EP,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7)(14,"ds-generic-item-page-field",7),e.k0s(),e.j41(15,"div",8),e.nrm(16,"ds-related-items",9),e.nI1(17,"translate"),e.nrm(18,"ds-related-items",10),e.nI1(19,"translate"),e.nrm(20,"ds-generic-item-page-field",7)(21,"ds-generic-item-page-field",7),e.j41(22,"div")(23,"a",11),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()),2&r&&(e.vxM(e.bMT(1,33,u.showBackButton$)?0:-1),e.R7$(3),e.Y8G("item",u.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,35,null==u.object?null:u.object.thumbnail)),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(43,mP))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(44,Eb))("label","journalissue.page.number"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(45,Hy))("label","journalissue.page.issuedate"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(46,gP))("label","journalissue.page.journal-title"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(47,_P))("label","journalissue.page.journal-issn"),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isJournalVolumeOfIssue")("label",e.bMT(17,37,"item.page.journal-volume")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isPublicationOfJournalIssue")("label",e.bMT(19,39,"item.page.articles")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(48,sv))("label","journalissue.page.description"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(49,vP))("label","journalissue.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(50,yP,u.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(25,41,"item.page.link.full")," "))},dependencies:[f.Jj,hu.T,Vc,ja.Q,hh,v.Wk,$c.V,pu.U,zo.T,K.h,K.D9]})}};ov=(0,$e.Cg)([(0,zn.VK)("JournalIssue",kn.n.StandalonePage)],ov);const CP=()=>["publicationvolume.volumeNumber"],bP=()=>["creativework.datePublished"],DP=()=>["dc.description"],Cb=d=>[d];function bb(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}let Tp=class _O extends uh{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(_O)))(u||_O)}})()}static{this.\u0275cmp=e.VBU({type:_O,selectors:[["ds-journal-volume"]],standalone:!0,features:[e.Vt3,e.aNF],decls:22,vars:36,consts:[[3,"back"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-12","col-md-6"],[3,"parentItem","relationType","label"],["role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"]],template:function(r,u){1&r&&(e.DNE(0,bb,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7),e.j41(18,"div")(19,"a",10),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()()),2&r&&(e.vxM(e.bMT(1,21,u.showBackButton$)?0:-1),e.R7$(3),e.Y8G("item",u.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,23,null==u.object?null:u.object.thumbnail)),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(31,CP))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(32,bP))("label","journalvolume.page.issuedate"),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isJournalOfVolume")("label",e.bMT(14,25,"item.page.journal")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isIssueOfJournalVolume")("label",e.bMT(16,27,"item.page.journal-issues")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(33,DP))("label","journalvolume.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(34,Cb,u.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(21,29,"item.page.link.full")," "))},dependencies:[f.Jj,hu.T,Vc,ja.Q,hh,v.Wk,$c.V,pu.U,zo.T,K.h,K.D9]})}};Tp=(0,$e.Cg)([(0,zn.VK)("JournalVolume",kn.n.StandalonePage)],Tp);const zy=["*","*"],Db=d=>[d];function bw(d,_){if(1&d&&(e.j41(0,"a",3),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Db,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function Tb(d,_){if(1&d&&(e.j41(0,"span",4)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function Mb(d,_){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function ph(d,_){if(1&d&&(e.j41(0,"p",9)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("organization.foundingDate"),e.npT)}}function Ob(d,_){if(1&d&&(e.j41(0,"span",16)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&d){const r=e.XpG(2);e.R7$(3),e.SpI(" ",r.firstMetadataValue("organization.address.addressLocality")," ")}}function TP(d,_){if(1&d&&(e.j41(0,"p",10)(1,"ds-truncatable-part",13)(2,"span",15),e.EFF(3),e.k0s(),e.DNE(4,Ob,4,1,"span",16),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(2),e.JRh(r.firstMetadataValue("organization.address.addressCountry")),e.R7$(),e.vxM(r.dso.hasMetadata("organization.address.addressLocality")?4:-1)}}function Dw(d,_){if(1&d&&(e.j41(0,"div",11)(1,"a",17),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Db,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let fh=class vO extends yc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(vO)))(u||vO)}})()}static{this.\u0275cmp=e.VBU({type:vO,selectors:[["ds-org-unit-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:zy,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[1,"item-date","card-text","text-muted"],[1,"item-location","card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-country"],[1,"item-city"],["role","link","tabindex","0",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(zy),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,bw,5,12,"a",3)(6,Tb,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,Mb,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,ph,3,3,"p",9)(12,TP,5,4,"p",10)(13,Dw,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,11,u.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",u.dso.id),e.R7$(3),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.showLabel?8:-1),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata("organization.foundingDate")?11:-1),e.R7$(),e.vxM(u.dso.hasMetadata("organization.address.addressCountry")?12:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?13:-1))},dependencies:[f.Jj,v.Wk,na.F,zo.T,K.h,K.D9,il.d,qo.W],data:{animation:[lu]}})}};fh=(0,$e.Cg)([(0,zn.VK)("OrgUnitSearchResult",kn.n.GridElement)],fh);const Xy=()=>({}),MP=(d,_)=>({indexableObject:d,hitHighlights:_});let jm=class yO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(yO)))(u||yO)}})()}static{this.\u0275cmp=e.VBU({type:yO,selectors:[["ds-org-unit-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-org-unit-search-result-grid-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,MP,u.object,e.lJ4(3,Xy)))("linkType",u.linkType)},dependencies:[fh]})}};jm=(0,$e.Cg)([(0,zn.VK)("OrgUnit",kn.n.GridElement)],jm);const rv=["*","*"],Sb=d=>[d];function Tw(d,_){if(1&d&&(e.j41(0,"a",3),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Sb,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function av(d,_){if(1&d&&(e.j41(0,"span",4)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function OP(d,_){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function SP(d,_){if(1&d&&(e.j41(0,"p",9)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("person.email"),e.npT)}}function Yy(d,_){if(1&d&&(e.j41(0,"p",10)(1,"ds-truncatable-part",13),e.nrm(2,"span",14),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("person.jobTitle"),e.npT)}}function IP(d,_){if(1&d&&(e.j41(0,"div",11)(1,"a",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Sb,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let El=class EO extends yc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(EO)))(u||EO)}})()}static{this.\u0275cmp=e.VBU({type:EO,selectors:[["ds-person-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:rv,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[1,"item-email","card-text","text-muted"],[1,"item-jobtitle","card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[3,"id","minLines"],[3,"innerHTML"],["role","link","tabindex","0",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(rv),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,Tw,5,12,"a",3)(6,av,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,OP,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,SP,3,3,"p",9)(12,Yy,3,3,"p",10)(13,IP,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,11,u.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",u.dso.id),e.R7$(3),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.showLabel?8:-1),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata("person.email")?11:-1),e.R7$(),e.vxM(u.dso.hasMetadata("person.jobTitle")?12:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?13:-1))},dependencies:[f.Jj,v.Wk,na.F,zo.T,K.h,K.D9,il.d,qo.W],data:{animation:[lu]}})}};El=(0,$e.Cg)([(0,zn.VK)("PersonSearchResult",kn.n.GridElement)],El);const km=()=>({}),Br=(d,_)=>({indexableObject:d,hitHighlights:_});let Wc=class CO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(CO)))(u||CO)}})()}static{this.\u0275cmp=e.VBU({type:CO,selectors:[["ds-person-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-person-search-result-grid-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,Br,u.object,e.lJ4(3,km)))("linkType",u.linkType)},dependencies:[El]})}};Wc=(0,$e.Cg)([(0,zn.VK)("Person",kn.n.GridElement)],Wc);const Vm=["*","*"],Bl=d=>[d];function Mp(d,_){if(1&d&&(e.j41(0,"a",3),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",11),e.nI1(4,"async"),e.k0s()()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Bl,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function PP(d,_){if(1&d&&(e.j41(0,"span",4)(1,"div"),e.nrm(2,"ds-thumbnail",11),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==r.dso?null:r.dso.thumbnail))("limitWidth",!1)}}function $m(d,_){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function Qy(d,_){if(1&d&&(e.j41(0,"p",9)(1,"ds-truncatable-part",12),e.nrm(2,"span",13),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("dc.description"),e.npT)}}function Ib(d,_){if(1&d&&(e.j41(0,"div",10)(1,"a",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Bl,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Op=class bO extends yc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(bO)))(u||bO)}})()}static{this.\u0275cmp=e.VBU({type:bO,selectors:[["ds-project-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Vm,decls:14,vars:12,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["tabindex","-1",1,"card-img-top","full-width",3,"target","routerLink"],[1,"card-img-top","full-width"],[1,"card-body"],[3,"object","context"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[1,"item-description","card-text","text-muted"],[1,"text-center"],[3,"thumbnail","limitWidth"],[3,"id","minLines"],[3,"innerHTML"],["role","link","tabindex","0",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.NAR(Vm),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,Mp,5,12,"a",3)(6,PP,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,$m,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,Qy,3,3,"p",9)(12,Ib,4,8,"div",10),e.k0s()(),e.SdG(13,1),e.k0s()),2&r&&(e.Y8G("@focusShadow",e.bMT(1,10,u.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",u.dso.id),e.R7$(3),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.showLabel?8:-1),e.R7$(),e.Y8G("id",u.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.dso.hasMetadata("dc.description")?11:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?12:-1))},dependencies:[f.Jj,v.Wk,na.F,zo.T,K.h,K.D9,il.d,qo.W],data:{animation:[lu]}})}};Op=(0,$e.Cg)([(0,zn.VK)("ProjectSearchResult",kn.n.GridElement)],Op);const RP=()=>({}),AP=(d,_)=>({indexableObject:d,hitHighlights:_});let _r=class DO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(DO)))(u||DO)}})()}static{this.\u0275cmp=e.VBU({type:DO,selectors:[["ds-project-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-project-search-result-grid-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,AP,u.object,e.lJ4(3,RP)))("linkType",u.linkType)},dependencies:[Op]})}};_r=(0,$e.Cg)([(0,zn.VK)("Project",kn.n.GridElement)],_r);const Pb=()=>["dc.description"],Rb=d=>[d];function Ur(d,_){if(1&d&&(e.j41(0,"a",9),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,Rb,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function Wm(d,_){if(1&d&&(e.j41(0,"span",10),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function Sp(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,Ur,3,11,"a",9)(2,Wm,3,6,"span",10),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function lv(d,_){if(1&d&&e.nrm(0,"ds-badges",3),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function Gm(d,_){if(1&d&&(e.nrm(0,"a",5),e.nI1(1,"translate")),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Rb,r.itemPageRoute))("innerHTML",r.dsoTitle||e.bMT(1,4,"orgunit.listelement.no-title"),e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function cv(d,_){if(1&d&&(e.nrm(0,"span",6),e.nI1(1,"translate")),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle||e.bMT(1,1,"orgunit.listelement.no-title"),e.npT)}}function Ab(d,_){if(1&d&&(e.j41(0,"span",8)(1,"ds-truncatable-part",12),e.nrm(2,"span",13),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("id",r.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue("dc.description"),e.npT)}}let Ip=class TO extends Fl.k{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(TO)))(u||TO)}})()}static{this.\u0275cmp=e.VBU({type:TO,selectors:[["ds-org-unit-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:9,vars:8,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"object","context"],[3,"id"],["role","link","tabindex","0",1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted"],[1,"item-list-org-unit-description"],["tabindex","-1",1,"dont-break-out",3,"target","routerLink"],[1,"dont-break-out"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"id","minLines"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,Sp,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,lv,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,Gm,2,8,"a",5)(6,cv,2,3,"span",6),e.j41(7,"span",7),e.DNE(8,Ab,3,3,"span",8),e.k0s()()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.vxM(u.showLabel?3:-1),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.vxM(u.dso.allMetadata(e.lJ4(7,Pb)).length>0?8:-1))},dependencies:[f.Jj,f.YU,v.Wk,na.F,zo.T,K.h,K.D9,il.d,qo.W]})}};Ip=(0,$e.Cg)([(0,zn.VK)("OrgUnitSearchResult",kn.n.ListElement)],Ip);const xb=()=>({}),dv=(d,_)=>({indexableObject:d,hitHighlights:_});let Pp=class MO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(MO)))(u||MO)}})()}static{this.\u0275cmp=e.VBU({type:MO,selectors:[["ds-org-unit-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-org-unit-search-result-list-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,dv,u.object,e.lJ4(3,xb)))("linkType",u.linkType)},dependencies:[Ip]})}};Pp=(0,$e.Cg)([(0,zn.VK)("OrgUnit",kn.n.ListElement)],Pp);const Jy=()=>["person.jobTitle"],wb=d=>[d];function Rp(d,_){if(1&d&&(e.j41(0,"a",10),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,wb,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function Lb(d,_){if(1&d&&(e.j41(0,"span",11),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function Km(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,Rp,3,11,"a",10)(2,Lb,3,6,"span",11),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function xP(d,_){if(1&d&&e.nrm(0,"ds-badges",3),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function wP(d,_){if(1&d&&(e.nrm(0,"a",5),e.nI1(1,"translate")),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,wb,r.itemPageRoute))("innerHTML",r.dsoTitle||e.bMT(1,4,"person.listelement.no-title"),e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function uv(d,_){if(1&d&&(e.nrm(0,"span",6),e.nI1(1,"translate")),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle||e.bMT(1,1,"person.listelement.no-title"),e.npT)}}function LP(d,_){if(1&d&&(e.j41(0,"span")(1,"span",13),e.nrm(2,"span",13),e.k0s()()),2&d){const r=_.$implicit;e.R7$(),e.Y8G("innerHTML",r,e.npT),e.R7$(),e.Y8G("innerHTML",r,e.npT)}}function Nb(d,_){if(1&d&&(e.j41(0,"span",9),e.Z7z(1,LP,3,2,"span",null,e.fX1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(0,Jy)))}}let Ap=class S2 extends Fl.k{constructor(_,r,u){super(_,r,u),this.truncatableService=_,this.dsoNameService=r,this.appConfig=u}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=function(r){return new(r||S2)(e.rXU($s.F),e.rXU(Oi.f),e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:S2,selectors:[["ds-person-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"object","context"],[3,"id"],["role","link","tabindex","0",1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted"],[3,"id","minLines"],[1,"item-list-job-title"],["tabindex","-1",1,"dont-break-out",3,"target","routerLink"],[1,"dont-break-out"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,Km,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,xP,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,wP,2,8,"a",5)(6,uv,2,3,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,Nb,3,1,"span",9),e.k0s()()()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9 col-md-10":"col-12"),e.R7$(),e.vxM(u.showLabel?3:-1),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1),e.R7$(2),e.Y8G("id",u.dso.id)("minLines",1),e.R7$(),e.vxM(u.dso.allMetadata(e.lJ4(9,Jy)).length>0?9:-1))},dependencies:[f.Jj,f.YU,v.Wk,na.F,zo.T,K.h,K.D9,il.d,qo.W]})}};Ap=(0,$e.Cg)([(0,zn.VK)("PersonSearchResult",kn.n.ListElement),(0,$e.Sn)("design:paramtypes",[$s.F,Oi.f,Object])],Ap);const hv=()=>({}),mh=(d,_)=>({indexableObject:d,hitHighlights:_});let pv=class OO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(OO)))(u||OO)}})()}static{this.\u0275cmp=e.VBU({type:OO,selectors:[["ds-person-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:8,consts:[[3,"object","linkType","showLabel","value"]],template:function(r,u){1&r&&e.nrm(0,"ds-person-search-result-list-element",0),2&r&&e.Y8G("object",e.l_i(5,mh,u.object,e.lJ4(4,hv)))("linkType",u.linkType)("showLabel",u.showLabel)("value",u.value)},dependencies:[Ap]})}};pv=(0,$e.Cg)([(0,zn.VK)("Person",kn.n.ListElement)],pv);const Cl=d=>[d];function NP(d,_){if(1&d&&(e.j41(0,"a",7),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,Cl,r.itemPageRoute)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function FP(d,_){if(1&d&&(e.j41(0,"span",8),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function Zy(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,NP,3,11,"a",7)(2,FP,3,6,"span",8),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function Fb(d,_){if(1&d&&e.nrm(0,"ds-badges",4),2&d){const r=e.XpG();e.Y8G("object",r.dso)("context",r.context)}}function Bb(d,_){if(1&d&&e.nrm(0,"a",5),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Cl,r.itemPageRoute))("innerHTML",r.dsoTitle,e.npT),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null)}}function BP(d,_){if(1&d&&e.nrm(0,"span",6),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}let fv=class SO extends Fl.k{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(SO)))(u||SO)}})()}static{this.\u0275cmp=e.VBU({type:SO,selectors:[["ds-project-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[3,"id"],[3,"object","context"],["role","link","tabindex","0",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],["tabindex","-1",1,"dont-break-out",3,"target","routerLink"],[1,"dont-break-out"],[3,"thumbnail","defaultImage","alt","placeholder"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,Zy,3,2,"div",1),e.j41(2,"div",2)(3,"ds-truncatable",3),e.DNE(4,Fb,1,2,"ds-badges",4)(5,Bb,1,6,"a",5)(6,BP,1,1,"span",6),e.k0s()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("id",u.dso.id),e.R7$(),e.vxM(u.showLabel?4:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?5:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?6:-1))},dependencies:[f.Jj,f.YU,v.Wk,na.F,zo.T,il.d]})}};fv=(0,$e.Cg)([(0,zn.VK)("ProjectSearchResult",kn.n.ListElement)],fv);const UP=()=>({}),mv=(d,_)=>({indexableObject:d,hitHighlights:_});let xp=class IO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(IO)))(u||IO)}})()}static{this.\u0275cmp=e.VBU({type:IO,selectors:[["ds-project-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-project-search-result-list-element",0),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,mv,u.object,e.lJ4(3,UP)))("linkType",u.linkType)},dependencies:[fv]})}};function qy(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}xp=(0,$e.Cg)([(0,zn.VK)("Project",kn.n.ListElement)],xp);let _d=class PO extends kc{getDescription(){return this.firstMetadataValue("dc.description")}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(PO)))(u||PO)}})()}static{this.\u0275cmp=e.VBU({type:PO,selectors:[["ds-org-unit-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,qy,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[f.Jj,f.YU,K.h,K.D9,qo.W],encapsulation:2})}};function Ub(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}_d=(0,$e.Cg)([(0,zn.VK)("OrgUnitSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModal),(0,zn.VK)("OrgUnitSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModalCurrent),(0,zn.VK)("OrgUnitSearchResult",kn.n.ListElement,Ui.o.ScopeSelectorModal),(0,zn.VK)("OrgUnitSearchResult",kn.n.ListElement,Ui.o.ScopeSelectorModalCurrent)],_d);let Hm=class I2 extends kc{constructor(_,r,u,w){super(_,r,w),this.truncatableService=_,this.linkService=r,this.translateService=u,this.dsoNameService=w}getDescription(){const _=this.allMetadataValues(["person.jobTitle"]);let r="";return(0,V.hj)(_)&&(r+=_.join(", ")),this.undefinedIfEmpty(r)}static{this.\u0275fac=function(r){return new(r||I2)(e.rXU($s.F),e.rXU(Vs._),e.rXU(K.c$),e.rXU(Oi.f))}}static{this.\u0275cmp=e.VBU({type:I2,selectors:[["ds-person-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,Ub,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[f.Jj,f.YU,K.h,K.D9,qo.W],encapsulation:2})}};function wp(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}Hm=(0,$e.Cg)([(0,zn.VK)("PersonSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModal),(0,zn.VK)("PersonSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModalCurrent),(0,zn.VK)("PersonSearchResult",kn.n.ListElement,Ui.o.ScopeSelectorModal),(0,zn.VK)("PersonSearchResult",kn.n.ListElement,Ui.o.ScopeSelectorModalCurrent),(0,$e.Sn)("design:paramtypes",[$s.F,Vs._,K.c$,Oi.f])],Hm);let Lp=class RO extends kc{getDescription(){}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(RO)))(u||RO)}})()}static{this.\u0275cmp=e.VBU({type:RO,selectors:[["ds-project-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,wp,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[f.Jj,f.YU,K.h,K.D9,qo.W],encapsulation:2})}};Lp=(0,$e.Cg)([(0,zn.VK)("ProjectSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModal),(0,zn.VK)("ProjectSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModalCurrent),(0,zn.VK)("ProjectSearchResult",kn.n.ListElement,Ui.o.ScopeSelectorModal),(0,zn.VK)("ProjectSearchResult",kn.n.ListElement,Ui.o.ScopeSelectorModalCurrent)],Lp);let eE=(()=>{class d extends dh{static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-img-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",img:"img",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(u,w){1&u&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&u&&(e.R7$(),e.Y8G("mdValues",null==w.item?null:w.item.allMetadata(w.fields))("separator",w.separator)("label",w.label)("enableMarkdown",w.enableMarkdown)("urlRegex",w.urlRegex)("browseDefinition",e.bMT(2,7,w.browseDefinition))("img",w.img))},dependencies:[f.Jj,ch],encapsulation:2})}}return d})();const jb=()=>["organization.foundingDate"],kb=()=>["organization.address.addressLocality"],Vb=()=>["organization.address.addressCountry"],jP=()=>["dc.identifier"],kP=()=>["organization.identifier.ror"],Np=()=>({URI:"./assets/images/ror-icon.svg",alt:"item.page.image.alt.ROR",heightVar:"--ds-item-page-img-field-ror-inline-height"}),$b=()=>["dc.description"],VP=d=>[d],$P=()=>({label:"isOrgUnitOfPerson",filter:"isOrgUnitOfPerson",configuration:"person-relationships"}),WP=()=>({label:"isOrgUnitOfProject",filter:"isOrgUnitOfProject",configuration:"project-relationships"}),Wb=(d,_)=>[d,_];function Gb(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}let gv=class AO extends uh{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(AO)))(u||AO)}})()}static{this.\u0275cmp=e.VBU({type:AO,selectors:[["ds-org-unit"]],standalone:!0,features:[e.Vt3,e.aNF],decls:25,vars:56,consts:[[3,"back"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-12","col-md-7"],[3,"fields","img","item","label","urlRegex"],[3,"parentItem","relationType","label"],["role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100","px-0"],[3,"item","relationTypes"]],template:function(r,u){1&r&&(e.DNE(0,Gb,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7),e.k0s(),e.j41(14,"div",8),e.nrm(15,"ds-item-page-img-field",9)(16,"ds-related-items",10),e.nI1(17,"translate"),e.nrm(18,"ds-generic-item-page-field",7),e.j41(19,"div")(20,"a",11),e.EFF(21),e.nI1(22,"translate"),e.k0s()()(),e.j41(23,"div",12),e.nrm(24,"ds-tabbed-related-entities-search",13),e.k0s()()),2&r&&(e.vxM(e.bMT(1,34,u.showBackButton$)?0:-1),e.R7$(3),e.Y8G("item",u.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==u.object?null:u.object.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder"),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(42,jb))("label","orgunit.page.dateestablished"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(43,kb))("label","orgunit.page.city"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(44,Vb))("label","orgunit.page.country"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(45,jP))("label","orgunit.page.id"),e.R7$(2),e.Y8G("fields",e.lJ4(46,kP))("img",e.lJ4(47,Np))("item",u.object)("label","orgunit.page.ror")("urlRegex","(.*)ror.org"),e.R7$(),e.Y8G("parentItem",u.object)("relationType","isPublicationOfOrgUnit")("label",e.bMT(17,38,"item.page.publications")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(48,$b))("label","orgunit.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(49,VP,u.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(22,40,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",u.object)("relationTypes",e.l_i(53,Wb,e.lJ4(51,$P),e.lJ4(52,WP))))},dependencies:[f.Jj,hu.T,Vc,eE,ja.Q,hh,v.Wk,Wy,$c.V,pu.U,zo.T,K.h,K.D9]})}};gv=(0,$e.Cg)([(0,zn.VK)("OrgUnit",kn.n.StandalonePage)],gv);const Mw=()=>["person.email"],GP=()=>["person.birthDate"],tE=()=>["person.jobTitle"],nE=()=>["person.familyName"],KP=()=>["person.givenName"],Kb=()=>["dc.title"],Hb=d=>[d],HP=()=>({label:"isAuthorOfPublication",filter:"isAuthorOfPublication",configuration:"default-relationships"});function zb(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}let _v=class xO extends uh{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(xO)))(u||xO)}})()}static{this.\u0275cmp=e.VBU({type:xO,selectors:[["ds-person"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:56,consts:[[3,"back"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-12","col-md-7"],[3,"parentItem","relationType","label"],["role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100","px-0"],[3,"item","relationTypes"]],template:function(r,u){1&r&&(e.DNE(0,zb,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7)(18,"ds-generic-item-page-field",7)(19,"ds-generic-item-page-field",7)(20,"ds-generic-item-page-field",7),e.j41(21,"div")(22,"a",10),e.EFF(23),e.nI1(24,"translate"),e.k0s()()(),e.j41(25,"div",11),e.nrm(26,"ds-tabbed-related-entities-search",12),e.k0s()()),2&r&&(e.vxM(e.bMT(1,35,u.showBackButton$)?0:-1),e.R7$(3),e.Y8G("item",u.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,37,null==u.object?null:u.object.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder"),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(45,Mw))("label","person.page.email"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(46,GP))("label","person.page.birthdate"),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isProjectOfPerson")("label",e.bMT(14,39,"item.page.projects")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isOrgUnitOfPerson")("label",e.bMT(16,41,"item.page.org-units")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(47,tE))("label","person.page.jobtitle"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(48,nE))("label","person.page.lastname"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(49,KP))("label","person.page.firstname"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(50,Kb))("label","person.page.name"),e.R7$(2),e.Y8G("routerLink",e.eq3(51,Hb,u.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(24,43,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",u.object)("relationTypes",e.eq3(54,Hb,e.lJ4(53,HP))))},dependencies:[f.Jj,hu.T,Vc,ja.Q,hh,v.Wk,Wy,$c.V,pu.U,zo.T,K.h,K.D9]})}};_v=(0,$e.Cg)([(0,zn.VK)("Person",kn.n.StandalonePage)],_v),n(80551);const zP=["*"];function XP(d,_){}let vv=(()=>{class d extends T.J{constructor(){super(...arguments),this.inAndOutputNames=["parentItem","itemType","metadataFields","label","incrementBy"]}getComponentName(){return"MetadataRepresentationListComponent"}importThemedComponent(r){return n(89979)(`./${r}/app/item-page/simple/metadata-representation-list/metadata-representation-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,80551))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:zP,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,XP,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();const YP=()=>["project.contributor.other"],QP=()=>["project.identifier.funder"],JP=()=>["dc.identifier"],ZP=()=>["dc.description"],qP=()=>["dc.subject"],eR=d=>[d];function Xb(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}let zm=class wO extends uh{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(wO)))(u||wO)}})()}static{this.\u0275cmp=e.VBU({type:wO,selectors:[["ds-project"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:55,consts:[[3,"back"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-12","col-md-7"],[3,"parentItem","relationType","label"],["role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"]],template:function(r,u){1&r&&(e.DNE(0,Xb,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-metadata-representation-list",7),e.nI1(11,"translate"),e.nrm(12,"ds-generic-item-page-field",8)(13,"ds-generic-item-page-field",8),e.k0s(),e.j41(14,"div",9),e.nrm(15,"ds-related-items",10),e.nI1(16,"translate"),e.nrm(17,"ds-related-items",10),e.nI1(18,"translate"),e.nrm(19,"ds-related-items",10),e.nI1(20,"translate"),e.nrm(21,"ds-generic-item-page-field",8)(22,"ds-generic-item-page-field",8),e.j41(23,"div")(24,"a",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()),2&r&&(e.vxM(e.bMT(1,34,u.showBackButton$)?0:-1),e.R7$(3),e.Y8G("item",u.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==u.object?null:u.object.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder"),e.R7$(2),e.Y8G("parentItem",u.object)("itemType","OrgUnit")("metadataFields",e.lJ4(48,YP))("label",e.bMT(11,38,"project.page.contributor")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(49,QP))("label","project.page.funder"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(50,JP))("label","project.page.id"),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isPersonOfProject")("label",e.bMT(16,40,"item.page.authors")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isPublicationOfProject")("label",e.bMT(18,42,"item.page.publications")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isOrgUnitOfProject")("label",e.bMT(20,44,"item.page.org-units")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(51,ZP))("label","project.page.description"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(52,qP))("label","project.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(53,eR,u.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(26,46,"item.page.link.full")," "))},dependencies:[f.Jj,hu.T,Vc,ja.Q,hh,v.Wk,$c.V,vv,pu.U,zo.T,K.h,K.D9]})}};function fu(d,_){if(1&d&&(e.j41(0,"div")(1,"a",1),e.EFF(2),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("href",r.uri.value,e.B4B),e.R7$(),e.JRh(r.uri.value)}}zm=(0,$e.Cg)([(0,zn.VK)("Project",kn.n.StandalonePage)],zm);let Xm=class LO extends or.C{ngOnInit(){this.uri=pm.O.first(this.object.metadata,"dc.identifier.uri")}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(LO)))(u||LO)}})()}static{this.\u0275cmp=e.VBU({type:LO,selectors:[["ds-external-source-entry-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:2,consts:[[1,"d-inline-block"],["target","_blank",3,"href"]],template:function(r,u){1&r&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.k0s(),e.DNE(3,fu,3,2,"div"),e.k0s()),2&r&&(e.R7$(2),e.JRh(u.object.display),e.R7$(),e.vxM(u.uri?3:-1))}})}};Xm=(0,$e.Cg)([(0,zn.VK)(q0.$,kn.n.ListElement,Ui.o.EntitySearchModal),(0,zn.VK)(q0.$,kn.n.ListElement,Ui.o.EntitySearchModalWithNameVariants)],Xm);var Yb=n(54095);const Qb=d=>({value:d});let Jb=(()=>{class d{constructor(r){this.modal=r}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(G.Lw))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-name-variant-modal"]],inputs:{value:"value"},standalone:!0,features:[e.aNF],decls:14,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer","justify-content-between"],["type","button",1,"btn","btn-light","confirm-button",3,"click"],["type","button",1,"btn","btn-light","decline-button",3,"click"]],template:function(u,w){1&u&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2,"New name variant"),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return w.modal.dismiss("Cross click")}),e.k0s()(),e.j41(4,"div",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",4)(8,"button",5),e.bIt("click",function(){return w.modal.close()}),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"button",6),e.bIt("click",function(){return w.modal.dismiss()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()),2&u&&(e.R7$(5),e.SpI(" ",e.i5U(6,3,"submission.sections.describe.relationship-lookup.name-variant.notification.content",e.eq3(10,Qb,w.value)),"\n"),e.R7$(4),e.JRh(e.bMT(10,6,"submission.sections.describe.relationship-lookup.name-variant.notification.confirm")),e.R7$(3),e.JRh(e.bMT(13,8,"submission.sections.describe.relationship-lookup.name-variant.notification.decline")))},dependencies:[K.h,K.D9]})}}return d})();var iE=n(51828),sE=n(38133),Fp=n(19370);const oE=d=>({"is-invalid":d}),Bp=()=>({standalone:!0}),Zb=d=>({show:d});function Up(d,_){if(1&d){const r=e.RV6();e.j41(0,"div")(1,"a",8,2),e.bIt("click",function(){const w=e.eBV(r).$implicit,Y=e.XpG();return e.Njj(Y.onClickSuggestion(w))}),e.nrm(3,"span",9),e.k0s()()}if(2&d){const r=_.$implicit;e.R7$(3),e.Y8G("innerHTML",r,e.npT)}}let yv=(()=>{class d extends iE.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(r){this.value=r,this.submitSuggestion.emit(r)}onClickSuggestion(r){return this.value=r,this.clickSuggestion.emit(r),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-org-unit-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:Yn.kq,useExisting:(0,e.Rfq)(()=>d),multi:!0}]),e.Vt3,e.aNF],decls:12,vars:18,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","focus","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(u,w){if(1&u){const Y=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(Y),e.Njj(w.onSubmit(w.value))})("keydown",function(Ie){return e.eBV(Y),e.Njj(w.onKeydown(Ie))})("keydown.arrowdown",function(Ie){return e.eBV(Y),e.Njj(w.shiftFocusDown(Ie))})("keydown.arrowup",function(Ie){return e.eBV(Y),e.Njj(w.shiftFocusUp(Ie))})("keydown.esc",function(){return e.eBV(Y),e.Njj(w.close())})("dsClickOutside",function(){return e.eBV(Y),e.Njj(w.close())}),e.j41(2,"input",4,1),e.mxI("ngModelChange",function(Ie){return e.eBV(Y),e.DH7(w.value,Ie)||(w.value=Ie),e.Njj(Ie)}),e.bIt("focus",function(){return e.eBV(Y),e.Njj(w.open())})("click",function(){return e.eBV(Y),e.Njj(w.open())})("onDebounce",function(Ie){return e.eBV(Y),e.Njj(w.find(Ie))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.Z7z(10,Up,4,1,"div",null,e.fX1),e.k0s()()()}2&u&&(e.Y8G("action",w.action,e.B4B),e.R7$(2),e.R50("ngModel",w.value),e.Y8G("name",w.name)("ngClass",e.eq3(13,oE,!w.valid))("dsDebounce",w.debounceTime)("placeholder",w.placeholder)("ngModelOptions",e.lJ4(15,Bp)),e.R7$(3),e.SpI(" ",e.bMT(6,9,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(16,Zb,e.bMT(8,11,w.show)&&w.isNotEmpty(w.suggestions))),e.R7$(3),e.Dyx(w.suggestions))},dependencies:[f.Jj,sE.z,Fp.R,Yn.YN,Yn.qT,Yn.me,Yn.BC,Yn.cb,Yn.vS,Yn.cV,f.YU,K.h,K.D9],styles:['form[_ngcontent-%COMP%]{z-index:1}form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px;z-index:-1}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return d})();const jp=()=>["organization.address.addressLocality"],kp=()=>["organization.address.addressCountry"];function Vp(d,_){if(1&d){const r=e.RV6();e.j41(0,"ds-org-unit-input-suggestions",7),e.mxI("ngModelChange",function(w){e.eBV(r);const Y=e.XpG();return e.DH7(Y.selectedName,w)||(Y.selectedName=w),e.Njj(w)}),e.bIt("clickSuggestion",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.select(w))})("submitSuggestion",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.selectCustom(w))}),e.k0s()}if(2&d){const r=e.XpG();e.Y8G("suggestions",r.allSuggestions),e.R50("ngModel",r.selectedName)}}function $p(d,_){if(1&d&&e.nrm(0,"div",3),2&d){const r=e.XpG();e.Y8G("innerHTML",r.dsoTitle,e.npT)}}function Wp(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,", "),e.k0s())}function Gp(d,_){if(1&d&&(e.j41(0,"span",5),e.nrm(1,"span",8),e.DNE(2,Wp,2,0,"span"),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue(e.lJ4(2,jp)),e.npT),e.R7$(),e.vxM(r.dso.allMetadata("organization.address.addressCountry").length>0?2:-1)}}function Kp(d,_){if(1&d&&(e.j41(0,"span",6),e.nrm(1,"span",8),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("innerHTML",r.firstMetadataValue(e.lJ4(1,kp)),e.npT)}}let vd=class P2 extends Da.P{constructor(_,r,u,w,Y,De,Ie,tt,Pt,bn){super(_,Pt,bn),this.truncatableService=_,this.relationshipService=r,this.notificationsService=u,this.translateService=w,this.modalService=Y,this.itemDataService=De,this.bitstreamDataService=Ie,this.selectableListService=tt,this.dsoNameService=Pt,this.appConfig=bn,this.alternativeField="dc.title.alternative",this.useNameVariants=!1}ngOnInit(){if(super.ngOnInit(),this.useNameVariants=this.context===Ui.o.EntitySearchModalWithNameVariants,this.useNameVariants){const _=this.dso?this.dsoNameService.getName(this.dso):void 0,r=this.allMetadataValues(this.alternativeField);this.allSuggestions=[_,...r],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,D.s)(1)).subscribe(u=>{this.selectedName=u||_})}this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(_){this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,D.s)(1)).subscribe(r=>{r||this.selectableListService.selectSingle(this.listID,this.object)}),this.relationshipService.setNameVariant(this.listID,this.dso.uuid,_)}selectCustom(_){this.allSuggestions.includes(_)||this.openModal(_).then(()=>{const r=new Yb.vD;r.value=_;const u=this.dso.metadata[this.alternativeField]||[],w={[this.alternativeField]:[...u,r]},Y=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...w}});this.itemDataService.update(Y).pipe((0,D.s)(1)).subscribe()}).catch(()=>{}).finally(()=>{this.select(_)})}openModal(_){const r=this.modalService.open(Jb,{centered:!0});return r.componentInstance.value=_,r.result}static{this.\u0275fac=function(r){return new(r||P2)(e.rXU($s.F),e.rXU(ed.RelationshipDataService),e.rXU(ea.I),e.rXU(K.c$),e.rXU(G.Bq),e.rXU(ku.ItemDataService),e.rXU(ta.BitstreamDataService),e.rXU(Gd.K),e.rXU(Oi.f),e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:P2,selectors:[["ds-org-unit-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel"],[1,"lead",3,"innerHTML"],[1,"text-muted"],[1,"item-list-address-locality"],[1,"item-list-address-country"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,Vp,1,2,"ds-org-unit-input-suggestions",2)(3,$p,1,1,"div",3),e.j41(4,"span",4),e.DNE(5,Gp,3,3,"span",5)(6,Kp,2,2,"span",6),e.k0s()()()),2&r&&(e.R7$(2),e.vxM(u.useNameVariants?2:-1),e.R7$(),e.vxM(u.useNameVariants?-1:3),e.R7$(2),e.vxM(u.dso.allMetadata("organization.address.addressLocality").length>0?5:-1),e.R7$(),e.vxM(u.dso.allMetadata("organization.address.addressCountry").length>0?6:-1))},dependencies:[Yn.YN,Yn.BC,Yn.vS,yv],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})}};vd=(0,$e.Cg)([(0,zn.VK)("OrgUnitSearchResult",kn.n.ListElement,Ui.o.EntitySearchModal),(0,zn.VK)("OrgUnitSearchResult",kn.n.ListElement,Ui.o.EntitySearchModalWithNameVariants),(0,$e.Sn)("design:paramtypes",[$s.F,ed.RelationshipDataService,ea.I,K.c$,G.Bq,ku.ItemDataService,ta.BitstreamDataService,Gd.K,Oi.f,Object])],vd);const Hp=d=>({"is-invalid":d}),qb=()=>({standalone:!0}),eD=d=>({show:d});function tD(d,_){if(1&d){const r=e.RV6();e.j41(0,"div")(1,"a",8,2),e.bIt("click",function(){const w=e.eBV(r).$implicit,Y=e.XpG();return e.Njj(Y.onClickSuggestion(w))}),e.nrm(3,"span",9),e.k0s()()}if(2&d){const r=_.$implicit;e.R7$(3),e.Y8G("innerHTML",r,e.npT)}}let rE=(()=>{class d extends iE.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(r){r!==this.value&&(this.value=r,this.submitSuggestion.emit(r))}onClickSuggestion(r){return this.value=r,this.clickSuggestion.emit(r),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-person-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:Yn.kq,useExisting:(0,e.Rfq)(()=>d),multi:!0}]),e.Vt3,e.aNF],decls:12,vars:18,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"focus","blur","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(u,w){if(1&u){const Y=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){e.eBV(Y);const Ie=e.sdS(3);return e.Njj(w.onSubmit(Ie.value))})("keydown",function(Ie){return e.eBV(Y),e.Njj(w.onKeydown(Ie))})("keydown.arrowdown",function(Ie){return e.eBV(Y),e.Njj(w.shiftFocusDown(Ie))})("keydown.arrowup",function(Ie){return e.eBV(Y),e.Njj(w.shiftFocusUp(Ie))})("keydown.esc",function(){return e.eBV(Y),e.Njj(w.close())})("dsClickOutside",function(){return e.eBV(Y),e.Njj(w.close())}),e.j41(2,"input",4,1),e.bIt("focus",function(){return e.eBV(Y),e.Njj(w.open())})("blur",function(){e.eBV(Y);const Ie=e.sdS(3);return e.Njj(w.onSubmit(Ie.value))})("click",function(){return e.eBV(Y),e.Njj(w.open())})("onDebounce",function(Ie){return e.eBV(Y),e.Njj(w.find(Ie))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.Z7z(10,tD,4,1,"div",null,e.fX1),e.k0s()()()}2&u&&(e.Y8G("action",w.action,e.B4B),e.R7$(2),e.Y8G("ngModel",w.value)("name",w.name)("ngClass",e.eq3(13,Hp,!w.valid))("dsDebounce",w.debounceTime)("placeholder",w.placeholder)("ngModelOptions",e.lJ4(15,qb)),e.R7$(3),e.SpI(" ",e.bMT(6,9,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(16,eD,e.bMT(8,11,w.show)&&w.isNotEmpty(w.suggestions))),e.R7$(3),e.Dyx(w.suggestions))},dependencies:[f.Jj,sE.z,Fp.R,Yn.YN,Yn.qT,Yn.me,Yn.BC,Yn.cb,Yn.vS,Yn.cV,f.YU,K.h,K.D9],styles:['form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return d})();const aE=()=>["person.jobTitle"];function nD(d,_){if(1&d&&(e.j41(0,"a",8),e.nrm(1,"ds-thumbnail",10),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self"),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,6,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function iD(d,_){if(1&d&&(e.j41(0,"span",9),e.nrm(1,"ds-thumbnail",10),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==r.dso?null:r.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function sD(d,_){if(1&d&&(e.j41(0,"div",1),e.DNE(1,nD,3,8,"a",8)(2,iD,3,6,"span",9),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.vxM(r.linkType!==r.linkTypes.None?1:-1),e.R7$(),e.vxM(r.linkType===r.linkTypes.None?2:-1)}}function oD(d,_){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function Ev(d,_){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",11),e.DNE(2,oD,2,0,"span"),e.k0s()),2&d){const r=_.$implicit,u=_.$index,w=_.$count;e.R7$(),e.Y8G("innerHTML",r,e.npT),e.R7$(),e.vxM(u!==w-1?2:-1)}}function mu(d,_){if(1&d&&(e.j41(0,"span",7),e.Z7z(1,Ev,3,2,"span",null,e.fX1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r.allMetadataValues(e.lJ4(0,aE)))}}let Cv=class R2 extends Da.P{constructor(_,r,u,w,Y,De,Ie){super(_,De,Ie),this.truncatableService=_,this.relationshipService=r,this.modalService=u,this.itemDataService=w,this.selectableListService=Y,this.dsoNameService=De,this.appConfig=Ie,this.alternativeField="dc.title.alternative"}ngOnInit(){super.ngOnInit();const _=this.dso?this.dsoNameService.getName(this.dso):void 0,r=this.allMetadataValues(this.alternativeField);this.allSuggestions=[_,...r],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,D.s)(1)).subscribe(u=>{this.selectedName=u||_}),this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(_){this.relationshipService.setNameVariant(this.listID,this.dso.uuid,_),this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,D.s)(1)).subscribe(r=>{r||this.selectableListService.selectSingle(this.listID,this.object)})}selectCustom(_){this.allSuggestions.includes(_)||this.openModal(_).then(()=>{const r=new Yb.vD;r.value=_;const u=this.dso.metadata[this.alternativeField]||[],w={[this.alternativeField]:[...u,r]},Y=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...w}});this.itemDataService.update(Y).pipe((0,D.s)(1)).subscribe(),this.itemDataService.commitUpdates()}).catch(()=>{}).finally(()=>{this.select(_)})}openModal(_){const r=this.modalService.open(Jb,{centered:!0});return r.componentInstance.value=_,r.result}static{this.\u0275fac=function(r){return new(r||R2)(e.rXU($s.F),e.rXU(ed.RelationshipDataService),e.rXU(G.Bq),e.rXU(ku.ItemDataService),e.rXU(Gd.K),e.rXU(Oi.f),e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:R2,selectors:[["ds-person-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:6,consts:[[1,"row"],[1,"col-3","col-md-2"],[3,"ngClass"],[1,"d-flex"],[1,"flex-grow-1"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[1,"text-muted"],[1,"item-list-job-title"],[1,"dont-break-out",3,"target"],[1,"dont-break-out"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,sD,3,2,"div",1),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"ds-person-input-suggestions",5),e.mxI("ngModelChange",function(Y){return e.DH7(u.selectedName,Y)||(u.selectedName=Y),Y}),e.bIt("clickSuggestion",function(Y){return u.select(Y)})("submitSuggestion",function(Y){return u.selectCustom(Y)}),e.k0s(),e.j41(6,"span",6),e.DNE(7,mu,3,1,"span",7),e.k0s()()()()()),2&r&&(e.R7$(),e.vxM(u.showThumbnails?1:-1),e.R7$(),e.Y8G("ngClass",u.showThumbnails?"col-9":"col-md-12"),e.R7$(3),e.Y8G("suggestions",u.allSuggestions),e.R50("ngModel",u.selectedName),e.R7$(2),e.vxM(u.dso.allMetadata(e.lJ4(5,aE)).length>0?7:-1))},dependencies:[f.Jj,Yn.YN,Yn.BC,Yn.vS,f.YU,rE,zo.T],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})}};Cv=(0,$e.Cg)([(0,zn.VK)("PersonSearchResult",kn.n.ListElement,Ui.o.EntitySearchModalWithNameVariants),(0,$e.Sn)("design:paramtypes",[$s.F,ed.RelationshipDataService,G.Bq,ku.ItemDataService,Gd.K,Oi.f,Object])],Cv);var lE=n(39264);n(82146);const gh=["*"];function cE(d,_){}let dE=(()=>{class d extends T.J{constructor(){super(...arguments),this.inAndOutputNames=["item","mediaOptions"]}getComponentName(){return"MediaViewerComponent"}importThemedComponent(r){return n(5452)(`./${r}/app/item-page/media-viewer/media-viewer.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,82146))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:gh,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,cE,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var bv=n(37419),aD=n(50842),Sw=n(67018);let tR=(()=>{class d{constructor(){this.LINKS_TO_FOLLOW=[(0,as.s)("format")]}showEmbeddedViewer(){return!(0,e.naY)()}getImageCount(r,u,w){let Y=0;return w.findAllByItem(r).pipe((0,Mi.qD)(),(0,In.T)(De=>De.payload),(0,In.T)(De=>De.page),(0,Ni.n)(De=>De),(0,_o.p)(De=>this.isIiifBundle(De.name)),(0,Tr.Z)(De=>u.findAllByItemAndBundleName(r,De.name,{currentPage:1,elementsPerPage:5},!0,!0,...this.LINKS_TO_FOLLOW).pipe((0,Mi.qD)(),(0,In.T)(Ie=>Ie.payload),(0,In.T)(Ie=>Ie.page),(0,Ni.n)(Ie=>Ie),(0,Ni.n)(Ie=>Ie.format.pipe((0,Mi.qD)(),(0,In.T)(tt=>tt.payload),(0,In.T)(tt=>(tt.mimetype.includes("image")&&Y++,Y)))))),(0,Sw.H)())}isIiifBundle(r){return!("OtherContent"===r||"LICENSE"===r||"THUMBNAIL"===r||"TEXT"===r||"METADATA"===r||"CC-LICENSE"===r||"BRANDED_PREVIEW"===r)}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();function nR(d,_){if(1&d&&(e.j41(0,"p",1),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.viewerMessage)}}function lD(d,_){if(1&d&&(e.nrm(0,"iframe",2),e.nI1(1,"async")),2&d){const r=e.XpG();e.Y8G("src",e.bMT(1,1,r.iframeViewerUrl),e.f$h)}}let uE=(()=>{class d{constructor(r,u,w,Y,De,Ie){this.sanitizer=r,this.viewerService=u,this.bitstreamDataService=w,this.bundleDataService=Y,this.hostWindowService=De,this.platformId=Ie,this.isViewerAvailable=!0,this.multi=!1,this.notMobile=!1,this.viewerMessage="Sorry, the Mirador viewer is not currently available in development mode."}setURL(){const r=encodeURIComponent(I.c.rest.baseUrl+"/iiif/"+this.object.id+"/manifest");let u=`${I.c.ui.nameSpace}${I.c.ui.nameSpace.length>1?"/":""}iiif/mirador/index.html?manifest=${r}`;return this.searchable&&(u+="&searchable="+this.searchable),this.query&&(u+="&query="+this.query),this.multi&&(u+="&multi="+this.multi),this.notMobile&&(u+="&notMobile=true"),this.sanitizer.bypassSecurityTrustResourceUrl(u)}ngOnInit(){if((0,f.UE)(this.platformId))if(this.isViewerAvailable=this.viewerService.showEmbeddedViewer(),this.hostWindowService.widthCategory.pipe((0,D.s)(1)).subscribe(r=>{this.notMobile=!(r===aD.tP.XS||r===aD.tP.SM)}),this.searchable){this.multi=!0;const r=(0,Kn.of)("");this.iframeViewerUrl=r.pipe((0,In.T)(u=>this.setURL()))}else this.iframeViewerUrl=this.viewerService.getImageCount(this.object,this.bitstreamDataService,this.bundleDataService).pipe((0,In.T)(r=>(r>1&&(this.multi=!0),this.setURL())))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(p.up),e.rXU(tR),e.rXU(ta.BitstreamDataService),e.rXU(bv.BundleDataService),e.rXU(aD.CV),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-mirador-viewer"]],inputs:{object:"object",query:"query",searchable:"searchable"},standalone:!0,features:[e.aNF],decls:5,vars:5,consts:[[1,"full-text-op"],["id","viewer-message"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src"]],template:function(u,w){1&u&&(e.j41(0,"p",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,nR,2,1,"p",1)(4,lD,2,3,"iframe",2)),2&u&&(e.R7$(),e.JRh(e.bMT(2,3,"iiifviewer.fullscreen.notice")),e.R7$(2),e.vxM(w.isViewerAvailable?-1:3),e.R7$(),e.vxM(w.isViewerAvailable?4:-1))},dependencies:[f.Jj,K.h,K.D9],styles:["#mirador-viewer[_ngcontent-%COMP%]{border:1px solid #dee2e6;height:660px;width:100%}.full-text-op[_ngcontent-%COMP%]{text-align:right;color:#333;font-size:.8em}p.full-text-op[_ngcontent-%COMP%]{margin-bottom:0}"],changeDetection:0})}}return d})();n(57047);const cD=["*"];function iR(d,_){}let hE=(()=>{class d extends T.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"FileSectionComponent"}importThemedComponent(r){return n(78373)(`./${r}/app/item-page/simple/field-components/file-section/file-section.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,57047))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:cD,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,iR,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})(),Dv=(()=>{class d extends dh{constructor(){super(...arguments),this.fields=["dc.description.abstract"],this.label="item.page.abstract",this.enableMarkdown=!0}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-abstract-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(u,w){1&u&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&u&&(e.R7$(),e.Y8G("mdValues",null==w.item?null:w.item.allMetadata(w.fields))("separator",w.separator)("label",w.label)("enableMarkdown",w.enableMarkdown)("urlRegex",w.urlRegex)("browseDefinition",e.bMT(2,7,w.browseDefinition))("img",w.img))},dependencies:[f.Jj,ch],encapsulation:2})}}return d})(),pE=(()=>{class d extends dh{constructor(){super(...arguments),this.separator=", ",this.fields=["dc.date.issued"],this.label="item.page.date"}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-date-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(u,w){1&u&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&u&&(e.R7$(),e.Y8G("mdValues",null==w.item?null:w.item.allMetadata(w.fields))("separator",w.separator)("label",w.label)("enableMarkdown",w.enableMarkdown)("urlRegex",w.urlRegex)("browseDefinition",e.bMT(2,7,w.browseDefinition))("img",w.img))},dependencies:[f.Jj,ch],encapsulation:2})}}return d})();function dD(d,_){if(1&d&&e.nrm(0,"span",2),2&d){const r=e.XpG(2);e.Y8G("innerHTML",r.separator,e.npT)}}function uD(d,_){if(1&d&&(e.j41(0,"a",1),e.EFF(1),e.DNE(2,dD,1,1,"span",2),e.k0s()),2&d){const r=_.$implicit,u=_.$index,w=_.$count,Y=e.XpG();e.Y8G("href",r.value,e.B4B)("target",Y.hasInternalLink(r.value)?"_self":"_blank"),e.R7$(),e.SpI(" ",Y.linktext||r.value,""),e.R7$(),e.vxM(u!==w-1?2:-1)}}let zp=(()=>{class d extends ch{static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-metadata-uri-values"]],inputs:{linktext:"linktext",mdValues:"mdValues",separator:"separator",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:3,consts:[[3,"label"],["role","link","tabindex","0",1,"dont-break-out",3,"href","target"],[3,"innerHTML"]],template:function(u,w){1&u&&(e.j41(0,"ds-metadata-field-wrapper",0),e.nI1(1,"translate"),e.Z7z(2,uD,3,4,"a",1,e.fX1),e.k0s()),2&u&&(e.Y8G("label",e.bMT(1,1,w.label)),e.R7$(2),e.Dyx(w.mdValues))},dependencies:[ja.Q,K.h,K.D9]})}}return d})(),fE=(()=>{class d extends dh{static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-uri-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[1,"item-page-field"],[3,"mdValues","separator","label"]],template:function(u,w){1&u&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-uri-values",1),e.k0s()),2&u&&(e.R7$(),e.Y8G("mdValues",null==w.item?null:w.item.allMetadata(w.fields))("separator",w.separator)("label",w.label))},dependencies:[zp],encapsulation:2})}}return d})();const sR=()=>[n.e(958).then(n.bind(n,60958)).then(d=>d.GeospatialMapComponent)];function hD(d,_){if(1&d&&e.nrm(0,"ds-geospatial-map",1),2&d){const r=e.XpG(2);e.Y8G("coordinates",r.points)("bbox",r.bboxes)("cluster",r.cluster)("layout","item")}}function oR(d,_){if(1&d&&(e.j41(0,"div")(1,"ds-metadata-field-wrapper",0),e.nI1(2,"translate"),e.DNE(3,hD,1,4),e.nv$(4,3,sR),e.g25(),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,1,r.label))}}let mE=(()=>{class d extends dh{constructor(){super(...arguments),this.pointFields=["dcterms.spatial"],this.bboxFields=["dcterms.spatial"],this.cluster=!1,this.hasValue=V.a4,this.isNotEmpty=V.hj}ngOnInit(){(0,V.a4)(this.item)&&(this.points=this.pointFields.map(r=>this.item?.allMetadataValues(r)).reduce((r,u)=>r.concat(u),[]).filter(Boolean),this.bboxes=this.bboxFields.map(r=>this.item?.allMetadataValues(r)).reduce((r,u)=>r.concat(u),[]).filter(Boolean))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-geospatial-item-page-field"]],inputs:{item:"item",label:"label",pointFields:"pointFields",bboxFields:"bboxFields",cluster:"cluster"},standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,consts:[[3,"label"],[2,"width","100%",3,"coordinates","bbox","cluster","layout"]],template:function(u,w){1&u&&e.DNE(0,oR,6,3,"div"),2&u&&e.vxM(w.isNotEmpty(w.points)||w.isNotEmpty(w.bboxes)?0:-1)},dependencies:[ja.Q,K.D9],encapsulation:2})}}return d})();const Iw=()=>["dc.contributor.author","dc.creator"],gE=()=>["journal.title"],_E=()=>["journal.identifier.issn"],vE=()=>["journalvolume.identifier.name"],yE=()=>["dc.publisher"],Gc=()=>["dc.description"],rR=()=>["dc.subject"],pD=()=>["dc.identifier.citation"],Kc=()=>["dc.identifier.uri"],Ec=()=>["coar.notify.endorsedBy"],Cc=()=>["datacite.relation.isReviewedBy"],fD=()=>["datacite.relation.isSupplementedBy"],mD=()=>["datacite.relation.isReferencedBy"],aR=d=>[d],gD=()=>["dcterms.spatial"];function lR(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}function cR(d,_){if(1&d&&(e.j41(0,"div",1)(1,"div",16),e.nrm(2,"ds-mirador-viewer",17),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("object",r.object)("searchable",r.iiifSearchEnabled)("query",e.bMT(3,3,r.iiifQuery$))}}function EE(d,_){if(1&d&&(e.j41(0,"ds-metadata-field-wrapper",5),e.nrm(1,"ds-thumbnail",18),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG();e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==r.object?null:r.object.thumbnail))}}function Ym(d,_){if(1&d&&(e.j41(0,"div",6),e.nrm(1,"ds-media-viewer",7),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("item",r.object)}}function dR(d,_){if(1&d&&e.nrm(0,"ds-geospatial-item-page-field",13),2&d){const r=e.XpG();e.Y8G("item",r.object)("label","item.page.places")("pointFields",e.lJ4(5,gD))("bboxFields",e.lJ4(6,gD))("cluster",!0)}}let Qm=class NO extends uh{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(NO)))(u||NO)}})()}static{this.\u0275cmp=e.VBU({type:NO,selectors:[["ds-publication"]],standalone:!0,features:[e.Vt3,e.aNF],decls:41,vars:89,consts:[[3,"back"],[1,"row"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"col-12","col-md-4"],[3,"hideIfNoTextContent"],[1,"mb-2"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-12","col-md-7"],[3,"parentItem","relationType","label"],[3,"item","fields","separator","label"],[3,"item","label","pointFields","bboxFields","cluster"],["role","button","role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"thumbnail"]],template:function(r,u){1&r&&(e.DNE(0,lR,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,cR,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",1)(7,"div",4),e.DNE(8,EE,3,4,"ds-metadata-field-wrapper",5)(9,Ym,2,1,"div",6),e.nrm(10,"ds-item-page-file-section",7)(11,"ds-item-page-date-field",7)(12,"ds-metadata-representation-list",8),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",9)(15,"ds-generic-item-page-field",9)(16,"ds-generic-item-page-field",9)(17,"ds-generic-item-page-field",9),e.k0s(),e.j41(18,"div",10),e.nrm(19,"ds-related-items",11),e.nI1(20,"translate"),e.nrm(21,"ds-related-items",11),e.nI1(22,"translate"),e.nrm(23,"ds-related-items",11),e.nI1(24,"translate"),e.nrm(25,"ds-item-page-abstract-field",7)(26,"ds-generic-item-page-field",9)(27,"ds-generic-item-page-field",12)(28,"ds-generic-item-page-field",9)(29,"ds-item-page-uri-field",9)(30,"ds-item-page-collections",7)(31,"ds-item-page-uri-field",9)(32,"ds-item-page-uri-field",9)(33,"ds-item-page-uri-field",9)(34,"ds-item-page-uri-field",9),e.DNE(35,dR,1,7,"ds-geospatial-item-page-field",13),e.j41(36,"div")(37,"a",14),e.nrm(38,"i",15),e.EFF(39),e.nI1(40,"translate"),e.k0s()()()()),2&r&&(e.vxM(e.bMT(1,62,u.showBackButton$)?0:-1),e.R7$(2),e.vxM(u.iiifEnabled?2:-1),e.R7$(2),e.Y8G("item",u.object),e.R7$(4),e.vxM(u.mediaViewer.image||u.mediaViewer.video?-1:8),e.R7$(),e.vxM(u.mediaViewer.image||u.mediaViewer.video?9:-1),e.R7$(),e.Y8G("item",u.object),e.R7$(),e.Y8G("item",u.object),e.R7$(),e.Y8G("parentItem",u.object)("itemType","Person")("metadataFields",e.lJ4(74,Iw))("label",e.bMT(13,64,"item.page.authors")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(75,gE))("label","publication.page.journal-title"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(76,_E))("label","publication.page.journal-issn"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(77,vE))("label","publication.page.volume-title"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(78,yE))("label","publication.page.publisher"),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isProjectOfPublication")("label",e.bMT(20,66,"item.page.projects")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isOrgUnitOfPublication")("label",e.bMT(22,68,"item.page.org-units")),e.R7$(2),e.Y8G("parentItem",u.object)("relationType","isJournalIssueOfPublication")("label",e.bMT(24,70,"item.page.journal-issue")),e.R7$(2),e.Y8G("item",u.object),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(79,Gc))("label","publication.page.description"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(80,rR))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(81,pD))("label","item.page.citation"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(82,Kc))("label","item.page.uri"),e.R7$(),e.Y8G("item",u.object),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(83,Ec))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(84,Cc))("label","item.page.review"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(85,fD))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(86,mD))("label","item.page.referenced"),e.R7$(),e.vxM(u.geospatialItemPageFieldsEnabled?35:-1),e.R7$(2),e.Y8G("routerLink",e.eq3(87,aR,u.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(40,72,"item.page.link.full")," "))},dependencies:[f.Jj,lE.r,hu.T,Vc,mE,Dv,pE,fE,ja.Q,uE,hh,v.Wk,hE,$c.V,dE,vv,pu.U,zo.T,K.h,K.D9],changeDetection:0})}};Qm=(0,$e.Cg)([(0,zn.VK)("Publication",kn.n.StandalonePage)],Qm);const _D=(d,_)=>({row:d,col:_}),vD=(d,_)=>({"col-auto":d,row:_}),yD=d=>({width:"var(--ds-thumbnail-max-width)","margin-bottom":d});function Tv(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",3)(1,"a",4)(2,"img",5),e.nI1(3,"async"),e.bIt("error",function(){e.eBV(r);const w=e.XpG(2);return e.Njj(w.showImage=!1)}),e.k0s()()()}if(2&d){const r=e.XpG(2),u=e.r8f(0),w=e.r8f(2);e.Y8G("ngClass",e.l_i(7,vD,"full"===r.variant,"small"===r.variant)),e.R7$(),e.Y8G("href",u,e.B4B),e.R7$(),e.Y8G("src",e.bMT(3,5,r.imgSrc$),e.B4B)("alt",w)("ngStyle",e.eq3(10,yD,"small"===r.variant?"1ch":"0"))}}function hR(d,_){if(1&d&&(e.j41(0,"div",2)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"a",6),e.EFF(5),e.k0s()()()),2&d){const r=e.XpG(2),u=e.r8f(0),w=e.r8f(2);e.Y8G("ngClass",e.l_i(6,_D,"small"===r.variant,"full"===r.variant)),e.R7$(2),e.SpI(" ",r.showDisclaimer?e.bMT(3,4,"item.page.cc.license.disclaimer"):""," "),e.R7$(2),e.Y8G("href",u,e.B4B),e.R7$(),e.JRh(w)}}function ED(d,_){if(1&d&&(e.j41(0,"div",0)(1,"ds-metadata-field-wrapper",1),e.nI1(2,"translate"),e.j41(3,"div",2),e.DNE(4,Tv,4,12,"div",3)(5,hR,6,9,"div",2),e.k0s()()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,5,"item.page.cc.license.title"))("hideIfNoTextContent",!1),e.R7$(2),e.Y8G("ngClass",e.l_i(7,_D,"full"===r.variant,"small"===r.variant)),e.R7$(),e.vxM(r.showImage?4:-1),e.R7$(),e.vxM(r.showName||!r.showImage?5:-1)}}let CD=(()=>{class d{constructor(r){this.configService=r,this.variant="small",this.showName=!0,this.showDisclaimer=!0,this.showImage=!0}ngOnInit(){this.name$=(0,V.a4)(this.ccLicenseNameField)?(0,Kn.of)(this.item.firstMetadataValue(this.ccLicenseNameField)):this.configService.findByPropertyName("cc.license.name").pipe((0,Mi.qD)(),(0,Mi.Bo)(),(0,In.T)(r=>r?.values?.[0]),(0,In.T)(r=>(0,V.a4)(r)?r:"dc.rights"),(0,In.T)(r=>this.item.firstMetadataValue(r))),this.uri$=(0,V.a4)(this.ccLicenseUriField)?(0,Kn.of)(this.item.firstMetadataValue(this.ccLicenseUriField)):this.configService.findByPropertyName("cc.license.uri").pipe((0,Mi.qD)(),(0,Mi.Bo)(),(0,In.T)(r=>r?.values?.[0]),(0,In.T)(r=>(0,V.a4)(r)?r:"dc.rights.uri"),(0,In.T)(r=>this.item.firstMetadataValue(r))),this.imgSrc$=this.uri$.pipe((0,In.T)(r=>function uR(d){const r=/.*creativecommons.org\/(licenses|publicdomain)\/([^/]+)/gm.exec(d??"")??[];return r.length>2?r[2]:null}(r)),(0,In.T)(r=>r?`assets/images/cc-licenses/${r}.png`:null))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(vi.ConfigurationDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-cc-license-field"]],inputs:{item:"item",variant:"variant",ccLicenseUriField:"ccLicenseUriField",ccLicenseNameField:"ccLicenseNameField",showName:"showName",showDisclaimer:"showDisclaimer"},standalone:!0,features:[e.aNF],decls:5,vars:7,consts:[[1,"item-page-field"],[3,"label","hideIfNoTextContent"],[3,"ngClass"],[2,"align-content","center",3,"ngClass"],["target","_blank",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"cc-image",3,"error","src","alt","ngStyle"],["target","_blank","id","cc-name",3,"href"]],template:function(u,w){if(1&u&&(e.SS7(0),e.nI1(1,"async"),e.SS7(2),e.nI1(3,"async"),e.DNE(4,ED,6,10,"div",0)),2&u){const Y=e.bH3(e.bMT(1,1,w.uri$));e.R7$(2);const De=e.bH3(e.bMT(3,4,w.name$));e.R7$(2),e.vxM(Y&&De?4:-1)}},dependencies:[f.Jj,ja.Q,f.YU,f.B3,K.h,K.D9],encapsulation:2})}}return d})();const bD=()=>["dc.contributor.author","dc.creator"],pR=()=>["journal.title"],fR=()=>["journal.identifier.issn"],DD=()=>["journalvolume.identifier.name"],mR=()=>["dc.publisher"],gR=()=>["dc.description"],_R=()=>["dc.subject"],vR=()=>["dc.identifier.citation"],TD=()=>["dc.identifier.uri"],yR=()=>["coar.notify.endorsedBy"],CE=()=>["datacite.relation.isReviewedBy"],Pw=()=>["datacite.relation.isSupplementedBy"],ER=()=>["datacite.relation.isReferencedBy"],bE=d=>[d],DE=()=>["dcterms.spatial"];function MD(d,_){if(1&d&&e.nrm(0,"ds-results-back-button",0),2&d){const r=e.XpG();e.Y8G("back",r.back)}}function OD(d,_){if(1&d&&(e.j41(0,"div",1)(1,"div",16),e.nrm(2,"ds-mirador-viewer",17),e.nI1(3,"async"),e.k0s()()),2&d){const r=e.XpG();e.R7$(2),e.Y8G("object",r.object)("searchable",r.iiifSearchEnabled)("query",e.bMT(3,3,r.iiifQuery$))}}function SD(d,_){if(1&d&&(e.j41(0,"ds-metadata-field-wrapper",5),e.nrm(1,"ds-thumbnail",18),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG();e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==r.object?null:r.object.thumbnail))}}function CR(d,_){if(1&d&&(e.j41(0,"div",6),e.nrm(1,"ds-media-viewer",7),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("item",r.object)}}function bR(d,_){if(1&d&&e.nrm(0,"ds-geospatial-item-page-field",12),2&d){const r=e.XpG();e.Y8G("item",r.object)("label","item.page.places")("pointFields",e.lJ4(5,DE))("bboxFields",e.lJ4(6,DE))("cluster",!0)}}let Jm=class FO extends uh{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(FO)))(u||FO)}})()}static{this.\u0275cmp=e.VBU({type:FO,selectors:[["ds-untyped-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:36,vars:76,consts:[[3,"back"],[1,"row"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"col-12","col-md-4"],[3,"hideIfNoTextContent"],[1,"mb-2"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-12","col-md-6"],[3,"item","fields","separator","label"],[3,"item","label","pointFields","bboxFields","cluster"],[3,"item","variant"],["role","button","role","button","tabindex","0",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"thumbnail"]],template:function(r,u){1&r&&(e.DNE(0,MD,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,OD,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",1)(7,"div",4),e.DNE(8,SD,3,4,"ds-metadata-field-wrapper",5)(9,CR,2,1,"div",6),e.nrm(10,"ds-item-page-file-section",7)(11,"ds-item-page-date-field",7)(12,"ds-metadata-representation-list",8),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",9)(15,"ds-generic-item-page-field",9)(16,"ds-generic-item-page-field",9)(17,"ds-generic-item-page-field",9),e.k0s(),e.j41(18,"div",10),e.nrm(19,"ds-item-page-abstract-field",7)(20,"ds-generic-item-page-field",9)(21,"ds-generic-item-page-field",11)(22,"ds-generic-item-page-field",9),e.DNE(23,bR,1,7,"ds-geospatial-item-page-field",12),e.nrm(24,"ds-item-page-uri-field",9)(25,"ds-item-page-collections",7)(26,"ds-item-page-uri-field",9)(27,"ds-item-page-uri-field",9)(28,"ds-item-page-uri-field",9)(29,"ds-item-page-uri-field",9)(30,"ds-item-page-cc-license-field",13),e.j41(31,"div")(32,"a",14),e.nrm(33,"i",15),e.EFF(34),e.nI1(35,"translate"),e.k0s()()()()),2&r&&(e.vxM(e.bMT(1,55,u.showBackButton$)?0:-1),e.R7$(2),e.vxM(u.iiifEnabled?2:-1),e.R7$(2),e.Y8G("item",u.object),e.R7$(4),e.vxM(u.mediaViewer.image||u.mediaViewer.video?-1:8),e.R7$(),e.vxM(u.mediaViewer.image||u.mediaViewer.video?9:-1),e.R7$(),e.Y8G("item",u.object),e.R7$(),e.Y8G("item",u.object),e.R7$(),e.Y8G("parentItem",u.object)("itemType","Person")("metadataFields",e.lJ4(61,bD))("label",e.bMT(13,57,"item.page.authors")),e.R7$(2),e.Y8G("item",u.object)("fields",e.lJ4(62,pR))("label","item.page.journal-title"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(63,fR))("label","item.page.journal-issn"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(64,DD))("label","item.page.volume-title"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(65,mR))("label","item.page.publisher"),e.R7$(2),e.Y8G("item",u.object),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(66,gR))("label","item.page.description"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(67,_R))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(68,vR))("label","item.page.citation"),e.R7$(),e.vxM(u.geospatialItemPageFieldsEnabled?23:-1),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(69,TD))("label","item.page.uri"),e.R7$(),e.Y8G("item",u.object),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(70,yR))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(71,CE))("label","item.page.review"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(72,Pw))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",u.object)("fields",e.lJ4(73,ER))("label","item.page.referenced"),e.R7$(),e.Y8G("item",u.object)("variant","full"),e.R7$(2),e.Y8G("routerLink",e.eq3(74,bE,u.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(35,59,"item.page.link.full")," "))},dependencies:[f.Jj,lE.r,hu.T,Vc,mE,Dv,CD,pE,fE,ja.Q,uE,v.Wk,hE,$c.V,dE,vv,pu.U,zo.T,K.h,K.D9],changeDetection:0})}};Jm=(0,$e.Cg)([(0,zn.VK)(el.q,kn.n.StandalonePage)],Jm);var DR=n(14597),Xp=n(94314),TE=n(79646),Rw=n(43764),TR=n(54498);function ID(d,_){}let Mv=(()=>{class d extends Rw.e{constructor(){super(...arguments),this.processCompleted=new e.bkB,this.inputNames=["item","object","option","workflowitem"],this.outputNames=["processCompleted"]}getComponent(){return(0,TR.u3)(this.option)}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-claimed-task-actions-loader"]],inputs:{item:"item",object:"object",option:"option",workflowitem:"workflowitem"},outputs:{processCompleted:"processCompleted"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(u,w){1&u&&e.DNE(0,ID,0,0,"ng-template",1,0,e.C5r)},dependencies:[nl.z],encapsulation:2})}}return d})();const MR=d=>[d];function OR(d,_){if(1&d){const r=e.RV6();e.j41(0,"ds-claimed-task-actions-loader",5),e.bIt("processCompleted",function(w){e.eBV(r);const Y=e.XpG(2);return e.Njj(Y.processCompleted.emit(w))}),e.k0s()}if(2&d){const r=_.$implicit,u=e.XpG(2);e.Y8G("item",u.item)("option",r)("object",u.object)("workflowitem",u.workflowitem)}}function ME(d,_){if(1&d&&(e.qex(0),e.j41(1,"div",1),e.Z7z(2,OR,1,4,"ds-claimed-task-actions-loader",2,e.fX1),e.j41(4,"button",3),e.nI1(5,"translate"),e.nrm(6,"i",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.bVm()),2&d){const r=_.ngVar,u=e.XpG();e.R7$(2),e.Dyx(null==r?null:r.options),e.R7$(2),e.FS9("ngbTooltip",e.bMT(5,3,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(7,MR,u.getWorkflowItemViewRoute(u.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(8,5,"submission.workflow.generic.view")," ")}}let OE=(()=>{class d extends TE.p{constructor(r,u,w,Y,De,Ie,tt){super(R_.T.type,r,u,w,Y,De,Ie),this.injector=r,this.router=u,this.notificationsService=w,this.translate=Y,this.searchService=De,this.requestService=Ie,this.workflowActionService=tt}ngOnInit(){this.initObjects(this.object),this.initAction(this.object)}initObjects(r){this.object=r}initAction(r){this.actionRD$=r.action}getWorkflowItemViewRoute(r){return(0,Em.XH)(r?.id)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(ea.I),e.rXU(K.c$),e.rXU(Xp.S),e.rXU(Za.B),e.rXU(DR.WorkflowActionDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-claimed-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[1,"mt-1","mb-3","space-children-mr"],[3,"item","option","object","workflowitem"],[1,"btn","btn-primary","workflow-view",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[3,"processCompleted","item","option","object","workflowitem"]],template:function(u,w){if(1&u&&(e.DNE(0,ME,9,9,"ng-container",0),e.nI1(1,"async")),2&u){let Y;e.Y8G("ngVar",null==(Y=e.bMT(1,1,w.actionRD$))?null:Y.payload)}},dependencies:[f.Jj,Mv,G.n8,G.md,v.Wk,K.h,K.D9,jc.r],styles:["ds-claimed-task-actions-loader[_ngcontent-%COMP%]:empty{margin:0!important}"]})}}return d})();const Ov=d=>[d];let Yp=(()=>{class d extends TE.p{constructor(r,u,w,Y,De,Ie){super(el.q.type,r,u,w,Y,De,Ie),this.injector=r,this.router=u,this.notificationsService=w,this.translate=Y,this.searchService=De,this.requestService=Ie}ngOnInit(){this.initPageRoute()}initObjects(r){this.object=r,this.initPageRoute()}initPageRoute(){this.itemPageRoute=(0,Wu._o)(this.object)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(ea.I),e.rXU(K.c$),e.rXU(Xp.S),e.rXU(Za.B))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[[1,"btn","btn-primary","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(u,w){1&u&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&u&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(7,Ov,w.itemPageRoute)),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workflow.generic.view"),"\n"))},dependencies:[G.n8,G.md,v.Wk,K.h,K.D9]})}}return d})();var SE=n(25580),Zm=n(79104),SR=n(62297);const IR=d=>[d];function PR(d,_){1&d&&(e.j41(0,"span"),e.nrm(1,"i",3),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function Sv(d,_){1&d&&(e.j41(0,"span"),e.nrm(1,"i",4),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.pool.claim"),""))}let Qp=(()=>{class d extends SR.i{constructor(r,u,w,Y,De,Ie,tt){super(A_.k.type,r,u,w,De,Ie,tt),this.injector=r,this.router=u,this.notificationsService=w,this.claimedTaskService=Y,this.translate=De,this.searchService=Ie,this.requestService=tt,this.subs=[]}claim(){this.subs.push(this.startActionExecution().pipe((0,D.s)(1)).subscribe())}initObjects(r){this.object=r}actionExecution(){return this.objectDataService.getPoolTaskEndpointById(this.object.id).pipe((0,Ni.n)(r=>this.claimedTaskService.claimTask(this.object.id,r)))}reloadObjectExecution(){return this.claimedTaskService.findByItem(this.itemUuid).pipe((0,D.s)(1))}initReloadAnchor(){this.itemUuid=this.item.uuid}ngOnDestroy(){this.subs.forEach(r=>r.unsubscribe())}getWorkflowItemViewRoute(r){return(0,Em.XH)(r?.id)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(ea.I),e.rXU(SE.ClaimedTaskDataService),e.rXU(K.c$),e.rXU(Xp.S),e.rXU(Za.B))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-pool-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:21,consts:[["type","button",1,"btn","btn-info","mt-1","mb-3",3,"click","ngbTooltip","dsBtnDisabled"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","ms-1","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-hand-paper"]],template:function(u,w){1&u&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nI1(2,"async"),e.bIt("click",function(){return w.claim()}),e.DNE(3,PR,4,3,"span"),e.nI1(4,"async"),e.DNE(5,Sv,4,3,"span"),e.nI1(6,"async"),e.k0s(),e.j41(7,"button",1),e.nI1(8,"translate"),e.nrm(9,"i",2),e.EFF(10),e.nI1(11,"translate"),e.k0s()),2&u&&(e.FS9("ngbTooltip",e.bMT(1,7,"submission.workflow.tasks.pool.claim_help")),e.Y8G("dsBtnDisabled",e.bMT(2,9,w.processing$)),e.R7$(3),e.vxM(e.bMT(4,11,w.processing$)?3:-1),e.R7$(2),e.vxM(!0!==e.bMT(6,13,w.processing$)?5:-1),e.R7$(2),e.FS9("ngbTooltip",e.bMT(8,15,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(19,IR,w.getWorkflowItemViewRoute(w.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(11,17,"submission.workflow.generic.view"),"\n"))},dependencies:[f.Jj,Zm.A,G.n8,G.md,v.Wk,K.h,K.D9]})}}return d})();const IE=d=>[d];let Iv=(()=>{class d extends TE.p{constructor(r,u,w,Y,De,Ie){super(ry.t.type,r,u,w,Y,De,Ie),this.injector=r,this.router=u,this.notificationsService=w,this.translate=Y,this.searchService=De,this.requestService=Ie}getWorkflowItemViewRoute(r){return(0,Em.XH)(r?.id)}initObjects(r){this.object=r}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(ea.I),e.rXU(K.c$),e.rXU(Xp.S),e.rXU(Za.B))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workflowitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(u,w){1&u&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&u&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(7,IE,w.getWorkflowItemViewRoute(w.object))),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workspace.generic.view"),"\n"))},dependencies:[G.n8,G.md,v.Wk,K.h,K.D9]})}}return d})();const PE=d=>[d];function RE(d,_){if(1&d&&(e.j41(0,"a",4),e.nI1(1,"translate"),e.nI1(2,"translate"),e.nrm(3,"i",6),e.EFF(4),e.nI1(5,"translate"),e.k0s()),2&d){const r=e.XpG();e.FS9("id","edit_"+r.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.edit-help")),e.Y8G("routerLink",e.eq3(11,PE,"/workspaceitems/"+r.object.id+"/edit")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.edit-help")),e.R7$(4),e.SpI(" ",e.bMT(5,9,"submission.workflow.generic.edit")," ")}}function PD(d,_){1&d&&(e.j41(0,"span"),e.nrm(1,"i",8),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function _h(d,_){1&d&&(e.j41(0,"span"),e.nrm(1,"i",9),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.generic.delete"),""))}function xR(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",7),e.nI1(1,"translate"),e.nI1(2,"translate"),e.bIt("click",function(w){e.eBV(r);const Y=e.XpG(),De=e.sdS(12);return w.preventDefault(),e.Njj(Y.confirmDiscard(De))}),e.DNE(3,PD,4,3,"span"),e.nI1(4,"async"),e.DNE(5,_h,4,3,"span"),e.nI1(6,"async"),e.k0s()}if(2&d){const r=e.XpG();e.FS9("id","delete_"+r.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.delete-help")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.delete-help")),e.R7$(3),e.vxM(e.bMT(4,9,r.processingDelete$)?3:-1),e.R7$(2),e.vxM(!0!==e.bMT(6,11,r.processingDelete$)?5:-1)}}function wR(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",10)(1,"div",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",12),e.bIt("click",function(){const w=e.eBV(r).dismiss;return e.Njj(w("cancel"))}),e.k0s()(),e.j41(5,"div",13)(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",14)(10,"button",15),e.bIt("click",function(){const w=e.eBV(r).close;return e.Njj(w("cancel"))}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",16),e.bIt("click",function(){const w=e.eBV(r).close;return e.Njj(w("ok"))}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()}2&d&&(e.R7$(2),e.JRh(e.bMT(3,4,"submission.general.discard.confirm.title")),e.R7$(5),e.JRh(e.bMT(8,6,"submission.general.discard.confirm.info")),e.R7$(4),e.JRh(e.bMT(12,8,"submission.general.discard.confirm.cancel")),e.R7$(3),e.JRh(e.bMT(15,10,"submission.general.discard.confirm.submit")))}let gu=(()=>{class d extends TE.p{constructor(r,u,w,Y,De,Ie,tt,Pt,bn){super(Zu.F.type,r,u,Y,De,Ie,tt),this.injector=r,this.router=u,this.modalService=w,this.notificationsService=Y,this.translate=De,this.searchService=Ie,this.requestService=tt,this.authService=Pt,this.authorizationService=bn,this.processingDelete$=new y.t(!1)}confirmDiscard(r){this.modalService.open(r).result.then(u=>{"ok"===u&&(this.processingDelete$.next(!0),this.objectDataService.delete(this.object.id).pipe((0,Mi.qD)()).subscribe(w=>{this.processingDelete$.next(!1),this.handleActionResponse(w.hasSucceeded)}))})}ngOnInit(){const r=this.authService.getAuthenticatedUserFromStore();this.canEditItem$=r.pipe((0,Ni.n)(u=>this.object?.item.pipe((0,Mi.qD)(),(0,Mi.Bo)(),(0,Ni.n)(w=>this.authorizationService.isAuthorized(Os._.CanEditItem,w?._links?.self.href,u.uuid)))))}initObjects(r){this.object=r}getWorkspaceItemViewRoute(r){return function RR(d){return new vs.t((0,Gi.cp)(),d,"view").toString()}(r?.id)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(G.Bq),e.rXU(ea.I),e.rXU(K.c$),e.rXU(Xp.S),e.rXU(Za.B),e.rXU(h.uR),e.rXU(Fo.AuthorizationDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workspaceitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:13,vars:18,consts:[["content",""],[1,"space-children-mr"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],["role","button",1,"btn","btn-primary","mt-1","mb-3","edit-btn",3,"id","ngbTooltip","routerLink"],["type","button",1,"btn","btn-danger","mt-1","mb-3",3,"id","ngbTooltip"],[1,"fa","fa-edit"],["type","button",1,"btn","btn-danger","mt-1","mb-3",3,"click","id","ngbTooltip"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title","text-danger","h4"],["type","button","id","delete_close","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete_cancel",1,"btn","btn-secondary",3,"click"],["type","button","id","delete_confirm",1,"btn","btn-danger",3,"click"]],template:function(u,w){1&u&&(e.j41(0,"div",1)(1,"button",2),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nrm(4,"i",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,RE,6,13,"a",4),e.nI1(8,"async"),e.DNE(9,xR,7,13,"button",5),e.nI1(10,"async"),e.k0s(),e.DNE(11,wR,16,12,"ng-template",null,0,e.C5r)),2&u&&(e.R7$(),e.FS9("ngbTooltip",e.bMT(2,6,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(16,PE,w.getWorkspaceItemViewRoute(w.object))),e.BMQ("aria-label",e.bMT(3,8,"submission.workspace.generic.view-help")),e.R7$(4),e.SpI(" ",e.bMT(6,10,"submission.workspace.generic.view")," "),e.R7$(2),e.vxM(e.bMT(8,12,w.canEditItem$)?7:-1),e.R7$(2),e.vxM(e.bMT(10,14,w.canEditItem$)?9:-1))},dependencies:[f.Jj,G.n8,G.md,v.Wk,K.h,K.D9]})}}return d})();var Aw=n(46213),Pv=n(93644),xw=n(76461),qm=n(7094),RD=n(2180),ww=n(90626),Jp=n(81829);n(98288);const LR=["*"];function NR(d,_){}let Rv=(()=>{class d extends T.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","label","metadata","placeholder","separator"]}getComponentName(){return"ItemDetailPreviewFieldComponent"}importThemedComponent(r){return n(4026)(`./${r}/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,98288))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:LR,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,NR,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();const FR=["*"],Av=()=>["dc.contributor","dc.creator","dc.contributor.*"];function xv(d,_){if(1&d&&e.nrm(0,"span",15),2&d){const r=e.XpG(6);e.FS9("innerHTML",r.separator,e.npT)}}function bl(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){const w=e.eBV(r).$implicit,Y=e.XpG(5);return e.Njj(Y.downloadBitstreamFile(null==w?null:w.uuid))}),e.j41(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"dsFileSize"),e.k0s(),e.DNE(6,xv,1,1,"span",15),e.k0s()}if(2&d){const r=_.$implicit,u=_.$index,w=_.$count,Y=e.XpG(5);e.R7$(2),e.JRh(Y.dsoNameService.getName(r)),e.R7$(2),e.SpI("(",e.bMT(5,3,null==r?null:r.sizeBytes),")"),e.R7$(2),e.vxM(u!==w-1?6:-1)}}function AD(d,_){if(1&d&&(e.j41(0,"div",11),e.Z7z(1,bl,7,5,"button",13,e.fX1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Dyx(r)}}function BR(d,_){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.JRh(e.bMT(2,1,"mydspace.results.no-files")))}function UR(d,_){if(1&d&&(e.j41(0,"ds-metadata-field-wrapper",8),e.nI1(1,"translate"),e.DNE(2,AD,3,0,"div",11)(3,BR,3,3,"span",12),e.k0s()),2&d){const r=_;e.Y8G("label",e.bMT(1,3,"item.page.files")),e.R7$(2),e.vxM((null==r?null:r.length)>0?2:-1),e.R7$(),e.vxM(0===(null==r?null:r.length)?3:-1)}}function eg(d,_){if(1&d&&(e.j41(0,"div"),e.nrm(1,"ds-item-page-title-field",3),e.j41(2,"div",4)(3,"div",5)(4,"ds-metadata-field-wrapper",6),e.nrm(5,"ds-thumbnail",7),e.nI1(6,"async"),e.k0s(),e.DNE(7,UR,4,5,"ds-metadata-field-wrapper",8),e.nI1(8,"async"),e.nrm(9,"ds-item-detail-preview-field",9),e.nI1(10,"translate"),e.nI1(11,"translate"),e.nrm(12,"ds-item-detail-preview-field",9),e.nI1(13,"translate"),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",10),e.nrm(16,"ds-item-detail-preview-field",9),e.nI1(17,"translate"),e.nI1(18,"translate"),e.nrm(19,"ds-item-detail-preview-field",9),e.nI1(20,"translate"),e.nI1(21,"translate"),e.j41(22,"div"),e.SdG(23),e.k0s()()()()),2&d){let r;const u=e.XpG(2);e.R7$(),e.Y8G("item",u.item),e.R7$(3),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(6,28,null==u.item?null:u.item.thumbnail)),e.R7$(2),e.vxM((r=e.bMT(8,30,u.bitstreams$))?7:-1,r),e.R7$(2),e.Y8G("item",u.item)("object",u.object)("label",e.bMT(10,32,"item.page.date"))("metadata","dc.date.issued")("separator",u.separator)("placeholder",e.bMT(11,34,"mydspace.results.no-date")),e.R7$(3),e.Y8G("item",u.item)("object",u.object)("label",e.bMT(13,36,"item.page.authors"))("metadata",e.lJ4(48,Av))("separator",u.separator)("placeholder",e.bMT(14,38,"mydspace.results.no-authors")),e.R7$(4),e.Y8G("item",u.item)("object",u.object)("label",e.bMT(17,40,"item.page.abstract"))("metadata","dc.description.abstract")("separator",u.separator)("placeholder",e.bMT(18,42,"mydspace.results.no-abstract")),e.R7$(3),e.Y8G("item",u.item)("object",u.object)("label",e.bMT(20,44,"item.page.uri"))("metadata","dc.identifier.uri")("separator",u.separator)("placeholder",e.bMT(21,46,"mydspace.results.no-uri"))}}function tg(d,_){if(1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-badges",2),e.DNE(2,eg,24,49,"div"),e.k0s()),2&d){const r=e.XpG();e.Y8G("@fadeInOut",void 0),e.R7$(),e.Y8G("object",r.item)("context",r.badgeContext),e.R7$(),e.vxM(r.item?2:-1)}}function jR(d,_){if(1&d&&e.nrm(0,"ds-item-submitter",1),2&d){const r=e.XpG();e.Y8G("object",r.object.indexableObject)}}let Zp=(()=>{class d{constructor(r,u,w,Y){this.fileService=r,this.halService=u,this.bitstreamDataService=w,this.dsoNameService=Y,this.showSubmitter=!1,this.separator=", "}ngOnChanges(r){(0,V.a4)(r.item)&&(this.bitstreams$=this.getFiles())}downloadBitstreamFile(r){this.halService.getEndpoint("bitstreams").pipe((0,Bu.$)()).subscribe(u=>{this.fileService.retrieveFileDownloadLink(`${u}/${r}/content`)})}getFiles(){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{elementsPerPage:Number.MAX_SAFE_INTEGER}).pipe((0,Mi.Ar)())}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(xw.E),e.rXU(qm.Y),e.rXU(ta.BitstreamDataService),e.rXU(Oi.f))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-detail-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:FR,decls:2,vars:2,consts:[[1,"item-page"],[3,"object"],[3,"object","context"],[3,"item"],[1,"row","mb-1"],[1,"col-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"label"],[3,"item","object","label","metadata","separator","placeholder"],[1,"col-12","col-md-6"],[1,"file-section"],[1,"text-muted"],[1,"btn","btn-link"],[1,"btn","btn-link",3,"click"],[3,"innerHTML"]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,tg,3,4,"div",0)(1,jR,1,1,"ds-item-submitter",1)),2&u&&(e.vxM(w.item?0:-1),e.R7$(),e.vxM(w.showSubmitter?1:-1))},dependencies:[f.Jj,Jp.s,ww.s,ja.Q,na.F,Rv,$c.V,zo.T,K.h,K.D9],data:{animation:[RD.Ws]}})}}return d})(),qp=(()=>{class d extends or.C{ngOnInit(){(0,V.a4)(this.object)&&(this.dso=this.object.indexableObject)}allMetadataValues(r){return pm.O.allValues([this.object.hitHighlights,this.dso.metadata],r)}firstMetadataValue(r){return pm.O.firstValue([this.object.hitHighlights,this.dso.metadata],r)}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(u,w){},encapsulation:2})}}return d})();function ng(d,_){if(1&d){const r=e.RV6();e.nrm(0,"ds-item-detail-preview",0),e.j41(1,"ds-claimed-task-actions",1),e.bIt("processCompleted",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.reloadedObject.emit(w.reloadedObject))}),e.k0s()}if(2&d){const r=e.XpG();e.Y8G("item",null==r.item$?null:r.item$.value)("object",r.object)("showSubmitter",r.showSubmitter)("badgeContext",r.badgeContext),e.R7$(),e.Y8G("item",r.item$.value)("object",r.dso)("workflowitem",r.workflowitem$.value)}}let wv=class A2 extends qp{constructor(_,r,u){super(_),this.dsoNameService=_,this.linkService=r,this.objectCache=u,this.item$=new y.t(null),this.showSubmitter=!0,this.badgeContext=Ui.o.MyDSpaceValidation,this.workflowitem$=new y.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,as.s)("workflowitem",{},(0,as.s)("item",{},(0,as.s)("bundles")),(0,as.s)("submitter")),(0,as.s)("action")),this.dso.workflowitem.pipe((0,Mi.qD)(),(0,Tr.Z)(_=>_.hasSucceeded?(this.workflowitem$.next(_.payload),_.payload.item.pipe((0,Mi.qD)())):Dr.w),(0,Vi.M)(_=>{(0,V.hj)(_)&&_.hasSucceeded&&this.item$.next(_.payload)})).subscribe()}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(r){return new(r||A2)(e.rXU(Oi.f),e.rXU(Vs._),e.rXU(Ja.$))}}static{this.\u0275cmp=e.VBU({type:A2,selectors:[["ds-claimed-task-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(r,u){1&r&&(e.DNE(0,ng,2,7),e.nI1(1,"async"),e.nI1(2,"async")),2&r&&e.vxM(e.bMT(1,1,u.workflowitem$)&&e.bMT(2,3,u.item$)?0:-1)},dependencies:[f.Jj,OE,Zp],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};wv=(0,$e.Cg)([(0,zn.VK)(Pv.y,kn.n.DetailedListElement),(0,$e.Sn)("design:paramtypes",[Oi.f,Vs._,Ja.$])],wv);let Lv=class BO extends qp{constructor(){super(...arguments),this.badgeContext=Ui.o.MyDSpaceArchived}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(BO)))(u||BO)}})()}static{this.\u0275cmp=e.VBU({type:BO,selectors:[["ds-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(r,u){1&r&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-item-actions",1),2&r&&(e.Y8G("item",u.dso)("object",u.object)("badgeContext",u.badgeContext),e.R7$(),e.Y8G("object",u.dso))},dependencies:[Yp,Zp],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Lv=(0,$e.Cg)([(0,zn.VK)(yl.H,kn.n.DetailedListElement,Ui.o.Workspace),(0,zn.VK)(yl.H,kn.n.DetailedListElement,Ui.o.Workflow)],Lv);var xD=n(55621);function wD(d,_){if(1&d){const r=e.RV6();e.nrm(0,"ds-item-detail-preview",0),e.j41(1,"ds-pool-task-actions",1),e.bIt("processCompleted",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.reloadedObject.emit(w.reloadedObject))}),e.k0s()}if(2&d){const r=e.XpG();e.Y8G("item",null==r.item$?null:r.item$.value)("object",r.object)("showSubmitter",r.showSubmitter)("badgeContext",r.badgeContext),e.R7$(),e.Y8G("item",r.item$.value)("object",r.dso)("workflowitem",r.workflowitem$.value)}}let ig=class x2 extends qp{constructor(_,r,u){super(_),this.dsoNameService=_,this.linkService=r,this.objectCache=u,this.item$=new y.t(null),this.showSubmitter=!0,this.badgeContext=Ui.o.MyDSpaceWaitingController,this.workflowitem$=new y.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,as.s)("workflowitem",{},(0,as.s)("item",{},(0,as.s)("bundles")),(0,as.s)("submitter")),(0,as.s)("action")),this.dso.workflowitem.pipe((0,Mi.qD)(),(0,Tr.Z)(_=>_.hasSucceeded?(this.workflowitem$.next(_.payload),_.payload.item.pipe((0,Mi.qD)())):Dr.w),(0,Vi.M)(_=>{(0,V.hj)(_)&&_.hasSucceeded&&this.item$.next(_.payload)})).subscribe()}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(r){return new(r||x2)(e.rXU(Oi.f),e.rXU(Vs._),e.rXU(Ja.$))}}static{this.\u0275cmp=e.VBU({type:x2,selectors:[["ds-pool-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(r,u){1&r&&(e.DNE(0,wD,2,7),e.nI1(1,"async"),e.nI1(2,"async")),2&r&&e.vxM(e.bMT(1,1,u.workflowitem$)&&e.bMT(2,3,u.item$)?0:-1)},dependencies:[f.Jj,Zp,Qp],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};ig=(0,$e.Cg)([(0,zn.VK)(xD.d,kn.n.DetailedListElement),(0,$e.Sn)("design:paramtypes",[Oi.f,Vs._,Ja.$])],ig);let sg=class w2 extends qp{constructor(_,r){super(_),this.dsoNameService=_,this.linkService=r,this.badgeContext=Ui.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,as.s)("item")),this.initItem(this.dso.item)}initItem(_){_.pipe((0,uu.I)(r=>r.hasSucceeded&&(0,V.EA)(r.payload))).subscribe(r=>{this.item=r.payload})}static{this.\u0275fac=function(r){return new(r||w2)(e.rXU(Oi.f),e.rXU(Vs._))}}static{this.\u0275cmp=e.VBU({type:w2,selectors:[["ds-workflow-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(r,u){1&r&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workflowitem-actions",1),2&r&&(e.Y8G("item",u.item)("object",u.object)("badgeContext",u.badgeContext),e.R7$(),e.Y8G("object",u.dso))},dependencies:[Zp,Iv],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};sg=(0,$e.Cg)([(0,zn.VK)(k_.q,kn.n.DetailedListElement),(0,$e.Sn)("design:paramtypes",[Oi.f,Vs._])],sg);let Nv=class L2 extends qp{constructor(_,r){super(_),this.dsoNameService=_,this.linkService=r,this.badgeContext=Ui.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,as.s)("item")),this.initItem(this.dso.item)}initItem(_){_.pipe((0,uu.I)(r=>r.hasSucceeded&&(0,V.EA)(r.payload))).subscribe(r=>{this.item=r.payload})}static{this.\u0275fac=function(r){return new(r||L2)(e.rXU(Oi.f),e.rXU(Vs._))}}static{this.\u0275cmp=e.VBU({type:L2,selectors:[["ds-workspace-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(r,u){1&r&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workspaceitem-actions",1),2&r&&(e.Y8G("item",u.item)("object",u.object)("badgeContext",u.badgeContext),e.R7$(),e.Y8G("object",u.dso))},dependencies:[Zp,gu],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Nv=(0,$e.Cg)([(0,zn.VK)(Mm.I,kn.n.DetailedListElement),(0,$e.Sn)("design:paramtypes",[Oi.f,Vs._])],Nv);const AE=d=>["/collections/",d];function kR(d,_){if(1&d&&(e.j41(0,"a",1),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",7),e.nI1(3,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.Y8G("target",u.linkType===u.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,AE,u.object.id)),e.BMQ("rel",u.linkType===u.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(r=e.bMT(3,8,u.object.logo))?null:r.payload)("limitWidth",!1)}}function Nw(d,_){if(1&d&&(e.j41(0,"span",2),e.nrm(1,"ds-thumbnail",7),e.nI1(2,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(r=e.bMT(2,2,u.object.logo))?null:r.payload)("limitWidth",!1)}}function Fw(d,_){if(1&d&&(e.j41(0,"p",5),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.object.shortDescription)}}function Bw(d,_){if(1&d&&(e.j41(0,"div",6)(1,"a",8),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,AE,r.object.id)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let xE=class N2 extends or.C{constructor(_,r){super(_),this.dsoNameService=_,this.linkService=r}set object(_){this._object=_,(0,V.a4)(this._object)&&(0,V.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,as.s)("logo"))}get object(){return this._object}static{this.\u0275fac=function(r){return new(r||N2)(e.rXU(Oi.f),e.rXU(Vs._))}}static{this.\u0275cmp=e.VBU({type:N2,selectors:[["ds-collection-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],[1,"card-img-top",3,"target","routerLink"],[1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,kR,4,12,"a",1)(2,Nw,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,Fw,2,1,"p",5)(7,Bw,4,8,"div",6),e.k0s()()),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(3),e.JRh(u.dsoNameService.getName(u.object)),e.R7$(),e.vxM(u.object.shortDescription?6:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?7:-1))},dependencies:[f.Jj,v.Wk,zo.T,K.h,K.D9]})}};xE=(0,$e.Cg)([(0,zn.VK)(wc.p,kn.n.GridElement),(0,$e.Sn)("design:paramtypes",[Oi.f,Vs._])],xE);const wE=d=>["/communities/",d];function Fv(d,_){if(1&d&&(e.j41(0,"a",1),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",7),e.nI1(3,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.Y8G("target",u.linkType===u.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,wE,u.object.id)),e.BMQ("rel",u.linkType===u.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(r=e.bMT(3,8,u.object.logo))?null:r.payload)("limitWidth",!1)}}function VR(d,_){if(1&d&&(e.j41(0,"span",2),e.nrm(1,"ds-thumbnail",7),e.nI1(2,"async"),e.k0s()),2&d){let r;const u=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(r=e.bMT(2,2,u.object.logo))?null:r.payload)("limitWidth",!1)}}function $R(d,_){if(1&d&&(e.j41(0,"p",5),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.object.shortDescription)}}function LD(d,_){if(1&d&&(e.j41(0,"div",6)(1,"a",8),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const r=e.XpG();e.R7$(),e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,wE,r.object.id)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let _u=class F2 extends or.C{constructor(_,r){super(_),this.dsoNameService=_,this.linkService=r}set object(_){this._object=_,(0,V.a4)(this._object)&&(0,V.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,as.s)("logo"))}get object(){return this._object}static{this.\u0275fac=function(r){return new(r||F2)(e.rXU(Oi.f),e.rXU(Vs._))}}static{this.\u0275cmp=e.VBU({type:F2,selectors:[["ds-community-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],[1,"card-img-top",3,"target","routerLink"],[1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-center"],[3,"thumbnail","limitWidth"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,Fv,4,12,"a",1)(2,VR,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,$R,2,1,"p",5)(7,LD,4,8,"div",6),e.k0s()()),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(3),e.JRh(u.dsoNameService.getName(u.object)),e.R7$(),e.vxM(u.object.shortDescription?6:-1),e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?7:-1))},dependencies:[f.Jj,v.Wk,zo.T,K.h,K.D9]})}};_u=(0,$e.Cg)([(0,zn.VK)(pc.E,kn.n.GridElement),(0,$e.Sn)("design:paramtypes",[Oi.f,Vs._])],_u);const ND=["*","*"],WR=()=>({}),GR=(d,_)=>({indexableObject:d,hitHighlights:_});let Bv=class UO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(UO)))(u||UO)}})()}static{this.\u0275cmp=e.VBU({type:UO,selectors:[["ds-item-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ND,decls:3,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(r,u){1&r&&(e.NAR(ND),e.j41(0,"ds-item-search-result-grid-element",0),e.SdG(1),e.SdG(2,1),e.k0s()),2&r&&e.Y8G("showLabel",u.showLabel)("object",e.l_i(4,GR,u.object,e.lJ4(3,WR)))("linkType",u.linkType)},dependencies:[yc],data:{animation:[lu]}})}};Bv=(0,$e.Cg)([(0,zn.VK)("Publication",kn.n.GridElement),(0,zn.VK)(el.q,kn.n.GridElement)],Bv);let FD=class jO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(jO)))(u||jO)}})()}static{this.\u0275cmp=e.VBU({type:jO,selectors:[["ds-bitstream-list-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,template:function(r,u){1&r&&e.EFF(0),2&r&&e.SpI(" ",u.object.name," ")}})}};FD=(0,$e.Cg)([(0,zn.VK)(cC._,kn.n.ListElement,Ui.o.Bitstream)],FD);var BD=n(16743),LE=n(31);const KR=()=>[];function HR(d,_){if(1&d&&(e.j41(0,"a",1),e.nI1(1,"async"),e.EFF(2),e.k0s()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.lJ4(7,KR))("queryParams",e.bMT(1,5,r.queryParams$)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(2),e.SpI(" ",r.object.value," ")}}function og(d,_){if(1&d&&(e.j41(0,"span",2),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.SpI(" ",r.object.value," ")}}let NE=class B2 extends or.C{constructor(_,r,u){super(_),this.dsoNameService=_,this.paginationService=r,this.routeService=u}ngOnInit(){this.queryParams$=this.getQueryParams()}getQueryParams(){const _=this.paginationService.getPageParam(BD.v0);return this.routeService.getQueryParameterValue(_).pipe((0,In.T)(r=>({value:this.object.value,authority:this.object.authority?this.object.authority:void 0,startsWith:void 0,[_]:null,[BD.v0+".return"]:r})))}static{this.\u0275fac=function(r){return new(r||B2)(e.rXU(Oi.f),e.rXU(LE.m),e.rXU(tv.v$))}}static{this.\u0275cmp=e.VBU({type:B2,selectors:[["ds-browse-entry-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:3,consts:[[1,"d-flex","flex-row"],["role","link","tabindex","0",1,"lead",3,"target","routerLink","queryParams"],[1,"lead"],[1,"pe-2"],[1,"badge","rounded-pill","bg-secondary","align-self-center","ps-2","pe-2"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,HR,3,8,"a",1)(2,og,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.j41(5,"span",4),e.EFF(6),e.k0s()()),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(4),e.JRh(u.object.count))},dependencies:[f.Jj,v.Wk]})}};NE=(0,$e.Cg)([(0,zn.VK)(ic,kn.n.ListElement),(0,$e.Sn)("design:paramtypes",[Oi.f,LE.m,tv.v$])],NE);let Uv=class kO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(kO)))(u||kO)}})()}static{this.\u0275cmp=e.VBU({type:kO,selectors:[["ds-bundle-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(r,u){1&r&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&r&&(e.R7$(),e.JRh(u.dsoNameService.getName(u.object)))},encapsulation:2})}};Uv=(0,$e.Cg)([(0,zn.VK)(T_.N,kn.n.ListElement)],Uv);const UD=d=>[d];function zR(d,_){if(1&d&&(e.j41(0,"a",1),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,UD,"/collections/"+r.object.id)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",r.dsoNameService.getName(r.object)," ")}}function jD(d,_){if(1&d&&(e.j41(0,"span",2),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.SpI(" ",r.dsoNameService.getName(r.object)," ")}}function XR(d,_){if(1&d&&(e.j41(0,"span",4),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.object.archivedItemsCount)}}function FE(d,_){if(1&d&&(e.j41(0,"div",5),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.SpI(" ",r.object.shortDescription," ")}}let BE=class VO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(VO)))(u||VO)}})()}static{this.\u0275cmp=e.VBU({type:VO,selectors:[["ds-collection-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["role","link","tabindex","0",1,"lead",3,"target","routerLink"],[1,"lead"],[1,"pe-2"],[1,"badge","rounded-pill","bg-secondary","align-self-center","archived-items-lead","ps-2","pe-2"],[1,"text-muted","abstract-text"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,zR,2,6,"a",1)(2,jD,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,XR,2,1,"span",4),e.k0s(),e.DNE(6,FE,2,1,"div",5)),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(3),e.vxM(u.object.archivedItemsCount>=0?5:-1),e.R7$(),e.vxM(u.object.shortDescription?6:-1))},dependencies:[v.Wk]})}};BE=(0,$e.Cg)([(0,zn.VK)(wc.p,kn.n.ListElement)],BE);const kD=d=>[d];function VD(d,_){if(1&d&&(e.j41(0,"a",1),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.Y8G("target",r.linkType===r.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,kD,"/communities/"+r.object.id)),e.BMQ("rel",r.linkType===r.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",r.dsoNameService.getName(r.object)," ")}}function YR(d,_){if(1&d&&(e.j41(0,"span",2),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.SpI(" ",r.dsoNameService.getName(r.object)," ")}}function QR(d,_){if(1&d&&(e.j41(0,"span",4),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.object.archivedItemsCount)}}function JR(d,_){if(1&d&&(e.j41(0,"div",5),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.SpI(" ",r.object.shortDescription," ")}}let rg=class U2 extends or.C{constructor(_){super(_),this.dsoNameService=_}static{this.\u0275fac=function(r){return new(r||U2)(e.rXU(Oi.f))}}static{this.\u0275cmp=e.VBU({type:U2,selectors:[["ds-community-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["role","link","tabindex","0",1,"lead",3,"target","routerLink"],[1,"lead"],[1,"pe-2"],[1,"badge","rounded-pill","bg-secondary","align-self-center","archived-items-lead","ps-2","pe-2"],[1,"text-muted","abstract-text"]],template:function(r,u){1&r&&(e.j41(0,"div",0),e.DNE(1,VD,2,6,"a",1)(2,YR,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,QR,2,1,"span",4),e.k0s(),e.DNE(6,JR,2,1,"div",5)),2&r&&(e.R7$(),e.vxM(u.linkType!==u.linkTypes.None?1:-1),e.R7$(),e.vxM(u.linkType===u.linkTypes.None?2:-1),e.R7$(3),e.vxM(u.object.archivedItemsCount>=0?5:-1),e.R7$(),e.vxM(u.object.shortDescription?6:-1))},dependencies:[v.Wk]})}};rg=(0,$e.Cg)([(0,zn.VK)(pc.E,kn.n.ListElement),(0,$e.Sn)("design:paramtypes",[Oi.f])],rg);let UE=class $O extends or.C{ngOnChanges(){(0,V.a4)(this.object)&&(this.itemSearchResult=Object.assign(new yl.H,{indexableObject:this.object}))}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo($O)))(u||$O)}})()}static{this.\u0275cmp=e.VBU({type:$O,selectors:[["ds-item-list-element"]],standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:1,vars:3,consts:[[3,"object","viewMode","linkType"]],template:function(r,u){1&r&&e.nrm(0,"ds-listable-object-component-loader",0),2&r&&e.Y8G("object",u.itemSearchResult)("viewMode",u.viewMode)("linkType",u.linkType)},dependencies:[oh.v]})}};UE=(0,$e.Cg)([(0,zn.VK)("Publication",kn.n.ListElement),(0,zn.VK)(el.q,kn.n.ListElement)],UE);var $D=n(52467);let jv=class WO extends or.C{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(WO)))(u||WO)}})()}static{this.\u0275cmp=e.VBU({type:WO,selectors:[["ds-listable-notification-object"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:6,template:function(r,u){1&r&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.ZvI("alert d-block ",null==u.object?null:u.object.notificationType," m-0"),e.R7$(),e.JRh(e.bMT(2,4,null==u.object?null:u.object.message)))},dependencies:[K.h,K.D9]})}};jv=(0,$e.Cg)([(0,zn.VK)($0.t,kn.n.ListElement),(0,zn.VK)($D.t.value,kn.n.ListElement)],jv);var ZR=n(71622);n(85401);const qR=["*"];function eA(d,_){}let vh=(()=>{class d extends T.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","badgeContext","showSubmitter","workflowItem"]}getComponentName(){return"ItemListPreviewComponent"}importThemedComponent(r){return n(71931)(`./${r}/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,85401))}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:qR,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(u,w){1&u&&(e.NAR(),e.DNE(0,eA,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();function tA(d,_){if(1&d&&(e.nrm(0,"ds-item-list-preview",3),e.nI1(1,"async")),2&d){let r;const u=e.XpG().ngVar,w=e.XpG();e.Y8G("item",null==(r=e.bMT(1,4,null==u?null:u.item))?null:r.payload)("object",w.object)("badgeContext",w.badgeContext)("showSubmitter",w.showSubmitter)}}function nA(d,_){if(1&d&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,tA,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&d){const r=_.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-approved-search-result-list-element.title")),e.R7$(2),e.vxM(r?5:-1)}}let ag=class j2 extends Da.P{constructor(_,r,u,w){super(r,u,w),this.linkService=_,this.truncatableService=r,this.dsoNameService=u,this.appConfig=w,this.showSubmitter=!0,this.badgeContext=Ui.o.MyDSpaceApproved}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,as.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,as.s)("item"),(0,as.s)("submitter")),(0,as.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(r){return new(r||j2)(e.rXU(Vs._),e.rXU($s.F),e.rXU(Oi.f),e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:j2,selectors:[["ds-claimed-approved-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-success","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter"]],template:function(r,u){if(1&r&&(e.DNE(0,nA,6,4,"ng-container",0),e.nI1(1,"async")),2&r){let w;e.Y8G("ngVar",null==(w=e.bMT(1,1,u.workflowitemRD$))?null:w.payload)}},dependencies:[f.Jj,vh,K.h,K.D9,jc.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};ag=(0,$e.Cg)([(0,zn.VK)(ZR.t,kn.n.ListElement),(0,$e.Sn)("design:paramtypes",[Vs._,$s.F,Oi.f,Object])],ag);var WD=n(64537);function GD(d,_){if(1&d&&(e.nrm(0,"ds-item-list-preview",3),e.nI1(1,"async")),2&d){let r;const u=e.XpG().ngVar,w=e.XpG();e.Y8G("item",null==(r=e.bMT(1,4,null==u?null:u.item))?null:r.payload)("object",w.object)("badgeContext",w.badgeContext)("showSubmitter",w.showSubmitter)}}function iA(d,_){if(1&d&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,GD,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&d){const r=_.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-search-result-list-element.title")),e.R7$(2),e.vxM(r?5:-1)}}let ef=class k2 extends Da.P{constructor(_,r,u,w){super(r,u,w),this.linkService=_,this.truncatableService=r,this.dsoNameService=u,this.appConfig=w,this.showSubmitter=!0,this.badgeContext=Ui.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,as.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,as.s)("item"),(0,as.s)("submitter")),(0,as.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(r){return new(r||k2)(e.rXU(Vs._),e.rXU($s.F),e.rXU(Oi.f),e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:k2,selectors:[["ds-claimed-declined-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-secondary","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter"]],template:function(r,u){if(1&r&&(e.DNE(0,iA,6,4,"ng-container",0),e.nI1(1,"async")),2&r){let w;e.Y8G("ngVar",null==(w=e.bMT(1,1,u.workflowitemRD$))?null:w.payload)}},dependencies:[f.Jj,vh,K.h,K.D9,jc.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};ef=(0,$e.Cg)([(0,zn.VK)(WD.q,kn.n.ListElement),(0,$e.Sn)("design:paramtypes",[Vs._,$s.F,Oi.f,Object])],ef);var KD=n(87083);function sA(d,_){if(1&d&&(e.nrm(0,"ds-item-list-preview",3),e.nI1(1,"async")),2&d){let r;const u=e.XpG().ngVar,w=e.XpG();e.Y8G("item",null==(r=e.bMT(1,4,null==u?null:u.item))?null:r.payload)("object",w.object)("badgeContext",w.badgeContext)("showSubmitter",w.showSubmitter)}}function HD(d,_){if(1&d&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,sA,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&d){const r=_.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-task-search-result-list-element.title")),e.R7$(2),e.vxM(r?5:-1)}}let lg=class V2 extends Da.P{constructor(_,r,u,w){super(r,u,w),this.linkService=_,this.truncatableService=r,this.dsoNameService=u,this.appConfig=w,this.showSubmitter=!0,this.badgeContext=Ui.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,as.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,as.s)("item"),(0,as.s)("submitter")),(0,as.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(r){return new(r||V2)(e.rXU(Vs._),e.rXU($s.F),e.rXU(Oi.f),e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:V2,selectors:[["ds-claimed-declined-task-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-warning","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter"]],template:function(r,u){if(1&r&&(e.DNE(0,HD,6,4,"ng-container",0),e.nI1(1,"async")),2&r){let w;e.Y8G("ngVar",null==(w=e.bMT(1,1,u.workflowitemRD$))?null:w.payload)}},dependencies:[f.Jj,vh,K.h,K.D9,jc.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};lg=(0,$e.Cg)([(0,zn.VK)(KD.H,kn.n.ListElement),(0,$e.Sn)("design:paramtypes",[Vs._,$s.F,Oi.f,Object])],lg);var tf=n(72947);function zD(d,_){if(1&d&&(e.j41(0,"div",3),e.nrm(1,"div",3),e.j41(2,"div",3)(3,"div",5),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&d){const r=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",r," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function oA(d,_){if(1&d&&(e.qex(0),e.DNE(1,zD,6,7,"div",3),e.bVm()),2&d){const r=_.ngVar;e.R7$(),e.vxM(r>0?1:-1)}}function jE(d,_){if(1&d){const r=e.RV6();e.nrm(0,"ds-item-list-preview",0),e.DNE(1,oA,2,1,"ng-container",1),e.nI1(2,"async"),e.j41(3,"div",2)(4,"div",3)(5,"ds-claimed-task-actions",4),e.bIt("processCompleted",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.reloadedObject.emit(w.reloadedObject))}),e.k0s()()()}if(2&d){let r;const u=e.XpG();e.Y8G("item",u.item$.value)("object",u.object)("showSubmitter",u.showSubmitter)("badgeContext",u.badgeContext)("workflowItem",u.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(r=e.bMT(2,10,u.duplicates$))?null:r.length),e.R7$(3),e.Y8G("ngClass",u.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("item",u.item$.value)("object",u.dso)("workflowitem",u.workflowitem$.value)}}let cg=class $2 extends Da.P{constructor(_,r,u,w,Y,De,Ie){super(r,u,Ie),this.linkService=_,this.truncatableService=r,this.dsoNameService=u,this.objectCache=w,this.configService=Y,this.duplicateDataService=De,this.appConfig=Ie,this.showSubmitter=!0,this.badgeContext=Ui.o.MyDSpaceValidation,this.item$=new y.t(null),this.workflowitem$=new y.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,as.s)("workflowitem",{},(0,as.s)("item",{},(0,as.s)("bundles")),(0,as.s)("submitter")),(0,as.s)("action")),this.dso.workflowitem.pipe((0,Mi.qD)(),(0,Tr.Z)(_=>_.hasSucceeded?(this.workflowitem$.next(_.payload),_.payload.item.pipe((0,Mi.qD)())):Dr.w),(0,Vi.M)(_=>{(0,V.hj)(_)&&_.hasSucceeded&&this.item$.next(_.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,Ns.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,Mi.qD)(),(0,In.T)(_=>_.isSuccess&&_.payload&&"true"===_.payload.values[0])),this.item$.pipe()]).pipe((0,In.T)(([_,r])=>{if(!_)return[];this.duplicates$=this.duplicateDataService.findDuplicates(r.uuid).pipe((0,Mi.qD)(),(0,In.T)(u=>{if(u.hasSucceeded&&u.payload.page)return u.payload.page}))}))}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(r){return new(r||$2)(e.rXU(Vs._),e.rXU($s.F),e.rXU(Oi.f),e.rXU(Ja.$),e.rXU(vi.ConfigurationDataService),e.rXU(tf.SubmissionDuplicateDataService),e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:$2,selectors:[["ds-claimed-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],[3,"processCompleted","item","object","workflowitem"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(r,u){1&r&&(e.DNE(0,jE,6,12),e.nI1(1,"async"),e.nI1(2,"async")),2&r&&e.vxM(e.bMT(1,1,u.workflowitem$)&&e.bMT(2,3,u.item$)?0:-1)},dependencies:[f.Jj,OE,f.YU,vh,K.h,K.D9,jc.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};cg=(0,$e.Cg)([(0,zn.VK)(Pv.y,kn.n.ListElement),(0,$e.Sn)("design:paramtypes",[Vs._,$s.F,Oi.f,Ja.$,vi.ConfigurationDataService,tf.SubmissionDuplicateDataService,Object])],cg);let dg=class GO extends Da.P{constructor(){super(...arguments),this.badgeContext=Ui.o.MyDSpaceArchived}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(GO)))(u||GO)}})()}static{this.\u0275cmp=e.VBU({type:GO,selectors:[["ds-item-search-result-list-element-submission"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:5,consts:[[3,"item","object","badgeContext"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"]],template:function(r,u){1&r&&(e.nrm(0,"ds-item-list-preview",0),e.j41(1,"div",1)(2,"div",2)(3,"ds-item-actions",3),e.bIt("processCompleted",function(Y){return u.reloadedObject.emit(Y.reloadedObject)}),e.k0s()()()),2&r&&(e.Y8G("item",u.dso)("object",u.object)("badgeContext",u.badgeContext),e.R7$(2),e.Y8G("ngClass",u.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("object",u.dso))},dependencies:[Yp,f.YU,vh],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};function jw(d,_){if(1&d&&(e.j41(0,"div",3),e.nrm(1,"div",3),e.j41(2,"div",3)(3,"div",5),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&d){const r=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",r," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function XD(d,_){if(1&d&&(e.qex(0),e.DNE(1,jw,6,7,"div",3),e.bVm()),2&d){const r=_.ngVar;e.R7$(),e.vxM(r>0?1:-1)}}function rA(d,_){if(1&d){const r=e.RV6();e.nrm(0,"ds-item-list-preview",0),e.DNE(1,XD,2,1,"ng-container",1),e.nI1(2,"async"),e.j41(3,"div",2)(4,"div",3)(5,"ds-pool-task-actions",4),e.bIt("processCompleted",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.reloadedObject.emit(w.reloadedObject))}),e.k0s()()()}if(2&d){let r;const u=e.XpG();e.Y8G("item",u.item$.value)("object",u.object)("showSubmitter",u.showSubmitter)("badgeContext",u.badgeContext)("workflowItem",u.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(r=e.bMT(2,10,u.duplicates$))?null:r.length),e.R7$(3),e.Y8G("ngClass",u.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("item",u.item$.value)("object",u.dso)("workflowitem",u.workflowitem$.value)}}dg=(0,$e.Cg)([(0,zn.VK)(yl.H,kn.n.ListElement,Ui.o.Workspace),(0,zn.VK)(yl.H,kn.n.ListElement,Ui.o.Workflow)],dg);let ug=class W2 extends Da.P{constructor(_,r,u,w,Y,De,Ie){super(r,u,Ie),this.linkService=_,this.truncatableService=r,this.dsoNameService=u,this.objectCache=w,this.configService=Y,this.duplicateDataService=De,this.appConfig=Ie,this.showSubmitter=!0,this.badgeContext=Ui.o.MyDSpaceWaitingController,this.item$=new y.t(null),this.workflowitem$=new y.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,as.s)("workflowitem",{},(0,as.s)("item",{},(0,as.s)("bundles")),(0,as.s)("submitter")),(0,as.s)("action")),this.dso.workflowitem.pipe((0,Mi.qD)(),(0,Tr.Z)(_=>_.hasSucceeded?(this.workflowitem$.next(_.payload),_.payload.item.pipe((0,Mi.qD)())):Dr.w),(0,Vi.M)(_=>{(0,V.hj)(_)&&_.hasSucceeded&&this.item$.next(_.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,Ns.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,Mi.qD)(),(0,In.T)(_=>_.isSuccess&&_.payload&&"true"===_.payload.values[0])),this.item$.pipe()]).pipe((0,In.T)(([_,r])=>{if(!_)return[];this.duplicates$=this.duplicateDataService.findDuplicates(r.uuid).pipe((0,Mi.qD)(),(0,In.T)(u=>{if(u.hasSucceeded&&u.payload.page)return u.payload.page}))}))}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(r){return new(r||W2)(e.rXU(Vs._),e.rXU($s.F),e.rXU(Oi.f),e.rXU(Ja.$),e.rXU(vi.ConfigurationDataService),e.rXU(tf.SubmissionDuplicateDataService),e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:W2,selectors:[["ds-pool-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],["id","actions",3,"processCompleted","item","object","workflowitem"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(r,u){1&r&&(e.DNE(0,rA,6,12),e.nI1(1,"async"),e.nI1(2,"async")),2&r&&e.vxM(e.bMT(1,1,u.workflowitem$)&&e.bMT(2,3,u.item$)?0:-1)},dependencies:[f.Jj,f.YU,Qp,vh,K.h,K.D9,jc.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};ug=(0,$e.Cg)([(0,zn.VK)(xD.d,kn.n.ListElement),(0,$e.Sn)("design:paramtypes",[Vs._,$s.F,Oi.f,Ja.$,vi.ConfigurationDataService,tf.SubmissionDuplicateDataService,Object])],ug);var kE=n(79669);function aA(d,_){if(1&d){const r=e.RV6();e.nrm(0,"ds-listable-object-component-loader",1),e.nI1(1,"async"),e.j41(2,"div",2)(3,"div",3)(4,"ds-workflowitem-actions",4),e.bIt("processCompleted",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.reloadedObject.emit(w.reloadedObject))}),e.k0s()()()}if(2&d){const r=e.XpG();e.Y8G("viewMode",r.ViewModes.ListElement)("object",e.bMT(1,6,r.derivedSearchResult$))("linkType",r.LinkTypes.None)("context",r.badgeContext),e.R7$(3),e.Y8G("ngClass",r.showThumbnails?"offset-3 offset-md-2  col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("object",r.dso)}}function VE(d,_){1&d&&e.nrm(0,"ds-loading",0),2&d&&e.Y8G("showMessage",!1)}let yh=class G2 extends Da.P{constructor(_,r,u,w){super(_,u,w),this.truncatableService=_,this.linkService=r,this.dsoNameService=u,this.appConfig=w,this.LinkTypes=kE.n,this.ViewModes=kn.n,this.derivedSearchResult$=new y.t(void 0),this.badgeContext=Ui.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,as.s)("item")),this.object.indexableObject.item.pipe((0,Mi.ak)()).subscribe(_=>{new yl.H,this.derivedSearchResult$.next(Object.assign(new yl.H,{indexableObject:_,hitHighlights:this.object.hitHighlights}))})}static{this.\u0275fac=function(r){return new(r||G2)(e.rXU($s.F),e.rXU(Vs._),e.rXU(Oi.f),e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:G2,selectors:[["ds-workflow-item-my-dspace-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[3,"showMessage"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"]],template:function(r,u){1&r&&(e.DNE(0,aA,5,8),e.nI1(1,"async"),e.DNE(2,VE,1,1,"ds-loading",0),e.nI1(3,"async")),2&r&&(e.vxM(e.bMT(1,2,u.derivedSearchResult$)?0:-1),e.R7$(2),e.vxM(void 0===e.bMT(3,4,u.derivedSearchResult$)?2:-1))},dependencies:[f.Jj,oh.v,f.YU,nv.v,Iv],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};function $E(d,_){if(1&d){const r=e.RV6();e.nrm(0,"ds-listable-object-component-loader",1),e.nI1(1,"async"),e.j41(2,"div",2)(3,"div",3)(4,"ds-workspaceitem-actions",4),e.bIt("processCompleted",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.reloadedObject.emit(w.reloadedObject))}),e.k0s()()()}if(2&d){const r=e.XpG();e.Y8G("viewMode",r.ViewModes.ListElement)("object",e.bMT(1,6,r.derivedSearchResult$))("linkType",r.LinkTypes.None)("context",r.badgeContext),e.R7$(3),e.Y8G("ngClass",r.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("object",r.dso)}}function YD(d,_){1&d&&e.nrm(0,"ds-loading",0),2&d&&e.Y8G("showMessage",!1)}yh=(0,$e.Cg)([(0,zn.VK)(k_.q,kn.n.ListElement),(0,$e.Sn)("design:paramtypes",[$s.F,Vs._,Oi.f,Object])],yh);let hg=class K2 extends Da.P{constructor(_,r,u,w){super(_,u,w),this.truncatableService=_,this.linkService=r,this.dsoNameService=u,this.appConfig=w,this.LinkTypes=kE.n,this.ViewModes=kn.n,this.derivedSearchResult$=new y.t(void 0),this.badgeContext=Ui.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,as.s)("item")),this.object.indexableObject.item.pipe((0,Mi.ak)()).subscribe(_=>{new yl.H,this.derivedSearchResult$.next(Object.assign(new yl.H,{indexableObject:_,hitHighlights:this.object.hitHighlights}))})}static{this.\u0275fac=function(r){return new(r||K2)(e.rXU($s.F),e.rXU(Vs._),e.rXU(Oi.f),e.rXU(vo.vQ))}}static{this.\u0275cmp=e.VBU({type:K2,selectors:[["ds-workspace-item-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[3,"showMessage"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"]],template:function(r,u){1&r&&(e.DNE(0,$E,5,8),e.nI1(1,"async"),e.DNE(2,YD,1,1,"ds-loading",0),e.nI1(3,"async")),2&r&&(e.vxM(e.bMT(1,2,u.derivedSearchResult$)?0:-1),e.R7$(2),e.vxM(void 0===e.bMT(3,4,u.derivedSearchResult$)?2:-1))},dependencies:[f.Jj,oh.v,f.YU,nv.v,gu],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}","[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}"]})}};function QD(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}hg=(0,$e.Cg)([(0,zn.VK)(Mm.I,kn.n.ListElement),(0,$e.Sn)("design:paramtypes",[$s.F,Vs._,Oi.f,Object])],hg);let pg=class KO extends kc{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(KO)))(u||KO)}})()}static{this.\u0275cmp=e.VBU({type:KO,selectors:[["ds-collection-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,QD,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[f.Jj,f.YU,K.h,K.D9,qo.W],encapsulation:2})}};function JD(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}pg=(0,$e.Cg)([(0,zn.VK)(ou.A,kn.n.ListElement,Ui.o.SideBarSearchModal),(0,zn.VK)(ou.A,kn.n.ListElement,Ui.o.SideBarSearchModalCurrent),(0,zn.VK)(ou.A,kn.n.ListElement,Ui.o.ScopeSelectorModal),(0,zn.VK)(ou.A,kn.n.ListElement,Ui.o.ScopeSelectorModalCurrent)],pg);let fg=class HO extends kc{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(HO)))(u||HO)}})()}static{this.\u0275cmp=e.VBU({type:HO,selectors:[["ds-community-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,JD,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[f.Jj,f.YU,K.h,K.D9,qo.W],encapsulation:2})}};function ZD(d,_){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",3),e.k0s()),2&d){const r=e.XpG();e.Y8G("maxLines",1)("background",r.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",r.isCurrent()?"text-light":"text-secondary")("innerHTML",r.description,e.npT)}}fg=(0,$e.Cg)([(0,zn.VK)(au.L,kn.n.ListElement,Ui.o.SideBarSearchModal),(0,zn.VK)(au.L,kn.n.ListElement,Ui.o.SideBarSearchModalCurrent),(0,zn.VK)(au.L,kn.n.ListElement,Ui.o.ScopeSelectorModal),(0,zn.VK)(au.L,kn.n.ListElement,Ui.o.ScopeSelectorModalCurrent)],fg);let mg=class zO extends kc{static{this.\u0275fac=(()=>{let _;return function(u){return(_||(_=e.xGo(zO)))(u||zO)}})()}static{this.\u0275cmp=e.VBU({type:zO,selectors:[["ds-publication-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,ZD,2,5,"ds-truncatable-part",0)),2&r&&(e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,u.parentTitle$&&u.parentTitle$)?e.bMT(3,13,u.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",u.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",u.isCurrent()?"text-light":"text-primary")("innerHTML",u.dsoTitle,e.npT),e.R7$(),e.vxM(u.description?7:-1))},dependencies:[f.Jj,f.YU,K.h,K.D9,qo.W],encapsulation:2})}};mg=(0,$e.Cg)([(0,zn.VK)("PublicationSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModal),(0,zn.VK)("PublicationSearchResult",kn.n.ListElement,Ui.o.SideBarSearchModalCurrent),(0,zn.VK)(yl.H,kn.n.ListElement,Ui.o.SideBarSearchModal),(0,zn.VK)(yl.H,kn.n.ListElement,Ui.o.SideBarSearchModalCurrent)],mg);const qD=[FD,NE,Uv,L_,mm,xE,BE,vl,gp,pg,pp,_p,_u,rg,hp,ym,fg,Xm,sh,gy,Bv,UE,yc,Fl.k,Ky,K_,ov,H_,Y_,Pm,Bm,Z_,Ep,Sm,xm,bp,Tp,md,J_,Rm,Cp,q_,jv,gv,jm,Pp,fh,Ip,vd,_d,_v,Wc,pv,El,Ap,Cv,Hm,zm,_r,xp,Op,fv,Lp,mg,$_,Tm,W_,ah,hg,yh,cg,ag,ef,lg,ug,Lv,Nv,sg,wv,ig,dg,Qm,Jm];let eT=(()=>{class d{static withEntryComponents(){return{ngModule:d,providers:qD.map(r=>({provide:r}))}}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,v.iI,K.h,qo.W,Aw.BadgesComponent,na.F,Zp,Vc,hh,gu,Qp,vh,yv,vv,OE,Iv,fy,$c.V,Yp,rE,Wy,rh,RC,Yn.YN,uE,dE,hE,pE,Dv,fE,lE.r,L_,mm,xE,vl,gp,pg,pp,_p,_u,hp,ym,fg,sh,gy,Bv,yc,Fl.k,Ky,K_,ov,H_,Y_,Pm,Bm,Z_,Ep,Sm,xm,bp,Tp,md,J_,Rm,Cp,q_,jv,gv,jm,Pp,fh,Ip,vd,_d,_v,Wc,pv,El,Ap,Cv,Hm,zm,_r,xp,Op,fv,Lp,mg,$_,Tm,W_,ah,hg,yh,cg,ag,ef,lg,ug,Lv,Nv,sg,wv,ig,dg,Qm,Jm]})}}return d})();var WE=n(17624),vu=n(44940);let lA=(()=>{class d{constructor(r,u){this.tokenExtractor=r,this.cookieService=u}intercept(r,u){const w=(r=r.clone({withCredentials:!0})).url.toLowerCase(),Y=new WE.F("/").toString().toLowerCase();if("GET"!==r.method&&"HEAD"!==r.method&&w.startsWith(Y)){const De=this.tokenExtractor.getToken();null!==De&&!r.headers.has(vu.sA)&&(r=r.clone({headers:r.headers.set(vu.sA,De)}))}return u.handle(r).pipe((0,Vi.M)(De=>{De instanceof We.cS&&De.headers.has(vu.oo)&&this.saveXsrfToken(De.headers.get(vu.oo))}),(0,Ao.W)(De=>(De instanceof We.yz&&De.headers.has(vu.oo)&&this.saveXsrfToken(De.headers.get(vu.oo)),(0,pa.$)(De))))}saveXsrfToken(r){this.cookieService.remove(vu.dX),this.cookieService.set(vu.dX,r)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(We.B3),e.KVO(nm.O))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();n(9129),n(87908),n(85526);let dA=(()=>{class d{serialize(r){const{url:u}=r;return{url:u,queryParams:r.root.queryParams}}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();n(45387);const pA={providers:[(0,e.oKB)(kg.xG.forRoot(),G.UN,Ld.forRoot(F1),E.md.forRoot(Xf.rd,Xf.wP),Ac.hO.forRoot(),[],Kh,qc,eT.withEntryComponents(),Vg.mB.forRoot()),(0,v.lh)(gS,(0,v.Ii)({onSameUrlNavigation:"reload"}),(0,v.oH)({scrollPositionRestoration:"top",anchorScrolling:"enabled"}),(0,v.Zy)(),(0,v.Sn)(v.D7),(0,v.lG)()),{provide:f.kB,useFactory:(d,_)=>{const r=d.querySelector("head > base");return r.setAttribute("href",`${_.ui.nameSpace}${_.ui.nameSpace.endsWith("/")?"":"/"}`),r.getAttribute("href")},deps:[f.qQ,vo.vQ]},{provide:E.iK,useFactory:function hA(d){return d.debug?[...aS,...l_]:aS},deps:[vo.vQ]},{provide:Ac.jr,useClass:dA},cy,{provide:We.a7,useClass:zu,multi:!0},{provide:We.a7,useClass:yS,multi:!0},{provide:We.a7,useClass:lA,multi:!0},{provide:We.a7,useClass:im,multi:!0},{provide:We.a7,useClass:vS,multi:!0},...zi.A0q,...Yd,(0,e.EmA)([{provide:sm.Y,useFactory:(d,_)=>I.c.production?new sm.Y(_):new E_(d,_),deps:[nC,We.Qq]}])]};var GE=n(95828),nT=n(57775),kv=n(49755);let iT=(()=>{class d extends GE.H{constructor(r,u,w){super(r,u,w)}createShortLivedTokenRequest(r){return(0,Kn.of)(new kv.Qf(this.requestService.generateRequestId(),r))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(qm.Y),e.KVO(Za.B),e.KVO(nT.o))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),sT=(()=>{class d{constructor(r){this.actions$=r,this.reinitDSOMenus=Ti(()=>this.actions$.pipe(Pi(fl.REHYDRATE),(0,In.T)(()=>new $d.PM)))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var oT=n(41584),yA=n(43236),EA=n(47242),KE=n(40941),Eh=n(37688),Va=n(51553);class HE{constructor(_,r){this.zone=_,this.scheduler=r}schedule(..._){return this.zone.run(()=>this.scheduler.schedule.apply(this.scheduler,_))}now(){return this.scheduler.now()}}class zE{constructor(_,r){this.zone=_,this.scheduler=r}schedule(..._){return this.zone.runOutsideAngular(()=>this.scheduler.schedule.apply(this.scheduler,_))}now(){return this.scheduler.now()}}const rT=[...Object.values(z.Yk).filter(d=>d!==z.Yk.UNSET_USER_AS_IDLE),...Object.values(Va.tO),...Object.values(Eh.Is)];function Ch(d,_){return _ instanceof Error||console.warn("AuthEffects caught non-Error object:",_),(0,Kn.of)(new d(_))}let aT=(()=>{class d{constructor(r,u,w,Y,De){this.actions$=r,this.zone=u,this.authorizationsService=w,this.authService=Y,this.store=De,this.authenticate$=Ti(()=>this.actions$.pipe(Pi(z.Yk.AUTHENTICATE),(0,Ni.n)(Ie=>this.authService.authenticate(Ie.payload.email,Ie.payload.password).pipe((0,D.s)(1),(0,In.T)(tt=>new z.sy(tt.token)),(0,Ao.W)(tt=>Ch(z.HQ,tt)))))),this.authenticateSuccess$=Ti(()=>this.actions$.pipe(Pi(z.Yk.AUTHENTICATE_SUCCESS),(0,In.T)(Ie=>new z.ks(Ie.payload)))),this.authenticated$=Ti(()=>this.actions$.pipe(Pi(z.Yk.AUTHENTICATED),(0,Ni.n)(Ie=>this.authService.authenticatedUser(Ie.payload).pipe((0,In.T)(tt=>new z.D9(null!==tt,Ie.payload,tt)),(0,Ao.W)(tt=>Ch(z.IV,tt)))))),this.authenticatedSuccess$=Ti(()=>this.actions$.pipe(Pi(z.Yk.AUTHENTICATED_SUCCESS),(0,Vi.M)(Ie=>this.authService.storeToken(Ie.payload.authToken)),(0,Ni.n)(Ie=>this.authService.getRedirectUrl().pipe((0,D.s)(1),(0,In.T)(tt=>[Ie,tt]))),(0,In.T)(([Ie,tt])=>(0,V.a4)(tt)?new z.FD(tt):new z.K0(Ie.payload.userHref)))),this.redirectAfterLoginSuccess$=Ti(()=>this.actions$.pipe(Pi(z.Yk.REDIRECT_AFTER_LOGIN_SUCCESS),(0,Vi.M)(Ie=>{this.authService.clearRedirectUrl(),this.authService.navigateToRedirectUrl(Ie.payload)})),{dispatch:!1}),this.authenticatedError$=Ti(()=>this.actions$.pipe(Pi(z.Yk.AUTHENTICATED_ERROR),(0,Vi.M)(Ie=>this.authService.removeToken())),{dispatch:!1}),this.retrieveAuthenticatedEperson$=Ti(()=>this.actions$.pipe(Pi(z.Yk.RETRIEVE_AUTHENTICATED_EPERSON),(0,Ni.n)(Ie=>{const tt=this.authService.getImpersonateID();let Pt;return Pt=(0,V.a4)(tt)?this.authService.retrieveAuthenticatedUserById(tt):this.authService.retrieveAuthenticatedUserByHref(Ie.payload),Pt.pipe((0,In.T)(bn=>new z.JT(bn.id)),(0,Ao.W)(bn=>Ch(z.cU,bn)))}))),this.checkToken$=Ti(()=>this.actions$.pipe(Pi(z.Yk.CHECK_AUTHENTICATION_TOKEN),(0,Ni.n)(()=>this.authService.hasValidAuthenticationToken().pipe((0,In.T)(Ie=>new z.ks(Ie)),(0,Ao.W)(Ie=>(0,Kn.of)(new z.e0)))))),this.checkTokenCookie$=Ti(()=>this.actions$.pipe(Pi(z.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE),(0,Ni.n)(()=>this.authService.checkAuthenticationCookie().pipe((0,In.T)(Ie=>Ie.authenticated?(this.authService.setExternalAuthStatus(!0),this.authorizationsService.invalidateAuthorizationsRequestCache(),new z.kZ):new z.j3(Ie)),(0,Ao.W)(Ie=>Ch(z.IV,Ie)))))),this.retrieveToken$=Ti(()=>this.actions$.pipe(Pi(z.Yk.RETRIEVE_TOKEN),(0,Ni.n)(Ie=>this.authService.refreshAuthenticationToken(null).pipe((0,D.s)(1),(0,In.T)(tt=>new z.sy(tt)),(0,Ao.W)(tt=>Ch(z.HQ,tt)))))),this.refreshToken$=Ti(()=>this.actions$.pipe(Pi(z.Yk.REFRESH_TOKEN),(0,Ni.n)(Ie=>this.authService.refreshAuthenticationToken(Ie.payload).pipe((0,In.T)(tt=>new z.IO(tt)),(0,Ao.W)(tt=>(0,Kn.of)(new z.$K)))))),this.refreshTokenSuccess$=Ti(()=>this.actions$.pipe(Pi(z.Yk.REFRESH_TOKEN_SUCCESS),(0,Vi.M)(Ie=>this.authService.replaceToken(Ie.payload))),{dispatch:!1}),this.clearInvalidTokenOnRehydrate$=Ti(()=>this.actions$.pipe(Pi(fl.REHYDRATE),(0,Ni.n)(()=>{const Ie=this.store.pipe((0,E.Lt)(S.TR)),tt=this.store.pipe((0,E.Lt)(S.wR));return(0,Ns.z)([Ie,tt]).pipe((0,D.s)(1),(0,_o.p)(([Pt,bn])=>Pt&&!bn),(0,Vi.M)(()=>this.authService.removeToken()),(0,Vi.M)(()=>this.authService.resetAuthenticationError()))})),{dispatch:!1}),this.invalidateAuthorizationsRequestCache$=Ti(()=>this.actions$.pipe(Pi(fl.REHYDRATE),(0,Vi.M)(()=>this.authorizationsService.invalidateAuthorizationsRequestCache())),{dispatch:!1}),this.logOut$=Ti(()=>this.actions$.pipe(Pi(z.Yk.LOG_OUT),(0,Ni.n)(()=>(this.authService.stopImpersonating(),this.authService.logout().pipe((0,In.T)(()=>new z.G2),(0,Ao.W)(Ie=>Ch(z.VU,Ie))))))),this.logOutSuccess$=Ti(()=>this.actions$.pipe(Pi(z.Yk.LOG_OUT_SUCCESS),(0,Vi.M)(()=>this.authService.removeToken()),(0,Vi.M)(()=>this.authService.clearRedirectUrl()),(0,Vi.M)(()=>this.authService.refreshAfterLogout())),{dispatch:!1}),this.redirectToLoginTokenExpired$=Ti(()=>this.actions$.pipe(Pi(z.Yk.REDIRECT_TOKEN_EXPIRED),(0,Vi.M)(()=>this.authService.removeToken()),(0,Vi.M)(()=>this.authService.redirectToLoginWhenTokenExpired())),{dispatch:!1}),this.retrieveMethods$=Ti(()=>this.actions$.pipe(Pi(z.Yk.RETRIEVE_AUTH_METHODS),(0,Ni.n)(Ie=>this.authService.retrieveAuthMethodsFromAuthStatus(Ie.payload).pipe((0,In.T)(tt=>new z.qY(tt)),(0,Ao.W)(()=>(0,Kn.of)(new z.$X)))))),this.trackIdleness$=Ti(()=>this.actions$.pipe((0,_o.p)(Ie=>!rT.includes(Ie.type)),(0,Ni.n)(()=>(0,oT.O)(I.c.auth.ui.timeUntilIdle,new zE(this.zone,yA.E))),(0,KE.Q)(new HE(this.zone,EA.T)),(0,In.T)(()=>new z.es)))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(e.SKi),e.KVO(Fo.AuthorizationDataService),e.KVO(h.uR),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var nf=n(1708);let lT=(()=>{class d{constructor(r){this.actions$=r,this.fixTimestampsOnRehydrate=Ti(()=>this.actions$.pipe(Pi(fl.REHYDRATE),(0,In.T)(()=>new nf.Yp((new Date).getTime()))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var gg=n(30269),_g=n(51801);let XE=(()=>{class d{applyPatch(r){return this.objectCache.getByHref(r).pipe((0,D.s)(1)).pipe((0,In.T)(w=>{if((0,V.hj)(w.patches)){const Y=[].concat(...w.patches.map(De=>De.operations));(0,V.hj)(Y)&&this.requestService.send(new kv.EA(this.requestService.generateRequestId(),r,Y))}return new nf.gL(r)}))}constructor(r,u,w,Y){this.actions$=r,this.store=u,this.requestService=w,this.objectCache=Y,this.setTimeoutForServerSync=Ti(()=>this.actions$.pipe(Pi(ql.G9.ADD),Du(De=>{const Ie=I.c.cache.autoSync,tt=Ie.timePerMethod[De.payload.method]||Ie.defaultTime;return(0,Kn.of)(new ql.eR(De.payload.method)).pipe((0,b.c)(1e3*tt))}))),this.commitServerSyncBuffer=Ti(()=>this.actions$.pipe(Pi(ql.G9.COMMIT),(0,Ni.n)(De=>this.store.pipe((0,E.Lt)(function cT(){return(0,E.Mz)(gg.N,d=>d["cache/syncbuffer"])}()),(0,D.s)(1),(0,Ni.n)(Ie=>{const tt=Ie.buffer.filter(Pt=>!(0,V.a4)(De.payload)||Pt.method===De.payload).map(Pt=>{if(Pt.method===_g.D.PATCH)return this.applyPatch(Pt.href)});return(0,V.hj)(tt)&&(0,V.EA)(tt[0])?(0,Ns.z)(...tt).pipe((0,Ni.n)(Pt=>[...Pt,new ql.a0(De.payload)])):(0,Kn.of)(new Hh.L)})))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(E.il),e.KVO(Za.B),e.KVO(Ja.$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var YE=n(1033),sf=n(94289);let dT=(()=>{class d{constructor(r,u){this.actions$=r,this.notificationsService=u,this.allIdentifier="all",this.actionMap$={},this.notificationActionMap$={all:new co.B},this.mapLastActions$=Ti(()=>this.actions$.pipe(Pi(...Object.values(sf.Ft)),(0,In.T)(w=>{if((0,V.a4)(w.payload)){const Y=w.payload.url;(0,V.Tn)(this.actionMap$[Y])&&(this.actionMap$[Y]=new co.B),this.actionMap$[Y].next(w)}})),{dispatch:!1}),this.mapLastNotificationActions$=Ti(()=>this.actions$.pipe(Pi(...Object.values(Eh.Is)),(0,In.T)(w=>{const Y=w.payload.id||w.payload||this.allIdentifier;(0,V.Tn)(this.notificationActionMap$[Y])&&(this.notificationActionMap$[Y]=new co.B),this.notificationActionMap$[Y].next(w)})),{dispatch:!1}),this.removeAfterDiscardOrReinstateOnUndo$=Ti(()=>this.actions$.pipe(Pi(sf.Ft.DISCARD),(0,Ni.n)(w=>{const Y=w.payload.url,De=w.payload.notification,Ie=De.options.timeOut;let tt=new sf.S3(w.payload.url);return w.payload.discardAll&&(tt=new sf.zJ),(0,YE.O)((0,Kn.of)(tt).pipe((0,b.c)(Ie)),this.actionMap$[Y].pipe((0,D.s)(1),(0,Vi.M)(()=>{this.notificationsService.remove(De)}),(0,In.T)(Pt=>Pt.type===sf.Ft.REINSTATE?new Hh.L:tt)),this.notificationActionMap$[De.id].pipe((0,_o.p)(Pt=>Pt.type===Eh.Is.REMOVE_NOTIFICATION),(0,In.T)(()=>tt)),this.notificationActionMap$[this.allIdentifier].pipe((0,_o.p)(Pt=>Pt.type===Eh.Is.REMOVE_ALL_NOTIFICATIONS),(0,In.T)(()=>tt)))})))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(ea.I))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var CA=n(60428),QE=n(88884);let rf=(()=>{class d{constructor(){this.tokenInitialized$=new y.t(!1)}static{this.\u0275fac=function(u){return new(u||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),uT=(()=>{class d{constructor(r,u,w,Y,De){this.actions$=r,this.restApi=u,this.injector=w,this.requestService=Y,this.xsrfService=De,this.execute=Ti(()=>this.actions$.pipe(Pi(Va.tO.EXECUTE),(0,Tr.Z)(Ie=>this.requestService.getByUUID(Ie.payload).pipe((0,D.s)(1))),(0,_o.p)(Ie=>(0,V.a4)(Ie)),(0,P.E)(this.xsrfService.tokenInitialized$),(0,_o.p)(([Ie,tt])=>Ie.request.method===_g.D.GET||!0===tt),(0,In.T)(([Ie,tt])=>Ie.request),(0,Tr.Z)(Ie=>{let tt=Ie.body;return(0,V.hj)(Ie.body)&&!Ie.isMultipart&&(tt=new CA.T((0,fs.Qt)(Ie.body.type)).serialize(Ie.body)),this.restApi.request(Ie.method,Ie.href,tt,Ie.options,Ie.isMultipart).pipe((0,In.T)(Pt=>this.injector.get(Ie.getResponseParser()).parse(Ie,Pt)),(0,In.T)(Pt=>new Va.Di(Ie.uuid,Pt.statusCode,Pt.link,Pt.unCacheableObject)),(0,Ao.W)(Pt=>{if(Pt instanceof QE.G)return[new Va.Gl(Ie.uuid,Pt.statusCode,Pt.message)];throw Pt}))}))),this.fixTimestampsOnRehydrate=Ti(()=>this.actions$.pipe(Pi(fl.REHYDRATE),(0,In.T)(()=>new Va.cX((new Date).getTime()))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(sm.Y),e.KVO(e.zZn),e.KVO(Za.B),e.KVO(rf))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var yd=n(77274),JE=n(35331),Vv=n(25056);let ZE=(()=>{class d{constructor(r,u){this.actions$=r,this.store=u,this.addObject$=Ti(()=>this.actions$.pipe(Pi(nf.db.ADD),(0,_o.p)(w=>(0,V.a4)(w.payload.objectToCache)&&(0,V.a4)(w.payload.objectToCache.uuid)),(0,In.T)(w=>new yd.Lv(Vv.U.OBJECT,w.payload.objectToCache.uuid,w.payload.objectToCache._links.self.href)))),this.addAlternativeObjectLink$=Ti(()=>this.actions$.pipe(Pi(nf.db.ADD),(0,In.T)(w=>{const Y=w.payload.alternativeLink,De=(0,V.a4)(w.payload.objectToCache?._links?.self)?w.payload.objectToCache._links.self.href:Y;return(0,V.a4)(Y)&&Y!==De?new yd.Lv(Vv.U.ALTERNATIVE_OBJECT_LINK,Y,De):new Hh.L}))),this.removeObject$=Ti(()=>this.actions$.pipe(Pi(nf.db.REMOVE),(0,In.T)(w=>new yd.H9(Vv.U.OBJECT,w.payload)))),this.addRequest$=Ti(()=>this.actions$.pipe(Pi(Va.tO.CONFIGURE),(0,_o.p)(w=>w.payload.method===_g.D.GET),(0,Ni.n)(w=>{const Y=(0,JE.tJ)(w.payload.href);return this.store.pipe((0,E.Lt)((0,JE.Qc)(Y)),(0,D.s)(1),(0,In.T)(De=>[w,De]))}),(0,Ni.n)(([w,Y])=>{let De=[];return(0,V.a4)(Y)&&(De=[new Va.HL(Y)]),De=[...De,new yd.Lv(Vv.U.REQUEST,(0,JE.tJ)(w.payload.href),w.payload.uuid)],De})))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),bA=(()=>{class d{constructor(r){this.actions$=r,this.commit$=Ti(()=>this.actions$.pipe(Pi(qr.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,In.T)(u=>new qr.pg(u.payload.resourceType,u.payload.resourceId))))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const pT={ROUTE_UPDATE:(0,Uu.N)("dspace/core/router/ROUTE_UPDATE")};class fT{constructor(){this.type=pT.ROUTE_UPDATE}}let DA=(()=>{class d{constructor(r,u){this.actions$=r,this.router=u,this.routeChange$=Ti(()=>this.actions$.pipe(Pi(Ac.hr),function hT(){return(0,Ad.N)((d,_)=>{let r,u=!1;d.subscribe((0,Pc._)(_,w=>{const Y=r;r=w,u&&_.next([Y,w]),u=!0}))})}(),(0,In.T)(w=>w.map(Y=>this.router.parseUrl(Y.payload.routerState.url).root.children.primary.segments.map(Ie=>Ie.path).join("/"))),(0,_o.p)(w=>w[0]!==w[1]),(0,In.T)(()=>new fT)))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(v.Ix))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Ed=n(20009);const mT=[uT,lT,ZE,aT,bA,XE,dT,(()=>{class d{constructor(r,u){this.actions$=r,this.service=u,this.routeChange$=Ti(()=>this.actions$.pipe(Pi(pT.ROUTE_UPDATE),(0,In.T)(()=>new Ed.sV))),this.afterResetChange$=Ti(()=>this.actions$.pipe(Pi(Ed.HH.RESET),(0,Vi.M)(()=>this.service.setCurrentRouteInfo())),{dispatch:!1})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(uo),e.KVO(tv.v$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),DA,sT];var af=n(45879);const Hw={selectedBitstreamFormats:[]},gT={authenticated:!1,loaded:!1,blocking:!0,loading:!1,authMethods:[],externalAuth:!1,idle:!1};var vT=n(45451);const yT={buffer:[]};var SA=n(96266);const IA=Object.create(null);var RA=n(75794);const zw=[],IT=Object.create(null);var Cd=function(d){return d.test="test",d.remove="remove",d.add="add",d.replace="replace",d.move="move",d.copy="copy",d}(Cd||{});const LA=Object.create(null);function Eg(d){return{operation:d,timeCompleted:(new Date).getTime()}}const Wv={ADD:(0,Uu.N)("dspace/meta-tag/ADD"),CLEAR:(0,Uu.N)("dspace/meta-tag/CLEAR")};class kA{constructor(_){this.type=Wv.ADD,this.payload=_}}class VA{constructor(){this.type=Wv.CLEAR}}const Gv={tagsInUse:[]},Hv={queryParams:{},params:{}};function t1(d,_,r){const u=d[r],Y=[...u[_.payload.key]||[],_.payload.value],De=Object.assign({},u,{[_.payload.key]:Y});return Object.assign({},d,{[r]:De})}function xT(d,_,r){const u=(0,V.hj)(_.payload)?{[r]:{[_.payload.key]:_.payload.value}}:{};return Object.assign({},d,u)}function n1(d,_,r){const w=Object.assign({},d[r],{[_.payload.key]:_.payload.value});return Object.assign({},d,{[r]:w})}const cf={bitstreamFormats:function TA(d=Hw,_){switch(_.type){case af.Sh.SELECT_FORMAT:return Object.assign({},d,{selectedBitstreamFormats:[...d.selectedBitstreamFormats,_.bitstreamFormat]});case af.Sh.DESELECT_FORMAT:return Object.assign({},d,{selectedBitstreamFormats:d.selectedBitstreamFormats.filter(r=>r!==_.bitstreamFormat)});case af.Sh.DESELECT_ALL_FORMAT:return Object.assign({},d,{selectedBitstreamFormats:[]});default:return d}},"cache/object":vT.gT,"cache/syncbuffer":function ET(d=yT,_){switch(_.type){case ql.G9.ADD:return function CT(d,_){const r=_.payload;return(0,V.Tn)(d.buffer.find(u=>u.href===r.href&&u.method===r.method))?Object.assign({},d,{buffer:d.buffer.concat(r)}):d}(d,_);case ql.G9.EMPTY:return function OA(d,_){let r=[];return(0,V.a4)(_.payload)&&(r=d.buffer.filter(u=>u.method!==_.payload)),Object.assign({},d,{buffer:r})}(d,_);default:return d}},"cache/object-updates":SA.O,"data/request":function PA(d=IA,_){switch(_.type){case Va.tO.CONFIGURE:return function vg(d,_){return Object.assign({},d,{[_.payload.uuid]:{request:_.payload,state:Ua.zE.RequestPending,response:null,lastUpdated:_.lastUpdated}})}(d,_);case Va.tO.EXECUTE:return function bT(d,_){return(0,V.kZ)(d[_.payload])?d:Object.assign({},d,{[_.payload]:Object.assign({},d[_.payload],{state:Ua.zE.ResponsePending,lastUpdated:_.lastUpdated})})}(d,_);case Va.tO.SUCCESS:return function DT(d,_){const r=d[_.payload.uuid];return(0,V.kZ)(r)?d:Object.assign({},d,{[_.payload.uuid]:Object.assign({},r,{state:(0,Ua.QO)(r.state)?Ua.zE.SuccessStale:Ua.zE.Success,response:{timeCompleted:_.payload.timeCompleted,lastUpdated:_.payload.timeCompleted,statusCode:_.payload.statusCode,payloadLink:_.payload.link,unCacheableObject:_.payload.unCacheableObject,errorMessage:null},lastUpdated:_.lastUpdated})})}(d,_);case Va.tO.ERROR:return function TT(d,_){const r=d[_.payload.uuid];return(0,V.kZ)(r)?d:Object.assign({},d,{[_.payload.uuid]:Object.assign({},r,{state:(0,Ua.QO)(r.state)?Ua.zE.ErrorStale:Ua.zE.Error,response:{timeCompleted:_.payload.timeCompleted,lastUpdated:_.payload.timeCompleted,statusCode:_.payload.statusCode,payloadLink:null,errorMessage:_.payload.errorMessage},lastUpdated:_.lastUpdated})})}(d,_);case Va.tO.STALE:return function MT(d,_){const r=d[_.payload.uuid];if((0,V.kZ)(r)||(0,Ua.QO)(r.state)||(0,Ua.DB)(r.state))return d;{let u;return u=(0,Ua.vT)(r.state)?Ua.zE.ResponsePendingStale:(0,Ua.yO)(r.state)?Ua.zE.SuccessStale:Ua.zE.ErrorStale,Object.assign({},d,{[_.payload.uuid]:Object.assign({},r,{state:u,lastUpdated:_.lastUpdated})})}}(d,_);case Va.tO.RESET_TIMESTAMPS:return function OT(d,_){const r=Object.create(null);return Object.keys(d).forEach(u=>{r[u]=Object.assign({},d[u],{response:Object.assign({},d[u].response,{timeCompleted:_.payload}),lastUpdated:_.payload})}),r}(d,_);case Va.tO.REMOVE:return function ST(d,_){const r=Object.assign({},d);return r[_.uuid]=null,r}(d,_);default:return d}},history:function Xw(d=zw,_){return _.type===RA.i.ADD_TO_HISTORY?[...d,_.payload.url]:d},index:function PT(d=IT,_){switch(_.type){case yd.WJ.ADD:return function RT(d,_){const u=Object.assign({},d[_.payload.name],{[_.payload.key]:_.payload.value});return Object.assign({},d,{[_.payload.name]:u})}(d,_);case yd.WJ.REMOVE_BY_VALUE:return function AA(d,_){const r=d[_.payload.name],u=Object.create(null);for(const w in r)r[w]!==_.payload.value&&(u[w]=r[w]);return Object.assign({},d,{[_.payload.name]:u})}(d,_);case yd.WJ.REMOVE_BY_SUBSTRING:return function xA(d,_){const r=d[_.payload.name],u=Object.create(null);for(const w in r)w.indexOf(_.payload.value)<0&&(u[w]=r[w]);return Object.assign({},d,{[_.payload.name]:u})}(d,_);default:return d}},auth:function _T(d=gT,_){switch(_.type){case z.Yk.AUTHENTICATE:return Object.assign({},d,{error:void 0,loading:!0,info:void 0});case z.Yk.AUTHENTICATED:return Object.assign({},d,{loading:!0,blocking:!0});case z.Yk.CHECK_AUTHENTICATION_TOKEN:case z.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE:return Object.assign({},d,{loading:!0});case z.Yk.SET_AUTH_COOKIE_STATUS:return Object.assign({},d,{externalAuth:_.payload});case z.Yk.AUTHENTICATED_ERROR:case z.Yk.RETRIEVE_AUTHENTICATED_EPERSON_ERROR:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:_.payload.message,loaded:!0,blocking:!1,loading:!1});case z.Yk.AUTHENTICATED_SUCCESS:return Object.assign({},d,{authenticated:!0,authToken:_.payload.authToken});case z.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:return Object.assign({},d,{loaded:!0,error:void 0,loading:!1,blocking:!1,info:void 0,userId:_.payload});case z.Yk.AUTHENTICATE_ERROR:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:_.payload.message,blocking:!1,loading:!1});case z.Yk.AUTHENTICATE_SUCCESS:case z.Yk.LOG_OUT:return d;case z.Yk.LOG_OUT_ERROR:return Object.assign({},d,{authenticated:!0,error:_.payload.message});case z.Yk.REFRESH_TOKEN_ERROR:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!1,loading:!1,info:void 0,refreshing:!1,userId:void 0});case z.Yk.LOG_OUT_SUCCESS:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!0,loading:!0,info:void 0,refreshing:!1,userId:void 0});case z.Yk.REDIRECT_AUTHENTICATION_REQUIRED:case z.Yk.REDIRECT_TOKEN_EXPIRED:return Object.assign({},d,{authenticated:!1,authToken:void 0,loaded:!1,blocking:!1,loading:!1,info:_.payload,userId:void 0});case z.Yk.REFRESH_TOKEN:return Object.assign({},d,{refreshing:!0});case z.Yk.REFRESH_TOKEN_SUCCESS:return Object.assign({},d,{authToken:_.payload,refreshing:!1,blocking:!1});case z.Yk.ADD_MESSAGE:return Object.assign({},d,{info:_.payload});case z.Yk.RESET_MESSAGES:return Object.assign({},d,{error:void 0,info:void 0});case z.Yk.RETRIEVE_AUTH_METHODS:return Object.assign({},d,{loading:!0});case z.Yk.RETRIEVE_AUTH_METHODS_SUCCESS:return Object.assign({},d,{loading:!1,blocking:!1,authMethods:_.payload});case z.Yk.RETRIEVE_AUTH_METHODS_ERROR:return Object.assign({},d,{loading:!1,blocking:!1,authMethods:[new Ku.q(Hu.Q.Password,0)]});case z.Yk.SET_REDIRECT_URL:return Object.assign({},d,{redirectUrl:_.payload});case z.Yk.REDIRECT_AFTER_LOGIN_SUCCESS:return Object.assign({},d,{loading:!0,blocking:!0});case z.Yk.SET_USER_AS_IDLE:return Object.assign({},d,{idle:!0});case z.Yk.UNSET_USER_AS_IDLE:return Object.assign({},d,{idle:!1});case fl.REHYDRATE:return Object.assign({},d,{blocking:!0});default:return d}},"json/patch":function NA(d=LA,_){switch(_.type){case qr.Ce.COMMIT_JSON_PATCH_OPERATIONS:return function lf(d,_){return(0,V.a4)(d[_.payload.resourceType])&&d[_.payload.resourceType].commitPending?Object.assign({},d,{[_.payload.resourceType]:Object.assign({},d[_.payload.resourceType],{commitPending:!1})}):d}(d,_);case qr.Ce.FLUSH_JSON_PATCH_OPERATIONS:return function UA(d,_){if((0,V.a4)(d[_.payload.resourceType])){let r;return(0,V.EA)(_.payload.resourceId)?r=(0,V.a4)(d[_.payload.resourceType].children)&&(0,V.a4)(d[_.payload.resourceType].children[_.payload.resourceId])?Object.assign({},d[_.payload.resourceType].children,{[_.payload.resourceId]:{body:d[_.payload.resourceType].children[_.payload.resourceId].body.filter(u=>u.timeCompleted>d[_.payload.resourceType].transactionStartTime)}}):d[_.payload.resourceType].children:(r=d[_.payload.resourceType].children,Object.keys(r).forEach(u=>{r=Object.assign({},r,{[u]:{body:r[u].body.filter(w=>w.timeCompleted>d[_.payload.resourceType].transactionStartTime)}})})),Object.assign({},d,{[_.payload.resourceType]:Object.assign({},d[_.payload.resourceType],{children:r,transactionStartTime:null})})}return d}(d,_);case qr.Ce.NEW_JSON_PATCH_ADD_OPERATION:case qr.Ce.NEW_JSON_PATCH_COPY_OPERATION:case qr.Ce.NEW_JSON_PATCH_MOVE_OPERATION:case qr.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:case qr.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:return function $v(d,_){const r=Object.assign({},d),u=function yg(d,_,r){return(0,V.a4)(d[_])&&(0,V.a4)(d[_].children)&&(0,V.a4)(d[_].children[r])&&(0,V.hj)(d[_].children[r].body)}(r,_.payload.resourceType,_.payload.resourceId)?r[_.payload.resourceType].children[_.payload.resourceId].body:Array.of(),w=function e1(d,_,r,u,w){const Y=Array.from(d);switch(_){case qr.Ce.NEW_JSON_PATCH_ADD_OPERATION:Y.push(Eg({op:Cd.add,path:r,value:u}));break;case qr.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:Y.push(Eg({op:Cd.replace,path:r,value:u}));break;case qr.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:Y.push(Eg({op:Cd.remove,path:r}));break;case qr.Ce.NEW_JSON_PATCH_MOVE_OPERATION:Y.push(Eg({op:Cd.move,from:w,path:r}))}return function jA(d){const _=new Map;for(let r=d.length-1;r>=0;r--){const u=d[r].operation,w=`${u.op}-${u.path}`;_.has(w)?_.get(w)-1===r&&(d.splice(r,1),_.set(w,r)):_.set(w,r)}return d}(Y)}(u,_.type,_.payload.path,(0,V.a4)(_.payload.value)?_.payload.value:null,(0,V.a4)(_.payload.from)?_.payload.from:null);return(0,V.a4)(r[_.payload.resourceType])&&(0,V.a4)(r[_.payload.resourceType].children)?Object.assign({},d,{[_.payload.resourceType]:Object.assign({},d[_.payload.resourceType],{children:Object.assign({},d[_.payload.resourceType].children,{[_.payload.resourceId]:{body:w}}),commitPending:!!(0,V.EA)(d[_.payload.resourceType].commitPending)&&d[_.payload.resourceType].commitPending})}):Object.assign({},d,{[_.payload.resourceType]:Object.assign({},{children:{[_.payload.resourceId]:{body:w}},transactionStartTime:null,commitPending:!1})})}(d,_);case qr.Ce.ROLLBACK_JSON_PATCH_OPERATIONS:return function FA(d,_){return(0,V.a4)(d[_.payload.resourceType])&&d[_.payload.resourceType].commitPending?Object.assign({},d,{[_.payload.resourceType]:Object.assign({},d[_.payload.resourceType],{transactionStartTime:null,commitPending:!1})}):d}(d,_);case qr.Ce.START_TRANSACTION_JSON_PATCH_OPERATIONS:return function sl(d,_){return(0,V.a4)(d[_.payload.resourceType])&&(0,V.kZ)(d[_.payload.resourceType].transactionStartTime)?Object.assign({},d,{[_.payload.resourceType]:Object.assign({},d[_.payload.resourceType],{transactionStartTime:_.payload.startTime,commitPending:!0})}):d}(d,_);case qr.Ce.DELETE_PENDING_JSON_PATCH_OPERATIONS:return null;case qr.Ce.FLUSH_JSON_PATCH_OPERATION:return function Yw(d,_){const r=_.payload;if(d[r.resourceType]&&d[r.resourceType].children){const u=d[r.resourceType].children[r.resourceId].body,w=u.filter(Ie=>Ie.operation.path===r.path)[0],Y=u.indexOf(w),De=[...u];return De.splice(Y,1),Object.assign({},d,{[_.payload.resourceType]:Object.assign({},{children:{[_.payload.resourceId]:{body:De}}})})}return d}(d,_);default:return d}},metaTag:(d=Gv,_)=>{switch(_.type){case Wv.ADD:return((d,_)=>({tagsInUse:[...d.tagsInUse,_.payload]}))(d,_);case Wv.CLEAR:return Object.assign({},Gv);default:return d}},route:function Qw(d=Hv,_){switch(_.type){case Ed.HH.RESET:return Hv;case Ed.HH.SET_PARAMETERS:return xT(d,_,"params");case Ed.HH.SET_QUERY_PARAMETERS:return xT(d,_,"queryParams");case Ed.HH.ADD_PARAMETER:return t1(d,_,"params");case Ed.HH.ADD_QUERY_PARAMETER:return t1(d,_,"queryParams");case Ed.HH.SET_PARAMETER:return n1(d,_,"params");case Ed.HH.SET_QUERY_PARAMETER:return n1(d,_,"queryParams");default:return d}}};var wT=n(64691),Cg=n(95488);let s1=(()=>{class d extends wT.f{constructor(r,u,w){super(),this.document=r,this.routeService=u,this.hardRedirectService=w}getReferrer(){return this.routeService.getHistory().pipe((0,In.T)(r=>{const u=r[r.length-1];if((0,V.Tn)(u)||r.every(w=>w===u))return this.document.referrer;{const Y=[...r].reverse().find(De=>De!==u);return new vs.t(this.hardRedirectService.getCurrentOrigin(),Y).toString()}}))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(f.qQ),e.KVO(tv.v$),e.KVO(Cg.$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const WA=new e.nKC("Location");let KA=(()=>{class d extends Cg.${constructor(r){super(),this.location=r}redirect(r){this.location.replace(r)}getCurrentRoute(){return this.location.pathname+this.location.search}getCurrentOrigin(){return this.location.origin}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(WA))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),HA=(()=>{class d extends ev{constructor(r,u){super(),this._document=r,this._window=u,this.mathJaxOptions={tex:{inlineMath:[["$","$"],["$$","$$"],["\\(","\\)"]]},svg:{fontCache:"global"},startup:{typeset:!1}},this.mathJax={source:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js",id:"MathJaxScript"},this.mathJaxFallback={source:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-chtml.min.js",id:"MathJaxBackupScript"},this.isReady$=new y.t(!1),this.registerMathJaxAsync(this.mathJax).then(()=>this.isReady$.next(!0)).catch(w=>{this.registerMathJaxAsync(this.mathJaxFallback).then(()=>this.isReady$.next(!0))})}registerMathJaxAsync(r){var u=this;return(0,m.A)(function*(){return I.c.markdown.mathjax?new Promise((w,Y)=>{const De=u._document.createElement("script");De.type="text/javascript",De.text=`MathJax = ${JSON.stringify(u.mathJaxOptions)};`,u._document.head.appendChild(De);const Ie=u._document.createElement("script");Ie.id=r.id,Ie.type="text/javascript",Ie.src=r.source,Ie.crossOrigin="anonymous",Ie.async=!0,Ie.onload=()=>w(),Ie.onerror=tt=>Y(tt),u._document.head.appendChild(Ie)}):Promise.resolve()})()}ready(){return this.isReady$}render(r){if(I.c.markdown.mathjax)return window.MathJax.typesetPromise([r])}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(f.qQ),e.KVO(O.lc))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),LT=(()=>{class d extends rf{initXSRFToken(r){return()=>new Promise(u=>{r.get(new WE.F("/security/csrf").toString(),void 0).pipe((0,D.s)(1)).subscribe(()=>{this.tokenInitialized$.next(!0)}),u()})}static{this.\u0275fac=(()=>{let r;return function(w){return(r||(r=e.xGo(d)))(w||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var NT=n(84418),FT=n.n(NT),BT=n(61889),UT=n.n(BT),zA=n(13817),jT=n(68660);const zv="dspace.agreements.cookies",WT=new e.nKC("Lazily loaded Orejime",{providedIn:"root",factory:function(){var d=(0,m.A)(function*(){return yield n.e(4691).then(n.t.bind(n,34691,23))});return function(){return d.apply(this,arguments)}}()});let YA=(()=>{class d extends ad.B{constructor(r,u,w,Y,De,Ie,tt){super(),this._window=r,this.translateService=u,this.authService=w,this.ePersonService=Y,this.configService=De,this.cookieService=Ie,this.lazyOrejime=tt,this.GOOGLE_ANALYTICS_KEY="google.analytics.key",this.REGISTRATION_VERIFICATION_ENABLED_KEY="registration.verification.enabled",this.GOOGLE_ANALYTICS_SERVICE_NAME="google-analytics",this.MATOMO_ENABLED=jT.Mz,this.orejimeConfig=FT()(function eC(d){return{cookieName:B0,privacyPolicy:"./info/privacy",cookieExpiresAfterDays:365,lang:"zz",appElement:"ds-app",stringifyCookie:_=>"string"==typeof _?_:JSON.stringify(_),parseCookie:_=>"string"==typeof _?(_=decodeURIComponent(_),JSON.parse(_)):_,translations:{zz:{acceptAll:"cookies.consent.accept-all",acceptSelected:"cookies.consent.accept-selected",close:"cookies.consent.close",consentModal:{title:"cookies.consent.content-modal.title",description:"cookies.consent.content-modal.description",privacyPolicy:{name:"cookies.consent.content-modal.privacy-policy.name",text:"cookies.consent.content-modal.privacy-policy.text"}},consentNotice:{changeDescription:"cookies.consent.update",description:"cookies.consent.content-notice.description",learnMore:"cookies.consent.content-notice.learnMore"},decline:"cookies.consent.decline",declineAll:"cookies.consent.decline-all",accept:"cookies.consent.ok",save:"cookies.consent.save",purposes:{},app:{optOut:{description:"cookies.consent.app.opt-out.description",title:"cookies.consent.app.opt-out.title"},purpose:"cookies.consent.app.purpose",purposes:"cookies.consent.app.purposes",required:{title:"cookies.consent.app.required.title",description:"cookies.consent.app.required.description"}}}},apps:[{name:"authentication",purposes:["functional"],required:!0,optOut:!0,cookies:[F0.R,h.of,h.kL]},{name:"preferences",purposes:["functional"],required:!0,optOut:!0,cookies:[Zh.m4]},{name:"acknowledgement",purposes:["functional"],required:!0,optOut:!0,cookies:[[/^orejime-.+$/],"dsHasAgreedEndUser"]},{name:y_,purposes:["statistical"],required:!1,cookies:[j0],callback:()=>{d?.nativeWindow.initCorrelationId()}},{name:"matomo",purposes:["statistical"],required:!1,cookies:["dsMatomo"],callback:_=>{d?.nativeWindow.changeMatomoConsent(_)}},{name:U0,purposes:["statistical"],required:!1,cookies:[[/^_ga.?$/],[/^_gid$/]],onlyOnce:!0},{name:fc.BA,purposes:["registration-password-recovery"],required:!1,cookies:[fc.oL],callback:_=>{d?.nativeWindow.refreshCaptchaScript?.call()},onlyOnce:!0},{name:"accessibility",purposes:["functional"],required:!1,cookies:[ES.SH],onlyOnce:!1}]}}(this._window))}initialize(){I.c.info.enablePrivacyStatement||(this.orejimeConfig.translations.zz.consentModal.privacyPolicy.text="cookies.consent.content-modal.no-privacy-policy.text");const r=this.configService.findByPropertyName(this.GOOGLE_ANALYTICS_KEY).pipe((0,Mi.qD)(),(0,In.T)(tt=>!tt.hasSucceeded||!tt.payload||(0,V.Im)(tt.payload.values))),u=this.configService.findByPropertyName(this.REGISTRATION_VERIFICATION_ENABLED_KEY).pipe((0,Mi.qD)(),(0,In.T)(tt=>!tt.hasSucceeded||!tt.payload||(0,V.Im)(tt.payload.values)||"true"!==tt.payload.values[0].toLowerCase())),w=this.configService.findByPropertyName(this.MATOMO_ENABLED).pipe((0,Mi.qD)(),(0,In.T)(tt=>!tt.hasSucceeded||!tt.payload||(0,V.Im)(tt.payload.values)||"true"!==tt.payload.values[0].toLowerCase())),Y=(0,Ns.z)([r,u,w]).pipe((0,In.T)(([tt,Pt,bn])=>{const en=[];return tt&&en.push(this.GOOGLE_ANALYTICS_SERVICE_NAME),Pt&&en.push(fc.BA),bn&&en.push("matomo"),en}));this.translateService.setDefaultLang(I.c.defaultLanguage);const De=this.getUser$(),Ie=this.translateService.get("loading.default").pipe((0,D.s)(1));(0,Ns.z)([De,Y,Ie]).subscribe(([tt,Pt,bn])=>{tt=FT()(tt),(0,V.a4)(tt)&&this.initializeUser(tt),this.addAppMessages(),this.createCategories(),this.translateConfiguration(),this.orejimeConfig.apps=I.c.info?.enableCookieConsentPopup?this.filterConfigApps(Pt):[],this.applyUpdateSettingsCallbackToApps(tt),this.lazyOrejime.then(({init:en})=>{this.orejimeInstance=en(this.orejimeConfig)})})}applyUpdateSettingsCallbackToApps(r){const u=UT()(()=>this.updateSettingsForUsers(r),300);this.orejimeConfig.apps.forEach(w=>{const Y=w.callback;w.callback=De=>{u(),Y&&Y(De)}})}getSavedPreferences(){return this.getUserId$().pipe((0,In.T)(r=>{let u;return u=(0,V.Im)(r)?B0:this.getStorageName(r),this.cookieService.get(u)}))}initializeUser(r){this.orejimeConfig.cookieName=this.getStorageName(r.uuid);const u=this.cookieService.get(B0);(0,V.a4)(this.getSettingsForUser(r))?this.restoreSettingsForUsers(r):(0,V.a4)(u)&&(this.cookieService.set(this.getStorageName(r.uuid),u),this.updateSettingsForUsers(r))}getUserId$(){return this.authService.isAuthenticated().pipe((0,D.s)(1),(0,Ni.n)(r=>r?this.authService.getAuthenticatedUserIdFromStore():(0,Kn.of)(void 0)),(0,D.s)(1))}getUser$(){return this.authService.isAuthenticated().pipe((0,D.s)(1),(0,Ni.n)(r=>r?this.authService.getAuthenticatedUserFromStore():(0,Kn.of)(void 0)),(0,D.s)(1))}getTitleTranslation(r){return"cookies.consent.app.title."+r}getDescriptionTranslation(r){return"cookies.consent.app.description."+r}getPurposeTranslation(r){return"cookies.consent.purpose."+r}showSettings(){this.orejimeInstance.show()}addAppMessages(){this.orejimeConfig.apps.forEach(r=>{this.orejimeConfig.translations.zz[r.name]={title:this.getTitleTranslation(r.name),description:this.getDescriptionTranslation(r.name)},r.purposes.forEach(u=>{this.orejimeConfig.translations.zz.purposes[u]=this.getPurposeTranslation(u)})})}translateConfiguration(){this.translateService.setDefaultLang(I.c.defaultLanguage),this.translate(this.orejimeConfig.translations.zz)}createCategories(){this.orejimeConfig.categories=this.orejimeConfig.apps.reduce((r,u)=>{let w=r.find(Y=>Y.name===u.purposes[0]);return w||(w={name:u.purposes[0],title:this.translateService.instant(this.getPurposeTranslation(u.purposes[0])),apps:[]},r.push(w)),w.apps.push(u.name),r},[])}translate(r){return"string"==typeof r?this.translateService.instant(r):(Object.entries(r).forEach(([u,w])=>{r[u]=this.translate(w)}),r)}getSettingsForUser(r){const u=r.firstMetadataValue(zv);return(0,V.a4)(u)?JSON.parse(u):void 0}setSettingsForUser(r,u){(0,V.hj)(u)?r.setMetadata(zv,void 0,JSON.stringify(u)):r.removeMetadata(zv),this.ePersonService.createPatchFromCache(r).pipe((0,D.s)(1),(0,Ni.n)(w=>(0,V.hj)(w)?this.ePersonService.patch(r,w):(0,Kn.of)(void 0))).subscribe()}restoreSettingsForUsers(r){this.cookieService.set(this.getStorageName(r.uuid),this.getSettingsForUser(r))}updateSettingsForUsers(r){r&&this.setSettingsForUser(r,this.cookieService.get(this.getStorageName(r.uuid)))}getStorageName(r){return"orejime-"+r}filterConfigApps(r){return this.orejimeConfig.categories.forEach(u=>{u.apps=u.apps.filter(w=>!r.some(Y=>Y===w))}),this.orejimeConfig.categories=this.orejimeConfig.categories.filter(u=>u.apps.length>0),this.orejimeConfig.apps.filter(u=>!r.some(w=>w===u.name))}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(O.lc),e.KVO(K.c$),e.KVO(h.uR),e.KVO(zA.EPersonDataService),e.KVO(vi.ConfigurationDataService),e.KVO(nm.O),e.KVO(WT))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var QA=n(45615);let GT=(()=>{class d{constructor(r,u,w,Y,De){this.googleAnalytics=r,this.googleGlobalSiteTag=u,this.orejimeService=w,this.configService=Y,this.document=De}addTrackingIdToPage(){const r=this.configService.findByPropertyName("google.analytics.key").pipe((0,Mi.qD)()),u=this.orejimeService.getSavedPreferences();(0,Ns.z)([u,r]).subscribe(([w,Y])=>{if((0,V.Im)(w)||(0,V.Im)(w[U0])||!w[U0]||!Y.hasSucceeded)return;const De=Y.payload.values[0];if(!(0,V.Im)(De))if(this.isGTagVersion(De)){const Ie=this.document.createElement("script");Ie.src=`https://www.googletagmanager.com/gtag/js?id=${De}`,this.document.body.appendChild(Ie);const tt=this.document.createElement("script");tt.innerHTML=`window.dataLayer = window.dataLayer || [];function gtag(){window.dataLayer.push(arguments);}\n                               gtag('js', new Date());gtag('config', '${De}');`,this.document.body.appendChild(tt),this.googleGlobalSiteTag.startTracking()}else{const Ie=this.document.createElement("script");Ie.innerHTML=`(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n                              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n                              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n                              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n                              ga('create', '${De}', 'auto');`,this.document.body.appendChild(Ie),this.googleAnalytics.startTracking()}})}isGTagVersion(r){return r&&r.startsWith("G-")}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Jc.Z1),e.KVO(Jc.RH),e.KVO(ad.B),e.KVO(vi.ConfigurationDataService),e.KVO(f.qQ))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var KT=n(95532);const Jw=(0,e.zw6)("NGX_TRANSLATE_STATE");class Zw{constructor(_,r,u,w){this.transferState=_,this.http=r,this.prefix=u,this.suffix=w}getTranslation(_){const u=this.transferState.get(Jw,{})[_];return(0,V.a4)(u)?(0,Kn.of)(u):this.http.get(`${this.prefix}${_}${I.c.production?`.${{"ar.json5":"f9e70e85ac620f17028151d2e71693a7","bn.json5":"1cdcccb315ec5e3bd41d7a47d556106c","ca.json5":"f34f160ad1c455e655b52de6eec8103b","cs.json5":"84616e873c9171fd516e7303087464dd","de.json5":"7d1caed79a3d4c037f94a14e127f1998","el.json5":"7a3a33449b2f29f60ade184c504a31ba","en.json5":"dce369c039497662ffaaac9b671b4ab2","es.json5":"810eaa98913ca093835f95615d4220c2","fa.json5":"cb2d2e3ec121b5ffb816aba35789f323","fi.json5":"00c1819134a532439d2c7566050c9e87","fr.json5":"1d97c5c6a3974efe19e0beaadfdffeb4","gd.json5":"77cf9d7edbbe2ffd5e683ea52453afdc","gu.json5":"8436f32f2fdbac02994d63bcc8f725d8","hi.json5":"5d40132a61b608738ba19b490f320e95","hu.json5":"637cc640e46a4d04eb6d3f073a6948b4","it.json5":"c069f68b105a0e19fa7e01c5e937f306","ja.json5":"b594c5ed633daa429baf574cc6afc95e","kk.json5":"d4b7a2bec674584f937ec2c42109bb58","lv.json5":"9dd3b876ff1e9f846bbedbd796408072","mr.json5":"85607285570a12f7e576776e86598944","nl.json5":"7b324b37b8b5c833a58cb064e3e60141","pl.json5":"e01aff1ca780207539303700271d9bf5","pt-BR.json5":"5129f9eb2b3203ee89c195a56f38b6e3","pt-PT.json5":"30b830cde4f6a679cba065cfb38395fd","ru.json5":"df79eafde3c70dda39a7c1371dde3893","sr-cyr.json5":"2414b4145e64d1f1a9f9a059f6b2ca55","sr-lat.json5":"745bb830bd9097748f517479e6a09a27","sv.json5":"4cfa8c2112bbabf7bb8484ff17998879","sw.json5":"b594c5ed633daa429baf574cc6afc95e","tr.json5":"735ed151f5f176d8299338320b6d3e38","uk.json5":"a91da9e1cc9fe2d132ea3f8d67f0608f","vi.json5":"4eb3a0b2e4b9fd6653b3b95fa98842ac"}[_+".json5"]}`:""}${this.suffix}`,{responseType:"text"}).pipe((0,In.T)(Y=>JSON.parse(Y)))}}var JA=n(9350);function ZA(d,_){const r="object"==typeof _;return new Promise((u,w)=>{let De,Y=!1;d.subscribe({next:Ie=>{De=Ie,Y=!0},error:w,complete:()=>{Y?u(De):r?u(_.defaultValue):w(new JA.G)}})})}var qw=n(47707);var nL=n(92688);const zT=d=>_=>_.pipe((0,Ni.n)(r=>(0,V.a4)(r)?d.isAuthorized(Os._.CanDownload,r.self).pipe((0,In.T)(u=>u?r:null)):(0,Kn.of)(null))),XT=(0,E.Mz)(gg.N,d=>d.metaTag),qA=(0,E.Mz)(XT,d=>d.tagsInUse);let df=(()=>{class d{constructor(r,u,w,Y,De,Ie,tt,Pt,bn,en,ti){this.router=r,this.translate=u,this.meta=w,this.title=Y,this.dsoNameService=De,this.bundleDataService=Ie,this.rootService=tt,this.store=Pt,this.hardRedirectService=bn,this.appConfig=en,this.authorizationService=ti,this.currentObject=new y.t(void 0),this.CITATION_PDF_URL_MIMETYPES=["application/pdf","application/postscript","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/rtf","application/epub+zip"]}listenForRouteChange(){this.setGenerator(),this.router.events.pipe((0,_o.p)(r=>r instanceof v.wF),(0,In.T)(()=>this.router.routerState.root),(0,In.T)(r=>({params:(r=this.getCurrentRoute(r)).params,data:r.data}))).subscribe(r=>{this.processRouteChange(r)})}processRouteChange(r){if(this.clearMetaTags(),(0,V.a4)(r.data.value.dso)&&(0,V.a4)(r.data.value.dso.payload)&&(this.currentObject.next(r.data.value.dso.payload),this.setDSOMetaTags()),r.data.value.title){const u=this.translate.get("repository.title.prefix"),w=this.translate.get(r.data.value.title,r.data.value);(0,Ns.z)([u,w]).pipe((0,D.s)(1)).subscribe(([Y,De])=>{this.addMetaTag("title",Y+De),this.title.setTitle(Y+De)})}r.data.value.description&&this.translate.get(r.data.value.description).pipe((0,D.s)(1)).subscribe(u=>{this.addMetaTag("description",u)})}getCurrentRoute(r){for(;r.firstChild;)r=r.firstChild;return r}setDSOMetaTags(){this.setTitleTag(),this.setDescriptionTag(),this.setCitationTitleTag(),this.setCitationAuthorTags(),this.setCitationPublicationDateTag(),this.setCitationISSNTag(),this.setCitationISBNTag(),this.setCitationLanguageTag(),this.setCitationKeywordsTag(),this.setCitationAbstractUrlTag(),this.setCitationDoiTag(),this.setCitationPdfUrlTag(),this.setCitationPublisherTag(),this.isDissertation()&&this.setCitationDissertationNameTag()}setTitleTag(){const r=this.dsoNameService.getName(this.currentObject.getValue());this.addMetaTag("title",r),this.title.setTitle(r)}setDescriptionTag(){const r=this.getMetaTagValue("dc.description.abstract");this.addMetaTag("description",r)}setCitationTitleTag(){const r=this.getMetaTagValue("dc.title");this.addMetaTag("citation_title",r)}setCitationAuthorTags(){const r=this.getMetaTagValues(["dc.author","dc.contributor.author","dc.creator"]);this.addMetaTags("citation_author",r)}setCitationPublicationDateTag(){const r=this.getFirstMetaTagValue(["dc.date.copyright","dc.date.issued","dc.date.available","dc.date.accessioned"]);this.addMetaTag("citation_publication_date",r)}setCitationISSNTag(){const r=this.getMetaTagValue("dc.identifier.issn");this.addMetaTag("citation_issn",r)}setCitationISBNTag(){const r=this.getMetaTagValue("dc.identifier.isbn");this.addMetaTag("citation_isbn",r)}setCitationLanguageTag(){const r=this.getFirstMetaTagValue(["dc.language","dc.language.iso"]);this.addMetaTag("citation_language",r)}setCitationDissertationNameTag(){const r=this.getMetaTagValue("dc.title");this.addMetaTag("citation_dissertation_name",r)}setCitationPublisherTag(){const r=this.getMetaTagValue("dc.publisher");this.isDissertation()?this.addMetaTag("citation_dissertation_institution",r):this.isTechReport()?this.addMetaTag("citation_technical_report_institution",r):this.addMetaTag("citation_publisher",r)}setCitationKeywordsTag(){const r=this.getMetaTagValuesAndCombine("dc.subject");this.addMetaTag("citation_keywords",r)}setCitationAbstractUrlTag(){if(this.currentObject.value instanceof el.q){let r=this.getMetaTagValue("dc.identifier.uri");(0,V.Tn)(r)&&(r=new vs.t(this.hardRedirectService.getCurrentOrigin(),this.router.url).toString()),this.addMetaTag("citation_abstract_html_url",r)}}setCitationDoiTag(){if(this.currentObject.value instanceof el.q){const r=this.getMetaTagValue("dc.identifier.doi");(0,V.a4)(r)&&this.addMetaTag("citation_doi",r)}}setCitationPdfUrlTag(){this.currentObject.value instanceof el.q&&this.bundleDataService.findByItemAndName(this.currentObject.value,"ORIGINAL",!0,!0,new lP._,(0,as.s)("primaryBitstream"),(0,as.s)("bitstreams",{findListOptions:{elementsPerPage:this.appConfig.item.bitstream.pageSize}},(0,as.s)("format"))).pipe((0,Mi.ak)(),(0,Ni.n)(u=>u.primaryBitstream.pipe((0,Mi.qD)(),(0,In.T)(w=>(0,V.a4)(w.payload)?w.payload:null),zT(this.authorizationService),(0,In.T)(w=>[u,w]))),(0,Ni.n)(([u,w])=>(0,V.a4)(w)?[(0,Gi.hV)(w)]:u.bitstreams.pipe((0,Mi.qD)(),(0,Ni.n)(Y=>(0,V.a4)(Y.payload)&&1===Y.payload.totalElements?this.getBitLinkIfDownloadable(Y.payload.page[0],Y):this.getFirstAllowedFormatBitstreamLink(Y)))),(0,D.s)(1)).subscribe(u=>{this.addMetaTag("citation_pdf_url",new vs.t(this.hardRedirectService.getCurrentOrigin(),u).toString())})}getBitLinkIfDownloadable(r,u){return(0,Kn.of)(r).pipe(zT(this.authorizationService),(0,Ni.n)(w=>(0,V.a4)(w)?[(0,Gi.hV)(w)]:this.getFirstAllowedFormatBitstreamLink(u)))}getFirstAllowedFormatBitstreamLink(r){return(0,V.a4)(r.payload)&&(0,V.hj)(r.payload.page)?(0,nL.x)(...r.payload.page.map(u=>u.format.pipe((0,Mi.ak)(),(0,In.T)(w=>[u,w])))).pipe((0,Tr.Z)(([u,w])=>(0,Kn.of)(u).pipe(zT(this.authorizationService),(0,In.T)(Y=>[Y,w]))),(0,_o.p)(([u,w])=>(0,V.a4)(w)&&(0,V.a4)(u)&&this.CITATION_PDF_URL_MIMETYPES.includes(w.mimetype)),(0,D.s)(1),(0,In.T)(([u,w])=>(0,Gi.hV)(u))):Dr.w}setGenerator(){this.rootService.findRoot().pipe((0,Mi.ak)()).subscribe(r=>{this.meta.addTag({name:"Generator",content:r.dspaceVersion})})}hasType(r){return this.currentObject.value.hasMetadata("dc.type",{value:r,ignoreCase:!0})}isDissertation(){return this.hasType("thesis")}isTechReport(){return this.hasType("technical report")}getMetaTagValue(r){return this.currentObject.value.firstMetadataValue(r)}getFirstMetaTagValue(r){return this.currentObject.value.firstMetadataValue(r)}getMetaTagValuesAndCombine(r){return this.getMetaTagValues([r]).join("; ")}getMetaTagValues(r){return this.currentObject.value.allMetadataValues(r)}addMetaTag(r,u){u&&(this.meta.addTag({name:r,content:u}),this.storeTag(r))}addMetaTags(r,u){for(const w of u)this.addMetaTag(r,w)}storeTag(r){this.store.dispatch(new kA(r))}clearMetaTags(){this.store.pipe((0,E.Lt)(qA),(0,D.s)(1)).subscribe(r=>{for(const u of r)this.meta.removeTag("name='"+u+"'");this.store.dispatch(new VA)})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(v.Ix),e.KVO(K.c$),e.KVO(p.W8),e.KVO(p.hE),e.KVO(Oi.f),e.KVO(bv.BundleDataService),e.KVO(Qd.RootDataService),e.KVO(E.il),e.KVO(Cg.$),e.KVO(vo.vQ),e.KVO(Fo.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var bg=n(38248),ex=n(78022),tx=n(60410),nx=n(59997);const ix=new Ds.v("duplicate");var sx=n(77356),ox=n(67716),rx=n(49229),YT=n(16811),ax=n(46499),lx=n(23942),cx=n(90762),dx=n(78397),ux=n(10129),hx=n(74942),px=n(83286),fx=n(35953),mx=n(24759),gx=n(32468),_x=n(80675),vx=n(81711),yx=n(39637),QT=n(7316),Xv=n(45740),Ex=n(11082),JT=n(52526),ZT=n(88827);const Cx=new Map([[J0.value,()=>Promise.resolve().then(n.bind(n,11873)).then(d=>d.AuthorizationDataService)],[fx.z.value,()=>Promise.resolve().then(n.bind(n,54009)).then(d=>d.BrowseDefinitionDataService)],[Ll.XI.value,()=>n.e(3271).then(n.bind(n,63271)).then(d=>d.BulkAccessConfigDataService)],[lx.M.value,()=>n.e(3706).then(n.bind(n,51325)).then(d=>d.MetadataSchemaDataService)],[Ll.V_.value,()=>n.e(9545).then(n.bind(n,99545)).then(d=>d.SubmissionUploadsConfigDataService)],[hx.e.value,()=>Promise.resolve().then(n.bind(n,4266)).then(d=>d.BitstreamDataService)],[Ll.NS.value,()=>n.e(1271).then(n.bind(n,61271)).then(d=>d.SubmissionAccessesConfigDataService)],[ox.B.value,()=>Promise.resolve().then(n.bind(n,35659)).then(d=>d.SystemWideAlertDataService)],[Xv.N.value,()=>n.e(2076).then(n.bind(n,98676)).then(d=>d.UsageReportDataService)],[V0.E.value,()=>n.e(3993).then(n.bind(n,86374)).then(d=>d.AccessStatusDataService)],[O_.n.value,()=>Promise.resolve().then(n.bind(n,69295)).then(d=>d.CollectionDataService)],[JT.a.value,()=>Promise.resolve().then(n.bind(n,25580)).then(d=>d.ClaimedTaskDataService)],[qu.mt.value,()=>Promise.resolve().then(n.bind(n,82245)).then(d=>d.HrefOnlyDataService)],[vx.N.value,()=>Promise.resolve().then(n.bind(n,82245)).then(d=>d.HrefOnlyDataService)],[ty.m.value,()=>Promise.resolve().then(n.bind(n,82245)).then(d=>d.HrefOnlyDataService)],[sx.m.value,()=>Promise.resolve().then(n.bind(n,41947)).then(d=>d.SubscriptionsDataService)],[gx.G.value,()=>Promise.resolve().then(n.bind(n,30684)).then(d=>d.CommunityDataService)],[qu.Hx.value,()=>Promise.resolve().then(n.bind(n,37921)).then(d=>d.VocabularyDataService)],[mx.d.value,()=>Promise.resolve().then(n.bind(n,37419)).then(d=>d.BundleDataService)],[lp.value,()=>Promise.resolve().then(n.bind(n,94925)).then(d=>d.ConfigurationDataService)],[ZT.T.value,()=>Promise.resolve().then(n.bind(n,31755)).then(d=>d.PoolTaskDataService)],[JT.a.value,()=>Promise.resolve().then(n.bind(n,25580)).then(d=>d.ClaimedTaskDataService)],[up.T.value,()=>Promise.resolve().then(n.bind(n,99737)).then(d=>d.SupervisionOrderDataService)],[YT.l.value,()=>Promise.resolve().then(n.bind(n,25645)).then(d=>d.WorkspaceitemDataService)],[rx.z.value,()=>Promise.resolve().then(n.bind(n,80189)).then(d=>d.WorkflowItemDataService)],[qu.Hx.value,()=>Promise.resolve().then(n.bind(n,37921)).then(d=>d.VocabularyDataService)],[qu.cK.value,()=>Promise.resolve().then(n.bind(n,50475)).then(d=>d.VocabularyEntryDetailsDataService)],[Rs.value,()=>n.e(9938).then(n.bind(n,9938)).then(d=>d.SubmissionCcLicenseUrlDataService)],[Ex.Q.value,()=>n.e(6106).then(n.bind(n,6106)).then(d=>d.SubmissionCcLicenseDataService)],[Xv.N.value,()=>n.e(2076).then(n.bind(n,98676)).then(d=>d.UsageReportDataService)],[ux.O.value,()=>n.e(3017).then(n.bind(n,33017)).then(d=>d.ResourcePolicyDataService)],[dx.T.value,()=>Promise.resolve().then(n.bind(n,89894)).then(d=>d.ResearcherProfileDataService)],[b_.value,()=>n.e(2076).then(n.bind(n,23619)).then(d=>d.OrcidQueueDataService)],[VS.value,()=>n.e(2076).then(n.bind(n,27038)).then(d=>d.OrcidHistoryDataService)],[z0.value,()=>n.e(2076).then(n.bind(n,44585)).then(d=>d.FeedbackDataService)],[P_.U.value,()=>Promise.resolve().then(n.bind(n,2086)).then(d=>d.GroupDataService)],[D_.N.value,()=>Promise.resolve().then(n.bind(n,13817)).then(d=>d.EPersonDataService)],[ly.f.value,()=>Promise.resolve().then(n.bind(n,14597)).then(d=>d.WorkflowActionDataService)],[sy.s.value,()=>Promise.resolve().then(n.bind(n,7164)).then(d=>d.VersionHistoryDataService)],[nu.value,()=>Promise.resolve().then(n.bind(n,45402)).then(d=>d.SiteDataService)],[BS.value,()=>Promise.resolve().then(n.bind(n,82923)).then(d=>d.RootDataService)],[QT.U.value,()=>Promise.resolve().then(n.bind(n,88392)).then(d=>d.RelationshipTypeDataService)],[yx.X.value,()=>Promise.resolve().then(n.bind(n,87433)).then(d=>d.RelationshipDataService)],[nx.M.value,()=>Promise.resolve().then(n.bind(n,60696)).then(d=>d.ScriptDataService)],[tx.A.value,()=>n.e(2076).then(n.bind(n,96766)).then(d=>d.ProcessDataService)],[ax.R.value,()=>n.e(7151).then(n.bind(n,87151)).then(d=>d.MetadataFieldDataService)],[op.U.value,()=>Promise.resolve().then(n.bind(n,61206)).then(d=>d.ItemDataService)],[gC.x.value,()=>Promise.resolve().then(n.bind(n,57439)).then(d=>d.VersionDataService)],[sC.f.value,()=>n.e(2076).then(n.bind(n,77714)).then(d=>d.IdentifierDataService)],[am.value,()=>Promise.resolve().then(n.bind(n,11873)).then(d=>d.AuthorizationDataService)],[_x.X.value,()=>Promise.resolve().then(n.bind(n,98733)).then(d=>d.DSpaceObjectDataService)],[px.a.value,()=>Promise.resolve().then(n.bind(n,32336)).then(d=>d.BitstreamFormatDataService)],[xS.value,()=>n.e(9832).then(n.bind(n,49832)).then(d=>d.CoarNotifyConfigDataService)],[ep.tc.value,()=>n.e(2076).then(n.bind(n,70518)).then(d=>d.LdnItemfiltersService)],[ep.zd.value,()=>Promise.resolve().then(n.bind(n,43374)).then(d=>d.LdnServicesService)],[ex.g.value,()=>Promise.resolve().then(n.bind(n,12673)).then(d=>d.AdminNotifyMessagesService)],[Ll.KX.value,()=>n.e(2384).then(n.bind(n,12384)).then(d=>d.SubmissionFormsConfigDataService)],[k0.value,()=>n.e(284).then(n.bind(n,20284)).then(d=>d.NotifyRequestsStatusDataService)],[X0.value,()=>Promise.resolve().then(n.bind(n,78130)).then(d=>d.QualityAssuranceEventDataService)],[_l.value,()=>Promise.resolve().then(n.bind(n,20387)).then(d=>d.QualityAssuranceSourceDataService)],[Y0.value,()=>Promise.resolve().then(n.bind(n,45688)).then(d=>d.QualityAssuranceTopicDataService)],[cx.P.value,()=>Promise.resolve().then(n.bind(n,295)).then(d=>d.SuggestionDataService)],[kS.value,()=>n.e(8675).then(n.bind(n,8675)).then(d=>d.SuggestionSourceDataService)],[Q0.value,()=>Promise.resolve().then(n.bind(n,64959)).then(d=>d.SuggestionTargetDataService)],[ix.value,()=>Promise.resolve().then(n.bind(n,72947)).then(d=>d.SubmissionDuplicateDataService)],[Uc.type.value,()=>Promise.resolve().then(n.bind(n,23743)).then(d=>d.CorrectionTypeDataService)]]),yu=(d,_)=>[d,_];function iL(d,_){if(1&d){const r=e.RV6();e.j41(0,"label",3)(1,"input",4),e.bIt("blur",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(w))})("change",function(w){const Y=e.eBV(r).$implicit,De=e.XpG();return e.Njj(De.onCheckboxChange(w,Y))})("focus",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(w))}),e.k0s(),e.nrm(2,"span",5),e.k0s()}if(2&d){const r=_.$implicit,u=e.XpG();e.Y8G("hidden",r.hidden)("ngClass",u.getClass("element","control",r)),e.R7$(),e.Y8G("checked",r.checked)("formControlName",r.id)("id",u.getCheckboxId(r))("name",r.name)("required",r.required)("tabindex",r.tabIndex)("value",r.value),e.R7$(),e.Y8G("ngClass",u.getClass("element","label",r))("innerHTML",r.label,e.npT)}}function qT(d,_){if(1&d&&(e.j41(0,"div",6),e.nrm(1,"span",7),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("innerHTML",r.model.prefix,e.npT)}}function Dx(d,_){if(1&d){const r=e.RV6();e.j41(0,"input",8),e.bIt("blur",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(w))})("change",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onChange(w))})("focus",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(w))}),e.k0s()}if(2&d){const r=e.XpG();e.AVh("is-invalid",r.showErrorMessages),e.Y8G("autocomplete",r.model.autoComplete)("autofocus",r.model.autoFocus)("dynamicList",r.model.listId)("formControlName",r.model.id)("id",r.id)("maxlength",r.model.maxLength)("minlength",r.model.minLength)("name",r.model.name)("ngClass",r.getClass("element","control"))("pattern",r.model.pattern)("placeholder",r.model.placeholder)("readonly",r.model.readOnly)("required",r.model.required)("spellcheck",r.model.spellCheck)("tabindex",r.model.tabIndex)("type",r.model.inputType),e.BMQ("accept",r.model.accept)("max",r.model.max)("min",r.model.min)("multiple",r.model.multiple)("step",r.model.step)}}function eM(d,_){if(1&d){const r=e.RV6();e.j41(0,"input",9),e.bIt("blur",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(w))})("change",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onChange(w))})("focus",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(w))}),e.k0s()}if(2&d){const r=e.XpG();e.AVh("is-invalid",r.showErrorMessages),e.Y8G("autocomplete",r.model.autoComplete)("autofocus",r.model.autoFocus)("dynamicList",r.model.listId)("formControlName",r.model.id)("id",r.id)("maxlength",r.model.maxLength)("minlength",r.model.minLength)("name",r.model.name)("ngClass",r.getClass("element","control"))("pattern",r.model.pattern)("placeholder",r.model.placeholder)("readonly",r.model.readOnly)("required",r.model.required)("spellcheck",r.model.spellCheck)("tabindex",r.model.tabIndex)("mask",r.model.mask)("specialCharacters",null==r.model.maskConfig?null:r.model.maskConfig.specialCharacters)("patterns",null==r.model.maskConfig?null:r.model.maskConfig.patterns)("prefix",null==r.model.maskConfig?null:r.model.maskConfig.prefix)("suffix",null==r.model.maskConfig?null:r.model.maskConfig.suffix)("thousandSeparator",null==r.model.maskConfig?null:r.model.maskConfig.thousandSeparator)("decimalMarker",null==r.model.maskConfig?null:r.model.maskConfig.decimalMarker)("dropSpecialCharacters",null==r.model.maskConfig?null:r.model.maskConfig.dropSpecialCharacters)("hiddenInput",null==r.model.maskConfig?null:r.model.maskConfig.hiddenInput)("showMaskTyped",null==r.model.maskConfig?null:r.model.maskConfig.showMaskTyped)("placeHolderCharacter",null==r.model.maskConfig?null:r.model.maskConfig.placeHolderCharacter)("shownMaskExpression",null==r.model.maskConfig?null:r.model.maskConfig.shownMaskExpression)("showTemplate",null==r.model.maskConfig?null:r.model.maskConfig.showTemplate)("clearIfNotMatch",r.model.maskConfig.clearIfNotMatch)("validation",r.model.maskConfig.validation)("separatorLimit",r.model.maskConfig.separatorLimit)("allowNegativeNumbers",r.model.maskConfig.allowNegativeNumbers)("leadZeroDateTime",r.model.maskConfig.leadZeroDateTime)("type",r.model.inputType),e.BMQ("accept",r.model.accept)("max",r.model.max)("min",r.model.min)("multiple",r.model.multiple)("step",r.model.step)}}function Tx(d,_){if(1&d&&(e.j41(0,"div",10),e.nrm(1,"span",7),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.Y8G("innerHTML",r.model.suffix,e.npT)}}function o1(d,_){1&d&&e.nrm(0,"option",13),2&d&&e.Y8G("value",_.$implicit)}function r1(d,_){if(1&d&&(e.j41(0,"datalist",11),e.DNE(1,o1,1,1,"option",12),e.nI1(2,"async"),e.k0s()),2&d){const r=e.XpG();e.Y8G("id",r.model.listId),e.R7$(),e.Y8G("ngForOf",e.bMT(2,2,r.model.list$))}}function tM(d,_){if(1&d&&e.nrm(0,"legend",4),2&d){const r=e.XpG();e.Y8G("innerHTML",r.model.legend,e.npT)}}function nM(d,_){if(1&d){const r=e.RV6();e.j41(0,"label",5)(1,"input",6),e.bIt("blur",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(w))})("focus",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(w))}),e.k0s(),e.nrm(2,"span",4),e.k0s()}if(2&d){const r=_.$implicit,u=e.XpG();e.Y8G("ngClass",e.l_i(5,yu,u.getClass("element","option"),u.getClass("grid","option"))),e.R7$(),e.Y8G("disabled",r.disabled)("name",u.model.name)("value",r.value),e.R7$(),e.Y8G("innerHTML",r.label,e.npT)}}function iM(d,_){if(1&d&&(e.j41(0,"option",3),e.EFF(1),e.k0s()),2&d){const r=_.$implicit;e.Y8G("disabled",r.disabled)("ngValue",r.value),e.R7$(),e.JRh(r.label)}}let sM=(()=>{class d extends zi.S6A{constructor(r,u,w){super(r,u),this.layoutService=r,this.validationService=u,this.config=w,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(zi.fpj),e.rXU(zi.STK),e.rXU(G.I5))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-calendar"]],viewQuery:function(r,u){if(1&r&&e.GBs(G.yB,7),2&r){let w;e.mGM(w=e.lsd())&&(u.ngbCalendar=w.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:13,consts:[[3,"formGroup"],[3,"select","displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","navigation","ngClass","outsideDays","showWeekNumbers","weekdays","startDate"]],template:function(r,u){1&r&&(e.qex(0,0),e.j41(1,"ngb-datepicker",1),e.bIt("select",function(Y){return u.onChange(Y)}),e.k0s(),e.bVm()),2&r&&(e.Y8G("formGroup",u.group),e.R7$(),e.Y8G("displayMonths",u.model.getAdditional("displayMonths",u.config.displayMonths))("firstDayOfWeek",u.model.getAdditional("firstDayOfWeek",u.config.firstDayOfWeek))("formControlName",u.model.id)("id",u.id)("maxDate",u.model.max)("minDate",u.model.min)("navigation",u.model.getAdditional("navigation",u.config.navigation))("ngClass",u.getClass("element","control"))("outsideDays",u.model.getAdditional("outsideDays",u.config.outsideDays))("showWeekNumbers",u.model.getAdditional("showWeekNumbers",u.config.showWeekNumbers))("weekdays",u.model.getAdditional("showWeekdays",u.config.weekdays))("startDate",u.model.focusedDate))},dependencies:[f.YU,Yn.BC,Yn.cb,Yn.j4,Yn.JD,G.yB],encapsulation:2,changeDetection:0}),d})(),oM=(()=>{class d extends zi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(zi.fpj),e.rXU(zi.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-checkbox"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:19,consts:[[1,"form-check",3,"formGroup"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"blur","change","focus","checked","formControlName","id","indeterminate","name","ngClass","required","tabindex","value"],[3,"innerHTML","ngClass"]],template:function(r,u){1&r&&(e.j41(0,"div",0)(1,"label",1)(2,"input",2),e.bIt("blur",function(Y){return u.onBlur(Y)})("change",function(Y){return u.onChange(Y)})("focus",function(Y){return u.onFocus(Y)}),e.k0s(),e.nrm(3,"span",3),e.k0s()()),2&r&&(e.AVh("disabled",u.model.disabled),e.Y8G("formGroup",u.group),e.R7$(2),e.AVh("is-invalid",u.showErrorMessages),e.Y8G("checked",u.model.checked)("formControlName",u.model.id)("id",u.id)("indeterminate",u.model.indeterminate)("name",u.model.name)("ngClass",u.getClass("element","control"))("required",u.model.required)("tabindex",u.model.tabIndex)("value",u.model.value),e.R7$(),e.Y8G("innerHTML",u.model.label,e.npT)("ngClass",e.l_i(16,yu,u.getClass("element","label"),u.getClass("grid","label"))))},dependencies:[f.YU,Yn.Zm,Yn.BC,Yn.cb,Yn.xq,Yn.j4,Yn.JD],encapsulation:2}),d})(),rM=(()=>{class d extends zi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}getCheckboxId(r){return this.layoutService.getElementId(r)}onCheckboxChange(r,u){this.onChange(r),u.value=r.target.checked}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(zi.fpj),e.rXU(zi.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-checkbox-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:3,vars:5,consts:[[3,"formGroup"],["data-toggle","buttons",1,"btn-group","btn-group-toggle",3,"formGroupName","id","ngClass"],["ngbButtonLabel","",3,"hidden","ngClass",4,"ngFor","ngForOf"],["ngbButtonLabel","",3,"hidden","ngClass"],["type","checkbox","ngbButton","",3,"blur","change","focus","checked","formControlName","id","name","required","tabindex","value"],[3,"ngClass","innerHTML"]],template:function(r,u){1&r&&(e.qex(0,0),e.j41(1,"div",1),e.DNE(2,iL,3,11,"label",2),e.k0s(),e.bVm()),2&r&&(e.Y8G("formGroup",u.group),e.R7$(),e.Y8G("formGroupName",u.model.id)("id",u.id)("ngClass",u.getClass("element","control")),e.R7$(),e.Y8G("ngForOf",u.model.group))},dependencies:[f.YU,f.Sq,Yn.Zm,Yn.BC,Yn.cb,Yn.xq,Yn.j4,Yn.JD,Yn.$R,G.so,G.b7],encapsulation:2,changeDetection:0}),d})(),lM=(()=>{class d extends zi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(zi.fpj),e.rXU(zi.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-input"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:7,vars:8,consts:[["maskedInput",""],[3,"formGroup"],["class","input-group-prepend",4,"ngIf"],["class","form-control-file",3,"autocomplete","autofocus","is-invalid","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus",4,"ngIf","ngIfElse"],["class","input-group-append",4,"ngIf"],[3,"id",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text",3,"innerHTML"],[1,"form-control-file",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type"],[1,"form-control",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","mask","specialCharacters","patterns","prefix","suffix","thousandSeparator","decimalMarker","dropSpecialCharacters","hiddenInput","showMaskTyped","placeHolderCharacter","shownMaskExpression","showTemplate","clearIfNotMatch","validation","separatorLimit","allowNegativeNumbers","leadZeroDateTime","type"],[1,"input-group-append"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,u){if(1&r&&(e.j41(0,"div",1),e.DNE(1,qT,2,1,"div",2)(2,Dx,1,23,"input",3)(3,eM,1,41,"ng-template",null,0,e.C5r)(5,Tx,2,1,"div",4)(6,r1,3,4,"datalist",5),e.k0s()),2&r){const w=e.sdS(4);e.AVh("input-group",u.model.prefix||u.model.suffix),e.Y8G("formGroup",u.group),e.R7$(),e.Y8G("ngIf",u.model.prefix),e.R7$(),e.Y8G("ngIf","file"===u.model.inputType)("ngIfElse",w),e.R7$(3),e.Y8G("ngIf",u.model.suffix),e.R7$(),e.Y8G("ngIf",u.model.hasList)}},dependencies:[f.YU,f.Sq,f.bT,Yn.xH,Yn.y7,Yn.me,Yn.BC,Yn.cb,Yn.YS,Yn.xh,Yn.tU,Yn.R_,Yn.j4,Yn.JD,Vg.I0,zi.Vne,f.Jj],encapsulation:2}),d})(),cM=(()=>{class d extends zi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(zi.fpj),e.rXU(zi.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-radio-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:5,vars:9,consts:[[3,"formGroup"],["ngbRadioGroup","","role","radiogroup",1,"btn-group","btn-group-toggle",3,"change","formControlName","id","ngClass","tabindex"],[3,"innerHTML",4,"ngIf"],["ngbButtonLabel","",3,"ngClass",4,"ngFor","ngForOf"],[3,"innerHTML"],["ngbButtonLabel","",3,"ngClass"],["type","radio","ngbButton","",3,"blur","focus","disabled","name","value"]],template:function(r,u){1&r&&(e.qex(0,0),e.j41(1,"div",1),e.bIt("change",function(Y){return u.onChange(Y)}),e.DNE(2,tM,1,1,"legend",2)(3,nM,3,8,"label",3),e.nI1(4,"async"),e.k0s(),e.bVm()),2&r&&(e.Y8G("formGroup",u.group),e.R7$(),e.Y8G("formControlName",u.model.id)("id",u.id)("ngClass",u.getClass("element","control"))("tabindex",u.model.tabIndex),e.R7$(),e.Y8G("ngIf",u.model.legend),e.R7$(),e.Y8G("ngForOf",e.bMT(4,7,u.model.options$)))},dependencies:[f.YU,f.Sq,f.bT,Yn.BC,Yn.cb,Yn.j4,Yn.JD,G.so,G.M0,G.px,f.Jj],encapsulation:2,changeDetection:0}),d})(),Ix=(()=>{class d extends zi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(zi.fpj),e.rXU(zi.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-select"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:13,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","compareWith","formControlName","id","name","ngClass","required","tabindex"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[3,"disabled","ngValue"]],template:function(r,u){1&r&&(e.qex(0,0),e.j41(1,"select",1),e.bIt("blur",function(Y){return u.onBlur(Y)})("change",function(Y){return u.onChange(Y)})("focus",function(Y){return u.onFocus(Y)}),e.DNE(2,iM,2,3,"option",2),e.nI1(3,"async"),e.k0s(),e.bVm()),2&r&&(e.Y8G("formGroup",u.group),e.R7$(),e.AVh("is-invalid",u.showErrorMessages),e.Y8G("compareWith",u.model.compareWithFn)("formControlName",u.model.id)("id",u.id)("name",u.model.name)("ngClass",u.getClass("element","control"))("required",u.model.required)("tabindex",u.model.tabIndex),e.R7$(),e.Y8G("ngForOf",e.bMT(3,11,u.model.options$)))},dependencies:[f.YU,f.Sq,Yn.xH,Yn.y7,Yn.wz,Yn.BC,Yn.cb,Yn.YS,Yn.j4,Yn.JD,f.Jj],encapsulation:2}),d})(),dM=(()=>{class d extends zi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(zi.fpj),e.rXU(zi.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-textarea"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:17,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","cols","formControlName","id","maxlength","minlength","name","ngClass","placeholder","readonly","required","rows","spellcheck","tabindex","wrap"]],template:function(r,u){1&r&&(e.qex(0,0),e.j41(1,"textarea",1),e.bIt("blur",function(Y){return u.onBlur(Y)})("change",function(Y){return u.onChange(Y)})("focus",function(Y){return u.onFocus(Y)}),e.k0s(),e.bVm()),2&r&&(e.Y8G("formGroup",u.group),e.R7$(),e.AVh("is-invalid",u.showErrorMessages),e.Y8G("cols",u.model.cols)("formControlName",u.model.id)("id",u.id)("maxlength",u.model.maxLength)("minlength",u.model.minLength)("name",u.model.name)("ngClass",u.getClass("element","control"))("placeholder",u.model.placeholder)("readonly",u.model.readOnly)("required",u.model.required)("rows",u.model.rows)("spellcheck",u.model.spellCheck)("tabindex",u.model.tabIndex)("wrap",u.model.wrap))},dependencies:[f.YU,Yn.me,Yn.BC,Yn.cb,Yn.YS,Yn.xh,Yn.tU,Yn.j4,Yn.JD],encapsulation:2}),d})(),u1=(()=>{class d extends zi.S6A{constructor(r,u,w){super(r,u),this.layoutService=r,this.validationService=u,this.config=w,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(r){return new(r||d)(e.rXU(zi.fpj),e.rXU(zi.STK),e.rXU(G.Ng))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-timepicker"]],viewQuery:function(r,u){if(1&r&&e.GBs(G.Pe,7),2&r){let w;e.mGM(w=e.lsd())&&(u.ngbTimePicker=w.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:11,consts:[[3,"formGroup"],[3,"id","formControlName","hourStep","meridian","minuteStep","ngClass","seconds","secondStep","size","spinners"]],template:function(r,u){1&r&&(e.qex(0,0),e.nrm(1,"ngb-timepicker",1),e.bVm()),2&r&&(e.Y8G("formGroup",u.group),e.R7$(),e.Y8G("id",u.id)("formControlName",u.model.id)("hourStep",u.model.getAdditional("hourStep",u.config.hourStep))("meridian",u.model.meridian)("minuteStep",u.model.getAdditional("minuteStep",u.config.minuteStep))("ngClass",u.getClass("element","control"))("seconds",u.model.showSeconds)("secondStep",u.model.getAdditional("secondStep",u.config.secondStep))("size",u.model.getAdditional("size",u.config.size))("spinners",u.model.getAdditional("spinners",u.config.spinners)))},dependencies:[f.YU,Yn.BC,Yn.cb,Yn.j4,Yn.JD,G.Pe],encapsulation:2,changeDetection:0}),d})();var Dd=n(11275),uf=n(40031),hL=n(50808),Rx=n(53195);n(55398);const hM=(d,_)=>[d,_];function pM(d,_){1&d&&e.eu8(0)}function fL(d,_){if(1&d){const r=e.RV6();e.j41(0,"ds-dynamic-form-control-container",11),e.bIt("dfBlur",function(w){e.eBV(r);const Y=e.XpG(2);return e.Njj(Y.onBlur(w))})("dfChange",function(w){e.eBV(r);const Y=e.XpG(2);return e.Njj(Y.onChange(w))})("dfFocus",function(w){e.eBV(r);const Y=e.XpG(2);return e.Njj(Y.onFocus(w))})("ngbEvent",function(w){e.eBV(r);const Y=e.XpG(2);return e.Njj(Y.onCustomEvent(w,null,!0))}),e.k0s()}if(2&d){const r=_.$implicit,u=e.XpG().$implicit,w=e.XpG();e.AVh("d-none",r.hidden),e.Y8G("bindId",!1)("formGroup",w.group)("formModel",w.formModel)("context",u)("group",w.getControlOfGroup(u))("hidden",r.hidden)("layout",w.formLayout)("model",r)("templates",w.templates)("ngClass",e.l_i(12,hM,w.getClass("element","host",r),w.getClass("grid","host",r)))}}function Ax(d,_){1&d&&e.eu8(0)}function xx(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",6,1)(2,"div",7),e.bIt("focus",function(){e.eBV(r);const w=e.sdS(1),Y=e.XpG();return e.Njj(Y.addInstructionMessageToLiveRegion(w))})("keydown.space",function(w){const Y=e.eBV(r),De=Y.$index,Ie=Y.$count,tt=e.sdS(1),Pt=e.XpG();return e.Njj(Pt.toggleKeyboardDragAndDrop(w,tt,De,Ie))})("keydown.enter",function(w){const Y=e.eBV(r),De=Y.$index,Ie=Y.$count,tt=e.sdS(1),Pt=e.XpG();return e.Njj(Pt.toggleKeyboardDragAndDrop(w,tt,De,Ie))})("keydown.tab",function(){const w=e.eBV(r),Y=w.$index,De=w.$count,Ie=e.sdS(1),tt=e.XpG();return e.Njj(tt.stopKeyboardDragAndDrop(Ie,Y,De))})("keydown.escape",function(){const w=e.eBV(r),Y=w.$index,De=w.$count,Ie=e.sdS(1),tt=e.XpG();return e.Njj(tt.cancelKeyboardDragAndDrop(Ie,Y,De))})("keydown.arrowUp",function(w){const Y=e.eBV(r),De=Y.$index,Ie=Y.$count,tt=e.XpG(),Pt=e.sdS(3);return e.Njj(tt.handleArrowPress(w,Pt,Ie,De,"up"))})("keydown.arrowDown",function(w){const Y=e.eBV(r),De=Y.$index,Ie=Y.$count,tt=e.XpG(),Pt=e.sdS(3);return e.Njj(tt.handleArrowPress(w,Pt,Ie,De,"down"))}),e.nrm(3,"i",8),e.k0s(),e.DNE(4,pM,1,0,"ng-container",9),e.Z7z(5,fL,1,15,"ds-dynamic-form-control-container",10,e.fX1),e.DNE(7,Ax,1,0,"ng-container",9),e.k0s()}if(2&d){const r=_.$implicit,u=e.XpG();e.AVh("grey-background",u.model.isInlineGroupArray),e.Y8G("formGroupName",r.index)("ngClass",e.l_i(14,hM,u.getClass("element","group"),u.getClass("grid","group")))("cdkDragDisabled",u.dragDisabled)("cdkDragPreviewClass","ds-submission-reorder-dragging"),e.R7$(2),e.AVh("drag-disable",u.dragDisabled),e.R7$(),e.AVh("drag-disable",u.dragDisabled),e.R7$(),e.Y8G("ngTemplateOutlet",null==u.startTemplate?null:u.startTemplate.templateRef)("ngTemplateOutletContext",r),e.R7$(),e.Dyx(r.group),e.R7$(2),e.Y8G("ngTemplateOutlet",null==u.endTemplate?null:u.endTemplate.templateRef)("ngTemplateOutletContext",r)}}let Jv=(()=>{class d extends zi.mEL{constructor(r,u,w,Y){super(r,u),this.layoutService=r,this.validationService=u,this.liveRegionService=w,this.translateService=Y,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}moveSelection(r){if(r.previousIndex===r.currentIndex)return;this.model.moveGroup(r.previousIndex,r.currentIndex-r.previousIndex);const u=r.previousIndex,w=r.currentIndex;(0,V.a4)(this.model.groups[w])&&(0,V.a4)(this.control.controls[w])&&this.onCustomEvent({previousIndex:u,index:w,arrayModel:this.model,model:this.model.groups[w].group[0],control:this.control.controls[w]},"move")}update(r,u){const w=Object.assign({},r,{context:{index:u-1}});this.onChange(w)}get dragDisabled(){return 1===this.model.groups.length||!this.model.isDraggable}getControlOfGroup(r){return r.hasOwnProperty("startingIndex")||(r.startingIndex=r.index),this.control.get([r.startingIndex])}toggleKeyboardDragAndDrop(r,u,w,Y){r.preventDefault(),this.elementBeingSorted?this.stopKeyboardDragAndDrop(u,w,Y):(u.classList.add("sorting-with-keyboard"),this.elementBeingSorted=u,this.elementBeingSortedStartingIndex=w,this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.status",{itemName:u.querySelector("input")?.value,index:w+1,length:Y})))}stopKeyboardDragAndDrop(r,u,w){this.elementBeingSorted?.classList.remove("sorting-with-keyboard"),this.liveRegionService.clear(),this.elementBeingSorted&&(this.elementBeingSorted=null,this.elementBeingSortedStartingIndex=null,this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.dropped",{itemName:r.querySelector("input")?.value,index:u+1,length:w})))}handleArrowPress(r,u,w,Y,De){let Ie="up"===De?Y-1:Y+1;Ie<0?Ie=w-1:Ie>=w&&(Ie=0),this.elementBeingSorted?(this.model.moveGroup(Y,Ie-Y),(0,V.a4)(this.model.groups[Ie])&&(0,V.a4)(this.control.controls[Ie])&&(this.onCustomEvent({previousIndex:Y,newIndex:Ie,arrayModel:this.model,model:this.model.groups[Ie].group[0],control:this.control.controls[Ie]},"move"),this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.moved",{itemName:this.elementBeingSorted.querySelector("input")?.value,index:Ie+1,length:w}))),r.preventDefault(),setTimeout(()=>{this.setFocusToDropListElementOfIndex(u,Ie,De)})):(r.preventDefault(),this.setFocusToDropListElementOfIndex(u,Ie,De))}cancelKeyboardDragAndDrop(r,u,w){this.model.moveGroup(u,this.elementBeingSortedStartingIndex-u),(0,V.a4)(this.model.groups[this.elementBeingSortedStartingIndex])&&(0,V.a4)(this.control.controls[this.elementBeingSortedStartingIndex])&&(this.onCustomEvent({previousIndex:u,newIndex:this.elementBeingSortedStartingIndex,arrayModel:this.model,model:this.model.groups[this.elementBeingSortedStartingIndex].group[0],control:this.control.controls[this.elementBeingSortedStartingIndex]},"move"),this.stopKeyboardDragAndDrop(r,this.elementBeingSortedStartingIndex,w))}setFocusToDropListElementOfIndex(r,u,w){const Y=r.querySelectorAll("[cdkDragHandle]")[u];Y&&(Y.focus(),this.isElementInViewport(Y)||Y.scrollIntoView("up"===w))}isElementInViewport(r){const u=r.getBoundingClientRect();return u.top>=0&&u.left>=0&&u.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&u.right<=(window.innerWidth||document.documentElement.clientWidth)}addInstructionMessageToLiveRegion(r){this.elementBeingSorted||(this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.instructions",{itemName:r.querySelector("input")?.value})))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(zi.fpj),e.rXU(zi.STK),e.rXU(hL.A),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-form-array"]],inputs:{bindId:"bindId",formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:9,consts:[["dropList",""],["sortableElement",""],[3,"formGroup"],[3,"id","formArrayName","ngClass"],["role","listbox","cdkDropList","","cdkDropListLockAxis","y",3,"cdkDropListDropped"],["role","group","cdkDrag","",1,"drag-item-container",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass","grey-background"],["role","group","cdkDrag","",1,"drag-item-container",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass"],["tabindex","0","cdkDragHandle","",1,"drag-handle",3,"focus","keydown.space","keydown.enter","keydown.tab","keydown.escape","keydown.arrowUp","keydown.arrowDown"],[1,"drag-icon","fas","fa-grip-vertical","fa-fw"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"bindId","formGroup","formModel","context","group","hidden","d-none","layout","model","templates","ngClass"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","bindId","formGroup","formModel","context","group","hidden","layout","model","templates","ngClass"]],template:function(u,w){if(1&u){const Y=e.RV6();e.qex(0,2),e.j41(1,"div",3)(2,"div",4,0),e.nI1(4,"translate"),e.bIt("cdkDropListDropped",function(Ie){return e.eBV(Y),e.Njj(w.moveSelection(Ie))}),e.Z7z(5,xx,8,17,"div",5,e.fX1),e.k0s()(),e.bVm()}2&u&&(e.Y8G("formGroup",w.group),e.R7$(),e.AVh("d-none",w.model.hidden),e.Y8G("id",w.id)("formArrayName",w.model.id)("ngClass",w.getClass("element","control")),e.R7$(),e.BMQ("aria-label",e.bMT(4,7,"dynamic-form-array.sortable-list.label")),e.R7$(3),e.Dyx(w.model.groups))},dependencies:()=>[uf.T1,uf.Fb,uf.O7,Rx._,f.YU,f.T3,Yn.X1,Yn.cb,Yn.j4,Yn.$R,Yn.v8,K.h,K.D9],styles:["[_nghost-%COMP%]{display:block}.drag-disable[_ngcontent-%COMP%]{visibility:hidden!important}.drag-disable[_ngcontent-%COMP%]:hover, .drag-disable[_ngcontent-%COMP%]:focus{cursor:default}.drag-disable[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .drag-disable[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:hidden!important}.cdk-drag[_ngcontent-%COMP%]{margin-left:calc(-2.3 * var(--bs-spacer));margin-right:calc(-.5 * var(--bs-spacer));padding-right:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.cdk-drag[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{width:calc(2 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden;width:calc(2 * var(--bs-spacer));color:var(--bs-gray-600);margin:var(--bs-btn-padding-y) 0;line-height:var(--bs-btn-line-height);text-indent:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]:hover, .cdk-drag[_ngcontent-%COMP%]:focus{cursor:grab}.cdk-drag[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .cdk-drag[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.drag-handle[_ngcontent-%COMP%]:hover{cursor:move}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden}.cdk-drag-preview[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}  .sorting-with-keyboard input{background-color:var(--bs-gray-400)}"]})}}return d})();var Zv=n(17964);const fM=(d,_)=>[d,_];let wx=(()=>{class d extends oM{constructor(r,u){super(r,u),this.bindId=!0,this.selected=new e.bkB,this.remove=new e.bkB,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(zi.fpj),e.rXU(zi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-custom-switch"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:23,consts:[[1,"form-check","custom-control","form-switch",3,"formGroup","ngClass"],["type","checkbox",1,"form-check-input","form-check-input",3,"blur","change","focus","checked","id","formControlName","indeterminate","name","ngClass","required","tabindex","value"],[1,"form-check-label","form-check-label",3,"for"],[3,"innerHTML","ngClass"]],template:function(u,w){1&u&&(e.j41(0,"div",0)(1,"input",1),e.bIt("blur",function(De){return w.onBlur(De)})("change",function(De){return w.onChange(De)})("focus",function(De){return w.onFocus(De)}),e.k0s(),e.j41(2,"label",2),e.nrm(3,"span",3),e.nI1(4,"translate"),e.k0s()()),2&u&&(e.AVh("disabled",w.model.disabled),e.Y8G("formGroup",w.group)("ngClass",w.getClass("element","container")),e.R7$(),e.AVh("is-invalid",w.showErrorMessages),e.Y8G("checked",w.model.checked)("id",w.id)("formControlName",w.model.id)("indeterminate",w.model.indeterminate)("name",w.model.name)("ngClass",w.getClass("element","control"))("required",w.model.required)("tabindex",w.model.tabIndex)("value",w.model.value),e.R7$(),e.Y8G("for",w.bindId&&w.model.id),e.R7$(),e.Y8G("innerHTML",e.bMT(4,18,w.model.label),e.npT)("ngClass",e.l_i(20,fM,w.getClass("element","label"),w.getClass("grid","label"))))},dependencies:[f.YU,Yn.X1,Yn.Zm,Yn.BC,Yn.cb,Yn.xq,Yn.j4,Yn.JD,K.h,K.D9]})}}return d})();var mM=n(38941),Eu=n(91836);function gM(d,_){if(1&d&&e.nrm(0,"i",5),2&d){const r=e.XpG();e.HbH(r.model.toggleIcon)}}function Lx(d,_){if(1&d&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&d){const r=e.XpG();e.R7$(),e.JRh(r.model.toggleLabel)}}let mL=(()=>{class d extends zi.S6A{constructor(r,u,w){super(r,u),this.layoutService=r,this.validationService=u,this.config=w,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(zi.fpj),e.rXU(zi.STK),e.rXU(G.I5))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-date-picker-inline"]],viewQuery:function(u,w){if(1&u&&e.GBs(G.yB,5),2&u){let Y;e.mGM(Y=e.lsd())&&(w.ngbDatePicker=Y.first)}},inputs:{bindId:"bindId",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:25,consts:[["datepicker","ngbDatepicker"],[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"blur","dateSelect","change","focus","displayMonths","id","firstDayOfWeek","formControlName","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","weekdays","showWeekNumbers","startDate"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["aria-hidden","true",3,"class"],["aria-hidden","true"]],template:function(u,w){if(1&u){const Y=e.RV6();e.j41(0,"div",1)(1,"input",2,0),e.bIt("blur",function(Ie){return e.eBV(Y),e.Njj(w.onBlur(Ie))})("dateSelect",function(Ie){return e.eBV(Y),e.Njj(w.onChange(Ie))})("change",function(Ie){return e.eBV(Y),e.Njj(w.onChange(Ie))})("focus",function(Ie){return e.eBV(Y),e.Njj(w.onFocus(Ie))}),e.k0s(),e.j41(3,"button",3),e.bIt("click",function(){e.eBV(Y);const Ie=e.sdS(2);return e.Njj(Ie.toggle())}),e.DNE(4,gM,1,3,"i",4)(5,Lx,2,1,"span"),e.k0s()()}2&u&&(e.Y8G("formGroup",w.group),e.R7$(),e.AVh("is-invalid",w.showErrorMessages),e.Y8G("displayMonths",w.model.getAdditional("displayMonths",w.config.displayMonths))("id",w.id)("firstDayOfWeek",w.model.getAdditional("firstDayOfWeek",w.config.firstDayOfWeek))("formControlName",w.model.id)("maxDate",w.model.max)("minDate",w.model.min)("name",w.model.name)("navigation",w.model.getAdditional("navigation",w.config.navigation))("ngClass",w.getClass("element","control"))("outsideDays",w.model.getAdditional("outsideDays",w.config.outsideDays))("placeholder",w.model.placeholder)("placement",w.model.getAdditional("placement","bottom-left"))("weekdays",w.model.getAdditional("showWeekdays",w.config.showWeekdays))("showWeekNumbers",w.model.getAdditional("showWeekNumbers",w.config.showWeekNumbers))("startDate",w.model.focusedDate),e.BMQ("aria-labelledby","label_"+w.model.id),e.R7$(2),e.AVh("disabled",w.model.disabled),e.Y8G("dsBtnDisabled",w.model.disabled),e.BMQ("aria-labelledby","label_"+w.model.id),e.R7$(),e.vxM(w.model.toggleIcon?4:-1),e.R7$(),e.vxM(w.model.toggleLabel?5:-1))},dependencies:[Zm.A,G.IQ,G.cw,f.YU,Yn.X1,Yn.me,Yn.BC,Yn.cb,Yn.j4,Yn.JD],encapsulation:2})}}return d})();var _M=n(23762);let Nx=(()=>{class d extends zi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.modelValuesString="",this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(zi.fpj),e.rXU(zi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-disabled"]],inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:11,consts:[[1,"row","align-items-center"],[1,"col"],[1,"form-control",3,"id","name","value","disabled","type","placeholder","readonly"]],template:function(u,w){1&u&&(e.j41(0,"div")(1,"div",0)(2,"div",1),e.nrm(3,"input",2),e.nI1(4,"translate"),e.k0s()()()),2&u&&(e.R7$(3),e.AVh("is-invalid",w.showErrorMessages),e.Y8G("id",w.id)("name",w.model.name)("value",w.modelValuesString)("disabled",w.model.disabled)("type",w.model.inputType)("placeholder",e.bMT(4,9,w.model.placeholder))("readonly",w.model.readOnly))},dependencies:[K.h,K.D9],encapsulation:2})}}return d})();const h1=(d,_)=>[d,_];function gL(d,_){if(1&d){const r=e.RV6();e.j41(0,"ds-dynamic-form-control-container",4),e.bIt("dfBlur",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(w))})("dfChange",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onChange(w))})("dfFocus",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(w))})("ngbEvent",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onCustomEvent(w,null,!0))}),e.k0s()}if(2&d){const r=_.$implicit,u=e.XpG();e.AVh("d-none",r.hidden),e.Y8G("formGroup",u.group)("formModel",u.formModel)("group",u.control)("hasErrorMessaging",u.model.hasErrorMessages)("hidden",r.hidden)("layout",u.formLayout)("model",r)("templates",u.templates)("ngClass",e.l_i(11,h1,u.getClass("element","host",r),u.getClass("grid","host",r)))}}let Fx=(()=>{class d extends zi.S6A{constructor(r,u){super(r,u),this.layoutService=r,this.validationService=u,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(zi.fpj),e.rXU(zi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-form-group"]],inputs:{formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[[2,"width","100%"],[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","d-none","layout","model","templates","ngClass"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formGroup","formModel","group","hasErrorMessaging","hidden","layout","model","templates","ngClass"]],template:function(u,w){1&u&&(e.j41(0,"div",0),e.qex(1,1),e.j41(2,"div",2),e.Z7z(3,gL,1,14,"ds-dynamic-form-control-container",3,e.fX1),e.k0s(),e.bVm(),e.k0s()),2&u&&(e.R7$(),e.Y8G("formGroup",w.group),e.R7$(),e.AVh("d-none",w.model.hidden),e.Y8G("formGroupName",w.model.id)("id",w.id)("ngClass",w.getClass("element","control")),e.R7$(),e.Dyx(w.model.group))},dependencies:()=>[Rx._,f.YU,Yn.X1,Yn.cb,Yn.j4,Yn.$R],encapsulation:2})}}return d})();var hf=n(73409),p1=n(90306),Bx=n(49838);function _L(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",5)(1,"input",6),e.bIt("blur",function(w){e.eBV(r);const Y=e.XpG(3);return e.Njj(Y.onBlur(w))})("change",function(w){e.eBV(r);const Y=e.XpG(3);return e.Njj(Y.onChange(w))})("focus",function(w){e.eBV(r);const Y=e.XpG(3);return e.Njj(Y.onFocus(w))}),e.k0s(),e.j41(2,"label",7),e.nrm(3,"span",8),e.k0s()()}if(2&d){const r=_.$implicit,u=e.XpG(3);e.R7$(),e.Y8G("checked",r.value)("id",r.id)("formControlName",r.id)("name",u.model.name)("value",r.value),e.BMQ("aria-labelledby","label_"+u.model.id)("tabindex",r.index),e.R7$(),e.AVh("disabled",u.model.disabled),e.Y8G("ngClass",null==u.model.layout.element?null:u.model.layout.element.control)("for",r.id),e.R7$(),e.Y8G("ngClass",null==u.model.layout.element?null:u.model.layout.element.label)("innerHTML",r.label,e.npT)}}function Ux(d,_){if(1&d&&(e.j41(0,"div",4),e.Z7z(1,_L,4,13,"div",5,e.fX1),e.k0s()),2&d){const r=_.$implicit;e.R7$(),e.Dyx(r)}}function jx(d,_){if(1&d&&(e.j41(0,"div",1),e.Z7z(1,Ux,3,0,"div",4,e.fX1),e.k0s()),2&d){const r=e.XpG();e.Y8G("id",r.id)("formGroupName",r.model.id)("ngClass",null==r.model.layout.element?null:r.model.layout.element.control),e.BMQ("tabindex",r.model.tabIndex),e.R7$(),e.Dyx(r.items)}}function vL(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",5)(1,"input",10),e.bIt("blur",function(w){e.eBV(r);const Y=e.XpG(3);return e.Njj(Y.onBlur(w))})("focus",function(w){e.eBV(r);const Y=e.XpG(3);return e.Njj(Y.onFocus(w))}),e.k0s(),e.j41(2,"label",7),e.nrm(3,"span",8),e.k0s()()}if(2&d){const r=_.$implicit,u=e.XpG(3);e.R7$(),e.Y8G("checked",r.value)("id",r.id)("name",u.model.id)("required",u.model.required)("value",r.index),e.R7$(),e.AVh("disabled",u.model.disabled),e.Y8G("ngClass",null==u.model.layout.element?null:u.model.layout.element.control)("for",r.id),e.R7$(),e.Y8G("ngClass",null==u.model.layout.element?null:u.model.layout.element.label)("innerHTML",r.label,e.npT)}}function yL(d,_){if(1&d&&(e.j41(0,"div",4),e.Z7z(1,vL,4,11,"div",5,e.fX1),e.k0s()),2&d){const r=_.$implicit;e.R7$(),e.Dyx(r)}}function vM(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",9),e.bIt("change",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onChange(w))}),e.Z7z(1,yL,3,0,"div",4,e.fX1),e.k0s()}if(2&d){const r=e.XpG();e.Y8G("id",r.id)("ngClass",null==r.model.layout.element?null:r.model.layout.element.control),e.BMQ("tabindex",r.model.tabIndex),e.R7$(),e.Dyx(r.items)}}function yM(d,_){1&d&&(e.j41(0,"div",3),e.nrm(1,"ds-loading"),e.k0s())}let EM=(()=>{class d extends zi.S6A{constructor(r,u,w,Y,De){super(Y,De),this.vocabularyService=r,this.cdr=u,this.formBuilderService=w,this.layoutService=Y,this.validationService=De,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.items=[],this.isLoading$=new y.t(!0),this.optionsList=[],this.subs=[]}ngOnInit(){this.model.vocabularyOptions&&(0,V.a4)(this.model.vocabularyOptions.name)&&this.initOptionsFromVocabulary()}ngOnDestroy(){this.subs.length>0&&this.subs.forEach(r=>r.unsubscribe())}onBlur(r){this.blur.emit(r)}onFocus(r){this.focus.emit(r)}onChange(r){const u=r.target;if(this.model.repeatable){const w=this.optionsList[u.tabIndex];if(u.checked)this.model.valueUpdates.next(w);else{const Y=[];this.model.value.filter(De=>De.value!==w.value).forEach(De=>Y.push(De)),this.model.valueUpdates.next(Y)}}else this.model.value=this.optionsList[u.value];this.change.emit(r)}initOptionsFromVocabulary(){if(this.model.vocabularyOptions.name&&this.model.vocabularyOptions.name.length>0){const r=this.group.controls[this.model.id];this.model.repeatable&&this.model.required&&r.addValidators(this.hasAtLeastOneVocabularyEntry()),this.nextPageInfo=new hf.Q({elementsPerPage:20,currentPage:1}),this.loadEntries(r)}}hasAtLeastOneVocabularyEntry(){return r=>r&&r.value&&Object.values(r.value).find(u=>!0===u)?null:this.model.errorMessages}setPaginationInfo(r){r.pageInfo.currentPage<r.pageInfo.totalPages?(this.nextPageInfo=Object.assign(new hf.Q,r.pageInfo,{currentPage:r.currentPage+1}),this.isLoading$.next(!0)):this.isLoading$.next(!1)}loadEntries(r){(0,V.a4)(r)||(r=this.group.controls[this.model.id]),this.subs.push(this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.nextPageInfo).pipe((0,Mi.ak)(),(0,Vi.M)(u=>this.setPaginationInfo(u)),(0,In.T)(u=>u.page)).subscribe(u=>{this.optionsList=[...this.optionsList,...u];let w=this.items.length,Y=0,De=[];u.forEach(Ie=>{const tt=Ie.authority||Ie.value,Pt=(0,V.hj)(x0()(this.model.value,en=>en?.value===Ie.value)),bn={id:`${this.model.id}_${tt}`,label:Ie.display,value:Pt,index:this.optionsList.indexOf(Ie)};this.model.repeatable?this.formBuilderService.addFormGroupControl(r,this.model,new zi.M7d(bn)):this.model.options.push({label:bn.label,value:Ie}),De.push(bn),Y++,this.items[w]=De,Y===this.model.groupLength&&(w++,Y=0,De=[])}),this.cdr.markForCheck(),this.isLoading$.value&&this.loadEntries()}))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(p1.g),e.rXU(e.gRc),e.rXU(Bx.j),e.rXU(zi.fpj),e.rXU(zi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-list"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[[3,"formGroup"],[1,"row",3,"id","formGroupName","ngClass"],["ngbRadioGroup","",1,"row",3,"id","ngClass"],[1,"d-flex","justify-content-center"],[1,"col-sm"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"blur","change","focus","checked","id","formControlName","name","value"],[1,"form-check-label",3,"ngClass","for"],[3,"ngClass","innerHTML"],["ngbRadioGroup","",1,"row",3,"change","id","ngClass"],["type","radio",1,"form-check-input",3,"blur","focus","checked","id","name","required","value"]],template:function(u,w){1&u&&(e.j41(0,"div",0),e.DNE(1,jx,3,4,"div",1)(2,vM,3,3,"div",2)(3,yM,2,0,"div",3),e.nI1(4,"async"),e.k0s()),2&u&&(e.Y8G("formGroup",w.group),e.R7$(),e.vxM(w.model.repeatable?1:-1),e.R7$(),e.vxM(w.model.repeatable?-1:2),e.R7$(),e.vxM(e.bMT(4,4,w.isLoading$)?3:-1))},dependencies:[f.Jj,G.Ll,G.M0,f.YU,Yn.X1,Yn.Zm,Yn.BC,Yn.cb,Yn.j4,Yn.JD,Yn.$R,nv.v,K.h]})}}return d})();var kx=n(64370),EL=n(76486),Vx=n(86820),CL=n(18902),$x=n(48457),f1=n(95720),m1=n(13059),Tg=n(74994);const Wx=()=>({}),Gx=d=>({entry:d});function CM(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",8)(1,"input",17),e.nI1(2,"translate"),e.mxI("ngModelChange",function(w){e.eBV(r);const Y=e.XpG();return e.DH7(Y.secondInputValue,w)||(Y.secondInputValue=w),e.Njj(w)}),e.bIt("change",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onChange(w))})("blur",function(w){e.eBV(r);const Y=e.XpG(),De=e.sdS(1);return Y.onBlur(w),w.stopPropagation(),e.Njj(De.close())})("focus",function(w){e.eBV(r);const Y=e.XpG(),De=e.sdS(1);return Y.onFocus(w),w.stopPropagation(),e.Njj(De.close())})("click",function(w){e.eBV(r),e.XpG();const Y=e.sdS(1);return w.stopPropagation(),e.Njj(Y.close())}),e.k0s()()}if(2&d){const r=e.XpG();e.R7$(),e.AVh("is-invalid",r.showErrorMessages),e.Y8G("ngClass",e.lJ4(14,Wx))("id",r.id)("name",r.model.name+"_2")("type",r.model.inputType),e.R50("ngModel",r.secondInputValue),e.Y8G("disabled",0===r.firstInputValue.length||r.isInputDisabled())("placeholder",e.bMT(2,12,r.model.secondPlaceholder))("readonly",r.model.readOnly),e.BMQ("aria-labelledby","label_"+r.model.id)("autoComplete",r.model.autoComplete)}}function bh(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(r);const w=e.XpG();return e.Njj(w.remove())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&d){const r=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.clear-help")),e.Y8G("dsBtnDisabled",r.model.readOnly),e.R7$(2),e.SpI("",e.bMT(3,5,"form.clear")," ")}}function bM(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(r);const w=e.XpG();return e.Njj(w.switchEditMode())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&d){const r=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.edit-help")),e.Y8G("dsBtnDisabled",r.isEditDisabled()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.edit")," ")}}function g1(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(r);const w=e.XpG();return e.Njj(w.saveChanges())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&d){const r=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.save-help")),e.Y8G("dsBtnDisabled",!r.hasEmptyValue()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.save")," ")}}function _1(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",19),e.bIt("click",function(w){e.eBV(r);const Y=e.XpG(),De=e.sdS(1);return w.stopPropagation(),Y.clearFields(),e.Njj(De.close())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"form.no-results")," "))}function Kx(d,_){if(1&d){const r=e.RV6();e.j41(0,"button",20),e.bIt("click",function(w){const Y=e.eBV(r).$implicit,De=e.XpG(),Ie=e.sdS(1);return w.stopPropagation(),De.onSelect(Y),e.Njj(Ie.close())}),e.eu8(1,21),e.k0s()}if(2&d){const r=_.$implicit;e.XpG();const u=e.sdS(24),w=e.sdS(26);e.FS9("title",r.display),e.R7$(),e.Y8G("ngTemplateOutlet",r.hasOtherInformation()?u:w)("ngTemplateOutletContext",e.eq3(3,Gx,r))}}function v1(d,_){1&d&&(e.j41(0,"div",16)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d&&(e.R7$(2),e.JRh(e.bMT(3,1,"form.loading")))}function y1(d,_){if(1&d&&(e.j41(0,"li",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d){const r=_.$implicit;e.R7$(),e.Lme(" ",e.bMT(2,2,"form.other-information."+r.key)," : ",r.value," ")}}function qv(d,_){if(1&d&&(e.j41(0,"ul",22)(1,"li",23),e.EFF(2),e.k0s(),e.Z7z(3,y1,3,4,"li",24,e.fX1),e.nI1(5,"dsObjNgFor"),e.k0s()),2&d){const r=_.entry,u=e.XpG();e.BMQ("aria-labelledby","label_"+u.model.id),e.R7$(2),e.JRh(r.value),e.R7$(),e.Dyx(e.bMT(5,2,r.otherInformation))}}function bL(d,_){if(1&d&&(e.j41(0,"ul",22)(1,"li",23),e.EFF(2),e.k0s()()),2&d){const r=_.entry,u=e.XpG();e.BMQ("aria-labelledby","label_"+u.model.id),e.R7$(2),e.JRh(r.value)}}let Hx=(()=>{class d extends m1.o{constructor(r,u,w,Y){super(r,w,Y),this.vocabularyService=r,this.cdr=u,this.layoutService=w,this.validationService=Y,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.editMode=!1,this.firstInputValue="",this.secondInputValue="",this.loading=!1,this.subs=[],this.inputFormatter=(De,Ie)=>1===Ie?this.firstInputValue:this.secondInputValue}ngOnInit(){(0,V.hj)(this.model.value)&&this.setCurrentValue(this.model.value,!0),this.subs.push(this.model.valueChanges.subscribe(r=>{(0,V.Im)(r)?this.resetFields():this.editMode||this.setCurrentValue(this.model.value)}))}hasAuthorityValue(){return(0,V.a4)(this.model.value)&&"object"==typeof this.model.value&&this.model.value.hasAuthority()}hasEmptyValue(){return(0,V.hj)(this.getCurrentValue())}clearFields(){this.model.vocabularyOptions.closed&&this.resetFields()}isEditDisabled(){return!this.hasAuthorityValue()}isInputDisabled(){return this.model.vocabularyOptions.closed&&this.hasAuthorityValue()&&!this.editMode}isLookupName(){return this.model instanceof Tg._}isSearchDisabled(){return(0,V.Im)(this.firstInputValue)||this.editMode}onChange(r){if(r.preventDefault(),!this.model.vocabularyOptions.closed)if((0,V.hj)(this.getCurrentValue())){const u=new f1.e(this.getCurrentValue());this.editMode||this.updateModel(u)}else this.remove()}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.search())}onSelect(r){this.updateModel(r)}openChange(r){r||this.model.vocabularyOptions.closed&&!this.hasAuthorityValue()&&this.setCurrentValue("")}remove(){this.group.markAsPristine(),this.dispatchUpdate(null)}saveChanges(){if((0,V.hj)(this.getCurrentValue())){const r=Object.assign(new dm.b,this.model.value,{display:this.getCurrentValue(),value:this.getCurrentValue()});this.updateModel(r)}else this.remove();this.switchEditMode()}search(){this.optionsList=null,this.updatePageInfo(this.model.maxOptions,1),this.loading=!0,this.subs.push(this.vocabularyService.getVocabularyEntriesByValue(this.getCurrentValue(),!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,Mi.ak)(),(0,Ao.W)(()=>(0,Kn.of)((0,rC.g)(new hf.Q,[]))),(0,M.F)()).subscribe(r=>{this.optionsList=r.page,this.updatePageInfo(r.pageInfo.elementsPerPage,r.pageInfo.currentPage,r.pageInfo.totalElements,r.pageInfo.totalPages),this.loading=!1,this.cdr.detectChanges()}))}switchEditMode(){this.editMode=!this.editMode}whenClickOnConfidenceNotAccepted(r,u){this.model.readOnly||(r.open(),this.search())}ngOnDestroy(){this.subs.filter(r=>(0,V.a4)(r)).forEach(r=>r.unsubscribe())}setCurrentValue(r,u=!1){u?this.getInitValueFromModel().subscribe(w=>this.setDisplayInputValue(w.display)):(0,V.a4)(r)&&(r instanceof f1.e||r instanceof dm.b)&&this.setDisplayInputValue(r.display)}setDisplayInputValue(r){if((0,V.a4)(r)){if(this.isLookupName()){const u=r.split(this.model.separator);this.firstInputValue=(u[0]||"").trim(),this.secondInputValue=(u[1]||"").trim()}else this.firstInputValue=r||"";this.cdr.detectChanges()}}getCurrentValue(){let r="";return this.isLookupName()?((0,V.hj)(this.firstInputValue)&&(r=this.firstInputValue),(0,V.hj)(this.secondInputValue)&&(r=(0,V.Im)(r)?this.secondInputValue:this.firstInputValue+this.model.separator+" "+this.secondInputValue)):r=this.firstInputValue,r}resetFields(){this.firstInputValue="",this.isLookupName()&&(this.secondInputValue="")}updateModel(r){this.group.markAsDirty(),this.dispatchUpdate(r),this.setCurrentValue(r),this.optionsList=null,this.pageInfo=null}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(p1.g),e.rXU(e.gRc),e.rXU(zi.fpj),e.rXU(zi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-lookup"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:32,consts:[["sdRef","ngbDropdown"],["hasInfo",""],["noInfo",""],["ngbDropdown","",3,"click","openChange"],[1,"row","align-items-center"],[1,"col","right-addon"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0","pe-2",3,"whenClickOnConfidenceNotAccepted","authorityValue"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","id","name","type","ngModel","disabled","placeholder","readonly"],[1,"col"],[1,"col-auto","text-center"],["ngbDropdownAnchor","","type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","dsBtnDisabled","hidden"],["type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","dsBtnDisabled"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["infiniteScroll","",1,"scrollable-menu",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["type","button",1,"dropdown-item","disabled"],["type","button",1,"dropdown-item","lookup-item",3,"title"],[1,"scrollable-dropdown-loading","text-center"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","ngClass","id","name","type","ngModel","disabled","placeholder","readonly"],["type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","dsBtnDisabled"],["type","button",1,"dropdown-item","disabled",3,"click"],["type","button",1,"dropdown-item","lookup-item",3,"click","title"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","fw-bold"],[1,"list-item","text-truncate","text-secondary"]],template:function(u,w){if(1&u){const Y=e.RV6();e.j41(0,"div",3,0),e.bIt("click",function(Ie){return e.eBV(Y),e.Njj(Ie.stopPropagation())})("openChange",function(Ie){return e.eBV(Y),e.Njj(w.openChange(Ie))}),e.j41(2,"div",4)(3,"div",5)(4,"i",6),e.bIt("whenClickOnConfidenceNotAccepted",function(Ie){e.eBV(Y);const tt=e.sdS(1);return e.Njj(w.whenClickOnConfidenceNotAccepted(tt,Ie))}),e.k0s(),e.j41(5,"input",7),e.nI1(6,"translate"),e.mxI("ngModelChange",function(Ie){return e.eBV(Y),e.DH7(w.firstInputValue,Ie)||(w.firstInputValue=Ie),e.Njj(Ie)}),e.bIt("change",function(Ie){return e.eBV(Y),e.Njj(w.onChange(Ie))})("blur",function(Ie){e.eBV(Y);const tt=e.sdS(1);return w.onBlur(Ie),Ie.stopPropagation(),e.Njj(tt.close())})("focus",function(Ie){e.eBV(Y);const tt=e.sdS(1);return w.onFocus(Ie),Ie.stopPropagation(),e.Njj(tt.close())})("click",function(Ie){e.eBV(Y);const tt=e.sdS(1);return Ie.stopPropagation(),Ie.stopPropagation(),e.Njj(tt.close())}),e.k0s()(),e.DNE(7,CM,3,15,"div",8),e.j41(8,"div",9)(9,"button",10),e.nI1(10,"translate"),e.bIt("click",function(Ie){return e.eBV(Y),e.sdS(1).open(),w.search(),e.Njj(Ie.stopPropagation())}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,bh,4,7,"button",11),e.k0s(),e.j41(14,"div",9),e.DNE(15,bM,4,7,"button",11)(16,g1,4,7,"button",11),e.k0s()(),e.j41(17,"div",12)(18,"div",13),e.bIt("scrolled",function(){return e.eBV(Y),e.Njj(w.onScroll())}),e.DNE(19,_1,3,3,"button",14),e.Z7z(20,Kx,2,5,"button",15,e.fX1),e.DNE(22,v1,4,3,"div",16),e.k0s()()(),e.DNE(23,qv,6,4,"ng-template",null,1,e.C5r)(25,bL,3,2,"ng-template",null,2,e.C5r)}2&u&&(e.R7$(4),e.Y8G("authorityValue",w.model.value),e.R7$(),e.AVh("is-invalid",w.showErrorMessages),e.Y8G("id",w.model.id)("name",w.model.name)("type",w.model.inputType),e.R50("ngModel",w.firstInputValue),e.Y8G("disabled",w.isInputDisabled())("placeholder",e.bMT(6,26,w.model.placeholder))("readonly",w.model.readOnly),e.BMQ("aria-labelledby","label_"+w.model.id)("autoComplete",w.model.autoComplete),e.R7$(2),e.vxM(w.isLookupName()?7:-1),e.R7$(2),e.FS9("ngbTooltip",e.bMT(10,28,"form.search-help")),e.Y8G("dsBtnDisabled",w.model.readOnly||w.isSearchDisabled())("hidden",w.isInputDisabled()),e.R7$(2),e.SpI("",e.bMT(12,30,"form.search")," "),e.R7$(2),e.vxM(w.isInputDisabled()?13:-1),e.R7$(2),e.vxM(w.editMode?-1:15),e.R7$(),e.vxM(w.editMode?16:-1),e.R7$(),e.BMQ("aria-labelledby","label_"+w.model.id),e.R7$(),e.Y8G("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),e.R7$(),e.vxM(w.optionsList&&0===w.optionsList.length?19:-1),e.R7$(),e.Dyx(w.optionsList),e.R7$(2),e.vxM(w.loading?22:-1))},dependencies:[$x.K,Zm.A,Yn.YN,Yn.me,Yn.BC,Yn.vS,Vx.e,Vx.D,G.zH,G.tg,G.E5,G.U0,G.n8,G.md,f.YU,f.T3,CL.U,K.h,K.D9],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]     .dropdown-menu{left:0!important;width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}div[_ngcontent-%COMP%]{overflow:visible}.lookup-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}div.col[_ngcontent-%COMP%]{position:relative}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-right:5px;padding-left:5px}"]})}}return d})();var DL=n(86910),DM=n(1622),zx=n(83124),Xx=n(83278),pf=n.n(Xx);const Yx=(0,be.hZ)("shrinkInOut",[(0,be.wk)("in",(0,be.iF)({height:"100%",opacity:1})),(0,be.kY)("* => void",[(0,be.iF)({height:"!",opacity:1}),(0,be.i0)(200,(0,be.iF)({height:0,opacity:0}))]),(0,be.kY)("void => *",[(0,be.iF)({height:0,opacity:0}),(0,be.i0)(200,(0,be.iF)({height:"*",opacity:1}))])]);var TM=n(94525),MM=n(48376),ff=n.n(MM),Qx=n(59519),Jx=n.n(Qx),OM=n(14379);class e0{constructor(_,r="display",u,w,Y){this.id=Jx()(),this._item=_,this.fieldToDisplay=r,this.objToDisplay=u,this.setDisplayText(),this.editMode=Y||!1,this.icons=w||[]}set item(_){this._item=_}get item(){return this._item}isNestedItem(){return(0,V.hj)(this.item)&&pf()(this.item)&&(0,V.hj)(this.objToDisplay)&&this.item[this.objToDisplay]}hasIcons(){return(0,V.hj)(this.icons)}hasVisibleIcons(){if((0,V.hj)(this.icons)){let _=!1;for(const r of this.icons)if(this._item.hasOwnProperty(r.metadata)&&("string"==typeof this._item[r.metadata]&&(0,V.a4)(this._item[r.metadata])||this._item[r.metadata].hasValue())&&!this.hasPlaceholder(this._item[r.metadata])&&(r.visibleWhenAuthorityEmpty||this._item[r.metadata].confidence!==OM.l.CF_UNSET)&&(0,V.hj)(r.style)){_=!0;break}return _}return!1}setEditMode(){this.editMode=!0}updateIcons(_){this.icons=_}updateItem(_){this._item=_,this.setDisplayText()}unsetEditMode(){this.editMode=!1}setDisplayText(){let _=this._item;if(pf()(this._item)){const r=this.objToDisplay?this._item[this.objToDisplay]:this._item;_=pf()(r)&&r?r[this.fieldToDisplay]||r.value:r}this.display=_}hasPlaceholder(_){return"string"==typeof _?_===Dd.N:_.hasPlaceholder()}}class Zx{constructor(_=[],r="display",u,w){this.displayField=r,this.displayObj=u,this.iconsConfig=w||[],Array.isArray(_)&&this.setInitialItems(_)}add(_){const r=this.getChipsIcons(_),u=new e0(_,this.displayField,this.displayObj,r),w=ff()(this._items,{display:u.display.trim()});(-1===w||!Gu()(_,this.getChipByIndex(w).item))&&(this._items.push(u),this.chipsItems.next(this._items))}getChipById(_){const r=ff()(this._items,{id:_});return this.getChipByIndex(r)}getChipByIndex(_){return this._items.length>0&&this._items[_]?this._items[_]:null}getChips(){return this._items}getChipsItems(){const _=[];return this._items.forEach(r=>{_.push(r.item)}),_}hasItems(){return this._items.length>0}hasPlaceholder(_){return pf()(_)?_.value===Dd.N:_===Dd.N}remove(_){const r=ff()(this._items,{id:_.id});this._items.splice(r,1),this.chipsItems.next(this._items)}update(_,r){const u=this.getChipById(_),w=this.getChipsIcons(r);u.updateItem(r),u.updateIcons(w),u.unsetEditMode(),this.chipsItems.next(this._items)}updateOrder(){this.chipsItems.next(this._items)}getChipsIcons(_){const r=[];if("string"==typeof _||_ instanceof f1.e||_ instanceof dm.b)return r;const u=ff()(this.iconsConfig,{name:"default"}),w=-1!==u?this.iconsConfig[u]:void 0;let Y,De,Ie;return Object.keys(_).forEach(tt=>{Ie=_[tt],De=ff()(this.iconsConfig,{name:tt}),Y=-1!==De?this.iconsConfig[De]:w,(0,V.a4)(Ie)&&(0,V.hj)(Y)&&!this.hasPlaceholder(Ie)&&r.push({metadata:tt,visibleWhenAuthorityEmpty:this.displayObj!==tt,style:Y.style})}),r}setInitialItems(_){this._items=[],_.forEach(r=>{const u=this.getChipsIcons(r),w=new e0(r,this.displayField,this.displayObj,u);this._items.push(w)}),this.chipsItems=new y.t(this._items)}}const SM=["*"],E1=d=>({"chip-selected disabled":d});function qx(d,_){if(1&d&&(e.j41(0,"p",6),e.EFF(1),e.k0s()),2&d){const r=_.$implicit;e.R7$(),e.SpI(" ",r," ")}}function e2(d,_){if(1&d&&e.Z7z(0,qx,2,1,"p",6,e.fX1),2&d){const r=e.XpG();e.Dyx(r.tipText)}}function TL(d,_){if(1&d&&(e.j41(0,"i",9),e.EFF(1,"\xa0"),e.k0s()),2&d){const r=e.XpG().$implicit;e.Y8G("authorityValue",r.item)}}function ML(d,_){if(1&d){const r=e.RV6();e.j41(0,"i",13,1),e.bIt("mouseover",function(){const w=e.eBV(r).$implicit,Y=e.sdS(1),De=e.XpG(2).$index,Ie=e.XpG();return e.Njj(Ie.showTooltip(Y,De,w.metadata))})("mouseout",function(){e.eBV(r);const w=e.sdS(1);return e.Njj(w.close())}),e.k0s()}if(2&d){const r=_.$implicit,u=_.$index,w=_.$count,Y=e.XpG(2).$implicit;e.XpG();const De=e.sdS(3);e.HbH(r.style),e.AVh("me-1",u!==w-1)("me-2",u===w-1),e.Y8G("ngbTooltip",De)("authorityValue",Y.item[r.metadata]||Y.item)("visibleWhenAuthorityEmpty",r.visibleWhenAuthorityEmpty)}}function OL(d,_){if(1&d&&e.Z7z(0,ML,2,10,"i",12,e.fX1),2&d){const r=e.XpG().$implicit;e.Dyx(r.icons)}}function SL(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",7,1),e.bIt("mouseover",function(){const w=e.eBV(r).$index,Y=e.sdS(1),De=e.XpG();return e.Njj(De.showTooltip(Y,w))})("mouseout",function(){e.eBV(r);const w=e.sdS(1);return e.Njj(w.close())}),e.j41(2,"a",8),e.bIt("cdkDragStarted",function(){const w=e.eBV(r).$index,Y=e.XpG();return e.Njj(Y.onDrag(w))})("click",function(w){const Y=e.eBV(r).$index,De=e.XpG();return e.Njj(De.chipsSelected(w,Y))}),e.j41(3,"span"),e.DNE(4,TL,2,1,"i",9)(5,OL,2,0),e.j41(6,"p",10),e.EFF(7),e.k0s(),e.j41(8,"i",11),e.nI1(9,"translate"),e.bIt("click",function(w){const Y=e.eBV(r).$index,De=e.XpG();return e.Njj(De.removeChips(w,Y))}),e.k0s()()()()}if(2&d){const r=_.$implicit,u=_.$index,w=e.XpG(),Y=e.sdS(3);e.Y8G("ngbTooltip",Y),e.R7$(2),e.Y8G("ngClass",e.eq3(8,E1,w.editable&&r.editMode||w.dragged===u)),e.R7$(2),e.vxM(w.showIcons&&!r.isNestedItem()?4:-1),e.R7$(),e.vxM(w.showIcons&&r.hasVisibleIcons()?5:-1),e.R7$(2),e.JRh(r.display),e.R7$(),e.Y8G("title",e.bMT(9,6,"chips.remove"))}}let t2=(()=>{class d{constructor(r,u){this.cdr=r,this.translate=u,this.editable=!0,this.showIcons=!1,this.selected=new e.bkB,this.remove=new e.bkB,this.change=new e.bkB,this.isDragging=new y.t(!1),this.dragged=-1}ngOnChanges(r){r.chips&&!r.chips.isFirstChange()&&(this.chips=r.chips.currentValue)}chipsSelected(r,u){r.preventDefault(),this.editable&&(this.chips.getChips().forEach((w,Y)=>{Y===u?w.setEditMode():w.unsetEditMode()}),this.selected.emit(u))}removeChips(r,u){r.preventDefault(),r.stopPropagation(),this.chips.getChipByIndex(u).editMode||this.chips.remove(this.chips.getChipByIndex(u))}onDrag(r){this.isDragging.next(!0),this.dragged=r}onDrop(r){(0,uf.HD)(this.chips.chipsItems.getValue(),r.previousIndex,r.currentIndex),this.dragged=-1,this.chips.updateOrder(),this.isDragging.next(!1)}showTooltip(r,u,w){if(r.close(),this.isDragging.value)return;const Y=this.chips.getChipByIndex(u),De=[];!Y.editMode&&-1===this.dragged&&(w?pf()(Y.item[w])?(De.push(Y.item[w].display),Y.item[w].hasOtherInformation()&&Object.keys(Y.item[w].otherInformation).forEach(Ie=>{this.translate.get("form.other-information."+Ie).subscribe(tt=>{De.push(tt+": "+Y.item[w].otherInformation[Ie])})})):De.push(Y.item[w]):De.push(Y.display),this.cdr.detectChanges(),(!Y.hasIcons()||!Y.hasVisibleIcons()||w)&&(this.tipText=De,r.open()))}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(e.gRc),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-chips"]],inputs:{chips:"chips",wrapperClass:"wrapperClass",editable:"editable",showIcons:"showIcons"},outputs:{selected:"selected",remove:"remove",change:"change"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:SM,decls:9,vars:5,consts:[["tipContent",""],["t","ngbTooltip"],[3,"className"],["role","list","cdkDropList","","cdkDropListOrientation","horizontal",1,"nav","nav-pills","d-flex","flex-column","flex-sm-row",3,"cdkDropListDropped"],["role","listitem","triggers","manual",1,"nav-item","me-2","mb-1",3,"ngbTooltip"],[1,"flex-grow-1"],[1,"text-start","p-0","m-0"],["role","listitem","triggers","manual",1,"nav-item","me-2","mb-1",3,"mouseover","mouseout","ngbTooltip"],["cdkDrag","","href","javascript:void(0);",1,"flex-sm-fill","text-sm-center","nav-link","active","bg-info",3,"cdkDragStarted","click","ngClass"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle",3,"authorityValue"],[1,"chip-label","text-truncate","d-table-cell"],[1,"fas","fa-times","ms-2",3,"click","title"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"ngbTooltip","class","me-1","me-2","authorityValue","visibleWhenAuthorityEmpty"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"mouseover","mouseout","ngbTooltip","authorityValue","visibleWhenAuthorityEmpty"]],template:function(u,w){if(1&u){const Y=e.RV6();e.NAR(),e.j41(0,"div",2)(1,"div",3),e.bIt("cdkDropListDropped",function(Ie){return e.eBV(Y),e.Njj(w.onDrop(Ie))}),e.DNE(2,e2,2,0,"ng-template",null,0,e.C5r),e.Z7z(4,SL,10,10,"div",4,e.fX1),e.j41(6,"div",5),e.nI1(7,"async"),e.SdG(8),e.k0s()()()}2&u&&(e.Y8G("className","float-start w-100 "+w.wrapperClass),e.R7$(4),e.Dyx(w.chips.getChips()),e.R7$(2),e.AVh("chips-sort-ignore",e.bMT(7,3,w.isDragging)))},dependencies:[f.Jj,$x.K,uf.T1,uf.O7,G.n8,G.md,f.YU,K.h,K.D9],styles:[".cdk-drag-placeholder[_ngcontent-%COMP%]{filter:grayscale(100%);transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{color:#fff;box-sizing:border-box;border-radius:.25rem;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]})}}return d})();var ia=n(86332),Mg=n(70338);n(14166);const t0=["formRef"],IM=(d,_)=>({"border-top":d,"border border-danger":_});function IL(d,_){if(1&d){const r=e.RV6();e.j41(0,"a",1),e.nI1(1,"translate"),e.j41(2,"span",7),e.bIt("click",function(){e.eBV(r);const w=e.XpG();return e.Njj(w.collapseForm())}),e.k0s()()}2&d&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-collapse-help"))}function n2(d,_){if(1&d){const r=e.RV6();e.j41(0,"a",1),e.nI1(1,"translate"),e.j41(2,"span",8),e.bIt("click",function(){e.eBV(r);const w=e.XpG();return e.Njj(w.expandForm())}),e.k0s()()}2&d&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-expand-help"))}function PL(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",10)(1,"button",12),e.bIt("click",function(){e.eBV(r);const w=e.XpG(2);return e.Njj(w.save())}),e.nrm(2,"i",13),e.k0s(),e.j41(3,"button",12),e.bIt("click",function(){e.eBV(r);const w=e.XpG(2);return e.Njj(w.delete())}),e.nrm(4,"i",14),e.k0s(),e.j41(5,"button",12),e.bIt("click",function(){e.eBV(r);const w=e.XpG(2);return e.Njj(w.clear())}),e.nrm(6,"i",15),e.k0s()()}if(2&d){const r=e.XpG(2);e.R7$(),e.Y8G("dsBtnDisabled",r.isMandatoryFieldEmpty()),e.R7$(2),e.Y8G("dsBtnDisabled",!r.editMode),e.R7$(2),e.Y8G("dsBtnDisabled",r.isMandatoryFieldEmpty())}}function RL(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",3)(1,"ds-form",9,0),e.bIt("dfBlur",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(w))})("dfFocus",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(w))}),e.k0s(),e.DNE(3,PL,7,3,"div",10),e.nI1(4,"async"),e.nrm(5,"div",11),e.k0s()}if(2&d){const r=e.XpG();e.Y8G("@shrinkInOut",void 0),e.R7$(),e.Y8G("formId",r.formId)("formModel",r.formModel)("displaySubmit",!1)("displayCancel",!1)("emitChange",!1),e.R7$(2),e.vxM(!0!==e.bMT(4,7,r.formCollapsed)?3:-1)}}function b1(d,_){1&d&&e.nrm(0,"ds-loading",5),2&d&&e.Y8G("showMessage",!1)}function s2(d,_){1&d&&(e.j41(0,"div"),e.nrm(1,"input",16),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.FS9("value",e.bMT(2,1,"form.no-value")))}function PM(d,_){if(1&d){const r=e.RV6();e.j41(0,"ds-chips",17),e.bIt("selected",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onChipSelected(w))}),e.k0s()}if(2&d){const r=e.XpG();e.Y8G("chips",r.chips)("editable",!0)("showIcons",!0)}}let RM=(()=>{class d extends zi.S6A{constructor(r,u,w,Y,De,Ie){super(De,Ie),this.vocabularyService=r,this.formBuilderService=u,this.formService=w,this.cdr=Y,this.layoutService=De,this.validationService=Ie,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.formCollapsed=(0,Kn.of)(!1),this.editMode=!1,this.subs=[]}ngOnInit(){const r={rows:this.model.formConfiguration};this.model.isEmpty()||(this.formCollapsed=(0,Kn.of)(!0)),this.model.valueChanges.subscribe(u=>{!(0,V.hj)(u)||1===u.length&&(0,TM.Zb)(u[0])?this.expandForm():this.collapseForm()}),this.formId=this.formService.getUniqueId(this.model.id),this.formModel=this.formBuilderService.modelFromConfiguration(this.model.submissionId,r,this.model.scopeUUID,{},this.model.submissionScope,this.model.readOnly),this.initChipsFromModelValue()}isMandatoryFieldEmpty(){let r=!0;return this.formModel.forEach(u=>{u.group.forEach(Y=>{Y.name!==this.model.mandatoryField||(r=null==Y.value)})}),r}onBlur(r){this.blur.emit()}onChipSelected(r){this.expandForm(),this.selectedChipItem=this.chips.getChipByIndex(r),this.formModel.forEach(u=>{u.group.forEach(Y=>{const De=this.selectedChipItem.item[Y.name]===Dd.N||this.selectedChipItem.item[Y.name].value===Dd.N?null:this.selectedChipItem.item[Y.name],Ie=this.formBuilderService.isInputModel(Y)&&(0,V.Pe)(De)&&"string"!=typeof De?De.value:De;Y.value=Ie})}),this.editMode=!0}onFocus(r){this.focus.emit(r)}collapseForm(){this.formCollapsed=(0,Kn.of)(!0),this.clear()}expandForm(){this.formCollapsed=(0,Kn.of)(!1)}clear(){this.editMode&&(this.selectedChipItem.editMode=!1,this.selectedChipItem=null,this.editMode=!1),this.resetForm(),this.model.isEmpty()||(this.formCollapsed=(0,Kn.of)(!0))}save(){this.editMode?this.modifyChip():this.addToChips()}delete(){this.chips.remove(this.selectedChipItem),this.clear()}ngOnDestroy(){this.subs.filter(r=>(0,V.a4)(r)).forEach(r=>r.unsubscribe())}addToChips(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const r=this.buildChipItem();this.chips.add(r),this.resetForm()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}modifyChip(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const r=this.buildChipItem();this.chips.update(this.selectedChipItem.id,r),this.resetForm(),this.cdr.detectChanges()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}buildChipItem(){const r=Object.create({});return this.formModel.forEach(u=>{u.group.forEach(Y=>{r[Y.name]=Y.value||Dd.N})}),r}initChipsFromModelValue(){let r;this.model.isEmpty()?this.initChips([]):(r=(0,Kn.of)(this.model.value),this.subs.push(r.pipe((0,Tr.Z)(u=>{const w=[];return u.forEach(Y=>{const De=Object.keys(Y).map(Ie=>{let tt;if(pf()(Y[Ie])&&Y[Ie].hasAuthority()&&(0,V.hj)(Y[Ie].authority)){const Pt=Ie.replace(/\./g,"_"),bn=this.formBuilderService.findById(Pt,this.formModel);tt=this.vocabularyService.findEntryDetailById(Y[Ie].authority,bn.vocabularyOptions.name).pipe((0,Mi.ak)(),(0,In.T)(en=>Object.assign(new f1.e,Y[Ie],{otherInformation:en.otherInformation})))}else tt=(0,Kn.of)(Y[Ie]);return tt.pipe((0,In.T)(Pt=>({[Ie]:Pt})))});w.push((0,Ns.z)(De))}),w}),(0,Tr.Z)((u,w)=>u.pipe((0,In.T)(Y=>({index:w,value:Y.reduce((De,Ie)=>Object.assign({},De,Ie))})))),(0,Z1.S)((u,w)=>(0===u.length?u.push(w.value):u.splice(w.index,0,w.value),u),[]),(0,_o.p)(u=>this.model.value.length===u.length)).subscribe(u=>{this.model.value=u,this.initChips(u),this.cdr.markForCheck()})))}initChips(r){this.chips=new Zx(r,"value",this.model.mandatoryField,I.c.submission.icons.metadata),this.subs.push(this.chips.chipsItems.subscribe(()=>{const u=this.chips.getChipsItems();Gu()(u,this.model.value)||(0,V.Im)(u)&&this.model.isEmpty()||(this.model.value=u,this.change.emit())}))}resetForm(){this.formRef&&this.formService.resetForm(this.formRef.formGroup,this.formModel,this.formId)}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(p1.g),e.rXU(Bx.j),e.rXU(Mg.u),e.rXU(e.gRc),e.rXU(zi.fpj),e.rXU(zi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-relation-group"]],viewQuery:function(u,w){if(1&u&&e.GBs(t0,5),2&u){let Y;e.mGM(Y=e.lsd())&&(w.formRef=Y.first)}},inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:16,consts:[["formRef","formComponent"],["placement","left",1,"close","position-relative",3,"ngbTooltip"],[1,"pt-2",3,"ngClass"],[1,"ps-2","row"],[1,"d-flex"],[3,"showMessage"],[3,"chips","editable","showIcons"],["aria-hidden","true",1,"fas","fa-angle-up","fa-fw","fa-2x",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","fa-fw","fa-2x",3,"click"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-10","ps-0",3,"dfBlur","dfFocus","formId","formModel","displaySubmit","displayCancel","emitChange"],[1,"col","p-0","m-0","d-flex","justify-content-center","align-items-center"],[1,"clearfix"],["type","button",1,"btn","btn-link",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-save","link-primary","fa-2x"],["aria-hidden","true",1,"fas","fa-trash","link-danger","fa-2x"],["aria-hidden","true",1,"fas","fa-undo","fa-2x"],["type","text","readonly","","tabindex","-1",1,"border-0","form-control-plaintext","tag-input","mt-1","mb-1","ps-2","text-muted",3,"value"],[3,"selected","chips","editable","showIcons"]],template:function(u,w){1&u&&(e.DNE(0,IL,3,3,"a",1),e.nI1(1,"async"),e.DNE(2,n2,3,3,"a",1),e.nI1(3,"async"),e.j41(4,"div",2),e.DNE(5,RL,6,9,"div",3),e.nI1(6,"async"),e.j41(7,"div",4),e.DNE(8,b1,1,1,"ds-loading",5)(9,s2,3,3,"div")(10,PM,1,3,"ds-chips",6),e.k0s()()),2&u&&(e.vxM(!0!==e.bMT(1,7,w.formCollapsed)?0:-1),e.R7$(2),e.vxM(e.bMT(3,9,w.formCollapsed)?2:-1),e.R7$(2),e.Y8G("ngClass",e.l_i(13,IM,!w.showErrorMessages,w.showErrorMessages)),e.R7$(),e.vxM(!0!==e.bMT(6,11,w.formCollapsed)?5:-1),e.R7$(3),e.vxM(w.chips?-1:8),e.R7$(),e.vxM(w.chips&&!w.chips.hasItems()?9:-1),e.R7$(),e.vxM(w.chips&&w.chips.hasItems()?10:-1))},dependencies:()=>[f.Jj,Zm.A,t2,ia.s,G.n8,G.md,f.YU,nv.v,K.h,K.D9],styles:[".close[_ngcontent-%COMP%]{top:-2.5rem}"],data:{animation:[Yx]}})}}return d})();var AM=n(18190),xM=n(8428),o2=n(70152),r2=n(1716),wM=n(78504);const a2=["instance"];function LM(d,_){1&d&&e.EFF(0),2&d&&e.SpI(" ",_.result.display,"\n")}function n0(d,_){if(1&d){const r=e.RV6();e.j41(0,"input",5),e.mxI("ngModelChange",function(w){e.eBV(r);const Y=e.XpG();return e.DH7(Y.currentValue,w)||(Y.currentValue=w),e.Njj(w)}),e.bIt("blur",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(w))})("keypress",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.preventEventsPropagation(w))})("keydown",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.preventEventsPropagation(w))})("keyup",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onKeyUp(w))}),e.k0s()}if(2&d){const r=e.XpG();e.AVh("ps-3",r.chips.hasItems()),e.Y8G("placeholder",r.model.placeholder)("readonly",r.model.readOnly),e.R50("ngModel",r.currentValue)}}function Og(d,_){1&d&&e.nrm(0,"i",6)}function s0(d,_){if(1&d){const r=e.RV6();e.j41(0,"div",4),e.DNE(1,Og,1,0,"i",6),e.j41(2,"input",7,1),e.mxI("ngModelChange",function(w){e.eBV(r);const Y=e.XpG();return e.DH7(Y.currentValue,w)||(Y.currentValue=w),e.Njj(w)}),e.bIt("blur",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onBlur(w))})("focus",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onFocus(w))})("change",function(w){return e.eBV(r),e.Njj(w.stopPropagation())})("input",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onInput(w))})("selectItem",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onSelectItem(w))})("keypress",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.preventEventsPropagation(w))})("keydown",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.preventEventsPropagation(w))})("keyup",function(w){e.eBV(r);const Y=e.XpG();return e.Njj(Y.onKeyUp(w))}),e.k0s()()}if(2&d){const r=e.XpG(),u=e.sdS(1);e.R7$(),e.vxM(r.searching?1:-1),e.R7$(),e.AVh("is-invalid",r.showErrorMessages)("ps-3",r.chips.hasItems()),e.R50("ngModel",r.currentValue),e.Y8G("id",r.id)("inputFormatter",r.formatter)("name",r.model.name)("ngbTypeahead",r.search)("placeholder",r.model.placeholder)("readonly",r.model.readOnly)("resultTemplate",u)("type",r.model.inputType),e.BMQ("aria-labelledby","label_"+r.model.id)("autoComplete",r.model.autoComplete)}}let NM=(()=>{class d extends m1.o{constructor(r,u,w,Y){super(r,w,Y),this.vocabularyService=r,this.cdr=u,this.layoutService=w,this.validationService=Y,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed=new es.c(()=>()=>this.changeSearchingStatus(!1)),this.formatter=De=>De.display,this.search=De=>De.pipe((0,o2.B)(300),(0,M.F)(),(0,Vi.M)(()=>this.changeSearchingStatus(!0)),(0,Ni.n)(Ie=>""===Ie||Ie.length<this.model.minChars?(0,Kn.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(Ie,!1,this.model.vocabularyOptions,new hf.Q).pipe((0,Mi.ak)(),(0,Vi.M)(()=>this.searchFailed=!1),(0,Ao.W)(()=>(this.searchFailed=!0,(0,Kn.of)((0,rC.g)(new hf.Q,[])))))),(0,In.T)(Ie=>Ie.page),(0,In.T)(Ie=>{if(Ie&&Ie.length>0&&(0,V.hj)(this.currentValue)){const tt=new dm.b;tt.display=this.currentValue,tt.value=this.currentValue,Ie.push(tt)}return Ie}),(0,Vi.M)(()=>this.changeSearchingStatus(!1)),(0,r2.h)(this.hideSearchingWhenUnsubscribed))}ngOnInit(){this.hasAuthority=this.model.vocabularyOptions&&(0,V.a4)(this.model.vocabularyOptions.name),this.chips=new Zx(this.model.value,"display",null,I.c.submission.icons.metadata),this.chips.chipsItems.subscribe(r=>{const u=this.chips.getChipsItems();Gu()(u,this.model.value)||this.dispatchUpdate(u)})}changeSearchingStatus(r){this.searching=r,this.cdr.detectChanges()}onInput(r){r.data&&this.group.markAsDirty(),this.cdr.detectChanges()}onBlur(r){(0,V.hj)(this.currentValue)&&(!this.model.hasAuthority||!this.instance.isPopupOpen())&&this.addTagsToChips(),this.blur.emit(r)}onSelectItem(r){this.chips.add(r.item),this.updateModel(r),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50)}updateModel(r){this.dispatchUpdate(this.chips.getChipsItems())}onKeyUp(r){("Enter"===r.key||","===r.key)&&(r.preventDefault(),this.addTagsToChips(),r.stopPropagation())}preventEventsPropagation(r){r.stopPropagation(),13===r.keyCode&&r.preventDefault()}setCurrentValue(r,u=!1){this.currentValue=r}addTagsToChips(){if((0,V.a4)(this.currentValue)&&(!this.hasAuthority||!this.model.vocabularyOptions.closed)){let r=[];r=this.currentValue.split(",");const u=[];r.forEach(w=>{w.split(";").forEach(Y=>{u.push(Y)})}),u.forEach(w=>{(w=w.trim()).length>0&&this.chips.add(w)}),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50),this.updateModel(event)}}static{this.\u0275fac=function(u){return new(u||d)(e.rXU(p1.g),e.rXU(e.gRc),e.rXU(zi.fpj),e.rXU(zi.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-tag"]],viewQuery:function(u,w){if(1&u&&e.GBs(a2,5),2&u){let Y;e.mGM(Y=e.lsd())&&(w.instance=Y.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[["rt",""],["instance","ngbTypeahead"],[3,"chips","editable","showIcons","wrapperClass"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ps-3","placeholder","readonly","ngModel"],[1,"position-relative","right-addon"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","keypress","keydown","keyup","placeholder","readonly","ngModel"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"],["type","text",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","focus","change","input","selectItem","keypress","keydown","keyup","ngModel","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type"]],template:function(u,w){1&u&&(e.DNE(0,LM,1,1,"ng-template",null,0,e.C5r),e.j41(2,"ds-chips",2),e.DNE(3,n0,1,5,"input",3)(4,s0,4,16,"div",4),e.k0s()),2&u&&(e.R7$(2),e.Y8G("chips",w.chips)("editable",!1)("showIcons",w.model.hasAuthority)("wrapperClass","border-bottom border-light"),e.R7$(),e.vxM(w.model.hasAuthority?-1:3),e.R7$(),e.vxM(w.model.hasAuthority?4:-1))},dependencies:[t2,Yn.YN,Yn.me,Yn.BC,Yn.vS,G.h_,G.$n],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.chips-left[_ngcontent-%COMP%]{left:0;padding-right:100%}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:scroll;overflow-x:hidden;left:0!important;margin-top:var(--bs-spacer)!important}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.tag-input[_ngcontent-%COMP%]{flex-grow:1;outline:none;width:auto!important}"]})}}return d})();function FM(d){const _=d;switch(d.type){case zi.WlY:return Jv;case zi.eU4:return oM;case zi.W25:return d instanceof kx.R?EM:rM;case zi.fQD:return _.inline?sM:mL;case zi.wnr:return Fx;case zi.FlA:return lM;case zi.KMD:return d instanceof EL.t?EM:cM;case zi.PTN:return Ix;case zi.TwG:return dM;case zi.CTm:return u1;case zx.m:return DM.d;case xM.W:return AM.s;case wM.v:return NM;case Dd.T:return RM;case Eu.s:return mM.P;case DL.d:case Tg.V:return Hx;case _M.v:return Nx;case Zv.L:return wx;default:return null}}let l2=(()=>{class d{constructor(r,u,w){this.providers=r,this.menuService=u,this.router=w}waitForMenu$(r){return this.menuService.getMenu(r).pipe((0,uu.I)(u=>(0,V.a4)(u)),(0,In.T)(()=>!0))}listenForRouteChanges(r){this.router.events.pipe((0,_o.p)(u=>u instanceof v.gx),(0,Ni.n)(u=>{const w=this.getCurrentRoute(u.state.root);return this.resolveRouteMenus(w,u.state,r)})).subscribe()}getCurrentRoute(r){for(;r.firstChild;)r=r.firstChild;return r}initPersistentMenus(r){(0,Ns.z)([...this.providers.map(u=>u).filter(u=>!(r&&u.renderBrowserOnly)).filter(u=>u.shouldPersistOnRouteChange).map(u=>u.getSections().pipe((0,In.T)(w=>({provider:u,sections:w}))))]).pipe((0,Ni.n)(u=>[u.map((Y,De)=>(Y.sections.forEach((Ie,tt)=>{this.addSection(Y.provider,Ie,tt)}),this.waitForMenu$(Y.provider.menuID)))]),(0,In.T)(u=>u.every(Boolean)),(0,D.s)(1)).subscribe()}resolveRouteMenus(r,u,w){const Y=(0,Ns.z)([...Object.values(pl.D).map(Ie=>this.menuService.getNonPersistentMenuSections(Ie).pipe((0,D.s)(1),(0,In.T)(tt=>({menuId:Ie,sections:tt}))))]),De=(0,Ns.z)([...this.providers.filter(Ie=>!(w&&Ie.renderBrowserOnly)).filter(Ie=>{let tt=!1;return!Ie.shouldPersistOnRouteChange&&(0,V.hj)(Ie.activePaths)?Ie.activePaths.forEach(Pt=>{r.data.menuRoute===Pt&&(tt=!0)}):Ie.shouldPersistOnRouteChange||(tt=!0),tt}).map(Ie=>Ie.getSections(r,u).pipe((0,In.T)(tt=>({provider:Ie,sections:tt}))))]);return(0,Ns.z)([Y,De]).pipe((0,Ni.n)(([Ie,tt])=>(this.removeNonPersistentSections(Ie),[tt.map(bn=>(bn.sections.forEach((en,ti)=>{this.addSection(bn.provider,en,ti)}),this.waitForMenu$(bn.provider.menuID)))])),(0,In.T)(Ie=>Ie.every(Boolean)))}addSection(r,u,w){this.menuService.addSection(r.menuID,{...u,id:u.id??`${r.menuProviderId}_${w}`,parentID:u.parentID??r.parentID,index:r.index,active:u.active??!1,shouldPersistOnRouteChange:u.shouldPersistOnRouteChange??r.shouldPersistOnRouteChange,alwaysRenderExpandable:u.alwaysRenderExpandable??r.alwaysRenderExpandable})}removeNonPersistentSections(r){r.forEach(u=>{u.sections.forEach(w=>{this.menuService.removeSection(u.menuId,w.id)})})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(ec,8),e.KVO(Wd.$),e.KVO(v.Ix))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var AL=n(74642);class xL extends kv.Qf{getResponseParser(){return AL.M}}let c2=(()=>{class d{constructor(r,u){this.requestService=r,this.halService=u}sendEvent(r,u){const w=this.requestService.generateRequestId();this.halService.getEndpoint(r).pipe((0,In.T)(Y=>new xL(w,Y,JSON.stringify(u))),(0,D.s)(1)).subscribe(Y=>this.requestService.send(Y))}trackViewEvent(r,u){this.sendEvent("/statistics/viewevents",{targetId:r.uuid,targetType:r.type,referrer:u})}trackSearchEvent(r,u,w,Y,De){const Ie={query:r.query,page:{size:u.size,totalElements:u.totalElements,totalPages:u.totalPages,number:u.number},sort:{by:w.by,order:w.order.toLowerCase()}};if((0,V.a4)(r.configuration)&&Object.assign(Ie,{configuration:r.configuration}),(0,V.hj)(r.dsoTypes)&&Object.assign(Ie,{dsoType:r.dsoTypes[0].toLowerCase()}),(0,V.a4)(r.scope)&&Object.assign(Ie,{scope:r.scope}),(0,V.hj)(Y)){const tt=[];for(let Pt=0,bn=Y.length;Pt<bn;Pt++){const en=Y[Pt];tt.push({filter:en.filter,operator:en.operator,value:en.value,label:en.label})}Object.assign(Ie,{appliedFilters:tt})}(0,V.a4)(De)&&Object.assign(Ie,{clickedObject:De}),this.sendEvent("/statistics/searchevents",Ie)}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Za.B),e.KVO(qm.Y))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),BM=(()=>{class d{constructor(r,u){this.angulartics2=r,this.statisticsService=u}startTracking(){this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(r=>this.eventTrack(r))}eventTrack(r){"page_view"===r.action?this.statisticsService.trackViewEvent(r.properties.object,r.properties.referrer):"search"===r.action&&this.statisticsService.trackSearchEvent(r.properties.searchOptions,r.properties.page,r.properties.sort,r.properties.filters,r.properties.clickedObject?.split("?")[0])}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(Jc.il),e.KVO(c2))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var o0;let mf=class{static{o0=this}static{this.NGRX_STATE=(0,e.zw6)("NGRX_STATE")}constructor(_,r,u,w,Y,De,Ie,tt,Pt,bn,en){this.store=_,this.correlationIdService=r,this.appConfig=u,this.translate=w,this.localeService=Y,this.angulartics2DSpace=De,this.headTagService=Ie,this.breadcrumbsService=tt,this.themeService=Pt,this.menuService=bn,this.menuProviderService=en}static providers(){if(!o0.isPrototypeOf(this))throw new Error("Initalization providers should only be generated from concrete subclasses of InitService");return[{provide:o0,useClass:this},{provide:vo.vQ,useFactory:_=>(this.resolveAppConfig(_),I.c),deps:[e.pJN]},{provide:e.hnV,useFactory:_=>_.init(),deps:[o0],multi:!0},{provide:vo.l9,useValue:Cx},{provide:zi.Fdw,useValue:FM}]}static resolveAppConfig(_){}checkAuthenticationToken(){this.store.dispatch(new z.S3)}initCorrelationId(){this.correlationIdService.initCorrelationId()}checkEnvironment(){if(!Gu()(I.c,this.appConfig))throw new Error("environment does not match app config!");I.c.debug&&console.info(I.c)}initI18n(){this.translate.addLangs(I.c.languages.filter(_=>!0===_.active).map(_=>_.code)),this.localeService.setCurrentLanguageCode()}initAngulartics(){this.angulartics2DSpace.startTracking()}initRouteListeners(){this.headTagService.listenForRouteChange(),this.breadcrumbsService.listenForRouteChanges(),this.themeService.listenForRouteChanges()}authenticationReady$(){return this.store.pipe((0,E.Lt)(S.Gv),(0,M.F)(),(0,uu.I)(_=>!1===_))}};mf=o0=(0,$e.Cg)([(0,$e.Qj)(2,(0,e.y_5)(vo.vQ)),(0,$e.Sn)("design:paramtypes",[E.il,mc,Object,K.c$,Zh.iH,BM,df,bg.E,ie.Fs,Wd.$,l2])],mf);var UM=n(10878);class wL{constructor(){this.production=!1,this.debug=!1,this.ui={ssl:!1,host:"localhost",port:4e3,nameSpace:"/",rateLimiter:{windowMs:6e4,max:500},useProxies:!0},this.rest={ssl:!1,host:"localhost",port:8080,nameSpace:"/"},this.actuators={endpointPath:"/actuator/health"},this.cache={msToLive:{default:9e5},control:"max-age=604800",autoSync:{defaultTime:0,maxBufferSize:100,timePerMethod:{[_g.D.PATCH]:3}},serverSide:{debug:!1,headers:["Link"],botCache:{max:1e3,timeToLive:864e5,allowStale:!0},anonymousCache:{max:0,timeToLive:1e4,allowStale:!0}}},this.auth={ui:{timeUntilIdle:9e5,idleGracePeriod:3e5},rest:{timeLeftBeforeTokenRefresh:12e4}},this.form={spellCheck:!0,validatorMap:{required:"required",regex:"pattern"}},this.notifications={rtl:!1,position:["top","right"],maxStack:8,timeOut:5e3,clickToClose:!0,animate:UM.n.Scale},this.submission={autosave:{metadata:[],timer:0},duplicateDetection:{alwaysShowSection:!1},typeBind:{field:"dc.type"},icons:{metadata:[{name:"dc.author",style:"fas fa-user"},{name:"default",style:""}],authority:{confidence:[{value:600,style:"text-success",icon:"fa-circle-check"},{value:500,style:"text-info",icon:"fa-gear"},{value:400,style:"text-warning",icon:"fa-circle-question"},{value:300,style:"text-muted",icon:"fa-circle-question"},{value:200,style:"text-muted",icon:"fa-circle-exclamation"},{value:100,style:"text-muted",icon:"fa-circle-stop"},{value:0,style:"text-muted",icon:"fa-ban"},{value:-1,style:"text-muted",icon:"fa-circle-xmark"},{value:"default",style:"text-muted",icon:"fa-circle-xmark"}]}}},this.defaultLanguage="en",this.languages=[{code:"en",label:"English",active:!0},{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",active:!0},{code:"bn",label:"\u09ac\u09be\u0982\u09b2\u09be",active:!0},{code:"ca",label:"Catal\xe0",active:!0},{code:"cs",label:"\u010ce\u0161tina",active:!0},{code:"de",label:"Deutsch",active:!0},{code:"el",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",active:!0},{code:"es",label:"Espa\xf1ol",active:!0},{code:"fa",label:"\u0641\u0627\u0631\u0633\u06cc",active:!0},{code:"fi",label:"Suomi",active:!0},{code:"fr",label:"Fran\xe7ais",active:!0},{code:"gd",label:"G\xe0idhlig",active:!0},{code:"gu",label:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",active:!0},{code:"hi",label:"\u0939\u093f\u0902\u0926\u0940",active:!0},{code:"hu",label:"Magyar",active:!0},{code:"it",label:"Italiano",active:!0},{code:"kk",label:"\u049a\u0430\u0437\u0430\u049b",active:!0},{code:"lv",label:"Latvie\u0161u",active:!0},{code:"mr",label:"\u092e\u0930\u093e\u0920\u0940",active:!0},{code:"nl",label:"Nederlands",active:!0},{code:"pl",label:"Polski",active:!0},{code:"pt-PT",label:"Portugu\xeas",active:!0},{code:"pt-BR",label:"Portugu\xeas do Brasil",active:!0},{code:"ru",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",active:!0},{code:"sr-lat",label:"Srpski (lat)",active:!0},{code:"sr-cyr",label:"\u0421\u0440\u043f\u0441\u043a\u0438",active:!0},{code:"sv",label:"Svenska",active:!0},{code:"tr",label:"T\xfcrk\xe7e",active:!0},{code:"uk",label:"Y\u043a\u0440\u0430\u0457\u0301\u043d\u0441\u044c\u043a\u0430",active:!0},{code:"vi",label:"Ti\u1ebfng Vi\u1ec7t",active:!0}],this.browseBy={oneYearLimit:10,fiveYearLimit:30,defaultLowerLimit:1900,showThumbnails:!0,pageSize:20},this.communityList={pageSize:20},this.homePage={recentSubmissions:{pageSize:5,sortField:"dc.date.accessioned"},topLevelCommunityList:{pageSize:5},showDiscoverFilters:!1},this.item={edit:{undoTimeout:1e4},showAccessStatuses:!1,bitstream:{pageSize:5,showAccessStatuses:!1}},this.community={defaultBrowseTab:"search",searchSection:{showSidebar:!0}},this.collection={defaultBrowseTab:"search",searchSection:{showSidebar:!0},edit:{undoTimeout:1e4}},this.suggestion=[],this.themes=[{name:"dspace",headTags:[{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.ico",sizes:"any"}},{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.svg",type:"image/svg+xml"}},{tagName:"link",attributes:{rel:"apple-touch-icon",href:"assets/dspace/images/favicons/apple-touch-icon.png"}},{tagName:"link",attributes:{rel:"manifest",href:"assets/dspace/images/favicons/manifest.webmanifest"}}]}],this.bundle={standardBundles:["ORIGINAL","THUMBNAIL","LICENSE"]},this.mediaViewer={image:!1,video:!1},this.info={enableEndUserAgreement:!0,enablePrivacyStatement:!0,enableCOARNotifySupport:!0,enableCookieConsentPopup:!0},this.markdown={enabled:!1,mathjax:!1},this.vocabularies=[{filter:"subject",vocabulary:"srsc",enabled:!1}],this.comcolSelectionSort={sortField:"dc.title",sortDirection:"ASC"},this.qualityAssuranceConfig={sourceUrlMapForProjectSearch:{openaire:"https://explore.openaire.eu/search/project?projectId="},pageSize:5},this.search={advancedFilters:{enabled:!1,filter:["title","author","subject","entityType"]},filterPlaceholdersCount:5},this.notifyMetrics=[{title:"admin-notify-dashboard.received-ldn",boxes:[{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.incoming.accepted",config:"NOTIFY.incoming.accepted",description:"admin-notify-dashboard.NOTIFY.incoming.accepted.description"},{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.incoming.processed",config:"NOTIFY.incoming.processed",description:"admin-notify-dashboard.NOTIFY.incoming.processed.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.failure",config:"NOTIFY.incoming.failure",description:"admin-notify-dashboard.NOTIFY.incoming.failure.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.untrusted",config:"NOTIFY.incoming.untrusted",description:"admin-notify-dashboard.NOTIFY.incoming.untrusted.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.incoming.involvedItems",textColor:"#fff",config:"NOTIFY.incoming.involvedItems",description:"admin-notify-dashboard.NOTIFY.incoming.involvedItems.description"}]},{title:"admin-notify-dashboard.generated-ldn",boxes:[{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.outgoing.delivered",config:"NOTIFY.outgoing.delivered",description:"admin-notify-dashboard.NOTIFY.outgoing.delivered.description"},{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.outgoing.queued",config:"NOTIFY.outgoing.queued",description:"admin-notify-dashboard.NOTIFY.outgoing.queued.description"},{color:"#FDEEBB",title:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry",config:"NOTIFY.outgoing.queued_for_retry",description:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.outgoing.failure",config:"NOTIFY.outgoing.failure",description:"admin-notify-dashboard.NOTIFY.outgoing.failure.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems",textColor:"#fff",config:"NOTIFY.outgoing.involvedItems",description:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems.description"}]}],this.liveRegion={messageTimeOutDurationMs:3e4,isVisible:!1},this.matomo={},this.geospatialMapViewer={spatialMetadataFields:["dcterms.spatial"],spatialFacetDiscoveryConfiguration:"geospatial",spatialPointFilterName:"point",enableItemPageFields:!1,enableSearchViewMode:!1,enableBrowseMap:!1,tileProviders:["OpenStreetMap.Mapnik"],defaultCentrePoint:{lat:41.015137,lng:28.97953}},this.accessibility={cookieExpirationDuration:7}}}let r0=(()=>{class d extends mf{constructor(r,u,w,Y,De,Ie,tt,Pt,bn,en,ti,ri,Xn,qn,Yi,Ts,Wi,Cs,As,jr){super(r,u,Y,De,Ie,tt,bn,en,Xn,qn,jr),this.store=r,this.correlationIdService=u,this.transferState=w,this.appConfig=Y,this.translate=De,this.localeService=Ie,this.angulartics2DSpace=tt,this.googleAnalyticsService=Pt,this.headTagService=bn,this.breadcrumbsService=en,this.orejimeService=ti,this.authService=ri,this.themeService=Xn,this.menuService=qn,this.rootDataService=Yi,this.router=Ts,this.requestService=Wi,this.halService=Cs,this.matomoService=As,this.menuProviderService=jr}static resolveAppConfig(r){if(r.hasKey(vo.Dr)){const u=r.get(vo.Dr,new wL);(0,he.$k)(I.c,u)}}init(){var r=this;return(0,m.A)(function*(){return yield r.loadAppState(),r.checkAuthenticationToken(),r.externalAuthCheck(),r.initCorrelationId(),r.checkEnvironment(),(d=>{const _=d.production?"Production":"Development",r=d.production?"red":"green";console.info(""),console.info("%cdspace-angular","font-weight: bold;"),console.info("Version: %c10.0.0-next","font-weight: bold;"),console.info(`Environment: %c${_}`,`color: ${r}; font-weight: bold;`),console.info("")})(I.c),r.initI18n(),r.initAngulartics(),r.initGoogleAnalytics(),r.initMatomo(),r.initRouteListeners(),r.themeService.listenForThemeChanges(!0),r.trackAuthTokenExpiration(),r.initOrejime(),yield ZA(r.authenticationReady$()),r.menuProviderService.initPersistentMenus(!1),!0})}loadAppState(){var r=this;return(0,m.A)(function*(){if(r.appConfig.ssr.transferState){const u=r.transferState.get(mf.NGRX_STATE,null);return r.transferState.remove(mf.NGRX_STATE),r.store.dispatch(new uc(fl.REHYDRATE,u)),ZA(r.store.select(gg.N).pipe((0,uu.I)(w=>(0,V.hj)(w)),(0,In.T)(()=>!0)))}return Promise.resolve(!0)})()}trackAuthTokenExpiration(){this.authService.trackTokenExpiration()}initOrejime(){this.authenticationReady$().subscribe(()=>{this.orejimeService.initialize()})}initGoogleAnalytics(){this.googleAnalyticsService.addTrackingIdToPage()}initMatomo(){this.matomoService.init()}externalAuthCheck(){this.sub=this.authService.isExternalAuthentication().pipe((0,_o.p)(r=>r)).subscribe(()=>{this.requestService.setStaleByHrefSubstring(this.halService.getRootHref()),this.authService.setExternalAuthStatus(!1)}),this.closeAuthCheckSubscription()}closeAuthCheckSubscription(){(function eL(d,_){const r="object"==typeof _;return new Promise((u,w)=>{const Y=new qw.Ms({next:De=>{u(De),Y.unsubscribe()},error:w,complete:()=>{r?u(_.defaultValue):w(new JA.G)}});d.subscribe(Y)})})(this.authenticationReady$()).then(()=>{this.sub.unsubscribe()})}initRouteListeners(){super.initRouteListeners(),this.listenForRouteChanges(),this.menuProviderService.listenForRouteChanges(!1)}listenForRouteChanges(){this.rootDataService.invalidateRootCache(),this.router.events.pipe((0,_o.p)(r=>r instanceof v.Z)).subscribe(()=>{this.rootDataService.invalidateRootCache()})}static{this.\u0275fac=function(u){return new(u||d)(e.KVO(E.il),e.KVO(mc),e.KVO(e.pJN),e.KVO(vo.vQ),e.KVO(K.c$),e.KVO(Zh.iH),e.KVO(BM),e.KVO(GT),e.KVO(df),e.KVO(bg.E),e.KVO(ad.B),e.KVO(h.uR),e.KVO(ie.Fs),e.KVO(Wd.$),e.KVO(Qd.RootDataService),e.KVO(v.Ix),e.KVO(Za.B),e.KVO(qm.Y),e.KVO(jT.$n),e.KVO(l2))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const LL=(0,e.zw6)("req"),d2=(0,e.v7R)({providers:[(0,We.$R)((0,We.Sx)()),function xn(){return(0,e.ngT)("NgEagerAnimations"),[...Ze]}(),(0,p.$x)(),(0,e.oKB)(Jc.ok.forRoot(),E.md.forFeature("core",cf,Xf.wP),Ld.forFeature(mT),K.h.forRoot({loader:{provide:K.Wr,useFactory:function NL(d,_){return new Zw(d,_,"assets/i18n/",".json")},deps:[e.pJN,We.Qq]},missingTranslationHandler:{provide:K.er,useClass:QA.M},useDefaultLang:!0})),...r0.providers(),{provide:e.sZ2,useValue:"dspace-angular"},{provide:KT.S,useFactory:function FL(d){return d.get(LL,{})},deps:[e.pJN]},{provide:e.hnV,useFactory:(d,_)=>d.initXSRFToken(_),deps:[rf,We.Qq],multi:!0},{provide:rf,useClass:LT},{provide:h.uR,useClass:h.uR},{provide:nm.O,useClass:cy},{provide:ad.B,useClass:YA},{provide:rd.E,useClass:rd.E},{provide:Zh.iH,useClass:Zh.iH},{provide:Cg.$,useClass:KA},{provide:GT,useClass:GT},{provide:Jc.eB,useClass:Jc.eB},{provide:GE.H,useClass:iT},{provide:wT.f,useClass:s1},{provide:WA,useFactory:function GA(){return window.location}},{provide:ev,useClass:HA},(0,Na.$z)({mode:"deferred"},function ul(d){return(0,Na.rm)("Router",[{provide:Na.HU,useValue:!0},{provide:Aa,useValue:d},{provide:e.Z63,multi:!0,useValue(){(0,e.WQX)(Nh).initialize()}}])}(),function Ru(d){const _=[Of(f0)];return d&&_.push({provide:Sf,useValue:d}),(0,Na.rm)("BuiltInRouteDataInterceptor",_,r=>{if(!r.includes("Router"))throw new Error("Matomo feature withRouteData() cannot be used without router feature! Did you forget to call withRouter()?")})}())]},pA),u2=()=>(0,p.B8)(te,d2),h2=null!==document.querySelector("script#dspace-angular-state"),jM=()=>(I.c.production&&(0,e.SmG)(),h2?u2():fetch("assets/config.json").then(d=>d.json()).then(d=>((0,he.$k)(I.c,d),u2())));"complete"!==document.readyState||h2?document.addEventListener("DOMContentLoaded",jM):jM()},66515:(B,C,n)=>{"use strict";n.r(C),n.d(C,{HeaderNavbarWrapperComponent:()=>y});var i=n(60177),t=n(7901),c=n(68018),e=n(88368),p=n(11989),m=n(31352),f=n(13957),v=n(54438);function E(M,b){if(1&M&&(v.j41(0,"div",1),v.nI1(1,"async"),v.j41(2,"nav",2),v.nI1(3,"async"),v.nI1(4,"translate"),v.j41(5,"div",3)(6,"a",4)(7,"span",5),v.EFF(8,"Inicio"),v.k0s()(),v.j41(9,"a",6)(10,"span",5),v.EFF(11,"Categor\xedas"),v.k0s()(),v.j41(12,"a",7)(13,"span",5),v.EFF(14,"Pol\xedticas"),v.k0s()(),v.j41(15,"a",8)(16,"span",5),v.EFF(17,"Requisitos"),v.k0s()(),v.j41(18,"a",9)(19,"span",5),v.EFF(20,"Premio Anual"),v.k0s()()(),v.nrm(21,"ds-navbar"),v.k0s()()),2&M){const P=v.XpG();v.Y8G("@slideMobileNav",v.bMT(1,3,P.isNavBarCollapsed$)?"collapsed":"expanded"),v.R7$(2),v.BMQ("aria-hidden",v.bMT(3,5,P.isNavBarCollapsed$))("aria-label",v.bMT(4,7,"nav.main.description"))}}let y=(()=>{class M extends p.HeaderNavbarWrapperComponent{static{this.\u0275fac=(()=>{let P;return function(I){return(P||(P=v.xGo(M)))(I||M)}})()}static{this.\u0275cmp=v.VBU({type:M,selectors:[["ds-themed-header-navbar-wrapper"]],standalone:!0,features:[v.Vt3,v.aNF],decls:4,vars:3,consts:[["id","header-navbar-wrapper"],["id","mobile-navbar-wrapper"],["id","collapsible-mobile-navbar",1,"px-3"],[1,"navbar-nav","d-flex","flex-column","mb-3","border-bottom","pb-3"],["routerLink","/home",1,"nav-link","py-2","px-0"],[1,"navbar-link-text"],["routerLink","/community-list",1,"nav-link","py-2","px-0"],["routerLink","/info/policies",1,"nav-link","py-2","px-0"],["routerLink","/info/requirements",1,"nav-link","py-2","px-0"],["routerLink","/info/award",1,"nav-link","py-2","px-0"]],template:function(D,I){1&D&&(v.j41(0,"div",0),v.nrm(1,"ds-header"),v.DNE(2,E,22,9,"div",1),v.nI1(3,"async"),v.k0s()),2&D&&(v.R7$(2),v.vxM(v.bMT(3,1,I.isMobile$)?2:-1))},dependencies:[i.Jj,t.Wk,e.q,m.D,c.h,c.D9],styles:["[_nghost-%COMP%]{--ds-header-navbar-border-bottom-style: solid var(--ds-header-navbar-border-bottom-height) var(--ds-header-navbar-border-bottom-color);--ds-expandable-navbar-border-top-style: solid var(--ds-expandable-navbar-border-top-height) var(--ds-expandable-navbar-border-top-color);--ds-expandable-navbar-height: calc(100vh - var(--ds-header-height))}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{position:relative;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]{width:100%;background-color:var(--ds-expandable-navbar-bg);position:absolute;z-index:var(--ds-nav-z-index);overflow:hidden}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]   nav#collapsible-mobile-navbar[_ngcontent-%COMP%]{min-height:var(--ds-expandable-navbar-height);height:auto;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]     .ds-menu-item, [_nghost-%COMP%]     .ds-menu-toggler-wrapper{text-decoration:none}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item-wrapper, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{display:flex;align-items:center;height:100%}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-navbar-item-vertical-padding) var(--ds-navbar-item-horizontal-padding)}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{color:var(--ds-navbar-link-color)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:focus, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:focus{color:var(--ds-navbar-link-color-hover)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .dropdown-menu .ds-menu-item{padding:var(--ds-navbar-dropdown-item-vertical-padding) var(--ds-navbar-dropdown-item-horizontal-padding)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar{border-top:var(--ds-expandable-navbar-border-top-style);padding-top:var(--ds-expandable-navbar-padding-top)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-expandable-navbar-item-vertical-padding) 0}"],data:{animation:[f.p8]}})}}return M})()},39618:(B,C,n)=>{"use strict";n.r(C),n.d(C,{HeaderComponent:()=>D});var i=n(60177),t=n(7901),c=n(58003),e=n(68018),p=n(72012),m=n(84848),f=n(81176),v=n(51728),E=n(85546),y=n(22114),M=n(54438);function b(I,h){1&I&&(M.j41(0,"nav",5),M.nI1(1,"translate"),M.j41(2,"div",9)(3,"div",10)(4,"a",11)(5,"span",12),M.EFF(6,"Inicio"),M.k0s()()(),M.j41(7,"div",10)(8,"a",13)(9,"span",12),M.EFF(10,"Categor\xedas"),M.k0s()()(),M.j41(11,"div",10)(12,"a",14)(13,"span",12),M.EFF(14,"Pol\xedticas"),M.k0s()()(),M.j41(15,"div",10)(16,"a",15)(17,"span",12),M.EFF(18,"Requisitos"),M.k0s()()(),M.j41(19,"div",10)(20,"a",16)(21,"span",12),M.EFF(22,"Premio Anual"),M.k0s()()()()()),2&I&&M.BMQ("aria-label",M.bMT(1,1,"nav.main.description"))}function P(I,h){if(1&I){const S=M.RV6();M.j41(0,"div",8)(1,"button",17),M.nI1(2,"translate"),M.nI1(3,"async"),M.bIt("click",function(){M.eBV(S);const L=M.XpG();return M.Njj(L.toggleNavbar())}),M.nrm(4,"span",18),M.k0s()()}if(2&I){const S=M.XpG();M.R7$(),M.BMQ("aria-label",M.bMT(2,2,"nav.toggle"))("aria-expanded",!0!==M.bMT(3,4,S.isNavBarCollapsed$))}}let D=(()=>{class I extends f.HeaderComponent{ngOnInit(){super.ngOnInit(),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static{this.\u0275fac=(()=>{let S;return function(L){return(S||(S=M.xGo(I)))(L||I)}})()}static{this.\u0275cmp=M.VBU({type:I,selectors:[["ds-themed-header"]],standalone:!0,features:[M.Vt3,M.aNF],decls:21,vars:20,consts:[["id","main-site-header"],["id","main-site-header-container",1,"container","h-100","d-flex","flex-row","align-items-center","justify-content-between","gapx-3","gapy-2"],["id","header-left",1,"h-100","flex-fill","d-flex","flex-row","flex-nowrap","justify-content-start","align-items-center","gapx-3","flex-grow-1"],["routerLink","/home","role","button","tabindex","0",1,"d-block","my-2","my-md-0"],["id","header-logo","src","assets/images/iateci-logo.png"],["id","desktop-navbar",1,"navbar","navbar-expand","p-0","align-items-stretch","align-self-stretch","flex-grow-1","flex-shrink-1"],["id","header-right",1,"h-100","d-flex","flex-row","flex-nowrap","flex-shrink-0","justify-content-end","align-items-center","gapx-1","ms-auto"],["role","toolbar",1,"h-100","d-flex","flex-row","flex-nowrap","align-items-center","gapx-1"],["id","mobile-navbar-toggler",1,"d-block","d-lg-none","ms-3"],["role","menubar",1,"navbar-nav","align-items-md-center","me-auto","shadow-none","gapx-3"],[1,"ds-menu-item-wrapper","text-md-center"],["routerLink","/home","role","menuitem",1,"nav-link"],[1,"navbar-link-text"],["routerLink","/community-list","role","menuitem",1,"nav-link"],["routerLink","/info/policies","role","menuitem",1,"nav-link"],["routerLink","/info/requirements","role","menuitem",1,"nav-link"],["routerLink","/info/award","role","menuitem",1,"nav-link"],["id","navbar-toggler","type","button","aria-controls","collapsible-mobile-navbar",1,"btn","btn-transparent",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","fa-xl","toggler-icon"]],template:function(O,L){1&O&&(M.j41(0,"header",0)(1,"div",1)(2,"div",2),M.nI1(3,"async"),M.nI1(4,"async"),M.nI1(5,"translate"),M.j41(6,"a",3),M.nI1(7,"translate"),M.nrm(8,"img",4),M.nI1(9,"translate"),M.k0s(),M.DNE(10,b,23,3,"nav",5),M.nI1(11,"async"),M.k0s(),M.j41(12,"div",6),M.nrm(13,"ds-search-navbar"),M.j41(14,"div",7),M.nrm(15,"ds-lang-switch")(16,"ds-context-help-toggle")(17,"ds-impersonate-navbar")(18,"ds-auth-nav-menu"),M.k0s(),M.DNE(19,P,5,6,"div",8),M.nI1(20,"async"),M.k0s()()()),2&O&&(M.R7$(2),M.BMQ("role",M.bMT(3,6,L.isMobile$)?"navigation":"presentation")("aria-label",M.bMT(4,8,L.isMobile$)?M.bMT(5,10,"nav.main.description"):null),M.R7$(4),M.BMQ("aria-label",M.bMT(7,12,"home.title")),M.R7$(2),M.BMQ("alt",M.bMT(9,14,"menu.header.image.logo")),M.R7$(2),M.vxM(!0!==M.bMT(11,16,L.isMobile$)?10:-1),M.R7$(9),M.vxM(M.bMT(20,18,L.isMobile$)?19:-1))},dependencies:[i.Jj,m.Y,y.d,c.zH,c.QE,t.Wk,E.v,p.n,v.X,e.h,e.D9],styles:["[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{min-height:var(--ds-header-height)}@media (min-width: 768px){[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{height:var(--ds-header-height)}}[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{background-color:var(--ds-header-bg)}[_nghost-%COMP%]   #main-site-header-container[_ngcontent-%COMP%]{min-height:var(--ds-header-height)}[_nghost-%COMP%]   img#header-logo[_ngcontent-%COMP%]{height:var(--ds-header-logo-height)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}}return I})()},24968:(B,C,n)=>{"use strict";n.r(C),n.d(C,{HomeNewsComponent:()=>c});var i=n(96762),t=n(54438);let c=(()=>{class e extends i.HomeNewsComponent{static{this.\u0275fac=(()=>{let m;return function(v){return(m||(m=t.xGo(e)))(v||e)}})()}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ds-themed-home-news"]],standalone:!0,features:[t.Vt3,t.aNF],decls:37,vars:1,consts:[[1,"background-image-container","mt-ncs"],[1,"container"],[1,"home-news-content","py-4","px-2","py-sm-5","px-sm-0","mt-0","mb-4"],[1,"d-flex","flex-wrap"],[1,"display-2"],[1,"lead"],[1,"mt-4"],[1,"mb-4"],[1,"alert","alert-info"],[1,"alert-heading"],[1,"fas","fa-creative-commons"],[1,"mb-0"],["href","https://creativecommons.org/licenses/by/4.0/deed.es","target","_blank","role","link","tabindex","0",1,"alert-link"],[1,"background-image"],["type","image/webp","srcset","assets/dspace/images/banner.webp 2000w, assets/dspace/images/banner-half.webp 1200w, assets/dspace/images/banner-tall.webp 768w"],["type","image/jpg","srcset","assets/dspace/images/banner.jpg 2000w, assets/dspace/images/banner-half.jpg 1200w, assets/dspace/images/banner-tall.jpg 768w"],["alt","",3,"src"]],template:function(f,v){1&f&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),t.EFF(6,"Repositorio IATECI"),t.k0s(),t.j41(7,"p",5),t.EFF(8,"El Repositorio del Instituto Avanzado de Tecnolog\xedas en Ciencias e Innovaci\xf3n (IATECI) es una plataforma digital de acceso abierto orientada a la preservaci\xf3n, organizaci\xf3n, difusi\xf3n y visibilidad del conocimiento cient\xedfico, acad\xe9mico, t\xe9cnico y profesional generado en la Rep\xfablica Dominicana y en la regi\xf3n del Caribe."),t.k0s()()(),t.j41(9,"div",6)(10,"p"),t.EFF(11,"Este repositorio ha sido concebido como un espacio abierto a toda la comunidad investigadora nacional e internacional, sin restricciones institucionales, promoviendo la colaboraci\xf3n entre cient\xedficos, centros de investigaci\xf3n, universidades, estudiantes de posgrado y profesionales independientes comprometidos con el avance \xe9tico y riguroso del conocimiento cient\xedfico."),t.k0s(),t.j41(12,"p"),t.EFF(13,"Inspirado en los principios de la Ciencia Abierta y alineado con est\xe1ndares internacionales, el repositorio ofrece una infraestructura que facilita el acceso libre, gratuito y permanente a la producci\xf3n cient\xedfica, con el objetivo de:"),t.k0s(),t.j41(14,"ul",7)(15,"li"),t.EFF(16,"Impulsar la visibilidad global de la investigaci\xf3n regional."),t.k0s(),t.j41(17,"li"),t.EFF(18,"Preservar la memoria cient\xedfica de manera digital y segura."),t.k0s(),t.j41(19,"li"),t.EFF(20,"Promover la transparencia, trazabilidad y replicabilidad de los resultados de investigaci\xf3n."),t.k0s(),t.j41(21,"li"),t.EFF(22,"Fomentar la cooperaci\xf3n cient\xedfica transinstitucional y transnacional."),t.k0s()(),t.j41(23,"div",8)(24,"h5",9),t.nrm(25,"i",10),t.EFF(26," Licencia Creative Commons"),t.k0s(),t.j41(27,"p",11),t.EFF(28,"Todos los documentos evaluados, aceptados y publicados en el repositorio deben estar bajo la licencia "),t.j41(29,"a",12)(30,"strong"),t.EFF(31,"Creative Commons Atribuci\xf3n 4.0 Internacional (CC BY 4.0)"),t.k0s()(),t.EFF(32,"."),t.k0s()()()()(),t.j41(33,"picture",13),t.nrm(34,"source",14)(35,"source",15)(36,"img",16),t.k0s()()),2&f&&(t.R7$(36),t.Y8G("src","assets/dspace/images/banner.jpg",t.B4B))},styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]{color:#fff;position:relative;font-weight:600}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .background-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{background-color:var(--bs-info);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:top}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;text-shadow:1px 1px 4px rgba(0,0,0,.6)}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{content:"";display:block;width:var(--ds-banner-background-gradient-width);height:100%;top:0;position:absolute}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before{background:linear-gradient(to left,var(--ds-banner-text-background),transparent);left:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{background:linear-gradient(to right,var(--ds-banner-text-background),transparent);right:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{background-color:var(--ds-banner-text-background)}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]{opacity:.3;position:absolute;right:var(--bs-spacer);bottom:0}[_nghost-%COMP%]   .home-news-content[_ngcontent-%COMP%]{background-color:#0000}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}[_nghost-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400}']})}}return e})()},87136:(B,C,n)=>{"use strict";n.r(C),n.d(C,{NavbarComponent:()=>M});var i=n(60177),t=n(58003),c=n(68018),e=n(57046),p=n(13957),m=n(72067),f=n(54438);function v(b,P){1&b&&f.nrm(0,"ds-user-menu",0),2&b&&f.Y8G("inExpandableNavbar",!0)}function E(b,P){1&b&&f.eu8(0)}function y(b,P){if(1&b&&(f.DNE(0,E,1,0,"ng-container",2),f.nI1(1,"async"),f.nI1(2,"async")),2&b){let D,I;const h=P.$implicit,S=f.XpG();f.Y8G("ngComponentOutlet",null==(D=f.bMT(1,2,S.sectionMap$).get(h.id))?null:D.component)("ngComponentOutletInjector",null==(I=f.bMT(2,4,S.sectionMap$).get(h.id))?null:I.injector)}}let M=(()=>{class b extends e.NavbarComponent{static{this.\u0275fac=(()=>{let D;return function(h){return(D||(D=f.xGo(b)))(h||b)}})()}static{this.\u0275cmp=f.VBU({type:b,selectors:[["ds-themed-navbar"]],standalone:!0,features:[f.Vt3,f.aNF],decls:8,vars:10,consts:[[3,"inExpandableNavbar"],["role","menubar","id","main-site-navigation",1,"navbar-nav","flex-shrink-1","h-100","align-items-md-stretch","gapx-3",3,"ngClass"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(I,h){1&I&&(f.DNE(0,v,1,1,"ds-user-menu",0),f.nI1(1,"async"),f.nI1(2,"async"),f.j41(3,"div",1),f.nI1(4,"async"),f.Z7z(5,y,3,6,"ng-container",null,f.fX1),f.nI1(7,"async"),f.k0s()),2&I&&(f.vxM(f.bMT(1,2,h.isMobile$)&&f.bMT(2,4,h.isAuthenticated$)?0:-1),f.R7$(3),f.Y8G("ngClass",f.bMT(4,6,h.isMobile$)?"navbar-nav-mobile":"navbar-nav-desktop"),f.R7$(2),f.Dyx(f.bMT(7,8,h.sections)))},dependencies:[i.Jj,t.zH,i.YU,i.OI,m.r,c.h],data:{animation:[p.p8]}})}}return b})()},77181:(B,C)=>{"use strict";var i=null;try{i=window}catch{i=global}var t=i.__CerializeTypeMap=new i.Map;function f(Re){return Array.isArray(Re)?Re.map(function(nt){return nt&&nt.toString()||null}):Re&&Re.toString()||null}function v(Re){return Array.isArray(Re)?Re.map(function(nt){return parseFloat(nt)}):parseFloat(Re)}function E(Re){return Array.isArray(Re)?Re.map(function(nt){return!!nt}):!!Re}function y(Re){return Array.isArray(Re)?Re.map(function(nt){return nt&&nt.toString()||null}):Re&&Re.toString()||null}function M(Re){return Array.isArray(Re)?Re.map(function(nt){return parseInt(nt)}):parseInt(Re)}function b(Re){return Array.isArray(Re)?Re.map(function(nt){return!!nt}):!!Re}function P(Re){return Re===String?f:Re===Number?v:Re===Boolean?E:Re}function D(Re){return Re===String?y:Re===Number?M:Re===Boolean?b:Re}function I(Re,nt){for(var Ge=0;Ge<Re.length;Ge++)if(Re[Ge].keyName===nt)return Re[Ge];return Re.push(new z(nt)),Re[Re.length-1]}function h(Re,nt){var Ge=null,at=null;return"string"==typeof Re?at=Re:(Re&&"function"==typeof Re||"object"==typeof Re)&&(Ge=Re,at=nt),{key:at,type:Ge}}C.inheritSerialization=function S(Re){return function(nt){for(var Ge=t.get(Re)||[],at=t.get(nt)||[],Ke=0;Ke<Ge.length;Ke++)z.hasKeyName(at,Ge[Ke].keyName)||at.push(z.clone(Ge[Ke]));t.set(nt,at)}},C.deserialize=function L(Re,nt){if(Re&&nt){var Ge=t.get(Re.constructor)||[];I(Ge,nt).deserializedKey=nt,t.set(Re.constructor,Ge)}},C.autoserialize=function T(Re,nt){if(Re&&nt){var Ge=t.get(Re.constructor)||[],at=I(Ge,nt);at.serializedKey=nt,at.deserializedKey=nt,t.set(Re.constructor,Ge)}},C.serializeAs=function x(Re,nt){if(Re){var Ge=h(Re,nt),at=Ge.key,Ke=Ge.type;return function(Te,pt){if(Te&&pt){var He=t.get(Te.constructor)||[],Bt=I(He,pt);Bt.serializedKey=at||pt,Bt.serializedType=Ke,Ke!==Date&&Ke!==RegExp&&!t.get(Ke)&&"function"==typeof Ke&&(Bt.serializedType={Serialize:D(Ke)}),t.set(Te.constructor,He)}}}},C.deserializeAs=function j(Re,nt){if(Re){var Ge=h(Re,nt),at=Ge.key,Ke=Ge.type;return function(Te,pt){if(Te&&pt){var He=t.get(Te.constructor)||[],Bt=I(He,pt);Bt.deserializedKey=at||pt,Bt.deserializedType=Ke,!t.get(Ke)&&Ke!==Date&&Ke!==RegExp&&"function"==typeof Ke&&(Bt.deserializedType={Deserialize:P(Ke)}),t.set(Te.constructor,He)}}}},C.autoserializeAs=function k(Re,nt){if(Re){var Ge=h(Re,nt),at=Ge.key,Ke=Ge.type;return function(Te,pt){if(Te&&pt){var He=t.get(Te.constructor)||[],Bt=I(He,pt),it=at||pt;Bt.deserializedKey=it,Bt.deserializedType=Ke,Bt.serializedKey=it,Bt.serializedType=D(Ke),!t.get(Ke)&&Ke!==Date&&Ke!==RegExp&&"function"==typeof Ke&&(Bt.deserializedType={Deserialize:P(Ke)}),t.set(Te.constructor,He)}}}};var z=function(){function Re(nt){this.keyName=nt,this.serializedKey=null,this.deserializedKey=null,this.deserializedType=null,this.serializedType=null,this.indexable=!1}return Re.hasKeyName=function(nt,Ge){for(var at=0;at<nt.length;at++)if(nt[at].keyName===Ge)return!0;return!1},Re.clone=function(nt){var Ge=new Re(nt.keyName);return Ge.deserializedKey=nt.deserializedKey,Ge.serializedKey=nt.serializedKey,Ge.serializedType=nt.serializedType,Ge.deserializedType=nt.deserializedType,Ge.indexable=nt.indexable,Ge},Re}();function Q(Re,nt){return Array.isArray(Re)?ie(Re,nt):Re&&"object"==typeof Re?ye(Re,nt):("string"==typeof Re||Re instanceof Date)&&nt===Date.prototype.constructor?new Date(Re):"string"==typeof Re&&nt===RegExp?new RegExp(Re):Re}function ie(Re,nt){for(var Ge=new Array(Re.length),at=0;at<Re.length;at++)Ge[at]=Q(Re[at],nt);return Ge}function te(Re,nt,Ge){Ge&&"function"==typeof Ge.OnDeserialized&&Ge.OnDeserialized(Re,nt)}function he(Re,nt){"function"==typeof Re.constructor.OnSerialized&&Re.constructor.OnSerialized(Re,nt)}function ye(Re,nt){var Ge=t.get(nt);if(!Ge){var at=null;return nt?te(at=new nt,Re,nt):at=JSON.parse(JSON.stringify(Re)),at}for(var Ke=new nt,Te=0;Te<Ge.length;Te++){var pt=Ge[Te];if(pt.deserializedKey){var He=pt.deserializedKey;pt.deserializedKey===pt.keyName&&"function"==typeof ve&&(He=ve(pt.keyName));var Bt=Re[He];void 0!==Bt&&(Ke[pt.keyName]=null===Bt?Bt:pt.deserializedType&&"function"==typeof pt.deserializedType.Deserialize?pt.deserializedType.Deserialize(Bt):Array.isArray(Bt)?ie(Bt,pt.deserializedType||null):("string"==typeof Bt||Bt instanceof Date)&&pt.deserializedType===Date.prototype.constructor?new Date(Bt):"string"==typeof Bt&&pt.deserializedType===RegExp?new RegExp(Re):Bt&&"object"==typeof Bt?pt.indexable?re(Bt,pt.deserializedType):ye(Bt,pt.deserializedType):Bt)}}return te(Ke,Re,nt),Ke}function re(Re,nt){var Ge={};return Object.keys(Re).forEach(function(at){Ge[at]=ye(Re[at],nt)}),Ge}function Z(Re,nt){for(var Ge=new Array(Re.length),at=0;at<Re.length;at++)Ge[at]=fe(Re[at],nt);return Ge}function ne(Re,nt){var at,Ge={};at=t.get(nt||Re.constructor);for(var Ke=0;Ke<at.length;Ke++){var Te=at[Ke];if(Te.serializedKey){var pt=Te.serializedKey;Te.serializedKey===Te.keyName&&"function"==typeof J&&(pt=J(Te.keyName));var He=Re[Te.keyName];if(void 0!==He)if(Array.isArray(He))Ge[pt]=Z(He,Te.serializedType||null);else if(Te.serializedType&&"function"==typeof Te.serializedType.Serialize)Ge[pt]=Te.serializedType.Serialize(He);else{var Bt=fe(He);void 0!==Bt&&(Ge[pt]=Bt)}}}return he(Re,Ge),Ge}function fe(Re,nt){if(null==Re)return null;if(Array.isArray(Re))return Z(Re,nt);if(nt&&t.has(nt))return ne(Re,nt);if(Re.constructor&&t.has(Re.constructor))return ne(Re);if(Re instanceof Date)return Re.toISOString();if(Re instanceof RegExp)return Re.toString();if(Re&&"object"==typeof Re||"function"==typeof Re){for(var Ge=Object.keys(Re),at={},Ke=0;Ke<Ge.length;Ke++)at[Ge[Ke]]=fe(Re[Ge[Ke]]);return he(Re,at),at}return Re}C.Deserialize=Q,C.Serialize=fe;var J=null,ve=null},74850:(B,C,n)=>{B.exports=n(77181)},43364:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function n(i,t){for(var c=i<0?"-":"",e=Math.abs(i).toString();e.length<t;)e="0"+e;return c+e},B.exports=C.default},66139:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function n(i,t){if(null==i)throw new TypeError("assign requires that input parameter not be null or undefined");for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(i[c]=t[c]);return i},B.exports=C.default},88200:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function c(e){return(0,t.default)({},e)};var t=i(n(66139));B.exports=C.default},70733:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var t=i(n(12606));C.default=t.default,B.exports=C.default},18635:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getDefaultOptions=function i(){return n},C.setDefaultOptions=function t(c){n=c};var n={}},99073:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var t=i(n(3498)),c=i(n(79429)),e=i(n(29348)),p=i(n(86964)),m=i(n(10125)),f=i(n(43364)),v=i(n(33133));function M(I,h){var S=I>0?"-":"+",O=Math.abs(I),L=Math.floor(O/60),T=O%60;if(0===T)return S+String(L);var x=h||"";return S+String(L)+x+(0,f.default)(T,2)}function b(I,h){return I%60==0?(I>0?"-":"+")+(0,f.default)(Math.abs(I)/60,2):P(I,h)}function P(I,h){var S=h||"",O=I>0?"-":"+",L=Math.abs(I);return O+(0,f.default)(Math.floor(L/60),2)+S+(0,f.default)(L%60,2)}C.default={G:function(h,S,O){var L=h.getUTCFullYear()>0?1:0;switch(S){case"G":case"GG":case"GGG":return O.era(L,{width:"abbreviated"});case"GGGGG":return O.era(L,{width:"narrow"});default:return O.era(L,{width:"wide"})}},y:function(h,S,O){if("yo"===S){var L=h.getUTCFullYear();return O.ordinalNumber(L>0?L:1-L,{unit:"year"})}return v.default.y(h,S)},Y:function(h,S,O,L){var T=(0,m.default)(h,L),x=T>0?T:1-T;return"YY"===S?(0,f.default)(x%100,2):"Yo"===S?O.ordinalNumber(x,{unit:"year"}):(0,f.default)(x,S.length)},R:function(h,S){var O=(0,e.default)(h);return(0,f.default)(O,S.length)},u:function(h,S){var O=h.getUTCFullYear();return(0,f.default)(O,S.length)},Q:function(h,S,O){var L=Math.ceil((h.getUTCMonth()+1)/3);switch(S){case"Q":return String(L);case"QQ":return(0,f.default)(L,2);case"Qo":return O.ordinalNumber(L,{unit:"quarter"});case"QQQ":return O.quarter(L,{width:"abbreviated",context:"formatting"});case"QQQQQ":return O.quarter(L,{width:"narrow",context:"formatting"});default:return O.quarter(L,{width:"wide",context:"formatting"})}},q:function(h,S,O){var L=Math.ceil((h.getUTCMonth()+1)/3);switch(S){case"q":return String(L);case"qq":return(0,f.default)(L,2);case"qo":return O.ordinalNumber(L,{unit:"quarter"});case"qqq":return O.quarter(L,{width:"abbreviated",context:"standalone"});case"qqqqq":return O.quarter(L,{width:"narrow",context:"standalone"});default:return O.quarter(L,{width:"wide",context:"standalone"})}},M:function(h,S,O){var L=h.getUTCMonth();switch(S){case"M":case"MM":return v.default.M(h,S);case"Mo":return O.ordinalNumber(L+1,{unit:"month"});case"MMM":return O.month(L,{width:"abbreviated",context:"formatting"});case"MMMMM":return O.month(L,{width:"narrow",context:"formatting"});default:return O.month(L,{width:"wide",context:"formatting"})}},L:function(h,S,O){var L=h.getUTCMonth();switch(S){case"L":return String(L+1);case"LL":return(0,f.default)(L+1,2);case"Lo":return O.ordinalNumber(L+1,{unit:"month"});case"LLL":return O.month(L,{width:"abbreviated",context:"standalone"});case"LLLLL":return O.month(L,{width:"narrow",context:"standalone"});default:return O.month(L,{width:"wide",context:"standalone"})}},w:function(h,S,O,L){var T=(0,p.default)(h,L);return"wo"===S?O.ordinalNumber(T,{unit:"week"}):(0,f.default)(T,S.length)},I:function(h,S,O){var L=(0,c.default)(h);return"Io"===S?O.ordinalNumber(L,{unit:"week"}):(0,f.default)(L,S.length)},d:function(h,S,O){return"do"===S?O.ordinalNumber(h.getUTCDate(),{unit:"date"}):v.default.d(h,S)},D:function(h,S,O){var L=(0,t.default)(h);return"Do"===S?O.ordinalNumber(L,{unit:"dayOfYear"}):(0,f.default)(L,S.length)},E:function(h,S,O){var L=h.getUTCDay();switch(S){case"E":case"EE":case"EEE":return O.day(L,{width:"abbreviated",context:"formatting"});case"EEEEE":return O.day(L,{width:"narrow",context:"formatting"});case"EEEEEE":return O.day(L,{width:"short",context:"formatting"});default:return O.day(L,{width:"wide",context:"formatting"})}},e:function(h,S,O,L){var T=h.getUTCDay(),x=(T-L.weekStartsOn+8)%7||7;switch(S){case"e":return String(x);case"ee":return(0,f.default)(x,2);case"eo":return O.ordinalNumber(x,{unit:"day"});case"eee":return O.day(T,{width:"abbreviated",context:"formatting"});case"eeeee":return O.day(T,{width:"narrow",context:"formatting"});case"eeeeee":return O.day(T,{width:"short",context:"formatting"});default:return O.day(T,{width:"wide",context:"formatting"})}},c:function(h,S,O,L){var T=h.getUTCDay(),x=(T-L.weekStartsOn+8)%7||7;switch(S){case"c":return String(x);case"cc":return(0,f.default)(x,S.length);case"co":return O.ordinalNumber(x,{unit:"day"});case"ccc":return O.day(T,{width:"abbreviated",context:"standalone"});case"ccccc":return O.day(T,{width:"narrow",context:"standalone"});case"cccccc":return O.day(T,{width:"short",context:"standalone"});default:return O.day(T,{width:"wide",context:"standalone"})}},i:function(h,S,O){var L=h.getUTCDay(),T=0===L?7:L;switch(S){case"i":return String(T);case"ii":return(0,f.default)(T,S.length);case"io":return O.ordinalNumber(T,{unit:"day"});case"iii":return O.day(L,{width:"abbreviated",context:"formatting"});case"iiiii":return O.day(L,{width:"narrow",context:"formatting"});case"iiiiii":return O.day(L,{width:"short",context:"formatting"});default:return O.day(L,{width:"wide",context:"formatting"})}},a:function(h,S,O){var T=h.getUTCHours()/12>=1?"pm":"am";switch(S){case"a":case"aa":return O.dayPeriod(T,{width:"abbreviated",context:"formatting"});case"aaa":return O.dayPeriod(T,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return O.dayPeriod(T,{width:"narrow",context:"formatting"});default:return O.dayPeriod(T,{width:"wide",context:"formatting"})}},b:function(h,S,O){var T,L=h.getUTCHours();switch(T=12===L?"noon":0===L?"midnight":L/12>=1?"pm":"am",S){case"b":case"bb":return O.dayPeriod(T,{width:"abbreviated",context:"formatting"});case"bbb":return O.dayPeriod(T,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return O.dayPeriod(T,{width:"narrow",context:"formatting"});default:return O.dayPeriod(T,{width:"wide",context:"formatting"})}},B:function(h,S,O){var T,L=h.getUTCHours();switch(T=L>=17?"evening":L>=12?"afternoon":L>=4?"morning":"night",S){case"B":case"BB":case"BBB":return O.dayPeriod(T,{width:"abbreviated",context:"formatting"});case"BBBBB":return O.dayPeriod(T,{width:"narrow",context:"formatting"});default:return O.dayPeriod(T,{width:"wide",context:"formatting"})}},h:function(h,S,O){if("ho"===S){var L=h.getUTCHours()%12;return 0===L&&(L=12),O.ordinalNumber(L,{unit:"hour"})}return v.default.h(h,S)},H:function(h,S,O){return"Ho"===S?O.ordinalNumber(h.getUTCHours(),{unit:"hour"}):v.default.H(h,S)},K:function(h,S,O){var L=h.getUTCHours()%12;return"Ko"===S?O.ordinalNumber(L,{unit:"hour"}):(0,f.default)(L,S.length)},k:function(h,S,O){var L=h.getUTCHours();return 0===L&&(L=24),"ko"===S?O.ordinalNumber(L,{unit:"hour"}):(0,f.default)(L,S.length)},m:function(h,S,O){return"mo"===S?O.ordinalNumber(h.getUTCMinutes(),{unit:"minute"}):v.default.m(h,S)},s:function(h,S,O){return"so"===S?O.ordinalNumber(h.getUTCSeconds(),{unit:"second"}):v.default.s(h,S)},S:function(h,S){return v.default.S(h,S)},X:function(h,S,O,L){var x=(L._originalDate||h).getTimezoneOffset();if(0===x)return"Z";switch(S){case"X":return b(x);case"XXXX":case"XX":return P(x);default:return P(x,":")}},x:function(h,S,O,L){var x=(L._originalDate||h).getTimezoneOffset();switch(S){case"x":return b(x);case"xxxx":case"xx":return P(x);default:return P(x,":")}},O:function(h,S,O,L){var x=(L._originalDate||h).getTimezoneOffset();switch(S){case"O":case"OO":case"OOO":return"GMT"+M(x,":");default:return"GMT"+P(x,":")}},z:function(h,S,O,L){var x=(L._originalDate||h).getTimezoneOffset();switch(S){case"z":case"zz":case"zzz":return"GMT"+M(x,":");default:return"GMT"+P(x,":")}},t:function(h,S,O,L){var x=Math.floor((L._originalDate||h).getTime()/1e3);return(0,f.default)(x,S.length)},T:function(h,S,O,L){var x=(L._originalDate||h).getTime();return(0,f.default)(x,S.length)}},B.exports=C.default},33133:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var t=i(n(43364));C.default={y:function(m,f){var v=m.getUTCFullYear(),E=v>0?v:1-v;return(0,t.default)("yy"===f?E%100:E,f.length)},M:function(m,f){var v=m.getUTCMonth();return"M"===f?String(v+1):(0,t.default)(v+1,2)},d:function(m,f){return(0,t.default)(m.getUTCDate(),f.length)},a:function(m,f){var v=m.getUTCHours()/12>=1?"pm":"am";switch(f){case"a":case"aa":return v.toUpperCase();case"aaa":return v;case"aaaaa":return v[0];default:return"am"===v?"a.m.":"p.m."}},h:function(m,f){return(0,t.default)(m.getUTCHours()%12||12,f.length)},H:function(m,f){return(0,t.default)(m.getUTCHours(),f.length)},m:function(m,f){return(0,t.default)(m.getUTCMinutes(),f.length)},s:function(m,f){return(0,t.default)(m.getUTCSeconds(),f.length)},S:function(m,f){var v=f.length,E=m.getUTCMilliseconds(),y=Math.floor(E*Math.pow(10,v-3));return(0,t.default)(y,f.length)}},B.exports=C.default},26035:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var n=function(m,f){switch(m){case"P":return f.date({width:"short"});case"PP":return f.date({width:"medium"});case"PPP":return f.date({width:"long"});default:return f.date({width:"full"})}},i=function(m,f){switch(m){case"p":return f.time({width:"short"});case"pp":return f.time({width:"medium"});case"ppp":return f.time({width:"long"});default:return f.time({width:"full"})}};C.default={p:i,P:function(m,f){var M,v=m.match(/(P+)(p+)?/)||[],E=v[1],y=v[2];if(!y)return n(m,f);switch(E){case"P":M=f.dateTime({width:"short"});break;case"PP":M=f.dateTime({width:"medium"});break;case"PPP":M=f.dateTime({width:"long"});break;default:M=f.dateTime({width:"full"})}return M.replace("{{date}}",n(E,f)).replace("{{time}}",i(y,f))}},B.exports=C.default},20059:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function n(i){var t=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return t.setUTCFullYear(i.getFullYear()),i.getTime()-t.getTime()},B.exports=C.default},3498:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function p(m){(0,c.default)(1,arguments);var f=(0,t.default)(m),v=f.getTime();f.setUTCMonth(0,1),f.setUTCHours(0,0,0,0);var E=f.getTime();return Math.floor((v-E)/e)+1};var t=i(n(75624)),c=i(n(5238)),e=864e5;B.exports=C.default},29348:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function p(m){(0,c.default)(1,arguments);var f=(0,t.default)(m),v=f.getUTCFullYear(),E=new Date(0);E.setUTCFullYear(v+1,0,4),E.setUTCHours(0,0,0,0);var y=(0,e.default)(E),M=new Date(0);M.setUTCFullYear(v,0,4),M.setUTCHours(0,0,0,0);var b=(0,e.default)(M);return f.getTime()>=y.getTime()?v+1:f.getTime()>=b.getTime()?v:v-1};var t=i(n(75624)),c=i(n(5238)),e=i(n(68224));B.exports=C.default},79429:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function f(v){(0,p.default)(1,arguments);var E=(0,t.default)(v),y=(0,c.default)(E).getTime()-(0,e.default)(E).getTime();return Math.round(y/m)+1};var t=i(n(75624)),c=i(n(68224)),e=i(n(96145)),p=i(n(5238)),m=6048e5;B.exports=C.default},10125:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function f(v,E){var y,M,b,P,D,I,h,S;(0,c.default)(1,arguments);var O=(0,t.default)(v),L=O.getUTCFullYear(),T=(0,m.getDefaultOptions)(),x=(0,p.default)(null!==(y=null!==(M=null!==(b=null!==(P=E?.firstWeekContainsDate)&&void 0!==P?P:null==E||null===(D=E.locale)||void 0===D||null===(I=D.options)||void 0===I?void 0:I.firstWeekContainsDate)&&void 0!==b?b:T.firstWeekContainsDate)&&void 0!==M?M:null===(h=T.locale)||void 0===h||null===(S=h.options)||void 0===S?void 0:S.firstWeekContainsDate)&&void 0!==y?y:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=new Date(0);N.setUTCFullYear(L+1,0,x),N.setUTCHours(0,0,0,0);var j=(0,e.default)(N,E),$=new Date(0);$.setUTCFullYear(L,0,x),$.setUTCHours(0,0,0,0);var k=(0,e.default)($,E);return O.getTime()>=j.getTime()?L+1:O.getTime()>=k.getTime()?L:L-1};var t=i(n(75624)),c=i(n(5238)),e=i(n(3595)),p=i(n(25167)),m=n(18635);B.exports=C.default},86964:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function f(v,E){(0,p.default)(1,arguments);var y=(0,t.default)(v),M=(0,c.default)(y,E).getTime()-(0,e.default)(y,E).getTime();return Math.round(M/m)+1};var t=i(n(75624)),c=i(n(3595)),e=i(n(12086)),p=i(n(5238)),m=6048e5;B.exports=C.default},79850:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.isProtectedDayOfYearToken=function t(p){return-1!==n.indexOf(p)},C.isProtectedWeekYearToken=function c(p){return-1!==i.indexOf(p)},C.throwProtectedError=function e(p,m,f){if("YYYY"===p)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(m,"`) for formatting years to the input `").concat(f,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===p)throw new RangeError("Use `yy` instead of `YY` (in `".concat(m,"`) for formatting years to the input `").concat(f,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===p)throw new RangeError("Use `d` instead of `D` (in `".concat(m,"`) for formatting days of the month to the input `").concat(f,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===p)throw new RangeError("Use `dd` instead of `DD` (in `".concat(m,"`) for formatting days of the month to the input `").concat(f,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var n=["D","DD"],i=["YY","YYYY"]},5238:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function n(i,t){if(t.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+t.length+" present")},B.exports=C.default},96145:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function p(m){(0,e.default)(1,arguments);var f=(0,t.default)(m),v=new Date(0);return v.setUTCFullYear(f,0,4),v.setUTCHours(0,0,0,0),(0,c.default)(v)};var t=i(n(29348)),c=i(n(68224)),e=i(n(5238));B.exports=C.default},68224:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function e(p){(0,c.default)(1,arguments);var f=(0,t.default)(p),v=f.getUTCDay(),E=(v<1?7:0)+v-1;return f.setUTCDate(f.getUTCDate()-E),f.setUTCHours(0,0,0,0),f};var t=i(n(75624)),c=i(n(5238));B.exports=C.default},12086:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function f(v,E){var y,M,b,P,D,I,h,S;(0,c.default)(1,arguments);var O=(0,m.getDefaultOptions)(),L=(0,p.default)(null!==(y=null!==(M=null!==(b=null!==(P=E?.firstWeekContainsDate)&&void 0!==P?P:null==E||null===(D=E.locale)||void 0===D||null===(I=D.options)||void 0===I?void 0:I.firstWeekContainsDate)&&void 0!==b?b:O.firstWeekContainsDate)&&void 0!==M?M:null===(h=O.locale)||void 0===h||null===(S=h.options)||void 0===S?void 0:S.firstWeekContainsDate)&&void 0!==y?y:1),T=(0,t.default)(v,E),x=new Date(0);return x.setUTCFullYear(T,0,L),x.setUTCHours(0,0,0,0),(0,e.default)(x,E)};var t=i(n(10125)),c=i(n(5238)),e=i(n(3595)),p=i(n(25167)),m=n(18635);B.exports=C.default},3595:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function m(f,v){var E,y,M,b,P,D,I,h;(0,c.default)(1,arguments);var S=(0,p.getDefaultOptions)(),O=(0,e.default)(null!==(E=null!==(y=null!==(M=null!==(b=v?.weekStartsOn)&&void 0!==b?b:null==v||null===(P=v.locale)||void 0===P||null===(D=P.options)||void 0===D?void 0:D.weekStartsOn)&&void 0!==M?M:S.weekStartsOn)&&void 0!==y?y:null===(I=S.locale)||void 0===I||null===(h=I.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==E?E:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var L=(0,t.default)(f),T=L.getUTCDay(),x=(T<O?7:0)+T-O;return L.setUTCDate(L.getUTCDate()-x),L.setUTCHours(0,0,0,0),L};var t=i(n(75624)),c=i(n(5238)),e=i(n(25167)),p=n(18635);B.exports=C.default},25167:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function n(i){if(null===i||!0===i||!1===i)return NaN;var t=Number(i);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)},B.exports=C.default},82678:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function p(m,f){(0,e.default)(2,arguments);var v=(0,c.default)(m).getTime(),E=(0,t.default)(f);return new Date(v+E)};var t=i(n(25167)),c=i(n(75624)),e=i(n(5238));B.exports=C.default},24150:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function O(T,x,N){var j,$,k,K,z,V,G,X,Q,ee,ie,te,he,ye,re,ce,Z,ne;(0,y.default)(2,arguments);var fe=String(x),ae=(0,M.getDefaultOptions)(),oe=null!==(j=null!==($=N?.locale)&&void 0!==$?$:ae.locale)&&void 0!==j?j:b.default,J=(0,E.default)(null!==(k=null!==(K=null!==(z=null!==(V=N?.firstWeekContainsDate)&&void 0!==V?V:null==N||null===(G=N.locale)||void 0===G||null===(X=G.options)||void 0===X?void 0:X.firstWeekContainsDate)&&void 0!==z?z:ae.firstWeekContainsDate)&&void 0!==K?K:null===(Q=ae.locale)||void 0===Q||null===(ee=Q.options)||void 0===ee?void 0:ee.firstWeekContainsDate)&&void 0!==k?k:1);if(!(J>=1&&J<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ve=(0,E.default)(null!==(ie=null!==(te=null!==(he=null!==(ye=N?.weekStartsOn)&&void 0!==ye?ye:null==N||null===(re=N.locale)||void 0===re||null===(ce=re.options)||void 0===ce?void 0:ce.weekStartsOn)&&void 0!==he?he:ae.weekStartsOn)&&void 0!==te?te:null===(Z=ae.locale)||void 0===Z||null===(ne=Z.options)||void 0===ne?void 0:ne.weekStartsOn)&&void 0!==ie?ie:0);if(!(ve>=0&&ve<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!oe.localize)throw new RangeError("locale must contain localize property");if(!oe.formatLong)throw new RangeError("locale must contain formatLong property");var _e=(0,e.default)(T);if(!(0,t.default)(_e))throw new RangeError("Invalid time value");var Ce=(0,f.default)(_e),qe=(0,c.default)(_e,Ce),Re={firstWeekContainsDate:J,weekStartsOn:ve,locale:oe,_originalDate:_e};return fe.match(D).map(function(Ge){var at=Ge[0];return"p"===at||"P"===at?(0,m.default[at])(Ge,oe.formatLong):Ge}).join("").match(P).map(function(Ge){if("''"===Ge)return"'";var at=Ge[0];if("'"===at)return function L(T){var x=T.match(I);return x?x[1].replace(h,"'"):T}(Ge);var Ke=p.default[at];if(Ke)return!(null!=N&&N.useAdditionalWeekYearTokens)&&(0,v.isProtectedWeekYearToken)(Ge)&&(0,v.throwProtectedError)(Ge,x,String(T)),!(null!=N&&N.useAdditionalDayOfYearTokens)&&(0,v.isProtectedDayOfYearToken)(Ge)&&(0,v.throwProtectedError)(Ge,x,String(T)),Ke(qe,Ge,oe.localize,Re);if(at.match(S))throw new RangeError("Format string contains an unescaped latin alphabet character `"+at+"`");return Ge}).join("")};var t=i(n(79649)),c=i(n(38695)),e=i(n(75624)),p=i(n(99073)),m=i(n(26035)),f=i(n(20059)),v=n(79850),E=i(n(25167)),y=i(n(5238)),M=n(18635),b=i(n(70733)),P=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,I=/^'([^]*?)'?$/,h=/''/g,S=/[a-zA-Z]/;B.exports=C.default},24321:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function e(p){return(0,c.default)(1,arguments),p instanceof Date||"object"===(0,t.default)(p)&&"[object Date]"===Object.prototype.toString.call(p)};var t=i(n(73738)),c=i(n(5238));B.exports=C.default},79649:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function p(m){if((0,e.default)(1,arguments),!(0,t.default)(m)&&"number"!=typeof m)return!1;var f=(0,c.default)(m);return!isNaN(Number(f))};var t=i(n(24321)),c=i(n(75624)),e=i(n(5238));B.exports=C.default},93126:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function n(i){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=t.width?String(t.width):i.defaultWidth;return i.formats[c]||i.formats[i.defaultWidth]}},B.exports=C.default},33628:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function n(i){return function(t,c){var p;if("formatting"===(null!=c&&c.context?String(c.context):"standalone")&&i.formattingValues){var m=i.defaultFormattingWidth||i.defaultWidth,f=null!=c&&c.width?String(c.width):m;p=i.formattingValues[f]||i.formattingValues[m]}else{var v=i.defaultWidth,E=null!=c&&c.width?String(c.width):i.defaultWidth;p=i.values[E]||i.values[v]}return p[i.argumentCallback?i.argumentCallback(t):t]}},B.exports=C.default},43636:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function n(c){return function(e){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=p.width,v=e.match(m&&c.matchPatterns[m]||c.matchPatterns[c.defaultMatchWidth]);if(!v)return null;var b,E=v[0],y=m&&c.parsePatterns[m]||c.parsePatterns[c.defaultParseWidth],M=Array.isArray(y)?function t(c,e){for(var p=0;p<c.length;p++)if(e(c[p]))return p}(y,function(D){return D.test(E)}):function i(c,e){for(var p in c)if(c.hasOwnProperty(p)&&e(c[p]))return p}(y,function(D){return D.test(E)});return b=c.valueCallback?c.valueCallback(M):M,{value:b=p.valueCallback?p.valueCallback(b):b,rest:e.slice(E.length)}}},B.exports=C.default},59354:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function n(i){return function(t){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.match(i.matchPattern);if(!e)return null;var p=e[0],m=t.match(i.parsePattern);if(!m)return null;var f=i.valueCallback?i.valueCallback(m[0]):m[0];return{value:f=c.valueCallback?c.valueCallback(f):f,rest:t.slice(p.length)}}},B.exports=C.default},93204:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};C.default=function(e,p,m){var f,v=n[e];return f="string"==typeof v?v:1===p?v.one:v.other.replace("{{count}}",p.toString()),null!=m&&m.addSuffix?m.comparison&&m.comparison>0?"in "+f:f+" ago":f},B.exports=C.default},64837:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var t=i(n(93126)),m={date:(0,t.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,t.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,t.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};C.default=m,B.exports=C.default},77767:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};C.default=function(e,p,m,f){return n[e]},B.exports=C.default},29063:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var t=i(n(33628)),y={ordinalNumber:function(P,D){var I=Number(P),h=I%100;if(h>20||h<10)switch(h%10){case 1:return I+"st";case 2:return I+"nd";case 3:return I+"rd"}return I+"th"},era:(0,t.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,t.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(P){return P-1}}),month:(0,t.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,t.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,t.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};C.default=y,B.exports=C.default},95401:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var t=i(n(43636)),h={ordinalNumber:(0,i(n(59354)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(L){return parseInt(L,10)}}),era:(0,t.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,t.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(L){return L+1}}),month:(0,t.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,t.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,t.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};C.default=h,B.exports=C.default},12606:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var t=i(n(93204)),c=i(n(64837)),e=i(n(77767)),p=i(n(29063)),m=i(n(95401));C.default={code:"en-US",formatDistance:t.default,formatLong:c.default,formatRelative:e.default,localize:p.default,match:m.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},B.exports=C.default},38695:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function p(m,f){(0,c.default)(2,arguments);var v=(0,e.default)(f);return(0,t.default)(m,-v)};var t=i(n(82678)),c=i(n(5238)),e=i(n(25167));B.exports=C.default},75624:(B,C,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function e(p){(0,c.default)(1,arguments);var m=Object.prototype.toString.call(p);return p instanceof Date||"object"===(0,t.default)(p)&&"[object Date]"===m?new Date(p.getTime()):"number"==typeof p||"[object Number]"===m?new Date(p):(("string"==typeof p||"[object String]"===m)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var t=i(n(73738)),c=i(n(5238));B.exports=C.default},58813:B=>{"use strict";var C=function(S){return function n(h){return!!h&&"object"==typeof h}(S)&&!function i(h){var S=Object.prototype.toString.call(h);return"[object RegExp]"===S||"[object Date]"===S||function e(h){return h.$$typeof===c}(h)}(S)},c="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function m(h,S){return!1!==S.clone&&S.isMergeableObject(h)?D(function p(h){return Array.isArray(h)?[]:{}}(h),h,S):h}function f(h,S,O){return h.concat(S).map(function(L){return m(L,O)})}function y(h){return Object.keys(h).concat(function E(h){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(h).filter(function(S){return Object.propertyIsEnumerable.call(h,S)}):[]}(h))}function M(h,S){try{return S in h}catch{return!1}}function D(h,S,O){(O=O||{}).arrayMerge=O.arrayMerge||f,O.isMergeableObject=O.isMergeableObject||C,O.cloneUnlessOtherwiseSpecified=m;var L=Array.isArray(S);return L===Array.isArray(h)?L?O.arrayMerge(h,S,O):function P(h,S,O){var L={};return O.isMergeableObject(h)&&y(h).forEach(function(T){L[T]=m(h[T],O)}),y(S).forEach(function(T){(function b(h,S){return M(h,S)&&!(Object.hasOwnProperty.call(h,S)&&Object.propertyIsEnumerable.call(h,S))})(h,T)||(L[T]=M(h,T)&&O.isMergeableObject(S[T])?function v(h,S){if(!S.customMerge)return D;var O=S.customMerge(h);return"function"==typeof O?O:D}(T,O)(h[T],S[T],O):m(S[T],O))}),L}(h,S,O):m(S,O)}D.all=function(S,O){if(!Array.isArray(S))throw new Error("first argument should be an array");return S.reduce(function(L,T){return D(L,T,O)},{})},B.exports=D},2632:(B,C,n)=>{var i,t,c;void 0!==(t="function"==typeof(i=c=function(){function c(){for(var m=0,f={};m<arguments.length;m++){var v=arguments[m];for(var E in v)f[E]=v[E]}return f}function e(m){return m.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function p(m){function f(){}function v(y,M,b){if(!(typeof document>"u")){"number"==typeof(b=c({path:"/"},f.defaults,b)).expires&&(b.expires=new Date(1*new Date+864e5*b.expires)),b.expires=b.expires?b.expires.toUTCString():"";try{var P=JSON.stringify(M);/^[\{\[]/.test(P)&&(M=P)}catch{}M=m.write?m.write(M,y):encodeURIComponent(String(M)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),y=encodeURIComponent(String(y)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var D="";for(var I in b)b[I]&&(D+="; "+I,!0!==b[I]&&(D+="="+b[I].split(";")[0]));return document.cookie=y+"="+M+D}}function E(y,M){if(!(typeof document>"u")){for(var b={},P=document.cookie?document.cookie.split("; "):[],D=0;D<P.length;D++){var I=P[D].split("="),h=I.slice(1).join("=");!M&&'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var S=e(I[0]);if(h=(m.read||m)(h,S)||e(h),M)try{h=JSON.parse(h)}catch{}if(b[S]=h,y===S)break}catch{}}return y?b[y]:b}}return f.set=v,f.get=function(y){return E(y,!1)},f.getJSON=function(y){return E(y,!0)},f.remove=function(y,M){v(y,"",c(M,{expires:-1}))},f.defaults={},f.withConverter=p,f}(function(){})})?i.call(C,n,C,B):i)&&(B.exports=t),B.exports=c()},55013:(B,C,n)=>{var c=n(54385)(n(81464),"DataView");B.exports=c},63028:(B,C,n)=>{var i=n(56399),t=n(61483),c=n(83434),e=n(5230),p=n(33718);function m(f){var v=-1,E=null==f?0:f.length;for(this.clear();++v<E;){var y=f[v];this.set(y[0],y[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=c,m.prototype.has=e,m.prototype.set=p,B.exports=m},25752:(B,C,n)=>{var i=n(23643),t=n(27103),c=n(30062),e=n(31610),p=n(1090);function m(f){var v=-1,E=null==f?0:f.length;for(this.clear();++v<E;){var y=f[v];this.set(y[0],y[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=c,m.prototype.has=e,m.prototype.set=p,B.exports=m},51012:(B,C,n)=>{var c=n(54385)(n(81464),"Map");B.exports=c},90752:(B,C,n)=>{var i=n(21891),t=n(92759),c=n(97766),e=n(40322),p=n(47258);function m(f){var v=-1,E=null==f?0:f.length;for(this.clear();++v<E;){var y=f[v];this.set(y[0],y[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=c,m.prototype.has=e,m.prototype.set=p,B.exports=m},81339:(B,C,n)=>{var c=n(54385)(n(81464),"Promise");B.exports=c},57814:(B,C,n)=>{var c=n(54385)(n(81464),"Set");B.exports=c},50342:(B,C,n)=>{var i=n(90752),t=n(74643),c=n(92768);function e(p){var m=-1,f=null==p?0:p.length;for(this.__data__=new i;++m<f;)this.add(p[m])}e.prototype.add=e.prototype.push=t,e.prototype.has=c,B.exports=e},6898:(B,C,n)=>{var i=n(25752),t=n(48945),c=n(78425),e=n(25280),p=n(80324),m=n(84516);function f(v){var E=this.__data__=new i(v);this.size=E.size}f.prototype.clear=t,f.prototype.delete=c,f.prototype.get=e,f.prototype.has=p,f.prototype.set=m,B.exports=f},8516:(B,C,n)=>{var i=n(81464);B.exports=i.Symbol},12737:(B,C,n)=>{var i=n(81464);B.exports=i.Uint8Array},72248:(B,C,n)=>{var c=n(54385)(n(81464),"WeakMap");B.exports=c},81458:B=>{B.exports=function C(n,i,t){switch(t.length){case 0:return n.call(i);case 1:return n.call(i,t[0]);case 2:return n.call(i,t[0],t[1]);case 3:return n.call(i,t[0],t[1],t[2])}return n.apply(i,t)}},99526:B=>{B.exports=function C(n,i,t,c){for(var e=-1,p=null==n?0:n.length;++e<p;){var m=n[e];i(c,m,t(m),n)}return c}},75558:B=>{B.exports=function C(n,i){for(var t=-1,c=null==n?0:n.length;++t<c&&!1!==i(n[t],t,n););return n}},32873:B=>{B.exports=function C(n,i){for(var t=-1,c=null==n?0:n.length,e=0,p=[];++t<c;){var m=n[t];i(m,t,n)&&(p[e++]=m)}return p}},75306:(B,C,n)=>{var i=n(55300);B.exports=function t(c,e){return!(null==c||!c.length)&&i(c,e,0)>-1}},35878:B=>{B.exports=function C(n,i,t){for(var c=-1,e=null==n?0:n.length;++c<e;)if(t(i,n[c]))return!0;return!1}},28548:(B,C,n)=>{var i=n(69695),t=n(56265),c=n(9812),e=n(63151),p=n(98426),m=n(31028),v=Object.prototype.hasOwnProperty;B.exports=function E(y,M){var b=c(y),P=!b&&t(y),D=!b&&!P&&e(y),I=!b&&!P&&!D&&m(y),h=b||P||D||I,S=h?i(y.length,String):[],O=S.length;for(var L in y)(M||v.call(y,L))&&(!h||!("length"==L||D&&("offset"==L||"parent"==L)||I&&("buffer"==L||"byteLength"==L||"byteOffset"==L)||p(L,O)))&&S.push(L);return S}},12757:B=>{B.exports=function C(n,i){for(var t=-1,c=null==n?0:n.length,e=Array(c);++t<c;)e[t]=i(n[t],t,n);return e}},86319:B=>{B.exports=function C(n,i){for(var t=-1,c=i.length,e=n.length;++t<c;)n[e+t]=i[t];return n}},57371:B=>{B.exports=function C(n,i){for(var t=-1,c=null==n?0:n.length;++t<c;)if(i(n[t],t,n))return!0;return!1}},10732:(B,C,n)=>{var i=n(64399),t=n(12651);B.exports=function c(e,p,m){(void 0!==m&&!t(e[p],m)||void 0===m&&!(p in e))&&i(e,p,m)}},69220:(B,C,n)=>{var i=n(64399),t=n(12651),e=Object.prototype.hasOwnProperty;B.exports=function p(m,f,v){var E=m[f];(!e.call(m,f)||!t(E,v)||void 0===v&&!(f in m))&&i(m,f,v)}},86316:(B,C,n)=>{var i=n(12651);B.exports=function t(c,e){for(var p=c.length;p--;)if(i(c[p][0],e))return p;return-1}},61512:(B,C,n)=>{var i=n(40868);B.exports=function t(c,e,p,m){return i(c,function(f,v,E){e(m,f,p(f),E)}),m}},28336:(B,C,n)=>{var i=n(43190),t=n(32561);B.exports=function c(e,p){return e&&i(p,t(p),e)}},66303:(B,C,n)=>{var i=n(43190),t=n(47674);B.exports=function c(e,p){return e&&i(p,t(p),e)}},64399:(B,C,n)=>{var i=n(44678);B.exports=function t(c,e,p){"__proto__"==e&&i?i(c,e,{configurable:!0,enumerable:!0,value:p,writable:!0}):c[e]=p}},25052:(B,C,n)=>{var i=n(6898),t=n(75558),c=n(69220),e=n(28336),p=n(66303),m=n(7697),f=n(25820),v=n(5308),E=n(67491),y=n(3539),M=n(49088),b=n(20828),P=n(89900),D=n(69686),I=n(92870),h=n(9812),S=n(63151),O=n(56879),L=n(83278),T=n(74257),x=n(32561),N=n(47674),K="[object Arguments]",Q="[object Function]",he="[object Object]",at={};at[K]=at["[object Array]"]=at["[object ArrayBuffer]"]=at["[object DataView]"]=at["[object Boolean]"]=at["[object Date]"]=at["[object Float32Array]"]=at["[object Float64Array]"]=at["[object Int8Array]"]=at["[object Int16Array]"]=at["[object Int32Array]"]=at["[object Map]"]=at["[object Number]"]=at[he]=at["[object RegExp]"]=at["[object Set]"]=at["[object String]"]=at["[object Symbol]"]=at["[object Uint8Array]"]=at["[object Uint8ClampedArray]"]=at["[object Uint16Array]"]=at["[object Uint32Array]"]=!0,at["[object Error]"]=at[Q]=at["[object WeakMap]"]=!1,B.exports=function Ke(Te,pt,He,Bt,it,Tt){var Ee,je=1&pt,ft=2&pt,vn=4&pt;if(He&&(Ee=it?He(Te,Bt,it,Tt):He(Te)),void 0!==Ee)return Ee;if(!L(Te))return Te;var hn=h(Te);if(hn){if(Ee=P(Te),!je)return f(Te,Ee)}else{var Un=b(Te),Ct=Un==Q||"[object GeneratorFunction]"==Un;if(S(Te))return m(Te,je);if(Un==he||Un==K||Ct&&!it){if(Ee=ft||Ct?{}:I(Te),!je)return ft?E(Te,p(Ee,Te)):v(Te,e(Ee,Te))}else{if(!at[Un])return it?Te:{};Ee=D(Te,Un,je)}}Tt||(Tt=new i);var Ot=Tt.get(Te);if(Ot)return Ot;Tt.set(Te,Ee),T(Te)?Te.forEach(function(ln){Ee.add(Ke(ln,pt,He,ln,Te,Tt))}):O(Te)&&Te.forEach(function(ln,we){Ee.set(we,Ke(ln,pt,He,we,Te,Tt))});var mt=hn?void 0:(vn?ft?M:y:ft?N:x)(Te);return t(mt||Te,function(ln,we){mt&&(ln=Te[we=ln]),c(Ee,we,Ke(ln,pt,He,we,Te,Tt))}),Ee}},19593:(B,C,n)=>{var i=n(83278),t=Object.create;B.exports=function(){function e(){}return function(p){if(!i(p))return{};if(t)return t(p);e.prototype=p;var m=new e;return e.prototype=void 0,m}}()},6362:(B,C,n)=>{var i=n(50342),t=n(75306),c=n(35878),e=n(12757),p=n(42502),m=n(31890);B.exports=function v(E,y,M,b){var P=-1,D=t,I=!0,h=E.length,S=[],O=y.length;if(!h)return S;M&&(y=e(y,p(M))),b?(D=c,I=!1):y.length>=200&&(D=m,I=!1,y=new i(y));e:for(;++P<h;){var L=E[P],T=null==M?L:M(L);if(L=b||0!==L?L:0,I&&T==T){for(var x=O;x--;)if(y[x]===T)continue e;S.push(L)}else D(y,T,b)||S.push(L)}return S}},40868:(B,C,n)=>{var i=n(73432),c=n(55892)(i);B.exports=c},75736:B=>{B.exports=function C(n,i,t,c){for(var e=n.length,p=t+(c?1:-1);c?p--:++p<e;)if(i(n[p],p,n))return p;return-1}},12875:B=>{B.exports=function C(n,i,t){var c;return t(n,function(e,p,m){if(i(e,p,m))return c=p,!1}),c}},13091:(B,C,n)=>{var i=n(86319),t=n(98892);B.exports=function c(e,p,m,f,v){var E=-1,y=e.length;for(m||(m=t),v||(v=[]);++E<y;){var M=e[E];p>0&&m(M)?p>1?c(M,p-1,m,f,v):i(v,M):f||(v[v.length]=M)}return v}},32898:(B,C,n)=>{var t=n(99602)();B.exports=t},73432:(B,C,n)=>{var i=n(32898),t=n(32561);B.exports=function c(e,p){return e&&i(e,p,t)}},98137:(B,C,n)=>{var i=n(43916),t=n(58130);B.exports=function c(e,p){for(var m=0,f=(p=i(p,e)).length;null!=e&&m<f;)e=e[t(p[m++])];return m&&m==f?e:void 0}},79926:(B,C,n)=>{var i=n(86319),t=n(9812);B.exports=function c(e,p,m){var f=p(e);return t(e)?f:i(f,m(e))}},61057:(B,C,n)=>{var i=n(8516),t=n(8488),c=n(53327),m=i?i.toStringTag:void 0;B.exports=function f(v){return null==v?void 0===v?"[object Undefined]":"[object Null]":m&&m in Object(v)?t(v):c(v)}},31398:B=>{B.exports=function C(n,i){return null!=n&&i in Object(n)}},55300:(B,C,n)=>{var i=n(75736),t=n(59636),c=n(75220);B.exports=function e(p,m,f){return m==m?c(p,m,f):i(p,t,f)}},16324:(B,C,n)=>{var i=n(50342),t=n(75306),c=n(35878),e=n(12757),p=n(42502),m=n(31890),f=Math.min;B.exports=function v(E,y,M){for(var b=M?c:t,P=E[0].length,D=E.length,I=D,h=Array(D),S=1/0,O=[];I--;){var L=E[I];I&&y&&(L=e(L,p(y))),S=f(L.length,S),h[I]=!M&&(y||P>=120&&L.length>=120)?new i(I&&L):void 0}L=E[0];var T=-1,x=h[0];e:for(;++T<P&&O.length<S;){var N=L[T],j=y?y(N):N;if(N=M||0!==N?N:0,!(x?m(x,j):b(O,j,M))){for(I=D;--I;){var $=h[I];if(!($?m($,j):b(E[I],j,M)))continue e}x&&x.push(j),O.push(N)}}return O}},18313:(B,C,n)=>{var i=n(61057),t=n(57433);B.exports=function e(p){return t(p)&&"[object Arguments]"==i(p)}},32925:(B,C,n)=>{var i=n(89471),t=n(57433);B.exports=function c(e,p,m,f,v){return e===p||(null==e||null==p||!t(e)&&!t(p)?e!=e&&p!=p:i(e,p,m,f,c,v))}},89471:(B,C,n)=>{var i=n(6898),t=n(12900),c=n(7987),e=n(47880),p=n(20828),m=n(9812),f=n(63151),v=n(31028),y="[object Arguments]",M="[object Array]",b="[object Object]",D=Object.prototype.hasOwnProperty;B.exports=function I(h,S,O,L,T,x){var N=m(h),j=m(S),$=N?M:p(h),k=j?M:p(S),K=($=$==y?b:$)==b,z=(k=k==y?b:k)==b,V=$==k;if(V&&f(h)){if(!f(S))return!1;N=!0,K=!1}if(V&&!K)return x||(x=new i),N||v(h)?t(h,S,O,L,T,x):c(h,S,$,O,L,T,x);if(!(1&O)){var G=K&&D.call(h,"__wrapped__"),X=z&&D.call(S,"__wrapped__");if(G||X){var Q=G?h.value():h,ee=X?S.value():S;return x||(x=new i),T(Q,ee,O,L,x)}}return!!V&&(x||(x=new i),e(h,S,O,L,T,x))}},26095:(B,C,n)=>{var i=n(20828),t=n(57433);B.exports=function e(p){return t(p)&&"[object Map]"==i(p)}},32692:(B,C,n)=>{var i=n(6898),t=n(32925);B.exports=function p(m,f,v,E){var y=v.length,M=y,b=!E;if(null==m)return!M;for(m=Object(m);y--;){var P=v[y];if(b&&P[2]?P[1]!==m[P[0]]:!(P[0]in m))return!1}for(;++y<M;){var D=(P=v[y])[0],I=m[D],h=P[1];if(b&&P[2]){if(void 0===I&&!(D in m))return!1}else{var S=new i;if(E)var O=E(I,h,D,m,f,S);if(!(void 0===O?t(h,I,3,E,S):O))return!1}}return!0}},59636:B=>{B.exports=function C(n){return n!=n}},60298:(B,C,n)=>{var i=n(58653),t=n(48401),c=n(83278),e=n(68020),m=/^\[object .+?Constructor\]$/,M=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");B.exports=function b(P){return!(!c(P)||t(P))&&(i(P)?M:m).test(e(P))}},91889:(B,C,n)=>{var i=n(20828),t=n(57433);B.exports=function e(p){return t(p)&&"[object Set]"==i(p)}},18068:(B,C,n)=>{var i=n(61057),t=n(18845),c=n(57433),V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1,B.exports=function G(X){return c(X)&&t(X.length)&&!!V[i(X)]}},12344:(B,C,n)=>{var i=n(7432),t=n(61669),c=n(39631),e=n(9812),p=n(15788);B.exports=function m(f){return"function"==typeof f?f:null==f?c:"object"==typeof f?e(f)?t(f[0],f[1]):i(f):p(f)}},13809:(B,C,n)=>{var i=n(3164),t=n(96199),e=Object.prototype.hasOwnProperty;B.exports=function p(m){if(!i(m))return t(m);var f=[];for(var v in Object(m))e.call(m,v)&&"constructor"!=v&&f.push(v);return f}},71194:(B,C,n)=>{var i=n(83278),t=n(3164),c=n(20908),p=Object.prototype.hasOwnProperty;B.exports=function m(f){if(!i(f))return c(f);var v=t(f),E=[];for(var y in f)"constructor"==y&&(v||!p.call(f,y))||E.push(y);return E}},45619:(B,C,n)=>{var i=n(40868),t=n(47291);B.exports=function c(e,p){var m=-1,f=t(e)?Array(e.length):[];return i(e,function(v,E,y){f[++m]=p(v,E,y)}),f}},7432:(B,C,n)=>{var i=n(32692),t=n(90613),c=n(2878);B.exports=function e(p){var m=t(p);return 1==m.length&&m[0][2]?c(m[0][0],m[0][1]):function(f){return f===p||i(f,p,m)}}},61669:(B,C,n)=>{var i=n(32925),t=n(26681),c=n(49830),e=n(181),p=n(94745),m=n(2878),f=n(58130);B.exports=function y(M,b){return e(M)&&p(b)?m(f(M),b):function(P){var D=t(P,M);return void 0===D&&D===b?c(P,M):i(b,D,3)}}},85765:(B,C,n)=>{var i=n(6898),t=n(10732),c=n(32898),e=n(91239),p=n(83278),m=n(47674),f=n(3609);B.exports=function v(E,y,M,b,P){E!==y&&c(y,function(D,I){if(P||(P=new i),p(D))e(E,y,I,M,v,b,P);else{var h=b?b(f(E,I),D,I+"",E,y,P):void 0;void 0===h&&(h=D),t(E,I,h)}},m)}},91239:(B,C,n)=>{var i=n(10732),t=n(7697),c=n(11334),e=n(25820),p=n(92870),m=n(56265),f=n(9812),v=n(25152),E=n(63151),y=n(58653),M=n(83278),b=n(49970),P=n(31028),D=n(3609),I=n(6729);B.exports=function h(S,O,L,T,x,N,j){var $=D(S,L),k=D(O,L),K=j.get(k);if(K)i(S,L,K);else{var z=N?N($,k,L+"",S,O,j):void 0,V=void 0===z;if(V){var G=f(k),X=!G&&E(k),Q=!G&&!X&&P(k);z=k,G||X||Q?f($)?z=$:v($)?z=e($):X?(V=!1,z=t(k,!0)):Q?(V=!1,z=c(k,!0)):z=[]:b(k)||m(k)?(z=$,m($)?z=I($):(!M($)||y($))&&(z=p(k))):V=!1}V&&(j.set(k,z),x(z,k,T,N,j),j.delete(k)),i(S,L,z)}}},32168:(B,C,n)=>{var i=n(12757),t=n(98137),c=n(12344),e=n(45619),p=n(90480),m=n(42502),f=n(81653),v=n(39631),E=n(9812);B.exports=function y(M,b,P){b=b.length?i(b,function(h){return E(h)?function(S){return t(S,1===h.length?h[0]:h)}:h}):[v];var D=-1;b=i(b,m(c));var I=e(M,function(h,S,O){return{criteria:i(b,function(T){return T(h)}),index:++D,value:h}});return p(I,function(h,S){return f(h,S,P)})}},21740:B=>{B.exports=function C(n){return function(i){return i?.[n]}}},55058:(B,C,n)=>{var i=n(98137);B.exports=function t(c){return function(e){return i(e,c)}}},68591:(B,C,n)=>{var i=n(39631),t=n(28452),c=n(11230);B.exports=function e(p,m){return c(t(p,m,i),p+"")}},48565:(B,C,n)=>{var i=n(26205),t=n(44678),c=n(39631);B.exports=t?function(p,m){return t(p,"toString",{configurable:!0,enumerable:!1,value:i(m),writable:!0})}:c},90480:B=>{B.exports=function C(n,i){var t=n.length;for(n.sort(i);t--;)n[t]=n[t].value;return n}},69695:B=>{B.exports=function C(n,i){for(var t=-1,c=Array(n);++t<n;)c[t]=i(t);return c}},87005:(B,C,n)=>{var i=n(8516),t=n(12757),c=n(9812),e=n(15153),p=1/0,m=i?i.prototype:void 0,f=m?m.toString:void 0;B.exports=function v(E){if("string"==typeof E)return E;if(c(E))return t(E,v)+"";if(e(E))return f?f.call(E):"";var y=E+"";return"0"==y&&1/E==-p?"-0":y}},35461:(B,C,n)=>{var i=n(37327),t=/^\s+/;B.exports=function c(e){return e&&e.slice(0,i(e)+1).replace(t,"")}},42502:B=>{B.exports=function C(n){return function(i){return n(i)}}},73136:(B,C,n)=>{var i=n(50342),t=n(75306),c=n(35878),e=n(31890),p=n(67366),m=n(3578);B.exports=function v(E,y,M){var b=-1,P=t,D=E.length,I=!0,h=[],S=h;if(M)I=!1,P=c;else if(D>=200){var O=y?null:p(E);if(O)return m(O);I=!1,P=e,S=new i}else S=y?[]:h;e:for(;++b<D;){var L=E[b],T=y?y(L):L;if(L=M||0!==L?L:0,I&&T==T){for(var x=S.length;x--;)if(S[x]===T)continue e;y&&S.push(T),h.push(L)}else P(S,T,M)||(S!==h&&S.push(T),h.push(L))}return h}},31890:B=>{B.exports=function C(n,i){return n.has(i)}},86638:(B,C,n)=>{var i=n(25152);B.exports=function t(c){return i(c)?c:[]}},43916:(B,C,n)=>{var i=n(9812),t=n(181),c=n(22447),e=n(54717);B.exports=function p(m,f){return i(m)?m:t(m,f)?[m]:c(e(m))}},96220:(B,C,n)=>{var i=n(12737);B.exports=function t(c){var e=new c.constructor(c.byteLength);return new i(e).set(new i(c)),e}},7697:(B,C,n)=>{B=n.nmd(B);var i=n(81464),t=C&&!C.nodeType&&C,c=t&&B&&!B.nodeType&&B,p=c&&c.exports===t?i.Buffer:void 0,m=p?p.allocUnsafe:void 0;B.exports=function f(v,E){if(E)return v.slice();var y=v.length,M=m?m(y):new v.constructor(y);return v.copy(M),M}},55942:(B,C,n)=>{var i=n(96220);B.exports=function t(c,e){var p=e?i(c.buffer):c.buffer;return new c.constructor(p,c.byteOffset,c.byteLength)}},38466:B=>{var C=/\w*$/;B.exports=function n(i){var t=new i.constructor(i.source,C.exec(i));return t.lastIndex=i.lastIndex,t}},54511:(B,C,n)=>{var i=n(8516),t=i?i.prototype:void 0,c=t?t.valueOf:void 0;B.exports=function e(p){return c?Object(c.call(p)):{}}},11334:(B,C,n)=>{var i=n(96220);B.exports=function t(c,e){var p=e?i(c.buffer):c.buffer;return new c.constructor(p,c.byteOffset,c.length)}},44967:(B,C,n)=>{var i=n(15153);B.exports=function t(c,e){if(c!==e){var p=void 0!==c,m=null===c,f=c==c,v=i(c),E=void 0!==e,y=null===e,M=e==e,b=i(e);if(!y&&!b&&!v&&c>e||v&&E&&M&&!y&&!b||m&&E&&M||!p&&M||!f)return 1;if(!m&&!v&&!b&&c<e||b&&p&&f&&!m&&!v||y&&p&&f||!E&&f||!M)return-1}return 0}},81653:(B,C,n)=>{var i=n(44967);B.exports=function t(c,e,p){for(var m=-1,f=c.criteria,v=e.criteria,E=f.length,y=p.length;++m<E;){var M=i(f[m],v[m]);if(M)return m>=y?M:M*("desc"==p[m]?-1:1)}return c.index-e.index}},25820:B=>{B.exports=function C(n,i){var t=-1,c=n.length;for(i||(i=Array(c));++t<c;)i[t]=n[t];return i}},43190:(B,C,n)=>{var i=n(69220),t=n(64399);B.exports=function c(e,p,m,f){var v=!m;m||(m={});for(var E=-1,y=p.length;++E<y;){var M=p[E],b=f?f(m[M],e[M],M,m,e):void 0;void 0===b&&(b=e[M]),v?t(m,M,b):i(m,M,b)}return m}},5308:(B,C,n)=>{var i=n(43190),t=n(90181);B.exports=function c(e,p){return i(e,t(e),p)}},67491:(B,C,n)=>{var i=n(43190),t=n(35254);B.exports=function c(e,p){return i(e,t(e),p)}},20336:(B,C,n)=>{var i=n(81464);B.exports=i["__core-js_shared__"]},3145:(B,C,n)=>{var i=n(99526),t=n(61512),c=n(12344),e=n(9812);B.exports=function p(m,f){return function(v,E){var y=e(v)?i:t,M=f?f():{};return y(v,m,c(E,2),M)}}},87530:(B,C,n)=>{var i=n(68591),t=n(12721);B.exports=function c(e){return i(function(p,m){var f=-1,v=m.length,E=v>1?m[v-1]:void 0,y=v>2?m[2]:void 0;for(E=e.length>3&&"function"==typeof E?(v--,E):void 0,y&&t(m[0],m[1],y)&&(E=v<3?void 0:E,v=1),p=Object(p);++f<v;){var M=m[f];M&&e(p,M,f,E)}return p})}},55892:(B,C,n)=>{var i=n(47291);B.exports=function t(c,e){return function(p,m){if(null==p)return p;if(!i(p))return c(p,m);for(var f=p.length,v=e?f:-1,E=Object(p);(e?v--:++v<f)&&!1!==m(E[v],v,E););return p}}},99602:B=>{B.exports=function C(n){return function(i,t,c){for(var e=-1,p=Object(i),m=c(i),f=m.length;f--;){var v=m[n?f:++e];if(!1===t(p[v],v,p))break}return i}}},67366:(B,C,n)=>{var i=n(57814),t=n(68145),c=n(3578),p=i&&1/c(new i([,-0]))[1]==1/0?function(m){return new i(m)}:t;B.exports=p},44678:(B,C,n)=>{var i=n(54385),t=function(){try{var c=i(Object,"defineProperty");return c({},"",{}),c}catch{}}();B.exports=t},12900:(B,C,n)=>{var i=n(50342),t=n(57371),c=n(31890);B.exports=function m(f,v,E,y,M,b){var P=1&E,D=f.length,I=v.length;if(D!=I&&!(P&&I>D))return!1;var h=b.get(f),S=b.get(v);if(h&&S)return h==v&&S==f;var O=-1,L=!0,T=2&E?new i:void 0;for(b.set(f,v),b.set(v,f);++O<D;){var x=f[O],N=v[O];if(y)var j=P?y(N,x,O,v,f,b):y(x,N,O,f,v,b);if(void 0!==j){if(j)continue;L=!1;break}if(T){if(!t(v,function($,k){if(!c(T,k)&&(x===$||M(x,$,E,y,b)))return T.push(k)})){L=!1;break}}else if(x!==N&&!M(x,N,E,y,b)){L=!1;break}}return b.delete(f),b.delete(v),L}},7987:(B,C,n)=>{var i=n(8516),t=n(12737),c=n(12651),e=n(12900),p=n(37152),m=n(3578),T=i?i.prototype:void 0,x=T?T.valueOf:void 0;B.exports=function N(j,$,k,K,z,V,G){switch(k){case"[object DataView]":if(j.byteLength!=$.byteLength||j.byteOffset!=$.byteOffset)return!1;j=j.buffer,$=$.buffer;case"[object ArrayBuffer]":return!(j.byteLength!=$.byteLength||!V(new t(j),new t($)));case"[object Boolean]":case"[object Date]":case"[object Number]":return c(+j,+$);case"[object Error]":return j.name==$.name&&j.message==$.message;case"[object RegExp]":case"[object String]":return j==$+"";case"[object Map]":var X=p;case"[object Set]":if(X||(X=m),j.size!=$.size&&!(1&K))return!1;var ee=G.get(j);if(ee)return ee==$;K|=2,G.set(j,$);var ie=e(X(j),X($),K,z,V,G);return G.delete(j),ie;case"[object Symbol]":if(x)return x.call(j)==x.call($)}return!1}},47880:(B,C,n)=>{var i=n(3539),e=Object.prototype.hasOwnProperty;B.exports=function p(m,f,v,E,y,M){var b=1&v,P=i(m),D=P.length;if(D!=i(f).length&&!b)return!1;for(var S=D;S--;){var O=P[S];if(!(b?O in f:e.call(f,O)))return!1}var L=M.get(m),T=M.get(f);if(L&&T)return L==f&&T==m;var x=!0;M.set(m,f),M.set(f,m);for(var N=b;++S<D;){var j=m[O=P[S]],$=f[O];if(E)var k=b?E($,j,O,f,m,M):E(j,$,O,m,f,M);if(!(void 0===k?j===$||y(j,$,v,E,M):k)){x=!1;break}N||(N="constructor"==O)}if(x&&!N){var K=m.constructor,z=f.constructor;K!=z&&"constructor"in m&&"constructor"in f&&!("function"==typeof K&&K instanceof K&&"function"==typeof z&&z instanceof z)&&(x=!1)}return M.delete(m),M.delete(f),x}},78657:B=>{var C="object"==typeof global&&global&&global.Object===Object&&global;B.exports=C},3539:(B,C,n)=>{var i=n(79926),t=n(90181),c=n(32561);B.exports=function e(p){return i(p,c,t)}},49088:(B,C,n)=>{var i=n(79926),t=n(35254),c=n(47674);B.exports=function e(p){return i(p,c,t)}},79038:(B,C,n)=>{var i=n(83329);B.exports=function t(c,e){var p=c.__data__;return i(e)?p["string"==typeof e?"string":"hash"]:p.map}},90613:(B,C,n)=>{var i=n(94745),t=n(32561);B.exports=function c(e){for(var p=t(e),m=p.length;m--;){var f=p[m],v=e[f];p[m]=[f,v,i(v)]}return p}},54385:(B,C,n)=>{var i=n(60298),t=n(58737);B.exports=function c(e,p){var m=t(e,p);return i(m)?m:void 0}},46902:(B,C,n)=>{var t=n(72852)(Object.getPrototypeOf,Object);B.exports=t},8488:(B,C,n)=>{var i=n(8516),t=Object.prototype,c=t.hasOwnProperty,e=t.toString,p=i?i.toStringTag:void 0;B.exports=function m(f){var v=c.call(f,p),E=f[p];try{f[p]=void 0;var y=!0}catch{}var M=e.call(f);return y&&(v?f[p]=E:delete f[p]),M}},90181:(B,C,n)=>{var i=n(32873),t=n(2260),e=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols;B.exports=p?function(f){return null==f?[]:(f=Object(f),i(p(f),function(v){return e.call(f,v)}))}:t},35254:(B,C,n)=>{var i=n(86319),t=n(46902),c=n(90181),e=n(2260);B.exports=Object.getOwnPropertySymbols?function(f){for(var v=[];f;)i(v,c(f)),f=t(f);return v}:e},20828:(B,C,n)=>{var i=n(55013),t=n(51012),c=n(81339),e=n(57814),p=n(72248),m=n(61057),f=n(68020),v="[object Map]",y="[object Promise]",M="[object Set]",b="[object WeakMap]",P="[object DataView]",D=f(i),I=f(t),h=f(c),S=f(e),O=f(p),L=m;(i&&L(new i(new ArrayBuffer(1)))!=P||t&&L(new t)!=v||c&&L(c.resolve())!=y||e&&L(new e)!=M||p&&L(new p)!=b)&&(L=function(T){var x=m(T),N="[object Object]"==x?T.constructor:void 0,j=N?f(N):"";if(j)switch(j){case D:return P;case I:return v;case h:return y;case S:return M;case O:return b}return x}),B.exports=L},58737:B=>{B.exports=function C(n,i){return n?.[i]}},85121:(B,C,n)=>{var i=n(43916),t=n(56265),c=n(9812),e=n(98426),p=n(18845),m=n(58130);B.exports=function f(v,E,y){for(var M=-1,b=(E=i(E,v)).length,P=!1;++M<b;){var D=m(E[M]);if(!(P=null!=v&&y(v,D)))break;v=v[D]}return P||++M!=b?P:!!(b=null==v?0:v.length)&&p(b)&&e(D,b)&&(c(v)||t(v))}},56399:(B,C,n)=>{var i=n(58247);B.exports=function t(){this.__data__=i?i(null):{},this.size=0}},61483:B=>{B.exports=function C(n){var i=this.has(n)&&delete this.__data__[n];return this.size-=i?1:0,i}},83434:(B,C,n)=>{var i=n(58247),e=Object.prototype.hasOwnProperty;B.exports=function p(m){var f=this.__data__;if(i){var v=f[m];return"__lodash_hash_undefined__"===v?void 0:v}return e.call(f,m)?f[m]:void 0}},5230:(B,C,n)=>{var i=n(58247),c=Object.prototype.hasOwnProperty;B.exports=function e(p){var m=this.__data__;return i?void 0!==m[p]:c.call(m,p)}},33718:(B,C,n)=>{var i=n(58247);B.exports=function c(e,p){var m=this.__data__;return this.size+=this.has(e)?0:1,m[e]=i&&void 0===p?"__lodash_hash_undefined__":p,this}},89900:B=>{var n=Object.prototype.hasOwnProperty;B.exports=function i(t){var c=t.length,e=new t.constructor(c);return c&&"string"==typeof t[0]&&n.call(t,"index")&&(e.index=t.index,e.input=t.input),e}},69686:(B,C,n)=>{var i=n(96220),t=n(55942),c=n(38466),e=n(54511),p=n(11334);B.exports=function k(K,z,V){var G=K.constructor;switch(z){case"[object ArrayBuffer]":return i(K);case"[object Boolean]":case"[object Date]":return new G(+K);case"[object DataView]":return t(K,V);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return p(K,V);case"[object Map]":case"[object Set]":return new G;case"[object Number]":case"[object String]":return new G(K);case"[object RegExp]":return c(K);case"[object Symbol]":return e(K)}}},92870:(B,C,n)=>{var i=n(19593),t=n(46902),c=n(3164);B.exports=function e(p){return"function"!=typeof p.constructor||c(p)?{}:i(t(p))}},98892:(B,C,n)=>{var i=n(8516),t=n(56265),c=n(9812),e=i?i.isConcatSpreadable:void 0;B.exports=function p(m){return c(m)||t(m)||!!(e&&m&&m[e])}},98426:B=>{var n=/^(?:0|[1-9]\d*)$/;B.exports=function i(t,c){var e=typeof t;return!!(c=c??9007199254740991)&&("number"==e||"symbol"!=e&&n.test(t))&&t>-1&&t%1==0&&t<c}},12721:(B,C,n)=>{var i=n(12651),t=n(47291),c=n(98426),e=n(83278);B.exports=function p(m,f,v){if(!e(v))return!1;var E=typeof f;return!!("number"==E?t(v)&&c(f,v.length):"string"==E&&f in v)&&i(v[f],m)}},181:(B,C,n)=>{var i=n(9812),t=n(15153),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;B.exports=function p(m,f){if(i(m))return!1;var v=typeof m;return!("number"!=v&&"symbol"!=v&&"boolean"!=v&&null!=m&&!t(m))||e.test(m)||!c.test(m)||null!=f&&m in Object(f)}},83329:B=>{B.exports=function C(n){var i=typeof n;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n}},48401:(B,C,n)=>{var e,i=n(20336),t=(e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";B.exports=function c(e){return!!t&&t in e}},3164:B=>{var C=Object.prototype;B.exports=function n(i){var t=i&&i.constructor;return i===("function"==typeof t&&t.prototype||C)}},94745:(B,C,n)=>{var i=n(83278);B.exports=function t(c){return c==c&&!i(c)}},23643:B=>{B.exports=function C(){this.__data__=[],this.size=0}},27103:(B,C,n)=>{var i=n(86316),c=Array.prototype.splice;B.exports=function e(p){var m=this.__data__,f=i(m,p);return!(f<0||(f==m.length-1?m.pop():c.call(m,f,1),--this.size,0))}},30062:(B,C,n)=>{var i=n(86316);B.exports=function t(c){var e=this.__data__,p=i(e,c);return p<0?void 0:e[p][1]}},31610:(B,C,n)=>{var i=n(86316);B.exports=function t(c){return i(this.__data__,c)>-1}},1090:(B,C,n)=>{var i=n(86316);B.exports=function t(c,e){var p=this.__data__,m=i(p,c);return m<0?(++this.size,p.push([c,e])):p[m][1]=e,this}},21891:(B,C,n)=>{var i=n(63028),t=n(25752),c=n(51012);B.exports=function e(){this.size=0,this.__data__={hash:new i,map:new(c||t),string:new i}}},92759:(B,C,n)=>{var i=n(79038);B.exports=function t(c){var e=i(this,c).delete(c);return this.size-=e?1:0,e}},97766:(B,C,n)=>{var i=n(79038);B.exports=function t(c){return i(this,c).get(c)}},40322:(B,C,n)=>{var i=n(79038);B.exports=function t(c){return i(this,c).has(c)}},47258:(B,C,n)=>{var i=n(79038);B.exports=function t(c,e){var p=i(this,c),m=p.size;return p.set(c,e),this.size+=p.size==m?0:1,this}},37152:B=>{B.exports=function C(n){var i=-1,t=Array(n.size);return n.forEach(function(c,e){t[++i]=[e,c]}),t}},2878:B=>{B.exports=function C(n,i){return function(t){return null!=t&&t[n]===i&&(void 0!==i||n in Object(t))}}},68339:(B,C,n)=>{var i=n(89605);B.exports=function c(e){var p=i(e,function(f){return 500===m.size&&m.clear(),f}),m=p.cache;return p}},58247:(B,C,n)=>{var t=n(54385)(Object,"create");B.exports=t},96199:(B,C,n)=>{var t=n(72852)(Object.keys,Object);B.exports=t},20908:B=>{B.exports=function C(n){var i=[];if(null!=n)for(var t in Object(n))i.push(t);return i}},90512:(B,C,n)=>{B=n.nmd(B);var i=n(78657),t=C&&!C.nodeType&&C,c=t&&B&&!B.nodeType&&B,p=c&&c.exports===t&&i.process,m=function(){try{return c&&c.require&&c.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();B.exports=m},53327:B=>{var n=Object.prototype.toString;B.exports=function i(t){return n.call(t)}},72852:B=>{B.exports=function C(n,i){return function(t){return n(i(t))}}},28452:(B,C,n)=>{var i=n(81458),t=Math.max;B.exports=function c(e,p,m){return p=t(void 0===p?e.length-1:p,0),function(){for(var f=arguments,v=-1,E=t(f.length-p,0),y=Array(E);++v<E;)y[v]=f[p+v];v=-1;for(var M=Array(p+1);++v<p;)M[v]=f[v];return M[p]=m(y),i(e,this,M)}}},81464:(B,C,n)=>{var i=n(78657),t="object"==typeof self&&self&&self.Object===Object&&self,c=i||t||Function("return this")();B.exports=c},3609:B=>{B.exports=function C(n,i){if(("constructor"!==i||"function"!=typeof n[i])&&"__proto__"!=i)return n[i]}},74643:B=>{B.exports=function n(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this}},92768:B=>{B.exports=function C(n){return this.__data__.has(n)}},3578:B=>{B.exports=function C(n){var i=-1,t=Array(n.size);return n.forEach(function(c){t[++i]=c}),t}},11230:(B,C,n)=>{var i=n(48565),c=n(12770)(i);B.exports=c},12770:B=>{var i=Date.now;B.exports=function t(c){var e=0,p=0;return function(){var m=i(),f=16-(m-p);if(p=m,f>0){if(++e>=800)return arguments[0]}else e=0;return c.apply(void 0,arguments)}}},48945:(B,C,n)=>{var i=n(25752);B.exports=function t(){this.__data__=new i,this.size=0}},78425:B=>{B.exports=function C(n){var i=this.__data__,t=i.delete(n);return this.size=i.size,t}},25280:B=>{B.exports=function C(n){return this.__data__.get(n)}},80324:B=>{B.exports=function C(n){return this.__data__.has(n)}},84516:(B,C,n)=>{var i=n(25752),t=n(51012),c=n(90752);B.exports=function p(m,f){var v=this.__data__;if(v instanceof i){var E=v.__data__;if(!t||E.length<199)return E.push([m,f]),this.size=++v.size,this;v=this.__data__=new c(E)}return v.set(m,f),this.size=v.size,this}},75220:B=>{B.exports=function C(n,i,t){for(var c=t-1,e=n.length;++c<e;)if(n[c]===i)return c;return-1}},22447:(B,C,n)=>{var i=n(68339),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,e=i(function(p){var m=[];return 46===p.charCodeAt(0)&&m.push(""),p.replace(t,function(f,v,E,y){m.push(E?y.replace(c,"$1"):v||f)}),m});B.exports=e},58130:(B,C,n)=>{var i=n(15153),t=1/0;B.exports=function c(e){if("string"==typeof e||i(e))return e;var p=e+"";return"0"==p&&1/e==-t?"-0":p}},68020:B=>{var n=Function.prototype.toString;B.exports=function i(t){if(null!=t){try{return n.call(t)}catch{}try{return t+""}catch{}}return""}},37327:B=>{var C=/\s/;B.exports=function n(i){for(var t=i.length;t--&&C.test(i.charAt(t)););return t}},84418:(B,C,n)=>{var i=n(25052);B.exports=function e(p){return i(p,5)}},26205:B=>{B.exports=function C(n){return function(){return n}}},61889:(B,C,n)=>{var i=n(83278),t=n(90501),c=n(73521),p=Math.max,m=Math.min;B.exports=function f(v,E,y){var M,b,P,D,I,h,S=0,O=!1,L=!1,T=!0;if("function"!=typeof v)throw new TypeError("Expected a function");function x(X){var Q=M,ee=b;return M=b=void 0,S=X,D=v.apply(ee,Q)}function $(X){var Q=X-h;return void 0===h||Q>=E||Q<0||L&&X-S>=P}function k(){var X=t();if($(X))return K(X);I=setTimeout(k,function j(X){var ie=E-(X-h);return L?m(ie,P-(X-S)):ie}(X))}function K(X){return I=void 0,T&&M?x(X):(M=b=void 0,D)}function G(){var X=t(),Q=$(X);if(M=arguments,b=this,h=X,Q){if(void 0===I)return function N(X){return S=X,I=setTimeout(k,E),O?x(X):D}(h);if(L)return clearTimeout(I),I=setTimeout(k,E),x(h)}return void 0===I&&(I=setTimeout(k,E)),D}return E=c(E)||0,i(y)&&(O=!!y.leading,P=(L="maxWait"in y)?p(c(y.maxWait)||0,E):P,T="trailing"in y?!!y.trailing:T),G.cancel=function z(){void 0!==I&&clearTimeout(I),S=0,M=h=b=I=void 0},G.flush=function V(){return void 0===I?D:K(t())},G}},25622:(B,C,n)=>{var i=n(6362),t=n(13091),c=n(68591),e=n(25152),p=n(95649),m=c(function(f,v){var E=p(v);return e(E)&&(E=void 0),e(f)?i(f,t(v,1,e,!0),void 0,E):[]});B.exports=m},12651:B=>{B.exports=function C(n,i){return n===i||n!=n&&i!=i}},48376:(B,C,n)=>{var i=n(75736),t=n(12344),c=n(71284),e=Math.max;B.exports=function p(m,f,v){var E=null==m?0:m.length;if(!E)return-1;var y=null==v?0:c(v);return y<0&&(y=e(E+y,0)),i(m,t(f,3),y)}},5771:(B,C,n)=>{var i=n(12875),t=n(73432),c=n(12344);B.exports=function e(p,m){return i(p,c(m,3),t)}},26681:(B,C,n)=>{var i=n(98137);B.exports=function t(c,e,p){var m=null==c?void 0:i(c,e);return void 0===m?p:m}},28267:(B,C,n)=>{var i=n(64399),t=n(3145),e=Object.prototype.hasOwnProperty,p=t(function(m,f,v){e.call(m,v)?m[v].push(f):i(m,v,[f])});B.exports=p},49830:(B,C,n)=>{var i=n(31398),t=n(85121);B.exports=function c(e,p){return null!=e&&t(e,p,i)}},39631:B=>{B.exports=function C(n){return n}},27916:(B,C,n)=>{var i=n(12757),t=n(16324),c=n(68591),e=n(86638),p=n(95649),m=c(function(f){var v=p(f),E=i(f,e);return(v="function"==typeof v?v:void 0)&&E.pop(),E.length&&E[0]===f[0]?t(E,void 0,v):[]});B.exports=m},56265:(B,C,n)=>{var i=n(18313),t=n(57433),c=Object.prototype,e=c.hasOwnProperty,p=c.propertyIsEnumerable,m=i(function(){return arguments}())?i:function(f){return t(f)&&e.call(f,"callee")&&!p.call(f,"callee")};B.exports=m},9812:B=>{B.exports=Array.isArray},47291:(B,C,n)=>{var i=n(58653),t=n(18845);B.exports=function c(e){return null!=e&&t(e.length)&&!i(e)}},25152:(B,C,n)=>{var i=n(47291),t=n(57433);B.exports=function c(e){return t(e)&&i(e)}},63151:(B,C,n)=>{B=n.nmd(B);var i=n(81464),t=n(95710),c=C&&!C.nodeType&&C,e=c&&B&&!B.nodeType&&B,m=e&&e.exports===c?i.Buffer:void 0;B.exports=(m?m.isBuffer:void 0)||t},48125:(B,C,n)=>{var i=n(32925);B.exports=function t(c,e){return i(c,e)}},58653:(B,C,n)=>{var i=n(61057),t=n(83278);B.exports=function f(v){if(!t(v))return!1;var E=i(v);return"[object Function]"==E||"[object GeneratorFunction]"==E||"[object AsyncFunction]"==E||"[object Proxy]"==E}},18845:B=>{B.exports=function n(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=9007199254740991}},56879:(B,C,n)=>{var i=n(26095),t=n(42502),c=n(90512),e=c&&c.isMap,p=e?t(e):i;B.exports=p},83278:B=>{B.exports=function C(n){var i=typeof n;return null!=n&&("object"==i||"function"==i)}},57433:B=>{B.exports=function C(n){return null!=n&&"object"==typeof n}},49970:(B,C,n)=>{var i=n(61057),t=n(46902),c=n(57433),f=Function.prototype.toString,v=Object.prototype.hasOwnProperty,E=f.call(Object);B.exports=function y(M){if(!c(M)||"[object Object]"!=i(M))return!1;var b=t(M);if(null===b)return!0;var P=v.call(b,"constructor")&&b.constructor;return"function"==typeof P&&P instanceof P&&f.call(P)==E}},74257:(B,C,n)=>{var i=n(91889),t=n(42502),c=n(90512),e=c&&c.isSet,p=e?t(e):i;B.exports=p},78124:(B,C,n)=>{var i=n(61057),t=n(9812),c=n(57433);B.exports=function p(m){return"string"==typeof m||!t(m)&&c(m)&&"[object String]"==i(m)}},15153:(B,C,n)=>{var i=n(61057),t=n(57433);B.exports=function e(p){return"symbol"==typeof p||t(p)&&"[object Symbol]"==i(p)}},31028:(B,C,n)=>{var i=n(18068),t=n(42502),c=n(90512),e=c&&c.isTypedArray,p=e?t(e):i;B.exports=p},32561:(B,C,n)=>{var i=n(28548),t=n(13809),c=n(47291);B.exports=function e(p){return c(p)?i(p):t(p)}},47674:(B,C,n)=>{var i=n(28548),t=n(71194),c=n(47291);B.exports=function e(p){return c(p)?i(p,!0):t(p)}},95649:B=>{B.exports=function C(n){var i=null==n?0:n.length;return i?n[i-1]:void 0}},89605:(B,C,n)=>{var i=n(90752);function c(e,p){if("function"!=typeof e||null!=p&&"function"!=typeof p)throw new TypeError("Expected a function");var m=function(){var f=arguments,v=p?p.apply(this,f):f[0],E=m.cache;if(E.has(v))return E.get(v);var y=e.apply(this,f);return m.cache=E.set(v,y)||E,y};return m.cache=new(c.Cache||i),m}c.Cache=i,B.exports=c},25689:(B,C,n)=>{var i=n(85765),c=n(87530)(function(e,p,m,f){i(e,p,m,f)});B.exports=c},68145:B=>{B.exports=function C(){}},90501:(B,C,n)=>{var i=n(81464);B.exports=function(){return i.Date.now()}},15788:(B,C,n)=>{var i=n(21740),t=n(55058),c=n(181),e=n(58130);B.exports=function p(m){return c(m)?i(e(m)):t(m)}},69136:(B,C,n)=>{var i=n(13091),t=n(32168),c=n(68591),e=n(12721),p=c(function(m,f){if(null==m)return[];var v=f.length;return v>1&&e(m,f[0],f[1])?f=[]:v>2&&e(f[0],f[1],f[2])&&(f=[f[0]]),t(m,i(f,1),[])});B.exports=p},2260:B=>{B.exports=function C(){return[]}},95710:B=>{B.exports=function C(){return!1}},68263:(B,C,n)=>{var i=n(73521),t=1/0;B.exports=function e(p){return p?(p=i(p))===t||p===-t?17976931348623157e292*(p<0?-1:1):p==p?p:0:0===p?p:0}},71284:(B,C,n)=>{var i=n(68263);B.exports=function t(c){var e=i(c),p=e%1;return e==e?p?e-p:e:0}},73521:(B,C,n)=>{var i=n(35461),t=n(83278),c=n(15153),p=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,f=/^0o[0-7]+$/i,v=parseInt;B.exports=function E(y){if("number"==typeof y)return y;if(c(y))return NaN;if(t(y)){var M="function"==typeof y.valueOf?y.valueOf():y;y=t(M)?M+"":M}if("string"!=typeof y)return 0===y?y:+y;y=i(y);var b=m.test(y);return b||f.test(y)?v(y.slice(2),b?2:8):p.test(y)?NaN:+y}},6729:(B,C,n)=>{var i=n(43190),t=n(47674);B.exports=function c(e){return i(e,t(e))}},54717:(B,C,n)=>{var i=n(87005);B.exports=function t(c){return null==c?"":i(c)}},95341:(B,C,n)=>{var i=n(75558),t=n(19593),c=n(73432),e=n(12344),p=n(46902),m=n(9812),f=n(63151),v=n(58653),E=n(83278),y=n(31028);B.exports=function M(b,P,D){var I=m(b),h=I||f(b)||y(b);if(P=e(P,4),null==D){var S=b&&b.constructor;D=h?I?new S:[]:E(b)&&v(S)?t(p(b)):{}}return(h?i:c)(b,function(O,L,T){return P(D,O,L,T)}),D}},28898:(B,C,n)=>{var i=n(13091),t=n(68591),c=n(73136),e=n(25152),p=t(function(m){return c(i(m,1,e,!0))});B.exports=p},30113:(B,C,n)=>{var i=n(12344),t=n(73136);B.exports=function c(e,p){return e&&e.length?t(e,i(p,2)):[]}},63448:(B,C,n)=>{var i=n(73136);B.exports=function t(c,e){return e="function"==typeof e?e:void 0,c&&c.length?i(c,void 0,e):[]}},59519:(B,C,n)=>{var i=n(54717),t=0;B.exports=function c(e){var p=++t;return i(e)+p}},77876:(B,C,n)=>{"use strict";n.d(C,{h:()=>t});var i=n(21413);class t extends i.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:p,_hasValue:m,_value:f,thrownError:v,isStopped:E,_isComplete:y}=this;p?e.error(v):(E||y)&&(m&&e.next(f),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:p,_isComplete:m}=this;m||(this._isComplete=!0,e&&super.next(p),super.complete())}}},84412:(B,C,n)=>{"use strict";n.d(C,{t:()=>t});var i=n(21413);class t extends i.B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const p=super._subscribe(e);return!p.closed&&e.next(this._value),p}getValue(){const{hasError:e,thrownError:p,_value:m}=this;if(e)throw p;return this._throwIfClosed(),m}next(e){super.next(this._value=e)}}},71985:(B,C,n)=>{"use strict";n.d(C,{c:()=>v});var i=n(47707),t=n(18359),c=n(3494),e=n(71203),p=n(41026),m=n(98071),f=n(49786);let v=(()=>{class b{constructor(D){D&&(this._subscribe=D)}lift(D){const I=new b;return I.source=this,I.operator=D,I}subscribe(D,I,h){const S=function M(b){return b&&b instanceof i.vU||function y(b){return b&&(0,m.T)(b.next)&&(0,m.T)(b.error)&&(0,m.T)(b.complete)}(b)&&(0,t.Uv)(b)}(D)?D:new i.Ms(D,I,h);return(0,f.Y)(()=>{const{operator:O,source:L}=this;S.add(O?O.call(S,L):L?this._subscribe(S):this._trySubscribe(S))}),S}_trySubscribe(D){try{return this._subscribe(D)}catch(I){D.error(I)}}forEach(D,I){return new(I=E(I))((h,S)=>{const O=new i.Ms({next:L=>{try{D(L)}catch(T){S(T),O.unsubscribe()}},error:S,complete:h});this.subscribe(O)})}_subscribe(D){var I;return null===(I=this.source)||void 0===I?void 0:I.subscribe(D)}[c.s](){return this}pipe(...D){return(0,e.m)(D)(this)}toPromise(D){return new(D=E(D))((I,h)=>{let S;this.subscribe(O=>S=O,O=>h(O),()=>I(S))})}}return b.create=P=>new b(P),b})();function E(b){var P;return null!==(P=b??p.$.Promise)&&void 0!==P?P:Promise}},92771:(B,C,n)=>{"use strict";n.d(C,{m:()=>c});var i=n(21413),t=n(86129);class c extends i.B{constructor(p=1/0,m=1/0,f=t.U){super(),this._bufferSize=p,this._windowTime=m,this._timestampProvider=f,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=m===1/0,this._bufferSize=Math.max(1,p),this._windowTime=Math.max(1,m)}next(p){const{isStopped:m,_buffer:f,_infiniteTimeWindow:v,_timestampProvider:E,_windowTime:y}=this;m||(f.push(p),!v&&f.push(E.now()+y)),this._trimBuffer(),super.next(p)}_subscribe(p){this._throwIfClosed(),this._trimBuffer();const m=this._innerSubscribe(p),{_infiniteTimeWindow:f,_buffer:v}=this,E=v.slice();for(let y=0;y<E.length&&!p.closed;y+=f?1:2)p.next(E[y]);return this._checkFinalizedStatuses(p),m}_trimBuffer(){const{_bufferSize:p,_timestampProvider:m,_buffer:f,_infiniteTimeWindow:v}=this,E=(v?1:2)*p;if(p<1/0&&E<f.length&&f.splice(0,f.length-E),!v){const y=m.now();let M=0;for(let b=1;b<f.length&&f[b]<=y;b+=2)M=b;M&&f.splice(0,M+1)}}}},21413:(B,C,n)=>{"use strict";n.d(C,{B:()=>f});var i=n(71985),t=n(18359);const e=(0,n(81853).L)(E=>function(){E(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var p=n(57908),m=n(49786);let f=(()=>{class E extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(M){const b=new v(this,this);return b.operator=M,b}_throwIfClosed(){if(this.closed)throw new e}next(M){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const b of this.currentObservers)b.next(M)}})}error(M){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=M;const{observers:b}=this;for(;b.length;)b.shift().error(M)}})}complete(){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:M}=this;for(;M.length;)M.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var M;return(null===(M=this.observers)||void 0===M?void 0:M.length)>0}_trySubscribe(M){return this._throwIfClosed(),super._trySubscribe(M)}_subscribe(M){return this._throwIfClosed(),this._checkFinalizedStatuses(M),this._innerSubscribe(M)}_innerSubscribe(M){const{hasError:b,isStopped:P,observers:D}=this;return b||P?t.Kn:(this.currentObservers=null,D.push(M),new t.yU(()=>{this.currentObservers=null,(0,p.o)(D,M)}))}_checkFinalizedStatuses(M){const{hasError:b,thrownError:P,isStopped:D}=this;b?M.error(P):D&&M.complete()}asObservable(){const M=new i.c;return M.source=this,M}}return E.create=(y,M)=>new v(y,M),E})();class v extends f{constructor(y,M){super(),this.destination=y,this.source=M}next(y){var M,b;null===(b=null===(M=this.destination)||void 0===M?void 0:M.next)||void 0===b||b.call(M,y)}error(y){var M,b;null===(b=null===(M=this.destination)||void 0===M?void 0:M.error)||void 0===b||b.call(M,y)}complete(){var y,M;null===(M=null===(y=this.destination)||void 0===y?void 0:y.complete)||void 0===M||M.call(y)}_subscribe(y){var M,b;return null!==(b=null===(M=this.source)||void 0===M?void 0:M.subscribe(y))&&void 0!==b?b:t.Kn}}},47707:(B,C,n)=>{"use strict";n.d(C,{Ms:()=>h,vU:()=>b});var i=n(98071),t=n(18359),c=n(41026),e=n(45334),p=n(85343);const m=E("C",void 0,void 0);function E(x,N,j){return{kind:x,value:N,error:j}}var y=n(19270),M=n(49786);class b extends t.yU{constructor(N){super(),this.isStopped=!1,N?(this.destination=N,(0,t.Uv)(N)&&N.add(this)):this.destination=T}static create(N,j,$){return new h(N,j,$)}next(N){this.isStopped?L(function v(x){return E("N",x,void 0)}(N),this):this._next(N)}error(N){this.isStopped?L(function f(x){return E("E",void 0,x)}(N),this):(this.isStopped=!0,this._error(N))}complete(){this.isStopped?L(m,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(N){this.destination.next(N)}_error(N){try{this.destination.error(N)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const P=Function.prototype.bind;function D(x,N){return P.call(x,N)}class I{constructor(N){this.partialObserver=N}next(N){const{partialObserver:j}=this;if(j.next)try{j.next(N)}catch($){S($)}}error(N){const{partialObserver:j}=this;if(j.error)try{j.error(N)}catch($){S($)}else S(N)}complete(){const{partialObserver:N}=this;if(N.complete)try{N.complete()}catch(j){S(j)}}}class h extends b{constructor(N,j,$){let k;if(super(),(0,i.T)(N)||!N)k={next:N??void 0,error:j??void 0,complete:$??void 0};else{let K;this&&c.$.useDeprecatedNextContext?(K=Object.create(N),K.unsubscribe=()=>this.unsubscribe(),k={next:N.next&&D(N.next,K),error:N.error&&D(N.error,K),complete:N.complete&&D(N.complete,K)}):k=N}this.destination=new I(k)}}function S(x){c.$.useDeprecatedSynchronousErrorHandling?(0,M.l)(x):(0,e.m)(x)}function L(x,N){const{onStoppedNotification:j}=c.$;j&&y.f.setTimeout(()=>j(x,N))}const T={closed:!0,next:p.l,error:function O(x){throw x},complete:p.l}},18359:(B,C,n)=>{"use strict";n.d(C,{Kn:()=>m,yU:()=>p,Uv:()=>f});var i=n(98071);const c=(0,n(81853).L)(E=>function(M){E(this),this.message=M?`${M.length} errors occurred during unsubscription:\n${M.map((b,P)=>`${P+1}) ${b.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=M});var e=n(57908);class p{constructor(y){this.initialTeardown=y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let y;if(!this.closed){this.closed=!0;const{_parentage:M}=this;if(M)if(this._parentage=null,Array.isArray(M))for(const D of M)D.remove(this);else M.remove(this);const{initialTeardown:b}=this;if((0,i.T)(b))try{b()}catch(D){y=D instanceof c?D.errors:[D]}const{_finalizers:P}=this;if(P){this._finalizers=null;for(const D of P)try{v(D)}catch(I){y=y??[],I instanceof c?y=[...y,...I.errors]:y.push(I)}}if(y)throw new c(y)}}add(y){var M;if(y&&y!==this)if(this.closed)v(y);else{if(y instanceof p){if(y.closed||y._hasParent(this))return;y._addParent(this)}(this._finalizers=null!==(M=this._finalizers)&&void 0!==M?M:[]).push(y)}}_hasParent(y){const{_parentage:M}=this;return M===y||Array.isArray(M)&&M.includes(y)}_addParent(y){const{_parentage:M}=this;this._parentage=Array.isArray(M)?(M.push(y),M):M?[M,y]:y}_removeParent(y){const{_parentage:M}=this;M===y?this._parentage=null:Array.isArray(M)&&(0,e.o)(M,y)}remove(y){const{_finalizers:M}=this;M&&(0,e.o)(M,y),y instanceof p&&y._removeParent(this)}}p.EMPTY=(()=>{const E=new p;return E.closed=!0,E})();const m=p.EMPTY;function f(E){return E instanceof p||E&&"closed"in E&&(0,i.T)(E.remove)&&(0,i.T)(E.add)&&(0,i.T)(E.unsubscribe)}function v(E){(0,i.T)(E)?E():E.unsubscribe()}},41026:(B,C,n)=>{"use strict";n.d(C,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(B,C,n)=>{"use strict";n.d(C,{G:()=>m});var i=n(71985),t=n(18359),c=n(99898),e=n(54360),p=n(39974);class m extends i.c{constructor(v,E){super(),this.source=v,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,p.S)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new t.yU;const E=this.getSubject();v.add(this.source.subscribe((0,e._)(E,void 0,()=>{this._teardown(),E.complete()},y=>{this._teardown(),E.error(y)},()=>this._teardown()))),v.closed&&(this._connection=null,v=t.yU.EMPTY)}return v}refCount(){return(0,c.B)()(this)}}},84572:(B,C,n)=>{"use strict";n.d(C,{P:()=>M,z:()=>y});var i=n(71985),t=n(93073),c=n(22806),e=n(33669),p=n(6450),m=n(9326),f=n(58496),v=n(54360),E=n(45225);function y(...P){const D=(0,m.lI)(P),I=(0,m.ms)(P),{args:h,keys:S}=(0,t.D)(P);if(0===h.length)return(0,c.H)([],D);const O=new i.c(M(h,D,S?L=>(0,f.e)(S,L):e.D));return I?O.pipe((0,p.I)(I)):O}function M(P,D,I=e.D){return h=>{b(D,()=>{const{length:S}=P,O=new Array(S);let L=S,T=S;for(let x=0;x<S;x++)b(D,()=>{const N=(0,c.H)(P[x],D);let j=!1;N.subscribe((0,v._)(h,$=>{O[x]=$,j||(j=!0,T--),T||h.next(I(O.slice()))},()=>{--L||h.complete()}))},h)},h)}}function b(P,D,I){P?(0,E.N)(I,P,D):D()}},92688:(B,C,n)=>{"use strict";n.d(C,{x:()=>e});var i=n(79131),t=n(9326),c=n(22806);function e(...p){return(0,i.K)()((0,c.H)(p,(0,t.lI)(p)))}},59030:(B,C,n)=>{"use strict";n.d(C,{v:()=>c});var i=n(71985),t=n(58750);function c(e){return new i.c(p=>{(0,t.Tg)(e()).subscribe(p)})}},983:(B,C,n)=>{"use strict";n.d(C,{w:()=>t});const t=new(n(71985).c)(p=>p.complete())},27468:(B,C,n)=>{"use strict";n.d(C,{p:()=>v});var i=n(71985),t=n(93073),c=n(58750),e=n(9326),p=n(54360),m=n(6450),f=n(58496);function v(...E){const y=(0,e.ms)(E),{args:M,keys:b}=(0,t.D)(E),P=new i.c(D=>{const{length:I}=M;if(!I)return void D.complete();const h=new Array(I);let S=I,O=I;for(let L=0;L<I;L++){let T=!1;(0,c.Tg)(M[L]).subscribe((0,p._)(D,x=>{T||(T=!0,O--),h[L]=x},()=>S--,void 0,()=>{(!S||!T)&&(O||D.next(b?(0,f.e)(b,h):h),D.complete())}))}});return y?P.pipe((0,m.I)(y)):P}},22806:(B,C,n)=>{"use strict";n.d(C,{H:()=>j});var i=n(58750),t=n(40941),c=n(39974);function e($,k=0){return(0,c.N)((K,z)=>{z.add($.schedule(()=>K.subscribe(z),k))})}var f=n(71985),E=n(4761),y=n(98071),M=n(45225);function P($,k){if(!$)throw new Error("Iterable cannot be null");return new f.c(K=>{(0,M.N)(K,k,()=>{const z=$[Symbol.asyncIterator]();(0,M.N)(K,k,()=>{z.next().then(V=>{V.done?K.complete():K.next(V.value)})},0,!0)})})}var D=n(55055),I=n(59858),h=n(47441),S=n(85397),O=n(37953),L=n(50591),T=n(15196);function j($,k){return k?function N($,k){if(null!=$){if((0,D.l)($))return function p($,k){return(0,i.Tg)($).pipe(e(k),(0,t.Q)(k))}($,k);if((0,h.X)($))return function v($,k){return new f.c(K=>{let z=0;return k.schedule(function(){z===$.length?K.complete():(K.next($[z++]),K.closed||this.schedule())})})}($,k);if((0,I.y)($))return function m($,k){return(0,i.Tg)($).pipe(e(k),(0,t.Q)(k))}($,k);if((0,O.T)($))return P($,k);if((0,S.x)($))return function b($,k){return new f.c(K=>{let z;return(0,M.N)(K,k,()=>{z=$[E.l](),(0,M.N)(K,k,()=>{let V,G;try{({value:V,done:G}=z.next())}catch(X){return void K.error(X)}G?K.complete():K.next(V)},0,!0)}),()=>(0,y.T)(z?.return)&&z.return()})}($,k);if((0,T.U)($))return function x($,k){return P((0,T.C)($),k)}($,k)}throw(0,L.L)($)}($,k):(0,i.Tg)($)}},33726:(B,C,n)=>{"use strict";n.d(C,{R:()=>y});var i=n(58750),t=n(71985),c=n(73028),e=n(47441),p=n(98071),m=n(6450);const f=["addListener","removeListener"],v=["addEventListener","removeEventListener"],E=["on","off"];function y(I,h,S,O){if((0,p.T)(S)&&(O=S,S=void 0),O)return y(I,h,S).pipe((0,m.I)(O));const[L,T]=function D(I){return(0,p.T)(I.addEventListener)&&(0,p.T)(I.removeEventListener)}(I)?v.map(x=>N=>I[x](h,N,S)):function b(I){return(0,p.T)(I.addListener)&&(0,p.T)(I.removeListener)}(I)?f.map(M(I,h)):function P(I){return(0,p.T)(I.on)&&(0,p.T)(I.off)}(I)?E.map(M(I,h)):[];if(!L&&(0,e.X)(I))return(0,c.Z)(x=>y(x,h,S))((0,i.Tg)(I));if(!L)throw new TypeError("Invalid event target");return new t.c(x=>{const N=(...j)=>x.next(1<j.length?j:j[0]);return L(N),()=>T(N)})}function M(I,h){return S=>O=>I[S](h,O)}},58750:(B,C,n)=>{"use strict";n.d(C,{Tg:()=>P});var i=n(31635),t=n(47441),c=n(59858),e=n(71985),p=n(55055),m=n(37953),f=n(50591),v=n(85397),E=n(15196),y=n(98071),M=n(45334),b=n(3494);function P(x){if(x instanceof e.c)return x;if(null!=x){if((0,p.l)(x))return function D(x){return new e.c(N=>{const j=x[b.s]();if((0,y.T)(j.subscribe))return j.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(x);if((0,t.X)(x))return function I(x){return new e.c(N=>{for(let j=0;j<x.length&&!N.closed;j++)N.next(x[j]);N.complete()})}(x);if((0,c.y)(x))return function h(x){return new e.c(N=>{x.then(j=>{N.closed||(N.next(j),N.complete())},j=>N.error(j)).then(null,M.m)})}(x);if((0,m.T)(x))return O(x);if((0,v.x)(x))return function S(x){return new e.c(N=>{for(const j of x)if(N.next(j),N.closed)return;N.complete()})}(x);if((0,E.U)(x))return function L(x){return O((0,E.C)(x))}(x)}throw(0,f.L)(x)}function O(x){return new e.c(N=>{(function T(x,N){var j,$,k,K;return(0,i.sH)(this,void 0,void 0,function*(){try{for(j=(0,i.xN)(x);!($=yield j.next()).done;)if(N.next($.value),N.closed)return}catch(z){k={error:z}}finally{try{$&&!$.done&&(K=j.return)&&(yield K.call(j))}finally{if(k)throw k.error}}N.complete()})})(x,N).catch(j=>N.error(j))})}},40605:(B,C,n)=>{"use strict";n.d(C,{Y:()=>c});var i=n(43236),t=n(41584);function c(e=0,p=i.E){return e<0&&(e=0),(0,t.O)(e,e,p)}},57786:(B,C,n)=>{"use strict";n.d(C,{h:()=>m});var i=n(26365),t=n(58750),c=n(983),e=n(9326),p=n(22806);function m(...f){const v=(0,e.lI)(f),E=(0,e.R0)(f,1/0),y=f;return y.length?1===y.length?(0,t.Tg)(y[0]):(0,i.U)(E)((0,p.H)(y,v)):c.w}},7673:(B,C,n)=>{"use strict";n.d(C,{of:()=>c});var i=n(9326),t=n(22806);function c(...e){const p=(0,i.lI)(e);return(0,t.H)(e,p)}},1033:(B,C,n)=>{"use strict";n.d(C,{O:()=>p});var i=n(71985),t=n(58750),c=n(42326),e=n(54360);function p(...f){return 1===(f=(0,c.K)(f)).length?(0,t.Tg)(f[0]):new i.c(function m(f){return v=>{let E=[];for(let y=0;E&&!v.closed&&y<f.length;y++)E.push((0,t.Tg)(f[y]).subscribe((0,e._)(v,M=>{if(E){for(let b=0;b<E.length;b++)b!==y&&E[b].unsubscribe();E=null}v.next(M)})))}}(f))}},18810:(B,C,n)=>{"use strict";n.d(C,{$:()=>c});var i=n(71985),t=n(98071);function c(e,p){const m=(0,t.T)(e)?e:()=>e,f=v=>v.error(m());return new i.c(p?v=>p.schedule(f,0,v):f)}},41584:(B,C,n)=>{"use strict";n.d(C,{O:()=>p});var i=n(71985),t=n(43236),c=n(79470);function p(m=0,f,v=t.b){let E=-1;return null!=f&&((0,c.m)(f)?v=f:E=f),new i.c(y=>{let M=function e(m){return m instanceof Date&&!isNaN(m)}(m)?+m-v.now():m;M<0&&(M=0);let b=0;return v.schedule(function(){y.closed||(y.next(b++),0<=E?this.schedule(void 0,E):y.complete())},M)})}},44437:(B,C,n)=>{"use strict";n.d(C,{y:()=>f});var i=n(71985),t=n(58750),c=n(42326),e=n(983),p=n(54360),m=n(9326);function f(...v){const E=(0,m.ms)(v),y=(0,c.K)(v);return y.length?new i.c(M=>{let b=y.map(()=>[]),P=y.map(()=>!1);M.add(()=>{b=P=null});for(let D=0;!M.closed&&D<y.length;D++)(0,t.Tg)(y[D]).subscribe((0,p._)(M,I=>{if(b[D].push(I),b.every(h=>h.length)){const h=b.map(S=>S.shift());M.next(E?E(...h):h),b.some((S,O)=>!S.length&&P[O])&&M.complete()}},()=>{P[D]=!0,!b[D].length&&M.complete()}));return()=>{b=P=null}}):e.w}},54360:(B,C,n)=>{"use strict";n.d(C,{H:()=>c,_:()=>t});var i=n(47707);function t(e,p,m,f,v){return new c(e,p,m,f,v)}class c extends i.vU{constructor(p,m,f,v,E,y){super(p),this.onFinalize=E,this.shouldUnsubscribe=y,this._next=m?function(M){try{m(M)}catch(b){p.error(b)}}:super._next,this._error=v?function(M){try{v(M)}catch(b){p.error(b)}finally{this.unsubscribe()}}:super._error,this._complete=f?function(){try{f()}catch(M){p.error(M)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var p;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:m}=this;super.unsubscribe(),!m&&(null===(p=this.onFinalize)||void 0===p||p.call(this))}}}},99437:(B,C,n)=>{"use strict";n.d(C,{W:()=>e});var i=n(58750),t=n(54360),c=n(39974);function e(p){return(0,c.N)((m,f)=>{let y,v=null,E=!1;v=m.subscribe((0,t._)(f,void 0,void 0,M=>{y=(0,i.Tg)(p(M,e(p)(m))),v?(v.unsubscribe(),v=null,y.subscribe(f)):E=!0})),E&&(v.unsubscribe(),v=null,y.subscribe(f))})}},79131:(B,C,n)=>{"use strict";n.d(C,{K:()=>t});var i=n(26365);function t(){return(0,i.U)(1)}},70274:(B,C,n)=>{"use strict";n.d(C,{H:()=>c});var i=n(73028),t=n(98071);function c(e,p){return(0,t.T)(p)?(0,i.Z)(e,p,1):(0,i.Z)(e,1)}},70152:(B,C,n)=>{"use strict";n.d(C,{B:()=>e});var i=n(43236),t=n(39974),c=n(54360);function e(p,m=i.E){return(0,t.N)((f,v)=>{let E=null,y=null,M=null;const b=()=>{if(E){E.unsubscribe(),E=null;const D=y;y=null,v.next(D)}};function P(){const D=M+p,I=m.now();if(I<D)return E=this.schedule(void 0,D-I),void v.add(E);b()}f.subscribe((0,c._)(v,D=>{y=D,M=m.now(),E||(E=m.schedule(P,p),v.add(E))},()=>{b(),v.complete()},void 0,()=>{y=E=null}))})}},39901:(B,C,n)=>{"use strict";n.d(C,{U:()=>c});var i=n(39974),t=n(54360);function c(e){return(0,i.N)((p,m)=>{let f=!1;p.subscribe((0,t._)(m,v=>{f=!0,m.next(v)},()=>{f||m.next(e),m.complete()}))})}},35335:(B,C,n)=>{"use strict";n.d(C,{c:()=>y});var i=n(43236),t=n(92688),c=n(96697),e=n(73557),p=n(73703),m=n(73028),f=n(58750);function v(M,b){return b?P=>(0,t.x)(b.pipe((0,c.s)(1),(0,e.w)()),P.pipe(v(M))):(0,m.Z)((P,D)=>(0,f.Tg)(M(P,D)).pipe((0,c.s)(1),(0,p.u)(P)))}var E=n(41584);function y(M,b=i.E){const P=(0,E.O)(M,b);return v(()=>P)}},23294:(B,C,n)=>{"use strict";n.d(C,{F:()=>e});var i=n(33669),t=n(39974),c=n(54360);function e(m,f=i.D){return m=m??p,(0,t.N)((v,E)=>{let y,M=!0;v.subscribe((0,c._)(E,b=>{const P=f(b);(M||!m(y,P))&&(M=!1,y=P,E.next(b))}))})}function p(m,f){return m===f}},5964:(B,C,n)=>{"use strict";n.d(C,{p:()=>c});var i=n(39974),t=n(54360);function c(e,p){return(0,i.N)((m,f)=>{let v=0;m.subscribe((0,t._)(f,E=>e.call(p,E,v++)&&f.next(E)))})}},70980:(B,C,n)=>{"use strict";n.d(C,{j:()=>t});var i=n(39974);function t(c){return(0,i.N)((e,p)=>{try{e.subscribe(p)}finally{p.add(c)}})}},47677:(B,C,n)=>{"use strict";n.d(C,{I:()=>c});var i=n(39974),t=n(54360);function c(p,m){return(0,i.N)(function e(p,m,f){const v="index"===f;return(E,y)=>{let M=0;E.subscribe((0,t._)(y,b=>{const P=M++;p.call(m,b,P,E)&&(y.next(v?P:b),y.complete())},()=>{y.next(v?-1:void 0),y.complete()}))}}(p,m,"value"))}},61594:(B,C,n)=>{"use strict";n.d(C,{$:()=>f});var i=n(9350),t=n(5964),c=n(96697),e=n(39901),p=n(93774),m=n(33669);function f(v,E){const y=arguments.length>=2;return M=>M.pipe(v?(0,t.p)((b,P)=>v(b,P,M)):m.D,(0,c.s)(1),y?(0,e.U)(E):(0,p.v)(()=>new i.G))}},73557:(B,C,n)=>{"use strict";n.d(C,{w:()=>e});var i=n(39974),t=n(54360),c=n(85343);function e(){return(0,i.N)((p,m)=>{p.subscribe((0,t._)(m,c.l))})}},67018:(B,C,n)=>{"use strict";n.d(C,{H:()=>f});var i=n(9350),t=n(5964),c=n(55109),e=n(93774),p=n(39901),m=n(33669);function f(v,E){const y=arguments.length>=2;return M=>M.pipe(v?(0,t.p)((b,P)=>v(b,P,M)):m.D,(0,c.o)(1),y?(0,p.U)(E):(0,e.v)(()=>new i.G))}},96354:(B,C,n)=>{"use strict";n.d(C,{T:()=>c});var i=n(39974),t=n(54360);function c(e,p){return(0,i.N)((m,f)=>{let v=0;m.subscribe((0,t._)(f,E=>{f.next(e.call(p,E,v++))}))})}},73703:(B,C,n)=>{"use strict";n.d(C,{u:()=>t});var i=n(96354);function t(c){return(0,i.T)(()=>c)}},1716:(B,C,n)=>{"use strict";n.d(C,{h:()=>p});var i=n(39974),t=n(26365),c=n(9326),e=n(22806);function p(...m){const f=(0,c.lI)(m),v=(0,c.R0)(m,1/0);return(0,i.N)((E,y)=>{(0,t.U)(v)((0,e.H)([E,...m],f)).subscribe(y)})}},26365:(B,C,n)=>{"use strict";n.d(C,{U:()=>c});var i=n(73028),t=n(33669);function c(e=1/0){return(0,i.Z)(t.D,e)}},85412:(B,C,n)=>{"use strict";n.d(C,{h:()=>e});var i=n(58750),t=n(45225),c=n(54360);function e(p,m,f,v,E,y,M,b){const P=[];let D=0,I=0,h=!1;const S=()=>{h&&!P.length&&!D&&m.complete()},O=T=>D<v?L(T):P.push(T),L=T=>{y&&m.next(T),D++;let x=!1;(0,i.Tg)(f(T,I++)).subscribe((0,c._)(m,N=>{E?.(N),y?O(N):m.next(N)},()=>{x=!0},void 0,()=>{if(x)try{for(D--;P.length&&D<v;){const N=P.shift();M?(0,t.N)(m,M,()=>L(N)):L(N)}S()}catch(N){m.error(N)}}))};return p.subscribe((0,c._)(m,O,()=>{h=!0,S()})),()=>{b?.()}}},73028:(B,C,n)=>{"use strict";n.d(C,{Z:()=>m});var i=n(96354),t=n(58750),c=n(39974),e=n(85412),p=n(98071);function m(f,v,E=1/0){return(0,p.T)(v)?m((y,M)=>(0,i.T)((b,P)=>v(y,b,M,P))((0,t.Tg)(f(y,M))),E):("number"==typeof v&&(E=v),(0,c.N)((y,M)=>(0,e.h)(y,M,f,E)))}},40941:(B,C,n)=>{"use strict";n.d(C,{Q:()=>e});var i=n(45225),t=n(39974),c=n(54360);function e(p,m=0){return(0,t.N)((f,v)=>{f.subscribe((0,c._)(v,E=>(0,i.N)(v,p,()=>v.next(E),m),()=>(0,i.N)(v,p,()=>v.complete(),m),E=>(0,i.N)(v,p,()=>v.error(E),m)))})}},19852:(B,C,n)=>{"use strict";n.d(C,{T:()=>c});var i=n(46649),t=n(39974);function c(e,p){return(0,t.N)((0,i.S)(e,p,arguments.length>=2,!1,!0))}},99898:(B,C,n)=>{"use strict";n.d(C,{B:()=>c});var i=n(39974),t=n(54360);function c(){return(0,i.N)((e,p)=>{let m=null;e._refCount++;const f=(0,t._)(p,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(m=null);const v=e._connection,E=m;m=null,v&&(!E||v===E)&&v.unsubscribe(),p.unsubscribe()});e.subscribe(f),f.closed||(m=e.connect())})}},31943:(B,C,n)=>{"use strict";n.d(C,{S:()=>c});var i=n(39974),t=n(46649);function c(e,p){return(0,i.N)((0,t.S)(e,p,arguments.length>=2,!0))}},46649:(B,C,n)=>{"use strict";n.d(C,{S:()=>t});var i=n(54360);function t(c,e,p,m,f){return(v,E)=>{let y=p,M=e,b=0;v.subscribe((0,i._)(E,P=>{const D=b++;M=y?c(M,P,D):(y=!0,P),m&&E.next(M)},f&&(()=>{y&&E.next(M),E.complete()})))}}},97647:(B,C,n)=>{"use strict";n.d(C,{u:()=>p});var i=n(58750),t=n(21413),c=n(47707),e=n(39974);function p(f={}){const{connector:v=()=>new t.B,resetOnError:E=!0,resetOnComplete:y=!0,resetOnRefCountZero:M=!0}=f;return b=>{let P,D,I,h=0,S=!1,O=!1;const L=()=>{D?.unsubscribe(),D=void 0},T=()=>{L(),P=I=void 0,S=O=!1},x=()=>{const N=P;T(),N?.unsubscribe()};return(0,e.N)((N,j)=>{h++,!O&&!S&&L();const $=I=I??v();j.add(()=>{h--,0===h&&!O&&!S&&(D=m(x,M))}),$.subscribe(j),!P&&h>0&&(P=new c.Ms({next:k=>$.next(k),error:k=>{O=!0,L(),D=m(T,E,k),$.error(k)},complete:()=>{S=!0,L(),D=m(T,y),$.complete()}}),(0,i.Tg)(N).subscribe(P))})(b)}}function m(f,v,...E){if(!0===v)return void f();if(!1===v)return;const y=new c.Ms({next:()=>{y.unsubscribe(),f()}});return(0,i.Tg)(v(...E)).subscribe(y)}},44668:(B,C,n)=>{"use strict";n.d(C,{t:()=>c});var i=n(92771),t=n(97647);function c(e,p,m){let f,v=!1;return e&&"object"==typeof e?({bufferSize:f=1/0,windowTime:p=1/0,refCount:v=!1,scheduler:m}=e):f=e??1/0,(0,t.u)({connector:()=>new i.m(f,p,m),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:v})}},65245:(B,C,n)=>{"use strict";n.d(C,{i:()=>t});var i=n(5964);function t(c){return(0,i.p)((e,p)=>c<=p)}},28492:(B,C,n)=>{"use strict";n.d(C,{j:()=>c});var i=n(39974),t=n(54360);function c(e){return(0,i.N)((p,m)=>{let f=!1,v=0;p.subscribe((0,t._)(m,E=>(f||(f=!e(E,v++)))&&m.next(E)))})}},99172:(B,C,n)=>{"use strict";n.d(C,{Z:()=>e});var i=n(92688),t=n(9326),c=n(39974);function e(...p){const m=(0,t.lI)(p);return(0,c.N)((f,v)=>{(m?(0,i.x)(p,f,m):(0,i.x)(p,f)).subscribe(v)})}},25558:(B,C,n)=>{"use strict";n.d(C,{n:()=>e});var i=n(58750),t=n(39974),c=n(54360);function e(p,m){return(0,t.N)((f,v)=>{let E=null,y=0,M=!1;const b=()=>M&&!E&&v.complete();f.subscribe((0,c._)(v,P=>{E?.unsubscribe();let D=0;const I=y++;(0,i.Tg)(p(P,I)).subscribe(E=(0,c._)(v,h=>v.next(m?m(P,h,I,D++):h),()=>{E=null,b()}))},()=>{M=!0,b()}))})}},96697:(B,C,n)=>{"use strict";n.d(C,{s:()=>e});var i=n(983),t=n(39974),c=n(54360);function e(p){return p<=0?()=>i.w:(0,t.N)((m,f)=>{let v=0;m.subscribe((0,c._)(f,E=>{++v<=p&&(f.next(E),p<=v&&f.complete())}))})}},55109:(B,C,n)=>{"use strict";n.d(C,{o:()=>e});var i=n(983),t=n(39974),c=n(54360);function e(p){return p<=0?()=>i.w:(0,t.N)((m,f)=>{let v=[];m.subscribe((0,c._)(f,E=>{v.push(E),p<v.length&&v.shift()},()=>{for(const E of v)f.next(E);f.complete()},void 0,()=>{v=null}))})}},56977:(B,C,n)=>{"use strict";n.d(C,{Q:()=>p});var i=n(39974),t=n(54360),c=n(58750),e=n(85343);function p(m){return(0,i.N)((f,v)=>{(0,c.Tg)(m).subscribe((0,t._)(v,()=>v.complete(),e.l)),!v.closed&&f.subscribe(v)})}},77048:(B,C,n)=>{"use strict";n.d(C,{v:()=>c});var i=n(39974),t=n(54360);function c(e,p=!1){return(0,i.N)((m,f)=>{let v=0;m.subscribe((0,t._)(f,E=>{const y=e(E,v++);(y||p)&&f.next(E),!y&&f.complete()}))})}},88141:(B,C,n)=>{"use strict";n.d(C,{M:()=>p});var i=n(98071),t=n(39974),c=n(54360),e=n(33669);function p(m,f,v){const E=(0,i.T)(m)||f||v?{next:m,error:f,complete:v}:m;return E?(0,t.N)((y,M)=>{var b;null===(b=E.subscribe)||void 0===b||b.call(E);let P=!0;y.subscribe((0,c._)(M,D=>{var I;null===(I=E.next)||void 0===I||I.call(E,D),M.next(D)},()=>{var D;P=!1,null===(D=E.complete)||void 0===D||D.call(E),M.complete()},D=>{var I;P=!1,null===(I=E.error)||void 0===I||I.call(E,D),M.error(D)},()=>{var D,I;P&&(null===(D=E.unsubscribe)||void 0===D||D.call(E)),null===(I=E.finalize)||void 0===I||I.call(E)}))}):e.D}},93774:(B,C,n)=>{"use strict";n.d(C,{v:()=>e});var i=n(9350),t=n(39974),c=n(54360);function e(m=p){return(0,t.N)((f,v)=>{let E=!1;f.subscribe((0,c._)(v,y=>{E=!0,v.next(y)},()=>E?v.complete():v.error(m())))})}function p(){return new i.G}},56594:(B,C,n)=>{"use strict";n.d(C,{$:()=>e});var i=n(19852),t=n(39974);const c=(p,m)=>(p.push(m),p);function e(){return(0,t.N)((p,m)=>{(0,i.T)(c,[])(p).subscribe(m)})}},53993:(B,C,n)=>{"use strict";n.d(C,{E:()=>f});var i=n(39974),t=n(54360),c=n(58750),e=n(33669),p=n(85343),m=n(9326);function f(...v){const E=(0,m.ms)(v);return(0,i.N)((y,M)=>{const b=v.length,P=new Array(b);let D=v.map(()=>!1),I=!1;for(let h=0;h<b;h++)(0,c.Tg)(v[h]).subscribe((0,t._)(M,S=>{P[h]=S,!I&&!D[h]&&(D[h]=!0,(I=D.every(e.D))&&(D=null))},p.l));y.subscribe((0,t._)(M,h=>{if(I){const S=[h,...P];M.next(E?E(...S):S)}}))})}},96780:(B,C,n)=>{"use strict";n.d(C,{R:()=>p});var i=n(18359);class t extends i.yU{constructor(f,v){super()}schedule(f,v=0){return this}}const c={setInterval(m,f,...v){const{delegate:E}=c;return E?.setInterval?E.setInterval(m,f,...v):setInterval(m,f,...v)},clearInterval(m){const{delegate:f}=c;return(f?.clearInterval||clearInterval)(m)},delegate:void 0};var e=n(57908);class p extends t{constructor(f,v){super(f,v),this.scheduler=f,this.work=v,this.pending=!1}schedule(f,v=0){var E;if(this.closed)return this;this.state=f;const y=this.id,M=this.scheduler;return null!=y&&(this.id=this.recycleAsyncId(M,y,v)),this.pending=!0,this.delay=v,this.id=null!==(E=this.id)&&void 0!==E?E:this.requestAsyncId(M,this.id,v),this}requestAsyncId(f,v,E=0){return c.setInterval(f.flush.bind(f,this),E)}recycleAsyncId(f,v,E=0){if(null!=E&&this.delay===E&&!1===this.pending)return v;null!=v&&c.clearInterval(v)}execute(f,v){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const E=this._execute(f,v);if(E)return E;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(f,v){let y,E=!1;try{this.work(f)}catch(M){E=!0,y=M||new Error("Scheduled action threw falsy error")}if(E)return this.unsubscribe(),y}unsubscribe(){if(!this.closed){const{id:f,scheduler:v}=this,{actions:E}=v;this.work=this.state=this.scheduler=null,this.pending=!1,(0,e.o)(E,this),null!=f&&(this.id=this.recycleAsyncId(v,f,null)),this.delay=null,super.unsubscribe()}}}},39687:(B,C,n)=>{"use strict";n.d(C,{q:()=>c});var i=n(86129);class t{constructor(p,m=t.now){this.schedulerActionCtor=p,this.now=m}schedule(p,m=0,f){return new this.schedulerActionCtor(this,p).schedule(f,m)}}t.now=i.U.now;class c extends t{constructor(p,m=t.now){super(p,m),this.actions=[],this._active=!1}flush(p){const{actions:m}=this;if(this._active)return void m.push(p);let f;this._active=!0;do{if(f=p.execute(p.state,p.delay))break}while(p=m.shift());if(this._active=!1,f){for(;p=m.shift();)p.unsubscribe();throw f}}}},25007:(B,C,n)=>{"use strict";n.d(C,{$:()=>D});var i=n(96780);let c,t=1;const e={};function p(h){return h in e&&(delete e[h],!0)}const m={setImmediate(h){const S=t++;return e[S]=!0,c||(c=Promise.resolve()),c.then(()=>p(S)&&h()),S},clearImmediate(h){p(h)}},{setImmediate:v,clearImmediate:E}=m,y={setImmediate(...h){const{delegate:S}=y;return(S?.setImmediate||v)(...h)},clearImmediate(h){const{delegate:S}=y;return(S?.clearImmediate||E)(h)},delegate:void 0};var b=n(39687);const D=new class P extends b.q{flush(S){this._active=!0;const O=this._scheduled;this._scheduled=void 0;const{actions:L}=this;let T;S=S||L.shift();do{if(T=S.execute(S.state,S.delay))break}while((S=L[0])&&S.id===O&&L.shift());if(this._active=!1,T){for(;(S=L[0])&&S.id===O&&L.shift();)S.unsubscribe();throw T}}}(class M extends i.R{constructor(S,O){super(S,O),this.scheduler=S,this.work=O}requestAsyncId(S,O,L=0){return null!==L&&L>0?super.requestAsyncId(S,O,L):(S.actions.push(this),S._scheduled||(S._scheduled=y.setImmediate(S.flush.bind(S,void 0))))}recycleAsyncId(S,O,L=0){var T;if(null!=L?L>0:this.delay>0)return super.recycleAsyncId(S,O,L);const{actions:x}=S;null!=O&&(null===(T=x[x.length-1])||void 0===T?void 0:T.id)!==O&&(y.clearImmediate(O),S._scheduled===O&&(S._scheduled=void 0))}})},43236:(B,C,n)=>{"use strict";n.d(C,{E:()=>c,b:()=>e});var i=n(96780);const c=new(n(39687).q)(i.R),e=c},86129:(B,C,n)=>{"use strict";n.d(C,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},47242:(B,C,n)=>{"use strict";n.d(C,{T:()=>p});var i=n(96780),c=n(39687);const p=new class e extends c.q{}(class t extends i.R{constructor(v,E){super(v,E),this.scheduler=v,this.work=E}schedule(v,E=0){return E>0?super.schedule(v,E):(this.delay=E,this.state=v,this.scheduler.flush(this),this)}execute(v,E){return E>0||this.closed?super.execute(v,E):this._execute(v,E)}requestAsyncId(v,E,y=0){return null!=y&&y>0||null==y&&this.delay>0?super.requestAsyncId(v,E,y):(v.flush(this),0)}})},19270:(B,C,n)=>{"use strict";n.d(C,{f:()=>i});const i={setTimeout(t,c,...e){const{delegate:p}=i;return p?.setTimeout?p.setTimeout(t,c,...e):setTimeout(t,c,...e)},clearTimeout(t){const{delegate:c}=i;return(c?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4761:(B,C,n)=>{"use strict";n.d(C,{l:()=>t});const t=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(B,C,n)=>{"use strict";n.d(C,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(B,C,n)=>{"use strict";n.d(C,{G:()=>t});const t=(0,n(81853).L)(c=>function(){c(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(B,C,n)=>{"use strict";n.d(C,{R0:()=>m,lI:()=>p,ms:()=>e});var i=n(98071),t=n(79470);function c(f){return f[f.length-1]}function e(f){return(0,i.T)(c(f))?f.pop():void 0}function p(f){return(0,t.m)(c(f))?f.pop():void 0}function m(f,v){return"number"==typeof c(f)?f.pop():v}},93073:(B,C,n)=>{"use strict";n.d(C,{D:()=>p});const{isArray:i}=Array,{getPrototypeOf:t,prototype:c,keys:e}=Object;function p(f){if(1===f.length){const v=f[0];if(i(v))return{args:v,keys:null};if(function m(f){return f&&"object"==typeof f&&t(f)===c}(v)){const E=e(v);return{args:E.map(y=>v[y]),keys:E}}}return{args:f,keys:null}}},42326:(B,C,n)=>{"use strict";n.d(C,{K:()=>t});const{isArray:i}=Array;function t(c){return 1===c.length&&i(c[0])?c[0]:c}},57908:(B,C,n)=>{"use strict";function i(t,c){if(t){const e=t.indexOf(c);0<=e&&t.splice(e,1)}}n.d(C,{o:()=>i})},81853:(B,C,n)=>{"use strict";function i(t){const e=t(p=>{Error.call(p),p.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}n.d(C,{L:()=>i})},58496:(B,C,n)=>{"use strict";function i(t,c){return t.reduce((e,p,m)=>(e[p]=c[m],e),{})}n.d(C,{e:()=>i})},49786:(B,C,n)=>{"use strict";n.d(C,{Y:()=>c,l:()=>e});var i=n(41026);let t=null;function c(p){if(i.$.useDeprecatedSynchronousErrorHandling){const m=!t;if(m&&(t={errorThrown:!1,error:null}),p(),m){const{errorThrown:f,error:v}=t;if(t=null,f)throw v}}else p()}function e(p){i.$.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=p)}},45225:(B,C,n)=>{"use strict";function i(t,c,e,p=0,m=!1){const f=c.schedule(function(){e(),m?t.add(this.schedule(null,p)):this.unsubscribe()},p);if(t.add(f),!m)return f}n.d(C,{N:()=>i})},33669:(B,C,n)=>{"use strict";function i(t){return t}n.d(C,{D:()=>i})},47441:(B,C,n)=>{"use strict";n.d(C,{X:()=>i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},37953:(B,C,n)=>{"use strict";n.d(C,{T:()=>t});var i=n(98071);function t(c){return Symbol.asyncIterator&&(0,i.T)(c?.[Symbol.asyncIterator])}},98071:(B,C,n)=>{"use strict";function i(t){return"function"==typeof t}n.d(C,{T:()=>i})},55055:(B,C,n)=>{"use strict";n.d(C,{l:()=>c});var i=n(3494),t=n(98071);function c(e){return(0,t.T)(e[i.s])}},85397:(B,C,n)=>{"use strict";n.d(C,{x:()=>c});var i=n(4761),t=n(98071);function c(e){return(0,t.T)(e?.[i.l])}},74402:(B,C,n)=>{"use strict";n.d(C,{A:()=>c});var i=n(71985),t=n(98071);function c(e){return!!e&&(e instanceof i.c||(0,t.T)(e.lift)&&(0,t.T)(e.subscribe))}},59858:(B,C,n)=>{"use strict";n.d(C,{y:()=>t});var i=n(98071);function t(c){return(0,i.T)(c?.then)}},15196:(B,C,n)=>{"use strict";n.d(C,{C:()=>c,U:()=>e});var i=n(31635),t=n(98071);function c(p){return(0,i.AQ)(this,arguments,function*(){const f=p.getReader();try{for(;;){const{value:v,done:E}=yield(0,i.N3)(f.read());if(E)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(v)}}finally{f.releaseLock()}})}function e(p){return(0,t.T)(p?.getReader)}},79470:(B,C,n)=>{"use strict";n.d(C,{m:()=>t});var i=n(98071);function t(c){return c&&(0,i.T)(c.schedule)}},39974:(B,C,n)=>{"use strict";n.d(C,{N:()=>c,S:()=>t});var i=n(98071);function t(e){return(0,i.T)(e?.lift)}function c(e){return p=>{if(t(p))return p.lift(function(m){try{return e(m,this)}catch(f){this.error(f)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(B,C,n)=>{"use strict";n.d(C,{I:()=>e});var i=n(96354);const{isArray:t}=Array;function e(p){return(0,i.T)(m=>function c(p,m){return t(m)?p(...m):p(m)}(p,m))}},85343:(B,C,n)=>{"use strict";function i(){}n.d(C,{l:()=>i})},71203:(B,C,n)=>{"use strict";n.d(C,{F:()=>t,m:()=>c});var i=n(33669);function t(...e){return c(e)}function c(e){return 0===e.length?i.D:1===e.length?e[0]:function(m){return e.reduce((f,v)=>v(f),m)}}},45334:(B,C,n)=>{"use strict";n.d(C,{m:()=>c});var i=n(41026),t=n(19270);function c(e){t.f.setTimeout(()=>{const{onUnhandledError:p}=i.$;if(!p)throw e;p(e)})}},50591:(B,C,n)=>{"use strict";function i(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}n.d(C,{L:()=>i})},36883:(B,C,n)=>{"use strict";n.d(C,{A:()=>b});var i,t=new Uint8Array(16);function c(){if(!i&&!(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(t)}const e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var f=[],v=0;v<256;++v)f.push((v+256).toString(16).substr(1));const y=function E(P){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,I=(f[P[D+0]]+f[P[D+1]]+f[P[D+2]]+f[P[D+3]]+"-"+f[P[D+4]]+f[P[D+5]]+"-"+f[P[D+6]]+f[P[D+7]]+"-"+f[P[D+8]]+f[P[D+9]]+"-"+f[P[D+10]]+f[P[D+11]]+f[P[D+12]]+f[P[D+13]]+f[P[D+14]]+f[P[D+15]]).toLowerCase();if(!function p(P){return"string"==typeof P&&e.test(P)}(I))throw TypeError("Stringified UUID is invalid");return I},b=function M(P,D,I){var h=(P=P||{}).random||(P.rng||c)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,D){I=I||0;for(var S=0;S<16;++S)D[I+S]=h[S];return D}return y(h)}},96935:()=>{"use strict";const B=globalThis;function C(we){return(B.__Zone_symbol_prefix||"__zone_symbol__")+we}const t=Object.getOwnPropertyDescriptor,c=Object.defineProperty,e=Object.getPrototypeOf,p=Object.create,m=Array.prototype.slice,f="addEventListener",v="removeEventListener",E=C(f),y=C(v),M="true",b="false",P=C("");function D(we,Et){return Zone.current.wrap(we,Et)}function I(we,Et,kt,vt,Jt){return Zone.current.scheduleMacroTask(we,Et,kt,vt,Jt)}const h=C,S=typeof window<"u",O=S?window:void 0,L=S&&O||globalThis,T="removeAttribute";function x(we,Et){for(let kt=we.length-1;kt>=0;kt--)"function"==typeof we[kt]&&(we[kt]=D(we[kt],Et+"_"+kt));return we}function j(we){return!we||!1!==we.writable&&!("function"==typeof we.get&&typeof we.set>"u")}const $=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,k=!("nw"in L)&&typeof L.process<"u"&&"[object process]"===L.process.toString(),K=!k&&!$&&!(!S||!O.HTMLElement),z=typeof L.process<"u"&&"[object process]"===L.process.toString()&&!$&&!(!S||!O.HTMLElement),V={},G=h("enable_beforeunload"),X=function(we){if(!(we=we||L.event))return;let Et=V[we.type];Et||(Et=V[we.type]=h("ON_PROPERTY"+we.type));const kt=this||we.target||L,vt=kt[Et];let Jt;return K&&kt===O&&"error"===we.type?(Jt=vt&&vt.call(this,we.message,we.filename,we.lineno,we.colno,we.error),!0===Jt&&we.preventDefault()):(Jt=vt&&vt.apply(this,arguments),"beforeunload"===we.type&&L[G]&&"string"==typeof Jt?we.returnValue=Jt:null!=Jt&&!Jt&&we.preventDefault()),Jt};function Q(we,Et,kt){let vt=t(we,Et);if(!vt&&kt&&t(kt,Et)&&(vt={enumerable:!0,configurable:!0}),!vt||!vt.configurable)return;const Jt=h("on"+Et+"patched");if(we.hasOwnProperty(Jt)&&we[Jt])return;delete vt.writable,delete vt.value;const sn=vt.get,zt=vt.set,Gt=Et.slice(2);let Je=V[Gt];Je||(Je=V[Gt]=h("ON_PROPERTY"+Gt)),vt.set=function(ke){let Le=this;!Le&&we===L&&(Le=L),Le&&("function"==typeof Le[Je]&&Le.removeEventListener(Gt,X),zt&&zt.call(Le,null),Le[Je]=ke,"function"==typeof ke&&Le.addEventListener(Gt,X,!1))},vt.get=function(){let ke=this;if(!ke&&we===L&&(ke=L),!ke)return null;const Le=ke[Je];if(Le)return Le;if(sn){let ze=sn.call(this);if(ze)return vt.set.call(this,ze),"function"==typeof ke[T]&&ke.removeAttribute(Et),ze}return null},c(we,Et,vt),we[Jt]=!0}function ee(we,Et,kt){if(Et)for(let vt=0;vt<Et.length;vt++)Q(we,"on"+Et[vt],kt);else{const vt=[];for(const Jt in we)"on"==Jt.slice(0,2)&&vt.push(Jt);for(let Jt=0;Jt<vt.length;Jt++)Q(we,vt[Jt],kt)}}const ie=h("originalInstance");function te(we){const Et=L[we];if(!Et)return;L[h(we)]=Et,L[we]=function(){const Jt=x(arguments,we);switch(Jt.length){case 0:this[ie]=new Et;break;case 1:this[ie]=new Et(Jt[0]);break;case 2:this[ie]=new Et(Jt[0],Jt[1]);break;case 3:this[ie]=new Et(Jt[0],Jt[1],Jt[2]);break;case 4:this[ie]=new Et(Jt[0],Jt[1],Jt[2],Jt[3]);break;default:throw new Error("Arg list too long.")}},re(L[we],Et);const kt=new Et(function(){});let vt;for(vt in kt)"XMLHttpRequest"===we&&"responseBlob"===vt||function(Jt){"function"==typeof kt[Jt]?L[we].prototype[Jt]=function(){return this[ie][Jt].apply(this[ie],arguments)}:c(L[we].prototype,Jt,{set:function(sn){"function"==typeof sn?(this[ie][Jt]=D(sn,we+"."+Jt),re(this[ie][Jt],sn)):this[ie][Jt]=sn},get:function(){return this[ie][Jt]}})}(vt);for(vt in Et)"prototype"!==vt&&Et.hasOwnProperty(vt)&&(L[we][vt]=Et[vt])}function he(we,Et,kt){let vt=we;for(;vt&&!vt.hasOwnProperty(Et);)vt=e(vt);!vt&&we[Et]&&(vt=we);const Jt=h(Et);let sn=null;if(vt&&(!(sn=vt[Jt])||!vt.hasOwnProperty(Jt))&&(sn=vt[Jt]=vt[Et],j(vt&&t(vt,Et)))){const Gt=kt(sn,Jt,Et);vt[Et]=function(){return Gt(this,arguments)},re(vt[Et],sn)}return sn}function ye(we,Et,kt){let vt=null;function Jt(sn){const zt=sn.data;return zt.args[zt.cbIdx]=function(){sn.invoke.apply(this,arguments)},vt.apply(zt.target,zt.args),sn}vt=he(we,Et,sn=>function(zt,Gt){const Je=kt(zt,Gt);return Je.cbIdx>=0&&"function"==typeof Gt[Je.cbIdx]?I(Je.name,Gt[Je.cbIdx],Je,Jt):sn.apply(zt,Gt)})}function re(we,Et){we[h("OriginalDelegate")]=Et}let ce=!1,Z=!1;function fe(){if(ce)return Z;ce=!0;try{const we=O.navigator.userAgent;(-1!==we.indexOf("MSIE ")||-1!==we.indexOf("Trident/")||-1!==we.indexOf("Edge/"))&&(Z=!0)}catch{}return Z}function ae(we){return"function"==typeof we}function oe(we){return"number"==typeof we}let J=!1;if(typeof window<"u")try{const we=Object.defineProperty({},"passive",{get:function(){J=!0}});window.addEventListener("test",we,we),window.removeEventListener("test",we,we)}catch{J=!1}const ve={useG:!0},_e={},Ce={},qe=new RegExp("^"+P+"(\\w+)(true|false)$"),Re=h("propagationStopped");function nt(we,Et){const kt=(Et?Et(we):we)+b,vt=(Et?Et(we):we)+M,Jt=P+kt,sn=P+vt;_e[we]={},_e[we][b]=Jt,_e[we][M]=sn}function Ge(we,Et,kt,vt){const Jt=vt&&vt.add||f,sn=vt&&vt.rm||v,zt=vt&&vt.listeners||"eventListeners",Gt=vt&&vt.rmAll||"removeAllListeners",Je=h(Jt),ke="."+Jt+":",Le="prependListener",ze="."+Le+":",lt=function(Lt,Rt,Sn){if(Lt.isRemoved)return;const $n=Lt.callback;let Di;"object"==typeof $n&&$n.handleEvent&&(Lt.callback=_t=>$n.handleEvent(_t),Lt.originalDelegate=$n);try{Lt.invoke(Lt,Rt,[Sn])}catch(_t){Di=_t}const bt=Lt.options;return bt&&"object"==typeof bt&&bt.once&&Rt[sn].call(Rt,Sn.type,Lt.originalDelegate?Lt.originalDelegate:Lt.callback,bt),Di};function Vt(Lt,Rt,Sn){if(!(Rt=Rt||we.event))return;const $n=Lt||Rt.target||we,Di=$n[_e[Rt.type][Sn?M:b]];if(Di){const bt=[];if(1===Di.length){const _t=lt(Di[0],$n,Rt);_t&&bt.push(_t)}else{const _t=Di.slice();for(let En=0;En<_t.length&&(!Rt||!0!==Rt[Re]);En++){const Tn=lt(_t[En],$n,Rt);Tn&&bt.push(Tn)}}if(1===bt.length)throw bt[0];for(let _t=0;_t<bt.length;_t++){const En=bt[_t];Et.nativeScheduleMicroTask(()=>{throw En})}}}const fn=function(Lt){return Vt(this,Lt,!1)},At=function(Lt){return Vt(this,Lt,!0)};function tn(Lt,Rt){if(!Lt)return!1;let Sn=!0;Rt&&void 0!==Rt.useG&&(Sn=Rt.useG);const $n=Rt&&Rt.vh;let Di=!0;Rt&&void 0!==Rt.chkDup&&(Di=Rt.chkDup);let bt=!1;Rt&&void 0!==Rt.rt&&(bt=Rt.rt);let _t=Lt;for(;_t&&!_t.hasOwnProperty(Jt);)_t=e(_t);if(!_t&&Lt[Jt]&&(_t=Lt),!_t||_t[Je])return!1;const En=Rt&&Rt.eventNameToString,Tn={},ni=_t[Je]=_t[Jt],oi=_t[h(sn)]=_t[sn],ai=_t[h(zt)]=_t[zt],ns=_t[h(Gt)]=_t[Gt];let is;Rt&&Rt.prepend&&(is=_t[h(Rt.prepend)]=_t[Rt.prepend]);const ms=Sn?function(Xe){if(!Tn.isExisting)return ni.call(Tn.target,Tn.eventName,Tn.capture?At:fn,Tn.options)}:function(Xe){return ni.call(Tn.target,Tn.eventName,Xe.invoke,Tn.options)},Ai=Sn?function(Xe){if(!Xe.isRemoved){const gt=_e[Xe.eventName];let Yt;gt&&(Yt=gt[Xe.capture?M:b]);const Cn=Yt&&Xe.target[Yt];if(Cn)for(let On=0;On<Cn.length;On++)if(Cn[On]===Xe){Cn.splice(On,1),Xe.isRemoved=!0,Xe.removeAbortListener&&(Xe.removeAbortListener(),Xe.removeAbortListener=null),0===Cn.length&&(Xe.allRemoved=!0,Xe.target[Yt]=null);break}}if(Xe.allRemoved)return oi.call(Xe.target,Xe.eventName,Xe.capture?At:fn,Xe.options)}:function(Xe){return oi.call(Xe.target,Xe.eventName,Xe.invoke,Xe.options)},Zt=Rt&&Rt.diff?Rt.diff:function(Xe,gt){const Yt=typeof gt;return"function"===Yt&&Xe.callback===gt||"object"===Yt&&Xe.originalDelegate===gt},Ii=Zone[h("UNPATCHED_EVENTS")],Xt=we[h("PASSIVE_EVENTS")],Fe=function(Xe,gt,Yt,Cn,On=!1,Nn=!1){return function(){const Qn=this||we;let Jn=arguments[0];Rt&&Rt.transferEventName&&(Jn=Rt.transferEventName(Jn));let ki=arguments[1];if(!ki)return Xe.apply(this,arguments);if(k&&"uncaughtException"===Jn)return Xe.apply(this,arguments);let Fi=!1;if("function"!=typeof ki){if(!ki.handleEvent)return Xe.apply(this,arguments);Fi=!0}if($n&&!$n(Xe,ki,Qn,arguments))return;const ss=J&&!!Xt&&-1!==Xt.indexOf(Jn),hs=function It(Xe){if("object"==typeof Xe&&null!==Xe){const gt={...Xe};return Xe.signal&&(gt.signal=Xe.signal),gt}return Xe}(function si(Xe,gt){return!J&&"object"==typeof Xe&&Xe?!!Xe.capture:J&&gt?"boolean"==typeof Xe?{capture:Xe,passive:!0}:Xe?"object"==typeof Xe&&!1!==Xe.passive?{...Xe,passive:!0}:Xe:{passive:!0}:Xe}(arguments[2],ss)),gs=hs?.signal;if(gs?.aborted)return;if(Ii)for(let un=0;un<Ii.length;un++)if(Jn===Ii[un])return ss?Xe.call(Qn,Jn,ki,hs):Xe.apply(this,arguments);const Ss=!!hs&&("boolean"==typeof hs||hs.capture),Ji=!(!hs||"object"!=typeof hs)&&hs.once,ps=Zone.current;let Ft=_e[Jn];Ft||(nt(Jn,En),Ft=_e[Jn]);const _n=Ft[Ss?M:b];let Me,We=Qn[_n],be=!1;if(We){if(be=!0,Di)for(let un=0;un<We.length;un++)if(Zt(We[un],ki))return}else We=Qn[_n]=[];const Ue=Qn.constructor.name,ht=Ce[Ue];ht&&(Me=ht[Jn]),Me||(Me=Ue+gt+(En?En(Jn):Jn)),Tn.options=hs,Ji&&(Tn.options.once=!1),Tn.target=Qn,Tn.capture=Ss,Tn.eventName=Jn,Tn.isExisting=be;const Ut=Sn?ve:void 0;Ut&&(Ut.taskData=Tn),gs&&(Tn.options.signal=void 0);const pn=ps.scheduleEventTask(Me,ki,Ut,Yt,Cn);if(gs){Tn.options.signal=gs;const un=()=>pn.zone.cancelTask(pn);Xe.call(gs,"abort",un,{once:!0}),pn.removeAbortListener=()=>gs.removeEventListener("abort",un)}return Tn.target=null,Ut&&(Ut.taskData=null),Ji&&(Tn.options.once=!0),!J&&"boolean"==typeof pn.options||(pn.options=hs),pn.target=Qn,pn.capture=Ss,pn.eventName=Jn,Fi&&(pn.originalDelegate=ki),Nn?We.unshift(pn):We.push(pn),On?Qn:void 0}};return _t[Jt]=Fe(ni,ke,ms,Ai,bt),is&&(_t[Le]=Fe(is,ze,function(Xe){return is.call(Tn.target,Tn.eventName,Xe.invoke,Tn.options)},Ai,bt,!0)),_t[sn]=function(){const Xe=this||we;let gt=arguments[0];Rt&&Rt.transferEventName&&(gt=Rt.transferEventName(gt));const Yt=arguments[2],Cn=!!Yt&&("boolean"==typeof Yt||Yt.capture),On=arguments[1];if(!On)return oi.apply(this,arguments);if($n&&!$n(oi,On,Xe,arguments))return;const Nn=_e[gt];let Qn;Nn&&(Qn=Nn[Cn?M:b]);const Jn=Qn&&Xe[Qn];if(Jn)for(let ki=0;ki<Jn.length;ki++){const Fi=Jn[ki];if(Zt(Fi,On))return Jn.splice(ki,1),Fi.isRemoved=!0,0!==Jn.length||(Fi.allRemoved=!0,Xe[Qn]=null,Cn||"string"!=typeof gt)||(Xe[P+"ON_PROPERTY"+gt]=null),Fi.zone.cancelTask(Fi),bt?Xe:void 0}return oi.apply(this,arguments)},_t[zt]=function(){const Xe=this||we;let gt=arguments[0];Rt&&Rt.transferEventName&&(gt=Rt.transferEventName(gt));const Yt=[],Cn=at(Xe,En?En(gt):gt);for(let On=0;On<Cn.length;On++){const Nn=Cn[On];Yt.push(Nn.originalDelegate?Nn.originalDelegate:Nn.callback)}return Yt},_t[Gt]=function(){const Xe=this||we;let gt=arguments[0];if(gt){Rt&&Rt.transferEventName&&(gt=Rt.transferEventName(gt));const Yt=_e[gt];if(Yt){const Nn=Xe[Yt[b]],Qn=Xe[Yt[M]];if(Nn){const Jn=Nn.slice();for(let ki=0;ki<Jn.length;ki++){const Fi=Jn[ki];this[sn].call(this,gt,Fi.originalDelegate?Fi.originalDelegate:Fi.callback,Fi.options)}}if(Qn){const Jn=Qn.slice();for(let ki=0;ki<Jn.length;ki++){const Fi=Jn[ki];this[sn].call(this,gt,Fi.originalDelegate?Fi.originalDelegate:Fi.callback,Fi.options)}}}}else{const Yt=Object.keys(Xe);for(let Cn=0;Cn<Yt.length;Cn++){const Nn=qe.exec(Yt[Cn]);let Qn=Nn&&Nn[1];Qn&&"removeListener"!==Qn&&this[Gt].call(this,Qn)}this[Gt].call(this,"removeListener")}if(bt)return this},re(_t[Jt],ni),re(_t[sn],oi),ns&&re(_t[Gt],ns),ai&&re(_t[zt],ai),!0}let dt=[];for(let Lt=0;Lt<kt.length;Lt++)dt[Lt]=tn(kt[Lt],vt);return dt}function at(we,Et){if(!Et){const sn=[];for(let zt in we){const Gt=qe.exec(zt);let Je=Gt&&Gt[1];if(Je&&(!Et||Je===Et)){const ke=we[zt];if(ke)for(let Le=0;Le<ke.length;Le++)sn.push(ke[Le])}}return sn}let kt=_e[Et];kt||(nt(Et),kt=_e[Et]);const vt=we[kt[b]],Jt=we[kt[M]];return vt?Jt?vt.concat(Jt):vt.slice():Jt?Jt.slice():[]}function Ke(we,Et){const kt=we.Event;kt&&kt.prototype&&Et.patchMethod(kt.prototype,"stopImmediatePropagation",vt=>function(Jt,sn){Jt[Re]=!0,vt&&vt.apply(Jt,sn)})}const pt=h("zoneTask");function He(we,Et,kt,vt){let Jt=null,sn=null;kt+=vt;const zt={};function Gt(ke){const Le=ke.data;Le.args[0]=function(){return ke.invoke.apply(this,arguments)};const ze=Jt.apply(we,Le.args);return oe(ze)?Le.handleId=ze:(Le.handle=ze,Le.isRefreshable=ae(ze.refresh)),ke}function Je(ke){const{handle:Le,handleId:ze}=ke.data;return sn.call(we,Le??ze)}Jt=he(we,Et+=vt,ke=>function(Le,ze){if(ae(ze[0])){const lt={isRefreshable:!1,isPeriodic:"Interval"===vt,delay:"Timeout"===vt||"Interval"===vt?ze[1]||0:void 0,args:ze},Vt=ze[0];ze[0]=function(){try{return Vt.apply(this,arguments)}finally{const{handle:Sn,handleId:$n,isPeriodic:Di,isRefreshable:bt}=lt;!Di&&!bt&&($n?delete zt[$n]:Sn&&(Sn[pt]=null))}};const fn=I(Et,ze[0],lt,Gt,Je);if(!fn)return fn;const{handleId:At,handle:tn,isRefreshable:dt,isPeriodic:Lt}=fn.data;if(At)zt[At]=fn;else if(tn&&(tn[pt]=fn,dt&&!Lt)){const Rt=tn.refresh;tn.refresh=function(){const{zone:Sn,state:$n}=fn;return"notScheduled"===$n?(fn._state="scheduled",Sn._updateTaskCount(fn,1)):"running"===$n&&(fn._state="scheduling"),Rt.call(this)}}return tn??At??fn}return ke.apply(we,ze)}),sn=he(we,kt,ke=>function(Le,ze){const lt=ze[0];let Vt;oe(lt)?(Vt=zt[lt],delete zt[lt]):(Vt=lt?.[pt],Vt?lt[pt]=null:Vt=lt),Vt?.type?Vt.cancelFn&&Vt.zone.cancelTask(Vt):ke.apply(we,ze)})}function Ee(we,Et,kt){if(!kt||0===kt.length)return Et;const vt=kt.filter(sn=>sn.target===we);if(!vt||0===vt.length)return Et;const Jt=vt[0].ignoreProperties;return Et.filter(sn=>-1===Jt.indexOf(sn))}function je(we,Et,kt,vt){we&&ee(we,Ee(we,Et,kt),vt)}function ft(we){return Object.getOwnPropertyNames(we).filter(Et=>Et.startsWith("on")&&Et.length>2).map(Et=>Et.substring(2))}function Ot(we,Et,kt,vt,Jt){const sn=Zone.__symbol__(vt);if(Et[sn])return;const zt=Et[sn]=Et[vt];Et[vt]=function(Gt,Je,ke){return Je&&Je.prototype&&Jt.forEach(function(Le){const ze=`${kt}.${vt}::`+Le,lt=Je.prototype;try{if(lt.hasOwnProperty(Le)){const Vt=we.ObjectGetOwnPropertyDescriptor(lt,Le);Vt&&Vt.value?(Vt.value=we.wrapWithCurrentZone(Vt.value,ze),we._redefineProperty(Je.prototype,Le,Vt)):lt[Le]&&(lt[Le]=we.wrapWithCurrentZone(lt[Le],ze))}else lt[Le]&&(lt[Le]=we.wrapWithCurrentZone(lt[Le],ze))}catch{}}),zt.call(Et,Gt,Je,ke)},we.attachOriginToPatched(Et[vt],zt)}const ln=function i(){const we=globalThis,Et=!0===we[C("forceDuplicateZoneCheck")];if(we.Zone&&(Et||"function"!=typeof we.Zone.__symbol__))throw new Error("Zone already loaded.");return we.Zone??=function n(){const we=B.performance;function Et(si){we&&we.mark&&we.mark(si)}function kt(si,ci){we&&we.measure&&we.measure(si,ci)}Et("Zone");let vt=(()=>{class si{static{this.__symbol__=C}static assertZonePatched(){if(B.Promise!==Tn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let cn=si.current;for(;cn.parent;)cn=cn.parent;return cn}static get current(){return oi.zone}static get currentTask(){return ai}static __load_patch(cn,gn,fi=!1){if(Tn.hasOwnProperty(cn)){const Si=!0===B[C("forceDuplicateZoneCheck")];if(!fi&&Si)throw Error("Already loaded patch: "+cn)}else if(!B["__Zone_disable_"+cn]){const Si="Zone:"+cn;Et(Si),Tn[cn]=gn(B,si,ni),kt(Si,Si)}}get parent(){return this._parent}get name(){return this._name}constructor(cn,gn){this._parent=cn,this._name=gn?gn.name||"unnamed":"<root>",this._properties=gn&&gn.properties||{},this._zoneDelegate=new sn(this,this._parent&&this._parent._zoneDelegate,gn)}get(cn){const gn=this.getZoneWith(cn);if(gn)return gn._properties[cn]}getZoneWith(cn){let gn=this;for(;gn;){if(gn._properties.hasOwnProperty(cn))return gn;gn=gn._parent}return null}fork(cn){if(!cn)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,cn)}wrap(cn,gn){if("function"!=typeof cn)throw new Error("Expecting function got: "+cn);const fi=this._zoneDelegate.intercept(this,cn,gn),Si=this;return function(){return Si.runGuarded(fi,this,arguments,gn)}}run(cn,gn,fi,Si){oi={parent:oi,zone:this};try{return this._zoneDelegate.invoke(this,cn,gn,fi,Si)}finally{oi=oi.parent}}runGuarded(cn,gn=null,fi,Si){oi={parent:oi,zone:this};try{try{return this._zoneDelegate.invoke(this,cn,gn,fi,Si)}catch(ms){if(this._zoneDelegate.handleError(this,ms))throw ms}}finally{oi=oi.parent}}runTask(cn,gn,fi){if(cn.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(cn.zone||tn).name+"; Execution: "+this.name+")");const Si=cn,{type:ms,data:{isPeriodic:Ai=!1,isRefreshable:xi=!1}={}}=cn;if(cn.state===dt&&(ms===En||ms===_t))return;const Zt=cn.state!=Sn;Zt&&Si._transitionTo(Sn,Rt);const Ii=ai;ai=Si,oi={parent:oi,zone:this};try{ms==_t&&cn.data&&!Ai&&!xi&&(cn.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Si,gn,fi)}catch(Xt){if(this._zoneDelegate.handleError(this,Xt))throw Xt}}finally{const Xt=cn.state;if(Xt!==dt&&Xt!==Di)if(ms==En||Ai||xi&&Xt===Lt)Zt&&Si._transitionTo(Rt,Sn,Lt);else{const It=Si._zoneDelegates;this._updateTaskCount(Si,-1),Zt&&Si._transitionTo(dt,Sn,dt),xi&&(Si._zoneDelegates=It)}oi=oi.parent,ai=Ii}}scheduleTask(cn){if(cn.zone&&cn.zone!==this){let fi=this;for(;fi;){if(fi===cn.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${cn.zone.name}`);fi=fi.parent}}cn._transitionTo(Lt,dt);const gn=[];cn._zoneDelegates=gn,cn._zone=this;try{cn=this._zoneDelegate.scheduleTask(this,cn)}catch(fi){throw cn._transitionTo(Di,Lt,dt),this._zoneDelegate.handleError(this,fi),fi}return cn._zoneDelegates===gn&&this._updateTaskCount(cn,1),cn.state==Lt&&cn._transitionTo(Rt,Lt),cn}scheduleMicroTask(cn,gn,fi,Si){return this.scheduleTask(new zt(bt,cn,gn,fi,Si,void 0))}scheduleMacroTask(cn,gn,fi,Si,ms){return this.scheduleTask(new zt(_t,cn,gn,fi,Si,ms))}scheduleEventTask(cn,gn,fi,Si,ms){return this.scheduleTask(new zt(En,cn,gn,fi,Si,ms))}cancelTask(cn){if(cn.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(cn.zone||tn).name+"; Execution: "+this.name+")");if(cn.state===Rt||cn.state===Sn){cn._transitionTo($n,Rt,Sn);try{this._zoneDelegate.cancelTask(this,cn)}catch(gn){throw cn._transitionTo(Di,$n),this._zoneDelegate.handleError(this,gn),gn}return this._updateTaskCount(cn,-1),cn._transitionTo(dt,$n),cn.runCount=-1,cn}}_updateTaskCount(cn,gn){const fi=cn._zoneDelegates;-1==gn&&(cn._zoneDelegates=null);for(let Si=0;Si<fi.length;Si++)fi[Si]._updateTaskCount(cn.type,gn)}}return si})();const Jt={name:"",onHasTask:(si,ci,cn,gn)=>si.hasTask(cn,gn),onScheduleTask:(si,ci,cn,gn)=>si.scheduleTask(cn,gn),onInvokeTask:(si,ci,cn,gn,fi,Si)=>si.invokeTask(cn,gn,fi,Si),onCancelTask:(si,ci,cn,gn)=>si.cancelTask(cn,gn)};class sn{get zone(){return this._zone}constructor(ci,cn,gn){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=ci,this._parentDelegate=cn,this._forkZS=gn&&(gn&&gn.onFork?gn:cn._forkZS),this._forkDlgt=gn&&(gn.onFork?cn:cn._forkDlgt),this._forkCurrZone=gn&&(gn.onFork?this._zone:cn._forkCurrZone),this._interceptZS=gn&&(gn.onIntercept?gn:cn._interceptZS),this._interceptDlgt=gn&&(gn.onIntercept?cn:cn._interceptDlgt),this._interceptCurrZone=gn&&(gn.onIntercept?this._zone:cn._interceptCurrZone),this._invokeZS=gn&&(gn.onInvoke?gn:cn._invokeZS),this._invokeDlgt=gn&&(gn.onInvoke?cn:cn._invokeDlgt),this._invokeCurrZone=gn&&(gn.onInvoke?this._zone:cn._invokeCurrZone),this._handleErrorZS=gn&&(gn.onHandleError?gn:cn._handleErrorZS),this._handleErrorDlgt=gn&&(gn.onHandleError?cn:cn._handleErrorDlgt),this._handleErrorCurrZone=gn&&(gn.onHandleError?this._zone:cn._handleErrorCurrZone),this._scheduleTaskZS=gn&&(gn.onScheduleTask?gn:cn._scheduleTaskZS),this._scheduleTaskDlgt=gn&&(gn.onScheduleTask?cn:cn._scheduleTaskDlgt),this._scheduleTaskCurrZone=gn&&(gn.onScheduleTask?this._zone:cn._scheduleTaskCurrZone),this._invokeTaskZS=gn&&(gn.onInvokeTask?gn:cn._invokeTaskZS),this._invokeTaskDlgt=gn&&(gn.onInvokeTask?cn:cn._invokeTaskDlgt),this._invokeTaskCurrZone=gn&&(gn.onInvokeTask?this._zone:cn._invokeTaskCurrZone),this._cancelTaskZS=gn&&(gn.onCancelTask?gn:cn._cancelTaskZS),this._cancelTaskDlgt=gn&&(gn.onCancelTask?cn:cn._cancelTaskDlgt),this._cancelTaskCurrZone=gn&&(gn.onCancelTask?this._zone:cn._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const fi=gn&&gn.onHasTask;(fi||cn&&cn._hasTaskZS)&&(this._hasTaskZS=fi?gn:Jt,this._hasTaskDlgt=cn,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,gn.onScheduleTask||(this._scheduleTaskZS=Jt,this._scheduleTaskDlgt=cn,this._scheduleTaskCurrZone=this._zone),gn.onInvokeTask||(this._invokeTaskZS=Jt,this._invokeTaskDlgt=cn,this._invokeTaskCurrZone=this._zone),gn.onCancelTask||(this._cancelTaskZS=Jt,this._cancelTaskDlgt=cn,this._cancelTaskCurrZone=this._zone))}fork(ci,cn){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,ci,cn):new vt(ci,cn)}intercept(ci,cn,gn){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,ci,cn,gn):cn}invoke(ci,cn,gn,fi,Si){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,ci,cn,gn,fi,Si):cn.apply(gn,fi)}handleError(ci,cn){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,ci,cn)}scheduleTask(ci,cn){let gn=cn;if(this._scheduleTaskZS)this._hasTaskZS&&gn._zoneDelegates.push(this._hasTaskDlgtOwner),gn=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,ci,cn),gn||(gn=cn);else if(cn.scheduleFn)cn.scheduleFn(cn);else{if(cn.type!=bt)throw new Error("Task is missing scheduleFn.");fn(cn)}return gn}invokeTask(ci,cn,gn,fi){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,ci,cn,gn,fi):cn.callback.apply(gn,fi)}cancelTask(ci,cn){let gn;if(this._cancelTaskZS)gn=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,ci,cn);else{if(!cn.cancelFn)throw Error("Task is not cancelable");gn=cn.cancelFn(cn)}return gn}hasTask(ci,cn){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,ci,cn)}catch(gn){this.handleError(ci,gn)}}_updateTaskCount(ci,cn){const gn=this._taskCounts,fi=gn[ci],Si=gn[ci]=fi+cn;if(Si<0)throw new Error("More tasks executed then were scheduled.");0!=fi&&0!=Si||this.hasTask(this._zone,{microTask:gn.microTask>0,macroTask:gn.macroTask>0,eventTask:gn.eventTask>0,change:ci})}}class zt{constructor(ci,cn,gn,fi,Si,ms){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=ci,this.source=cn,this.data=fi,this.scheduleFn=Si,this.cancelFn=ms,!gn)throw new Error("callback is not defined");this.callback=gn;const Ai=this;this.invoke=ci===En&&fi&&fi.useG?zt.invokeTask:function(){return zt.invokeTask.call(B,Ai,this,arguments)}}static invokeTask(ci,cn,gn){ci||(ci=this),ns++;try{return ci.runCount++,ci.zone.runTask(ci,cn,gn)}finally{1==ns&&At(),ns--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(dt,Lt)}_transitionTo(ci,cn,gn){if(this._state!==cn&&this._state!==gn)throw new Error(`${this.type} '${this.source}': can not transition to '${ci}', expecting state '${cn}'${gn?" or '"+gn+"'":""}, was '${this._state}'.`);this._state=ci,ci==dt&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Gt=C("setTimeout"),Je=C("Promise"),ke=C("then");let lt,Le=[],ze=!1;function Vt(si){if(lt||B[Je]&&(lt=B[Je].resolve(0)),lt){let ci=lt[ke];ci||(ci=lt.then),ci.call(lt,si)}else B[Gt](si,0)}function fn(si){0===ns&&0===Le.length&&Vt(At),si&&Le.push(si)}function At(){if(!ze){for(ze=!0;Le.length;){const si=Le;Le=[];for(let ci=0;ci<si.length;ci++){const cn=si[ci];try{cn.zone.runTask(cn,null,null)}catch(gn){ni.onUnhandledError(gn)}}}ni.microtaskDrainDone(),ze=!1}}const tn={name:"NO ZONE"},dt="notScheduled",Lt="scheduling",Rt="scheduled",Sn="running",$n="canceling",Di="unknown",bt="microTask",_t="macroTask",En="eventTask",Tn={},ni={symbol:C,currentZoneFrame:()=>oi,onUnhandledError:is,microtaskDrainDone:is,scheduleMicroTask:fn,showUncaughtError:()=>!vt[C("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:is,patchMethod:()=>is,bindArguments:()=>[],patchThen:()=>is,patchMacroTask:()=>is,patchEventPrototype:()=>is,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>is,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>is,wrapWithCurrentZone:()=>is,filterProperties:()=>[],attachOriginToPatched:()=>is,_redefineProperty:()=>is,patchCallbacks:()=>is,nativeScheduleMicroTask:Vt};let oi={parent:null,zone:new vt(null,null)},ai=null,ns=0;function is(){}return kt("Zone","Zone"),vt}(),we.Zone}();(function mt(we){(function Un(we){we.__load_patch("ZoneAwarePromise",(Et,kt,vt)=>{const Jt=Object.getOwnPropertyDescriptor,sn=Object.defineProperty,Gt=vt.symbol,Je=[],ke=!1!==Et[Gt("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Le=Gt("Promise"),ze=Gt("then"),lt="__creationTrace__";vt.onUnhandledError=It=>{if(vt.showUncaughtError()){const Fe=It&&It.rejection;Fe?console.error("Unhandled Promise rejection:",Fe instanceof Error?Fe.message:Fe,"; Zone:",It.zone.name,"; Task:",It.task&&It.task.source,"; Value:",Fe,Fe instanceof Error?Fe.stack:void 0):console.error(It)}},vt.microtaskDrainDone=()=>{for(;Je.length;){const It=Je.shift();try{It.zone.runGuarded(()=>{throw It.throwOriginal?It.rejection:It})}catch(Fe){fn(Fe)}}};const Vt=Gt("unhandledPromiseRejectionHandler");function fn(It){vt.onUnhandledError(It);try{const Fe=kt[Vt];"function"==typeof Fe&&Fe.call(this,It)}catch{}}function At(It){return It&&It.then}function tn(It){return It}function dt(It){return Ai.reject(It)}const Lt=Gt("state"),Rt=Gt("value"),Sn=Gt("finally"),$n=Gt("parentPromiseValue"),Di=Gt("parentPromiseState"),bt="Promise.then",_t=null,En=!0,Tn=!1,ni=0;function oi(It,Fe){return Xe=>{try{si(It,Fe,Xe)}catch(gt){si(It,!1,gt)}}}const ai=function(){let It=!1;return function(Xe){return function(){It||(It=!0,Xe.apply(null,arguments))}}},ns="Promise resolved with itself",is=Gt("currentTaskTrace");function si(It,Fe,Xe){const gt=ai();if(It===Xe)throw new TypeError(ns);if(It[Lt]===_t){let Yt=null;try{("object"==typeof Xe||"function"==typeof Xe)&&(Yt=Xe&&Xe.then)}catch(Cn){return gt(()=>{si(It,!1,Cn)})(),It}if(Fe!==Tn&&Xe instanceof Ai&&Xe.hasOwnProperty(Lt)&&Xe.hasOwnProperty(Rt)&&Xe[Lt]!==_t)cn(Xe),si(It,Xe[Lt],Xe[Rt]);else if(Fe!==Tn&&"function"==typeof Yt)try{Yt.call(Xe,gt(oi(It,Fe)),gt(oi(It,!1)))}catch(Cn){gt(()=>{si(It,!1,Cn)})()}else{It[Lt]=Fe;const Cn=It[Rt];if(It[Rt]=Xe,It[Sn]===Sn&&Fe===En&&(It[Lt]=It[Di],It[Rt]=It[$n]),Fe===Tn&&Xe instanceof Error){const On=kt.currentTask&&kt.currentTask.data&&kt.currentTask.data[lt];On&&sn(Xe,is,{configurable:!0,enumerable:!1,writable:!0,value:On})}for(let On=0;On<Cn.length;)gn(It,Cn[On++],Cn[On++],Cn[On++],Cn[On++]);if(0==Cn.length&&Fe==Tn){It[Lt]=ni;let On=Xe;try{throw new Error("Uncaught (in promise): "+function zt(It){return It&&It.toString===Object.prototype.toString?(It.constructor&&It.constructor.name||"")+": "+JSON.stringify(It):It?It.toString():Object.prototype.toString.call(It)}(Xe)+(Xe&&Xe.stack?"\n"+Xe.stack:""))}catch(Nn){On=Nn}ke&&(On.throwOriginal=!0),On.rejection=Xe,On.promise=It,On.zone=kt.current,On.task=kt.currentTask,Je.push(On),vt.scheduleMicroTask()}}}return It}const ci=Gt("rejectionHandledHandler");function cn(It){if(It[Lt]===ni){try{const Fe=kt[ci];Fe&&"function"==typeof Fe&&Fe.call(this,{rejection:It[Rt],promise:It})}catch{}It[Lt]=Tn;for(let Fe=0;Fe<Je.length;Fe++)It===Je[Fe].promise&&Je.splice(Fe,1)}}function gn(It,Fe,Xe,gt,Yt){cn(It);const Cn=It[Lt],On=Cn?"function"==typeof gt?gt:tn:"function"==typeof Yt?Yt:dt;Fe.scheduleMicroTask(bt,()=>{try{const Nn=It[Rt],Qn=!!Xe&&Sn===Xe[Sn];Qn&&(Xe[$n]=Nn,Xe[Di]=Cn);const Jn=Fe.run(On,void 0,Qn&&On!==dt&&On!==tn?[]:[Nn]);si(Xe,!0,Jn)}catch(Nn){si(Xe,!1,Nn)}},Xe)}const Si=function(){},ms=Et.AggregateError;class Ai{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(Fe){return Fe instanceof Ai?Fe:si(new this(null),En,Fe)}static reject(Fe){return si(new this(null),Tn,Fe)}static withResolvers(){const Fe={};return Fe.promise=new Ai((Xe,gt)=>{Fe.resolve=Xe,Fe.reject=gt}),Fe}static any(Fe){if(!Fe||"function"!=typeof Fe[Symbol.iterator])return Promise.reject(new ms([],"All promises were rejected"));const Xe=[];let gt=0;try{for(let On of Fe)gt++,Xe.push(Ai.resolve(On))}catch{return Promise.reject(new ms([],"All promises were rejected"))}if(0===gt)return Promise.reject(new ms([],"All promises were rejected"));let Yt=!1;const Cn=[];return new Ai((On,Nn)=>{for(let Qn=0;Qn<Xe.length;Qn++)Xe[Qn].then(Jn=>{Yt||(Yt=!0,On(Jn))},Jn=>{Cn.push(Jn),gt--,0===gt&&(Yt=!0,Nn(new ms(Cn,"All promises were rejected")))})})}static race(Fe){let Xe,gt,Yt=new this((Nn,Qn)=>{Xe=Nn,gt=Qn});function Cn(Nn){Xe(Nn)}function On(Nn){gt(Nn)}for(let Nn of Fe)At(Nn)||(Nn=this.resolve(Nn)),Nn.then(Cn,On);return Yt}static all(Fe){return Ai.allWithCallback(Fe)}static allSettled(Fe){return(this&&this.prototype instanceof Ai?this:Ai).allWithCallback(Fe,{thenCallback:gt=>({status:"fulfilled",value:gt}),errorCallback:gt=>({status:"rejected",reason:gt})})}static allWithCallback(Fe,Xe){let gt,Yt,Cn=new this((Jn,ki)=>{gt=Jn,Yt=ki}),On=2,Nn=0;const Qn=[];for(let Jn of Fe){At(Jn)||(Jn=this.resolve(Jn));const ki=Nn;try{Jn.then(Fi=>{Qn[ki]=Xe?Xe.thenCallback(Fi):Fi,On--,0===On&&gt(Qn)},Fi=>{Xe?(Qn[ki]=Xe.errorCallback(Fi),On--,0===On&&gt(Qn)):Yt(Fi)})}catch(Fi){Yt(Fi)}On++,Nn++}return On-=2,0===On&&gt(Qn),Cn}constructor(Fe){const Xe=this;if(!(Xe instanceof Ai))throw new Error("Must be an instanceof Promise.");Xe[Lt]=_t,Xe[Rt]=[];try{const gt=ai();Fe&&Fe(gt(oi(Xe,En)),gt(oi(Xe,Tn)))}catch(gt){si(Xe,!1,gt)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Ai}then(Fe,Xe){let gt=this.constructor?.[Symbol.species];(!gt||"function"!=typeof gt)&&(gt=this.constructor||Ai);const Yt=new gt(Si),Cn=kt.current;return this[Lt]==_t?this[Rt].push(Cn,Yt,Fe,Xe):gn(this,Cn,Yt,Fe,Xe),Yt}catch(Fe){return this.then(null,Fe)}finally(Fe){let Xe=this.constructor?.[Symbol.species];(!Xe||"function"!=typeof Xe)&&(Xe=Ai);const gt=new Xe(Si);gt[Sn]=Sn;const Yt=kt.current;return this[Lt]==_t?this[Rt].push(Yt,gt,Fe,Fe):gn(this,Yt,gt,Fe,Fe),gt}}Ai.resolve=Ai.resolve,Ai.reject=Ai.reject,Ai.race=Ai.race,Ai.all=Ai.all;const xi=Et[Le]=Et.Promise;Et.Promise=Ai;const Zt=Gt("thenPatched");function Ii(It){const Fe=It.prototype,Xe=Jt(Fe,"then");if(Xe&&(!1===Xe.writable||!Xe.configurable))return;const gt=Fe.then;Fe[ze]=gt,It.prototype.then=function(Yt,Cn){return new Ai((Nn,Qn)=>{gt.call(this,Nn,Qn)}).then(Yt,Cn)},It[Zt]=!0}return vt.patchThen=Ii,xi&&(Ii(xi),he(Et,"fetch",It=>function Xt(It){return function(Fe,Xe){let gt=It.apply(Fe,Xe);if(gt instanceof Ai)return gt;let Yt=gt.constructor;return Yt[Zt]||Ii(Yt),gt}}(It))),Promise[kt.__symbol__("uncaughtPromiseErrors")]=Je,Ai})})(we),function Ct(we){we.__load_patch("toString",Et=>{const kt=Function.prototype.toString,vt=h("OriginalDelegate"),Jt=h("Promise"),sn=h("Error"),zt=function(){if("function"==typeof this){const Le=this[vt];if(Le)return"function"==typeof Le?kt.call(Le):Object.prototype.toString.call(Le);if(this===Promise){const ze=Et[Jt];if(ze)return kt.call(ze)}if(this===Error){const ze=Et[sn];if(ze)return kt.call(ze)}}return kt.call(this)};zt[vt]=kt,Function.prototype.toString=zt;const Gt=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Gt.call(this)}})}(we),function wt(we){we.__load_patch("util",(Et,kt,vt)=>{const Jt=ft(Et);vt.patchOnProperties=ee,vt.patchMethod=he,vt.bindArguments=x,vt.patchMacroTask=ye;const sn=kt.__symbol__("BLACK_LISTED_EVENTS"),zt=kt.__symbol__("UNPATCHED_EVENTS");Et[zt]&&(Et[sn]=Et[zt]),Et[sn]&&(kt[sn]=kt[zt]=Et[sn]),vt.patchEventPrototype=Ke,vt.patchEventTarget=Ge,vt.isIEOrEdge=fe,vt.ObjectDefineProperty=c,vt.ObjectGetOwnPropertyDescriptor=t,vt.ObjectCreate=p,vt.ArraySlice=m,vt.patchClass=te,vt.wrapWithCurrentZone=D,vt.filterProperties=Ee,vt.attachOriginToPatched=re,vt._redefineProperty=Object.defineProperty,vt.patchCallbacks=Ot,vt.getGlobalObjects=()=>({globalSources:Ce,zoneSymbolEventNames:_e,eventNames:Jt,isBrowser:K,isMix:z,isNode:k,TRUE_STR:M,FALSE_STR:b,ZONE_SYMBOL_PREFIX:P,ADD_EVENT_LISTENER_STR:f,REMOVE_EVENT_LISTENER_STR:v})})}(we)})(ln),function hn(we){we.__load_patch("legacy",Et=>{const kt=Et[we.__symbol__("legacyPatch")];kt&&kt()}),we.__load_patch("timers",Et=>{const vt="clear";He(Et,"set",vt,"Timeout"),He(Et,"set",vt,"Interval"),He(Et,"set",vt,"Immediate")}),we.__load_patch("requestAnimationFrame",Et=>{He(Et,"request","cancel","AnimationFrame"),He(Et,"mozRequest","mozCancel","AnimationFrame"),He(Et,"webkitRequest","webkitCancel","AnimationFrame")}),we.__load_patch("blocking",(Et,kt)=>{const vt=["alert","prompt","confirm"];for(let Jt=0;Jt<vt.length;Jt++)he(Et,vt[Jt],(zt,Gt,Je)=>function(ke,Le){return kt.current.run(zt,Et,Le,Je)})}),we.__load_patch("EventTarget",(Et,kt,vt)=>{(function Tt(we,Et){Et.patchEventPrototype(we,Et)})(Et,vt),function it(we,Et){if(Zone[Et.symbol("patchEventTarget")])return;const{eventNames:kt,zoneSymbolEventNames:vt,TRUE_STR:Jt,FALSE_STR:sn,ZONE_SYMBOL_PREFIX:zt}=Et.getGlobalObjects();for(let Je=0;Je<kt.length;Je++){const ke=kt[Je],lt=zt+(ke+sn),Vt=zt+(ke+Jt);vt[ke]={},vt[ke][sn]=lt,vt[ke][Jt]=Vt}const Gt=we.EventTarget;Gt&&Gt.prototype&&Et.patchEventTarget(we,Et,[Gt&&Gt.prototype])}(Et,vt);const Jt=Et.XMLHttpRequestEventTarget;Jt&&Jt.prototype&&vt.patchEventTarget(Et,vt,[Jt.prototype])}),we.__load_patch("MutationObserver",(Et,kt,vt)=>{te("MutationObserver"),te("WebKitMutationObserver")}),we.__load_patch("IntersectionObserver",(Et,kt,vt)=>{te("IntersectionObserver")}),we.__load_patch("FileReader",(Et,kt,vt)=>{te("FileReader")}),we.__load_patch("on_property",(Et,kt,vt)=>{!function vn(we,Et){if(k&&!z||Zone[we.symbol("patchEvents")])return;const kt=Et.__Zone_ignore_on_properties;let vt=[];if(K){const Jt=window;vt=vt.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const sn=function ne(){try{const we=O.navigator.userAgent;if(-1!==we.indexOf("MSIE ")||-1!==we.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:Jt,ignoreProperties:["error"]}]:[];je(Jt,ft(Jt),kt&&kt.concat(sn),e(Jt))}vt=vt.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let Jt=0;Jt<vt.length;Jt++){const sn=Et[vt[Jt]];sn&&sn.prototype&&je(sn.prototype,ft(sn.prototype),kt)}}(vt,Et)}),we.__load_patch("customElements",(Et,kt,vt)=>{!function Bt(we,Et){const{isBrowser:kt,isMix:vt}=Et.getGlobalObjects();(kt||vt)&&we.customElements&&"customElements"in we&&Et.patchCallbacks(Et,we.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(Et,vt)}),we.__load_patch("XHR",(Et,kt)=>{!function ke(Le){const ze=Le.XMLHttpRequest;if(!ze)return;const lt=ze.prototype;let fn=lt[E],At=lt[y];if(!fn){const ni=Le.XMLHttpRequestEventTarget;if(ni){const oi=ni.prototype;fn=oi[E],At=oi[y]}}const tn="readystatechange",dt="scheduled";function Lt(ni){const oi=ni.data,ai=oi.target;ai[zt]=!1,ai[Je]=!1;const ns=ai[sn];fn||(fn=ai[E],At=ai[y]),ns&&At.call(ai,tn,ns);const is=ai[sn]=()=>{if(ai.readyState===ai.DONE)if(!oi.aborted&&ai[zt]&&ni.state===dt){const ci=ai[kt.__symbol__("loadfalse")];if(0!==ai.status&&ci&&ci.length>0){const cn=ni.invoke;ni.invoke=function(){const gn=ai[kt.__symbol__("loadfalse")];for(let fi=0;fi<gn.length;fi++)gn[fi]===ni&&gn.splice(fi,1);!oi.aborted&&ni.state===dt&&cn.call(ni)},ci.push(ni)}else ni.invoke()}else!oi.aborted&&!1===ai[zt]&&(ai[Je]=!0)};return fn.call(ai,tn,is),ai[vt]||(ai[vt]=ni),En.apply(ai,oi.args),ai[zt]=!0,ni}function Rt(){}function Sn(ni){const oi=ni.data;return oi.aborted=!0,Tn.apply(oi.target,oi.args)}const $n=he(lt,"open",()=>function(ni,oi){return ni[Jt]=0==oi[2],ni[Gt]=oi[1],$n.apply(ni,oi)}),bt=h("fetchTaskAborting"),_t=h("fetchTaskScheduling"),En=he(lt,"send",()=>function(ni,oi){if(!0===kt.current[_t]||ni[Jt])return En.apply(ni,oi);{const ai={target:ni,url:ni[Gt],isPeriodic:!1,args:oi,aborted:!1},ns=I("XMLHttpRequest.send",Rt,ai,Lt,Sn);ni&&!0===ni[Je]&&!ai.aborted&&ns.state===dt&&ns.invoke()}}),Tn=he(lt,"abort",()=>function(ni,oi){const ai=function Vt(ni){return ni[vt]}(ni);if(ai&&"string"==typeof ai.type){if(null==ai.cancelFn||ai.data&&ai.data.aborted)return;ai.zone.cancelTask(ai)}else if(!0===kt.current[bt])return Tn.apply(ni,oi)})}(Et);const vt=h("xhrTask"),Jt=h("xhrSync"),sn=h("xhrListener"),zt=h("xhrScheduled"),Gt=h("xhrURL"),Je=h("xhrErrorBeforeScheduled")}),we.__load_patch("geolocation",Et=>{Et.navigator&&Et.navigator.geolocation&&function N(we,Et){const kt=we.constructor.name;for(let vt=0;vt<Et.length;vt++){const Jt=Et[vt],sn=we[Jt];if(sn){if(!j(t(we,Jt)))continue;we[Jt]=(Gt=>{const Je=function(){return Gt.apply(this,x(arguments,kt+"."+Jt))};return re(Je,Gt),Je})(sn)}}}(Et.navigator.geolocation,["getCurrentPosition","watchPosition"])}),we.__load_patch("PromiseRejectionEvent",(Et,kt)=>{function vt(Jt){return function(sn){at(Et,Jt).forEach(Gt=>{const Je=Et.PromiseRejectionEvent;if(Je){const ke=new Je(Jt,{promise:sn.promise,reason:sn.rejection});Gt.invoke(ke)}})}}Et.PromiseRejectionEvent&&(kt[h("unhandledPromiseRejectionHandler")]=vt("unhandledrejection"),kt[h("rejectionHandledHandler")]=vt("rejectionhandled"))}),we.__load_patch("queueMicrotask",(Et,kt,vt)=>{!function Te(we,Et){Et.patchMethod(we,"queueMicrotask",kt=>function(vt,Jt){Zone.current.scheduleMicroTask("queueMicrotask",Jt[0])})}(Et,vt)})}(ln)},48832:(B,C,n)=>{var i={"./custom/app/admin/admin-sidebar/admin-sidebar.component":[65235,5235]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=48832,B.exports=t},32012:(B,C,n)=>{var i={"./custom/app/breadcrumbs/breadcrumbs.component":[48519,900]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=32012,B.exports=t},43562:(B,C,n)=>{var i={"./custom/app/footer/footer.component":[79407,9407]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=43562,B.exports=t},30130:(B,C,n)=>{var i={"./custom/app/forbidden/forbidden.component":[203,203]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=30130,B.exports=t},20991:(B,C,n)=>{var i={"./custom/app/header-nav-wrapper/header-navbar-wrapper.component":[9600,9600],"./dspace/app/header-nav-wrapper/header-navbar-wrapper.component":[66515]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=20991,B.exports=t},16722:(B,C,n)=>{var i={"./custom/app/header/header.component":[16095,6095],"./dspace/app/header/header.component":[39618]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=16722,B.exports=t},52636:(B,C,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component":[8543,8543]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=52636,B.exports=t},61196:(B,C,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component":[95499,5499]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=61196,B.exports=t},5452:(B,C,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer.component":[1077,1077]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=5452,B.exports=t},78373:(B,C,n)=>{var i={"./custom/app/item-page/simple/field-components/file-section/file-section.component":[64256,4256]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=78373,B.exports=t},17026:(B,C,n)=>{var i={"./custom/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component":[33971,3971]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=17026,B.exports=t},89979:(B,C,n)=>{var i={"./custom/app/item-page/simple/metadata-representation-list/metadata-representation-list.component":[12418,2418]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=89979,B.exports=t},88289:(B,C,n)=>{var i={"./custom/app/navbar/expandable-navbar-section/expandable-navbar-section.component":[15650,5650]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=88289,B.exports=t},19318:(B,C,n)=>{var i={"./custom/app/navbar/navbar.component":[69189,9189],"./dspace/app/navbar/navbar.component":[87136]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=19318,B.exports=t},18400:B=>{function C(n){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i})}C.keys=()=>[],C.resolve=C,C.id=18400,B.exports=C},46544:B=>{function C(n){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i})}C.keys=()=>[],C.resolve=C,C.id=46544,B.exports=C},94826:(B,C,n)=>{var i={"./custom/app/pagenotfound/pagenotfound.component":[56509,6509]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=94826,B.exports=t},94634:(B,C,n)=>{var i={"./custom/app/root/root.component":[51557,1557]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=94634,B.exports=t},28754:(B,C,n)=>{var i={"./custom/app/search-navbar/search-navbar.component":[68323,8323]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=28754,B.exports=t},21133:(B,C,n)=>{var i={"./custom/app/search-page/configuration-search-page.component":[86196,6196]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=21133,B.exports=t},51808:(B,C,n)=>{var i={"./custom/app/shared/auth-nav-menu/auth-nav-menu.component":[58885,8885]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=51808,B.exports=t},13361:(B,C,n)=>{var i={"./custom/app/shared/auth-nav-menu/user-menu/user-menu.component":[39168,9168]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=13361,B.exports=t},60939:(B,C,n)=>{var i={"./custom/app/shared/browse-by/browse-by.component.ts":[43745,3745]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=60939,B.exports=t},80882:(B,C,n)=>{var i={"./custom/app/shared/collection-dropdown/collection-dropdown.component":[86525,6525]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=80882,B.exports=t},12706:(B,C,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component":[44111,4111]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=12706,B.exports=t},27122:(B,C,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component":[53659,3659]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=27122,B.exports=t},25074:(B,C,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component":[81067,1067]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=25074,B.exports=t},61130:(B,C,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component":[29739,9739]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=61130,B.exports=t},11452:(B,C,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component":[55767,5767]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=11452,B.exports=t},6122:(B,C,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component":[55861,5861]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=6122,B.exports=t},72834:(B,C,n)=>{var i={"./custom/app/shared/file-download-link/file-download-link.component":[63871,3871]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=72834,B.exports=t},90331:(B,C,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component":[47724,7724]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=90331,B.exports=t},14651:(B,C,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component":[93264,3264]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=14651,B.exports=t},37919:(B,C,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component":[81438,1438]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=37919,B.exports=t},97394:(B,C,n)=>{var i={"./custom/app/shared/lang-switch/lang-switch.component":[4317,4317]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=97394,B.exports=t},54512:(B,C,n)=>{var i={"./custom/app/shared/loading/loading.component":[97281,2076,7281]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=54512,B.exports=t},43800:(B,C,n)=>{var i={"./custom/app/shared/log-in/log-in.component":[16835,6835]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=43800,B.exports=t},50822:(B,C,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component":[85553,5553]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=50822,B.exports=t},70295:(B,C,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/badges.component":[39214,9214]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=70295,B.exports=t},87596:(B,C,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component":[93131,3131]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=87596,B.exports=t},52504:(B,C,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/status-badge/status-badge.component":[38959,8959]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=52504,B.exports=t},45796:(B,C,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/type-badge/type-badge.component":[94323,4323]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=45796,B.exports=t},4026:(B,C,n)=>{var i={"./custom/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component":[23753,3753]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=4026,B.exports=t},71931:(B,C,n)=>{var i={"./custom/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component":[9788,9788]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=71931,B.exports=t},8894:(B,C,n)=>{var i={"./custom/app/shared/object-list/object-list.component":[28505,8505]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=8894,B.exports=t},79086:(B,C,n)=>{var i={"./custom/app/shared/results-back-button/results-back-button.component":[34681,2076,4681]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=79086,B.exports=t},76142:(B,C,n)=>{var i={"./custom/app/shared/search-form/search-form.component":[91421,1421]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=76142,B.exports=t},64565:(B,C,n)=>{var i={"./custom/app/shared/search/search-filters/search-filters.component":[82816,2816]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=64565,B.exports=t},18527:(B,C,n)=>{var i={"./custom/app/shared/search/search-results/search-results.component":[77290,7290]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=18527,B.exports=t},60911:(B,C,n)=>{var i={"./custom/app/shared/search/search-settings/search-settings.component":[3758,3758]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=60911,B.exports=t},98587:(B,C,n)=>{var i={"./custom/app/shared/search/search-sidebar/search-sidebar.component":[46374,6374]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=98587,B.exports=t},13390:(B,C,n)=>{var i={"./custom/app/shared/search/search.component":[53507,3507]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=13390,B.exports=t},572:(B,C,n)=>{var i={"./custom/app/thumbnail/thumbnail.component":[55371,5371]};function t(c){if(!n.o(i,c))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[c],p=e[0];return n.e(e[1]).then(()=>n(p))}t.keys=()=>Object.keys(i),t.id=572,B.exports=t},18820:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function n(i,t,c,e,p,m,f){var v=new Date(0);return v.setUTCFullYear(i,t,c),v.setUTCHours(e,p,m,f),v},B.exports=C.default},59573:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function n(e,p,m){var f=function c(e,p,m){if(m&&!m.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(m?[m.code,"en-US"]:void 0,{timeZone:p,timeZoneName:e})}(e,m.timeZone,m.locale);return f.formatToParts?function i(e,p){for(var m=e.formatToParts(p),f=m.length-1;f>=0;--f)if("timeZoneName"===m[f].type)return m[f].value}(f,p):function t(e,p){var m=e.format(p).replace(/\u200E/g,""),f=/ [\w-+ ]+$/.exec(m);return f?f[0].substr(1):""}(f,p)},B.exports=C.default},34898:(B,C,n)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function f(D,I,h){var S,O,L;if(!D||(S=m.timezoneZ.exec(D)))return 0;if(S=m.timezoneHH.exec(D))return M(L=parseInt(S[1],10))?-L*e:NaN;if(S=m.timezoneHHMM.exec(D)){L=parseInt(S[1],10);var T=parseInt(S[2],10);return M(L,T)?(O=Math.abs(L)*e+T*p,L>0?-O:O):NaN}if(function P(D){if(b[D])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:D}),b[D]=!0,!0}catch{return!1}}(D)){I=new Date(I||Date.now());var x=h?I:function v(D){return(0,t.default)(D.getFullYear(),D.getMonth(),D.getDate(),D.getHours(),D.getMinutes(),D.getSeconds(),D.getMilliseconds())}(I),N=E(x,D),j=h?N:function y(D,I,h){var O=D.getTime()-I,L=E(new Date(O),h);if(I===L)return I;O-=L-I;var T=E(new Date(O),h);return L===T?L:Math.max(L,T)}(I,N,D);return-j}return NaN};var i=c(n(21771)),t=c(n(18820));function c(D){return D&&D.__esModule?D:{default:D}}var e=36e5,p=6e4,m={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function E(D,I){var h=(0,i.default)(D,I),S=(0,t.default)(h[0],h[1]-1,h[2],h[3]%24,h[4],h[5],0).getTime(),O=D.getTime(),L=O%1e3;return S-(O-(L>=0?L:1e3+L))}function M(D,I){return-23<=D&&D<=23&&(null==I||0<=I&&I<=59)}var b={};B.exports=C.default},85812:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,C.default=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,B.exports=C.default},21771:(B,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function n(m,f){var v=function p(m){if(!e[m]){var f=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));e[m]="06/25/2014, 00:00:00"===f||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===f?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:m,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:m,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return e[m]}(f);return v.formatToParts?function t(m,f){try{for(var v=m.formatToParts(f),E=[],y=0;y<v.length;y++){var M=i[v[y].type];M>=0&&(E[M]=parseInt(v[y].value,10))}return E}catch(b){if(b instanceof RangeError)return[NaN];throw b}}(v,m):function c(m,f){var v=m.format(f).replace(/\u200E/g,""),E=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(v);return[E[3],E[1],E[2],E[4],E[5],E[6]]}(v,m)};var i={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};B.exports=C.default},62628:(B,C,n)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function p(m,f,v,E){var y=(0,i.default)(E);return y.timeZone=f,(0,t.default)((0,c.default)(m,f),v,y)};var i=e(n(88200)),t=e(n(38308)),c=e(n(2589));function e(m){return m&&m.__esModule?m:{default:m}}B.exports=C.default},91490:(B,C,n)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var i=c(n(59573)),t=c(n(34898));function c(b){return b&&b.__esModule?b:{default:b}}function m(b,P){var D=b?(0,t.default)(b,P,!0)/6e4:P.getTimezoneOffset();if(Number.isNaN(D))throw new RangeError("Invalid time zone specified: "+b);return D}function f(b,P){for(var D=b<0?"-":"",I=Math.abs(b).toString();I.length<P;)I="0"+I;return D+I}function v(b,P){var D=P||"",I=b>0?"-":"+",h=Math.abs(b);return I+f(Math.floor(h/60),2)+D+f(Math.floor(h%60),2)}function E(b,P){return b%60==0?(b>0?"-":"+")+f(Math.abs(b)/60,2):v(b,P)}C.default={X:function(b,P,D,I){var h=m(I.timeZone,I._originalDate||b);if(0===h)return"Z";switch(P){case"X":return E(h);case"XXXX":case"XX":return v(h);default:return v(h,":")}},x:function(b,P,D,I){var h=m(I.timeZone,I._originalDate||b);switch(P){case"x":return E(h);case"xxxx":case"xx":return v(h);default:return v(h,":")}},O:function(b,P,D,I){var h=m(I.timeZone,I._originalDate||b);switch(P){case"O":case"OO":case"OOO":return"GMT"+function y(b,P){var D=b>0?"-":"+",I=Math.abs(b),h=Math.floor(I/60),S=I%60;if(0===S)return D+String(h);var O=P||"";return D+String(h)+O+f(S,2)}(h,":");default:return"GMT"+v(h,":")}},z:function(b,P,D,I){var h=I._originalDate||b;switch(P){case"z":case"zz":case"zzz":return(0,i.default)("short",h,I);default:return(0,i.default)("long",h,I)}}},B.exports=C.default},38308:(B,C,n)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function m(f,v,E){var y=String(v),M=E||{},b=y.match(p);if(b){var P=(0,c.default)(f,M);y=b.reduce(function(D,I){if("'"===I[0])return D;var h=D.indexOf(I),S="'"===D[h-1],O=D.replace(I,"'"+t.default[I[0]](P,I,null,M)+"'");return S?O.substring(0,h-1)+O.substring(h+1):O},y)}return(0,i.default)(f,y,M)};var i=e(n(24150)),t=e(n(91490)),c=e(n(64358));function e(f){return f&&f.__esModule?f:{default:f}}var p=/([xXOz]+)|''|'(''|[^'])+('|$)/g;B.exports=C.default},48493:(B,C,n)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function c(e,p){return-(0,i.default)(e,p)};var i=function t(e){return e&&e.__esModule?e:{default:e}}(n(34898));B.exports=C.default},56106:(B,C,n)=>{"use strict";B.exports={format:n(38308),formatInTimeZone:n(62628),getTimezoneOffset:n(48493),toDate:n(64358),utcToZonedTime:n(2589),zonedTimeToUtc:n(56743)}},64358:(B,C,n)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function y(j,$){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===j)return new Date(NaN);var k=$||{},K=null==k.additionalDigits?v:(0,i.default)(k.additionalDigits);if(2!==K&&1!==K&&0!==K)throw new RangeError("additionalDigits must be 0, 1 or 2");if(j instanceof Date||"object"==typeof j&&"[object Date]"===Object.prototype.toString.call(j))return new Date(j.getTime());if("number"==typeof j||"[object Number]"===Object.prototype.toString.call(j))return new Date(j);if("string"!=typeof j&&"[object String]"!==Object.prototype.toString.call(j))return new Date(NaN);var z=function M(j){var K,$={},k=E.dateTimePattern.exec(j);if(k?($.date=k[1],K=k[3]):(k=E.datePattern.exec(j))?($.date=k[1],K=k[2]):($.date=null,K=j),K){var z=E.timeZone.exec(K);z?($.time=K.replace(z[1],""),$.timeZone=z[1].trim()):$.time=K}return $}(j),V=function b(j,$){var z,k=E.YYY[$],K=E.YYYYY[$];if(z=E.YYYY.exec(j)||K.exec(j)){var V=z[1];return{year:parseInt(V,10),restDateString:j.slice(V.length)}}if(z=E.YY.exec(j)||k.exec(j)){var G=z[1];return{year:100*parseInt(G,10),restDateString:j.slice(G.length)}}return{year:null}}(z.date,K),Q=function P(j,$){if(null===$)return null;var k,K,z,V;if(0===j.length)return(K=new Date(0)).setUTCFullYear($),K;if(k=E.MM.exec(j))return K=new Date(0),L($,z=parseInt(k[1],10)-1)?(K.setUTCFullYear($,z),K):new Date(NaN);if(k=E.DDD.exec(j)){K=new Date(0);var G=parseInt(k[1],10);return function T(j,$){if($<1)return!1;var k=O(j);return!(k&&$>366||!k&&$>365)}($,G)?(K.setUTCFullYear($,0,G),K):new Date(NaN)}if(k=E.MMDD.exec(j)){K=new Date(0),z=parseInt(k[1],10)-1;var X=parseInt(k[2],10);return L($,z,X)?(K.setUTCFullYear($,z,X),K):new Date(NaN)}if(k=E.Www.exec(j))return x(0,V=parseInt(k[1],10)-1)?I($,V):new Date(NaN);if(k=E.WwwD.exec(j)){V=parseInt(k[1],10)-1;var Q=parseInt(k[2],10)-1;return x(0,V,Q)?I($,V,Q):new Date(NaN)}return null}(V.restDateString,V.year);if(isNaN(Q))return new Date(NaN);if(Q){var te,ee=Q.getTime(),ie=0;if(z.time&&(ie=function D(j){var $,k,K;if($=E.HH.exec(j))return N(k=parseFloat($[1].replace(",",".")))?k%24*m:NaN;if($=E.HHMM.exec(j))return N(k=parseInt($[1],10),K=parseFloat($[2].replace(",",".")))?k%24*m+K*f:NaN;if($=E.HHMMSS.exec(j)){k=parseInt($[1],10),K=parseInt($[2],10);var z=parseFloat($[3].replace(",","."));return N(k,K,z)?k%24*m+K*f+1e3*z:NaN}return null}(z.time),isNaN(ie)))return new Date(NaN);if(z.timeZone||k.timeZone){if(te=(0,c.default)(z.timeZone||k.timeZone,new Date(ee+ie)),isNaN(te))return new Date(NaN)}else te=(0,t.default)(new Date(ee+ie)),te=(0,t.default)(new Date(ee+ie+te));return new Date(ee+ie+te)}return new Date(NaN)};var i=p(n(25167)),t=p(n(20059)),c=p(n(34898)),e=p(n(85812));function p(j){return j&&j.__esModule?j:{default:j}}var m=36e5,f=6e4,v=2,E={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:e.default};function I(j,$,k){$=$||0,k=k||0;var K=new Date(0);K.setUTCFullYear(j,0,4);var V=7*$+k+1-(K.getUTCDay()||7);return K.setUTCDate(K.getUTCDate()+V),K}var h=[31,28,31,30,31,30,31,31,30,31,30,31],S=[31,29,31,30,31,30,31,31,30,31,30,31];function O(j){return j%400==0||j%4==0&&j%100!=0}function L(j,$,k){if($<0||$>11)return!1;if(null!=k){if(k<1)return!1;var K=O(j);if(K&&k>S[$]||!K&&k>h[$])return!1}return!0}function x(j,$,k){return!($<0||$>52||null!=k&&(k<0||k>6))}function N(j,$,k){return!(null!=j&&(j<0||j>=25)||null!=$&&($<0||$>=60)||null!=k&&(k<0||k>=60))}B.exports=C.default},2589:(B,C,n)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function e(p,m,f){var v=(0,t.default)(p,f),E=(0,i.default)(m,v,!0),y=new Date(v.getTime()-E),M=new Date(0);return M.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),M.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),M};var i=c(n(34898)),t=c(n(64358));function c(p){return p&&p.__esModule?p:{default:p}}B.exports=C.default},56743:(B,C,n)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function f(v,E,y){if("string"==typeof v&&!v.match(c.default)){var M=(0,i.default)(y);return M.timeZone=E,(0,t.default)(v,M)}var b=(0,t.default)(v,y),P=(0,p.default)(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()).getTime(),D=(0,e.default)(E,new Date(P));return new Date(P+D)};var i=m(n(88200)),t=m(n(64358)),c=m(n(85812)),e=m(n(34898)),p=m(n(18820));function m(v){return v&&v.__esModule?v:{default:v}}B.exports=C.default},52165:()=>{var B,C;C=B||(B={}),function(){var i="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function m(){return function e(){try{return Function("return this;")()}catch{}}()||function p(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),t=c(C);function c(f,v){return function(E,y){Object.defineProperty(f,E,{configurable:!0,writable:!0,value:y}),v&&v(E,y)}}typeof i.Reflect<"u"&&(t=c(i.Reflect,t)),function(n,i){var t=Object.prototype.hasOwnProperty,c="function"==typeof Symbol,e=c&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",p=c&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",m="function"==typeof Object.create,f={__proto__:[]}instanceof Array,v=!m&&!f,E={create:m?function(){return Un(Object.create(null))}:f?function(){return Un({__proto__:null})}:function(){return Un({})},has:v?function(Ct,Ot){return t.call(Ct,Ot)}:function(Ct,Ot){return Ot in Ct},get:v?function(Ct,Ot){return t.call(Ct,Ot)?Ct[Ot]:void 0}:function(Ct,Ot){return Ct[Ot]}},y=Object.getPrototypeOf(Function),M="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function ft(){var Ct={},Ot=[],wt=function(){function kt(vt,Jt,sn){this._index=0,this._keys=vt,this._values=Jt,this._selector=sn}return kt.prototype["@@iterator"]=function(){return this},kt.prototype[p]=function(){return this},kt.prototype.next=function(){var vt=this._index;if(vt>=0&&vt<this._keys.length){var Jt=this._selector(this._keys[vt],this._values[vt]);return vt+1>=this._keys.length?(this._index=-1,this._keys=Ot,this._values=Ot):this._index++,{value:Jt,done:!1}}return{value:void 0,done:!0}},kt.prototype.throw=function(vt){throw this._index>=0&&(this._index=-1,this._keys=Ot,this._values=Ot),vt},kt.prototype.return=function(vt){return this._index>=0&&(this._index=-1,this._keys=Ot,this._values=Ot),{value:vt,done:!0}},kt}();return function(){function kt(){this._keys=[],this._values=[],this._cacheKey=Ct,this._cacheIndex=-2}return Object.defineProperty(kt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),kt.prototype.has=function(vt){return this._find(vt,!1)>=0},kt.prototype.get=function(vt){var Jt=this._find(vt,!1);return Jt>=0?this._values[Jt]:void 0},kt.prototype.set=function(vt,Jt){var sn=this._find(vt,!0);return this._values[sn]=Jt,this},kt.prototype.delete=function(vt){var Jt=this._find(vt,!1);if(Jt>=0){for(var sn=this._keys.length,zt=Jt+1;zt<sn;zt++)this._keys[zt-1]=this._keys[zt],this._values[zt-1]=this._values[zt];return this._keys.length--,this._values.length--,nt(vt,this._cacheKey)&&(this._cacheKey=Ct,this._cacheIndex=-2),!0}return!1},kt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Ct,this._cacheIndex=-2},kt.prototype.keys=function(){return new wt(this._keys,this._values,ln)},kt.prototype.values=function(){return new wt(this._keys,this._values,we)},kt.prototype.entries=function(){return new wt(this._keys,this._values,Et)},kt.prototype["@@iterator"]=function(){return this.entries()},kt.prototype[p]=function(){return this.entries()},kt.prototype._find=function(vt,Jt){if(!nt(this._cacheKey,vt)){this._cacheIndex=-1;for(var sn=0;sn<this._keys.length;sn++)if(nt(this._keys[sn],vt)){this._cacheIndex=sn;break}}return this._cacheIndex<0&&Jt&&(this._cacheIndex=this._keys.length,this._keys.push(vt),this._values.push(void 0)),this._cacheIndex},kt}();function ln(kt,vt){return kt}function we(kt,vt){return vt}function Et(kt,vt){return[kt,vt]}}(),b="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function vn(){return function(){function Ot(){this._map=new M}return Object.defineProperty(Ot.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Ot.prototype.has=function(wt){return this._map.has(wt)},Ot.prototype.add=function(wt){return this._map.set(wt,wt),this},Ot.prototype.delete=function(wt){return this._map.delete(wt)},Ot.prototype.clear=function(){this._map.clear()},Ot.prototype.keys=function(){return this._map.keys()},Ot.prototype.values=function(){return this._map.keys()},Ot.prototype.entries=function(){return this._map.entries()},Ot.prototype["@@iterator"]=function(){return this.keys()},Ot.prototype[p]=function(){return this.keys()},Ot}()}(),P="function"==typeof WeakMap?WeakMap:function hn(){var Ct=16,Ot=E.create(),wt=mt();return function(){function vt(){this._key=mt()}return vt.prototype.has=function(Jt){var sn=ln(Jt,!1);return void 0!==sn&&E.has(sn,this._key)},vt.prototype.get=function(Jt){var sn=ln(Jt,!1);return void 0!==sn?E.get(sn,this._key):void 0},vt.prototype.set=function(Jt,sn){return ln(Jt,!0)[this._key]=sn,this},vt.prototype.delete=function(Jt){var sn=ln(Jt,!1);return void 0!==sn&&delete sn[this._key]},vt.prototype.clear=function(){this._key=mt()},vt}();function mt(){var vt;do{vt="@@WeakMap@@"+kt()}while(E.has(Ot,vt));return Ot[vt]=!0,vt}function ln(vt,Jt){if(!t.call(vt,wt)){if(!Jt)return;Object.defineProperty(vt,wt,{value:E.create()})}return vt[wt]}function we(vt,Jt){for(var sn=0;sn<Jt;++sn)vt[sn]=255*Math.random()|0;return vt}function kt(){var vt=function Et(vt){if("function"==typeof Uint8Array){var Jt=new Uint8Array(vt);return typeof crypto<"u"?crypto.getRandomValues(Jt):typeof msCrypto<"u"?msCrypto.getRandomValues(Jt):we(Jt,vt),Jt}return we(new Array(vt),vt)}(Ct);vt[6]=79&vt[6]|64,vt[8]=191&vt[8]|128;for(var Jt="",sn=0;sn<Ct;++sn){var zt=vt[sn];(4===sn||6===sn||8===sn)&&(Jt+="-"),zt<16&&(Jt+="0"),Jt+=zt.toString(16).toLowerCase()}return Jt}}(),D=c?Symbol.for("@reflect-metadata:registry"):void 0,I=function it(){var Ct;return!re(D)&&ne(i.Reflect)&&Object.isExtensible(i.Reflect)&&(Ct=i.Reflect[D]),re(Ct)&&(Ct=function Bt(){var Ct;!re(D)&&typeof i.Reflect<"u"&&!(D in i.Reflect)&&"function"==typeof i.Reflect.defineMetadata&&(Ct=function Ee(Ct){var Ot=Ct.defineMetadata,wt=Ct.hasOwnMetadata,mt=Ct.getOwnMetadata,ln=Ct.getOwnMetadataKeys,we=Ct.deleteMetadata,Et=new P;return{isProviderFor:function(vt,Jt){var sn=Et.get(vt);return!(re(sn)||!sn.has(Jt))||!!ln(vt,Jt).length&&(re(sn)&&(sn=new b,Et.set(vt,sn)),sn.add(Jt),!0)},OrdinaryDefineOwnMetadata:Ot,OrdinaryHasOwnMetadata:wt,OrdinaryGetOwnMetadata:mt,OrdinaryOwnMetadataKeys:ln,OrdinaryDeleteMetadata:we}}(i.Reflect));var Ot,wt,mt,ln=new P,we={registerProvider:Et,getProvider:vt,setProvider:sn};return we;function Et(zt){if(!Object.isExtensible(we))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case Ct===zt:break;case re(Ot):Ot=zt;break;case Ot===zt:break;case re(wt):wt=zt;break;case wt===zt:break;default:void 0===mt&&(mt=new b),mt.add(zt)}}function kt(zt,Gt){if(!re(Ot)){if(Ot.isProviderFor(zt,Gt))return Ot;if(!re(wt)){if(wt.isProviderFor(zt,Gt))return Ot;if(!re(mt))for(var Je=at(mt);;){var ke=Te(Je);if(!ke)return;var Le=Ke(ke);if(Le.isProviderFor(zt,Gt))return pt(Je),Le}}}if(!re(Ct)&&Ct.isProviderFor(zt,Gt))return Ct}function vt(zt,Gt){var ke,Je=ln.get(zt);return re(Je)||(ke=Je.get(Gt)),re(ke)&&(re(ke=kt(zt,Gt))||(re(Je)&&(Je=new M,ln.set(zt,Je)),Je.set(Gt,ke))),ke}function Jt(zt){if(re(zt))throw new TypeError;return Ot===zt||wt===zt||!re(mt)&&mt.has(zt)}function sn(zt,Gt,Je){if(!Jt(Je))throw new Error("Metadata provider not registered.");var ke=vt(zt,Gt);if(ke!==Je){if(!re(ke))return!1;var Le=ln.get(zt);re(Le)&&(Le=new M,ln.set(zt,Le)),Le.set(Gt,Je)}return!0}}()),!re(D)&&ne(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,D,{enumerable:!1,configurable:!1,writable:!1,value:Ct}),Ct}(),h=function Tt(Ct){var Ot=new P,wt={isProviderFor:function(Jt,sn){var zt=Ot.get(Jt);return!re(zt)&&zt.has(sn)},OrdinaryDefineOwnMetadata:function Et(Jt,sn,zt,Gt){mt(zt,Gt,!0).set(Jt,sn)},OrdinaryHasOwnMetadata:function ln(Jt,sn,zt){var Gt=mt(sn,zt,!1);return!re(Gt)&&oe(Gt.has(Jt))},OrdinaryGetOwnMetadata:function we(Jt,sn,zt){var Gt=mt(sn,zt,!1);if(!re(Gt))return Gt.get(Jt)},OrdinaryOwnMetadataKeys:function kt(Jt,sn){var zt=[],Gt=mt(Jt,sn,!1);if(re(Gt))return zt;for(var ke=at(Gt.keys()),Le=0;;){var ze=Te(ke);if(!ze)return zt.length=Le,zt;var lt=Ke(ze);try{zt[Le]=lt}catch(Vt){try{pt(ke)}finally{throw Vt}}Le++}},OrdinaryDeleteMetadata:function vt(Jt,sn,zt){var Gt=mt(sn,zt,!1);if(re(Gt)||!Gt.delete(Jt))return!1;if(0===Gt.size){var Je=Ot.get(sn);re(Je)||(Je.delete(zt),0===Je.size&&Ot.delete(Je))}return!0}};return I.registerProvider(wt),wt;function mt(Jt,sn,zt){var Gt=Ot.get(Jt),Je=!1;if(re(Gt)){if(!zt)return;Gt=new M,Ot.set(Jt,Gt),Je=!0}var ke=Gt.get(sn);if(re(ke)){if(!zt)return;if(ke=new M,Gt.set(sn,ke),!Ct.setProvider(Jt,sn,wt))throw Gt.delete(sn),Je&&Ot.delete(Jt),new Error("Wrong provider for target.")}return ke}}(I);function G(Ct,Ot,wt){if(X(Ct,Ot,wt))return!0;var ln=He(Ot);return!ce(ln)&&G(Ct,ln,wt)}function X(Ct,Ot,wt){var mt=je(Ot,wt,!1);return!re(mt)&&oe(mt.OrdinaryHasOwnMetadata(Ct,Ot,wt))}function Q(Ct,Ot,wt){if(X(Ct,Ot,wt))return ee(Ct,Ot,wt);var ln=He(Ot);return ce(ln)?void 0:Q(Ct,ln,wt)}function ee(Ct,Ot,wt){var mt=je(Ot,wt,!1);if(!re(mt))return mt.OrdinaryGetOwnMetadata(Ct,Ot,wt)}function ie(Ct,Ot,wt,mt){je(wt,mt,!0).OrdinaryDefineOwnMetadata(Ct,Ot,wt,mt)}function te(Ct,Ot){var wt=he(Ct,Ot),mt=He(Ct);if(null===mt)return wt;var ln=te(mt,Ot);if(ln.length<=0)return wt;if(wt.length<=0)return ln;for(var we=new b,Et=[],kt=0,vt=wt;kt<vt.length;kt++)we.has(Jt=vt[kt])||(we.add(Jt),Et.push(Jt));for(var zt=0,Gt=ln;zt<Gt.length;zt++){var Jt;we.has(Jt=Gt[zt])||(we.add(Jt),Et.push(Jt))}return Et}function he(Ct,Ot){var wt=je(Ct,Ot,!1);return wt?wt.OrdinaryOwnMetadataKeys(Ct,Ot):[]}function ye(Ct){if(null===Ct)return 1;switch(typeof Ct){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===Ct?1:6;default:return 6}}function re(Ct){return void 0===Ct}function ce(Ct){return null===Ct}function ne(Ct){return"object"==typeof Ct?null!==Ct:"function"==typeof Ct}function fe(Ct,Ot){switch(ye(Ct)){case 0:case 1:case 2:case 3:case 4:case 5:return Ct}var wt=3===Ot?"string":5===Ot?"number":"default",mt=Ge(Ct,e);if(void 0!==mt){var ln=mt.call(Ct,wt);if(ne(ln))throw new TypeError;return ln}return function ae(Ct,Ot){if("string"===Ot){var wt=Ct.toString;if(Ce(wt)&&!ne(mt=wt.call(Ct)))return mt;if(Ce(ln=Ct.valueOf)&&!ne(mt=ln.call(Ct)))return mt}else{var ln;if(Ce(ln=Ct.valueOf)&&!ne(mt=ln.call(Ct)))return mt;var mt,we=Ct.toString;if(Ce(we)&&!ne(mt=we.call(Ct)))return mt}throw new TypeError}(Ct,"default"===wt?"number":wt)}function oe(Ct){return!!Ct}function ve(Ct){var Ot=fe(Ct,3);return function Z(Ct){return"symbol"==typeof Ct}(Ot)?Ot:function J(Ct){return""+Ct}(Ot)}function _e(Ct){return Array.isArray?Array.isArray(Ct):Ct instanceof Object?Ct instanceof Array:"[object Array]"===Object.prototype.toString.call(Ct)}function Ce(Ct){return"function"==typeof Ct}function qe(Ct){return"function"==typeof Ct}function nt(Ct,Ot){return Ct===Ot||Ct!=Ct&&Ot!=Ot}function Ge(Ct,Ot){var wt=Ct[Ot];if(null!=wt){if(!Ce(wt))throw new TypeError;return wt}}function at(Ct){var Ot=Ge(Ct,p);if(!Ce(Ot))throw new TypeError;var wt=Ot.call(Ct);if(!ne(wt))throw new TypeError;return wt}function Ke(Ct){return Ct.value}function Te(Ct){var Ot=Ct.next();return!Ot.done&&Ot}function pt(Ct){var Ot=Ct.return;Ot&&Ot.call(Ct)}function He(Ct){var Ot=Object.getPrototypeOf(Ct);if("function"!=typeof Ct||Ct===y||Ot!==y)return Ot;var wt=Ct.prototype,mt=wt&&Object.getPrototypeOf(wt);if(null==mt||mt===Object.prototype)return Ot;var ln=mt.constructor;return"function"!=typeof ln||ln===Ct?Ot:ln}function je(Ct,Ot,wt){var mt=I.getProvider(Ct,Ot);if(!re(mt))return mt;if(wt){if(I.setProvider(Ct,Ot,h))return h;throw new Error("Illegal state.")}}function Un(Ct){return Ct.__=void 0,delete Ct.__,Ct}n("decorate",function S(Ct,Ot,wt,mt){if(re(wt)){if(!_e(Ct))throw new TypeError;if(!qe(Ot))throw new TypeError;return function z(Ct,Ot){for(var wt=Ct.length-1;wt>=0;--wt){var ln=(0,Ct[wt])(Ot);if(!re(ln)&&!ce(ln)){if(!qe(ln))throw new TypeError;Ot=ln}}return Ot}(Ct,Ot)}if(!_e(Ct))throw new TypeError;if(!ne(Ot))throw new TypeError;if(!ne(mt)&&!re(mt)&&!ce(mt))throw new TypeError;return ce(mt)&&(mt=void 0),function V(Ct,Ot,wt,mt){for(var ln=Ct.length-1;ln>=0;--ln){var Et=(0,Ct[ln])(Ot,wt,mt);if(!re(Et)&&!ce(Et)){if(!ne(Et))throw new TypeError;mt=Et}}return mt}(Ct,Ot,wt=ve(wt),mt)}),n("metadata",function O(Ct,Ot){return function wt(mt,ln){if(!ne(mt))throw new TypeError;if(!re(ln)&&!function Re(Ct){switch(ye(Ct)){case 3:case 4:return!0;default:return!1}}(ln))throw new TypeError;ie(Ct,Ot,mt,ln)}}),n("defineMetadata",function L(Ct,Ot,wt,mt){if(!ne(wt))throw new TypeError;return re(mt)||(mt=ve(mt)),ie(Ct,Ot,wt,mt)}),n("hasMetadata",function T(Ct,Ot,wt){if(!ne(Ot))throw new TypeError;return re(wt)||(wt=ve(wt)),G(Ct,Ot,wt)}),n("hasOwnMetadata",function x(Ct,Ot,wt){if(!ne(Ot))throw new TypeError;return re(wt)||(wt=ve(wt)),X(Ct,Ot,wt)}),n("getMetadata",function N(Ct,Ot,wt){if(!ne(Ot))throw new TypeError;return re(wt)||(wt=ve(wt)),Q(Ct,Ot,wt)}),n("getOwnMetadata",function j(Ct,Ot,wt){if(!ne(Ot))throw new TypeError;return re(wt)||(wt=ve(wt)),ee(Ct,Ot,wt)}),n("getMetadataKeys",function $(Ct,Ot){if(!ne(Ct))throw new TypeError;return re(Ot)||(Ot=ve(Ot)),te(Ct,Ot)}),n("getOwnMetadataKeys",function k(Ct,Ot){if(!ne(Ct))throw new TypeError;return re(Ot)||(Ot=ve(Ot)),he(Ct,Ot)}),n("deleteMetadata",function K(Ct,Ot,wt){if(!ne(Ot))throw new TypeError;if(re(wt)||(wt=ve(wt)),!ne(Ot))throw new TypeError;re(wt)||(wt=ve(wt));var mt=je(Ot,wt,!1);return!re(mt)&&mt.OrdinaryDeleteMetadata(Ct,Ot,wt)})}(t,i),typeof i.Reflect>"u"&&(i.Reflect=C)}()},24994:B=>{B.exports=function C(n){return n&&n.__esModule?n:{default:n}},B.exports.__esModule=!0,B.exports.default=B.exports},73738:B=>{function C(n){return B.exports=C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},B.exports.__esModule=!0,B.exports.default=B.exports,C(n)}B.exports=C,B.exports.__esModule=!0,B.exports.default=B.exports},82374:(B,C,n)=>{"use strict";n(26099),n(39796),n(60825),n(87411),n(21211),n(40888),n(9065),n(86565),n(32812),n(84634),n(71137),n(30985),n(34268),n(34873),n(15472);var i=n(19167);B.exports=i.Reflect},79306:(B,C,n)=>{"use strict";var i=n(94901),t=n(16823),c=TypeError;B.exports=function(e){if(i(e))return e;throw new c(t(e)+" is not a function")}},35548:(B,C,n)=>{"use strict";var i=n(33517),t=n(16823),c=TypeError;B.exports=function(e){if(i(e))return e;throw new c(t(e)+" is not a constructor")}},73506:(B,C,n)=>{"use strict";var i=n(13925),t=String,c=TypeError;B.exports=function(e){if(i(e))return e;throw new c("Can't set "+t(e)+" as a prototype")}},28551:(B,C,n)=>{"use strict";var i=n(20034),t=String,c=TypeError;B.exports=function(e){if(i(e))return e;throw new c(t(e)+" is not an object")}},15652:(B,C,n)=>{"use strict";var i=n(79039);B.exports=i(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})},19617:(B,C,n)=>{"use strict";var i=n(25397),t=n(35610),c=n(26198),e=function(p){return function(m,f,v){var E=i(m),y=c(E);if(0===y)return!p&&-1;var b,M=t(v,y);if(p&&f!=f){for(;y>M;)if((b=E[M++])!=b)return!0}else for(;y>M;M++)if((p||M in E)&&E[M]===f)return p||M||0;return!p&&-1}};B.exports={includes:e(!0),indexOf:e(!1)}},67680:(B,C,n)=>{"use strict";var i=n(79504);B.exports=i([].slice)},22195:(B,C,n)=>{"use strict";var i=n(79504),t=i({}.toString),c=i("".slice);B.exports=function(e){return c(t(e),8,-1)}},36955:(B,C,n)=>{"use strict";var i=n(92140),t=n(94901),c=n(22195),p=n(78227)("toStringTag"),m=Object,f="Arguments"===c(function(){return arguments}());B.exports=i?c:function(E){var y,M,b;return void 0===E?"Undefined":null===E?"Null":"string"==typeof(M=function(E,y){try{return E[y]}catch{}}(y=m(E),p))?M:f?c(y):"Object"===(b=c(y))&&t(y.callee)?"Arguments":b}},77740:(B,C,n)=>{"use strict";var i=n(39297),t=n(35031),c=n(77347),e=n(24913);B.exports=function(p,m,f){for(var v=t(m),E=e.f,y=c.f,M=0;M<v.length;M++){var b=v[M];!i(p,b)&&(!f||!i(f,b))&&E(p,b,y(m,b))}}},12211:(B,C,n)=>{"use strict";var i=n(79039);B.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},66699:(B,C,n)=>{"use strict";var i=n(43724),t=n(24913),c=n(6980);B.exports=i?function(e,p,m){return t.f(e,p,c(1,m))}:function(e,p,m){return e[p]=m,e}},6980:B=>{"use strict";B.exports=function(C,n){return{enumerable:!(1&C),configurable:!(2&C),writable:!(4&C),value:n}}},36840:(B,C,n)=>{"use strict";var i=n(94901),t=n(24913),c=n(50283),e=n(39433);B.exports=function(p,m,f,v){v||(v={});var E=v.enumerable,y=void 0!==v.name?v.name:m;if(i(f)&&c(f,y,v),v.global)E?p[m]=f:e(m,f);else{try{v.unsafe?p[m]&&(E=!0):delete p[m]}catch{}E?p[m]=f:t.f(p,m,{value:f,enumerable:!1,configurable:!v.nonConfigurable,writable:!v.nonWritable})}return p}},39433:(B,C,n)=>{"use strict";var i=n(44576),t=Object.defineProperty;B.exports=function(c,e){try{t(i,c,{value:e,configurable:!0,writable:!0})}catch{i[c]=e}return e}},43724:(B,C,n)=>{"use strict";var i=n(79039);B.exports=!i(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:(B,C,n)=>{"use strict";var i=n(44576),t=n(20034),c=i.document,e=t(c)&&t(c.createElement);B.exports=function(p){return e?c.createElement(p):{}}},88727:B=>{"use strict";B.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82839:(B,C,n)=>{"use strict";var t=n(44576).navigator,c=t&&t.userAgent;B.exports=c?String(c):""},39519:(B,C,n)=>{"use strict";var f,v,i=n(44576),t=n(82839),c=i.process,e=i.Deno,p=c&&c.versions||e&&e.version,m=p&&p.v8;m&&(v=(f=m.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!v&&t&&(!(f=t.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=t.match(/Chrome\/(\d+)/))&&(v=+f[1]),B.exports=v},46518:(B,C,n)=>{"use strict";var i=n(44576),t=n(77347).f,c=n(66699),e=n(36840),p=n(39433),m=n(77740),f=n(92796);B.exports=function(v,E){var D,I,h,S,O,y=v.target,M=v.global,b=v.stat;if(D=M?i:b?i[y]||p(y,{}):i[y]&&i[y].prototype)for(I in E){if(S=E[I],h=v.dontCallGetSet?(O=t(D,I))&&O.value:D[I],!f(M?I:y+(b?".":"#")+I,v.forced)&&void 0!==h){if(typeof S==typeof h)continue;m(S,h)}(v.sham||h&&h.sham)&&c(S,"sham",!0),e(D,I,S,v)}}},79039:B=>{"use strict";B.exports=function(C){try{return!!C()}catch{return!0}}},92744:(B,C,n)=>{"use strict";var i=n(79039);B.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},18745:(B,C,n)=>{"use strict";var i=n(40616),t=Function.prototype,c=t.apply,e=t.call;B.exports="object"==typeof Reflect&&Reflect.apply||(i?e.bind(c):function(){return e.apply(c,arguments)})},40616:(B,C,n)=>{"use strict";var i=n(79039);B.exports=!i(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},30566:(B,C,n)=>{"use strict";var i=n(79504),t=n(79306),c=n(20034),e=n(39297),p=n(67680),m=n(40616),f=Function,v=i([].concat),E=i([].join),y={};B.exports=m?f.bind:function(P){var D=t(this),I=D.prototype,h=p(arguments,1),S=function(){var L=v(h,p(arguments));return this instanceof S?function(b,P,D){if(!e(y,P)){for(var I=[],h=0;h<P;h++)I[h]="a["+h+"]";y[P]=f("C,a","return new C("+E(I,",")+")")}return y[P](b,D)}(D,L.length,L):D.apply(P,L)};return c(I)&&(S.prototype=I),S}},69565:(B,C,n)=>{"use strict";var i=n(40616),t=Function.prototype.call;B.exports=i?t.bind(t):function(){return t.apply(t,arguments)}},10350:(B,C,n)=>{"use strict";var i=n(43724),t=n(39297),c=Function.prototype,e=i&&Object.getOwnPropertyDescriptor,p=t(c,"name"),m=p&&"something"===function(){}.name,f=p&&(!i||i&&e(c,"name").configurable);B.exports={EXISTS:p,PROPER:m,CONFIGURABLE:f}},46706:(B,C,n)=>{"use strict";var i=n(79504),t=n(79306);B.exports=function(c,e,p){try{return i(t(Object.getOwnPropertyDescriptor(c,e)[p]))}catch{}}},79504:(B,C,n)=>{"use strict";var i=n(40616),t=Function.prototype,c=t.call,e=i&&t.bind.bind(c,c);B.exports=i?e:function(p){return function(){return c.apply(p,arguments)}}},97751:(B,C,n)=>{"use strict";var i=n(44576),t=n(94901);B.exports=function(e,p){return arguments.length<2?function(e){return t(e)?e:void 0}(i[e]):i[e]&&i[e][p]}},55966:(B,C,n)=>{"use strict";var i=n(79306),t=n(64117);B.exports=function(c,e){var p=c[e];return t(p)?void 0:i(p)}},44576:function(B){"use strict";var C=function(n){return n&&n.Math===Math&&n};B.exports=C("object"==typeof globalThis&&globalThis)||C("object"==typeof window&&window)||C("object"==typeof self&&self)||C("object"==typeof global&&global)||C("object"==typeof this&&this)||function(){return this}()||Function("return this")()},39297:(B,C,n)=>{"use strict";var i=n(79504),t=n(48981),c=i({}.hasOwnProperty);B.exports=Object.hasOwn||function(p,m){return c(t(p),m)}},30421:B=>{"use strict";B.exports={}},20397:(B,C,n)=>{"use strict";var i=n(97751);B.exports=i("document","documentElement")},35917:(B,C,n)=>{"use strict";var i=n(43724),t=n(79039),c=n(4055);B.exports=!i&&!t(function(){return 7!==Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a})},47055:(B,C,n)=>{"use strict";var i=n(79504),t=n(79039),c=n(22195),e=Object,p=i("".split);B.exports=t(function(){return!e("z").propertyIsEnumerable(0)})?function(m){return"String"===c(m)?p(m,""):e(m)}:e},33706:(B,C,n)=>{"use strict";var i=n(79504),t=n(94901),c=n(77629),e=i(Function.toString);t(c.inspectSource)||(c.inspectSource=function(p){return e(p)}),B.exports=c.inspectSource},91181:(B,C,n)=>{"use strict";var b,P,D,i=n(58622),t=n(44576),c=n(20034),e=n(66699),p=n(39297),m=n(77629),f=n(66119),v=n(30421),E="Object already initialized",y=t.TypeError;if(i||m.state){var S=m.state||(m.state=new(0,t.WeakMap));S.get=S.get,S.has=S.has,S.set=S.set,b=function(L,T){if(S.has(L))throw new y(E);return T.facade=L,S.set(L,T),T},P=function(L){return S.get(L)||{}},D=function(L){return S.has(L)}}else{var O=f("state");v[O]=!0,b=function(L,T){if(p(L,O))throw new y(E);return T.facade=L,e(L,O,T),T},P=function(L){return p(L,O)?L[O]:{}},D=function(L){return p(L,O)}}B.exports={set:b,get:P,has:D,enforce:function(L){return D(L)?P(L):b(L,{})},getterFor:function(L){return function(T){var x;if(!c(T)||(x=P(T)).type!==L)throw new y("Incompatible receiver, "+L+" required");return x}}}},94901:B=>{"use strict";var C="object"==typeof document&&document.all;B.exports=typeof C>"u"&&void 0!==C?function(n){return"function"==typeof n||n===C}:function(n){return"function"==typeof n}},33517:(B,C,n)=>{"use strict";var i=n(79504),t=n(79039),c=n(94901),e=n(36955),p=n(97751),m=n(33706),f=function(){},v=p("Reflect","construct"),E=/^\s*(?:class|function)\b/,y=i(E.exec),M=!E.test(f),b=function(I){if(!c(I))return!1;try{return v(f,[],I),!0}catch{return!1}},P=function(I){if(!c(I))return!1;switch(e(I)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return M||!!y(E,m(I))}catch{return!0}};P.sham=!0,B.exports=!v||t(function(){var D;return b(b.call)||!b(Object)||!b(function(){D=!0})||D})?P:b},16575:(B,C,n)=>{"use strict";var i=n(39297);B.exports=function(t){return void 0!==t&&(i(t,"value")||i(t,"writable"))}},92796:(B,C,n)=>{"use strict";var i=n(79039),t=n(94901),c=/#|\.prototype\./,e=function(E,y){var M=m[p(E)];return M===v||M!==f&&(t(y)?i(y):!!y)},p=e.normalize=function(E){return String(E).replace(c,".").toLowerCase()},m=e.data={},f=e.NATIVE="N",v=e.POLYFILL="P";B.exports=e},64117:B=>{"use strict";B.exports=function(C){return null==C}},20034:(B,C,n)=>{"use strict";var i=n(94901);B.exports=function(t){return"object"==typeof t?null!==t:i(t)}},13925:(B,C,n)=>{"use strict";var i=n(20034);B.exports=function(t){return i(t)||null===t}},96395:B=>{"use strict";B.exports=!1},10757:(B,C,n)=>{"use strict";var i=n(97751),t=n(94901),c=n(1625),e=n(7040),p=Object;B.exports=e?function(m){return"symbol"==typeof m}:function(m){var f=i("Symbol");return t(f)&&c(f.prototype,p(m))}},26198:(B,C,n)=>{"use strict";var i=n(18014);B.exports=function(t){return i(t.length)}},50283:(B,C,n)=>{"use strict";var i=n(79504),t=n(79039),c=n(94901),e=n(39297),p=n(43724),m=n(10350).CONFIGURABLE,f=n(33706),v=n(91181),E=v.enforce,y=v.get,M=String,b=Object.defineProperty,P=i("".slice),D=i("".replace),I=i([].join),h=p&&!t(function(){return 8!==b(function(){},"length",{value:8}).length}),S=String(String).split("String"),O=B.exports=function(L,T,x){"Symbol("===P(M(T),0,7)&&(T="["+D(M(T),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),x&&x.getter&&(T="get "+T),x&&x.setter&&(T="set "+T),(!e(L,"name")||m&&L.name!==T)&&(p?b(L,"name",{value:T,configurable:!0}):L.name=T),h&&x&&e(x,"arity")&&L.length!==x.arity&&b(L,"length",{value:x.arity});try{x&&e(x,"constructor")&&x.constructor?p&&b(L,"prototype",{writable:!1}):L.prototype&&(L.prototype=void 0)}catch{}var N=E(L);return e(N,"source")||(N.source=I(S,"string"==typeof T?T:"")),L};Function.prototype.toString=O(function(){return c(this)&&y(this).source||f(this)},"toString")},80741:B=>{"use strict";var C=Math.ceil,n=Math.floor;B.exports=Math.trunc||function(t){var c=+t;return(c>0?n:C)(c)}},2360:(B,C,n)=>{"use strict";var S,i=n(28551),t=n(96801),c=n(88727),e=n(30421),p=n(20397),m=n(4055),f=n(66119),y="prototype",M="script",b=f("IE_PROTO"),P=function(){},D=function(L){return"<"+M+">"+L+"</"+M+">"},I=function(L){L.write(D("")),L.close();var T=L.parentWindow.Object;return L=null,T},O=function(){try{S=new ActiveXObject("htmlfile")}catch{}O=typeof document<"u"?document.domain&&S?I(S):function(){var x,L=m("iframe"),T="java"+M+":";return L.style.display="none",p.appendChild(L),L.src=String(T),(x=L.contentWindow.document).open(),x.write(D("document.F=Object")),x.close(),x.F}():I(S);for(var L=c.length;L--;)delete O[y][c[L]];return O()};e[b]=!0,B.exports=Object.create||function(T,x){var N;return null!==T?(P[y]=i(T),N=new P,P[y]=null,N[b]=T):N=O(),void 0===x?N:t.f(N,x)}},96801:(B,C,n)=>{"use strict";var i=n(43724),t=n(48686),c=n(24913),e=n(28551),p=n(25397),m=n(71072);C.f=i&&!t?Object.defineProperties:function(v,E){e(v);for(var D,y=p(E),M=m(E),b=M.length,P=0;b>P;)c.f(v,D=M[P++],y[D]);return v}},24913:(B,C,n)=>{"use strict";var i=n(43724),t=n(35917),c=n(48686),e=n(28551),p=n(56969),m=TypeError,f=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E="enumerable",y="configurable",M="writable";C.f=i?c?function(P,D,I){if(e(P),D=p(D),e(I),"function"==typeof P&&"prototype"===D&&"value"in I&&M in I&&!I[M]){var h=v(P,D);h&&h[M]&&(P[D]=I.value,I={configurable:y in I?I[y]:h[y],enumerable:E in I?I[E]:h[E],writable:!1})}return f(P,D,I)}:f:function(P,D,I){if(e(P),D=p(D),e(I),t)try{return f(P,D,I)}catch{}if("get"in I||"set"in I)throw new m("Accessors not supported");return"value"in I&&(P[D]=I.value),P}},77347:(B,C,n)=>{"use strict";var i=n(43724),t=n(69565),c=n(48773),e=n(6980),p=n(25397),m=n(56969),f=n(39297),v=n(35917),E=Object.getOwnPropertyDescriptor;C.f=i?E:function(M,b){if(M=p(M),b=m(b),v)try{return E(M,b)}catch{}if(f(M,b))return e(!t(c.f,M,b),M[b])}},38480:(B,C,n)=>{"use strict";var i=n(61828),c=n(88727).concat("length","prototype");C.f=Object.getOwnPropertyNames||function(p){return i(p,c)}},33717:(B,C)=>{"use strict";C.f=Object.getOwnPropertySymbols},42787:(B,C,n)=>{"use strict";var i=n(39297),t=n(94901),c=n(48981),e=n(66119),p=n(12211),m=e("IE_PROTO"),f=Object,v=f.prototype;B.exports=p?f.getPrototypeOf:function(E){var y=c(E);if(i(y,m))return y[m];var M=y.constructor;return t(M)&&y instanceof M?M.prototype:y instanceof f?v:null}},34124:(B,C,n)=>{"use strict";var i=n(79039),t=n(20034),c=n(22195),e=n(15652),p=Object.isExtensible,m=i(function(){p(1)});B.exports=m||e?function(v){return!(!t(v)||e&&"ArrayBuffer"===c(v))&&(!p||p(v))}:p},1625:(B,C,n)=>{"use strict";var i=n(79504);B.exports=i({}.isPrototypeOf)},61828:(B,C,n)=>{"use strict";var i=n(79504),t=n(39297),c=n(25397),e=n(19617).indexOf,p=n(30421),m=i([].push);B.exports=function(f,v){var b,E=c(f),y=0,M=[];for(b in E)!t(p,b)&&t(E,b)&&m(M,b);for(;v.length>y;)t(E,b=v[y++])&&(~e(M,b)||m(M,b));return M}},71072:(B,C,n)=>{"use strict";var i=n(61828),t=n(88727);B.exports=Object.keys||function(e){return i(e,t)}},48773:(B,C)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,t=i&&!n.call({1:2},1);C.f=t?function(e){var p=i(this,e);return!!p&&p.enumerable}:n},52967:(B,C,n)=>{"use strict";var i=n(46706),t=n(20034),c=n(67750),e=n(73506);B.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,p=!1,m={};try{(f=i(Object.prototype,"__proto__","set"))(m,[]),p=m instanceof Array}catch{}return function(E,y){return c(E),e(y),t(E)&&(p?f(E,y):E.__proto__=y),E}}():void 0)},53179:(B,C,n)=>{"use strict";var i=n(92140),t=n(36955);B.exports=i?{}.toString:function(){return"[object "+t(this)+"]"}},84270:(B,C,n)=>{"use strict";var i=n(69565),t=n(94901),c=n(20034),e=TypeError;B.exports=function(p,m){var f,v;if("string"===m&&t(f=p.toString)&&!c(v=i(f,p))||t(f=p.valueOf)&&!c(v=i(f,p))||"string"!==m&&t(f=p.toString)&&!c(v=i(f,p)))return v;throw new e("Can't convert object to primitive value")}},35031:(B,C,n)=>{"use strict";var i=n(97751),t=n(79504),c=n(38480),e=n(33717),p=n(28551),m=t([].concat);B.exports=i("Reflect","ownKeys")||function(v){var E=c.f(p(v)),y=e.f;return y?m(E,y(v)):E}},19167:(B,C,n)=>{"use strict";var i=n(44576);B.exports=i},67750:(B,C,n)=>{"use strict";var i=n(64117),t=TypeError;B.exports=function(c){if(i(c))throw new t("Can't call method on "+c);return c}},10687:(B,C,n)=>{"use strict";var i=n(24913).f,t=n(39297),e=n(78227)("toStringTag");B.exports=function(p,m,f){p&&!f&&(p=p.prototype),p&&!t(p,e)&&i(p,e,{configurable:!0,value:m})}},66119:(B,C,n)=>{"use strict";var i=n(25745),t=n(33392),c=i("keys");B.exports=function(e){return c[e]||(c[e]=t(e))}},77629:(B,C,n)=>{"use strict";var i=n(96395),t=n(44576),c=n(39433),e="__core-js_shared__",p=B.exports=t[e]||c(e,{});(p.versions||(p.versions=[])).push({version:"3.45.1",mode:i?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})},25745:(B,C,n)=>{"use strict";var i=n(77629);B.exports=function(t,c){return i[t]||(i[t]=c||{})}},4495:(B,C,n)=>{"use strict";var i=n(39519),t=n(79039),e=n(44576).String;B.exports=!!Object.getOwnPropertySymbols&&!t(function(){var p=Symbol("symbol detection");return!e(p)||!(Object(p)instanceof Symbol)||!Symbol.sham&&i&&i<41})},35610:(B,C,n)=>{"use strict";var i=n(91291),t=Math.max,c=Math.min;B.exports=function(e,p){var m=i(e);return m<0?t(m+p,0):c(m,p)}},25397:(B,C,n)=>{"use strict";var i=n(47055),t=n(67750);B.exports=function(c){return i(t(c))}},91291:(B,C,n)=>{"use strict";var i=n(80741);B.exports=function(t){var c=+t;return c!=c||0===c?0:i(c)}},18014:(B,C,n)=>{"use strict";var i=n(91291),t=Math.min;B.exports=function(c){var e=i(c);return e>0?t(e,9007199254740991):0}},48981:(B,C,n)=>{"use strict";var i=n(67750),t=Object;B.exports=function(c){return t(i(c))}},72777:(B,C,n)=>{"use strict";var i=n(69565),t=n(20034),c=n(10757),e=n(55966),p=n(84270),m=n(78227),f=TypeError,v=m("toPrimitive");B.exports=function(E,y){if(!t(E)||c(E))return E;var b,M=e(E,v);if(M){if(void 0===y&&(y="default"),b=i(M,E,y),!t(b)||c(b))return b;throw new f("Can't convert object to primitive value")}return void 0===y&&(y="number"),p(E,y)}},56969:(B,C,n)=>{"use strict";var i=n(72777),t=n(10757);B.exports=function(c){var e=i(c,"string");return t(e)?e:e+""}},92140:(B,C,n)=>{"use strict";var c={};c[n(78227)("toStringTag")]="z",B.exports="[object z]"===String(c)},16823:B=>{"use strict";var C=String;B.exports=function(n){try{return C(n)}catch{return"Object"}}},33392:(B,C,n)=>{"use strict";var i=n(79504),t=0,c=Math.random(),e=i(1.1.toString);B.exports=function(p){return"Symbol("+(void 0===p?"":p)+")_"+e(++t+c,36)}},7040:(B,C,n)=>{"use strict";var i=n(4495);B.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},48686:(B,C,n)=>{"use strict";var i=n(43724),t=n(79039);B.exports=i&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},58622:(B,C,n)=>{"use strict";var i=n(44576),t=n(94901),c=i.WeakMap;B.exports=t(c)&&/native code/.test(String(c))},78227:(B,C,n)=>{"use strict";var i=n(44576),t=n(25745),c=n(39297),e=n(33392),p=n(4495),m=n(7040),f=i.Symbol,v=t("wks"),E=m?f.for||f:f&&f.withoutSetter||e;B.exports=function(y){return c(v,y)||(v[y]=p&&c(f,y)?f[y]:E("Symbol."+y)),v[y]}},26099:(B,C,n)=>{"use strict";var i=n(92140),t=n(36840),c=n(53179);i||t(Object.prototype,"toString",c,{unsafe:!0})},39796:(B,C,n)=>{"use strict";var i=n(46518),t=n(18745),c=n(79306),e=n(28551);i({target:"Reflect",stat:!0,forced:!n(79039)(function(){Reflect.apply(function(){})})},{apply:function(v,E,y){return t(c(v),E,e(y))}})},60825:(B,C,n)=>{"use strict";var i=n(46518),t=n(97751),c=n(18745),e=n(30566),p=n(35548),m=n(28551),f=n(20034),v=n(2360),E=n(79039),y=t("Reflect","construct"),M=Object.prototype,b=[].push,P=E(function(){function h(){}return!(y(function(){},[],h)instanceof h)}),D=!E(function(){y(function(){})}),I=P||D;i({target:"Reflect",stat:!0,forced:I,sham:I},{construct:function(S,O){p(S),m(O);var L=arguments.length<3?S:p(arguments[2]);if(D&&!P)return y(S,O,L);if(S===L){switch(O.length){case 0:return new S;case 1:return new S(O[0]);case 2:return new S(O[0],O[1]);case 3:return new S(O[0],O[1],O[2]);case 4:return new S(O[0],O[1],O[2],O[3])}var T=[null];return c(b,T,O),new(c(e,S,T))}var x=L.prototype,N=v(f(x)?x:M),j=c(S,N,O);return f(j)?j:N}})},87411:(B,C,n)=>{"use strict";var i=n(46518),t=n(43724),c=n(28551),e=n(56969),p=n(24913);i({target:"Reflect",stat:!0,forced:n(79039)(function(){Reflect.defineProperty(p.f({},1,{value:1}),1,{value:2})}),sham:!t},{defineProperty:function(E,y,M){c(E);var b=e(y);c(M);try{return p.f(E,b,M),!0}catch{return!1}}})},21211:(B,C,n)=>{"use strict";var i=n(46518),t=n(28551),c=n(77347).f;i({target:"Reflect",stat:!0},{deleteProperty:function(p,m){var f=c(t(p),m);return!(f&&!f.configurable)&&delete p[m]}})},9065:(B,C,n)=>{"use strict";var i=n(46518),t=n(43724),c=n(28551),e=n(77347);i({target:"Reflect",stat:!0,sham:!t},{getOwnPropertyDescriptor:function(m,f){return e.f(c(m),f)}})},86565:(B,C,n)=>{"use strict";var i=n(46518),t=n(28551),c=n(42787);i({target:"Reflect",stat:!0,sham:!n(12211)},{getPrototypeOf:function(m){return c(t(m))}})},40888:(B,C,n)=>{"use strict";var i=n(46518),t=n(69565),c=n(20034),e=n(28551),p=n(16575),m=n(77347),f=n(42787);i({target:"Reflect",stat:!0},{get:function v(E,y){var b,P,M=arguments.length<3?E:arguments[2];return e(E)===M?E[y]:(b=m.f(E,y))?p(b)?b.value:void 0===b.get?void 0:t(b.get,M):c(P=f(E))?v(P,y,M):void 0}})},32812:(B,C,n)=>{"use strict";n(46518)({target:"Reflect",stat:!0},{has:function(c,e){return e in c}})},84634:(B,C,n)=>{"use strict";var i=n(46518),t=n(28551),c=n(34124);i({target:"Reflect",stat:!0},{isExtensible:function(p){return t(p),c(p)}})},71137:(B,C,n)=>{"use strict";n(46518)({target:"Reflect",stat:!0},{ownKeys:n(35031)})},30985:(B,C,n)=>{"use strict";var i=n(46518),t=n(97751),c=n(28551);i({target:"Reflect",stat:!0,sham:!n(92744)},{preventExtensions:function(m){c(m);try{var f=t("Object","preventExtensions");return f&&f(m),!0}catch{return!1}}})},34873:(B,C,n)=>{"use strict";var i=n(46518),t=n(28551),c=n(73506),e=n(52967);e&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(m,f){t(m),c(f);try{return e(m,f),!0}catch{return!1}}})},34268:(B,C,n)=>{"use strict";var i=n(46518),t=n(69565),c=n(28551),e=n(20034),p=n(16575),m=n(79039),f=n(24913),v=n(77347),E=n(42787),y=n(6980);i({target:"Reflect",stat:!0,forced:m(function(){var P=function(){},D=f.f(new P,"a",{configurable:!0});return!1!==Reflect.set(P.prototype,"a",1,D)})},{set:function M(P,D,I){var O,L,T,h=arguments.length<4?P:arguments[3],S=v.f(c(P),D);if(!S){if(e(L=E(P)))return M(L,D,I,h);S=y(0)}if(p(S)){if(!1===S.writable||!e(h))return!1;if(O=v.f(h,D)){if(O.get||O.set||!1===O.writable)return!1;O.value=I,f.f(h,D,O)}else f.f(h,D,y(0,I))}else{if(void 0===(T=S.set))return!1;t(T,h,I)}return!0}})},15472:(B,C,n)=>{"use strict";var i=n(46518),t=n(44576),c=n(10687);i({global:!0},{Reflect:{}}),c(t.Reflect,"Reflect",!0)},74523:(B,C,n)=>{"use strict";function i(c,e,p,m,f,v,E){try{var y=c[v](E),M=y.value}catch(b){return void p(b)}y.done?e(M):Promise.resolve(M).then(m,f)}function t(c){return function(){var e=this,p=arguments;return new Promise(function(m,f){var v=c.apply(e,p);function E(M){i(v,m,f,E,y,"next",M)}function y(M){i(v,m,f,E,y,"throw",M)}E(void 0)})}}n.d(C,{A:()=>t})},49969:(B,C,n)=>{"use strict";n.d(C,{FX:()=>K,If:()=>i,K2:()=>m,MA:()=>b,Os:()=>p,P:()=>D,hZ:()=>c,i0:()=>e,iF:()=>f,kY:()=>y,kp:()=>t,sf:()=>$,ui:()=>k,wk:()=>v});var i=function(z){return z[z.State=0]="State",z[z.Transition=1]="Transition",z[z.Sequence=2]="Sequence",z[z.Group=3]="Group",z[z.Animate=4]="Animate",z[z.Keyframes=5]="Keyframes",z[z.Style=6]="Style",z[z.Trigger=7]="Trigger",z[z.Reference=8]="Reference",z[z.AnimateChild=9]="AnimateChild",z[z.AnimateRef=10]="AnimateRef",z[z.Query=11]="Query",z[z.Stagger=12]="Stagger",z}(i||{});const t="*";function c(z,V){return{type:i.Trigger,name:z,definitions:V,options:{}}}function e(z,V=null){return{type:i.Animate,styles:V,timings:z}}function p(z,V=null){return{type:i.Group,steps:z,options:V}}function m(z,V=null){return{type:i.Sequence,steps:z,options:V}}function f(z){return{type:i.Style,styles:z,offset:null}}function v(z,V,G){return{type:i.State,name:z,styles:V,options:G}}function y(z,V,G=null){return{type:i.Transition,expr:z,animation:V,options:G}}function b(z=null){return{type:i.AnimateChild,options:z}}function D(z,V,G=null){return{type:i.Query,selector:z,animation:V,options:G}}class ${constructor(V=0,G=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=V+G}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(V=>V()),this._onDoneFns=[])}onStart(V){this._originalOnStartFns.push(V),this._onStartFns.push(V)}onDone(V){this._originalOnDoneFns.push(V),this._onDoneFns.push(V)}onDestroy(V){this._onDestroyFns.push(V)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(V=>V()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(V=>V()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(V){this._position=this.totalTime?V*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(V){const G="start"==V?this._onStartFns:this._onDoneFns;G.forEach(X=>X()),G.length=0}}class k{constructor(V){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=V;let G=0,X=0,Q=0;const ee=this.players.length;0==ee?queueMicrotask(()=>this._onFinish()):this.players.forEach(ie=>{ie.onDone(()=>{++G==ee&&this._onFinish()}),ie.onDestroy(()=>{++X==ee&&this._onDestroy()}),ie.onStart(()=>{++Q==ee&&this._onStart()})}),this.totalTime=this.players.reduce((ie,te)=>Math.max(ie,te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(V=>V()),this._onDoneFns=[])}init(){this.players.forEach(V=>V.init())}onStart(V){this._onStartFns.push(V)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(V=>V()),this._onStartFns=[])}onDone(V){this._onDoneFns.push(V)}onDestroy(V){this._onDestroyFns.push(V)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(V=>V.play())}pause(){this.players.forEach(V=>V.pause())}restart(){this.players.forEach(V=>V.restart())}finish(){this._onFinish(),this.players.forEach(V=>V.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(V=>V.destroy()),this._onDestroyFns.forEach(V=>V()),this._onDestroyFns=[])}reset(){this.players.forEach(V=>V.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(V){const G=V*this.totalTime;this.players.forEach(X=>{const Q=X.totalTime?Math.min(1,G/X.totalTime):1;X.setPosition(Q)})}getPosition(){const V=this.players.reduce((G,X)=>null===G||X.totalTime>G.totalTime?X:G,null);return null!=V?V.getPosition():0}beforeDestroy(){this.players.forEach(V=>{V.beforeDestroy&&V.beforeDestroy()})}triggerCallback(V){const G="start"==V?this._onStartFns:this._onDoneFns;G.forEach(X=>X()),G.length=0}}const K="!"},51664:(B,C,n)=>{"use strict";n.d(C,{Z2:()=>Zs,_G:()=>hi,w6:()=>Li});var i=n(54438);n(36860);var Qn=n(21413),Jn=n(18359),ki=n(74402),Fi=n(7673),ss=n(88141),hs=n(70152),gs=n(5964),Ss=n(96354),Ji=n(96697),ps=n(8045);class wi{constructor(ue,Ye){this._letterKeyStream=new Qn.B,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new Qn.B,this.selectedItem=this._selectedItem;const Dt="number"==typeof Ye?.debounceInterval?Ye.debounceInterval:200;Ye?.skipPredicate&&(this._skipPredicateFn=Ye.skipPredicate),this.setItems(ue),this._setupKeyHandler(Dt)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(ue){this._selectedItemIndex=ue}setItems(ue){this._items=ue}handleKey(ue){const Ye=ue.keyCode;ue.key&&1===ue.key.length?this._letterKeyStream.next(ue.key.toLocaleUpperCase()):(Ye>=65&&Ye<=90||Ye>=48&&Ye<=57)&&this._letterKeyStream.next(String.fromCharCode(Ye))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(ue){this._letterKeyStream.pipe((0,ss.M)(Ye=>this._pressedLetters.push(Ye)),(0,hs.B)(ue),(0,gs.p)(()=>this._pressedLetters.length>0),(0,Ss.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(Ye=>{for(let Dt=1;Dt<this._items.length+1;Dt++){const Bn=this._items[(this._selectedItemIndex+Dt)%this._items.length];if(!this._skipPredicateFn?.(Bn)&&0===Bn.getLabel?.().toLocaleUpperCase().trim().indexOf(Ye)){this._selectedItem.next(Bn);break}}this._pressedLetters=[]})}}class jo{_initializeFocus(){if(this._hasInitialFocused||0===this._items.length)return;let ue=0;for(let Dt=0;Dt<this._items.length;Dt++)if(!this._skipPredicateFn(this._items[Dt])&&!this._isItemDisabled(this._items[Dt])){ue=Dt;break}const Ye=this._items[ue];Ye.makeFocusable?(this._activeItem?.unfocus(),this._activeItemIndex=ue,this._activeItem=Ye,this._typeahead?.setCurrentSelectedItemIndex(ue),Ye.makeFocusable()):this.focusItem(ue),this._hasInitialFocused=!0}constructor(ue,Ye){this._activeItemIndex=-1,this._activeItem=null,this._shouldActivationFollowFocus=!1,this._horizontalOrientation="ltr",this._skipPredicateFn=Dt=>!1,this._trackByFn=Dt=>Dt,this._items=[],this._typeaheadSubscription=Jn.yU.EMPTY,this._hasInitialFocused=!1,this.change=new Qn.B,ue instanceof i.rOR?(this._items=ue.toArray(),ue.changes.subscribe(Dt=>{this._items=Dt.toArray(),this._typeahead?.setItems(this._items),this._updateActiveItemIndex(this._items),this._initializeFocus()})):(0,ki.A)(ue)?ue.subscribe(Dt=>{this._items=Dt,this._typeahead?.setItems(Dt),this._updateActiveItemIndex(Dt),this._initializeFocus()}):(this._items=ue,this._initializeFocus()),"boolean"==typeof Ye.shouldActivationFollowFocus&&(this._shouldActivationFollowFocus=Ye.shouldActivationFollowFocus),Ye.horizontalOrientation&&(this._horizontalOrientation=Ye.horizontalOrientation),Ye.skipPredicate&&(this._skipPredicateFn=Ye.skipPredicate),Ye.trackBy&&(this._trackByFn=Ye.trackBy),typeof Ye.typeAheadDebounceInterval<"u"&&this._setTypeAhead(Ye.typeAheadDebounceInterval)}destroy(){this._typeaheadSubscription.unsubscribe(),this._typeahead?.destroy(),this.change.complete()}onKeydown(ue){switch(ue.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":"rtl"===this._horizontalOrientation?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":"rtl"===this._horizontalOrientation?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if("*"===ue.key){this._expandAllItemsAtCurrentItemLevel();break}return void this._typeahead?.handleKey(ue)}this._typeahead?.reset(),ue.preventDefault()}getActiveItemIndex(){return this._activeItemIndex}getActiveItem(){return this._activeItem}_focusFirstItem(){this.focusItem(this._findNextAvailableItemIndex(-1))}_focusLastItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}_focusNextItem(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}_focusPreviousItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}focusItem(ue,Ye={}){Ye.emitChangeEvent??=!0;let Dt="number"==typeof ue?ue:this._items.findIndex(xe=>this._trackByFn(xe)===this._trackByFn(ue));if(Dt<0||Dt>=this._items.length)return;const nn=this._items[Dt];if(null!==this._activeItem&&this._trackByFn(nn)===this._trackByFn(this._activeItem))return;const Bn=this._activeItem;this._activeItem=nn??null,this._activeItemIndex=Dt,this._typeahead?.setCurrentSelectedItemIndex(Dt),this._activeItem?.focus(),Bn?.unfocus(),Ye.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}_updateActiveItemIndex(ue){const Ye=this._activeItem;if(!Ye)return;const Dt=ue.findIndex(nn=>this._trackByFn(nn)===this._trackByFn(Ye));Dt>-1&&Dt!==this._activeItemIndex&&(this._activeItemIndex=Dt,this._typeahead?.setCurrentSelectedItemIndex(Dt))}_setTypeAhead(ue){this._typeahead=new wi(this._items,{debounceInterval:"number"==typeof ue?ue:void 0,skipPredicate:Ye=>this._skipPredicateFn(Ye)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(Ye=>{this.focusItem(Ye)})}_findNextAvailableItemIndex(ue){for(let Ye=ue+1;Ye<this._items.length;Ye++)if(!this._skipPredicateFn(this._items[Ye]))return Ye;return ue}_findPreviousAvailableItemIndex(ue){for(let Ye=ue-1;Ye>=0;Ye--)if(!this._skipPredicateFn(this._items[Ye]))return Ye;return ue}_collapseCurrentItem(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{const ue=this._activeItem.getParent();if(!ue||this._skipPredicateFn(ue))return;this.focusItem(ue)}}_expandCurrentItem(){this._activeItem&&(this._isCurrentItemExpanded()?(0,ps.x)(this._activeItem.getChildren()).pipe((0,Ji.s)(1)).subscribe(ue=>{const Ye=ue.find(Dt=>!this._skipPredicateFn(Dt));Ye&&this.focusItem(Ye)}):this._activeItem.expand())}_isCurrentItemExpanded(){return!!this._activeItem&&("boolean"==typeof this._activeItem.isExpanded?this._activeItem.isExpanded:this._activeItem.isExpanded())}_isItemDisabled(ue){return"boolean"==typeof ue.isDisabled?ue.isDisabled:ue.isDisabled?.()}_expandAllItemsAtCurrentItemLevel(){if(!this._activeItem)return;const ue=this._activeItem.getParent();let Ye;Ye=ue?(0,ps.x)(ue.getChildren()):(0,Fi.of)(this._items.filter(Dt=>null===Dt.getParent())),Ye.pipe((0,Ji.s)(1)).subscribe(Dt=>{for(const nn of Dt)nn.expand()})}_activateCurrentItem(){this._activeItem?.activate()}}const Zs=new i.nKC("tree-key-manager",{providedIn:"root",factory:function er(){return(qt,ue)=>new jo(qt,ue)}});function hi(qt){return 0===qt.buttons||0===qt.detail}function Li(qt){const ue=qt.touches&&qt.touches[0]||qt.changedTouches&&qt.changedTouches[0];return!(!ue||-1!==ue.identifier||null!=ue.radiusX&&1!==ue.radiusX||null!=ue.radiusY&&1!==ue.radiusY)}},28203:(B,C,n)=>{"use strict";n.d(C,{dS:()=>f});var i=n(54438),t=n(60177);const c=new i.nKC("cdk-dir-doc",{providedIn:"root",factory:function e(){return(0,i.WQX)(t.qQ)}}),p=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let f=(()=>{class y{constructor(b){this.value="ltr",this.change=new i.bkB,b&&(this.value=function m(y){const M=y?.toLowerCase()||"";return"auto"===M&&typeof navigator<"u"&&navigator?.language?p.test(navigator.language)?"rtl":"ltr":"rtl"===M?"rtl":"ltr"}((b.body?b.body.dir:null)||(b.documentElement?b.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(P){return new(P||y)(i.KVO(c,8))}}static{this.\u0275prov=i.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},8045:(B,C,n)=>{"use strict";n.d(C,{x:()=>c});var i=n(74402),t=n(7673);function c(e){return(0,i.A)(e)?e:(0,t.of)(e)}},45024:(B,C,n)=>{"use strict";n.d(C,{CB:()=>P,qS:()=>m,y4:()=>f});var i=n(30017),e=(n(74402),n(7673),n(21413));n(54438);class m{}function f(h){return h&&"function"==typeof h.connect&&!(h instanceof i.G)}class P{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(S=!1,O,L=!0,T){this._multiple=S,this._emitChanges=L,this.compareWith=T,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new e.B,O&&O.length&&(S?O.forEach(x=>this._markSelected(x)):this._markSelected(O[0]),this._selectedToEmit.length=0)}select(...S){this._verifyValueAssignment(S),S.forEach(L=>this._markSelected(L));const O=this._hasQueuedChanges();return this._emitChangeEvent(),O}deselect(...S){this._verifyValueAssignment(S),S.forEach(L=>this._unmarkSelected(L));const O=this._hasQueuedChanges();return this._emitChangeEvent(),O}setSelection(...S){this._verifyValueAssignment(S);const O=this.selected,L=new Set(S);S.forEach(x=>this._markSelected(x)),O.filter(x=>!L.has(this._getConcreteValue(x,L))).forEach(x=>this._unmarkSelected(x));const T=this._hasQueuedChanges();return this._emitChangeEvent(),T}toggle(S){return this.isSelected(S)?this.deselect(S):this.select(S)}clear(S=!0){this._unmarkAll();const O=this._hasQueuedChanges();return S&&this._emitChangeEvent(),O}isSelected(S){return this._selection.has(this._getConcreteValue(S))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(S){this._multiple&&this.selected&&this._selected.sort(S)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(S){S=this._getConcreteValue(S),this.isSelected(S)||(this._multiple||this._unmarkAll(),this.isSelected(S)||this._selection.add(S),this._emitChanges&&this._selectedToEmit.push(S))}_unmarkSelected(S){S=this._getConcreteValue(S),this.isSelected(S)&&(this._selection.delete(S),this._emitChanges&&this._deselectedToEmit.push(S))}_unmarkAll(){this.isEmpty()||this._selection.forEach(S=>this._unmarkSelected(S))}_verifyValueAssignment(S){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(S,O){if(this.compareWith){O=O??this._selection;for(let L of O)if(this.compareWith(S,L))return L;return S}return S}}},40031:(B,C,n)=>{"use strict";n.d(C,{T1:()=>Jn,Fb:()=>Cn,O7:()=>hs,HD:()=>Tn});var i=n(54438),t=n(60177);function e(We,be=0){return function p(We){return!isNaN(parseFloat(We))&&!isNaN(Number(We))}(We)?Number(We):2===arguments.length?be:0}function v(We){return We instanceof i.aKT?We.nativeElement:We}var y=n(21413),M=n(7673),b=n(71985),P=n(33726),D=n(96780),I=n(18359);const h={schedule(We){let be=requestAnimationFrame,Me=cancelAnimationFrame;const{delegate:Ue}=h;Ue&&(be=Ue.requestAnimationFrame,Me=Ue.cancelAnimationFrame);const ht=be(Ut=>{Me=void 0,We(Ut)});return new I.yU(()=>Me?.(ht))},requestAnimationFrame(...We){const{delegate:be}=h;return(be?.requestAnimationFrame||requestAnimationFrame)(...We)},cancelAnimationFrame(...We){const{delegate:be}=h;return(be?.cancelAnimationFrame||cancelAnimationFrame)(...We)},delegate:void 0};var O=n(39687);const T=new class L extends O.q{flush(be){let Me;this._active=!0,be?Me=be.id:(Me=this._scheduled,this._scheduled=void 0);const{actions:Ue}=this;let ht;be=be||Ue.shift();do{if(ht=be.execute(be.state,be.delay))break}while((be=Ue[0])&&be.id===Me&&Ue.shift());if(this._active=!1,ht){for(;(be=Ue[0])&&be.id===Me&&Ue.shift();)be.unsubscribe();throw ht}}}(class S extends D.R{constructor(be,Me){super(be,Me),this.scheduler=be,this.work=Me}requestAsyncId(be,Me,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(be,Me,Ue):(be.actions.push(this),be._scheduled||(be._scheduled=h.requestAnimationFrame(()=>be.flush(void 0))))}recycleAsyncId(be,Me,Ue=0){var ht;if(null!=Ue?Ue>0:this.delay>0)return super.recycleAsyncId(be,Me,Ue);const{actions:Ut}=be;null!=Me&&Me===be._scheduled&&(null===(ht=Ut[Ut.length-1])||void 0===ht?void 0:ht.id)!==Me&&(h.cancelAnimationFrame(Me),be._scheduled=void 0)}});n(25007);var j=n(43236),$=n(39974),k=n(58750),K=n(54360),V=n(41584);function G(We,be=j.E){return function z(We){return(0,$.N)((be,Me)=>{let Ue=!1,ht=null,Ut=null,pn=!1;const un=()=>{if(Ut?.unsubscribe(),Ut=null,Ue){Ue=!1;const Zn=ht;ht=null,Me.next(Zn)}pn&&Me.complete()},jn=()=>{Ut=null,pn&&Me.complete()};be.subscribe((0,K._)(Me,Zn=>{Ue=!0,ht=Zn,Ut||(0,k.Tg)(We(Zn)).subscribe(Ut=(0,K._)(Me,un,jn))},()=>{pn=!0,(!Ue||!Ut||Ut.closed)&&Me.complete()}))})}(()=>(0,V.O)(We,be))}var X=n(5964),Q=n(36860);let Z=(()=>{class We{constructor(Me,Ue,ht){this._ngZone=Me,this._platform=Ue,this._scrolled=new y.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ht}register(Me){this.scrollContainers.has(Me)||this.scrollContainers.set(Me,Me.elementScrolled().subscribe(()=>this._scrolled.next(Me)))}deregister(Me){const Ue=this.scrollContainers.get(Me);Ue&&(Ue.unsubscribe(),this.scrollContainers.delete(Me))}scrolled(Me=20){return this._platform.isBrowser?new b.c(Ue=>{this._globalSubscription||this._addGlobalListener();const ht=Me>0?this._scrolled.pipe(G(Me)).subscribe(Ue):this._scrolled.subscribe(Ue);return this._scrolledCount++,()=>{ht.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,M.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Me,Ue)=>this.deregister(Ue)),this._scrolled.complete()}ancestorScrolled(Me,Ue){const ht=this.getAncestorScrollContainers(Me);return this.scrolled(Ue).pipe((0,X.p)(Ut=>!Ut||ht.indexOf(Ut)>-1))}getAncestorScrollContainers(Me){const Ue=[];return this.scrollContainers.forEach((ht,Ut)=>{this._scrollableContainsElement(Ut,Me)&&Ue.push(Ut)}),Ue}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Me,Ue){let ht=v(Ue),Ut=Me.getElementRef().nativeElement;do{if(ht==Ut)return!0}while(ht=ht.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Me=this._getWindow();return(0,P.R)(Me.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(Ue){return new(Ue||We)(i.KVO(i.SKi),i.KVO(Q.OD),i.KVO(t.qQ,8))}}static{this.\u0275prov=i.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}}return We})(),ae=(()=>{class We{constructor(Me,Ue,ht){this._platform=Me,this._change=new y.B,this._changeListener=Ut=>{this._change.next(Ut)},this._document=ht,Ue.runOutsideAngular(()=>{if(Me.isBrowser){const Ut=this._getWindow();Ut.addEventListener("resize",this._changeListener),Ut.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Me=this._getWindow();Me.removeEventListener("resize",this._changeListener),Me.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Me={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Me}getViewportRect(){const Me=this.getViewportScrollPosition(),{width:Ue,height:ht}=this.getViewportSize();return{top:Me.top,left:Me.left,bottom:Me.top+ht,right:Me.left+Ue,height:ht,width:Ue}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Me=this._document,Ue=this._getWindow(),ht=Me.documentElement,Ut=ht.getBoundingClientRect();return{top:-Ut.top||Me.body.scrollTop||Ue.scrollY||ht.scrollTop||0,left:-Ut.left||Me.body.scrollLeft||Ue.scrollX||ht.scrollLeft||0}}change(Me=20){return Me>0?this._change.pipe(G(Me)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Me=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Me.innerWidth,height:Me.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(Ue){return new(Ue||We)(i.KVO(Q.OD),i.KVO(i.SKi),i.KVO(t.qQ,8))}}static{this.\u0275prov=i.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}}return We})();var Te=n(51664),pt=n(40605),He=n(57786),Bt=n(84412),it=n(56977),Tt=n(96354),Ee=n(96697),je=n(88141),ft=n(25558),vn=n(99172),hn=n(28203);function Un(We){const be=We.cloneNode(!0),Me=be.querySelectorAll("[id]"),Ue=We.nodeName.toLowerCase();be.removeAttribute("id");for(let ht=0;ht<Me.length;ht++)Me[ht].removeAttribute("id");return"canvas"===Ue?mt(We,be):("input"===Ue||"select"===Ue||"textarea"===Ue)&&wt(We,be),Ct("canvas",We,be,mt),Ct("input, textarea, select",We,be,wt),be}function Ct(We,be,Me,Ue){const ht=be.querySelectorAll(We);if(ht.length){const Ut=Me.querySelectorAll(We);for(let pn=0;pn<ht.length;pn++)Ue(ht[pn],Ut[pn])}}let Ot=0;function wt(We,be){"file"!==be.type&&(be.value=We.value),"radio"===be.type&&be.name&&(be.name=`mat-clone-${be.name}-${Ot++}`)}function mt(We,be){const Me=be.getContext("2d");if(Me)try{Me.drawImage(We,0,0)}catch{}}function ln(We){const be=We.getBoundingClientRect();return{top:be.top,right:be.right,bottom:be.bottom,left:be.left,width:be.width,height:be.height,x:be.x,y:be.y}}function we(We,be,Me){const{top:Ue,bottom:ht,left:Ut,right:pn}=We;return Me>=Ue&&Me<=ht&&be>=Ut&&be<=pn}function Et(We,be,Me){We.top+=be,We.bottom=We.top+We.height,We.left+=Me,We.right=We.left+We.width}function kt(We,be,Me,Ue){const{top:ht,right:Ut,bottom:pn,left:un,width:jn,height:Zn}=We,wi=jn*be,_s=Zn*be;return Ue>ht-_s&&Ue<pn+_s&&Me>un-wi&&Me<Ut+wi}class vt{constructor(be){this._document=be,this.positions=new Map}clear(){this.positions.clear()}cache(be){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),be.forEach(Me=>{this.positions.set(Me,{scrollPosition:{top:Me.scrollTop,left:Me.scrollLeft},clientRect:ln(Me)})})}handleScroll(be){const Me=(0,Q.Fb)(be),Ue=this.positions.get(Me);if(!Ue)return null;const ht=Ue.scrollPosition;let Ut,pn;if(Me===this._document){const Zn=this.getViewportScrollPosition();Ut=Zn.top,pn=Zn.left}else Ut=Me.scrollTop,pn=Me.scrollLeft;const un=ht.top-Ut,jn=ht.left-pn;return this.positions.forEach((Zn,wi)=>{Zn.clientRect&&Me!==wi&&Me.contains(wi)&&Et(Zn.clientRect,un,jn)}),ht.top=Ut,ht.left=pn,{top:un,left:jn}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Jt(We,be){const Me=We.rootNodes;if(1===Me.length&&Me[0].nodeType===be.ELEMENT_NODE)return Me[0];const Ue=be.createElement("div");return Me.forEach(ht=>Ue.appendChild(ht)),Ue}function sn(We,be,Me){for(let Ue in be)if(be.hasOwnProperty(Ue)){const ht=be[Ue];ht?We.setProperty(Ue,ht,Me?.has(Ue)?"important":""):We.removeProperty(Ue)}return We}function zt(We,be){const Me=be?"":"none";sn(We.style,{"touch-action":be?"":"none","-webkit-user-drag":be?"":"none","-webkit-tap-highlight-color":be?"":"transparent","user-select":Me,"-ms-user-select":Me,"-webkit-user-select":Me,"-moz-user-select":Me})}function Gt(We,be,Me){sn(We.style,{position:be?"":"fixed",top:be?"":"0",opacity:be?"":"0",left:be?"":"-999em"},Me)}function Je(We,be){return be&&"none"!=be?We+" "+be:We}function ke(We,be){We.style.width=`${be.width}px`,We.style.height=`${be.height}px`,We.style.transform=Le(be.left,be.top)}function Le(We,be){return`translate3d(${Math.round(We)}px, ${Math.round(be)}px, 0)`}function ze(We){const be=We.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(We)*be}function Vt(We,be){return We.getPropertyValue(be).split(",").map(Ue=>Ue.trim())}const fn=new Set(["position"]);class At{get element(){return this._preview}constructor(be,Me,Ue,ht,Ut,pn,un,jn,Zn){this._document=be,this._rootElement=Me,this._direction=Ue,this._initialDomRect=ht,this._previewTemplate=Ut,this._previewClass=pn,this._pickupPositionOnPage=un,this._initialTransform=jn,this._zIndex=Zn}attach(be){this._preview=this._createPreview(),be.appendChild(this._preview),tn(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(be){this._preview.style.transform=be}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(be){this._preview.classList.add(be)}getTransitionDuration(){return function lt(We){const be=getComputedStyle(We),Me=Vt(be,"transition-property"),Ue=Me.find(un=>"transform"===un||"all"===un);if(!Ue)return 0;const ht=Me.indexOf(Ue),Ut=Vt(be,"transition-duration"),pn=Vt(be,"transition-delay");return ze(Ut[ht])+ze(pn[ht])}(this._preview)}addEventListener(be,Me){this._preview.addEventListener(be,Me)}removeEventListener(be,Me){this._preview.removeEventListener(be,Me)}_createPreview(){const be=this._previewTemplate,Me=this._previewClass,Ue=be?be.template:null;let ht;if(Ue&&be){const Ut=be.matchSize?this._initialDomRect:null,pn=be.viewContainer.createEmbeddedView(Ue,be.context);pn.detectChanges(),ht=Jt(pn,this._document),this._previewEmbeddedView=pn,be.matchSize?ke(ht,Ut):ht.style.transform=Le(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else ht=Un(this._rootElement),ke(ht,this._initialDomRect),this._initialTransform&&(ht.style.transform=this._initialTransform);return sn(ht.style,{"pointer-events":"none",margin:tn(ht)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},fn),zt(ht,!1),ht.classList.add("cdk-drag-preview"),ht.setAttribute("popover","manual"),ht.setAttribute("dir",this._direction),Me&&(Array.isArray(Me)?Me.forEach(Ut=>ht.classList.add(Ut)):ht.classList.add(Me)),ht}}function tn(We){return"showPopover"in We}const dt=(0,Q.BQ)({passive:!0}),Lt=(0,Q.BQ)({passive:!1}),Rt=(0,Q.BQ)({passive:!1,capture:!0}),$n=new Set(["position"]);class Di{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(be){be!==this._disabled&&(this._disabled=be,this._toggleNativeDragInteractions(),this._handles.forEach(Me=>zt(Me,be)))}constructor(be,Me,Ue,ht,Ut,pn){this._config=Me,this._document=Ue,this._ngZone=ht,this._viewportRuler=Ut,this._dragDropRegistry=pn,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=(0,i.vPA)(!1),this._moveEvents=new y.B,this._pointerMoveSubscription=I.yU.EMPTY,this._pointerUpSubscription=I.yU.EMPTY,this._scrollSubscription=I.yU.EMPTY,this._resizeSubscription=I.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new y.B,this.started=new y.B,this.released=new y.B,this.ended=new y.B,this.entered=new y.B,this.exited=new y.B,this.dropped=new y.B,this.moved=this._moveEvents,this._pointerDown=un=>{if(this.beforeStarted.next(),this._handles.length){const jn=this._getTargetHandle(un);jn&&!this._disabledHandles.has(jn)&&!this.disabled&&this._initializeDragSequence(jn,un)}else this.disabled||this._initializeDragSequence(this._rootElement,un)},this._pointerMove=un=>{const jn=this._getPointerPositionOnPage(un);if(!this._hasStartedDragging()){if(Math.abs(jn.x-this._pickupPositionOnPage.x)+Math.abs(jn.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const pr=Date.now()>=this._dragStartTime+this._getDragStartDelay(un),jo=this._dropContainer;if(!pr)return void this._endDragSequence(un);(!jo||!jo.isDragging()&&!jo.isReceiving())&&(un.cancelable&&un.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(un)))}return}un.cancelable&&un.preventDefault();const Zn=this._getConstrainedPointerPosition(jn);if(this._hasMoved=!0,this._lastKnownPointerPosition=jn,this._updatePointerDirectionDelta(Zn),this._dropContainer)this._updateActiveDropContainer(Zn,jn);else{const wi=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,_s=this._activeTransform;_s.x=Zn.x-wi.x+this._passiveTransform.x,_s.y=Zn.y-wi.y+this._passiveTransform.y,this._applyRootElementTransform(_s.x,_s.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:Zn,event:un,distance:this._getDragDistance(Zn),delta:this._pointerDirectionDelta})})},this._pointerUp=un=>{this._endDragSequence(un)},this._nativeDragStart=un=>{if(this._handles.length){const jn=this._getTargetHandle(un);jn&&!this._disabledHandles.has(jn)&&!this.disabled&&un.preventDefault()}else this.disabled||un.preventDefault()},this.withRootElement(be).withParent(Me.parentDragRef||null),this._parentPositions=new vt(Ue),pn.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(be){this._handles=be.map(Ue=>v(Ue)),this._handles.forEach(Ue=>zt(Ue,this.disabled)),this._toggleNativeDragInteractions();const Me=new Set;return this._disabledHandles.forEach(Ue=>{this._handles.indexOf(Ue)>-1&&Me.add(Ue)}),this._disabledHandles=Me,this}withPreviewTemplate(be){return this._previewTemplate=be,this}withPlaceholderTemplate(be){return this._placeholderTemplate=be,this}withRootElement(be){const Me=v(be);return Me!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{Me.addEventListener("mousedown",this._pointerDown,Lt),Me.addEventListener("touchstart",this._pointerDown,dt),Me.addEventListener("dragstart",this._nativeDragStart,Lt)}),this._initialTransform=void 0,this._rootElement=Me),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(be){return this._boundaryElement=be?v(be):null,this._resizeSubscription.unsubscribe(),be&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(be){return this._parentDragRef=be,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(be){!this._disabledHandles.has(be)&&this._handles.indexOf(be)>-1&&(this._disabledHandles.add(be),zt(be,!0))}enableHandle(be){this._disabledHandles.has(be)&&(this._disabledHandles.delete(be),zt(be,this.disabled))}withDirection(be){return this._direction=be,this}_withDropContainer(be){this._dropContainer=be}getFreeDragPosition(){const be=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:be.x,y:be.y}}setFreeDragPosition(be){return this._activeTransform={x:0,y:0},this._passiveTransform.x=be.x,this._passiveTransform.y=be.y,this._dropContainer||this._applyRootElementTransform(be.x,be.y),this}withPreviewContainer(be){return this._previewContainer=be,this}_sortFromLastPointerPosition(){const be=this._lastKnownPointerPosition;be&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(be),be)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",En,Rt)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(be){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:be}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(be),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const Me=this._getPointerPositionOnPage(be);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(Me),dropPoint:Me,event:be})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(be){_t(be)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const Me=this._getShadowRoot(),Ue=this._dropContainer;if(Me&&this._ngZone.runOutsideAngular(()=>{Me.addEventListener("selectstart",En,Rt)}),Ue){const ht=this._rootElement,Ut=ht.parentNode,pn=this._placeholder=this._createPlaceholderElement(),un=this._anchor=this._anchor||this._document.createComment("");Ut.insertBefore(un,ht),this._initialTransform=ht.style.transform||"",this._preview=new At(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(Ut,Me)),Gt(ht,!1,$n),this._document.body.appendChild(Ut.replaceChild(pn,ht)),this.started.next({source:this,event:be}),Ue.start(),this._initialContainer=Ue,this._initialIndex=Ue.getItemIndex(this)}else this.started.next({source:this,event:be}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Ue?Ue.getScrollableParents():[])}_initializeDragSequence(be,Me){this._parentDragRef&&Me.stopPropagation();const Ue=this.isDragging(),ht=_t(Me),Ut=!ht&&0!==Me.button,pn=this._rootElement,un=(0,Q.Fb)(Me),jn=!ht&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),Zn=ht?(0,Te.w6)(Me):(0,Te._G)(Me);if(un&&un.draggable&&"mousedown"===Me.type&&Me.preventDefault(),Ue||Ut||jn||Zn)return;if(this._handles.length){const Uo=pn.style;this._rootElementTapHighlight=Uo.webkitTapHighlightColor||"",Uo.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Uo=>this._updateOnScroll(Uo)),this._boundaryElement&&(this._boundaryRect=ln(this._boundaryElement));const wi=this._previewTemplate;this._pickupPositionInElement=wi&&wi.template&&!wi.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,be,Me);const _s=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(Me);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:_s.x,y:_s.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,Me)}_cleanupDragArtifacts(be){Gt(this._rootElement,!0,$n),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const Me=this._dropContainer,Ue=Me.getItemIndex(this),ht=this._getPointerPositionOnPage(be),Ut=this._getDragDistance(ht),pn=Me._isOverContainer(ht.x,ht.y);this.ended.next({source:this,distance:Ut,dropPoint:ht,event:be}),this.dropped.next({item:this,currentIndex:Ue,previousIndex:this._initialIndex,container:Me,previousContainer:this._initialContainer,isPointerOverContainer:pn,distance:Ut,dropPoint:ht,event:be}),Me.drop(this,Ue,this._initialIndex,this._initialContainer,pn,Ut,ht,be),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:be,y:Me},{x:Ue,y:ht}){let Ut=this._initialContainer._getSiblingContainerFromPosition(this,be,Me);!Ut&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(be,Me)&&(Ut=this._initialContainer),Ut&&Ut!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=Ut,this._dropContainer.enter(this,be,Me,Ut===this._initialContainer&&Ut.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:Ut,currentIndex:Ut.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Ue,ht),this._dropContainer._sortItem(this,be,Me,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(be,Me):this._applyPreviewTransform(be-this._pickupPositionInElement.x,Me-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const be=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(be.left,be.top);const Me=this._preview.getTransitionDuration();return 0===Me?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Ue=>{const ht=pn=>{(!pn||this._preview&&(0,Q.Fb)(pn)===this._preview.element&&"transform"===pn.propertyName)&&(this._preview?.removeEventListener("transitionend",ht),Ue(),clearTimeout(Ut))},Ut=setTimeout(ht,1.5*Me);this._preview.addEventListener("transitionend",ht)}))}_createPlaceholderElement(){const be=this._placeholderTemplate,Me=be?be.template:null;let Ue;return Me?(this._placeholderRef=be.viewContainer.createEmbeddedView(Me,be.context),this._placeholderRef.detectChanges(),Ue=Jt(this._placeholderRef,this._document)):Ue=Un(this._rootElement),Ue.style.pointerEvents="none",Ue.classList.add("cdk-drag-placeholder"),Ue}_getPointerPositionInElement(be,Me,Ue){const ht=Me===this._rootElement?null:Me,Ut=ht?ht.getBoundingClientRect():be,pn=_t(Ue)?Ue.targetTouches[0]:Ue,un=this._getViewportScrollPosition();return{x:Ut.left-be.left+(pn.pageX-Ut.left-un.left),y:Ut.top-be.top+(pn.pageY-Ut.top-un.top)}}_getPointerPositionOnPage(be){const Me=this._getViewportScrollPosition(),Ue=_t(be)?be.touches[0]||be.changedTouches[0]||{pageX:0,pageY:0}:be,ht=Ue.pageX-Me.left,Ut=Ue.pageY-Me.top;if(this._ownerSVGElement){const pn=this._ownerSVGElement.getScreenCTM();if(pn){const un=this._ownerSVGElement.createSVGPoint();return un.x=ht,un.y=Ut,un.matrixTransform(pn.inverse())}}return{x:ht,y:Ut}}_getConstrainedPointerPosition(be){const Me=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Ue,y:ht}=this.constrainPosition?this.constrainPosition(be,this,this._initialDomRect,this._pickupPositionInElement):be;if("x"===this.lockAxis||"x"===Me?ht=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===Me)&&(Ue=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:Ut,y:pn}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,un=this._boundaryRect,{width:jn,height:Zn}=this._getPreviewRect(),wi=un.top+pn,_s=un.bottom-(Zn-pn);Ue=bt(Ue,un.left+Ut,un.right-(jn-Ut)),ht=bt(ht,wi,_s)}return{x:Ue,y:ht}}_updatePointerDirectionDelta(be){const{x:Me,y:Ue}=be,ht=this._pointerDirectionDelta,Ut=this._pointerPositionAtLastDirectionChange,pn=Math.abs(Me-Ut.x),un=Math.abs(Ue-Ut.y);return pn>this._config.pointerDirectionChangeThreshold&&(ht.x=Me>Ut.x?1:-1,Ut.x=Me),un>this._config.pointerDirectionChangeThreshold&&(ht.y=Ue>Ut.y?1:-1,Ut.y=Ue),ht}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const be=this._handles.length>0||!this.isDragging();be!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=be,zt(this._rootElement,be))}_removeRootElementListeners(be){be.removeEventListener("mousedown",this._pointerDown,Lt),be.removeEventListener("touchstart",this._pointerDown,dt),be.removeEventListener("dragstart",this._nativeDragStart,Lt)}_applyRootElementTransform(be,Me){const Ue=1/this.scale,ht=Le(be*Ue,Me*Ue),Ut=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=Ut.transform&&"none"!=Ut.transform?Ut.transform:""),Ut.transform=Je(ht,this._initialTransform)}_applyPreviewTransform(be,Me){const Ue=this._previewTemplate?.template?void 0:this._initialTransform,ht=Le(be,Me);this._preview.setTransform(Je(ht,Ue))}_getDragDistance(be){const Me=this._pickupPositionOnPage;return Me?{x:be.x-Me.x,y:be.y-Me.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:be,y:Me}=this._passiveTransform;if(0===be&&0===Me||this.isDragging()||!this._boundaryElement)return;const Ue=this._rootElement.getBoundingClientRect(),ht=this._boundaryElement.getBoundingClientRect();if(0===ht.width&&0===ht.height||0===Ue.width&&0===Ue.height)return;const Ut=ht.left-Ue.left,pn=Ue.right-ht.right,un=ht.top-Ue.top,jn=Ue.bottom-ht.bottom;ht.width>Ue.width?(Ut>0&&(be+=Ut),pn>0&&(be-=pn)):be=0,ht.height>Ue.height?(un>0&&(Me+=un),jn>0&&(Me-=jn)):Me=0,(be!==this._passiveTransform.x||Me!==this._passiveTransform.y)&&this.setFreeDragPosition({y:Me,x:be})}_getDragStartDelay(be){const Me=this.dragStartDelay;return"number"==typeof Me?Me:_t(be)?Me.touch:Me?Me.mouse:0}_updateOnScroll(be){const Me=this._parentPositions.handleScroll(be);if(Me){const Ue=(0,Q.Fb)(be);this._boundaryRect&&Ue!==this._boundaryElement&&Ue.contains(this._boundaryElement)&&Et(this._boundaryRect,Me.top,Me.left),this._pickupPositionOnPage.x+=Me.left,this._pickupPositionOnPage.y+=Me.top,this._dropContainer||(this._activeTransform.x-=Me.left,this._activeTransform.y-=Me.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,Q.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(be,Me){const Ue=this._previewContainer||"global";if("parent"===Ue)return be;if("global"===Ue){const ht=this._document;return Me||ht.fullscreenElement||ht.webkitFullscreenElement||ht.mozFullScreenElement||ht.msFullscreenElement||ht.body}return v(Ue)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(be){return this._handles.find(Me=>be.target&&(be.target===Me||Me.contains(be.target)))}}function bt(We,be,Me){return Math.max(be,Math.min(Me,We))}function _t(We){return"t"===We.type[0]}function En(We){We.preventDefault()}function Tn(We,be,Me){const Ue=ai(be,We.length-1),ht=ai(Me,We.length-1);if(Ue===ht)return;const Ut=We[Ue],pn=ht<Ue?-1:1;for(let un=Ue;un!==ht;un+=pn)We[un]=We[un+pn];We[ht]=Ut}function ai(We,be){return Math.max(0,Math.min(be,We))}class ns{constructor(be){this._dragDropRegistry=be,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(be){this.withItems(be)}sort(be,Me,Ue,ht){const Ut=this._itemPositions,pn=this._getItemIndexFromPointerPosition(be,Me,Ue,ht);if(-1===pn&&Ut.length>0)return null;const un="horizontal"===this.orientation,jn=Ut.findIndex(Zs=>Zs.drag===be),Zn=Ut[pn],_s=Zn.clientRect,Uo=jn>pn?1:-1,pr=this._getItemOffsetPx(Ut[jn].clientRect,_s,Uo),jo=this._getSiblingOffsetPx(jn,Ut,Uo),er=Ut.slice();return Tn(Ut,jn,pn),Ut.forEach((Zs,tr)=>{if(er[tr]===Zs)return;const Cr=Zs.drag===be,Sr=Cr?pr:jo,oa=Cr?be.getPlaceholderElement():Zs.drag.getRootElement();Zs.offset+=Sr;const fr=Math.round(Zs.offset*(1/Zs.drag.scale));un?(oa.style.transform=Je(`translate3d(${fr}px, 0, 0)`,Zs.initialTransform),Et(Zs.clientRect,0,Sr)):(oa.style.transform=Je(`translate3d(0, ${fr}px, 0)`,Zs.initialTransform),Et(Zs.clientRect,Sr,0))}),this._previousSwap.overlaps=we(_s,Me,Ue),this._previousSwap.drag=Zn.drag,this._previousSwap.delta=un?ht.x:ht.y,{previousIndex:jn,currentIndex:pn}}enter(be,Me,Ue,ht){const Ut=null==ht||ht<0?this._getItemIndexFromPointerPosition(be,Me,Ue):ht,pn=this._activeDraggables,un=pn.indexOf(be),jn=be.getPlaceholderElement();let Zn=pn[Ut];if(Zn===be&&(Zn=pn[Ut+1]),!Zn&&(null==Ut||-1===Ut||Ut<pn.length-1)&&this._shouldEnterAsFirstChild(Me,Ue)&&(Zn=pn[0]),un>-1&&pn.splice(un,1),Zn&&!this._dragDropRegistry.isDragging(Zn)){const wi=Zn.getRootElement();wi.parentElement.insertBefore(jn,wi),pn.splice(Ut,0,be)}else this._element.appendChild(jn),pn.push(be);jn.style.transform="",this._cacheItemPositions()}withItems(be){this._activeDraggables=be.slice(),this._cacheItemPositions()}withSortPredicate(be){this._sortPredicate=be}reset(){this._activeDraggables?.forEach(be=>{const Me=be.getRootElement();if(Me){const Ue=this._itemPositions.find(ht=>ht.drag===be)?.initialTransform;Me.style.transform=Ue||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(be){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Ue=>Ue.drag===be)}updateOnScroll(be,Me){this._itemPositions.forEach(({clientRect:Ue})=>{Et(Ue,be,Me)}),this._itemPositions.forEach(({drag:Ue})=>{this._dragDropRegistry.isDragging(Ue)&&Ue._sortFromLastPointerPosition()})}withElementContainer(be){this._element=be}_cacheItemPositions(){const be="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(Me=>{const Ue=Me.getVisibleElement();return{drag:Me,offset:0,initialTransform:Ue.style.transform||"",clientRect:ln(Ue)}}).sort((Me,Ue)=>be?Me.clientRect.left-Ue.clientRect.left:Me.clientRect.top-Ue.clientRect.top)}_getItemOffsetPx(be,Me,Ue){const ht="horizontal"===this.orientation;let Ut=ht?Me.left-be.left:Me.top-be.top;return-1===Ue&&(Ut+=ht?Me.width-be.width:Me.height-be.height),Ut}_getSiblingOffsetPx(be,Me,Ue){const ht="horizontal"===this.orientation,Ut=Me[be].clientRect,pn=Me[be+-1*Ue];let un=Ut[ht?"width":"height"]*Ue;if(pn){const jn=ht?"left":"top",Zn=ht?"right":"bottom";-1===Ue?un-=pn.clientRect[jn]-Ut[Zn]:un+=Ut[jn]-pn.clientRect[Zn]}return un}_shouldEnterAsFirstChild(be,Me){if(!this._activeDraggables.length)return!1;const Ue=this._itemPositions,ht="horizontal"===this.orientation;if(Ue[0].drag!==this._activeDraggables[0]){const pn=Ue[Ue.length-1].clientRect;return ht?be>=pn.right:Me>=pn.bottom}{const pn=Ue[0].clientRect;return ht?be<=pn.left:Me<=pn.top}}_getItemIndexFromPointerPosition(be,Me,Ue,ht){const Ut="horizontal"===this.orientation,pn=this._itemPositions.findIndex(({drag:un,clientRect:jn})=>un!==be&&((!ht||un!==this._previousSwap.drag||!this._previousSwap.overlaps||(Ut?ht.x:ht.y)!==this._previousSwap.delta)&&(Ut?Me>=Math.floor(jn.left)&&Me<Math.floor(jn.right):Ue>=Math.floor(jn.top)&&Ue<Math.floor(jn.bottom))));return-1!==pn&&this._sortPredicate(pn,be)?pn:-1}}class is{constructor(be,Me){this._document=be,this._dragDropRegistry=Me,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(be){const Me=this._element.childNodes;this._relatedNodes=[];for(let Ue=0;Ue<Me.length;Ue++){const ht=Me[Ue];this._relatedNodes.push([ht,ht.nextSibling])}this.withItems(be)}sort(be,Me,Ue,ht){const Ut=this._getItemIndexFromPointerPosition(be,Me,Ue),pn=this._previousSwap;if(-1===Ut||this._activeItems[Ut]===be)return null;const un=this._activeItems[Ut];if(pn.drag===un&&pn.overlaps&&pn.deltaX===ht.x&&pn.deltaY===ht.y)return null;const jn=this.getItemIndex(be),Zn=be.getPlaceholderElement(),wi=un.getRootElement();Ut>jn?wi.after(Zn):wi.before(Zn),Tn(this._activeItems,jn,Ut);const _s=this._getRootNode().elementFromPoint(Me,Ue);return pn.deltaX=ht.x,pn.deltaY=ht.y,pn.drag=un,pn.overlaps=wi===_s||wi.contains(_s),{previousIndex:jn,currentIndex:Ut}}enter(be,Me,Ue,ht){let Ut=null==ht||ht<0?this._getItemIndexFromPointerPosition(be,Me,Ue):ht;-1===Ut&&(Ut=this._getClosestItemIndexToPointer(be,Me,Ue));const pn=this._activeItems[Ut],un=this._activeItems.indexOf(be);un>-1&&this._activeItems.splice(un,1),pn&&!this._dragDropRegistry.isDragging(pn)?(this._activeItems.splice(Ut,0,be),pn.getRootElement().before(be.getPlaceholderElement())):(this._activeItems.push(be),this._element.appendChild(be.getPlaceholderElement()))}withItems(be){this._activeItems=be.slice()}withSortPredicate(be){this._sortPredicate=be}reset(){const be=this._element,Me=this._previousSwap;for(let Ue=this._relatedNodes.length-1;Ue>-1;Ue--){const[ht,Ut]=this._relatedNodes[Ue];ht.parentNode===be&&ht.nextSibling!==Ut&&(null===Ut?be.appendChild(ht):Ut.parentNode===be&&be.insertBefore(ht,Ut))}this._relatedNodes=[],this._activeItems=[],Me.drag=null,Me.deltaX=Me.deltaY=0,Me.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(be){return this._activeItems.indexOf(be)}updateOnScroll(){this._activeItems.forEach(be=>{this._dragDropRegistry.isDragging(be)&&be._sortFromLastPointerPosition()})}withElementContainer(be){be!==this._element&&(this._element=be,this._rootNode=void 0)}_getItemIndexFromPointerPosition(be,Me,Ue){const ht=this._getRootNode().elementFromPoint(Math.floor(Me),Math.floor(Ue)),Ut=ht?this._activeItems.findIndex(pn=>{const un=pn.getRootElement();return ht===un||un.contains(ht)}):-1;return-1!==Ut&&this._sortPredicate(Ut,be)?Ut:-1}_getRootNode(){return this._rootNode||(this._rootNode=(0,Q.KT)(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(be,Me,Ue){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let ht=1/0,Ut=-1;for(let pn=0;pn<this._activeItems.length;pn++){const un=this._activeItems[pn];if(un!==be){const{x:jn,y:Zn}=un.getRootElement().getBoundingClientRect(),wi=Math.hypot(Me-jn,Ue-Zn);wi<ht&&(ht=wi,Ut=pn)}}return Ut}}var cn=function(We){return We[We.NONE=0]="NONE",We[We.UP=1]="UP",We[We.DOWN=2]="DOWN",We}(cn||{}),gn=function(We){return We[We.NONE=0]="NONE",We[We.LEFT=1]="LEFT",We[We.RIGHT=2]="RIGHT",We}(gn||{});class fi{constructor(be,Me,Ue,ht,Ut){this._dragDropRegistry=Me,this._ngZone=ht,this._viewportRuler=Ut,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new y.B,this.entered=new y.B,this.exited=new y.B,this.dropped=new y.B,this.sorted=new y.B,this.receivingStarted=new y.B,this.receivingStopped=new y.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=I.yU.EMPTY,this._verticalScrollDirection=cn.NONE,this._horizontalScrollDirection=gn.NONE,this._stopScrollTimers=new y.B,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),(0,pt.Y)(0,T).pipe((0,it.Q)(this._stopScrollTimers)).subscribe(()=>{const un=this._scrollNode,jn=this.autoScrollStep;this._verticalScrollDirection===cn.UP?un.scrollBy(0,-jn):this._verticalScrollDirection===cn.DOWN&&un.scrollBy(0,jn),this._horizontalScrollDirection===gn.LEFT?un.scrollBy(-jn,0):this._horizontalScrollDirection===gn.RIGHT&&un.scrollBy(jn,0)})};const pn=this.element=v(be);this._document=Ue,this.withOrientation("vertical").withElementContainer(pn),Me.registerDropContainer(this),this._parentPositions=new vt(Ue)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(be,Me,Ue,ht){this._draggingStarted(),null==ht&&this.sortingDisabled&&(ht=this._draggables.indexOf(be)),this._sortStrategy.enter(be,Me,Ue,ht),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:be,container:this,currentIndex:this.getItemIndex(be)})}exit(be){this._reset(),this.exited.next({item:be,container:this})}drop(be,Me,Ue,ht,Ut,pn,un,jn={}){this._reset(),this.dropped.next({item:be,currentIndex:Me,previousIndex:Ue,container:this,previousContainer:ht,isPointerOverContainer:Ut,distance:pn,dropPoint:un,event:jn})}withItems(be){const Me=this._draggables;return this._draggables=be,be.forEach(Ue=>Ue._withDropContainer(this)),this.isDragging()&&(Me.filter(ht=>ht.isDragging()).every(ht=>-1===be.indexOf(ht))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(be){return this._direction=be,this._sortStrategy instanceof ns&&(this._sortStrategy.direction=be),this}connectedTo(be){return this._siblings=be.slice(),this}withOrientation(be){if("mixed"===be)this._sortStrategy=new is(this._document,this._dragDropRegistry);else{const Me=new ns(this._dragDropRegistry);Me.direction=this._direction,Me.orientation=be,this._sortStrategy=Me}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((Me,Ue)=>this.sortPredicate(Me,Ue,this)),this}withScrollableParents(be){const Me=this._container;return this._scrollableElements=-1===be.indexOf(Me)?[Me,...be]:be.slice(),this}withElementContainer(be){if(be===this._container)return this;v(this.element);const Ue=this._scrollableElements.indexOf(this._container),ht=this._scrollableElements.indexOf(be);return Ue>-1&&this._scrollableElements.splice(Ue,1),ht>-1&&this._scrollableElements.splice(ht,1),this._sortStrategy&&this._sortStrategy.withElementContainer(be),this._cachedShadowRoot=null,this._scrollableElements.unshift(be),this._container=be,this}getScrollableParents(){return this._scrollableElements}getItemIndex(be){return this._isDragging?this._sortStrategy.getItemIndex(be):this._draggables.indexOf(be)}isReceiving(){return this._activeSiblings.size>0}_sortItem(be,Me,Ue,ht){if(this.sortingDisabled||!this._domRect||!kt(this._domRect,.05,Me,Ue))return;const Ut=this._sortStrategy.sort(be,Me,Ue,ht);Ut&&this.sorted.next({previousIndex:Ut.previousIndex,currentIndex:Ut.currentIndex,container:this,item:be})}_startScrollingIfNecessary(be,Me){if(this.autoScrollDisabled)return;let Ue,ht=cn.NONE,Ut=gn.NONE;if(this._parentPositions.positions.forEach((pn,un)=>{un===this._document||!pn.clientRect||Ue||kt(pn.clientRect,.05,be,Me)&&([ht,Ut]=function Ai(We,be,Me,Ue,ht){const Ut=Si(be,ht),pn=ms(be,Ue);let un=cn.NONE,jn=gn.NONE;if(Ut){const Zn=We.scrollTop;Ut===cn.UP?Zn>0&&(un=cn.UP):We.scrollHeight-Zn>We.clientHeight&&(un=cn.DOWN)}if(pn){const Zn=We.scrollLeft;"rtl"===Me?pn===gn.RIGHT?Zn<0&&(jn=gn.RIGHT):We.scrollWidth+Zn>We.clientWidth&&(jn=gn.LEFT):pn===gn.LEFT?Zn>0&&(jn=gn.LEFT):We.scrollWidth-Zn>We.clientWidth&&(jn=gn.RIGHT)}return[un,jn]}(un,pn.clientRect,this._direction,be,Me),(ht||Ut)&&(Ue=un))}),!ht&&!Ut){const{width:pn,height:un}=this._viewportRuler.getViewportSize(),jn={width:pn,height:un,top:0,right:pn,bottom:un,left:0};ht=Si(jn,Me),Ut=ms(jn,be),Ue=window}Ue&&(ht!==this._verticalScrollDirection||Ut!==this._horizontalScrollDirection||Ue!==this._scrollNode)&&(this._verticalScrollDirection=ht,this._horizontalScrollDirection=Ut,this._scrollNode=Ue,(ht||Ut)&&Ue?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const be=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=be.msScrollSnapType||be.scrollSnapType||"",be.scrollSnapType=be.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const be=this._container.style;be.scrollSnapType=be.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(Me=>Me._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(be,Me){return null!=this._domRect&&we(this._domRect,be,Me)}_getSiblingContainerFromPosition(be,Me,Ue){return this._siblings.find(ht=>ht._canReceive(be,Me,Ue))}_canReceive(be,Me,Ue){if(!this._domRect||!we(this._domRect,Me,Ue)||!this.enterPredicate(be,this))return!1;const ht=this._getShadowRoot().elementFromPoint(Me,Ue);return!!ht&&(ht===this._container||this._container.contains(ht))}_startReceiving(be,Me){const Ue=this._activeSiblings;!Ue.has(be)&&Me.every(ht=>this.enterPredicate(ht,this)||this._draggables.indexOf(ht)>-1)&&(Ue.add(be),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:be,receiver:this,items:Me}))}_stopReceiving(be){this._activeSiblings.delete(be),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:be,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(be=>{if(this.isDragging()){const Me=this._parentPositions.handleScroll(be);Me&&this._sortStrategy.updateOnScroll(Me.top,Me.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const be=(0,Q.KT)(this._container);this._cachedShadowRoot=be||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const be=this._sortStrategy.getActiveItemsSnapshot().filter(Me=>Me.isDragging());this._siblings.forEach(Me=>Me._startReceiving(this,be))}}function Si(We,be){const{top:Me,bottom:Ue,height:ht}=We,Ut=.05*ht;return be>=Me-Ut&&be<=Me+Ut?cn.UP:be>=Ue-Ut&&be<=Ue+Ut?cn.DOWN:cn.NONE}function ms(We,be){const{left:Me,right:Ue,width:ht}=We,Ut=.05*ht;return be>=Me-Ut&&be<=Me+Ut?gn.LEFT:be>=Ue-Ut&&be<=Ue+Ut?gn.RIGHT:gn.NONE}const xi=(0,Q.BQ)({passive:!1,capture:!0}),Zt=new Set;let Ii=(()=>{class We{static{this.\u0275fac=function(Ue){return new(Ue||We)}}static{this.\u0275cmp=i.VBU({type:We,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(Ue,ht){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}}return We})(),Xt=(()=>{class We{constructor(Me,Ue){this._ngZone=Me,this._appRef=(0,i.WQX)(i.o8S),this._environmentInjector=(0,i.WQX)(i.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=(0,i.vPA)([]),this._globalListeners=new Map,this._draggingPredicate=ht=>ht.isDragging(),this.pointerMove=new y.B,this.pointerUp=new y.B,this.scroll=new y.B,this._preventDefaultWhileDragging=ht=>{this._activeDragInstances().length>0&&ht.preventDefault()},this._persistentTouchmoveListener=ht=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&ht.preventDefault(),this.pointerMove.next(ht))},this._document=Ue}registerDropContainer(Me){this._dropInstances.has(Me)||this._dropInstances.add(Me)}registerDragItem(Me){this._dragInstances.add(Me),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,xi)})}removeDropContainer(Me){this._dropInstances.delete(Me)}removeDragItem(Me){this._dragInstances.delete(Me),this.stopDragging(Me),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,xi)}startDragging(Me,Ue){if(!(this._activeDragInstances().indexOf(Me)>-1)&&(this._loadResets(),this._activeDragInstances.update(ht=>[...ht,Me]),1===this._activeDragInstances().length)){const ht=Ue.type.startsWith("touch");this._globalListeners.set(ht?"touchend":"mouseup",{handler:Ut=>this.pointerUp.next(Ut),options:!0}).set("scroll",{handler:Ut=>this.scroll.next(Ut),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:xi}),ht||this._globalListeners.set("mousemove",{handler:Ut=>this.pointerMove.next(Ut),options:xi}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((Ut,pn)=>{this._document.addEventListener(pn,Ut.handler,Ut.options)})})}}stopDragging(Me){this._activeDragInstances.update(Ue=>{const ht=Ue.indexOf(Me);return ht>-1?(Ue.splice(ht,1),[...Ue]):Ue}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(Me){return this._activeDragInstances().indexOf(Me)>-1}scrolled(Me){const Ue=[this.scroll];return Me&&Me!==this._document&&Ue.push(new b.c(ht=>this._ngZone.runOutsideAngular(()=>{const pn=un=>{this._activeDragInstances().length&&ht.next(un)};return Me.addEventListener("scroll",pn,!0),()=>{Me.removeEventListener("scroll",pn,!0)}}))),(0,He.h)(...Ue)}ngOnDestroy(){this._dragInstances.forEach(Me=>this.removeDragItem(Me)),this._dropInstances.forEach(Me=>this.removeDropContainer(Me)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((Me,Ue)=>{this._document.removeEventListener(Ue,Me.handler,Me.options)}),this._globalListeners.clear()}_loadResets(){if(!Zt.has(this._appRef)){Zt.add(this._appRef);const Me=(0,i.a0P)(Ii,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Zt.delete(this._appRef),0===Zt.size&&Me.destroy()})}}static{this.\u0275fac=function(Ue){return new(Ue||We)(i.KVO(i.SKi),i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}}return We})();const It={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Fe=(()=>{class We{constructor(Me,Ue,ht,Ut){this._document=Me,this._ngZone=Ue,this._viewportRuler=ht,this._dragDropRegistry=Ut}createDrag(Me,Ue=It){return new Di(Me,Ue,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(Me){return new fi(Me,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(Ue){return new(Ue||We)(i.KVO(t.qQ),i.KVO(i.SKi),i.KVO(ae),i.KVO(Xt))}}static{this.\u0275prov=i.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}}return We})();const Xe=new i.nKC("CDK_DRAG_PARENT"),Yt=new i.nKC("CdkDragHandle");let Cn=(()=>{class We{get disabled(){return this._disabled}set disabled(Me){this._disabled=Me,this._stateChanges.next(this)}constructor(Me,Ue){this.element=Me,this._parentDrag=Ue,this._stateChanges=new y.B,this._disabled=!1,Ue?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static{this.\u0275fac=function(Ue){return new(Ue||We)(i.rXU(i.aKT),i.rXU(Xe,12))}}static{this.\u0275dir=i.FsC({type:We,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",i.L39]},standalone:!0,features:[i.Jv_([{provide:Yt,useExisting:We}]),i.GFd]})}}return We})();const On=new i.nKC("CDK_DRAG_CONFIG"),Qn=new i.nKC("CdkDropList");let Jn=(()=>{class We{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(Me){this._disabled=Me,this._dragRef.disabled=this._disabled}constructor(Me,Ue,ht,Ut,pn,un,jn,Zn,wi,_s,Uo){this.element=Me,this.dropContainer=Ue,this._ngZone=Ut,this._viewContainerRef=pn,this._dir=jn,this._changeDetectorRef=wi,this._selfHandle=_s,this._parentDrag=Uo,this._destroyed=new y.B,this._handles=new Bt.t([]),this.scale=1,this.started=new i.bkB,this.released=new i.bkB,this.ended=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.dropped=new i.bkB,this.moved=new b.c(pr=>{const jo=this._dragRef.moved.pipe((0,Tt.T)(er=>({source:this,pointerPosition:er.pointerPosition,event:er.event,delta:er.delta,distance:er.distance}))).subscribe(pr);return()=>{jo.unsubscribe()}}),this._injector=(0,i.WQX)(i.zZn),this._dragRef=Zn.createDrag(Me,{dragStartThreshold:un&&null!=un.dragStartThreshold?un.dragStartThreshold:5,pointerDirectionChangeThreshold:un&&null!=un.pointerDirectionChangeThreshold?un.pointerDirectionChangeThreshold:5,zIndex:un?.zIndex}),this._dragRef.data=this,We._dragInstances.push(this),un&&this._assignDefaults(un),Ue&&(this._dragRef._withDropContainer(Ue._dropListRef),Ue.addItem(this),Ue._dropListRef.beforeStarted.pipe((0,it.Q)(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(Me){this._dragRef.setFreeDragPosition(Me)}ngAfterViewInit(){(0,i.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(Me){const Ue=Me.rootElementSelector,ht=Me.freeDragPosition;Ue&&!Ue.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,ht&&!ht.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const Me=We._dragInstances.indexOf(this);Me>-1&&We._dragInstances.splice(Me,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(Me){const Ue=this._handles.getValue();Ue.push(Me),this._handles.next(Ue)}_removeHandle(Me){const Ue=this._handles.getValue(),ht=Ue.indexOf(Me);ht>-1&&(Ue.splice(ht,1),this._handles.next(Ue))}_setPreviewTemplate(Me){this._previewTemplate=Me}_resetPreviewTemplate(Me){Me===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(Me){this._placeholderTemplate=Me}_resetPlaceholderTemplate(Me){Me===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const Me=this.element.nativeElement;let Ue=Me;this.rootElementSelector&&(Ue=void 0!==Me.closest?Me.closest(this.rootElementSelector):Me.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(Ue||Me)}_getBoundaryElement(){const Me=this.boundaryElement;return Me?"string"==typeof Me?this.element.nativeElement.closest(Me):v(Me):null}_syncInputs(Me){Me.beforeStarted.subscribe(()=>{if(!Me.isDragging()){const Ue=this._dir,ht=this.dragStartDelay,Ut=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,pn=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;Me.disabled=this.disabled,Me.lockAxis=this.lockAxis,Me.scale=this.scale,Me.dragStartDelay="object"==typeof ht&&ht?ht:e(ht),Me.constrainPosition=this.constrainPosition,Me.previewClass=this.previewClass,Me.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(Ut).withPreviewTemplate(pn).withPreviewContainer(this.previewContainer||"global"),Ue&&Me.withDirection(Ue.value)}}),Me.beforeStarted.pipe((0,Ee.s)(1)).subscribe(()=>{if(this._parentDrag)return void Me.withParent(this._parentDrag._dragRef);let Ue=this.element.nativeElement.parentElement;for(;Ue;){if(Ue.classList.contains("cdk-drag")){Me.withParent(We._dragInstances.find(ht=>ht.element.nativeElement===Ue)?._dragRef||null);break}Ue=Ue.parentElement}})}_handleEvents(Me){Me.started.subscribe(Ue=>{this.started.emit({source:this,event:Ue.event}),this._changeDetectorRef.markForCheck()}),Me.released.subscribe(Ue=>{this.released.emit({source:this,event:Ue.event})}),Me.ended.subscribe(Ue=>{this.ended.emit({source:this,distance:Ue.distance,dropPoint:Ue.dropPoint,event:Ue.event}),this._changeDetectorRef.markForCheck()}),Me.entered.subscribe(Ue=>{this.entered.emit({container:Ue.container.data,item:this,currentIndex:Ue.currentIndex})}),Me.exited.subscribe(Ue=>{this.exited.emit({container:Ue.container.data,item:this})}),Me.dropped.subscribe(Ue=>{this.dropped.emit({previousIndex:Ue.previousIndex,currentIndex:Ue.currentIndex,previousContainer:Ue.previousContainer.data,container:Ue.container.data,isPointerOverContainer:Ue.isPointerOverContainer,item:this,distance:Ue.distance,dropPoint:Ue.dropPoint,event:Ue.event})})}_assignDefaults(Me){const{lockAxis:Ue,dragStartDelay:ht,constrainPosition:Ut,previewClass:pn,boundaryElement:un,draggingDisabled:jn,rootElementSelector:Zn,previewContainer:wi}=Me;this.disabled=jn??!1,this.dragStartDelay=ht||0,Ue&&(this.lockAxis=Ue),Ut&&(this.constrainPosition=Ut),pn&&(this.previewClass=pn),un&&(this.boundaryElement=un),Zn&&(this.rootElementSelector=Zn),wi&&(this.previewContainer=wi)}_setupHandlesListener(){this._handles.pipe((0,je.M)(Me=>{const Ue=Me.map(ht=>ht.element);this._selfHandle&&this.rootElementSelector&&Ue.push(this.element),this._dragRef.withHandles(Ue)}),(0,ft.n)(Me=>(0,He.h)(...Me.map(Ue=>Ue._stateChanges.pipe((0,vn.Z)(Ue))))),(0,it.Q)(this._destroyed)).subscribe(Me=>{const Ue=this._dragRef,ht=Me.element.nativeElement;Me.disabled?Ue.disableHandle(ht):Ue.enableHandle(ht)})}static{this.\u0275fac=function(Ue){return new(Ue||We)(i.rXU(i.aKT),i.rXU(Qn,12),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.c1b),i.rXU(On,8),i.rXU(hn.dS,8),i.rXU(Fe),i.rXU(i.gRc),i.rXU(Yt,10),i.rXU(Xe,12))}}static{this.\u0275dir=i.FsC({type:We,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Ue,ht){2&Ue&&i.AVh("cdk-drag-disabled",ht.disabled)("cdk-drag-dragging",ht._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",i.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",i.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[i.Jv_([{provide:Xe,useExisting:We}]),i.GFd,i.OA$]})}}return We})();const ki=new i.nKC("CdkDropListGroup");let ss=0,hs=(()=>{class We{static{this._dropLists=[]}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(Me){this._dropListRef.disabled=this._disabled=Me}constructor(Me,Ue,ht,Ut,pn,un,jn){this.element=Me,this._changeDetectorRef=ht,this._scrollDispatcher=Ut,this._dir=pn,this._group=un,this._destroyed=new y.B,this.connectedTo=[],this.id="cdk-drop-list-"+ss++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.sorted=new i.bkB,this._unsortedItems=new Set,this._dropListRef=Ue.createDropList(Me),this._dropListRef.data=this,jn&&this._assignDefaults(jn),this._dropListRef.enterPredicate=(Zn,wi)=>this.enterPredicate(Zn.data,wi.data),this._dropListRef.sortPredicate=(Zn,wi,_s)=>this.sortPredicate(Zn,wi.data,_s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),We._dropLists.push(this),un&&un._items.add(this)}addItem(Me){this._unsortedItems.add(Me),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(Me){this._unsortedItems.delete(Me),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((Me,Ue)=>Me._dragRef.getVisibleElement().compareDocumentPosition(Ue._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const Me=We._dropLists.indexOf(this);Me>-1&&We._dropLists.splice(Me,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(Me){this._dir&&this._dir.change.pipe((0,vn.Z)(this._dir.value),(0,it.Q)(this._destroyed)).subscribe(Ue=>Me.withDirection(Ue)),Me.beforeStarted.subscribe(()=>{const Ue=function m(We){return Array.isArray(We)?We:[We]}(this.connectedTo).map(ht=>"string"==typeof ht?We._dropLists.find(pn=>pn.id===ht):ht);if(this._group&&this._group._items.forEach(ht=>{-1===Ue.indexOf(ht)&&Ue.push(ht)}),!this._scrollableParentsResolved){const ht=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(Ut=>Ut.getElementRef().nativeElement);this._dropListRef.withScrollableParents(ht),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const ht=this.element.nativeElement.querySelector(this.elementContainerSelector);Me.withElementContainer(ht)}Me.disabled=this.disabled,Me.lockAxis=this.lockAxis,Me.sortingDisabled=this.sortingDisabled,Me.autoScrollDisabled=this.autoScrollDisabled,Me.autoScrollStep=e(this.autoScrollStep,2),Me.connectedTo(Ue.filter(ht=>ht&&ht!==this).map(ht=>ht._dropListRef)).withOrientation(this.orientation)})}_handleEvents(Me){Me.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),Me.entered.subscribe(Ue=>{this.entered.emit({container:this,item:Ue.item.data,currentIndex:Ue.currentIndex})}),Me.exited.subscribe(Ue=>{this.exited.emit({container:this,item:Ue.item.data}),this._changeDetectorRef.markForCheck()}),Me.sorted.subscribe(Ue=>{this.sorted.emit({previousIndex:Ue.previousIndex,currentIndex:Ue.currentIndex,container:this,item:Ue.item.data})}),Me.dropped.subscribe(Ue=>{this.dropped.emit({previousIndex:Ue.previousIndex,currentIndex:Ue.currentIndex,previousContainer:Ue.previousContainer.data,container:Ue.container.data,item:Ue.item.data,isPointerOverContainer:Ue.isPointerOverContainer,distance:Ue.distance,dropPoint:Ue.dropPoint,event:Ue.event}),this._changeDetectorRef.markForCheck()}),(0,He.h)(Me.receivingStarted,Me.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(Me){const{lockAxis:Ue,draggingDisabled:ht,sortingDisabled:Ut,listAutoScrollDisabled:pn,listOrientation:un}=Me;this.disabled=ht??!1,this.sortingDisabled=Ut??!1,this.autoScrollDisabled=pn??!1,this.orientation=un||"vertical",Ue&&(this.lockAxis=Ue)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(Me=>Me._dragRef))}static{this.\u0275fac=function(Ue){return new(Ue||We)(i.rXU(i.aKT),i.rXU(Fe),i.rXU(i.gRc),i.rXU(Z),i.rXU(hn.dS,8),i.rXU(ki,12),i.rXU(On,8))}}static{this.\u0275dir=i.FsC({type:We,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Ue,ht){2&Ue&&(i.BMQ("id",ht.id),i.AVh("cdk-drop-list-disabled",ht.disabled)("cdk-drop-list-dragging",ht._dropListRef.isDragging())("cdk-drop-list-receiving",ht._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",i.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",i.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",i.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[i.Jv_([{provide:ki,useValue:void 0},{provide:Qn,useExisting:We}]),i.GFd]})}}return We})()},36860:(B,C,n)=>{"use strict";n.d(C,{BQ:()=>M,Fb:()=>x,KT:()=>L,OD:()=>e});var i=n(54438),t=n(60177);let c;try{c=typeof Intl<"u"&&Intl.v8BreakIterator}catch{c=!1}let E,S,e=(()=>{class j{constructor(k){this._platformId=k,this.isBrowser=this._platformId?(0,t.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!c)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(K){return new(K||j)(i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}}return j})();function M(j){return function y(){if(null==E&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>E=!0}))}finally{E=E||!1}return E}()?j:!!j.capture}function L(j){if(function O(){if(null==S){const j=typeof document<"u"?document.head:null;S=!(!j||!j.createShadowRoot&&!j.attachShadow)}return S}()){const $=j.getRootNode?j.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&$ instanceof ShadowRoot)return $}return null}function x(j){return j.composedPath?j.composedPath()[0]:j.target}},64109:(B,C,n)=>{"use strict";n.d(C,{Dc:()=>J,Hy:()=>ae,NL:()=>he,Sz:()=>G,XW:()=>$,aI:()=>fe,xn:()=>ye});var i=n(45024),t=n(74402),c=n(21413),e=n(84412),p=n(7673),m=n(84572),f=n(983),v=n(92688),E=n(96697),M=(n(5964),n(56977)),b=n(99172),P=n(88141),D=n(25558),I=n(96354),h=n(19852),S=n(70274),O=n(23294),L=n(54438),T=n(51664),x=n(28203),N=n(8045);class j{constructor(){this.expansionModel=new i.CB(!0)}toggle(_e){this.expansionModel.toggle(this._trackByValue(_e))}expand(_e){this.expansionModel.select(this._trackByValue(_e))}collapse(_e){this.expansionModel.deselect(this._trackByValue(_e))}isExpanded(_e){return this.expansionModel.isSelected(this._trackByValue(_e))}toggleDescendants(_e){this.expansionModel.isSelected(this._trackByValue(_e))?this.collapseDescendants(_e):this.expandDescendants(_e)}collapseAll(){this.expansionModel.clear()}expandDescendants(_e){let Ce=[_e];Ce.push(...this.getDescendants(_e)),this.expansionModel.select(...Ce.map(qe=>this._trackByValue(qe)))}collapseDescendants(_e){let Ce=[_e];Ce.push(...this.getDescendants(_e)),this.expansionModel.deselect(...Ce.map(qe=>this._trackByValue(qe)))}_trackByValue(_e){return this.trackBy?this.trackBy(_e):_e}}class $ extends j{constructor(_e,Ce,qe){super(),this.getLevel=_e,this.isExpandable=Ce,this.options=qe,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(_e){const qe=[];for(let Re=this.dataNodes.indexOf(_e)+1;Re<this.dataNodes.length&&this.getLevel(_e)<this.getLevel(this.dataNodes[Re]);Re++)qe.push(this.dataNodes[Re]);return qe}expandAll(){this.expansionModel.select(...this.dataNodes.map(_e=>this._trackByValue(_e)))}}const K=new L.nKC("CDK_TREE_NODE_OUTLET_NODE");let z=(()=>{class ve{constructor(Ce,qe){this.viewContainer=Ce,this._node=qe}static{this.\u0275fac=function(qe){return new(qe||ve)(L.rXU(L.c1b),L.rXU(K,8))}}static{this.\u0275dir=L.FsC({type:ve,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0})}}return ve})();class V{constructor(_e){this.$implicit=_e}}let G=(()=>{class ve{constructor(Ce){this.template=Ce}static{this.\u0275fac=function(qe){return new(qe||ve)(L.rXU(L.C4Q))}}static{this.\u0275dir=L.FsC({type:ve,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]},standalone:!0})}}return ve})();function ie(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}let he=(()=>{class ve{get dataSource(){return this._dataSource}set dataSource(Ce){this._dataSource!==Ce&&this._switchDataSource(Ce)}constructor(Ce,qe){this._differs=Ce,this._changeDetectorRef=qe,this._elementRef=(0,L.WQX)(L.aKT),this._dir=(0,L.WQX)(x.dS),this._onDestroy=new c.B,this._levels=new Map,this._parents=new Map,this._ariaSets=new Map,this.viewChange=new e.t({start:0,end:Number.MAX_VALUE}),this._flattenedNodes=new e.t([]),this._nodeType=new e.t(null),this._nodes=new e.t(new Map),this._keyManagerNodes=new e.t([]),this._keyManagerFactory=(0,L.WQX)(T.Z2),this._viewInit=!1}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){const Ce=this._nodeDefs.filter(qe=>!qe.when);this._defaultNodeDef=Ce[0]}_setNodeTypeIfUnset(Ce){null===this._nodeType.value&&this._nodeType.next(Ce)}_switchDataSource(Ce){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),Ce||this._nodeOutlet.viewContainer.clear(),this._dataSource=Ce,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new i.CB(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let Ce;(0,i.y4)(this._dataSource)?Ce=this._dataSource.connect(this):(0,t.A)(this._dataSource)?Ce=this._dataSource:Array.isArray(this._dataSource)&&(Ce=(0,p.of)(this._dataSource)),Ce&&(this._dataSubscription=this._getRenderData(Ce).pipe((0,M.Q)(this._onDestroy)).subscribe(qe=>{this._renderDataChanges(qe)}))}_getRenderData(Ce){const qe=this._getExpansionModel();return(0,m.z)([Ce,this._nodeType,qe.changed.pipe((0,b.Z)(null),(0,P.M)(Re=>{this._emitExpansionChanges(Re)}))]).pipe((0,D.n)(([Re,nt])=>null===nt?(0,p.of)({renderNodes:Re,flattenedNodes:null,nodeType:nt}):this._computeRenderingData(Re,nt).pipe((0,I.T)(Ge=>({...Ge,nodeType:nt})))))}_renderDataChanges(Ce){null!==Ce.nodeType?(this._updateCachedData(Ce.flattenedNodes),this.renderNodeChanges(Ce.renderNodes),this._updateKeyManagerItems(Ce.flattenedNodes)):this.renderNodeChanges(Ce.renderNodes)}_emitExpansionChanges(Ce){if(!Ce)return;const qe=this._nodes.value;for(const Re of Ce.added)qe.get(Re)?._emitExpansionState(!0);for(const Re of Ce.removed)qe.get(Re)?._emitExpansionState(!1)}_initializeKeyManager(){const Ce=(0,m.z)([this._keyManagerNodes,this._nodes]).pipe((0,I.T)(([Re,nt])=>Re.reduce((Ge,at)=>{const Ke=nt.get(this._getExpansionKey(at));return Ke&&Ge.push(Ke),Ge},[])));this._keyManager=this._keyManagerFactory(Ce,{trackBy:Re=>this._getExpansionKey(Re.data),skipPredicate:Re=>!!Re.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value})}_initializeDataDiffer(){const Ce=this.trackBy??((qe,Re)=>this._getExpansionKey(Re));this._dataDiffer=this._differs.find([]).create(Ce)}_checkTreeControlUsage(){}renderNodeChanges(Ce,qe=this._dataDiffer,Re=this._nodeOutlet.viewContainer,nt){const Ge=qe.diff(Ce);!Ge&&!this._viewInit||(Ge?.forEachOperation((at,Ke,Te)=>{if(null==at.previousIndex)this.insertNode(Ce[Te],Te,Re,nt);else if(null==Te)Re.remove(Ke);else{const pt=Re.get(Ke);Re.move(pt,Te)}}),Ge?.forEachIdentityChange(at=>{const Ke=at.item;null!=at.currentIndex&&(Re.get(at.currentIndex).context.$implicit=Ke)}),nt?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(Ce,qe){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(nt=>nt.when&&nt.when(qe,Ce))||this._defaultNodeDef}insertNode(Ce,qe,Re,nt){const Ge=this._getLevelAccessor(),at=this._getNodeDef(Ce,qe),Ke=this._getExpansionKey(Ce),Te=new V(Ce);nt??=this._parents.get(Ke)??void 0,Te.level=Ge?Ge(Ce):void 0!==nt&&this._levels.has(this._getExpansionKey(nt))?this._levels.get(this._getExpansionKey(nt))+1:0,this._levels.set(Ke,Te.level),(Re||this._nodeOutlet.viewContainer).createEmbeddedView(at.template,Te,qe),ye.mostRecentTreeNode&&(ye.mostRecentTreeNode.data=Ce)}isExpanded(Ce){return!(!this.treeControl?.isExpanded(Ce)&&!this._expansionModel?.isSelected(this._getExpansionKey(Ce)))}toggle(Ce){this.treeControl?this.treeControl.toggle(Ce):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(Ce))}expand(Ce){this.treeControl?this.treeControl.expand(Ce):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(Ce))}collapse(Ce){this.treeControl?this.treeControl.collapse(Ce):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(Ce))}toggleDescendants(Ce){this.treeControl?this.treeControl.toggleDescendants(Ce):this._expansionModel&&(this.isExpanded(Ce)?this.collapseDescendants(Ce):this.expandDescendants(Ce))}expandDescendants(Ce){if(this.treeControl)this.treeControl.expandDescendants(Ce);else if(this._expansionModel){const qe=this._expansionModel;qe.select(this._getExpansionKey(Ce)),this._getDescendants(Ce).pipe((0,E.s)(1),(0,M.Q)(this._onDestroy)).subscribe(Re=>{qe.select(...Re.map(nt=>this._getExpansionKey(nt)))})}}collapseDescendants(Ce){if(this.treeControl)this.treeControl.collapseDescendants(Ce);else if(this._expansionModel){const qe=this._expansionModel;qe.deselect(this._getExpansionKey(Ce)),this._getDescendants(Ce).pipe((0,E.s)(1),(0,M.Q)(this._onDestroy)).subscribe(Re=>{qe.deselect(...Re.map(nt=>this._getExpansionKey(nt)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._expansionModel.select(...this._flattenedNodes.value.map(qe=>this._getExpansionKey(qe)))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._expansionModel.deselect(...this._flattenedNodes.value.map(qe=>this._getExpansionKey(qe)))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(Ce){const qe=this._getLevelAccessor(),Re=this._expansionModel??this.treeControl?.expansionModel;if(!Re)return(0,p.of)([]);const nt=this._getExpansionKey(Ce),Ge=Re.changed.pipe((0,D.n)(Ke=>Ke.added.includes(nt)?(0,p.of)(!0):Ke.removed.includes(nt)?(0,p.of)(!1):f.w),(0,b.Z)(this.isExpanded(Ce)));if(qe)return(0,m.z)([Ge,this._flattenedNodes]).pipe((0,I.T)(([Ke,Te])=>Ke?this._findChildrenByLevel(qe,Te,Ce,1):[]));const at=this._getChildrenAccessor();if(at)return(0,N.x)(at(Ce)??[]);throw ie()}_findChildrenByLevel(Ce,qe,Re,nt){const Ge=this._getExpansionKey(Re),at=qe.findIndex(He=>this._getExpansionKey(He)===Ge),Ke=Ce(Re),Te=Ke+nt,pt=[];for(let He=at+1;He<qe.length;He++){const Bt=Ce(qe[He]);if(Bt<=Ke)break;Bt<=Te&&pt.push(qe[He])}return pt}_registerNode(Ce){this._nodes.value.set(this._getExpansionKey(Ce.data),Ce),this._nodes.next(this._nodes.value)}_unregisterNode(Ce){this._nodes.value.delete(this._getExpansionKey(Ce.data)),this._nodes.next(this._nodes.value)}_getLevel(Ce){return this._levels.get(this._getExpansionKey(Ce))}_getSetSize(Ce){return this._getAriaSet(Ce).length}_getPositionInSet(Ce){const qe=this._getAriaSet(Ce),Re=this._getExpansionKey(Ce);return qe.findIndex(nt=>this._getExpansionKey(nt)===Re)+1}_getNodeParent(Ce){const qe=this._parents.get(this._getExpansionKey(Ce.data));return qe&&this._nodes.value.get(this._getExpansionKey(qe))}_getNodeChildren(Ce){return this._getDirectChildren(Ce.data).pipe((0,I.T)(qe=>qe.reduce((Re,nt)=>{const Ge=this._nodes.value.get(this._getExpansionKey(nt));return Ge&&Re.push(Ge),Re},[])))}_sendKeydownToKeyManager(Ce){if(Ce.target===this._elementRef.nativeElement)this._keyManager.onKeydown(Ce);else{const qe=this._nodes.getValue();for(const[,Re]of qe)if(Ce.target===Re._elementRef.nativeElement){this._keyManager.onKeydown(Ce);break}}}_getDescendants(Ce){if(this.treeControl)return(0,p.of)(this.treeControl.getDescendants(Ce));if(this.levelAccessor){const qe=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,Ce,1/0);return(0,p.of)(qe)}if(this.childrenAccessor)return this._getAllChildrenRecursively(Ce).pipe((0,h.T)((qe,Re)=>(qe.push(...Re),qe),[]));throw ie()}_getAllChildrenRecursively(Ce){return this.childrenAccessor?(0,N.x)(this.childrenAccessor(Ce)).pipe((0,E.s)(1),(0,D.n)(qe=>{for(const Re of qe)this._parents.set(this._getExpansionKey(Re),Ce);return(0,p.of)(...qe).pipe((0,S.H)(Re=>(0,v.x)((0,p.of)([Re]),this._getAllChildrenRecursively(Re))))})):(0,p.of)([])}_getExpansionKey(Ce){return this.expansionKey?.(Ce)??Ce}_getAriaSet(Ce){const qe=this._getExpansionKey(Ce),Re=this._parents.get(qe),nt=Re?this._getExpansionKey(Re):null;return this._ariaSets.get(nt)??[Ce]}_findParentForNode(Ce,qe,Re){if(!Re.length)return null;const nt=this._levels.get(this._getExpansionKey(Ce))??0;for(let Ge=qe-1;Ge>=0;Ge--){const at=Re[Ge];if((this._levels.get(this._getExpansionKey(at))??0)<nt)return at}return null}_flattenNestedNodesWithExpansion(Ce,qe=0){const Re=this._getChildrenAccessor();return Re?(0,p.of)(...Ce).pipe((0,S.H)(nt=>{const Ge=this._getExpansionKey(nt);this._parents.has(Ge)||this._parents.set(Ge,null),this._levels.set(Ge,qe);const at=(0,N.x)(Re(nt));return(0,v.x)((0,p.of)([nt]),at.pipe((0,E.s)(1),(0,P.M)(Ke=>{this._ariaSets.set(Ge,[...Ke??[]]);for(const Te of Ke??[]){const pt=this._getExpansionKey(Te);this._parents.set(pt,nt),this._levels.set(pt,qe+1)}}),(0,D.n)(Ke=>Ke?this._flattenNestedNodesWithExpansion(Ke,qe+1).pipe((0,I.T)(Te=>this.isExpanded(nt)?Te:[])):(0,p.of)([]))))}),(0,h.T)((nt,Ge)=>(nt.push(...Ge),nt),[])):(0,p.of)([...Ce])}_computeRenderingData(Ce,qe){if(this.childrenAccessor&&"flat"===qe)return this._ariaSets.set(null,[...Ce]),this._flattenNestedNodesWithExpansion(Ce).pipe((0,I.T)(Re=>({renderNodes:Re,flattenedNodes:Re})));if(this.levelAccessor&&"nested"===qe){const Re=this.levelAccessor;return(0,p.of)(Ce.filter(nt=>0===Re(nt))).pipe((0,I.T)(nt=>({renderNodes:nt,flattenedNodes:Ce})),(0,P.M)(({flattenedNodes:nt})=>{this._calculateParents(nt)}))}return"flat"===qe?(0,p.of)({renderNodes:Ce,flattenedNodes:Ce}).pipe((0,P.M)(({flattenedNodes:Re})=>{this._calculateParents(Re)})):(this._ariaSets.set(null,[...Ce]),this._flattenNestedNodesWithExpansion(Ce).pipe((0,I.T)(Re=>({renderNodes:Ce,flattenedNodes:Re}))))}_updateCachedData(Ce){this._flattenedNodes.next(Ce)}_updateKeyManagerItems(Ce){this._keyManagerNodes.next(Ce)}_calculateParents(Ce){const qe=this._getLevelAccessor();if(qe){this._parents.clear(),this._ariaSets.clear();for(let Re=0;Re<Ce.length;Re++){const nt=Ce[Re],Ge=this._getExpansionKey(nt);this._levels.set(Ge,qe(nt));const at=this._findParentForNode(nt,Re,Ce);this._parents.set(Ge,at);const Ke=at?this._getExpansionKey(at):null,Te=this._ariaSets.get(Ke)??[];Te.splice(Re,0,nt),this._ariaSets.set(Ke,Te)}}}static{this.\u0275fac=function(qe){return new(qe||ve)(L.rXU(L._q3),L.rXU(L.gRc))}}static{this.\u0275cmp=L.VBU({type:ve,selectors:[["cdk-tree"]],contentQueries:function(qe,Re,nt){if(1&qe&&L.wni(nt,G,5),2&qe){let Ge;L.mGM(Ge=L.lsd())&&(Re._nodeDefs=Ge)}},viewQuery:function(qe,Re){if(1&qe&&L.GBs(z,7),2&qe){let nt;L.mGM(nt=L.lsd())&&(Re._nodeOutlet=nt.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(qe,Re){1&qe&&L.bIt("keydown",function(Ge){return Re._sendKeydownToKeyManager(Ge)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],standalone:!0,features:[L.aNF],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(qe,Re){1&qe&&L.eu8(0,0)},dependencies:[z],encapsulation:2})}}return ve})(),ye=(()=>{class ve{get role(){return"treeitem"}set role(Ce){}get isExpandable(){return this._isExpandable()}set isExpandable(Ce){this._inputIsExpandable=Ce,(!this.data||this._isExpandable)&&this._inputIsExpandable&&(this._inputIsExpanded?this.expand():!1===this._inputIsExpanded&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(Ce){this._inputIsExpanded=Ce,Ce?this.expand():this.collapse()}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}static{this.mostRecentTreeNode=null}get data(){return this._data}set data(Ce){Ce!==this._data&&(this._data=Ce,this._dataChanges.next())}get isLeafNode(){return void 0!==this._tree.treeControl?.isExpandable&&!this._tree.treeControl.isExpandable(this._data)||void 0===this._tree.treeControl?.isExpandable&&0===this._tree.treeControl?.getDescendants(this._data).length}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}constructor(Ce,qe){this._elementRef=Ce,this._tree=qe,this._tabindex=-1,this.activation=new L.bkB,this.expandedChange=new L.bkB,this._destroyed=new c.B,this._dataChanges=new c.B,this._inputIsExpandable=!1,this._inputIsExpanded=void 0,this._shouldFocus=!0,this._changeDetectorRef=(0,L.WQX)(L.gRc),ve.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=function re(ve){let _e=ve.parentElement;for(;_e&&!ce(_e);)_e=_e.parentElement;return _e?_e.classList.contains("cdk-nested-tree-node")?(0,L.Udg)(_e.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe((0,I.T)(()=>this.isExpanded),(0,O.F)()).subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._tree._setNodeTypeIfUnset("flat"),this._tree._registerNode(this)}ngOnDestroy(){ve.mostRecentTreeNode===this&&(ve.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(Ce){this.expandedChange.emit(Ce)}static{this.\u0275fac=function(qe){return new(qe||ve)(L.rXU(L.aKT),L.rXU(he))}}static{this.\u0275dir=L.FsC({type:ve,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(qe,Re){1&qe&&L.bIt("click",function(){return Re._setActiveItem()})("focus",function(){return Re._focusItem()}),2&qe&&(L.Mr5("tabindex",Re._tabindex),L.BMQ("aria-expanded",Re._getAriaExpanded())("aria-level",Re.level+1)("aria-posinset",Re._getPositionInSet())("aria-setsize",Re._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",L.L39],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",L.L39],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"],standalone:!0,features:[L.GFd]})}}return ve})();function ce(ve){const _e=ve.classList;return!(!_e?.contains("cdk-nested-tree-node")&&!_e?.contains("cdk-tree"))}const ne=/([A-Za-z%]+)$/;let fe=(()=>{class ve{get level(){return this._level}set level(Ce){this._setLevelInput(Ce)}get indent(){return this._indent}set indent(Ce){this._setIndentInput(Ce)}constructor(Ce,qe,Re,nt){this._treeNode=Ce,this._tree=qe,this._element=Re,this._dir=nt,this._destroyed=new c.B,this.indentUnits="px",this._indent=40,this._setPadding(),nt&&nt.change.pipe((0,M.Q)(this._destroyed)).subscribe(()=>this._setPadding(!0)),Ce._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const Ce=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,qe=null==this._level?Ce:this._level;return"number"==typeof qe?`${qe*this._indent}${this.indentUnits}`:null}_setPadding(Ce=!1){const qe=this._paddingIndent();if(qe!==this._currentPadding||Ce){const Re=this._element.nativeElement,nt=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",Ge="paddingLeft"===nt?"paddingRight":"paddingLeft";Re.style[nt]=qe||"",Re.style[Ge]="",this._currentPadding=qe}}_setLevelInput(Ce){this._level=isNaN(Ce)?null:Ce,this._setPadding()}_setIndentInput(Ce){let qe=Ce,Re="px";if("string"==typeof Ce){const nt=Ce.split(ne);qe=nt[0],Re=nt[1]||Re}this.indentUnits=Re,this._indent=(0,L.Udg)(qe),this._setPadding()}static{this.\u0275fac=function(qe){return new(qe||ve)(L.rXU(ye),L.rXU(he),L.rXU(L.aKT),L.rXU(x.dS,8))}}static{this.\u0275dir=L.FsC({type:ve,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",L.Udg],indent:[0,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[L.GFd]})}}return ve})(),ae=(()=>{class ve{constructor(Ce,qe){this._tree=Ce,this._treeNode=qe,this.recursive=!1}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static{this.\u0275fac=function(qe){return new(qe||ve)(L.rXU(he),L.rXU(ye))}}static{this.\u0275dir=L.FsC({type:ve,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(qe,Re){1&qe&&L.bIt("click",function(Ge){return Re._toggle(),Ge.stopPropagation()})("keydown.Enter",function(Ge){return Re._toggle(),Ge.preventDefault()})("keydown.Space",function(Ge){return Re._toggle(),Ge.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",L.L39]},standalone:!0,features:[L.GFd]})}}return ve})(),J=(()=>{class ve{static{this.\u0275fac=function(qe){return new(qe||ve)}}static{this.\u0275mod=L.$C({type:ve})}static{this.\u0275inj=L.G2t({})}}return ve})()},60177:(B,C,n)=>{"use strict";n.d(C,{AJ:()=>Lr,B3:()=>Ji,GH:()=>Ut,Jj:()=>ht,MD:()=>Ei,N0:()=>rt,OI:()=>Xt,PV:()=>un,QT:()=>c,Sm:()=>h,Sq:()=>Xe,T3:()=>ps,UE:()=>Ir,VF:()=>p,Vy:()=>Wa,XO:()=>ie,Xr:()=>Pa,YU:()=>Ii,Yq:()=>vn,ZD:()=>e,_b:()=>Ai,aZ:()=>O,bT:()=>Cn,cH:()=>z,fw:()=>S,hb:()=>D,hj:()=>E,kB:()=>I,lG:()=>Cr,oV:()=>K,qQ:()=>f,rd:()=>ee,tL:()=>te,vh:()=>Uo});var i=n(54438);let t=null;function c(){return t}function e(me){t??=me}class p{}const f=new i.nKC("");let v=(()=>{class me{historyGo(Ae){throw new Error("")}static{this.\u0275fac=function(et){return new(et||me)}}static{this.\u0275prov=i.jDH({token:me,factory:()=>(0,i.WQX)(y),providedIn:"platform"})}}return me})();const E=new i.nKC("");let y=(()=>{class me extends v{constructor(){super(),this._doc=(0,i.WQX)(f),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return c().getBaseHref(this._doc)}onPopState(Ae){const et=c().getGlobalEventTarget(this._doc,"window");return et.addEventListener("popstate",Ae,!1),()=>et.removeEventListener("popstate",Ae)}onHashChange(Ae){const et=c().getGlobalEventTarget(this._doc,"window");return et.addEventListener("hashchange",Ae,!1),()=>et.removeEventListener("hashchange",Ae)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ae){this._location.pathname=Ae}pushState(Ae,et,Wt){this._history.pushState(Ae,et,Wt)}replaceState(Ae,et,Wt){this._history.replaceState(Ae,et,Wt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ae=0){this._history.go(Ae)}getState(){return this._history.state}static{this.\u0275fac=function(et){return new(et||me)}}static{this.\u0275prov=i.jDH({token:me,factory:()=>new me,providedIn:"platform"})}}return me})();function M(me,st){if(0==me.length)return st;if(0==st.length)return me;let Ae=0;return me.endsWith("/")&&Ae++,st.startsWith("/")&&Ae++,2==Ae?me+st.substring(1):1==Ae?me+st:me+"/"+st}function b(me){const st=me.match(/#|\?|$/),Ae=st&&st.index||me.length;return me.slice(0,Ae-("/"===me[Ae-1]?1:0))+me.slice(Ae)}function P(me){return me&&"?"!==me[0]?"?"+me:me}let D=(()=>{class me{historyGo(Ae){throw new Error("")}static{this.\u0275fac=function(et){return new(et||me)}}static{this.\u0275prov=i.jDH({token:me,factory:()=>(0,i.WQX)(h),providedIn:"root"})}}return me})();const I=new i.nKC("");let h=(()=>{class me extends D{constructor(Ae,et){super(),this._platformLocation=Ae,this._removeListenerFns=[],this._baseHref=et??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(f).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ae){this._removeListenerFns.push(this._platformLocation.onPopState(Ae),this._platformLocation.onHashChange(Ae))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ae){return M(this._baseHref,Ae)}path(Ae=!1){const et=this._platformLocation.pathname+P(this._platformLocation.search),Wt=this._platformLocation.hash;return Wt&&Ae?`${et}${Wt}`:et}pushState(Ae,et,Wt,Rn){const Gn=this.prepareExternalUrl(Wt+P(Rn));this._platformLocation.pushState(Ae,et,Gn)}replaceState(Ae,et,Wt,Rn){const Gn=this.prepareExternalUrl(Wt+P(Rn));this._platformLocation.replaceState(Ae,et,Gn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ae=0){this._platformLocation.historyGo?.(Ae)}static{this.\u0275fac=function(et){return new(et||me)(i.KVO(v),i.KVO(I,8))}}static{this.\u0275prov=i.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}}return me})(),S=(()=>{class me extends D{constructor(Ae,et){super(),this._platformLocation=Ae,this._baseHref="",this._removeListenerFns=[],null!=et&&(this._baseHref=et)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ae){this._removeListenerFns.push(this._platformLocation.onPopState(Ae),this._platformLocation.onHashChange(Ae))}getBaseHref(){return this._baseHref}path(Ae=!1){const et=this._platformLocation.hash??"#";return et.length>0?et.substring(1):et}prepareExternalUrl(Ae){const et=M(this._baseHref,Ae);return et.length>0?"#"+et:et}pushState(Ae,et,Wt,Rn){let Gn=this.prepareExternalUrl(Wt+P(Rn));0==Gn.length&&(Gn=this._platformLocation.pathname),this._platformLocation.pushState(Ae,et,Gn)}replaceState(Ae,et,Wt,Rn){let Gn=this.prepareExternalUrl(Wt+P(Rn));0==Gn.length&&(Gn=this._platformLocation.pathname),this._platformLocation.replaceState(Ae,et,Gn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ae=0){this._platformLocation.historyGo?.(Ae)}static{this.\u0275fac=function(et){return new(et||me)(i.KVO(v),i.KVO(I,8))}}static{this.\u0275prov=i.jDH({token:me,factory:me.\u0275fac})}}return me})(),O=(()=>{class me{constructor(Ae){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ae;const et=this._locationStrategy.getBaseHref();this._basePath=function N(me){if(new RegExp("^(https?:)?//").test(me)){const[,Ae]=me.split(/\/\/[^\/]+/);return Ae}return me}(b(x(et))),this._locationStrategy.onPopState(Wt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Wt.state,type:Wt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ae=!1){return this.normalize(this._locationStrategy.path(Ae))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ae,et=""){return this.path()==this.normalize(Ae+P(et))}normalize(Ae){return me.stripTrailingSlash(function T(me,st){if(!me||!st.startsWith(me))return st;const Ae=st.substring(me.length);return""===Ae||["/",";","?","#"].includes(Ae[0])?Ae:st}(this._basePath,x(Ae)))}prepareExternalUrl(Ae){return Ae&&"/"!==Ae[0]&&(Ae="/"+Ae),this._locationStrategy.prepareExternalUrl(Ae)}go(Ae,et="",Wt=null){this._locationStrategy.pushState(Wt,"",Ae,et),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ae+P(et)),Wt)}replaceState(Ae,et="",Wt=null){this._locationStrategy.replaceState(Wt,"",Ae,et),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ae+P(et)),Wt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ae=0){this._locationStrategy.historyGo?.(Ae)}onUrlChange(Ae){return this._urlChangeListeners.push(Ae),this._urlChangeSubscription??=this.subscribe(et=>{this._notifyUrlChangeListeners(et.url,et.state)}),()=>{const et=this._urlChangeListeners.indexOf(Ae);this._urlChangeListeners.splice(et,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ae="",et){this._urlChangeListeners.forEach(Wt=>Wt(Ae,et))}subscribe(Ae,et,Wt){return this._subject.subscribe({next:Ae,error:et,complete:Wt})}static{this.normalizeQueryParams=P}static{this.joinWithSlash=M}static{this.stripTrailingSlash=b}static{this.\u0275fac=function(et){return new(et||me)(i.KVO(D))}}static{this.\u0275prov=i.jDH({token:me,factory:()=>function L(){return new O((0,i.KVO)(D))}(),providedIn:"root"})}}return me})();function x(me){return me.replace(/\/index.html$/,"")}var K=function(me){return me[me.Format=0]="Format",me[me.Standalone=1]="Standalone",me}(K||{}),z=function(me){return me[me.Narrow=0]="Narrow",me[me.Abbreviated=1]="Abbreviated",me[me.Wide=2]="Wide",me[me.Short=3]="Short",me}(z||{}),V=function(me){return me[me.Short=0]="Short",me[me.Medium=1]="Medium",me[me.Long=2]="Long",me[me.Full=3]="Full",me}(V||{});const G={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ee(me,st,Ae){const et=(0,i.H5H)(me),Rn=at([et[i.KH2.DayPeriodsFormat],et[i.KH2.DayPeriodsStandalone]],st);return at(Rn,Ae)}function ie(me,st,Ae){const et=(0,i.H5H)(me),Rn=at([et[i.KH2.DaysFormat],et[i.KH2.DaysStandalone]],st);return at(Rn,Ae)}function te(me,st,Ae){const et=(0,i.H5H)(me),Rn=at([et[i.KH2.MonthsFormat],et[i.KH2.MonthsStandalone]],st);return at(Rn,Ae)}function ce(me,st){return at((0,i.H5H)(me)[i.KH2.DateFormat],st)}function Z(me,st){return at((0,i.H5H)(me)[i.KH2.TimeFormat],st)}function ne(me,st){return at((0,i.H5H)(me)[i.KH2.DateTimeFormat],st)}function fe(me,st){const Ae=(0,i.H5H)(me),et=Ae[i.KH2.NumberSymbols][st];if(typeof et>"u"){if(st===G.CurrencyDecimal)return Ae[i.KH2.NumberSymbols][G.Decimal];if(st===G.CurrencyGroup)return Ae[i.KH2.NumberSymbols][G.Group]}return et}function qe(me){if(!me[i.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${me[i.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function at(me,st){for(let Ae=st;Ae>-1;Ae--)if(typeof me[Ae]<"u")return me[Ae];throw new Error("Locale data API: locale data undefined")}function Ke(me){const[st,Ae]=me.split(":");return{hours:+st,minutes:+Ae}}const Bt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,it={},Tt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ee=function(me){return me[me.Short=0]="Short",me[me.ShortGMT=1]="ShortGMT",me[me.Long=2]="Long",me[me.Extended=3]="Extended",me}(Ee||{}),je=function(me){return me[me.FullYear=0]="FullYear",me[me.Month=1]="Month",me[me.Date=2]="Date",me[me.Hours=3]="Hours",me[me.Minutes=4]="Minutes",me[me.Seconds=5]="Seconds",me[me.FractionalSeconds=6]="FractionalSeconds",me[me.Day=7]="Day",me}(je||{}),ft=function(me){return me[me.DayPeriods=0]="DayPeriods",me[me.Days=1]="Days",me[me.Months=2]="Months",me[me.Eras=3]="Eras",me}(ft||{});function vn(me,st,Ae,et){let Wt=function fn(me){if(tn(me))return me;if("number"==typeof me&&!isNaN(me))return new Date(me);if("string"==typeof me){if(me=me.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(me)){const[Wt,Rn=1,Gn=1]=me.split("-").map(mi=>+mi);return hn(Wt,Rn-1,Gn)}const Ae=parseFloat(me);if(!isNaN(me-Ae))return new Date(Ae);let et;if(et=me.match(Bt))return function At(me){const st=new Date(0);let Ae=0,et=0;const Wt=me[8]?st.setUTCFullYear:st.setFullYear,Rn=me[8]?st.setUTCHours:st.setHours;me[9]&&(Ae=Number(me[9]+me[10]),et=Number(me[9]+me[11])),Wt.call(st,Number(me[1]),Number(me[2])-1,Number(me[3]));const Gn=Number(me[4]||0)-Ae,mi=Number(me[5]||0)-et,Ys=Number(me[6]||0),mo=Math.floor(1e3*parseFloat("0."+(me[7]||0)));return Rn.call(st,Gn,mi,Ys,mo),st}(et)}const st=new Date(me);if(!tn(st))throw new Error(`Unable to convert "${me}" into a date`);return st}(me);st=Un(Ae,st)||st;let mi,Gn=[];for(;st;){if(mi=Tt.exec(st),!mi){Gn.push(st);break}{Gn=Gn.concat(mi.slice(1));const Hs=Gn.pop();if(!Hs)break;st=Hs}}let Ys=Wt.getTimezoneOffset();et&&(Ys=ze(et,Ys),Wt=function Vt(me,st,Ae){const et=Ae?-1:1,Wt=me.getTimezoneOffset();return function lt(me,st){return(me=new Date(me.getTime())).setMinutes(me.getMinutes()+st),me}(me,et*(ze(st,Wt)-Wt))}(Wt,et,!0));let mo="";return Gn.forEach(Hs=>{const Bs=function Le(me){if(ke[me])return ke[me];let st;switch(me){case"G":case"GG":case"GGG":st=we(ft.Eras,z.Abbreviated);break;case"GGGG":st=we(ft.Eras,z.Wide);break;case"GGGGG":st=we(ft.Eras,z.Narrow);break;case"y":st=mt(je.FullYear,1,0,!1,!0);break;case"yy":st=mt(je.FullYear,2,0,!0,!0);break;case"yyy":st=mt(je.FullYear,3,0,!1,!0);break;case"yyyy":st=mt(je.FullYear,4,0,!1,!0);break;case"Y":st=Je(1);break;case"YY":st=Je(2,!0);break;case"YYY":st=Je(3);break;case"YYYY":st=Je(4);break;case"M":case"L":st=mt(je.Month,1,1);break;case"MM":case"LL":st=mt(je.Month,2,1);break;case"MMM":st=we(ft.Months,z.Abbreviated);break;case"MMMM":st=we(ft.Months,z.Wide);break;case"MMMMM":st=we(ft.Months,z.Narrow);break;case"LLL":st=we(ft.Months,z.Abbreviated,K.Standalone);break;case"LLLL":st=we(ft.Months,z.Wide,K.Standalone);break;case"LLLLL":st=we(ft.Months,z.Narrow,K.Standalone);break;case"w":st=Gt(1);break;case"ww":st=Gt(2);break;case"W":st=Gt(1,!0);break;case"d":st=mt(je.Date,1);break;case"dd":st=mt(je.Date,2);break;case"c":case"cc":st=mt(je.Day,1);break;case"ccc":st=we(ft.Days,z.Abbreviated,K.Standalone);break;case"cccc":st=we(ft.Days,z.Wide,K.Standalone);break;case"ccccc":st=we(ft.Days,z.Narrow,K.Standalone);break;case"cccccc":st=we(ft.Days,z.Short,K.Standalone);break;case"E":case"EE":case"EEE":st=we(ft.Days,z.Abbreviated);break;case"EEEE":st=we(ft.Days,z.Wide);break;case"EEEEE":st=we(ft.Days,z.Narrow);break;case"EEEEEE":st=we(ft.Days,z.Short);break;case"a":case"aa":case"aaa":st=we(ft.DayPeriods,z.Abbreviated);break;case"aaaa":st=we(ft.DayPeriods,z.Wide);break;case"aaaaa":st=we(ft.DayPeriods,z.Narrow);break;case"b":case"bb":case"bbb":st=we(ft.DayPeriods,z.Abbreviated,K.Standalone,!0);break;case"bbbb":st=we(ft.DayPeriods,z.Wide,K.Standalone,!0);break;case"bbbbb":st=we(ft.DayPeriods,z.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":st=we(ft.DayPeriods,z.Abbreviated,K.Format,!0);break;case"BBBB":st=we(ft.DayPeriods,z.Wide,K.Format,!0);break;case"BBBBB":st=we(ft.DayPeriods,z.Narrow,K.Format,!0);break;case"h":st=mt(je.Hours,1,-12);break;case"hh":st=mt(je.Hours,2,-12);break;case"H":st=mt(je.Hours,1);break;case"HH":st=mt(je.Hours,2);break;case"m":st=mt(je.Minutes,1);break;case"mm":st=mt(je.Minutes,2);break;case"s":st=mt(je.Seconds,1);break;case"ss":st=mt(je.Seconds,2);break;case"S":st=mt(je.FractionalSeconds,1);break;case"SS":st=mt(je.FractionalSeconds,2);break;case"SSS":st=mt(je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":st=kt(Ee.Short);break;case"ZZZZZ":st=kt(Ee.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":st=kt(Ee.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":st=kt(Ee.Long);break;default:return null}return ke[me]=st,st}(Hs);mo+=Bs?Bs(Wt,Ae,Ys):"''"===Hs?"'":Hs.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),mo}function hn(me,st,Ae){const et=new Date(0);return et.setFullYear(me,st,Ae),et.setHours(0,0,0),et}function Un(me,st){const Ae=function Q(me){return(0,i.H5H)(me)[i.KH2.LocaleId]}(me);if(it[Ae]??={},it[Ae][st])return it[Ae][st];let et="";switch(st){case"shortDate":et=ce(me,V.Short);break;case"mediumDate":et=ce(me,V.Medium);break;case"longDate":et=ce(me,V.Long);break;case"fullDate":et=ce(me,V.Full);break;case"shortTime":et=Z(me,V.Short);break;case"mediumTime":et=Z(me,V.Medium);break;case"longTime":et=Z(me,V.Long);break;case"fullTime":et=Z(me,V.Full);break;case"short":const Wt=Un(me,"shortTime"),Rn=Un(me,"shortDate");et=Ct(ne(me,V.Short),[Wt,Rn]);break;case"medium":const Gn=Un(me,"mediumTime"),mi=Un(me,"mediumDate");et=Ct(ne(me,V.Medium),[Gn,mi]);break;case"long":const Ys=Un(me,"longTime"),mo=Un(me,"longDate");et=Ct(ne(me,V.Long),[Ys,mo]);break;case"full":const Hs=Un(me,"fullTime"),Bs=Un(me,"fullDate");et=Ct(ne(me,V.Full),[Hs,Bs])}return et&&(it[Ae][st]=et),et}function Ct(me,st){return st&&(me=me.replace(/\{([^}]+)}/g,function(Ae,et){return null!=st&&et in st?st[et]:Ae})),me}function Ot(me,st,Ae="-",et,Wt){let Rn="";(me<0||Wt&&me<=0)&&(Wt?me=1-me:(me=-me,Rn=Ae));let Gn=String(me);for(;Gn.length<st;)Gn="0"+Gn;return et&&(Gn=Gn.slice(Gn.length-st)),Rn+Gn}function mt(me,st,Ae=0,et=!1,Wt=!1){return function(Rn,Gn){let mi=function ln(me,st){switch(me){case je.FullYear:return st.getFullYear();case je.Month:return st.getMonth();case je.Date:return st.getDate();case je.Hours:return st.getHours();case je.Minutes:return st.getMinutes();case je.Seconds:return st.getSeconds();case je.FractionalSeconds:return st.getMilliseconds();case je.Day:return st.getDay();default:throw new Error(`Unknown DateType value "${me}".`)}}(me,Rn);if((Ae>0||mi>-Ae)&&(mi+=Ae),me===je.Hours)0===mi&&-12===Ae&&(mi=12);else if(me===je.FractionalSeconds)return function wt(me,st){return Ot(me,3).substring(0,st)}(mi,st);const Ys=fe(Gn,G.MinusSign);return Ot(mi,st,Ys,et,Wt)}}function we(me,st,Ae=K.Format,et=!1){return function(Wt,Rn){return function Et(me,st,Ae,et,Wt,Rn){switch(Ae){case ft.Months:return te(st,Wt,et)[me.getMonth()];case ft.Days:return ie(st,Wt,et)[me.getDay()];case ft.DayPeriods:const Gn=me.getHours(),mi=me.getMinutes();if(Rn){const mo=function Re(me){const st=(0,i.H5H)(me);return qe(st),(st[i.KH2.ExtraData][2]||[]).map(et=>"string"==typeof et?Ke(et):[Ke(et[0]),Ke(et[1])])}(st),Hs=function nt(me,st,Ae){const et=(0,i.H5H)(me);qe(et);const Rn=at([et[i.KH2.ExtraData][0],et[i.KH2.ExtraData][1]],st)||[];return at(Rn,Ae)||[]}(st,Wt,et),Bs=mo.findIndex(lo=>{if(Array.isArray(lo)){const[zs,Ms]=lo,ii=Gn>=zs.hours&&mi>=zs.minutes,Bi=Gn<Ms.hours||Gn===Ms.hours&&mi<Ms.minutes;if(zs.hours<Ms.hours){if(ii&&Bi)return!0}else if(ii||Bi)return!0}else if(lo.hours===Gn&&lo.minutes===mi)return!0;return!1});if(-1!==Bs)return Hs[Bs]}return ee(st,Wt,et)[Gn<12?0:1];case ft.Eras:return function he(me,st){return at((0,i.H5H)(me)[i.KH2.Eras],st)}(st,et)[me.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ae}`)}}(Wt,Rn,me,st,Ae,et)}}function kt(me){return function(st,Ae,et){const Wt=-1*et,Rn=fe(Ae,G.MinusSign),Gn=Wt>0?Math.floor(Wt/60):Math.ceil(Wt/60);switch(me){case Ee.Short:return(Wt>=0?"+":"")+Ot(Gn,2,Rn)+Ot(Math.abs(Wt%60),2,Rn);case Ee.ShortGMT:return"GMT"+(Wt>=0?"+":"")+Ot(Gn,1,Rn);case Ee.Long:return"GMT"+(Wt>=0?"+":"")+Ot(Gn,2,Rn)+":"+Ot(Math.abs(Wt%60),2,Rn);case Ee.Extended:return 0===et?"Z":(Wt>=0?"+":"")+Ot(Gn,2,Rn)+":"+Ot(Math.abs(Wt%60),2,Rn);default:throw new Error(`Unknown zone width "${me}"`)}}}const vt=0,Jt=4;function zt(me){const st=me.getDay(),Ae=0===st?-3:Jt-st;return hn(me.getFullYear(),me.getMonth(),me.getDate()+Ae)}function Gt(me,st=!1){return function(Ae,et){let Wt;if(st){const Rn=new Date(Ae.getFullYear(),Ae.getMonth(),1).getDay()-1,Gn=Ae.getDate();Wt=1+Math.floor((Gn+Rn)/7)}else{const Rn=zt(Ae),Gn=function sn(me){const st=hn(me,vt,1).getDay();return hn(me,0,1+(st<=Jt?Jt:Jt+7)-st)}(Rn.getFullYear()),mi=Rn.getTime()-Gn.getTime();Wt=1+Math.round(mi/6048e5)}return Ot(Wt,me,fe(et,G.MinusSign))}}function Je(me,st=!1){return function(Ae,et){return Ot(zt(Ae).getFullYear(),me,fe(et,G.MinusSign),st)}}const ke={};function ze(me,st){me=me.replace(/:/g,"");const Ae=Date.parse("Jan 01, 1970 00:00:00 "+me)/6e4;return isNaN(Ae)?st:Ae}function tn(me){return me instanceof Date&&!isNaN(me.valueOf())}function Ai(me,st){st=encodeURIComponent(st);for(const Ae of me.split(";")){const et=Ae.indexOf("="),[Wt,Rn]=-1==et?[Ae,""]:[Ae.slice(0,et),Ae.slice(et+1)];if(Wt.trim()===st)return decodeURIComponent(Rn)}return null}const xi=/\s+/,Zt=[];let Ii=(()=>{class me{constructor(Ae,et){this._ngEl=Ae,this._renderer=et,this.initialClasses=Zt,this.stateMap=new Map}set klass(Ae){this.initialClasses=null!=Ae?Ae.trim().split(xi):Zt}set ngClass(Ae){this.rawClass="string"==typeof Ae?Ae.trim().split(xi):Ae}ngDoCheck(){for(const et of this.initialClasses)this._updateState(et,!0);const Ae=this.rawClass;if(Array.isArray(Ae)||Ae instanceof Set)for(const et of Ae)this._updateState(et,!0);else if(null!=Ae)for(const et of Object.keys(Ae))this._updateState(et,!!Ae[et]);this._applyStateDiff()}_updateState(Ae,et){const Wt=this.stateMap.get(Ae);void 0!==Wt?(Wt.enabled!==et&&(Wt.changed=!0,Wt.enabled=et),Wt.touched=!0):this.stateMap.set(Ae,{enabled:et,changed:!0,touched:!0})}_applyStateDiff(){for(const Ae of this.stateMap){const et=Ae[0],Wt=Ae[1];Wt.changed?(this._toggleClass(et,Wt.enabled),Wt.changed=!1):Wt.touched||(Wt.enabled&&this._toggleClass(et,!1),this.stateMap.delete(et)),Wt.touched=!1}}_toggleClass(Ae,et){(Ae=Ae.trim()).length>0&&Ae.split(xi).forEach(Wt=>{et?this._renderer.addClass(this._ngEl.nativeElement,Wt):this._renderer.removeClass(this._ngEl.nativeElement,Wt)})}static{this.\u0275fac=function(et){return new(et||me)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:me,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return me})(),Xt=(()=>{class me{constructor(Ae){this._viewContainerRef=Ae,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Ae){return void 0!==Ae.ngComponentOutletNgModule||void 0!==Ae.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Ae){return void 0!==Ae.ngComponentOutlet||void 0!==Ae.ngComponentOutletContent||void 0!==Ae.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Ae)}ngOnChanges(Ae){if(this._needToReCreateComponentInstance(Ae)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const et=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Ae)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,i.w6W)(this.ngComponentOutletNgModule,It(et)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(It(et)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:et,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Ae of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Ae,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Ae){for(const[et,Wt]of this._inputsUsed)Wt?(Ae.setInput(et,this.ngComponentOutletInputs[et]),this._inputsUsed.set(et,!1)):(Ae.setInput(et,void 0),this._inputsUsed.delete(et))}static{this.\u0275fac=function(et){return new(et||me)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:me,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[i.OA$]})}}return me})();function It(me){return me.get(i.Vns).injector}class Fe{constructor(st,Ae,et,Wt){this.$implicit=st,this.ngForOf=Ae,this.index=et,this.count=Wt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xe=(()=>{class me{set ngForOf(Ae){this._ngForOf=Ae,this._ngForOfDirty=!0}set ngForTrackBy(Ae){this._trackByFn=Ae}get ngForTrackBy(){return this._trackByFn}constructor(Ae,et,Wt){this._viewContainer=Ae,this._template=et,this._differs=Wt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ae){Ae&&(this._template=Ae)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ae=this._ngForOf;!this._differ&&Ae&&(this._differ=this._differs.find(Ae).create(this.ngForTrackBy))}if(this._differ){const Ae=this._differ.diff(this._ngForOf);Ae&&this._applyChanges(Ae)}}_applyChanges(Ae){const et=this._viewContainer;Ae.forEachOperation((Wt,Rn,Gn)=>{if(null==Wt.previousIndex)et.createEmbeddedView(this._template,new Fe(Wt.item,this._ngForOf,-1,-1),null===Gn?void 0:Gn);else if(null==Gn)et.remove(null===Rn?void 0:Rn);else if(null!==Rn){const mi=et.get(Rn);et.move(mi,Gn),gt(mi,Wt)}});for(let Wt=0,Rn=et.length;Wt<Rn;Wt++){const mi=et.get(Wt).context;mi.index=Wt,mi.count=Rn,mi.ngForOf=this._ngForOf}Ae.forEachIdentityChange(Wt=>{gt(et.get(Wt.currentIndex),Wt)})}static ngTemplateContextGuard(Ae,et){return!0}static{this.\u0275fac=function(et){return new(et||me)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:me,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return me})();function gt(me,st){me.context.$implicit=st.item}let Cn=(()=>{class me{constructor(Ae,et){this._viewContainer=Ae,this._context=new On,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=et}set ngIf(Ae){this._context.$implicit=this._context.ngIf=Ae,this._updateView()}set ngIfThen(Ae){Nn("ngIfThen",Ae),this._thenTemplateRef=Ae,this._thenViewRef=null,this._updateView()}set ngIfElse(Ae){Nn("ngIfElse",Ae),this._elseTemplateRef=Ae,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ae,et){return!0}static{this.\u0275fac=function(et){return new(et||me)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:me,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return me})();class On{constructor(){this.$implicit=null,this.ngIf=null}}function Nn(me,st){if(st&&!st.createEmbeddedView)throw new Error(`${me} must be a TemplateRef, but received '${(0,i.Tbb)(st)}'.`)}let Ji=(()=>{class me{constructor(Ae,et,Wt){this._ngEl=Ae,this._differs=et,this._renderer=Wt,this._ngStyle=null,this._differ=null}set ngStyle(Ae){this._ngStyle=Ae,!this._differ&&Ae&&(this._differ=this._differs.find(Ae).create())}ngDoCheck(){if(this._differ){const Ae=this._differ.diff(this._ngStyle);Ae&&this._applyChanges(Ae)}}_setStyle(Ae,et){const[Wt,Rn]=Ae.split("."),Gn=-1===Wt.indexOf("-")?void 0:i.czy.DashCase;null!=et?this._renderer.setStyle(this._ngEl.nativeElement,Wt,Rn?`${et}${Rn}`:et,Gn):this._renderer.removeStyle(this._ngEl.nativeElement,Wt,Gn)}_applyChanges(Ae){Ae.forEachRemovedItem(et=>this._setStyle(et.key,null)),Ae.forEachAddedItem(et=>this._setStyle(et.key,et.currentValue)),Ae.forEachChangedItem(et=>this._setStyle(et.key,et.currentValue))}static{this.\u0275fac=function(et){return new(et||me)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:me,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return me})(),ps=(()=>{class me{constructor(Ae){this._viewContainerRef=Ae,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ae){if(this._shouldRecreateView(Ae)){const et=this._viewContainerRef;if(this._viewRef&&et.remove(et.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Wt=this._createContextForwardProxy();this._viewRef=et.createEmbeddedView(this.ngTemplateOutlet,Wt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Ae){return!!Ae.ngTemplateOutlet||!!Ae.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ae,et,Wt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,et,Wt),get:(Ae,et,Wt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,et,Wt)}})}static{this.\u0275fac=function(et){return new(et||me)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:me,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.OA$]})}}return me})();function _n(me,st){return new i.wOt(2100,!1)}class We{createSubscription(st,Ae){return(0,i.O8t)(()=>st.subscribe({next:Ae,error:et=>{throw et}}))}dispose(st){(0,i.O8t)(()=>st.unsubscribe())}}class be{createSubscription(st,Ae){return st.then(Ae,et=>{throw et})}dispose(st){}}const Me=new be,Ue=new We;let ht=(()=>{class me{constructor(Ae){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ae}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ae){if(!this._obj){if(Ae)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Ae)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Ae!==this._obj?(this._dispose(),this.transform(Ae)):this._latestValue}_subscribe(Ae){this._obj=Ae,this._strategy=this._selectStrategy(Ae),this._subscription=this._strategy.createSubscription(Ae,et=>this._updateLatestValue(Ae,et))}_selectStrategy(Ae){if((0,i.jNT)(Ae))return Me;if((0,i.zjR)(Ae))return Ue;throw _n()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ae,et){Ae===this._obj&&(this._latestValue=et,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(et){return new(et||me)(i.rXU(i.gRc,16))}}static{this.\u0275pipe=i.EJ8({name:"async",type:me,pure:!1,standalone:!0})}}return me})(),Ut=(()=>{class me{transform(Ae){if(null==Ae)return null;if("string"!=typeof Ae)throw _n();return Ae.toLowerCase()}static{this.\u0275fac=function(et){return new(et||me)}}static{this.\u0275pipe=i.EJ8({name:"lowercase",type:me,pure:!0,standalone:!0})}}return me})();const pn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let un=(()=>{class me{transform(Ae){if(null==Ae)return null;if("string"!=typeof Ae)throw _n();return Ae.replace(pn,et=>et[0].toUpperCase()+et.slice(1).toLowerCase())}static{this.\u0275fac=function(et){return new(et||me)}}static{this.\u0275pipe=i.EJ8({name:"titlecase",type:me,pure:!0,standalone:!0})}}return me})();const wi=new i.nKC(""),_s=new i.nKC("");let Uo=(()=>{class me{constructor(Ae,et,Wt){this.locale=Ae,this.defaultTimezone=et,this.defaultOptions=Wt}transform(Ae,et,Wt,Rn){if(null==Ae||""===Ae||Ae!=Ae)return null;try{return vn(Ae,et??this.defaultOptions?.dateFormat??"mediumDate",Rn||this.locale,Wt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Gn){throw _n()}}static{this.\u0275fac=function(et){return new(et||me)(i.rXU(i.xe9,16),i.rXU(wi,24),i.rXU(_s,24))}}static{this.\u0275pipe=i.EJ8({name:"date",type:me,pure:!0,standalone:!0})}}return me})(),Cr=(()=>{class me{constructor(Ae){this.differs=Ae,this.keyValues=[],this.compareFn=Sr}transform(Ae,et=Sr){if(!Ae||!(Ae instanceof Map)&&"object"!=typeof Ae)return null;this.differ??=this.differs.find(Ae).create();const Wt=this.differ.diff(Ae),Rn=et!==this.compareFn;return Wt&&(this.keyValues=[],Wt.forEachItem(Gn=>{this.keyValues.push(function tr(me,st){return{key:me,value:st}}(Gn.key,Gn.currentValue))})),(Wt||Rn)&&(this.keyValues.sort(et),this.compareFn=et),this.keyValues}static{this.\u0275fac=function(et){return new(et||me)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:me,pure:!1,standalone:!0})}}return me})();function Sr(me,st){const Ae=me.key,et=st.key;if(Ae===et)return 0;if(void 0===Ae)return 1;if(void 0===et)return-1;if(null===Ae)return 1;if(null===et)return-1;if("string"==typeof Ae&&"string"==typeof et)return Ae<et?-1:1;if("number"==typeof Ae&&"number"==typeof et)return Ae-et;if("boolean"==typeof Ae&&"boolean"==typeof et)return Ae<et?-1:1;const Wt=String(Ae),Rn=String(et);return Wt==Rn?0:Wt<Rn?-1:1}let Ei=(()=>{class me{static{this.\u0275fac=function(et){return new(et||me)}}static{this.\u0275mod=i.$C({type:me})}static{this.\u0275inj=i.G2t({})}}return me})();const Lr="browser",aa="server";function Ir(me){return me===Lr}function Wa(me){return me===aa}let Pa=(()=>{class me{static{this.\u0275prov=(0,i.jDH)({token:me,providedIn:"root",factory:()=>Ir((0,i.WQX)(i.Agw))?new Ga((0,i.WQX)(f),window):new Ra})}}return me})();class Ga{constructor(st,Ae){this.document=st,this.window=Ae,this.offset=()=>[0,0]}setOffset(st){this.offset=Array.isArray(st)?()=>st:st}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(st){this.window.scrollTo(st[0],st[1])}scrollToAnchor(st){const Ae=function la(me,st){const Ae=me.getElementById(st)||me.getElementsByName(st)[0];if(Ae)return Ae;if("function"==typeof me.createTreeWalker&&me.body&&"function"==typeof me.body.attachShadow){const et=me.createTreeWalker(me.body,NodeFilter.SHOW_ELEMENT);let Wt=et.currentNode;for(;Wt;){const Rn=Wt.shadowRoot;if(Rn){const Gn=Rn.getElementById(st)||Rn.querySelector(`[name="${st}"]`);if(Gn)return Gn}Wt=et.nextNode()}}return null}(this.document,st);Ae&&(this.scrollToElement(Ae),Ae.focus())}setHistoryScrollRestoration(st){this.window.history.scrollRestoration=st}scrollToElement(st){const Ae=st.getBoundingClientRect(),et=Ae.left+this.window.pageXOffset,Wt=Ae.top+this.window.pageYOffset,Rn=this.offset();this.window.scrollTo(et-Rn[0],Wt-Rn[1])}}class Ra{setOffset(st){}getScrollPosition(){return[0,0]}scrollToPosition(st){}scrollToAnchor(st){}setHistoryScrollRestoration(st){}}class rt{}},21626:(B,C,n)=>{"use strict";n.d(C,{$R:()=>fn,$m:()=>Zt,B3:()=>Je,Lr:()=>I,Nl:()=>j,Qq:()=>fe,Sx:()=>dt,a7:()=>at,cS:()=>he,yz:()=>ye});var i=n(74523),t=n(54438),c=n(7673),e=n(71985),p=n(22806),m=n(70274),f=n(5964),v=n(96354),E=n(70980),y=n(25558),M=n(88141),b=n(60177);class P{}class D{}class I{constructor(Xe){this.normalizedNames=new Map,this.lazyUpdate=null,Xe?"string"==typeof Xe?this.lazyInit=()=>{this.headers=new Map,Xe.split("\n").forEach(gt=>{const Yt=gt.indexOf(":");if(Yt>0){const Cn=gt.slice(0,Yt),On=Cn.toLowerCase(),Nn=gt.slice(Yt+1).trim();this.maybeSetNormalizedName(Cn,On),this.headers.has(On)?this.headers.get(On).push(Nn):this.headers.set(On,[Nn])}})}:typeof Headers<"u"&&Xe instanceof Headers?(this.headers=new Map,Xe.forEach((gt,Yt)=>{this.setHeaderEntries(Yt,gt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Xe).forEach(([gt,Yt])=>{this.setHeaderEntries(gt,Yt)})}:this.headers=new Map}has(Xe){return this.init(),this.headers.has(Xe.toLowerCase())}get(Xe){this.init();const gt=this.headers.get(Xe.toLowerCase());return gt&&gt.length>0?gt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Xe){return this.init(),this.headers.get(Xe.toLowerCase())||null}append(Xe,gt){return this.clone({name:Xe,value:gt,op:"a"})}set(Xe,gt){return this.clone({name:Xe,value:gt,op:"s"})}delete(Xe,gt){return this.clone({name:Xe,value:gt,op:"d"})}maybeSetNormalizedName(Xe,gt){this.normalizedNames.has(gt)||this.normalizedNames.set(gt,Xe)}init(){this.lazyInit&&(this.lazyInit instanceof I?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Xe=>this.applyUpdate(Xe)),this.lazyUpdate=null))}copyFrom(Xe){Xe.init(),Array.from(Xe.headers.keys()).forEach(gt=>{this.headers.set(gt,Xe.headers.get(gt)),this.normalizedNames.set(gt,Xe.normalizedNames.get(gt))})}clone(Xe){const gt=new I;return gt.lazyInit=this.lazyInit&&this.lazyInit instanceof I?this.lazyInit:this,gt.lazyUpdate=(this.lazyUpdate||[]).concat([Xe]),gt}applyUpdate(Xe){const gt=Xe.name.toLowerCase();switch(Xe.op){case"a":case"s":let Yt=Xe.value;if("string"==typeof Yt&&(Yt=[Yt]),0===Yt.length)return;this.maybeSetNormalizedName(Xe.name,gt);const Cn=("a"===Xe.op?this.headers.get(gt):void 0)||[];Cn.push(...Yt),this.headers.set(gt,Cn);break;case"d":const On=Xe.value;if(On){let Nn=this.headers.get(gt);if(!Nn)return;Nn=Nn.filter(Qn=>-1===On.indexOf(Qn)),0===Nn.length?(this.headers.delete(gt),this.normalizedNames.delete(gt)):this.headers.set(gt,Nn)}else this.headers.delete(gt),this.normalizedNames.delete(gt)}}setHeaderEntries(Xe,gt){const Yt=(Array.isArray(gt)?gt:[gt]).map(On=>On.toString()),Cn=Xe.toLowerCase();this.headers.set(Cn,Yt),this.maybeSetNormalizedName(Xe,Cn)}forEach(Xe){this.init(),Array.from(this.normalizedNames.keys()).forEach(gt=>Xe(this.normalizedNames.get(gt),this.headers.get(gt)))}}class S{encodeKey(Xe){return x(Xe)}encodeValue(Xe){return x(Xe)}decodeKey(Xe){return decodeURIComponent(Xe)}decodeValue(Xe){return decodeURIComponent(Xe)}}const L=/%(\d[a-f0-9])/gi,T={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function x(Fe){return encodeURIComponent(Fe).replace(L,(Xe,gt)=>T[gt]??Xe)}function N(Fe){return`${Fe}`}class j{constructor(Xe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Xe.encoder||new S,Xe.fromString){if(Xe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function O(Fe,Xe){const gt=new Map;return Fe.length>0&&Fe.replace(/^\?/,"").split("&").forEach(Cn=>{const On=Cn.indexOf("="),[Nn,Qn]=-1==On?[Xe.decodeKey(Cn),""]:[Xe.decodeKey(Cn.slice(0,On)),Xe.decodeValue(Cn.slice(On+1))],Jn=gt.get(Nn)||[];Jn.push(Qn),gt.set(Nn,Jn)}),gt}(Xe.fromString,this.encoder)}else Xe.fromObject?(this.map=new Map,Object.keys(Xe.fromObject).forEach(gt=>{const Yt=Xe.fromObject[gt],Cn=Array.isArray(Yt)?Yt.map(N):[N(Yt)];this.map.set(gt,Cn)})):this.map=null}has(Xe){return this.init(),this.map.has(Xe)}get(Xe){this.init();const gt=this.map.get(Xe);return gt?gt[0]:null}getAll(Xe){return this.init(),this.map.get(Xe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Xe,gt){return this.clone({param:Xe,value:gt,op:"a"})}appendAll(Xe){const gt=[];return Object.keys(Xe).forEach(Yt=>{const Cn=Xe[Yt];Array.isArray(Cn)?Cn.forEach(On=>{gt.push({param:Yt,value:On,op:"a"})}):gt.push({param:Yt,value:Cn,op:"a"})}),this.clone(gt)}set(Xe,gt){return this.clone({param:Xe,value:gt,op:"s"})}delete(Xe,gt){return this.clone({param:Xe,value:gt,op:"d"})}toString(){return this.init(),this.keys().map(Xe=>{const gt=this.encoder.encodeKey(Xe);return this.map.get(Xe).map(Yt=>gt+"="+this.encoder.encodeValue(Yt)).join("&")}).filter(Xe=>""!==Xe).join("&")}clone(Xe){const gt=new j({encoder:this.encoder});return gt.cloneFrom=this.cloneFrom||this,gt.updates=(this.updates||[]).concat(Xe),gt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Xe=>this.map.set(Xe,this.cloneFrom.map.get(Xe))),this.updates.forEach(Xe=>{switch(Xe.op){case"a":case"s":const gt=("a"===Xe.op?this.map.get(Xe.param):void 0)||[];gt.push(N(Xe.value)),this.map.set(Xe.param,gt);break;case"d":if(void 0===Xe.value){this.map.delete(Xe.param);break}{let Yt=this.map.get(Xe.param)||[];const Cn=Yt.indexOf(N(Xe.value));-1!==Cn&&Yt.splice(Cn,1),Yt.length>0?this.map.set(Xe.param,Yt):this.map.delete(Xe.param)}}}),this.cloneFrom=this.updates=null)}}class k{constructor(){this.map=new Map}set(Xe,gt){return this.map.set(Xe,gt),this}get(Xe){return this.map.has(Xe)||this.map.set(Xe,Xe.defaultValue()),this.map.get(Xe)}delete(Xe){return this.map.delete(Xe),this}has(Xe){return this.map.has(Xe)}keys(){return this.map.keys()}}function z(Fe){return typeof ArrayBuffer<"u"&&Fe instanceof ArrayBuffer}function V(Fe){return typeof Blob<"u"&&Fe instanceof Blob}function G(Fe){return typeof FormData<"u"&&Fe instanceof FormData}class Q{constructor(Xe,gt,Yt,Cn){let On;if(this.url=gt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Xe.toUpperCase(),function K(Fe){switch(Fe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Cn?(this.body=void 0!==Yt?Yt:null,On=Cn):On=Yt,On&&(this.reportProgress=!!On.reportProgress,this.withCredentials=!!On.withCredentials,On.responseType&&(this.responseType=On.responseType),On.headers&&(this.headers=On.headers),On.context&&(this.context=On.context),On.params&&(this.params=On.params),this.transferCache=On.transferCache),this.headers??=new I,this.context??=new k,this.params){const Nn=this.params.toString();if(0===Nn.length)this.urlWithParams=gt;else{const Qn=gt.indexOf("?");this.urlWithParams=gt+(-1===Qn?"?":Qn<gt.length-1?"&":"")+Nn}}else this.params=new j,this.urlWithParams=gt}serializeBody(){return null===this.body?null:"string"==typeof this.body||z(this.body)||V(this.body)||G(this.body)||function X(Fe){return typeof URLSearchParams<"u"&&Fe instanceof URLSearchParams}(this.body)?this.body:this.body instanceof j?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G(this.body)?null:V(this.body)?this.body.type||null:z(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof j?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Xe={}){const gt=Xe.method||this.method,Yt=Xe.url||this.url,Cn=Xe.responseType||this.responseType,On=Xe.transferCache??this.transferCache,Nn=void 0!==Xe.body?Xe.body:this.body,Qn=Xe.withCredentials??this.withCredentials,Jn=Xe.reportProgress??this.reportProgress;let ki=Xe.headers||this.headers,Fi=Xe.params||this.params;const ss=Xe.context??this.context;return void 0!==Xe.setHeaders&&(ki=Object.keys(Xe.setHeaders).reduce((hs,gs)=>hs.set(gs,Xe.setHeaders[gs]),ki)),Xe.setParams&&(Fi=Object.keys(Xe.setParams).reduce((hs,gs)=>hs.set(gs,Xe.setParams[gs]),Fi)),new Q(gt,Yt,Nn,{params:Fi,headers:ki,context:ss,reportProgress:Jn,responseType:Cn,withCredentials:Qn,transferCache:On})}}var ee=function(Fe){return Fe[Fe.Sent=0]="Sent",Fe[Fe.UploadProgress=1]="UploadProgress",Fe[Fe.ResponseHeader=2]="ResponseHeader",Fe[Fe.DownloadProgress=3]="DownloadProgress",Fe[Fe.Response=4]="Response",Fe[Fe.User=5]="User",Fe}(ee||{});class ie{constructor(Xe,gt=200,Yt="OK"){this.headers=Xe.headers||new I,this.status=void 0!==Xe.status?Xe.status:gt,this.statusText=Xe.statusText||Yt,this.url=Xe.url||null,this.ok=this.status>=200&&this.status<300}}class te extends ie{constructor(Xe={}){super(Xe),this.type=ee.ResponseHeader}clone(Xe={}){return new te({headers:Xe.headers||this.headers,status:void 0!==Xe.status?Xe.status:this.status,statusText:Xe.statusText||this.statusText,url:Xe.url||this.url||void 0})}}class he extends ie{constructor(Xe={}){super(Xe),this.type=ee.Response,this.body=void 0!==Xe.body?Xe.body:null}clone(Xe={}){return new he({body:void 0!==Xe.body?Xe.body:this.body,headers:Xe.headers||this.headers,status:void 0!==Xe.status?Xe.status:this.status,statusText:Xe.statusText||this.statusText,url:Xe.url||this.url||void 0})}}class ye extends ie{constructor(Xe){super(Xe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Xe.url||"(unknown url)"}`:`Http failure response for ${Xe.url||"(unknown url)"}: ${Xe.status} ${Xe.statusText}`,this.error=Xe.error||null}}function ne(Fe,Xe){return{body:Xe,headers:Fe.headers,context:Fe.context,observe:Fe.observe,params:Fe.params,reportProgress:Fe.reportProgress,responseType:Fe.responseType,withCredentials:Fe.withCredentials,transferCache:Fe.transferCache}}let fe=(()=>{class Fe{constructor(gt){this.handler=gt}request(gt,Yt,Cn={}){let On;if(gt instanceof Q)On=gt;else{let Jn,ki;Jn=Cn.headers instanceof I?Cn.headers:new I(Cn.headers),Cn.params&&(ki=Cn.params instanceof j?Cn.params:new j({fromObject:Cn.params})),On=new Q(gt,Yt,void 0!==Cn.body?Cn.body:null,{headers:Jn,context:Cn.context,params:ki,reportProgress:Cn.reportProgress,responseType:Cn.responseType||"json",withCredentials:Cn.withCredentials,transferCache:Cn.transferCache})}const Nn=(0,c.of)(On).pipe((0,m.H)(Jn=>this.handler.handle(Jn)));if(gt instanceof Q||"events"===Cn.observe)return Nn;const Qn=Nn.pipe((0,f.p)(Jn=>Jn instanceof he));switch(Cn.observe||"body"){case"body":switch(On.responseType){case"arraybuffer":return Qn.pipe((0,v.T)(Jn=>{if(null!==Jn.body&&!(Jn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Jn.body}));case"blob":return Qn.pipe((0,v.T)(Jn=>{if(null!==Jn.body&&!(Jn.body instanceof Blob))throw new Error("Response is not a Blob.");return Jn.body}));case"text":return Qn.pipe((0,v.T)(Jn=>{if(null!==Jn.body&&"string"!=typeof Jn.body)throw new Error("Response is not a string.");return Jn.body}));default:return Qn.pipe((0,v.T)(Jn=>Jn.body))}case"response":return Qn;default:throw new Error(`Unreachable: unhandled observe type ${Cn.observe}}`)}}delete(gt,Yt={}){return this.request("DELETE",gt,Yt)}get(gt,Yt={}){return this.request("GET",gt,Yt)}head(gt,Yt={}){return this.request("HEAD",gt,Yt)}jsonp(gt,Yt){return this.request("JSONP",gt,{params:(new j).append(Yt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(gt,Yt={}){return this.request("OPTIONS",gt,Yt)}patch(gt,Yt,Cn={}){return this.request("PATCH",gt,ne(Cn,Yt))}post(gt,Yt,Cn={}){return this.request("POST",gt,ne(Cn,Yt))}put(gt,Yt,Cn={}){return this.request("PUT",gt,ne(Cn,Yt))}static{this.\u0275fac=function(Yt){return new(Yt||Fe)(t.KVO(P))}}static{this.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac})}}return Fe})();const ae=/^\)\]\}',?\n/;function J(Fe){if(Fe.url)return Fe.url;const Xe="X-Request-URL".toLocaleLowerCase();return Fe.headers.get(Xe)}let ve=(()=>{class Fe{constructor(){this.fetchImpl=(0,t.WQX)(_e,{optional:!0})?.fetch??((...gt)=>globalThis.fetch(...gt)),this.ngZone=(0,t.WQX)(t.SKi)}handle(gt){return new e.c(Yt=>{const Cn=new AbortController;return this.doRequest(gt,Cn.signal,Yt).then(Ce,On=>Yt.error(new ye({error:On}))),()=>Cn.abort()})}doRequest(gt,Yt,Cn){var On=this;return(0,i.A)(function*(){const Nn=On.createRequestInit(gt);let Qn;try{const Ss=On.ngZone.runOutsideAngular(()=>On.fetchImpl(gt.urlWithParams,{signal:Yt,...Nn}));(function qe(Fe){Fe.then(Ce,Ce)})(Ss),Cn.next({type:ee.Sent}),Qn=yield Ss}catch(Ss){return void Cn.error(new ye({error:Ss,status:Ss.status??0,statusText:Ss.statusText,url:gt.urlWithParams,headers:Ss.headers}))}const Jn=new I(Qn.headers),ki=Qn.statusText,Fi=J(Qn)??gt.urlWithParams;let ss=Qn.status,hs=null;if(gt.reportProgress&&Cn.next(new te({headers:Jn,status:ss,statusText:ki,url:Fi})),Qn.body){const Ss=Qn.headers.get("content-length"),Ji=[],ps=Qn.body.getReader();let _n,We,Ft=0;const be=typeof Zone<"u"&&Zone.current;yield On.ngZone.runOutsideAngular((0,i.A)(function*(){for(;;){const{done:Ue,value:ht}=yield ps.read();if(Ue)break;if(Ji.push(ht),Ft+=ht.length,gt.reportProgress){We="text"===gt.responseType?(We??"")+(_n??=new TextDecoder).decode(ht,{stream:!0}):void 0;const Ut=()=>Cn.next({type:ee.DownloadProgress,total:Ss?+Ss:void 0,loaded:Ft,partialText:We});be?be.run(Ut):Ut()}}}));const Me=On.concatChunks(Ji,Ft);try{const Ue=Qn.headers.get("Content-Type")??"";hs=On.parseBody(gt,Me,Ue)}catch(Ue){return void Cn.error(new ye({error:Ue,headers:new I(Qn.headers),status:Qn.status,statusText:Qn.statusText,url:J(Qn)??gt.urlWithParams}))}}0===ss&&(ss=hs?200:0),ss>=200&&ss<300?(Cn.next(new he({body:hs,headers:Jn,status:ss,statusText:ki,url:Fi})),Cn.complete()):Cn.error(new ye({error:hs,headers:Jn,status:ss,statusText:ki,url:Fi}))})()}parseBody(gt,Yt,Cn){switch(gt.responseType){case"json":const On=(new TextDecoder).decode(Yt).replace(ae,"");return""===On?null:JSON.parse(On);case"text":return(new TextDecoder).decode(Yt);case"blob":return new Blob([Yt],{type:Cn});case"arraybuffer":return Yt.buffer}}createRequestInit(gt){const Yt={},Cn=gt.withCredentials?"include":void 0;if(gt.headers.forEach((On,Nn)=>Yt[On]=Nn.join(",")),gt.headers.has("Accept")||(Yt.Accept="application/json, text/plain, */*"),!gt.headers.has("Content-Type")){const On=gt.detectContentTypeHeader();null!==On&&(Yt["Content-Type"]=On)}return{body:gt.serializeBody(),method:gt.method,headers:Yt,credentials:Cn}}concatChunks(gt,Yt){const Cn=new Uint8Array(Yt);let On=0;for(const Nn of gt)Cn.set(Nn,On),On+=Nn.length;return Cn}static{this.\u0275fac=function(Yt){return new(Yt||Fe)}}static{this.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac})}}return Fe})();class _e{}function Ce(){}function Re(Fe,Xe){return Xe(Fe)}function nt(Fe,Xe){return(gt,Yt)=>Xe.intercept(gt,{handle:Cn=>Fe(Cn,Yt)})}const at=new t.nKC(""),Ke=new t.nKC(""),Te=new t.nKC(""),pt=new t.nKC("",{providedIn:"root",factory:()=>!0});function He(){let Fe=null;return(Xe,gt)=>{null===Fe&&(Fe=((0,t.WQX)(at,{optional:!0})??[]).reduceRight(nt,Re));const Yt=(0,t.WQX)(t.TgB);if((0,t.WQX)(pt)){const On=Yt.add();return Fe(Xe,gt).pipe((0,E.j)(()=>Yt.remove(On)))}return Fe(Xe,gt)}}let Tt=(()=>{class Fe extends P{constructor(gt,Yt){super(),this.backend=gt,this.injector=Yt,this.chain=null,this.pendingTasks=(0,t.WQX)(t.TgB),this.contributeToStability=(0,t.WQX)(pt)}handle(gt){if(null===this.chain){const Yt=Array.from(new Set([...this.injector.get(Ke),...this.injector.get(Te,[])]));this.chain=Yt.reduceRight((Cn,On)=>function Ge(Fe,Xe,gt){return(Yt,Cn)=>(0,t.N4e)(gt,()=>Xe(Yt,On=>Fe(On,Cn)))}(Cn,On,this.injector),Re)}if(this.contributeToStability){const Yt=this.pendingTasks.add();return this.chain(gt,Cn=>this.backend.handle(Cn)).pipe((0,E.j)(()=>this.pendingTasks.remove(Yt)))}return this.chain(gt,Yt=>this.backend.handle(Yt))}static{this.\u0275fac=function(Yt){return new(Yt||Fe)(t.KVO(D),t.KVO(t.uvJ))}}static{this.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac})}}return Fe})();const we=/^\)\]\}',?\n/;let kt=(()=>{class Fe{constructor(gt){this.xhrFactory=gt}handle(gt){if("JSONP"===gt.method)throw new t.wOt(-2800,!1);const Yt=this.xhrFactory;return(Yt.\u0275loadImpl?(0,p.H)(Yt.\u0275loadImpl()):(0,c.of)(null)).pipe((0,y.n)(()=>new e.c(On=>{const Nn=Yt.build();if(Nn.open(gt.method,gt.urlWithParams),gt.withCredentials&&(Nn.withCredentials=!0),gt.headers.forEach((Ji,ps)=>Nn.setRequestHeader(Ji,ps.join(","))),gt.headers.has("Accept")||Nn.setRequestHeader("Accept","application/json, text/plain, */*"),!gt.headers.has("Content-Type")){const Ji=gt.detectContentTypeHeader();null!==Ji&&Nn.setRequestHeader("Content-Type",Ji)}if(gt.responseType){const Ji=gt.responseType.toLowerCase();Nn.responseType="json"!==Ji?Ji:"text"}const Qn=gt.serializeBody();let Jn=null;const ki=()=>{if(null!==Jn)return Jn;const Ji=Nn.statusText||"OK",ps=new I(Nn.getAllResponseHeaders()),Ft=function Et(Fe){return"responseURL"in Fe&&Fe.responseURL?Fe.responseURL:/^X-Request-URL:/m.test(Fe.getAllResponseHeaders())?Fe.getResponseHeader("X-Request-URL"):null}(Nn)||gt.url;return Jn=new te({headers:ps,status:Nn.status,statusText:Ji,url:Ft}),Jn},Fi=()=>{let{headers:Ji,status:ps,statusText:Ft,url:_n}=ki(),We=null;204!==ps&&(We=typeof Nn.response>"u"?Nn.responseText:Nn.response),0===ps&&(ps=We?200:0);let be=ps>=200&&ps<300;if("json"===gt.responseType&&"string"==typeof We){const Me=We;We=We.replace(we,"");try{We=""!==We?JSON.parse(We):null}catch(Ue){We=Me,be&&(be=!1,We={error:Ue,text:We})}}be?(On.next(new he({body:We,headers:Ji,status:ps,statusText:Ft,url:_n||void 0})),On.complete()):On.error(new ye({error:We,headers:Ji,status:ps,statusText:Ft,url:_n||void 0}))},ss=Ji=>{const{url:ps}=ki(),Ft=new ye({error:Ji,status:Nn.status||0,statusText:Nn.statusText||"Unknown Error",url:ps||void 0});On.error(Ft)};let hs=!1;const gs=Ji=>{hs||(On.next(ki()),hs=!0);let ps={type:ee.DownloadProgress,loaded:Ji.loaded};Ji.lengthComputable&&(ps.total=Ji.total),"text"===gt.responseType&&Nn.responseText&&(ps.partialText=Nn.responseText),On.next(ps)},Ss=Ji=>{let ps={type:ee.UploadProgress,loaded:Ji.loaded};Ji.lengthComputable&&(ps.total=Ji.total),On.next(ps)};return Nn.addEventListener("load",Fi),Nn.addEventListener("error",ss),Nn.addEventListener("timeout",ss),Nn.addEventListener("abort",ss),gt.reportProgress&&(Nn.addEventListener("progress",gs),null!==Qn&&Nn.upload&&Nn.upload.addEventListener("progress",Ss)),Nn.send(Qn),On.next({type:ee.Sent}),()=>{Nn.removeEventListener("error",ss),Nn.removeEventListener("abort",ss),Nn.removeEventListener("load",Fi),Nn.removeEventListener("timeout",ss),gt.reportProgress&&(Nn.removeEventListener("progress",gs),null!==Qn&&Nn.upload&&Nn.upload.removeEventListener("progress",Ss)),Nn.readyState!==Nn.DONE&&Nn.abort()}})))}static{this.\u0275fac=function(Yt){return new(Yt||Fe)(t.KVO(b.N0))}}static{this.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac})}}return Fe})();const vt=new t.nKC(""),sn=new t.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Gt=new t.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Je{}let ke=(()=>{class Fe{constructor(gt,Yt,Cn){this.doc=gt,this.platform=Yt,this.cookieName=Cn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const gt=this.doc.cookie||"";return gt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,b._b)(gt,this.cookieName),this.lastCookieString=gt),this.lastToken}static{this.\u0275fac=function(Yt){return new(Yt||Fe)(t.KVO(b.qQ),t.KVO(t.Agw),t.KVO(sn))}}static{this.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac})}}return Fe})();function Le(Fe,Xe){const gt=Fe.url.toLowerCase();if(!(0,t.WQX)(vt)||"GET"===Fe.method||"HEAD"===Fe.method||gt.startsWith("http://")||gt.startsWith("https://"))return Xe(Fe);const Yt=(0,t.WQX)(Je).getToken(),Cn=(0,t.WQX)(Gt);return null!=Yt&&!Fe.headers.has(Cn)&&(Fe=Fe.clone({headers:Fe.headers.set(Cn,Yt)})),Xe(Fe)}var lt=function(Fe){return Fe[Fe.Interceptors=0]="Interceptors",Fe[Fe.LegacyInterceptors=1]="LegacyInterceptors",Fe[Fe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Fe[Fe.NoXsrfProtection=3]="NoXsrfProtection",Fe[Fe.JsonpSupport=4]="JsonpSupport",Fe[Fe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Fe[Fe.Fetch=6]="Fetch",Fe}(lt||{});function fn(...Fe){const Xe=[fe,kt,Tt,{provide:P,useExisting:Tt},{provide:D,useFactory:()=>(0,t.WQX)(ve,{optional:!0})??(0,t.WQX)(kt)},{provide:Ke,useValue:Le,multi:!0},{provide:vt,useValue:!0},{provide:Je,useClass:ke}];for(const gt of Fe)Xe.push(...gt.\u0275providers);return(0,t.EmA)(Xe)}const tn=new t.nKC("");function dt(){return function Vt(Fe,Xe){return{\u0275kind:Fe,\u0275providers:Xe}}(lt.LegacyInterceptors,[{provide:tn,useFactory:He},{provide:Ke,useExisting:tn,multi:!0}])}const Tn=new t.nKC(""),ni="b",oi="h",ai="s",ns="st",is="u",si="rt",ci=new t.nKC(""),cn=["GET","HEAD"];function gn(Fe,Xe){const{isCacheActive:gt,...Yt}=(0,t.WQX)(ci),{transferCache:Cn,method:On}=Fe;if(!gt||!1===Cn||"POST"===On&&!Yt.includePostRequests&&!Cn||"POST"!==On&&!cn.includes(On)||!Yt.includeRequestsWithAuthHeaders&&function fi(Fe){return Fe.headers.has("authorization")||Fe.headers.has("proxy-authorization")}(Fe)||!1===Yt.filter?.(Fe))return Xe(Fe);const Nn=(0,t.WQX)(t.pJN),Qn=(0,t.WQX)(Tn,{optional:!0}),Jn=(0,b.Vy)((0,t.WQX)(t.Agw));if(Qn&&!Jn)throw new t.wOt(2803,!1);const ki=Jn&&Qn?function Xt(Fe,Xe){const gt=new URL(Fe,"resolve://").origin,Yt=Xe[gt];return Yt?Fe.replace(gt,Yt):Fe}(Fe.url,Qn):Fe.url,Fi=function Ai(Fe,Xe){const{params:gt,method:Yt,responseType:Cn}=Fe,On=ms(gt);let Nn=Fe.serializeBody();Nn instanceof URLSearchParams?Nn=ms(Nn):"string"!=typeof Nn&&(Nn="");const Jn=function xi(Fe){let Xe=0;for(const gt of Fe)Xe=Math.imul(31,Xe)+gt.charCodeAt(0)|0;return Xe+=2147483648,Xe.toString()}([Yt,Cn,Xe,Nn,On].join("|"));return(0,t.zw6)(Jn)}(Fe,ki),ss=Nn.get(Fi,null);let hs=Yt.includeHeaders;if("object"==typeof Cn&&Cn.includeHeaders&&(hs=Cn.includeHeaders),ss){const{[ni]:gs,[si]:Ss,[oi]:Ji,[ai]:ps,[ns]:Ft,[is]:_n}=ss;let We=gs;switch(Ss){case"arraybuffer":We=(new TextEncoder).encode(gs).buffer;break;case"blob":We=new Blob([gs])}let be=new I(Ji);return(0,c.of)(new he({body:We,headers:be,status:ps,statusText:Ft,url:_n}))}return Xe(Fe).pipe((0,M.M)(gs=>{gs instanceof he&&Jn&&Nn.set(Fi,{[ni]:gs.body,[oi]:Si(gs.headers,hs),[ai]:gs.status,[ns]:gs.statusText,[is]:ki,[si]:Fe.responseType})}))}function Si(Fe,Xe){if(!Xe)return{};const gt={};for(const Yt of Xe){const Cn=Fe.getAll(Yt);null!==Cn&&(gt[Yt]=Cn)}return gt}function ms(Fe){return[...Fe.keys()].sort().map(Xe=>`${Xe}=${Fe.getAll(Xe)}`).join("&")}function Zt(Fe){return[{provide:ci,useFactory:()=>((0,t.ngT)("NgHttpTransferCache"),{isCacheActive:!0,...Fe})},{provide:Te,useValue:gn,multi:!0,deps:[t.pJN,ci]},{provide:t.iLQ,multi:!0,useFactory:()=>{const Xe=(0,t.WQX)(t.o8S),gt=(0,t.WQX)(ci);return()=>{(0,t.zuW)(Xe).then(()=>{gt.isCacheActive=!1})}}}]}},54438:(B,C,n)=>{"use strict";function i(o,a){return Object.is(o,a)}n.d(C,{bc$:()=>Xf,iLQ:()=>a1,sZ2:()=>zf,hnV:()=>nM,o8S:()=>bd,BIS:()=>lS,gRc:()=>yM,Ql9:()=>cL,OM3:()=>Am,Ocv:()=>uf,abz:()=>Hd,Z63:()=>Po,aKT:()=>Qs,uvJ:()=>Hn,zcH:()=>ei,bkB:()=>ec,duS:()=>gr,y_5:()=>Ga,$GK:()=>un,nKC:()=>It,zZn:()=>Ar,_q3:()=>e0,MKu:()=>E1,xe9:()=>Dd,Co$:()=>Ob,Vns:()=>ph,SKi:()=>Ri,Xx1:()=>la,Agw:()=>l_,PLl:()=>V1,rOR:()=>Mr,sFG:()=>xm,_9s:()=>xy,czy:()=>tl,WPN:()=>nc,kdw:()=>rt,C4Q:()=>vm,NYb:()=>Dx,giA:()=>eM,pJN:()=>Yf,RxE:()=>HT,c1b:()=>Q_,gXe:()=>Nr,mal:()=>uv,Af3:()=>wo,tdH:()=>wb,L39:()=>zr,EWP:()=>yr,a0P:()=>WM,Ol2:()=>rv,w6W:()=>TP,QZP:()=>T1,SmG:()=>jx,Rfq:()=>ke,oKB:()=>Ha,WQX:()=>Ei,hFB:()=>Jo,naY:()=>Ux,Hps:()=>Vy,QuC:()=>ro,EmA:()=>Fr,zw6:()=>cS,v7R:()=>_2,Udg:()=>jl,CGW:()=>Gi,HJs:()=>GM,N4e:()=>xo,vPA:()=>ub,O8t:()=>m2,H3F:()=>XT,H8p:()=>dr,KH2:()=>Jp,TgB:()=>uc,wOt:()=>He,WHO:()=>bx,e01:()=>qT,lNU:()=>pt,PpM:()=>Fl,h9k:()=>V0,$MX:()=>ad,ZF7:()=>qh,Kcf:()=>U0,e5t:()=>j0,UyX:()=>CS,cWb:()=>q1,osQ:()=>y_,H5H:()=>Pv,Zy3:()=>Bt,mq5:()=>qm,JZv:()=>we,TL3:()=>Y,LfX:()=>fi,plB:()=>gd,jNT:()=>r1,zjR:()=>tM,ngT:()=>ka,TL$:()=>oS,Tbb:()=>sn,zUL:()=>Gt,rcV:()=>fc,zuW:()=>l1,M8M:()=>Td,Vt3:()=>Hy,GFd:()=>Mb,OA$:()=>Ef,Jv_:()=>hT,aNF:()=>fT,R7$:()=>dp,BMQ:()=>yv,HbH:()=>pD,ZvI:()=>CD,STu:()=>bD,ZBM:()=>DD,AVh:()=>yE,BUC:()=>TD,vxM:()=>SD,wni:()=>mg,SS7:()=>YE,nv$:()=>Kb,g25:()=>zb,VBU:()=>bc,FsC:()=>zc,jDH:()=>si,G2t:()=>cn,$C:()=>Qo,EJ8:()=>Ol,rXU:()=>Zu,nrm:()=>SE,eu8:()=>IE,bVm:()=>Qp,qex:()=>Sv,k0s:()=>Yp,j41:()=>Ov,RV6:()=>PE,xGo:()=>Kh,Mr5:()=>RE,pXf:()=>GD,nnv:()=>KD,uP7:()=>ef,KVO:()=>Co,kS0:()=>pl,QTQ:()=>qu,bIt:()=>tf,lsd:()=>WE,XpG:()=>XD,nI1:()=>ST,bMT:()=>IT,i5U:()=>PT,brH:()=>RT,SdG:()=>kE,NAR:()=>ug,Y8G:()=>gE,FS9:()=>VE,Mz_:()=>yh,FCK:()=>$E,lJ4:()=>_T,eq3:()=>vT,l_i:()=>MA,sMw:()=>yT,ziG:()=>ET,s1E:()=>CT,mGM:()=>eT,r8f:()=>dT,sdS:()=>cA,Dyx:()=>ID,Z7z:()=>Xp,fX1:()=>Jm,Njj:()=>Ld,EBC:()=>op,tSv:()=>lC,eBV:()=>Ph,npT:()=>$0,f$h:()=>G0,B4B:()=>W0,n$t:()=>np,bH3:()=>sf,xc7:()=>vE,DNE:()=>Qy,C5r:()=>wA,EFF:()=>sT,JRh:()=>KE,SpI:()=>Eh,Lme:()=>Va,E5c:()=>HE,LHq:()=>zE,DH7:()=>_g,mxI:()=>XE,R50:()=>gg,GBs:()=>qD});let t=null,c=!1,e=1;const p=Symbol("SIGNAL");function m(o){const a=t;return t=o,a}function f(){return t}const y={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function M(o){if(c)throw new Error("");if(null===t)return;t.consumerOnSignalRead(o);const a=t.nextProducerIndex++;$(t),a<t.producerNode.length&&t.producerNode[a]!==o&&j(t)&&N(t.producerNode[a],t.producerIndexOfThis[a]),t.producerNode[a]!==o&&(t.producerNode[a]=o,t.producerIndexOfThis[a]=j(t)?x(o,t,a):0),t.producerLastReadVersion[a]=o.version}function P(o){if((!j(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==e)){if(!o.producerMustRecompute(o)&&!L(o))return o.dirty=!1,void(o.lastCleanEpoch=e);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=e}}function D(o){if(void 0===o.liveConsumerNode)return;const a=c;c=!0;try{for(const l of o.liveConsumerNode)l.dirty||h(l)}finally{c=a}}function I(){return!1!==t?.consumerAllowSignalWrites}function h(o){o.dirty=!0,D(o),o.consumerMarkedDirty?.(o)}function S(o){return o&&(o.nextProducerIndex=0),m(o)}function O(o,a){if(m(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(j(o))for(let l=o.nextProducerIndex;l<o.producerNode.length;l++)N(o.producerNode[l],o.producerIndexOfThis[l]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function L(o){$(o);for(let a=0;a<o.producerNode.length;a++){const l=o.producerNode[a],g=o.producerLastReadVersion[a];if(g!==l.version||(P(l),g!==l.version))return!0}return!1}function T(o){if($(o),j(o))for(let a=0;a<o.producerNode.length;a++)N(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function x(o,a,l){if(k(o),0===o.liveConsumerNode.length&&K(o))for(let g=0;g<o.producerNode.length;g++)o.producerIndexOfThis[g]=x(o.producerNode[g],o,g);return o.liveConsumerIndexOfThis.push(l),o.liveConsumerNode.push(a)-1}function N(o,a){if(k(o),1===o.liveConsumerNode.length&&K(o))for(let g=0;g<o.producerNode.length;g++)N(o.producerNode[g],o.producerIndexOfThis[g]);const l=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[l],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[l],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const g=o.liveConsumerIndexOfThis[a],A=o.liveConsumerNode[a];$(A),A.producerIndexOfThis[g]=a}}function j(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function $(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function k(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function K(o){return void 0!==o.producerNode}const V=Symbol("UNSET"),G=Symbol("COMPUTING"),X=Symbol("ERRORED"),Q={...y,value:V,dirty:!0,error:null,equal:i,producerMustRecompute:o=>o.value===V||o.value===G,producerRecomputeValue(o){if(o.value===G)throw new Error("Detected cycle in computations.");const a=o.value;o.value=G;const l=S(o);let g;try{g=o.computation()}catch(A){g=X,o.error=A}finally{O(o,l)}a!==V&&a!==X&&g!==X&&o.equal(a,g)?o.value=a:(o.value=g,o.version++)}};let ie=function ee(){throw new Error};function te(){ie()}let ye=null;function ne(o,a){I()||te(),o.equal(o.value,a)||(o.value=a,function J(o){o.version++,function b(){e++}(),D(o),ye?.()}(o))}const oe={...y,equal:i,value:void 0};const _e=()=>{},Ce={...y,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:_e};var Re=n(84412),nt=n(21413),Ge=n(18359),at=n(96354),Ke=n(61594);const pt="https://g.co/ng/security#xss";class He extends Error{constructor(a,l){super(Bt(a,l)),this.code=a}}function Bt(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}const it=Symbol("InputSignalNode#UNSET"),Tt={...oe,transformFn:void 0,applyValueToInputSignal(o,a){ne(o,a)}};function ft(o,a){const l=Object.create(Tt);function g(){if(M(l),l.value===it)throw new He(-950,!1);return l.value}return l.value=o,l.transformFn=a?.transform,g[p]=l,g}function vn(o){return{toString:o}.toString()}const Un="__parameters__";function mt(o,a,l){return vn(()=>{const g=function wt(o){return function(...l){if(o){const g=o(...l);for(const A in g)this[A]=g[A]}}}(a);function A(...U){if(this instanceof A)return g.apply(this,U),this;const H=new A(...U);return se.annotation=H,se;function se(ge,Be,Qe){const Mt=ge.hasOwnProperty(Un)?ge[Un]:Object.defineProperty(ge,Un,{value:[]})[Un];for(;Mt.length<=Qe;)Mt.push(null);return(Mt[Qe]=Mt[Qe]||[]).push(H),ge}}return l&&(A.prototype=Object.create(l.prototype)),A.prototype.ngMetadataName=o,A.annotationCls=A,A})}const we=globalThis;function vt(o){for(let a in o)if(o[a]===vt)return a;throw Error("Could not find renamed property on target object.")}function Jt(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function sn(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(sn).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function zt(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}function Gt(o,a=100){if(!o||a<1||o.length<=a)return o;if(1==a)return o.substring(0,1)+"...";const l=Math.round(a/2);return o.substring(0,l)+"..."+o.substring(o.length-l)}const Je=vt({__forward_ref__:vt});function ke(o){return o.__forward_ref__=ke,o.toString=function(){return sn(this())},o}function Le(o){return ze(o)?o():o}function ze(o){return"function"==typeof o&&o.hasOwnProperty(Je)&&o.__forward_ref__===ke}function tn(o,a,l){o!=a&&function Tn(o,a,l,g){throw new Error(`ASSERTION ERROR: ${o}`+(null==g?"":` [Expected=> ${l} ${g} ${a} <=Actual]`))}(l,o,a,"==")}function si(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function cn(o){return{providers:o.providers||[],imports:o.imports||[]}}function gn(o){return Si(o,xi)||Si(o,Ii)}function fi(o){return null!==gn(o)}function Si(o,a){return o.hasOwnProperty(a)?o[a]:null}function Ai(o){return o&&(o.hasOwnProperty(Zt)||o.hasOwnProperty(Xt))?o[Zt]:null}const xi=vt({\u0275prov:vt}),Zt=vt({\u0275inj:vt}),Ii=vt({ngInjectableDef:vt}),Xt=vt({ngInjectorDef:vt});class It{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=si({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Fi(o){return o&&!!o.\u0275providers}const ss=vt({\u0275cmp:vt}),hs=vt({\u0275dir:vt}),gs=vt({\u0275pipe:vt}),Ss=vt({\u0275mod:vt}),Ji=vt({\u0275fac:vt}),ps=vt({__NG_ELEMENT_ID__:vt}),Ft=vt({__NG_ENV_ID__:vt});function _n(o){return"string"==typeof o?o:null==o?"":String(o)}function pn(o,a){throw new He(-201,!1)}var un=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(un||{});let jn;function Zn(){return jn}function wi(o){const a=jn;return jn=o,a}function _s(o,a,l){const g=gn(o);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:l&un.Optional?null:void 0!==a?a:void pn()}const jo={},er="__NG_DI_FLAG__",Zs="ngTempTokenPath",Cr=/\n/gm,oa="__source";let fr;function ko(o){const a=fr;return fr=o,a}function ra(o,a=un.Default){if(void 0===fr)throw new He(-203,!1);return null===fr?_s(o,void 0,a):fr.get(o,a&un.Optional?null:void 0,a)}function Co(o,a=un.Default){return(Zn()||ra)(Le(o),a)}function Ei(o,a=un.Default){return Co(o,Lr(a))}function Lr(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function aa(o){const a=[];for(let l=0;l<o.length;l++){const g=Le(o[l]);if(Array.isArray(g)){if(0===g.length)throw new He(900,!1);let A,U=un.Default;for(let H=0;H<g.length;H++){const se=g[H],ge=Wa(se);"number"==typeof ge?-1===ge?A=se.token:U|=ge:A=se}a.push(Co(A,U))}else a.push(Co(g))}return a}function Ir(o,a){return o[er]=a,o.prototype[er]=a,o}function Wa(o){return o[er]}const Ga=Ir(mt("Inject",o=>({token:o})),-1),la=Ir(mt("Optional"),8),rt=Ir(mt("SkipSelf"),4);function ut(o,a){return o.hasOwnProperty(Ji)?o[Ji]:null}function Ln(o,a){o.forEach(l=>Array.isArray(l)?Ln(l,a):a(l))}function hi(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function Li(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Qi(o,a,l){let g=Is(o,a);return g>=0?o[1|g]=l:(g=~g,function qs(o,a,l,g){let A=o.length;if(A==a)o.push(l,g);else if(1===A)o.push(g,o[0]),o[0]=l;else{for(A--,o.push(o[A-1],o[A]);A>a;)o[A]=o[A-2],A--;o[a]=l,o[a+1]=g}}(o,g,a,l)),g}function mr(o,a){const l=Is(o,a);if(l>=0)return o[1|l]}function Is(o,a){return function ca(o,a,l){let g=0,A=o.length>>l;for(;A!==g;){const U=g+(A-g>>1),H=o[U<<l];if(a===H)return U<<l;H>a?A=U:g=U+1}return~(A<<l)}(o,a,1)}const Io={},os=[],Po=new It(""),gr=new It("",-1),Yr=new It("");class da{get(a,l=jo){if(l===jo){const g=new Error(`NullInjectorError: No provider for ${sn(a)}!`);throw g.name="NullInjectorError",g}return l}}var br=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(br||{}),Nr=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(Nr||{}),lr=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(lr||{});function ol(o,a,l){let g=o.length;for(;;){const A=o.indexOf(a,l);if(-1===A)return A;if(0===A||o.charCodeAt(A-1)<=32){const U=a.length;if(A+U===g||o.charCodeAt(A+U)<=32)return A}l=A+1}}function Qr(o,a,l){let g=0;for(;g<l.length;){const A=l[g];if("number"==typeof A){if(0!==A)break;g++;const U=l[g++],H=l[g++],se=l[g++];o.setAttribute(a,H,se,U)}else{const U=A,H=l[++g];qt(U)?o.setProperty(a,U,H):o.setAttribute(a,U,H),g++}}return g}function St(o){return 3===o||4===o||6===o}function qt(o){return 64===o.charCodeAt(0)}function ue(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let g=0;g<a.length;g++){const A=a[g];"number"==typeof A?l=A:0===l||Ye(o,l,A,null,-1===l||2===l?a[++g]:null)}}return o}function Ye(o,a,l,g,A){let U=0,H=o.length;if(-1===a)H=-1;else for(;U<o.length;){const se=o[U++];if("number"==typeof se){if(se===a){H=-1;break}if(se>a){H=U-1;break}}}for(;U<o.length;){const se=o[U];if("number"==typeof se)break;if(se===l){if(null===g)return void(null!==A&&(o[U+1]=A));if(g===o[U+1])return void(o[U+2]=A)}U++,null!==g&&U++,null!==A&&U++}-1!==H&&(o.splice(H,0,a),U=H+1),o.splice(U++,0,l),null!==g&&o.splice(U++,0,g),null!==A&&o.splice(U++,0,A)}const Dt="ng-template";function nn(o,a,l,g){let A=0;if(g){for(;A<a.length&&"string"==typeof a[A];A+=2)if("class"===a[A]&&-1!==ol(a[A+1].toLowerCase(),l,0))return!0}else if(Bn(o))return!1;if(A=a.indexOf(1,A),A>-1){let U;for(;++A<a.length&&"string"==typeof(U=a[A]);)if(U.toLowerCase()===l)return!0}return!1}function Bn(o){return 4===o.type&&o.value!==Dt}function xe(o,a,l){return a===(4!==o.type||l?o.value:Dt)}function Ve(o,a,l){let g=4;const A=o.attrs,U=null!==A?function rs(o){for(let a=0;a<o.length;a++)if(St(o[a]))return a;return o.length}(A):0;let H=!1;for(let se=0;se<a.length;se++){const ge=a[se];if("number"!=typeof ge){if(!H)if(4&g){if(g=2|1&g,""!==ge&&!xe(o,ge,l)||""===ge&&1===a.length){if(Oe(g))return!1;H=!0}}else if(8&g){if(null===A||!nn(o,A,ge,l)){if(Oe(g))return!1;H=!0}}else{const Be=a[++se],Qe=ct(ge,A,Bn(o),l);if(-1===Qe){if(Oe(g))return!1;H=!0;continue}if(""!==Be){let Mt;if(Mt=Qe>U?"":A[Qe+1].toLowerCase(),2&g&&Be!==Mt){if(Oe(g))return!1;H=!0}}}}else{if(!H&&!Oe(g)&&!Oe(ge))return!1;if(H&&Oe(ge))continue;H=!1,g=ge|1&g}}return Oe(g)||H}function Oe(o){return!(1&o)}function ct(o,a,l,g){if(null===a)return-1;let A=0;if(g||!l){let U=!1;for(;A<a.length;){const H=a[A];if(H===o)return A;if(3===H||6===H)U=!0;else{if(1===H||2===H){let se=a[++A];for(;"string"==typeof se;)se=a[++A];continue}if(4===H)break;if(0===H){A+=4;continue}}A+=U?1:2}return-1}return function Pr(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const g=o[l];if("number"==typeof g)return-1;if(g===a)return l;l++}return-1}(a,o)}function Ht(o,a,l=!1){for(let g=0;g<a.length;g++)if(Ve(o,a[g],l))return!0;return!1}function Yo(o,a){e:for(let l=0;l<a.length;l++){const g=a[l];if(o.length===g.length){for(let A=0;A<o.length;A++)if(o[A]!==g[A])continue e;return!0}}return!1}function Tl(o,a){return o?":not("+a.trim()+")":a}function Ml(o){let a=o[0],l=1,g=2,A="",U=!1;for(;l<o.length;){let H=o[l];if("string"==typeof H)if(2&g){const se=o[++l];A+="["+H+(se.length>0?'="'+se+'"':"")+"]"}else 8&g?A+="."+H:4&g&&(A+=" "+H);else""!==A&&!Oe(H)&&(a+=Tl(U,A),A=""),g=H,U=U||!Oe(g);l++}return""!==A&&(a+=Tl(U,A)),a}function bc(o){return vn(()=>{const a=$l(o),l={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===br.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||Nr.Emulated,styles:o.styles||os,_:null,schemas:o.schemas||null,tView:null,id:""};Ka(l);const g=o.dependencies;return l.directiveDefs=Sl(g,!1),l.pipeDefs=Sl(g,!0),l.id=function xa(o){let a=0;const l=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const A of l)a=Math.imul(31,a)+A.charCodeAt(0)|0;return a+=2147483648,"c"+a}(l),l})}function Dc(o){return ys(o)||cr(o)}function rl(o){return null!==o}function Qo(o){return vn(()=>({type:o.type,bootstrap:o.bootstrap||os,declarations:o.declarations||os,imports:o.imports||os,exports:o.exports||os,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Vl(o,a){if(null==o)return Io;const l={};for(const g in o)if(o.hasOwnProperty(g)){const A=o[g];let U,H,se=lr.None;Array.isArray(A)?(se=A[0],U=A[1],H=A[2]??U):(U=A,H=A),a?(l[U]=se!==lr.None?[g,se]:g,a[U]=H):l[U]=g}return l}function zc(o){return vn(()=>{const a=$l(o);return Ka(a),a})}function Ol(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function ys(o){return o[ss]||null}function cr(o){return o[hs]||null}function Ro(o){return o[gs]||null}function ro(o){const a=ys(o)||cr(o)||Ro(o);return null!==a&&a.standalone}function $o(o,a){const l=o[Ss]||null;if(!l&&!0===a)throw new Error(`Type ${sn(o)} does not have '\u0275mod' property.`);return l}function $l(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||Io,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||os,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vl(o.inputs,a),outputs:Vl(o.outputs),debugInfo:null}}function Ka(o){o.features?.forEach(a=>a(o))}function Sl(o,a){if(!o)return null;const l=a?Ro:Dc;return()=>("function"==typeof o?o():o).map(g=>l(g)).filter(rl)}function Fr(o){return{\u0275providers:o}}function Ha(...o){return{\u0275providers:Wl(0,o),\u0275fromNgModule:!0}}function Wl(o,...a){const l=[],g=new Set;let A;const U=H=>{l.push(H)};return Ln(a,H=>{const se=H;ac(se,U,[],g)&&(A||=[],A.push(se))}),void 0!==A&&al(A,U),l}function al(o,a){for(let l=0;l<o.length;l++){const{ngModule:g,providers:A}=o[l];Il(A,U=>{a(U,g)})}}function ac(o,a,l,g){if(!(o=Le(o)))return!1;let A=null,U=Ai(o);const H=!U&&ys(o);if(U||H){if(H&&!H.standalone)return!1;A=o}else{const ge=o.ngModule;if(U=Ai(ge),!U)return!1;A=ge}const se=g.has(A);if(H){if(se)return!1;if(g.add(A),H.dependencies){const ge="function"==typeof H.dependencies?H.dependencies():H.dependencies;for(const Be of ge)ac(Be,a,l,g)}}else{if(!U)return!1;{if(null!=U.imports&&!se){let Be;g.add(A);try{Ln(U.imports,Qe=>{ac(Qe,a,l,g)&&(Be||=[],Be.push(Qe))})}finally{}void 0!==Be&&al(Be,a)}if(!se){const Be=ut(A)||(()=>new A);a({provide:A,useFactory:Be,deps:os},A),a({provide:Yr,useValue:A,multi:!0},A),a({provide:Po,useValue:()=>Co(A),multi:!0},A)}const ge=U.providers;if(null!=ge&&!se){const Be=o;Il(ge,Qe=>{a(Qe,Be)})}}}return A!==o&&void 0!==o.providers}function Il(o,a){for(let l of o)Fi(l)&&(l=l.\u0275providers),Array.isArray(l)?Il(l,a):a(l)}const Od=vt({provide:String,useValue:vt});function Gl(o){return null!==o&&"object"==typeof o&&Od in o}function $r(o){return"function"==typeof o}const dr=new It(""),Ks={},$t={};let mn;function Pn(){return void 0===mn&&(mn=new da),mn}class Hn{}class di extends Hn{get destroyed(){return this._destroyed}constructor(a,l,g,A){super(),this.parent=l,this.source=g,this.scopes=A,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fo(a,H=>this.processProvider(H)),this.records.set(gr,xs(void 0,this)),A.has("environment")&&this.records.set(Hn,xs(void 0,this));const U=this.records.get(dr);null!=U&&"string"==typeof U.value&&this.scopes.add(U.value),this.injectorDefTypes=new Set(this.get(Yr,os,un.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const a=m(null);try{for(const g of this._ngOnDestroyHooks)g.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const g of l)g()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),m(a)}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const l=ko(this),g=wi(void 0);try{return a()}finally{ko(l),wi(g)}}get(a,l=jo,g=un.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Ft))return a[Ft](this);g=Lr(g);const U=ko(this),H=wi(void 0);try{if(!(g&un.SkipSelf)){let ge=this.records.get(a);if(void 0===ge){const Be=function Fs(o){return"function"==typeof o||"object"==typeof o&&o instanceof It}(a)&&gn(a);ge=Be&&this.injectableDefInScope(Be)?xs(ui(a),Ks):null,this.records.set(a,ge)}if(null!=ge)return this.hydrate(a,ge)}return(g&un.Self?Pn():this.parent).get(a,l=g&un.Optional&&l===jo?null:l)}catch(se){if("NullInjectorError"===se.name){if((se[Zs]=se[Zs]||[]).unshift(sn(a)),U)throw se;return function Ia(o,a,l,g){const A=o[Zs];throw a[oa]&&A.unshift(a[oa]),o.message=function Pa(o,a,l,g=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let A=sn(a);if(Array.isArray(a))A=a.map(sn).join(" -> ");else if("object"==typeof a){let U=[];for(let H in a)if(a.hasOwnProperty(H)){let se=a[H];U.push(H+":"+("string"==typeof se?JSON.stringify(se):sn(se)))}A=`{${U.join(", ")}}`}return`${l}${g?"("+g+")":""}[${A}]: ${o.replace(Cr,"\n  ")}`}("\n"+o.message,A,l,g),o.ngTokenPath=A,o[Zs]=null,o}(se,a,"R3InjectorError",this.source)}throw se}finally{wi(H),ko(U)}}resolveInjectorInitializers(){const a=m(null),l=ko(this),g=wi(void 0);try{const U=this.get(Po,os,un.Self);for(const H of U)H()}finally{ko(l),wi(g),m(a)}}toString(){const a=[],l=this.records;for(const g of l.keys())a.push(sn(g));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processProvider(a){let l=$r(a=Le(a))?a:Le(a&&a.provide);const g=function yi(o){return Gl(o)?xs(void 0,o.useValue):xs(eo(o),Ks)}(a);if(!$r(a)&&!0===a.multi){let A=this.records.get(l);A||(A=xs(void 0,Ks,!0),A.factory=()=>aa(A.multi),this.records.set(l,A)),l=a,A.multi.push(a)}this.records.set(l,g)}hydrate(a,l){const g=m(null);try{return l.value===Ks&&(l.value=$t,l.value=l.factory()),"object"==typeof l.value&&l.value&&function ao(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}finally{m(g)}}injectableDefInScope(a){if(!a.providedIn)return!1;const l=Le(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(a){const l=this._onDestroyHooks.indexOf(a);-1!==l&&this._onDestroyHooks.splice(l,1)}}function ui(o){const a=gn(o),l=null!==a?a.factory:ut(o);if(null!==l)return l;if(o instanceof It)throw new He(204,!1);if(o instanceof Function)return function Zi(o){if(o.length>0)throw new He(204,!1);const l=function ms(o){return o&&(o[xi]||o[Ii])||null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new He(204,!1)}function eo(o,a,l){let g;if($r(o)){const A=Le(o);return ut(A)||ui(A)}if(Gl(o))g=()=>Le(o.useValue);else if(function Wo(o){return!(!o||!o.useFactory)}(o))g=()=>o.useFactory(...aa(o.deps||[]));else if(function Mc(o){return!(!o||!o.useExisting)}(o))g=()=>Co(Le(o.useExisting));else{const A=Le(o&&(o.useClass||o.provide));if(!function bo(o){return!!o.deps}(o))return ut(A)||ui(A);g=()=>new A(...aa(o.deps))}return g}function xs(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function fo(o,a){for(const l of o)Array.isArray(l)?fo(l,a):l&&Fi(l)?fo(l.\u0275providers,a):a(l)}function xo(o,a){o instanceof di&&o.assertNotDestroyed();const g=ko(o),A=wi(void 0);try{return a()}finally{ko(g),wi(A)}}function Ps(){return void 0!==Zn()||null!=function Xr(){return fr}()}function wo(o){if(!Ps())throw new He(-203,!1)}const Ms=0,ii=1,Bi=2,Xs=3,nr=4,to=5,go=6,Do=7,no=8,Lo=9,ua=10,cs=11,ll=12,Oc=13,za=14,No=15,Kl=16,Sc=17,La=18,Rr=19,Xa=20,Ic=21,Sd=22,ha=23,Xi=25,Yc=1,To=6,Jr=7,Hl=9,ur=10;var zl=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(zl||{});function ir(o){return Array.isArray(o)&&"object"==typeof o[Yc]}function Zr(o){return Array.isArray(o)&&!0===o[Yc]}function Cu(o){return!!(4&o.flags)}function cl(o){return o.componentOffset>-1}function Id(o){return!(1&~o.flags)}function Ya(o){return!!o.template}function Pd(o){return!!(512&o[Bi])}class Ad{constructor(a,l,g){this.previousValue=a,this.currentValue=l,this.firstChange=g}isFirstChange(){return this.firstChange}}function Pc(o,a,l,g){null!==a?a.applyValueToInputSignal(a,g):o[l]=g}function Ef(){return In}function In(o){return o.type.prototype.ngOnChanges&&(o.setInput=_o),Ao}function Ao(){const o=Cf(this),a=o?.current;if(a){const l=o.previous;if(l===Io)o.previous=a;else for(let g in a)l[g]=a[g];o.current=null,this.ngOnChanges(a)}}function _o(o,a,l,g,A){const U=this.declaredInputs[g],H=Cf(o)||function Tr(o,a){return o[bu]=a}(o,{previous:Io,current:null}),se=H.current||(H.current={}),ge=H.previous,Be=ge[U];se[U]=new Ad(Be&&Be.currentValue,l,ge===Io),Pc(o,a,A,l)}Ef.ngInherit=!0;const bu="__ngSimpleChanges__";function Cf(o){return o[bu]||null}const Xl=function(o,a,l){};function io(o){for(;Array.isArray(o);)o=o[Ms];return o}function xd(o,a){return io(a[o])}function fa(o,a){return io(a[o.index])}function Rc(o,a){return o.data[a]}function Yl(o,a){return o[a]}function ma(o,a){const l=a[o];return ir(l)?l:l[Ms]}function Mu(o){return!(128&~o[Bi])}function uo(o,a){return null==a?null:o[a]}function Pi(o){o[Sc]=0}function bf(o){1024&o[Bi]||(o[Bi]|=1024,Mu(o)&&Sh(o))}function Ou(o){return!!(9216&o[Bi]||o[ha]?.dirty)}function Df(o){o[ua].changeDetectionScheduler?.notify(8),64&o[Bi]&&(o[Bi]|=1024),Ou(o)&&Sh(o)}function Sh(o){o[ua].changeDetectionScheduler?.notify(0);let a=Ql(o);for(;null!==a&&!(8192&a[Bi])&&(a[Bi]|=8192,Mu(a));)a=Ql(a)}function Ih(o,a){if(!(256&~o[Bi]))throw new He(911,!1);null===o[Ic]&&(o[Ic]=[]),o[Ic].push(a)}function Rg(o,a){if(null===o[Ic])return;const l=o[Ic].indexOf(a);-1!==l&&o[Ic].splice(l,1)}function Ql(o){const a=o[Xs];return Zr(a)?a[Xs]:a}const Es={lFrame:m0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let c0=!1;function u0(){return Es.bindingsEnabled}function wd(){return null!==Es.skipHydrationRootTNode}function Fn(){return Es.lFrame.lView}function Hi(){return Es.lFrame.tView}function Ph(o){return Es.lFrame.contextLView=o,o[no]}function Ld(o){return Es.lFrame.contextLView=null,o}function ho(){let o=Ng();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ng(){return Es.lFrame.currentTNode}function Rh(){const o=Es.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function dl(o,a){const l=Es.lFrame;l.currentTNode=o,l.isParent=a}function Jc(){return Es.lFrame.isParent}function Na(){Es.lFrame.isParent=!1}function Su(){return Es.lFrame.contextLView}function Ni(){return c0}function Mf(o){c0=o}function Vi(){const o=Es.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function _a(){return Es.lFrame.bindingIndex}function Aa(){return Es.lFrame.bindingIndex++}function Jl(o){const a=Es.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function Zl(o){Es.lFrame.inI18n=o}function Fg(o,a){const l=Es.lFrame;l.bindingIndex=l.bindingRootIndex=o,Of(a)}function Of(o){Es.lFrame.currentDirectiveIndex=o}function Ug(){return Es.lFrame.currentQueryIndex}function xh(o){Es.lFrame.currentQueryIndex=o}function x1(o){const a=o[ii];return 2===a.type?a.declTNode:1===a.type?o[to]:null}function p0(o,a,l){if(l&un.SkipSelf){let A=a,U=o;for(;!(A=A.parent,null!==A||l&un.Host||(A=x1(U),null===A||(U=U[za],10&A.type))););if(null===A)return!1;a=A,o=U}const g=Es.lFrame=f0();return g.currentTNode=a,g.lView=o,!0}function Sf(o){const a=f0(),l=o[ii];Es.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function f0(){const o=Es.lFrame,a=null===o?null:o.child;return null===a?m0(o):a}function m0(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function g0(){const o=Es.lFrame;return Es.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const _0=g0;function jg(){const o=g0();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function va(){return Es.lFrame.selectedIndex}function cc(o){Es.lFrame.selectedIndex=o}function Go(){const o=Es.lFrame;return Rc(o.tView,o.selectedIndex)}function Lh(){return Es.lFrame.currentNamespace}let Fd=!0;function Nh(){return Fd}function ul(o){Fd=o}function Ru(o,a){for(let l=a.directiveStart,g=a.directiveEnd;l<g;l++){const U=o.data[l].type.prototype,{ngAfterContentInit:H,ngAfterContentChecked:se,ngAfterViewInit:ge,ngAfterViewChecked:Be,ngOnDestroy:Qe}=U;H&&(o.contentHooks??=[]).push(-l,H),se&&((o.contentHooks??=[]).push(l,se),(o.contentCheckHooks??=[]).push(l,se)),ge&&(o.viewHooks??=[]).push(-l,ge),Be&&((o.viewHooks??=[]).push(l,Be),(o.viewCheckHooks??=[]).push(l,Be)),null!=Qe&&(o.destroyHooks??=[]).push(l,Qe)}}function Rf(o,a,l){Ac(o,a,3,l)}function Au(o,a,l,g){(3&o[Bi])===l&&Ac(o,a,l,g)}function zi(o,a){let l=o[Bi];(3&l)===a&&(l&=16383,l+=1,o[Bi]=l)}function Ac(o,a,l,g){const U=g??-1,H=a.length-1;let se=0;for(let ge=void 0!==g?65535&o[Sc]:0;ge<H;ge++)if("number"==typeof a[ge+1]){if(se=a[ge],null!=g&&se>=g)break}else a[ge]<0&&(o[Sc]+=65536),(se<U||-1==U)&&(Vg(o,l,a,ge),o[Sc]=(4294901760&o[Sc])+ge+2),ge++}function kg(o,a){Xl(4,o,a);const l=m(null);try{a.call(o)}finally{m(l),Xl(5,o,a)}}function Vg(o,a,l,g){const A=l[g]<0,U=l[g+1],se=o[A?-l[g]:l[g]];A?o[Bi]>>14<o[Sc]>>16&&(3&o[Bi])===a&&(o[Bi]+=16384,kg(se,U)):kg(se,U)}const vo=-1;class Ud{constructor(a,l,g){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=g}}const jd={};class Zc{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,g){g=Lr(g);const A=this.injector.get(a,jd,g);return A!==jd||l===jd?A:this.parentInjector.get(a,l,g)}}function Lf(o){return o!==vo}function dc(o){return 32767&o}function wu(o,a){let l=function Nf(o){return o>>16}(o),g=a;for(;l>0;)g=g[za],l--;return g}let Lu=!0;function kd(o){const a=Lu;return Lu=o,a}const Ff=255,Bf=5;let kh=0;const hl={};function Nu(o,a){const l=Fu(o,a);if(-1!==l)return l;const g=a[ii];g.firstCreatePass&&(o.injectorIndex=a.length,Vh(g.data,o),Vh(a,null),Vh(g.blueprint,null));const A=$h(o,a),U=o.injectorIndex;if(Lf(A)){const H=dc(A),se=wu(A,a),ge=se[ii].data;for(let Be=0;Be<8;Be++)a[U+Be]=se[H+Be]|ge[H+Be]}return a[U+8]=A,U}function Vh(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Fu(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function $h(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,g=null,A=a;for(;null!==A;){if(g=Wd(A),null===g)return vo;if(l++,A=A[za],-1!==g.injectorIndex)return g.injectorIndex|l<<16}return vo}function Uf(o,a,l){!function Gg(o,a,l){let g;"string"==typeof l?g=l.charCodeAt(0)||0:l.hasOwnProperty(ps)&&(g=l[ps]),null==g&&(g=l[ps]=kh++);const A=g&Ff;a.data[o+(A>>Bf)]|=1<<A}(o,a,l)}function Kg(o,a,l){if(l&un.Optional||void 0!==o)return o;pn()}function jf(o,a,l,g){if(l&un.Optional&&void 0===g&&(g=null),!(l&(un.Self|un.Host))){const A=o[Lo],U=wi(void 0);try{return A?A.get(a,g,l&un.Optional):_s(a,g,l&un.Optional)}finally{wi(U)}}return Kg(g,0,l)}function Hg(o,a,l,g=un.Default,A){if(null!==o){if(2048&a[Bi]&&!(g&un.Self)){const H=function $d(o,a,l,g,A){let U=o,H=a;for(;null!==U&&null!==H&&2048&H[Bi]&&!(512&H[Bi]);){const se=zg(U,H,l,g|un.Self,hl);if(se!==hl)return se;let ge=U.parent;if(!ge){const Be=H[Xa];if(Be){const Qe=Be.get(l,hl,g);if(Qe!==hl)return Qe}ge=Wd(H),H=H[za]}U=ge}return A}(o,a,l,g,hl);if(H!==hl)return H}const U=zg(o,a,l,g,hl);if(U!==hl)return U}return jf(a,l,g,A)}function zg(o,a,l,g,A){const U=function v0(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ps)?o[ps]:void 0;return"number"==typeof a?a>=0?a&Ff:E0:a}(l);if("function"==typeof U){if(!p0(a,o,g))return g&un.Host?Kg(A,0,g):jf(a,l,g,A);try{let H;if(H=U(g),null!=H||g&un.Optional)return H;pn()}finally{_0()}}else if("number"==typeof U){let H=null,se=Fu(o,a),ge=vo,Be=g&un.Host?a[No][to]:null;for((-1===se||g&un.SkipSelf)&&(ge=-1===se?$h(o,a):a[se+8],ge!==vo&&y0(g,!1)?(H=a[ii],se=dc(ge),a=wu(ge,a)):se=-1);-1!==se;){const Qe=a[ii];if(Gh(U,se,Qe.data)){const Mt=YO(se,a,l,H,g,Be);if(Mt!==hl)return Mt}ge=a[se+8],ge!==vo&&y0(g,a[ii].data[se+8]===Be)&&Gh(U,se,a)?(H=Qe,se=dc(ge),a=wu(ge,a)):se=-1}}return A}function YO(o,a,l,g,A,U){const H=a[ii],se=H.data[o+8],Qe=Xg(se,H,l,null==g?cl(se)&&Lu:g!=H&&!!(3&se.type),A&un.Host&&U===se);return null!==Qe?qc(a,H,Qe,se):hl}function Xg(o,a,l,g,A){const U=o.providerIndexes,H=a.data,se=1048575&U,ge=o.directiveStart,Qe=U>>20,Qt=A?se+Qe:o.directiveEnd;for(let on=g?se:se+Qe;on<Qt;on++){const Dn=H[on];if(on<ge&&l===Dn||on>=ge&&Dn.type===l)return on}if(A){const on=H[ge];if(on&&Ya(on)&&on.type===l)return ge}return null}function qc(o,a,l,g){let A=o[l];const U=a.data;if(function Af(o){return o instanceof Ud}(A)){const H=A;H.resolving&&function Ue(o,a){throw a&&a.join(" > "),new He(-200,o)}(function We(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():_n(o)}(U[l]));const se=kd(H.canSeeViewProviders);H.resolving=!0;const Be=H.injectImpl?wi(H.injectImpl):null;p0(o,g,un.Default);try{A=o[l]=H.factory(void 0,U,o,g),a.firstCreatePass&&l>=g.directiveStart&&function Bd(o,a,l){const{ngOnChanges:g,ngOnInit:A,ngDoCheck:U}=a.type.prototype;if(g){const H=In(a);(l.preOrderHooks??=[]).push(o,H),(l.preOrderCheckHooks??=[]).push(o,H)}A&&(l.preOrderHooks??=[]).push(0-o,A),U&&((l.preOrderHooks??=[]).push(o,U),(l.preOrderCheckHooks??=[]).push(o,U))}(l,U[l],a)}finally{null!==Be&&wi(Be),kd(se),H.resolving=!1,_0()}}return A}function Gh(o,a,l){return!!(l[a+(o>>Bf)]&1<<o)}function y0(o,a){return!(o&un.Self||o&un.Host&&a)}class Wr{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,g){return Hg(this._tNode,this._lView,a,Lr(g),l)}}function E0(){return new Wr(ho(),Fn())}function Kh(o){return vn(()=>{const a=o.prototype.constructor,l=a[Ji]||Bu(a),g=Object.prototype;let A=Object.getPrototypeOf(o.prototype).constructor;for(;A&&A!==g;){const U=A[Ji]||Bu(A);if(U&&U!==l)return U;A=Object.getPrototypeOf(A)}return U=>new U})}function Bu(o){return ze(o)?()=>{const a=Bu(Le(o));return a&&a()}:ut(o)}function Wd(o){const a=o[ii],l=a.type;return 2===l?a.declTNode:1===l?o[to]:null}function pl(o){return function Wh(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const g=l.length;let A=0;for(;A<g;){const U=l[A];if(St(U))break;if(0===U)A+=2;else if("number"==typeof U)for(A++;A<g&&"string"==typeof l[A];)A++;else{if(U===a)return l[A+1];A+=2}}}return null}(ho(),o)}function Kd(o,a=null,l=null,g){const A=Qg(o,a,l,g);return A.resolveInjectorInitializers(),A}function Qg(o,a=null,l=null,g,A=new Set){const U=[l||os,Ha(o)];return g=g||("object"==typeof o?void 0:sn(o)),new di(U,a||Pn(),g||null,A)}class Ar{static{this.THROW_IF_NOT_FOUND=jo}static{this.NULL=new da}static create(a,l){if(Array.isArray(a))return Kd({name:""},l,a,"");{const g=a.name??"";return Kd({name:g},a.parent,a.providers,g)}}static{this.\u0275prov=si({token:Ar,providedIn:"any",factory:()=>Co(gr)})}static{this.__NG_ELEMENT_ID__=-1}}new It("").__NG_ELEMENT_ID__=o=>{const a=ho();if(null===a)throw new He(204,!1);if(2&a.type)return a.value;if(o&un.Optional)return null;throw new He(204,!1)};function zh(o){return o.ngOriginalError}const kf=!0;let Hd=(()=>{class o{static{this.__NG_ELEMENT_ID__=fl}static{this.__NG_ENV_ID__=l=>l}}return o})();class Uu extends Hd{constructor(a){super(),this._lView=a}onDestroy(a){return Ih(this._lView,a),()=>Rg(this._lView,a)}}function fl(){return new Uu(Fn())}let uc=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Re.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=si({token:o,providedIn:"root",factory:()=>new o})}}return o})();const ec=class F1 extends nt.B{constructor(a=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=a,Ps()&&(this.destroyRef=Ei(Hd,{optional:!0})??void 0,this.pendingTasks=Ei(uc,{optional:!0})??void 0)}emit(a){const l=m(null);try{super.next(a)}finally{m(l)}}subscribe(a,l,g){let A=a,U=l||(()=>null),H=g;if(a&&"object"==typeof a){const ge=a;A=ge.next?.bind(ge),U=ge.error?.bind(ge),H=ge.complete?.bind(ge)}this.__isAsync&&(U=this.wrapInTimeout(U),A&&(A=this.wrapInTimeout(A)),H&&(H=this.wrapInTimeout(H)));const se=super.subscribe({next:A,error:U,complete:H});return a instanceof Ge.yU&&a.add(se),se}wrapInTimeout(a){return l=>{const g=this.pendingTasks?.add();setTimeout(()=>{a(l),void 0!==g&&this.pendingTasks?.remove(g)})}}};function Vf(...o){}function $f(o){let a,l;function g(){o=Vf;try{void 0!==l&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(l),void 0!==a&&clearTimeout(a)}catch{}}return a=setTimeout(()=>{o(),g()}),"function"==typeof requestAnimationFrame&&(l=requestAnimationFrame(()=>{o(),g()})),()=>g()}function qg(o){return queueMicrotask(()=>o()),()=>{o=Vf}}const Fo="isAngularZone",Os=Fo+"_ID";let tc=0;class Ri{constructor(a){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ec(!1),this.onMicrotaskEmpty=new ec(!1),this.onStable=new ec(!1),this.onError=new ec(!1);const{enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:g=!1,shouldCoalesceRunChangeDetection:A=!1,scheduleInRootZone:U=kf}=a;if(typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();const H=this;H._nesting=0,H._outer=H._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(H._inner=H._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(H._inner=H._inner.fork(Zone.longStackTraceZoneSpec)),H.shouldCoalesceEventChangeDetection=!A&&g,H.shouldCoalesceRunChangeDetection=A,H.callbackScheduled=!1,H.scheduleInRootZone=U,function W(o){const a=()=>{!function R(o){function a(){$f(()=>{o.callbackScheduled=!1,pe(o),o.isCheckStableRunning=!0,q(o),o.isCheckStableRunning=!1})}o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,o.scheduleInRootZone?Zone.root.run(()=>{a()}):o._outer.run(()=>{a()}),pe(o))}(o)},l=tc++;o._inner=o._inner.fork({name:"angular",properties:{[Fo]:!0,[Os]:l,[Os+l]:!0},onInvokeTask:(g,A,U,H,se,ge)=>{if(function dn(o){return An(o,"__ignore_ng_zone__")}(ge))return g.invokeTask(U,H,se,ge);try{return Ne(o),g.invokeTask(U,H,se,ge)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===H.type||o.shouldCoalesceRunChangeDetection)&&a(),xt(o)}},onInvoke:(g,A,U,H,se,ge,Be)=>{try{return Ne(o),g.invoke(U,H,se,ge,Be)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function wn(o){return An(o,"__scheduler_tick__")}(ge)&&a(),xt(o)}},onHasTask:(g,A,U,H)=>{g.hasTask(U,H),A===U&&("microTask"==H.change?(o._hasPendingMicrotasks=H.microTask,pe(o),q(o)):"macroTask"==H.change&&(o.hasPendingMacrotasks=H.macroTask))},onHandleError:(g,A,U,H)=>(g.handleError(U,H),o.runOutsideAngular(()=>o.onError.emit(H)),!1)})}(H)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Fo)}static assertInAngularZone(){if(!Ri.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(Ri.isInAngularZone())throw new He(909,!1)}run(a,l,g){return this._inner.run(a,l,g)}runTask(a,l,g,A){const U=this._inner,H=U.scheduleEventTask("NgZoneEvent: "+A,a,F,Vf,Vf);try{return U.runTask(H,l,g)}finally{U.cancelTask(H)}}runGuarded(a,l,g){return this._inner.runGuarded(a,l,g)}runOutsideAngular(a){return this._outer.run(a)}}const F={};function q(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function pe(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function Ne(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function xt(o){o._nesting--,q(o)}class rn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ec,this.onMicrotaskEmpty=new ec,this.onStable=new ec,this.onError=new ec}run(a,l,g){return a.apply(l,g)}runGuarded(a,l,g){return a.apply(l,g)}runOutsideAngular(a){return a()}runTask(a,l,g,A){return a.apply(l,g)}}function An(o,a){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[a]}class ei{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&zh(a);for(;l&&zh(l);)l=zh(l);return l||null}}const vi=new It("",{providedIn:"root",factory:()=>{const o=Ei(Ri),a=Ei(ei);return l=>o.runOutsideAngular(()=>a.handleError(l))}});class Us{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=Ei(ei,{optional:!0}),this.destroyRef=Ei(Hd),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(a){if(this.destroyed)throw new He(953,!1);return(this.listeners??=[]).push(a),{unsubscribe:()=>{const l=this.listeners?.indexOf(a);void 0!==l&&-1!==l&&this.listeners?.splice(l,1)}}}emit(a){if(this.destroyed)throw new He(953,!1);if(null===this.listeners)return;const l=m(null);try{for(const g of this.listeners)try{g(a)}catch(A){this.errorHandler?.handleError(A)}}finally{m(l)}}}function Gi(o){return new Us}function vs(o,a){return ft(o,a)}const Jo=(vs.required=function Gs(o){return ft(it,o)},vs);function js(){return ks(ho(),Fn())}function ks(o,a){return new Qs(fa(o,a))}let Qs=(()=>{class o{constructor(l){this.nativeElement=l}static{this.__NG_ELEMENT_ID__=js}}return o})();function Ko(o){return o instanceof Qs?o.nativeElement:o}function Zo(){return this._results[Symbol.iterator]()}class Mr{get changes(){return this._changes??=new ec}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const l=Mr.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=Zo)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){this.dirty=!1;const g=function Nt(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function jt(o,a,l){if(o.length!==a.length)return!1;for(let g=0;g<o.length;g++){let A=o[g],U=a[g];if(l&&(A=l(A),U=l(U)),U!==A)return!1}return!0}(this._results,g,l))&&(this._results=g,this.length=g.length,this.last=g[this.length-1],this.first=g[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(a){this._onDirty=a}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const hr="ngSkipHydration",ya="ngskiphydration";function ml(o){const a=o.mergedAttrs;if(null===a)return!1;for(let l=0;l<a.length;l+=2){const g=a[l];if("number"==typeof g)return!1;if("string"==typeof g&&g.toLowerCase()===ya)return!0}return!1}function Ea(o){return o.hasAttribute(hr)}function Al(o){return!(128&~o.flags)}const Oi=new Map;let wc=0;function hc(o){Oi.delete(o[Rr])}const id="__ngContext__";function Ca(o,a){ir(a)?(o[id]=a[Rr],function zd(o){Oi.set(o[Rr],o)}(a)):o[id]=a}function Xh(o){return r_(o[ll])}function Kf(o){return r_(o[nr])}function r_(o){for(;null!==o&&!Zr(o);)o=o[nr];return o}let M0;function oS(o){M0=o}function Yd(){if(void 0!==M0)return M0;if(typeof document<"u")return document;throw new He(210,!1)}const zf=new It("",{providedIn:"root",factory:()=>rS}),rS="ng",V1=new It(""),l_=new It("",{providedIn:"platform",factory:()=>"unknown"}),Xf=new It(""),lS=new It("",{providedIn:"root",factory:()=>Yd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function cS(o){return o}function Yh(){const o=new Yf;return"browser"===Ei(l_)&&(o.store=function dS(o,a){const l=o.getElementById(a+"-state");if(l?.textContent)try{return JSON.parse(l.textContent)}catch(g){console.warn("Exception while restoring TransferState for app "+a,g)}return{}}(Yd(),Ei(zf))),o}let Yf=(()=>{class o{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=si({token:o,providedIn:"root",factory:Yh})}get(l,g){return void 0!==this.store[l]?this.store[l]:g}set(l,g){this.store[l]=g}remove(l){delete this.store[l]}hasKey(l){return this.store.hasOwnProperty(l)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(l,g){this.onSerializeCallbacks[l]=g}toJson(){for(const l in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(l))try{this.store[l]=this.onSerializeCallbacks[l]()}catch(g){console.warn("Exception in onSerialize callback: ",g)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return o})();const c_="h",I0="b";var Qh=function(o){return o.FirstChild="f",o.NextSibling="n",o}(Qh||{});const d_="e",Ho="t",Qf="c",u_="x",Qd="r",P0="i",h_="n",Jf="d",R0="__nghData__",od="ngh",uS="nghm";let $1=()=>null;function W1(o,a,l=!1){let g=o.getAttribute(od);if(null==g)return null;const[A,U]=g.split("|");if(g=l?U:A,!g)return null;const se=l?A:U?`|${U}`:"";let ge={};if(""!==g){const Qe=a.get(Yf,null,{optional:!0});null!==Qe&&(ge=Qe.get(R0,[])[Number(g)])}const Be={data:ge,firstChild:o.firstChild??null};return l&&(Be.firstChild=o,m_(Be,0,o.nextSibling)),se?o.setAttribute(od,se):o.removeAttribute(od),Be}function p_(o,a,l=!1){return $1(o,a,l)}function A0(o){let a=o._lView;return 2===a[ii].type?null:(Pd(a)&&(a=a[Xi]),a)}function m_(o,a,l){o.segmentHeads??={},o.segmentHeads[a]=l}function Gu(o,a){return o.segmentHeads?.[a]??null}function H1(o,a){return o.data[Qf]?.[a]??null}function w0(o,a){const l=H1(o,a)??[];let g=0;for(let A of l)g+=A[Qd]*(A[u_]??1);return g}function rd(o,a){if(typeof o.disconnectedNodes>"u"){const l=o.data[Jf];o.disconnectedNodes=l?new Set(l):null}return!!function Nc(o){if(typeof o.disconnectedNodes>"u"){const a=o.data[Jf];o.disconnectedNodes=a?new Set(a):null}return o.disconnectedNodes}(o)?.has(a)}const g_=new It(""),Y1=new It("",{providedIn:"root",factory:()=>!1});let v_,L0;function Jh(o){return function tm(){if(void 0===v_&&(v_=null,we.trustedTypes))try{v_=we.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return v_}()?.createHTML(o)||o}function Ku(){if(void 0===L0&&(L0=null,we.trustedTypes))try{L0=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return L0}function Hu(o){return Ku()?.createHTML(o)||o}function F0(o){return Ku()?.createScriptURL(o)||o}class zu{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}class vS extends zu{getTypeName(){return"HTML"}}class Z1 extends zu{getTypeName(){return"Style"}}class Zh extends zu{getTypeName(){return"Script"}}class yS extends zu{getTypeName(){return"URL"}}class ES extends zu{getTypeName(){return"ResourceURL"}}function fc(o){return o instanceof zu?o.changingThisBreaksApplicationSecurity:o}function qh(o,a){const l=function B0(o){return o instanceof zu&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${pt})`)}return l===a}function U0(o){return new vS(o)}function q1(o){return new Z1(o)}function CS(o){return new Zh(o)}function y_(o){return new yS(o)}function j0(o){return new ES(o)}function eC(o){const a=new DS(o);return function nm(){try{return!!(new window.DOMParser).parseFromString(Jh(""),"text/html")}catch{return!1}}()?new bS(a):a}class bS{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(Jh(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.firstChild?.remove(),l)}catch{return null}}}class DS{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const l=this.inertDocument.createElement("template");return l.innerHTML=Jh(a),l}}const TS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ad(o){return(o=String(o)).match(TS)?o:"unsafe:"+o}function mc(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function im(...o){const a={};for(const l of o)for(const g in l)l.hasOwnProperty(g)&&(a[g]=!0);return a}const $e=mc("area,br,col,hr,img,wbr"),yn=mc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fs=mc("rp,rt"),ep=im($e,im(yn,mc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),im(fs,mc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),im(fs,yn)),Jd=mc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),k0=im(Jd,mc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xu=mc("script,style,template");class Z2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,g=!0,A=[];for(;l;)if(l.nodeType===Node.ELEMENT_NODE?g=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,g&&l.firstChild)A.push(l),l=OS(l);else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let U=tp(l);if(U){l=U;break}l=A.pop()}return this.buf.join("")}startElement(a){const l=tC(a).toLowerCase();if(!ep.hasOwnProperty(l))return this.sanitizedSomething=!0,!Xu.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const g=a.attributes;for(let A=0;A<g.length;A++){const U=g.item(A),H=U.name,se=H.toLowerCase();if(!k0.hasOwnProperty(se)){this.sanitizedSomething=!0;continue}let ge=U.value;Jd[se]&&(ge=ad(ge)),this.buf.push(" ",H,'="',iC(ge),'"')}return this.buf.push(">"),!0}endElement(a){const l=tC(a).toLowerCase();ep.hasOwnProperty(l)&&!$e.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(iC(a))}}function tp(o){const a=o.nextSibling;if(a&&o!==a.previousSibling)throw sm(a);return a}function OS(o){const a=o.firstChild;if(a&&function MS(o,a){return(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,a))throw sm(a);return a}function tC(o){const a=o.nodeName;return"string"==typeof a?a:"FORM"}function sm(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const q2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nC=/([^\#-~ |!])/g;function iC(o){return o.replace(/&/g,"&amp;").replace(q2,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(nC,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let E_;function V0(o,a){let l=null;try{E_=E_||eC(o);let g=a?String(a):"";l=E_.getInertBodyElement(g);let A=5,U=g;do{if(0===A)throw new Error("Failed to sanitize html because the input is unstable");A--,g=U,U=l.innerHTML,l=E_.getInertBodyElement(g)}while(g!==U);return Jh((new Z2).sanitizeChildren(cd(l)||l))}finally{if(l){const g=cd(l)||l;for(;g.firstChild;)g.firstChild.remove()}}}function cd(o){return"content"in o&&function sC(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var nc=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(nc||{});function $0(o){const a=om();return a?Hu(a.sanitize(nc.HTML,o)||""):qh(o,"HTML")?Hu(fc(o)):V0(Yd(),_n(o))}function W0(o){const a=om();return a?a.sanitize(nc.URL,o)||"":qh(o,"URL")?fc(o):ad(_n(o))}function G0(o){const a=om();if(a)return F0(a.sanitize(nc.RESOURCE_URL,o)||"");if(qh(o,"ResourceURL"))return F0(fc(o));throw new He(904,!1)}function np(o,a,l){return function AS(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?G0:W0}(a,l)(o)}function om(){const o=Fn();return o&&o[ua].sanitizer}const wS=/^>|^->|<!--|-->|--!>|<!-$/g,ip=/(<|>)/g,Zd="\u200b$1\u200b";function lC(o){return o.ownerDocument.defaultView}function op(o){return o.ownerDocument}function _l(o){return o instanceof Function?o():o}function Kr(o){return"browser"===(o??Ei(Ar)).get(l_)}var tl=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(tl||{});let b_;function Nl(o,a){return b_(o,a)}function ap(o,a,l,g,A){if(null!=g){let U,H=!1;Zr(g)?U=g:ir(g)&&(H=!0,g=g[Ms]);const se=io(g);0===o&&null!==l?null==A?hC(a,l,se):Ju(a,l,se,A||null,!0):1===o&&null!==l?Ju(a,l,se,A||null,!0):2===o?lm(a,se,H):3===o&&a.destroyNode(se),null!=U&&function pd(o,a,l,g,A){const U=l[Jr];U!==io(l)&&ap(a,o,g,U,A);for(let se=ur;se<l.length;se++){const ge=l[se];S_(ge[ii],ge,o,a,g,U)}}(a,o,U,l,A)}}function D_(o,a){return o.createText(a)}function J0(o,a,l){o.setValue(a,l)}function am(o,a){return o.createComment(function Ll(o){return o.replace(wS,a=>a.replace(ip,Zd))}(a))}function gc(o,a,l){return o.createElement(a,l)}function dC(o,a){a[ua].changeDetectionScheduler?.notify(9),S_(o,a,a[cs],2,null,null)}function ic(o,a){const l=o[Hl],g=a[Xs];(ir(g)||a[No]!==g[Xs][No])&&(o[Bi]|=zl.HasTransplantedViews),null===l?o[Hl]=[a]:l.push(a)}function T_(o,a){const l=o[Hl],g=l.indexOf(a);l.splice(g,1)}function lp(o,a){if(o.length<=ur)return;const l=ur+a,g=o[l];if(g){const A=g[Kl];null!==A&&A!==o&&T_(A,g),a>0&&(o[l-1][nr]=g[nr]);const U=Li(o,ur+a);!function cC(o,a){dC(o,a),a[Ms]=null,a[to]=null}(g[ii],g);const H=U[La];null!==H&&H.detachView(U[ii]),g[Xs]=null,g[nr]=null,g[Bi]&=-129}return g}function _c(o,a){if(!(256&a[Bi])){const l=a[cs];l.destroyNode&&S_(o,a,l,3,null,null),function GS(o){let a=o[ll];if(!a)return Z0(o[ii],o);for(;a;){let l=null;if(ir(a))l=a[ll];else{const g=a[ur];g&&(l=g)}if(!l){for(;a&&!a[nr]&&a!==o;)ir(a)&&Z0(a[ii],a),a=a[Xs];null===a&&(a=o),ir(a)&&Z0(a[ii],a),l=a&&a[nr]}a=l}}(a)}}function Z0(o,a){if(256&a[Bi])return;const l=m(null);try{a[Bi]&=-129,a[Bi]|=256,a[ha]&&T(a[ha]),function q0(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let g=0;g<l.length;g+=2){const A=a[l[g]];if(!(A instanceof Ud)){const U=l[g+1];if(Array.isArray(U))for(let H=0;H<U.length;H+=2){const se=A[U[H]],ge=U[H+1];Xl(4,se,ge);try{ge.call(se)}finally{Xl(5,se,ge)}}else{Xl(4,A,U);try{U.call(A)}finally{Xl(5,A,U)}}}}}(o,a),function HS(o,a){const l=o.cleanup,g=a[Do];if(null!==l)for(let U=0;U<l.length-1;U+=2)if("string"==typeof l[U]){const H=l[U+3];H>=0?g[H]():g[-H].unsubscribe(),U+=2}else l[U].call(g[l[U+1]]);null!==g&&(a[Do]=null);const A=a[Ic];if(null!==A){a[Ic]=null;for(let U=0;U<A.length;U++)(0,A[U])()}}(o,a),1===a[ii].type&&a[cs].destroy();const g=a[Kl];if(null!==g&&Zr(a[Xs])){g!==a[Xs]&&T_(g,a);const A=a[La];null!==A&&A.detachView(o)}hc(a)}finally{m(l)}}function hd(o,a,l){return uC(o,a.parent,l)}function uC(o,a,l){let g=a;for(;null!==g&&168&g.type;)g=(a=g).parent;if(null===g)return l[Ms];{const{componentOffset:A}=g;if(A>-1){const{encapsulation:U}=o.data[g.directiveStart+A];if(U===Nr.None||U===Nr.Emulated)return null}return fa(g,l)}}function Ju(o,a,l,g,A){o.insertBefore(a,l,g,A)}function hC(o,a,l){o.appendChild(a,l)}function pC(o,a,l,g,A){null!==g?Ju(o,a,l,g,A):hC(o,a,l)}function ey(o,a){return o.parentNode(a)}function ty(o,a,l){return fC(o,a,l)}function cp(o,a,l){return 40&o.type?fa(o,l):null}let ny,fC=cp;function mC(o,a){fC=o,ny=a}function vc(o,a,l,g){const A=hd(o,g,a),U=a[cs],se=ty(g.parent||a[to],g,a);if(null!=A)if(Array.isArray(l))for(let ge=0;ge<l.length;ge++)pC(U,A,l[ge],se,!1);else pC(U,A,l,se,!1);void 0!==ny&&ny(U,g,a,l,A)}function nu(o,a){if(null!==a){const l=a.type;if(3&l)return fa(a,o);if(4&l)return O_(-1,o[a.index]);if(8&l){const g=a.child;if(null!==g)return nu(o,g);{const A=o[a.index];return Zr(A)?O_(-1,A):io(A)}}if(128&l)return nu(o,a.next);if(32&l)return Nl(a,o)()||io(o[a.index]);{const g=M_(o,a);return null!==g?Array.isArray(g)?g[0]:nu(Ql(o[No]),g):nu(o,a.next)}}return null}function M_(o,a){return null!==a?o[No][to].projection[a.projection]:null}function O_(o,a){const l=ur+o+1;if(l<a.length){const g=a[l],A=g[ii].firstChild;if(null!==A)return nu(g,A)}return a[Jr]}function lm(o,a,l){o.removeChild(null,a,l)}function cm(o){o.textContent=""}function iy(o,a,l,g,A,U,H){for(;null!=l;){if(128===l.type){l=l.next;continue}const se=g[l.index],ge=l.type;if(H&&0===a&&(se&&Ca(io(se),g),l.flags|=2),32&~l.flags)if(8&ge)iy(o,a,l.child,g,A,U,!1),ap(a,o,A,se,U);else if(32&ge){const Be=Nl(l,g);let Qe;for(;Qe=Be();)ap(a,o,A,Qe,U);ap(a,o,A,se,U)}else 16&ge?sy(o,a,g,l,A,U):ap(a,o,A,se,U);l=H?l.projectionNext:l.next}}function S_(o,a,l,g,A,U){iy(l,g,o.firstChild,a,A,U,!1)}function sy(o,a,l,g,A,U){const H=l[No],ge=H[to].projection[g.projection];if(Array.isArray(ge))for(let Be=0;Be<ge.length;Be++)ap(a,o,A,ge[Be],U);else{let Be=ge;const Qe=H[Xs];Al(g)&&(Be.flags|=128),iy(o,a,Be,Qe,A,U,!0)}}function _C(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function oy(o,a,l){const{mergedAttrs:g,classes:A,styles:U}=l;null!==g&&Qr(o,a,g),null!==A&&_C(o,a,A),null!==U&&function Uc(o,a,l){o.setAttribute(a,"style",l)}(o,a,U)}const Rs={};function dp(o=1){ry(Hi(),Fn(),va()+o,!1)}function ry(o,a,l,g){if(!g)if(3&~a[Bi]){const U=o.preOrderHooks;null!==U&&Au(a,U,0,l)}else{const U=o.preOrderCheckHooks;null!==U&&Rf(a,U,l)}cc(l)}function Zu(o,a=un.Default){const l=Fn();return null===l?Co(o,a):Hg(ho(),l,Le(o),a)}function qu(){throw new Error("invalid")}function sc(o,a,l,g,A,U){const H=m(null);try{let se=null;A&lr.SignalBased&&(se=a[g][p]),null!==se&&void 0!==se.transformFn&&(U=se.transformFn(U)),A&lr.HasDecoratorInputTransform&&(U=o.inputTransforms[g].call(a,U)),null!==o.setInput?o.setInput(a,se,U,l,g):Pc(a,se,g,U)}finally{m(H)}}function I_(o,a,l,g,A,U,H,se,ge,Be,Qe){const Mt=a.blueprint.slice();return Mt[Ms]=A,Mt[Bi]=204|g,(null!==Be||o&&2048&o[Bi])&&(Mt[Bi]|=2048),Pi(Mt),Mt[Xs]=Mt[za]=o,Mt[no]=l,Mt[ua]=H||o&&o[ua],Mt[cs]=se||o&&o[cs],Mt[Lo]=ge||o&&o[Lo]||null,Mt[to]=U,Mt[Rr]=function wl(){return wc++}(),Mt[go]=Qe,Mt[Xa]=Be,Mt[No]=2==a.type?o[No]:Mt,Mt}function eh(o,a,l,g,A){let U=o.data[a];if(null===U)U=P_(o,a,l,g,A),function Iu(){return Es.lFrame.inI18n}()&&(U.flags|=32);else if(64&U.type){U.type=l,U.value=g,U.attrs=A;const H=Rh();U.injectorIndex=null===H?-1:H.injectorIndex}return dl(U,!0),U}function P_(o,a,l,g,A){const U=Ng(),H=Jc(),ge=o.data[a]=function ew(o,a,l,g,A,U){let H=a?a.injectorIndex:-1,se=0;return wd()&&(se|=128),{type:l,index:g,insertBeforeIndex:null,injectorIndex:H,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:se,providerIndexes:0,value:A,attrs:U,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,H?U:U&&U.parent,l,a,g,A);return null===o.firstChild&&(o.firstChild=ge),null!==U&&(H?null==U.child&&null!==ge.parent&&(U.child=ge):null===U.next&&(U.next=ge,ge.prev=U)),ge}function up(o,a,l,g){if(0===l)return-1;const A=a.length;for(let U=0;U<l;U++)a.push(g),o.blueprint.push(g),o.data.push(null);return A}function oc(o,a,l,g,A){const U=va(),H=2&g;try{cc(-1),H&&a.length>Xi&&ry(o,a,Xi,!1),Xl(H?2:0,A),l(g,A)}finally{cc(U),Xl(H?3:1,A)}}function iu(o,a,l){if(Cu(a)){const g=m(null);try{const U=a.directiveEnd;for(let H=a.directiveStart;H<U;H++){const se=o.data[H];se.contentQueries&&se.contentQueries(1,l[H],H)}}finally{m(g)}}}function R_(o,a,l){u0()&&(function pm(o,a,l,g){const A=l.directiveStart,U=l.directiveEnd;cl(l)&&function iI(o,a,l){const g=fa(a,o),A=vC(l);let H=16;l.signals?H=4096:l.onPush&&(H=64);const se=N_(o,I_(o,A,null,H,g,a,null,o[ua].rendererFactory.createRenderer(g,l),null,null,null));o[a.index]=se}(a,l,o.data[A+l.componentOffset]),o.firstCreatePass||Nu(l,a),Ca(g,a);const H=l.initialInputs;for(let se=A;se<U;se++){const ge=o.data[se],Be=qc(a,o,se,l);Ca(Be,a),null!==H&&L_(0,se-A,Be,ge,0,H),Ya(ge)&&(ma(l.index,a)[no]=qc(a,o,se,l))}}(o,a,l,fa(l,a)),!(64&~l.flags)&&or(o,a,l))}function A_(o,a,l=fa){const g=a.localNames;if(null!==g){let A=a.index+1;for(let U=0;U<g.length;U+=2){const H=g[U+1],se=-1===H?l(a,o):o[H];o[A++]=se}}}function vC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=ay(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function ay(o,a,l,g,A,U,H,se,ge,Be,Qe){const Mt=Xi+g,Qt=Mt+A,on=function um(o,a){const l=[];for(let g=0;g<a;g++)l.push(g<o?null:Rs);return l}(Mt,Qt),Dn="function"==typeof Be?Be():Be;return on[ii]={type:o,blueprint:on,template:l,queries:null,viewQuery:se,declTNode:a,data:on.slice().fill(null,Mt),bindingStartIndex:Mt,expandoStartIndex:Qt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof U?U():U,pipeRegistry:"function"==typeof H?H():H,firstChild:null,schemas:ge,consts:Dn,incompleteFirstPass:!1,ssrId:Qe}}let ly=()=>null;function su(o){Ea(o)?cm(o):function pS(o){const a=Yd(),l=a.createNodeIterator(o,NodeFilter.SHOW_COMMENT,{acceptNode(U){const H=function hS(o){return o.textContent?.replace(/\s/gm,"")}(U);return"ngetn"===H||"ngtns"===H?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let g;const A=[];for(;g=l.nextNode();)A.push(g);for(const U of A)"ngetn"===U.textContent?U.replaceWith(a.createTextNode("")):U.remove()}(o)}function hm(o,a,l,g,A){for(let U in a){if(!a.hasOwnProperty(U))continue;const H=a[U];if(void 0===H)continue;g??={};let se,ge=lr.None;Array.isArray(H)?(se=H[0],ge=H[1]):se=H;let Be=U;if(null!==A){if(!A.hasOwnProperty(U))continue;Be=A[U]}0===o?cy(g,l,Be,se,ge):cy(g,l,Be,se)}return g}function cy(o,a,l,g,A){let U;o.hasOwnProperty(l)?(U=o[l]).push(a,g):U=o[l]=[a,g],void 0!==A&&U.push(A)}function kn(o,a,l,g,A,U,H,se){const ge=fa(a,l);let Qe,Be=a.inputs;!se&&null!=Be&&(Qe=Be[g])?(pp(o,l,Qe,g,A),cl(a)&&function ou(o,a){const l=ma(a,o);16&l[Bi]||(l[Bi]|=64)}(l,a.index)):3&a.type&&(g=function Ui(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(g),A=null!=H?H(A,a.value||"",g):A,U.setProperty(ge,g,A))}function ta(o,a,l,g){if(u0()){const A=null===g?null:{"":-1},U=function ZS(o,a){const l=o.directiveRegistry;let g=null,A=null;if(l)for(let U=0;U<l.length;U++){const H=l[U];if(Ht(a,H.selectors,!1))if(g||(g=[]),Ya(H))if(null!==H.findHostDirectiveDefs){const se=[];A=A||new Map,H.findHostDirectiveDefs(H,se,A),g.unshift(...se,H),w_(o,a,se.length)}else g.unshift(H),w_(o,a,0);else A=A||new Map,H.findHostDirectiveDefs?.(H,g,A),g.push(H)}return null===g?null:[g,A]}(o,l);let H,se;null===U?H=se=null:[H,se]=U,null!==H&&zo(o,a,l,H,A,se),A&&function qS(o,a,l){if(a){const g=o.localNames=[];for(let A=0;A<a.length;A+=2){const U=l[a[A+1]];if(null==U)throw new He(-301,!1);g.push(a[A],U)}}}(l,g,A)}l.mergedAttrs=ue(l.mergedAttrs,l.attrs)}function zo(o,a,l,g,A,U){for(let Be=0;Be<g.length;Be++)Uf(Nu(l,a),o,g[Be].type);!function tI(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}(l,o.data.length,g.length);for(let Be=0;Be<g.length;Be++){const Qe=g[Be];Qe.providersResolver&&Qe.providersResolver(Qe)}let H=!1,se=!1,ge=up(o,a,g.length,null);for(let Be=0;Be<g.length;Be++){const Qe=g[Be];l.mergedAttrs=ue(l.mergedAttrs,Qe.hostAttrs),nI(o,l,a,ge,Qe),eI(ge,Qe,A),null!==Qe.contentQueries&&(l.flags|=4),(null!==Qe.hostBindings||null!==Qe.hostAttrs||0!==Qe.hostVars)&&(l.flags|=64);const Mt=Qe.type.prototype;!H&&(Mt.ngOnChanges||Mt.ngOnInit||Mt.ngDoCheck)&&((o.preOrderHooks??=[]).push(l.index),H=!0),!se&&(Mt.ngOnChanges||Mt.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(l.index),se=!0),ge++}!function Yn(o,a,l){const A=a.directiveEnd,U=o.data,H=a.attrs,se=[];let ge=null,Be=null;for(let Qe=a.directiveStart;Qe<A;Qe++){const Mt=U[Qe],Qt=l?l.get(Mt):null,Dn=Qt?Qt.outputs:null;ge=hm(0,Mt.inputs,Qe,ge,Qt?Qt.inputs:null),Be=hm(1,Mt.outputs,Qe,Be,Dn);const Wn=null===ge||null===H||Bn(a)?null:au(ge,Qe,H);se.push(Wn)}null!==ge&&(ge.hasOwnProperty("class")&&(a.flags|=8),ge.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=se,a.inputs=ge,a.outputs=Be}(o,l,U)}function or(o,a,l){const g=l.directiveStart,A=l.directiveEnd,U=l.index,H=function A1(){return Es.lFrame.currentDirectiveIndex}();try{cc(U);for(let se=g;se<A;se++){const ge=o.data[se],Be=a[se];Of(se),(null!==ge.hostBindings||0!==ge.hostVars||null!==ge.hostAttrs)&&ru(ge,Be)}}finally{cc(-1),Of(H)}}function ru(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function w_(o,a,l){a.componentOffset=l,(o.components??=[]).push(a.index)}function eI(o,a,l){if(l){if(a.exportAs)for(let g=0;g<a.exportAs.length;g++)l[a.exportAs[g]]=o;Ya(a)&&(l[""]=o)}}function nI(o,a,l,g,A){o.data[g]=A;const U=A.factory||(A.factory=ut(A.type)),H=new Ud(U,Ya(A),Zu);o.blueprint[g]=H,l[g]=H,function na(o,a,l,g,A){const U=A.hostBindings;if(U){let H=o.hostBindingOpCodes;null===H&&(H=o.hostBindingOpCodes=[]);const se=~a.index;(function $s(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(H)!=se&&H.push(se),H.push(l,g,U)}}(o,a,g,up(o,l,A.hostVars,Rs),A)}function dy(o,a,l,g,A,U,H){if(null==U)o.removeAttribute(a,A,l);else{const se=null==H?_n(U):H(U,g||"",A);o.setAttribute(a,A,se,l)}}function L_(o,a,l,g,A,U){const H=U[a];if(null!==H)for(let se=0;se<H.length;)sc(g,l,H[se++],H[se++],H[se++],H[se++])}function au(o,a,l){let g=null,A=0;for(;A<l.length;){const U=l[A];if(0!==U)if(5!==U){if("number"==typeof U)break;if(o.hasOwnProperty(U)){null===g&&(g=[]);const H=o[U];for(let se=0;se<H.length;se+=3)if(H[se]===a){g.push(U,H[se+1],H[se+2],l[A+1]);break}}A+=2}else A+=2;else A+=4}return g}function yC(o,a,l,g){return[o,!0,0,a,null,g,null,l,null,null]}function uy(o,a){const l=o.contentQueries;if(null!==l){const g=m(null);try{for(let A=0;A<l.length;A+=2){const H=l[A+1];if(-1!==H){const se=o.data[H];xh(l[A]),se.contentQueries(2,a[H],H)}}}finally{m(g)}}}function N_(o,a){return o[ll]?o[Oc][nr]=a:o[ll]=a,o[Oc]=a,a}function hy(o,a,l){xh(0);const g=m(null);try{a(o,l)}finally{m(g)}}function EC(o){return o[Do]??=[]}function CC(o){return o.cleanup??=[]}function F_(o,a){const l=o[Lo],g=l?l.get(ei,null):null;g&&g.handleError(a)}function pp(o,a,l,g,A){for(let U=0;U<l.length;){const H=l[U++],se=l[U++],ge=l[U++];sc(o.data[H],a[H],g,se,ge,A)}}function nl(o,a,l){const g=xd(a,o);J0(o[cs],g,l)}function yl(o,a){const l=ma(a,o),g=l[ii];!function th(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])}(g,l);const A=l[Ms];null!==A&&null===l[go]&&(l[go]=p_(A,l[Lo])),fd(g,l,l[no])}function fd(o,a,l){Sf(a);try{const g=o.viewQuery;null!==g&&hy(1,g,l);const A=o.template;null!==A&&oc(o,a,A,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),a[La]?.finishViewCreation(o),o.staticContentQueries&&uy(o,a),o.staticViewQueries&&hy(2,o.viewQuery,l);const U=o.components;null!==U&&function nh(o,a){for(let l=0;l<a.length;l++)yl(o,a[l])}(a,U)}catch(g){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),g}finally{a[Bi]&=-5,jg()}}function fp(o,a,l,g){const A=m(null);try{const U=a.tView,ge=I_(o,U,l,4096&o[Bi]?4096:16,null,a,null,null,g?.injector??null,g?.embeddedViewInjector??null,g?.dehydratedView??null);ge[Kl]=o[a.index];const Qe=o[La];return null!==Qe&&(ge[La]=Qe.createEmbeddedView(U)),fd(U,ge,l),ge}finally{m(A)}}function bC(o,a){const l=ur+a;if(l<o.length)return o[l]}function ih(o,a){return!a||null===a.firstChild||Al(o)}function mp(o,a,l,g=!0){const A=a[ii];if(function KS(o,a,l,g){const A=ur+g,U=l.length;g>0&&(l[A-1][nr]=a),g<U-ur?(a[nr]=l[A],hi(l,ur+g,a)):(l.push(a),a[nr]=null),a[Xs]=l;const H=a[Kl];null!==H&&l!==H&&ic(H,a);const se=a[La];null!==se&&se.insertView(o),Df(a),a[Bi]|=128}(A,a,o,l),g){const H=O_(l,o),se=a[cs],ge=ey(se,o[Jr]);null!==ge&&function WS(o,a,l,g,A,U){g[Ms]=A,g[to]=a,S_(o,g,l,1,A,U)}(A,o[to],se,a,ge,H)}const U=a[go];null!==U&&null!==U.firstChild&&(U.firstChild=null)}function py(o,a){const l=lp(o,a);return void 0!==l&&_c(l[ii],l),l}function fm(o,a,l,g,A=!1){for(;null!==l;){if(128===l.type){l=A?l.projectionNext:l.next;continue}const U=a[l.index];null!==U&&g.push(io(U)),Zr(U)&&DC(U,g);const H=l.type;if(8&H)fm(o,a,l.child,g);else if(32&H){const se=Nl(l,a);let ge;for(;ge=se();)g.push(ge)}else if(16&H){const se=M_(a,l);if(Array.isArray(se))g.push(...se);else{const ge=Ql(a[No]);fm(ge[ii],ge,se,g,!0)}}l=A?l.projectionNext:l.next}return g}function DC(o,a){for(let l=ur;l<o.length;l++){const g=o[l],A=g[ii].firstChild;null!==A&&fm(g[ii],g,A,a)}o[Jr]!==o[Ms]&&a.push(o[Jr])}let TC=[];const fy={...y,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{Sh(o.lView)},consumerOnSignalRead(){this.lView[ha]=this}},lI={...y,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let a=Ql(o.lView);for(;a&&!MC(a[ii]);)a=Ql(a);a&&bf(a)},consumerOnSignalRead(){this.lView[ha]=this}};function MC(o){return 2!==o.type}const cI=100;function sh(o,a=!0,l=0){const g=o[ua],A=g.rendererFactory;A.begin?.();try{!function Da(o,a){const l=Ni();try{Mf(!0),my(o,a);let g=0;for(;Ou(o);){if(g===cI)throw new He(103,!1);g++,my(o,1)}}finally{Mf(l)}}(o,l)}catch(H){throw a&&F_(o,H),H}finally{A.end?.(),g.inlineEffectRunner?.flush()}}function dI(o,a,l,g){const A=a[Bi];if(!(256&~A))return;a[ua].inlineEffectRunner?.flush(),Sf(a);let se=!0,ge=null,Be=null;MC(o)?(Be=function sI(o){return o[ha]??function oI(o){const a=TC.pop()??Object.create(fy);return a.lView=o,a}(o)}(a),ge=S(Be)):null===f()?(se=!1,Be=function aI(o){const a=o[ha]??Object.create(lI);return a.lView=o,a}(a),ge=S(Be)):a[ha]&&(T(a[ha]),a[ha]=null);try{Pi(a),function Nd(o){return Es.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&oc(o,a,l,2,g);const Qe=!(3&~A);if(Qe){const on=o.preOrderCheckHooks;null!==on&&Rf(a,on,null)}else{const on=o.preOrderHooks;null!==on&&Au(a,on,0,null),zi(a,0)}if(function uI(o){for(let a=Xh(o);null!==a;a=Kf(a)){if(!(a[Bi]&zl.HasTransplantedViews))continue;const l=a[Hl];for(let g=0;g<l.length;g++)bf(l[g])}}(a),SC(a,0),null!==o.contentQueries&&uy(o,a),Qe){const on=o.contentCheckHooks;null!==on&&Rf(a,on)}else{const on=o.contentHooks;null!==on&&Au(a,on,1),zi(a,1)}!function dm(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let g=0;g<l.length;g++){const A=l[g];if(A<0)cc(~A);else{const U=A,H=l[++g],se=l[++g];Fg(H,U),se(2,a[U])}}}finally{cc(-1)}}(o,a);const Mt=o.components;null!==Mt&&mm(a,Mt,0);const Qt=o.viewQuery;if(null!==Qt&&hy(2,Qt,g),Qe){const on=o.viewCheckHooks;null!==on&&Rf(a,on)}else{const on=o.viewHooks;null!==on&&Au(a,on,2),zi(a,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Sd]){for(const on of a[Sd])on();a[Sd]=null}a[Bi]&=-73}catch(Qe){throw Sh(a),Qe}finally{null!==Be&&(O(Be,ge),se&&function rI(o){o.lView[ha]!==o&&(o.lView=null,TC.push(o))}(Be)),jg()}}function SC(o,a){for(let l=Xh(o);null!==l;l=Kf(l))for(let g=ur;g<l.length;g++)gp(l[g],a)}function hI(o,a,l){gp(ma(a,o),l)}function gp(o,a){Mu(o)&&my(o,a)}function my(o,a){const g=o[ii],A=o[Bi],U=o[ha];let H=!!(0===a&&16&A);if(H||=!!(64&A&&0===a),H||=!!(1024&A),H||=!(!U?.dirty||!L(U)),H||=!1,U&&(U.dirty=!1),o[Bi]&=-9217,H)dI(g,o,g.template,o[no]);else if(8192&A){SC(o,1);const se=g.components;null!==se&&mm(o,se,1)}}function mm(o,a,l){for(let g=0;g<a.length;g++)hI(o,a[g],l)}function gm(o,a){const l=Ni()?64:1088;for(o[ua].changeDetectionScheduler?.notify(a);o;){o[Bi]|=l;const g=Ql(o);if(Pd(o)&&!g)return o;o=g}return null}class _m{get rootNodes(){const a=this._lView,l=a[ii];return fm(l,a,l.firstChild,[])}constructor(a,l,g=!0){this._lView=a,this._cdRefInjectingView=l,this.notifyErrorHandler=g,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[no]}set context(a){this._lView[no]=a}get destroyed(){return!(256&~this._lView[Bi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Xs];if(Zr(a)){const l=a[8],g=l?l.indexOf(this):-1;g>-1&&(lp(a,g),Li(l,g))}this._attachedToViewContainer=!1}_c(this._lView[ii],this._lView)}onDestroy(a){Ih(this._lView,a)}markForCheck(){gm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Bi]&=-129}reattach(){Df(this._lView),this._lView[Bi]|=128}detectChanges(){this._lView[Bi]|=1024,sh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const a=Pd(this._lView),l=this._lView[Kl];null!==l&&!a&&T_(l,this._lView),dC(this._lView[ii],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=a;const l=Pd(this._lView),g=this._lView[Kl];null!==g&&!l&&ic(g,this._lView),Df(this._lView)}}let vm=(()=>{class o{static{this.__NG_ELEMENT_ID__=ym}}return o})();const pI=vm,fI=class extends pI{constructor(a,l,g){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=g}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,l){return this.createEmbeddedViewImpl(a,l)}createEmbeddedViewImpl(a,l,g){const A=fp(this._declarationLView,this._declarationTContainer,a,{embeddedViewInjector:l,dehydratedView:g});return new _m(A)}};function ym(){return B_(ho(),Fn())}function B_(o,a){return 4&o.type?new fI(a,o,ks(o,a)):null}function xC(o,a,l){const g=a.insertBeforeIndex,A=Array.isArray(g)?g[0]:g;return null===A?cp(o,0,l):io(l[A])}function wC(o,a,l,g,A){const U=a.insertBeforeIndex;if(Array.isArray(U)){let H=g,se=null;if(3&a.type||(se=H,H=A),null!==H&&-1===a.componentOffset)for(let ge=1;ge<U.length;ge++)Ju(o,H,l[U[ge]],se,!1)}}function j_(o,a){if(o.push(a),o.length>1)for(let l=o.length-2;l>=0;l--){const g=o[l];LC(g)||vI(g,a)&&null===yI(g)&&EI(g,a.index)}}function LC(o){return!(64&o.type)}function vI(o,a){return LC(a)||o.index>a.index}function yI(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function EI(o,a){const l=o.insertBeforeIndex;Array.isArray(l)?l[0]=a:(mC(xC,wC),o.insertBeforeIndex=a)}function rh(o,a){const l=o.data[a];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function bI(o,a,l){const g=P_(o,l,64,null,null);return j_(a,g),g}function V_(o,a){const l=a[o.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function NC(o){return o>>>17}function Tm(o){return(131070&o)>>>1}function yy(o,a,l){o.index=0;const g=V_(a,l);o.removes=null!==g?a.remove[g]:os}function ah(o){if(o.index<o.removes.length){const a=o.removes[o.index++];return a>0?o.lView[a]:(o.stack.push(o.index,o.removes),yy(o,o.lView[ii].data[~a],o.lView),ah(o))}return 0===o.stack.length?null:(o.removes=o.stack.pop(),o.index=o.stack.pop(),ah(o))}function TI(){const o={stack:[],index:-1};return function a(l,g){for(o.lView=g;o.stack.length;)o.stack.pop();return yy(o,l.value,g),ah.bind(null,o)}}const MI=new RegExp(`^(\\d+)*(${I0}|${c_})*(.*)`);function il(o){return o.index-Xi}function Om(o,a,l,g){const A=il(g);let U=function Cy(o,a){const l=o.i18nNodes;if(l)return l.get(a)}(o,A);if(void 0===U){const H=o.data[h_];if(H?.[A])U=function UC(o,a){const[l,...g]=function lu(o){const a=o.match(MI),[l,g,A,U]=a,H=g?parseInt(g,10):A,se=[];for(const[ge,Be,Qe]of U.matchAll(/(f|n)(\d*)/g)){const Mt=parseInt(Qe,10)||1;se.push(Be,Mt)}return[H,...se]}(o);let A;A=l===c_?a[No][Ms]:l===I0?function X0(o){return o.ownerDocument.body}(a[No][Ms]):io(a[Number(l)+Xi]);return function OI(o,a){let l=o;for(let g=0;g<a.length;g+=2){const A=a[g],U=a[g+1];for(let H=0;H<U;H++)switch(A){case Qh.FirstChild:l=l.firstChild;break;case Qh.NextSibling:l=l.nextSibling}}return l}(A,g)}(H[A],l);else if(a.firstChild===g)U=o.firstChild;else{const se=null===g.prev,ge=g.prev??g.parent;if(function iw(o){return!o.prev&&8===o.parent?.type}(g))U=Gu(o,il(g.parent));else{let Be=fa(ge,l);if(se)U=Be.firstChild;else{const Qe=il(ge),Mt=Gu(o,Qe);U=2===ge.type&&Mt?G_(w0(o,Qe)+1,Mt):Be.nextSibling}}}}return U}function G_(o,a){let l=a;for(let g=0;g<o;g++)l=l.nextSibling;return l}let Dy=!1,Ty=()=>{};let $C=()=>{};function WC(o,a,l){for(const g of l.node.cases[l.case]){const A=a.get(g.index-Xi);A&&lm(o,A,!1)}}function Py(o){const a=o[To]??[],g=o[Xs][cs];for(const A of a)BI(A,g);o[To]=os}function BI(o,a){let l=0,g=o.firstChild;if(g){const A=o.data[Qd];for(;l<A;){const U=g.nextSibling;lm(a,g,!1),g=U,l++}}}function GC(o){Py(o);const a=o[Ms];ir(a)&&z_(a);for(let l=ur;l<o.length;l++)z_(o[l])}function z_(o){!function H_(o){const a=o[go];if(a){const{i18nNodes:l,dehydratedIcuData:g}=a;if(l&&g){const A=o[cs];for(const U of g.values())WC(A,l,U)}a.i18nNodes=void 0,a.dehydratedIcuData=void 0}}(o);const a=o[ii];for(let l=Xi;l<a.bindingStartIndex;l++)Zr(o[l])?GC(o[l]):ir(o[l])&&z_(o[l])}let KC=()=>null;function Rm(o,a){const l=o[To];return a&&null!==l&&0!==l.length?l[0].data[P0]===a?l.shift():(Py(o),null):null}function lh(o,a){return KC(o,a)}class md{}const Fl=new It("",{providedIn:"root",factory:()=>!1}),Ry=new It(""),Ay=new It("");class $I{}class HC{}class GI{resolveComponentFactory(a){throw function WI(o){const a=Error(`No component factory found for ${sn(o)}.`);return a.ngComponent=o,a}(a)}}class Am{static{this.NULL=new GI}}class xy{}let xm=(()=>{class o{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function KI(){const o=Fn(),l=ma(ho().index,o);return(ir(l)?l:o)[cs]}()}}return o})(),HI=(()=>{class o{static{this.\u0275prov=si({token:o,providedIn:"root",factory:()=>null})}}return o})();function gd(o){return!!$o(o)}function X_(o,a,l){let g=l?o.styles:null,A=l?o.classes:null,U=0;if(null!==a)for(let H=0;H<a.length;H++){const se=a[H];"number"==typeof se?U=se:1==U?A=zt(A,se):2==U&&(g=zt(g,se+": "+a[++H]+";"))}l?o.styles=g:o.stylesWithoutHost=g,l?o.classes=A:o.classesWithoutHost=A}class YC extends Am{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=ys(a);return new Fm(l,this.ngModule)}}function QC(o,a){const l=[];for(const g in o){if(!o.hasOwnProperty(g))continue;const A=o[g];if(void 0===A)continue;const U=Array.isArray(A),H=U?A[0]:A;l.push(a?{propName:H,templateName:g,isSignal:!!((U?A[1]:lr.None)&lr.SignalBased)}:{propName:H,templateName:g})}return l}class Fm extends HC{get inputs(){const a=this.componentDef,l=a.inputTransforms,g=QC(a.inputs,!0);if(null!==l)for(const A of g)l.hasOwnProperty(A.propName)&&(A.transform=l[A.propName]);return g}get outputs(){return QC(this.componentDef.outputs,!1)}constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function Md(o){return o.map(Ml).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}create(a,l,g,A){const U=m(null);try{let H=(A=A||this.ngModule)instanceof Hn?A:A?.injector;H&&null!==this.componentDef.getStandaloneInjector&&(H=this.componentDef.getStandaloneInjector(H)||H);const se=H?new Zc(a,H):a,ge=se.get(xy,null);if(null===ge)throw new He(407,!1);const Mt={rendererFactory:ge,sanitizer:se.get(HI,null),inlineEffectRunner:null,changeDetectionScheduler:se.get(md,null)},Qt=ge.createRenderer(null,this.componentDef),on=this.componentDef.selectors[0][0]||"div",Dn=g?function x_(o,a,l,g){const U=g.get(Y1,!1)||l===Nr.ShadowDom,H=o.selectRootElement(a,U);return function YS(o){ly(o)}(H),H}(Qt,g,this.componentDef.encapsulation,se):gc(Qt,on,function YI(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(on));let Wn=512;this.componentDef.signals?Wn|=4096:this.componentDef.onPush||(Wn|=16);let li=null;null!==Dn&&(li=p_(Dn,se,!0));const pi=ay(0,null,null,1,0,null,null,null,null,null,null),Vn=I_(null,pi,null,Wn,null,null,Mt,Qt,se,null,li);Sf(Vn);let bs,Js,oo=null;try{const Or=this.componentDef;let Dl,gf=null;Or.findHostDirectiveDefs?(Dl=[],gf=new Map,Or.findHostDirectiveDefs(Or,Dl,gf),Dl.push(Or)):Dl=[Or];const KM=function QI(o,a){const l=o[ii],g=Xi;return o[g]=a,eh(l,g,2,"#host",null)}(Vn,Dn);oo=function JI(o,a,l,g,A,U,H){const se=A[ii];!function Y_(o,a,l,g){for(const A of o)a.mergedAttrs=ue(a.mergedAttrs,A.hostAttrs);null!==a.mergedAttrs&&(X_(a,a.mergedAttrs,!0),null!==l&&oy(g,l,a))}(g,o,a,H);let ge=null;null!==a&&(ge=p_(a,A[Lo]));const Be=U.rendererFactory.createRenderer(a,l);let Qe=16;l.signals?Qe=4096:l.onPush&&(Qe=64);const Mt=I_(A,vC(l),null,Qe,A[o.index],o,U,Be,null,null,ge);return se.firstCreatePass&&w_(se,o,g.length-1),N_(A,Mt),A[o.index]=Mt}(KM,Dn,Or,Dl,Vn,Mt,Qt),Js=Rc(pi,Xi),Dn&&function ZC(o,a,l,g){if(g)Qr(o,l,["ng-version","18.2.13"]);else{const{attrs:A,classes:U}=function kl(o){const a=[],l=[];let g=1,A=2;for(;g<o.length;){let U=o[g];if("string"==typeof U)2===A?""!==U&&a.push(U,o[++g]):8===A&&l.push(U);else{if(!Oe(A))break;A=U}g++}return{attrs:a,classes:l}}(a.selectors[0]);A&&Qr(o,l,A),U&&U.length>0&&_C(o,l,U.join(" "))}}(Qt,Or,Dn,g),void 0!==l&&function qC(o,a,l){const g=o.projection=[];for(let A=0;A<a.length;A++){const U=l[A];g.push(null!=U?Array.from(U):null)}}(Js,this.ngContentSelectors,l),bs=function JC(o,a,l,g,A,U){const H=ho(),se=A[ii],ge=fa(H,A);zo(se,A,H,l,null,g);for(let Qe=0;Qe<l.length;Qe++)Ca(qc(A,se,H.directiveStart+Qe,H),A);or(se,A,H),ge&&Ca(ge,A);const Be=qc(A,se,H.directiveStart+H.componentOffset,H);if(o[no]=A[no]=Be,null!==U)for(const Qe of U)Qe(Be,a);return iu(se,H,A),Be}(oo,Or,Dl,gf,Vn,[ZI]),fd(pi,Vn,null)}catch(Or){throw null!==oo&&hc(oo),hc(Vn),Or}finally{jg()}return new Bm(this.componentType,bs,ks(Js,Vn),Vn,Js)}finally{m(U)}}}class Bm extends $I{constructor(a,l,g,A,U){super(),this.location=g,this._rootLView=A,this._tNode=U,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new _m(A,void 0,!1),this.componentType=a}setInput(a,l){const g=this._tNode.inputs;let A;if(null!==g&&(A=g[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),l))return;const U=this._rootLView;pp(U[ii],U,A,a,l),this.previousInputValues.set(a,l),gm(ma(this._tNode.index,U),1)}}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function ZI(){const o=ho();Ru(Fn()[ii],o)}let Q_=(()=>{class o{static{this.__NG_ELEMENT_ID__=qI}}return o})();function qI(){return nb(ho(),Fn())}const eP=Q_,eb=class extends eP{constructor(a,l,g){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=g}get element(){return ks(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){const a=$h(this._hostTNode,this._hostLView);if(Lf(a)){const l=wu(a,this._hostLView),g=dc(a);return new Wr(l[ii].data[g+8],l)}return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=tb(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-ur}createEmbeddedView(a,l,g){let A,U;"number"==typeof g?A=g:null!=g&&(A=g.index,U=g.injector);const H=lh(this._lContainer,a.ssrId),se=a.createEmbeddedViewImpl(l||{},U,H);return this.insertImpl(se,A,ih(this._hostTNode,H)),se}createComponent(a,l,g,A,U){const H=a&&!function Rn(o){return"function"==typeof o}(a);let se;if(H)se=l;else{const Dn=l||{};se=Dn.index,g=Dn.injector,A=Dn.projectableNodes,U=Dn.environmentInjector||Dn.ngModuleRef}const ge=H?a:new Fm(ys(a)),Be=g||this.parentInjector;if(!U&&null==ge.ngModule){const Wn=(H?Be:this.parentInjector).get(Hn,null);Wn&&(U=Wn)}const Qe=ys(ge.componentType??{}),Mt=lh(this._lContainer,Qe?.id??null),on=ge.create(Be,A,Mt?.firstChild??null,U);return this.insertImpl(on.hostView,se,ih(this._hostTNode,Mt)),on}insert(a,l){return this.insertImpl(a,l,!0)}insertImpl(a,l,g){const A=a._lView;if(function Pg(o){return Zr(o[Xs])}(A)){const se=this.indexOf(a);if(-1!==se)this.detach(se);else{const ge=A[Xs],Be=new eb(ge,ge[to],ge[Xs]);Be.detach(Be.indexOf(a))}}const U=this._adjustIndex(l),H=this._lContainer;return mp(H,A,U,g),a.attachToViewContainerRef(),hi(Ny(H),U,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=tb(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),g=lp(this._lContainer,l);g&&(Li(Ny(this._lContainer),l),_c(g[ii],g))}detach(a){const l=this._adjustIndex(a,-1),g=lp(this._lContainer,l);return g&&null!=Li(Ny(this._lContainer),l)?new _m(g):null}_adjustIndex(a,l=0){return a??this.length+l}};function tb(o){return o[8]}function Ny(o){return o[8]||(o[8]=[])}function nb(o,a){let l;const g=a[o.index];return Zr(g)?l=g:(l=yC(g,a,null,o),a[o.index]=l,N_(a,l)),ib(l,a,o,g),new eb(l,o,a)}let ib=Cp,Fy=()=>!1;function sb(o,a,l){return Fy(o,a,l)}function Cp(o,a,l,g){if(o[Jr])return;let A;A=8&l.type?io(g):function tP(o,a){const l=o[cs],g=l.createComment(""),A=fa(a,o);return Ju(l,ey(l,A),g,function zS(o,a){return o.nextSibling(a)}(l,A),!1),g}(a,l),o[Jr]=A}function nP(o,a,l){if(o[Jr]&&o[To])return!0;const g=l[go],A=a.index-Xi;if(!g||function xl(o){if(Al(o))return!0;let a=o.parent;for(;a;){if(Al(o)||ml(a))return!0;a=a.parent}return!1}(a)||rd(g,A))return!1;const H=Gu(g,A),se=g.data[Qf]?.[A],[ge,Be]=function jI(o,a){const l=[];for(const g of a)for(let A=0;A<(g[u_]??1);A++){const U={data:g,firstChild:null};g[Qd]>0&&(U.firstChild=o,o=G_(g[Qd],o)),l.push(U)}return[o,l]}(H,se);return o[Jr]=ge,o[To]=Be,!0}function iP(o,a,l,g){Fy(o,l,a)||Cp(o,a,l,g)}class uu{constructor(a){this.queryList=a,this.matches=null}clone(){return new uu(this.queryList)}setDirty(){this.queryList.setDirty()}}class By{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const g=null!==a.contentQueries?a.contentQueries[0]:l.length,A=[];for(let U=0;U<g;U++){const H=l.getByIndex(U);A.push(this.queries[H.indexInDeclarationView].clone())}return new By(A)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}finishViewCreation(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==ky(a,l).matches&&this.queries[l].setDirty()}}class kc{constructor(a,l,g=null){this.flags=l,this.read=g,this.predicate="string"==typeof a?function rP(o){return o.split(",").map(a=>a.trim())}(a):a}}class Uy{constructor(a=[]){this.queries=a}elementStart(a,l){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let g=0;g<this.length;g++){const A=null!==l?l.length:0,U=this.getByIndex(g).embeddedTView(a,A);U&&(U.indexInDeclarationView=g,null!==l?l.push(U):l=[U])}return null!==l?new Uy(l):null}template(a,l){for(let g=0;g<this.queries.length;g++)this.queries[g].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class bp{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new bp(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1&~this.metadata.flags){const l=this._declarationNodeIndex;let g=a.parent;for(;null!==g&&8&g.type&&g.index!==l;)g=g.parent;return l===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const g=this.metadata.predicate;if(Array.isArray(g))for(let A=0;A<g.length;A++){const U=g[A];this.matchTNodeWithReadOption(a,l,sP(l,U)),this.matchTNodeWithReadOption(a,l,Xg(l,a,U,!1,!1))}else g===vm?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Xg(l,a,g,!1,!1))}matchTNodeWithReadOption(a,l,g){if(null!==g){const A=this.metadata.read;if(null!==A)if(A===Qs||A===Q_||A===vm&&4&l.type)this.addMatch(l.index,-2);else{const U=Xg(l,a,A,!1,!1);null!==U&&this.addMatch(l.index,U)}else this.addMatch(l.index,g)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function sP(o,a){const l=o.localNames;if(null!==l)for(let g=0;g<l.length;g+=2)if(l[g]===a)return l[g+1];return null}function oP(o,a,l,g){return-1===l?function Z_(o,a){return 11&o.type?ks(o,a):4&o.type?B_(o,a):null}(a,o):-2===l?function q_(o,a,l){return l===Qs?ks(a,o):l===vm?B_(a,o):l===Q_?nb(a,o):void 0}(o,a,g):qc(o,o[ii],l,a)}function ob(o,a,l,g){const A=a[La].queries[g];if(null===A.matches){const U=o.data,H=l.matches,se=[];for(let ge=0;null!==H&&ge<H.length;ge+=2){const Be=H[ge];se.push(Be<0?null:oP(a,U[Be],H[ge+1],l.metadata.read))}A.matches=se}return A.matches}function ja(o,a,l,g){const A=o.queries.getByIndex(l),U=A.matches;if(null!==U){const H=ob(o,a,A,l);for(let se=0;se<U.length;se+=2){const ge=U[se];if(ge>0)g.push(H[se/2]);else{const Be=U[se+1],Qe=a[-ge];for(let Mt=ur;Mt<Qe.length;Mt++){const Qt=Qe[Mt];Qt[Kl]===Qt[Xs]&&ja(Qt[ii],Qt,Be,g)}if(null!==Qe[Hl]){const Mt=Qe[Hl];for(let Qt=0;Qt<Mt.length;Qt++){const on=Mt[Qt];ja(on[ii],on,Be,g)}}}}}return g}function ev(o,a,l){const g=new Mr(!(4&~l));return function JS(o,a,l,g){const A=EC(a);A.push(l),o.firstCreatePass&&CC(o).push(g,A.length-1)}(o,a,g,g.destroy),(a[La]??=new By).queries.push(new uu(g))-1}function lb(o,a,l){null===o.queries&&(o.queries=new Uy),o.queries.track(new bp(a,l))}function ky(o,a){return o.queries.getByIndex(a)}function cb(o,a){const l=o[ii],g=ky(l,a);return g.crossesNgTemplate?ja(l,o,a,[]):ob(l,o,g,a)}const db=new Set;function ka(o){db.has(o)||(db.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}function Vy(o){return"function"==typeof o&&void 0!==o[p]}function ub(o,a){ka("NgSignals");const l=function re(o){const a=Object.create(oe);a.value=o;const l=()=>(M(a),a.value);return l[p]=a,l}(o),g=l[p];return a?.equal&&(g.equal=a.equal),l.set=A=>ne(g,A),l.update=A=>function fe(o,a){I()||te(),ne(o,a(o.value))}(g,A),l.asReadonly=ch.bind(l),l}function ch(){const o=this[p];if(void 0===o.readonlyFn){const a=()=>this();a[p]=o,o.readonlyFn=a}return o.readonlyFn}function hb(o){return Vy(o)&&"function"==typeof o.set}function Hy(o){let a=function Eb(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const g=[o];for(;a;){let A;if(Ya(o))A=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new He(903,!1);A=a.\u0275dir}if(A){if(l){g.push(A);const H=o;H.inputs=sv(o.inputs),H.inputTransforms=sv(o.inputTransforms),H.declaredInputs=sv(o.declaredInputs),H.outputs=sv(o.outputs);const se=A.hostBindings;se&&EP(o,se);const ge=A.viewQuery,Be=A.contentQueries;if(ge&&vP(o,ge),Be&&yP(o,Be),gP(o,A),Jt(o.outputs,A.outputs),Ya(A)&&A.data.animation){const Qe=o.data;Qe.animation=(Qe.animation||[]).concat(A.data.animation)}}const U=A.features;if(U)for(let H=0;H<U.length;H++){const se=U[H];se&&se.ngInherit&&se(o),se===Hy&&(l=!1)}}a=Object.getPrototypeOf(a)}!function _P(o){let a=0,l=null;for(let g=o.length-1;g>=0;g--){const A=o[g];A.hostVars=a+=A.hostVars,A.hostAttrs=ue(A.hostAttrs,l=ue(l,A.hostAttrs))}}(g)}function gP(o,a){for(const l in a.inputs){if(!a.inputs.hasOwnProperty(l)||o.inputs.hasOwnProperty(l))continue;const g=a.inputs[l];if(void 0!==g&&(o.inputs[l]=g,o.declaredInputs[l]=a.declaredInputs[l],null!==a.inputTransforms)){const A=Array.isArray(g)?g[0]:g;if(!a.inputTransforms.hasOwnProperty(A))continue;o.inputTransforms??={},o.inputTransforms[A]=a.inputTransforms[A]}}}function sv(o){return o===Io?{}:o===os?[]:o}function vP(o,a){const l=o.viewQuery;o.viewQuery=l?(g,A)=>{a(g,A),l(g,A)}:a}function yP(o,a){const l=o.contentQueries;o.contentQueries=l?(g,A,U)=>{a(g,A,U),l(g,A,U)}:a}function EP(o,a){const l=o.hostBindings;o.hostBindings=l?(g,A)=>{a(g,A),l(g,A)}:a}function Mb(o){const a=o.inputConfig,l={};for(const g in a)if(a.hasOwnProperty(g)){const A=a[g];Array.isArray(A)&&A[3]&&(l[g]=A[3])}o.inputTransforms=l}class ph{}class Ob{}function TP(o,a){return new fh(o,a??null,[])}class fh extends ph{constructor(a,l,g,A=!0){super(),this.ngModuleType=a,this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new YC(this);const U=$o(a);this._bootstrapComponents=_l(U.bootstrap),this._r3Injector=Qg(a,l,[{provide:ph,useValue:this},{provide:Am,useValue:this.componentFactoryResolver},...g],sn(a),new Set(["environment"])),A&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Xy extends Ob{constructor(a){super(),this.moduleType=a}create(a){return new fh(this.moduleType,a,[])}}class jm extends ph{constructor(a){super(),this.componentFactoryResolver=new YC(this),this.instance=null;const l=new di([...a.providers,{provide:ph,useValue:this},{provide:Am,useValue:this.componentFactoryResolver}],a.parent||Pn(),a.debugName,new Set(["environment"]));this.injector=l,a.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function rv(o,a,l=null){return new jm({providers:o,parent:a,debugName:l,runEnvironmentInitializers:!0}).injector}let Sb=(()=>{class o{constructor(){this.cachedInjectors=new Map}getOrCreateInjector(l,g,A,U){if(!this.cachedInjectors.has(l)){const H=A.length>0?rv(A,g,U):null;this.cachedInjectors.set(l,H)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=si({token:o,providedIn:"environment",factory:()=>new o})}}return o})();function av(o){return!!Yy(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Yy(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function El(o,a,l){return o[a]=l}function km(o,a){return o[a]}function Br(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function Wc(o,a,l,g){const A=Br(o,a,l);return Br(o,a+1,g)||A}function Vm(o,a,l,g,A){const U=Wc(o,a,l,g);return Br(o,a+2,A)||U}function Bl(o,a,l,g,A,U){const H=Wc(o,a,l,g);return Wc(o,a+2,A,U)||H}function Mp(o){return!(32&~o.flags)}function $m(o,a,l,g,A,U,H,se,ge,Be){const Qe=l+Xi,Mt=a.firstCreatePass?function PP(o,a,l,g,A,U,H,se,ge){const Be=a.consts,Qe=eh(a,o,4,H||null,se||null);ta(a,l,Qe,uo(Be,ge)),Ru(a,Qe);const Mt=Qe.tView=ay(2,Qe,g,A,U,a.directiveRegistry,a.pipeRegistry,null,a.schemas,Be,null);return null!==a.queries&&(a.queries.template(a,Qe),Mt.queries=a.queries.embeddedTView(Qe)),Qe}(Qe,a,o,g,A,U,H,se,ge):a.data[Qe];dl(Mt,!1);const Qt=Ib(a,o,Mt,l);Nh()&&vc(a,o,Qt,Mt),Ca(Qt,o);const on=yC(Qt,o,Qt,Mt);return o[Qe]=on,N_(o,on),sb(on,Mt,o),Id(Mt)&&R_(a,o,Mt),null!=ge&&A_(o,Mt,Be),Mt}function Qy(o,a,l,g,A,U,H,se){const ge=Fn(),Be=Hi();return $m(ge,Be,o,a,l,g,A,uo(Be.consts,U),H,se),Qy}let Ib=Op;function Op(o,a,l,g){return ul(!0),a[cs].createComment("")}function RP(o,a,l,g){const A=a[go],U=!A||wd()||Mp(l)||rd(A,g);if(ul(U),U)return Op(0,a);const H=A.data[Ho]?.[g]??null;null!==H&&null!==l.tView&&null===l.tView.ssrId&&(l.tView.ssrId=H);const se=Om(A,o,a,l);return m_(A,g,se),G_(w0(A,g),se)}var _r=function(o){return o[o.NOT_STARTED=0]="NOT_STARTED",o[o.IN_PROGRESS=1]="IN_PROGRESS",o[o.COMPLETE=2]="COMPLETE",o[o.FAILED=3]="FAILED",o}(_r||{});const Pb=0,Rb=1;var Ur=function(o){return o[o.Placeholder=0]="Placeholder",o[o.Loading=1]="Loading",o[o.Complete=2]="Complete",o[o.Error=3]="Error",o}(Ur||{}),Wm=function(o){return o[o.Initial=-1]="Initial",o}(Wm||{});const Sp=0,lv=1,Ab=4,Ip=5;var xb=function(o){return o[o.Manual=0]="Manual",o[o.Playthrough=1]="Playthrough",o}(xb||{});function dv(o,a,l){const g=1===o?Ip:Ab;null===a[g]&&(a[g]=[]),a[g].push(l)}function Pp(o,a){const l=1===o?Ip:Ab,g=a[l];if(null!==g){for(const A of g)A();a[l]=null}}function Jy(o){Pp(1,o),Pp(0,o)}function wb(o,a){if(null!==f())throw new He(-602,!1)}var Rp=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(Rp||{});let Lb=(()=>{class o{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=si({token:o,providedIn:"root",factory:()=>new o})}}return o})();class Km{constructor(){this.ngZone=Ei(Ri),this.scheduler=Ei(md),this.errorHandler=Ei(ei,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Rp.EarlyRead,Rp.Write,Rp.MixedReadWrite,Rp.Read]}execute(){this.executing=!0;for(const a of Km.PHASES)for(const l of this.sequences)if(!l.erroredOrDestroyed&&l.hooks[a])try{l.pipelinedValue=this.ngZone.runOutsideAngular(()=>l.hooks[a](l.pipelinedValue))}catch(g){l.erroredOrDestroyed=!0,this.errorHandler?.handleError(g)}this.executing=!1;for(const a of this.sequences)a.afterRun(),a.once&&(this.sequences.delete(a),a.destroy());for(const a of this.deferredRegistrations)this.sequences.add(a);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(a){this.executing?this.deferredRegistrations.add(a):(this.sequences.add(a),this.scheduler.notify(6))}unregister(a){this.executing&&this.sequences.has(a)?(a.erroredOrDestroyed=!0,a.pipelinedValue=void 0,a.once=!0):(this.sequences.delete(a),this.deferredRegistrations.delete(a))}static{this.\u0275prov=si({token:Km,providedIn:"root",factory:()=>new Km})}}class xP{constructor(a,l,g,A){this.impl=a,this.hooks=l,this.once=g,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=A?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function uv(o,a){!a?.injector&&wo();const l=a?.injector??Ei(Ar);return Kr(l)?(ka("NgAfterNextRender"),function Nb(o,a,l,g){const A=a.get(Lb);A.impl??=a.get(Km);const U=l?.phase??Rp.MixedReadWrite,H=!0!==l?.manualCleanup?a.get(Hd):null,se=new xP(A.impl,function LP(o,a){if(o instanceof Function){const l=[void 0,void 0,void 0,void 0];return l[a]=o,l}return[o.earlyRead,o.write,o.mixedReadWrite,o.read]}(o,U),g,H);return A.impl.register(se),se}(o,l,a,!0)):Ap}const Ap={destroy(){}};function hv(o){return o+1}function mh(o,a){return o[hv(a.index)]}function Cl(o,a){const l=hv(a.index);return o.data[l]}function Zy(o,a){return a===Ur.Placeholder?o.placeholderBlockConfig?.[Pb]??null:a===Ur.Loading?o.loadingBlockConfig?.[Pb]??null:null}function Bb(o,a){if(!o||0===o.length)return a;const l=new Set(o);for(const g of a)l.add(g);return o.length===l.size?o:Array.from(l)}function $b(o,a){const g=a[Lo].get(WP);return g.add(o),()=>g.remove(o)}let WP=(()=>{class o{constructor(){this.executingCallbacks=!1,this.idleId=null,this.current=new Set,this.deferred=new Set,this.ngZone=Ei(Ri),this.requestIdleCallbackFn=(typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout).bind(globalThis),this.cancelIdleCallbackFn=(typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout).bind(globalThis)}add(l){(this.executingCallbacks?this.deferred:this.current).add(l),null===this.idleId&&this.scheduleIdleCallback()}remove(l){const{current:g,deferred:A}=this;g.delete(l),A.delete(l),0===g.size&&0===A.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const l=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const g of this.current)g();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const g of this.deferred)this.current.add(g);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(l))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static{this.\u0275prov=si({token:o,providedIn:"root",factory:()=>new o})}}return o})();const GP=new It("");let nE=null;function Kb(o,a,l,g,A,U,H,se,ge){const Be=Fn(),Qe=Hi(),Mt=o+Xi,Qt=$m(Be,Qe,o,null,0,0);if(Qe.firstCreatePass){ka("NgDefer");const li={primaryTmplIndex:a,loadingTmplIndex:g??null,placeholderTmplIndex:A??null,errorTmplIndex:U??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:l??null,loadingState:_r.NOT_STARTED,loadingPromise:null,providers:null};ge?.(Qe,li,se,H),function NP(o,a,l){const g=hv(a);o.data[g]=l}(Qe,Mt,li)}sb(Be[Mt],Qt,Be);const Dn=[null,Wm.Initial,null,null,null,null];!function pv(o,a,l){o[hv(a)]=l}(Be,Mt,Dn);const Wn=()=>Jy(Dn);dv(0,Dn,()=>Rg(Be,Wn)),Ih(Be,Wn)}function zb(){!function Xb(o){const a=Fn(),l=ho();if(function Bp(o,a){fu(Ur.Placeholder,a,o[a.index])}(a,l),Kr(a[Lo])){const g=o(()=>function Up(o,a){const l=o[ii],g=o[a.index];if(!function tE(o){return o.get(GP,null,{optional:!0})?.behavior!==xb.Manual&&Kr(o)}(o[Lo]))return;const U=mh(o,a),H=Cl(l,a);switch(Jy(U),H.loadingState){case _r.NOT_STARTED:fu(Ur.Loading,a,g),function oE(o,a,l){const g=a[Lo],A=a[ii];if(o.loadingState!==_r.NOT_STARTED)return o.loadingPromise??Promise.resolve();const U=mh(a,l),H=function BP(o,a){return Rc(o,a.primaryTmplIndex+Xi)}(A,o);o.loadingState=_r.IN_PROGRESS,Pp(1,U);let se=o.dependencyResolverFn;const ge=g.get(uc),Be=ge.add();return se?(o.loadingPromise=Promise.allSettled(se()).then(Qe=>{let Mt=!1;const Qt=[],on=[];for(const Dn of Qe){if("fulfilled"!==Dn.status){Mt=!0;break}{const Wn=Dn.value,li=ys(Wn)||cr(Wn);if(li)Qt.push(li);else{const pi=Ro(Wn);pi&&on.push(pi)}}}if(o.loadingPromise=null,ge.remove(Be),Mt){if(o.loadingState=_r.FAILED,null===o.errorTmplIndex){const Wn=new He(750,!1);F_(a,Wn)}}else{o.loadingState=_r.COMPLETE;const Dn=H.tView;if(Qt.length>0){Dn.directiveRegistry=Bb(Dn.directiveRegistry,Qt);const li=Wl(!1,...Qt.map(pi=>pi.type));o.providers=li}on.length>0&&(Dn.pipeRegistry=Bb(Dn.pipeRegistry,on))}}),o.loadingPromise):(o.loadingPromise=Promise.resolve().then(()=>{o.loadingPromise=null,o.loadingState=_r.COMPLETE,ge.remove(Be)}),o.loadingPromise)}(H,o,a),H.loadingState===_r.IN_PROGRESS&&Zb(H,a,g);break;case _r.IN_PROGRESS:fu(Ur.Loading,a,g),Zb(H,a,g);break;case _r.COMPLETE:fu(Ur.Complete,a,g);break;case _r.FAILED:fu(Ur.Error,a,g)}}(a,l),a);dv(0,mh(a,l),g)}}($b)}function fu(o,a,l,g=!1){const A=l[Xs],U=A[ii];if(function Qc(o){return!(256&~o[Bi])}(A))return;const H=mh(A,a);if(sE(H[lv],o)&&sE(H[Sp]??-1,o)){const ge=A[Lo],Be=Cl(U,a),Mt=g||!Kr(ge)||null===function Fb(o){return o.loadingBlockConfig?.[Rb]??null}(Be)&&null===Zy(Be,Ur.Loading)&&!Zy(Be,Ur.Placeholder)?Qb:nE;try{Mt(o,H,l,a,A)}catch(Qt){F_(A,Qt)}}}function Xm(o,a,l){return o.get(Sb).getOrCreateInjector(a,o,l,"")}function Qb(o,a,l,g,A){const U=function FP(o,a,l){const A=Cl(a[ii],l);switch(o){case Ur.Complete:return A.primaryTmplIndex;case Ur.Loading:return A.loadingTmplIndex;case Ur.Error:return A.errorTmplIndex;case Ur.Placeholder:return A.placeholderTmplIndex;default:return null}}(o,A,g);if(null!==U){a[lv]=o;const H=A[ii],ge=Rc(H,U+Xi),Be=0;let Qe;if(py(l,Be),o===Ur.Complete){const on=Cl(H,g),Dn=on.providers;Dn&&Dn.length>0&&(Qe=function Yb(o,a,l){if(o instanceof Zc){const A=o.injector,H=Xm(o.parentInjector,a,l);return new Zc(A,H)}const g=o.get(Hn);if(g!==o){const A=Xm(g,a,l);return new Zc(o,A)}return Xm(o,a,l)}(A[Lo],on,Dn))}const Mt=lh(l,ge.tView.ssrId),Qt=fp(A,ge,null,{dehydratedView:Mt,injector:Qe});mp(l,Qt,Be,ih(ge,Mt)),gm(Qt,2)}}function sE(o,a){return o<a}function Zb(o,a,l){o.loadingPromise.then(()=>{o.loadingState===_r.COMPLETE?fu(Ur.Complete,a,l):o.loadingState===_r.FAILED&&fu(Ur.Error,a,l)})}function yv(o,a,l,g){const A=Fn();return Br(A,Aa(),a)&&(Hi(),function vl(o,a,l,g,A,U){const H=fa(o,a);dy(a[cs],H,U,o.value,l,g,A)}(Go(),A,o,a,l,g)),yv}function kp(o,a,l,g){return Br(o,Aa(),l)?a+_n(l)+g:Rs}function Vp(o,a,l,g,A,U){const se=Wc(o,_a(),l,A);return Jl(2),se?a+_n(l)+g+_n(A)+U:Rs}function Ev(o,a){return o<<17|a<<2}function mu(o){return o>>17&32767}function rD(o){return 2|o}function gh(o){return(131068&o)>>2}function cE(o,a){return-131069&o|a<<2}function bv(o){return 1|o}function lD(o,a,l,g){const A=o[l+1],U=null===a;let H=g?mu(A):gh(A),se=!1;for(;0!==H&&(!1===se||U);){const Be=o[H+1];uE(o[H],a)&&(se=!0,o[H+1]=g?bv(Be):rD(Be)),H=g?mu(Be):gh(Be)}se&&(o[l+1]=g?rD(A):bv(A))}function uE(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Is(o,a)>=0}const Ta={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cD(o){return o.substring(Ta.key,Ta.keyEnd)}function Dv(o,a){const l=Ta.textEnd;return l===a?-1:(a=Ta.keyEnd=function fE(o,a,l){for(;a<l&&o.charCodeAt(a)>32;)a++;return a}(o,Ta.key=a,l),zp(o,a,l))}function zp(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function gE(o,a,l){const g=Fn();return Br(g,Aa(),a)&&kn(Hi(),Go(),g,o,a,g[cs],l,!1),gE}function _E(o,a,l,g,A){const H=A?"class":"style";pp(o,l,a.inputs[H],H,g)}function vE(o,a,l){return Ec(o,a,l,!1),vE}function yE(o,a){return Ec(o,a,null,!0),yE}function pD(o){Cc(uR,Kc,o,!0)}function Kc(o,a){for(let l=function hE(o){return function uD(o){Ta.key=0,Ta.keyEnd=0,Ta.value=0,Ta.valueEnd=0,Ta.textEnd=o.length}(o),Dv(o,zp(o,0,Ta.textEnd))}(a);l>=0;l=Dv(a,l))Qi(o,cD(a),!0)}function Ec(o,a,l,g){const A=Fn(),U=Hi(),H=Jl(2);U.firstUpdatePass&&mD(U,o,H,g),a!==Rs&&Br(A,H,a)&&vD(U,U.data[va()],A,A[cs],o,A[H+1]=function hR(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=sn(fc(o)))),o}(a,l),g,H)}function Cc(o,a,l,g){const A=Hi(),U=Jl(2);A.firstUpdatePass&&mD(A,null,U,g);const H=Fn();if(l!==Rs&&Br(H,U,l)){const se=A.data[va()];if(ED(se,g)&&!fD(A,U)){let ge=g?se.classesWithoutHost:se.stylesWithoutHost;null!==ge&&(l=zt(ge,l||"")),_E(A,se,H,l,g)}else!function _D(o,a,l,g,A,U,H,se){A===Rs&&(A=os);let ge=0,Be=0,Qe=0<A.length?A[0]:null,Mt=0<U.length?U[0]:null;for(;null!==Qe||null!==Mt;){const Qt=ge<A.length?A[ge+1]:void 0,on=Be<U.length?U[Be+1]:void 0;let Wn,Dn=null;Qe===Mt?(ge+=2,Be+=2,Qt!==on&&(Dn=Mt,Wn=on)):null===Mt||null!==Qe&&Qe<Mt?(ge+=2,Dn=Qe):(Be+=2,Dn=Mt,Wn=on),null!==Dn&&vD(o,a,l,g,Dn,Wn,H,se),Qe=ge<A.length?A[ge]:null,Mt=Be<U.length?U[Be]:null}}(A,se,H,H[cs],H[U+1],H[U+1]=function dR(o,a,l){if(null==l||""===l)return os;const g=[],A=fc(l);if(Array.isArray(A))for(let U=0;U<A.length;U++)o(g,A[U],!0);else if("object"==typeof A)for(const U in A)A.hasOwnProperty(U)&&o(g,U,A[U]);else"string"==typeof A&&a(g,A);return g}(o,a,l),g,U)}}function fD(o,a){return a>=o.expandoStartIndex}function mD(o,a,l,g){const A=o.data;if(null===A[l+1]){const U=A[va()],H=fD(o,l);ED(U,g)&&null===a&&!H&&(a=!1),a=function aR(o,a,l,g){const A=function Bg(o){const a=Es.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let U=g?a.residualClasses:a.residualStyles;if(null===A)0===(g?a.classBindings:a.styleBindings)&&(l=Ym(l=EE(null,o,a,l,g),a.attrs,g),U=null);else{const H=a.directiveStylingLast;if(-1===H||o[H]!==A)if(l=EE(A,o,a,l,g),null===U){let ge=function gD(o,a,l){const g=l?a.classBindings:a.styleBindings;if(0!==gh(g))return o[mu(g)]}(o,a,g);void 0!==ge&&Array.isArray(ge)&&(ge=EE(null,o,a,ge[1],g),ge=Ym(ge,a.attrs,g),function lR(o,a,l,g){o[mu(l?a.classBindings:a.styleBindings)]=g}(o,a,g,ge))}else U=function cR(o,a,l){let g;const A=a.directiveEnd;for(let U=1+a.directiveStylingLast;U<A;U++)g=Ym(g,o[U].hostAttrs,l);return Ym(g,a.attrs,l)}(o,a,g)}return void 0!==U&&(g?a.residualClasses=U:a.residualStyles=U),l}(A,U,a,g),function tR(o,a,l,g,A,U){let H=U?a.classBindings:a.styleBindings,se=mu(H),ge=gh(H);o[g]=l;let Qe,Be=!1;if(Array.isArray(l)?(Qe=l[1],(null===Qe||Is(l,Qe)>0)&&(Be=!0)):Qe=l,A)if(0!==ge){const Qt=mu(o[se+1]);o[g+1]=Ev(Qt,se),0!==Qt&&(o[Qt+1]=cE(o[Qt+1],g)),o[se+1]=function lE(o,a){return 131071&o|a<<17}(o[se+1],g)}else o[g+1]=Ev(se,0),0!==se&&(o[se+1]=cE(o[se+1],g)),se=g;else o[g+1]=Ev(ge,0),0===se?se=g:o[ge+1]=cE(o[ge+1],g),ge=g;Be&&(o[g+1]=rD(o[g+1])),lD(o,Qe,g,!0),lD(o,Qe,g,!1),function nR(o,a,l,g,A){const U=A?o.residualClasses:o.residualStyles;null!=U&&"string"==typeof a&&Is(U,a)>=0&&(l[g+1]=bv(l[g+1]))}(a,Qe,o,g,U),H=Ev(se,ge),U?a.classBindings=H:a.styleBindings=H}(A,U,a,l,H,g)}}function EE(o,a,l,g,A){let U=null;const H=l.directiveEnd;let se=l.directiveStylingLast;for(-1===se?se=l.directiveStart:se++;se<H&&(U=a[se],g=Ym(g,U.hostAttrs,A),U!==o);)se++;return null!==o&&(l.directiveStylingLast=se),g}function Ym(o,a,l){const g=l?1:2;let A=-1;if(null!==a)for(let U=0;U<a.length;U++){const H=a[U];"number"==typeof H?A=H:A===g&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Qi(o,H,!!l||a[++U]))}return void 0===o?null:o}function uR(o,a,l){const g=String(a);""!==g&&!g.includes(" ")&&Qi(o,g,l)}function vD(o,a,l,g,A,U,H,se){if(!(3&a.type))return;const ge=o.data,Be=ge[se+1],Qe=function dE(o){return!(1&~o)}(Be)?yD(ge,a,l,A,gh(Be),H):void 0;Tv(Qe)||(Tv(U)||function Cv(o){return!(2&~o)}(Be)&&(U=yD(ge,null,l,A,se,H)),function XS(o,a,l,g,A){if(a)A?o.addClass(l,g):o.removeClass(l,g);else{let U=-1===g.indexOf("-")?void 0:tl.DashCase;null==A?o.removeStyle(l,g,U):("string"==typeof A&&A.endsWith("!important")&&(A=A.slice(0,-10),U|=tl.Important),o.setStyle(l,g,A,U))}}(g,H,xd(va(),l),A,U))}function yD(o,a,l,g,A,U){const H=null===a;let se;for(;A>0;){const ge=o[A],Be=Array.isArray(ge),Qe=Be?ge[1]:ge,Mt=null===Qe;let Qt=l[A+1];Qt===Rs&&(Qt=Mt?os:void 0);let on=Mt?mr(Qt,g):Qe===g?Qt:void 0;if(Be&&!Tv(on)&&(on=mr(ge,g)),Tv(on)&&(se=on,H))return se;const Dn=o[A+1];A=H?mu(Dn):gh(Dn)}if(null!==a){let ge=U?a.residualClasses:a.residualStyles;null!=ge&&(se=mr(ge,g))}return se}function Tv(o){return void 0!==o}function ED(o,a){return!!(o.flags&(a?8:16))}function CD(o,a,l){Cc(Qi,Kc,kp(Fn(),o,a,l),!0)}function bD(o,a,l,g,A){Cc(Qi,Kc,Vp(Fn(),o,a,l,g,A),!0)}function DD(o,a,l,g,A,U,H,se,ge,Be,Qe){Cc(Qi,Kc,function Gp(o,a,l,g,A,U,H,se,ge,Be,Qe,Mt){const Qt=_a();let on=Bl(o,Qt,l,A,H,ge);return on=Br(o,Qt+4,Qe)||on,Jl(5),on?a+_n(l)+g+_n(A)+U+_n(H)+se+_n(ge)+Be+_n(Qe)+Mt:Rs}(Fn(),o,a,l,g,A,U,H,se,ge,Be,Qe),!0)}function TD(){return Fn()[No][no]}class yR{destroy(a){}updateValue(a,l){}swap(a,l){const g=Math.min(a,l),A=Math.max(a,l),U=this.detach(A);if(A-g>1){const H=this.detach(g);this.attach(g,U),this.attach(A,H)}else this.attach(g,U)}move(a,l){this.attach(l,this.detach(a))}}function CE(o,a,l,g,A){return o===l&&Object.is(a,g)?1:Object.is(A(o,a),A(l,g))?-1:0}function bE(o,a,l,g){return!(void 0===a||!a.has(g)||(o.attach(l,a.get(g)),a.delete(g),0))}function DE(o,a,l,g,A){if(bE(o,a,g,l(g,A)))o.updateValue(g,A);else{const U=o.create(g,A);o.attach(g,U)}}function MD(o,a,l,g){const A=new Set;for(let U=a;U<=l;U++)A.add(g(U,o.at(U)));return A}class OD{constructor(){this.kvMap=new Map,this._vMap=void 0}has(a){return this.kvMap.has(a)}delete(a){if(!this.has(a))return!1;const l=this.kvMap.get(a);return void 0!==this._vMap&&this._vMap.has(l)?(this.kvMap.set(a,this._vMap.get(l)),this._vMap.delete(l)):this.kvMap.delete(a),!0}get(a){return this.kvMap.get(a)}set(a,l){if(this.kvMap.has(a)){let g=this.kvMap.get(a);void 0===this._vMap&&(this._vMap=new Map);const A=this._vMap;for(;A.has(g);)g=A.get(g);A.set(g,l)}else this.kvMap.set(a,l)}forEach(a){for(let[l,g]of this.kvMap)if(a(g,l),void 0!==this._vMap){const A=this._vMap;for(;A.has(g);)g=A.get(g),a(g,l)}}}function SD(o,a){ka("NgControlFlow");const l=Fn(),g=Aa(),A=l[g]!==Rs?l[g]:-1,U=-1!==A?Mv(l,Xi+A):void 0;if(Br(l,g,o)){const se=m(null);try{if(void 0!==U&&py(U,0),-1!==o){const ge=Xi+o,Be=Mv(l,ge),Qe=ME(l[ii],ge),Mt=lh(Be,Qe.tView.ssrId);mp(Be,fp(l,Qe,a,{dehydratedView:Mt}),0,ih(Qe,Mt))}}finally{m(se)}}else if(void 0!==U){const se=bC(U,0);void 0!==se&&(se[no]=a)}}class CR{constructor(a,l,g){this.lContainer=a,this.$implicit=l,this.$index=g}get $count(){return this.lContainer.length-ur}}function Jm(o,a){return a}class DR{constructor(a,l,g){this.hasEmptyBlock=a,this.trackByFn=l,this.liveCollection=g}}function Xp(o,a,l,g,A,U,H,se,ge,Be,Qe,Mt,Qt){ka("NgControlFlow");const on=Fn(),Dn=Hi(),Wn=void 0!==ge,li=Fn(),pi=se?H.bind(li[No][no]):H,Vn=new DR(Wn,pi);li[Xi+o]=Vn,$m(on,Dn,o+1,a,l,g,A,uo(Dn.consts,U)),Wn&&$m(on,Dn,o+2,ge,Be,Qe,Mt,uo(Dn.consts,Qt))}class TR extends yR{constructor(a,l,g){super(),this.lContainer=a,this.hostLView=l,this.templateTNode=g,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ur}at(a){return this.getLView(a)[no].$implicit}attach(a,l){const g=l[go];this.needsIndexUpdate||=a!==this.length,mp(this.lContainer,l,a,ih(this.templateTNode,g))}detach(a){return this.needsIndexUpdate||=a!==this.length-1,function MR(o,a){return lp(o,a)}(this.lContainer,a)}create(a,l){const g=lh(this.lContainer,this.templateTNode.tView.ssrId),A=fp(this.hostLView,this.templateTNode,new CR(this.lContainer,l,a),{dehydratedView:g});return this.operationsCounter?.recordCreate(),A}destroy(a){_c(a[ii],a),this.operationsCounter?.recordDestroy()}updateValue(a,l){this.getLView(a)[no].$implicit=l}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let a=0;a<this.length;a++)this.getLView(a)[no].$index=a}getLView(a){return function OR(o,a){return bC(o,a)}(this.lContainer,a)}}function ID(o){const a=m(null),l=va();try{const g=Fn(),A=g[ii],U=g[l],H=l+1,se=Mv(g,H);if(void 0===U.liveCollection){const Be=ME(A,H);U.liveCollection=new TR(se,g,Be)}else U.liveCollection.reset();const ge=U.liveCollection;if(function ER(o,a,l){let g,A,U=0,H=o.length-1;if(Array.isArray(a)){let ge=a.length-1;for(;U<=H&&U<=ge;){const Be=o.at(U),Qe=a[U],Mt=CE(U,Be,U,Qe,l);if(0!==Mt){Mt<0&&o.updateValue(U,Qe),U++;continue}const Qt=o.at(H),on=a[ge],Dn=CE(H,Qt,ge,on,l);if(0!==Dn){Dn<0&&o.updateValue(H,on),H--,ge--;continue}const Wn=l(U,Be),li=l(H,Qt),pi=l(U,Qe);if(Object.is(pi,li)){const Vn=l(ge,on);Object.is(Vn,Wn)?(o.swap(U,H),o.updateValue(H,on),ge--,H--):o.move(H,U),o.updateValue(U,Qe),U++}else if(g??=new OD,A??=MD(o,U,H,l),bE(o,g,U,pi))o.updateValue(U,Qe),U++,H++;else if(A.has(pi))g.set(Wn,o.detach(U)),H--;else{const Vn=o.create(U,a[U]);o.attach(U,Vn),U++,H++}}for(;U<=ge;)DE(o,g,l,U,a[U]),U++}else if(null!=a){const ge=a[Symbol.iterator]();let Be=ge.next();for(;!Be.done&&U<=H;){const Qe=o.at(U),Mt=Be.value,Qt=CE(U,Qe,U,Mt,l);if(0!==Qt)Qt<0&&o.updateValue(U,Mt),U++,Be=ge.next();else{g??=new OD,A??=MD(o,U,H,l);const on=l(U,Mt);if(bE(o,g,U,on))o.updateValue(U,Mt),U++,H++,Be=ge.next();else if(A.has(on)){const Dn=l(U,Qe);g.set(Dn,o.detach(U)),H--}else o.attach(U,o.create(U,Mt)),U++,H++,Be=ge.next()}}for(;!Be.done;)DE(o,g,l,o.length,Be.value),Be=ge.next()}for(;U<=H;)o.destroy(o.detach(H--));g?.forEach(ge=>{o.destroy(ge)})}(ge,o,U.trackByFn),ge.updateIndexes(),U.hasEmptyBlock){const Be=Aa(),Qe=0===ge.length;if(Br(g,Be,Qe)){const Mt=l+2,Qt=Mv(g,Mt);if(Qe){const on=ME(A,Mt),Dn=lh(Qt,on.tView.ssrId);mp(Qt,fp(g,on,void 0,{dehydratedView:Dn}),0,ih(on,Dn))}else py(Qt,0)}}}finally{m(a)}}function Mv(o,a){return o[a]}function ME(o,a){return Rc(o,a)}function Ov(o,a,l,g){const A=Fn(),U=Hi(),H=Xi+o,se=A[cs],ge=U.firstCreatePass?function OE(o,a,l,g,A,U){const H=a.consts,ge=eh(a,o,2,g,uo(H,A));return ta(a,l,ge,uo(H,U)),null!==ge.attrs&&X_(ge,ge.attrs,!1),null!==ge.mergedAttrs&&X_(ge,ge.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,ge),ge}(H,U,A,a,l,g):U.data[H],Be=Zm(U,A,ge,se,a,o);A[H]=Be;const Qe=Id(ge);return dl(ge,!0),oy(se,Be,ge),!Mp(ge)&&Nh()&&vc(U,A,Be,ge),0===function S1(){return Es.lFrame.elementDepthCount}()&&Ca(Be,A),function d0(){Es.lFrame.elementDepthCount++}(),Qe&&(R_(U,A,ge),iu(U,ge,A)),null!==g&&A_(A,ge),Ov}function Yp(){let o=ho();Jc()?Na():(o=o.parent,dl(o,!1));const a=o;(function P1(o){return Es.skipHydrationRootTNode===o})(a)&&function R1(){Es.skipHydrationRootTNode=null}(),function I1(){Es.lFrame.elementDepthCount--}();const l=Hi();return l.firstCreatePass&&(Ru(l,o),Cu(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function $g(o){return!!(8&o.flags)}(a)&&_E(l,a,Fn(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Fh(o){return!!(16&o.flags)}(a)&&_E(l,a,Fn(),a.stylesWithoutHost,!1),Yp}function SE(o,a,l,g){return Ov(o,a,l,g),Yp(),SE}let Zm=(o,a,l,g,A,U)=>(ul(!0),gc(g,A,Lh()));function SR(o,a,l,g,A,U){const H=a[go],se=!H||wd()||Mp(l)||rd(H,U);if(ul(se),se)return gc(g,A,Lh());const ge=Om(H,o,a,l);return H1(H,U)&&m_(H,U,ge.nextSibling),H&&(ml(l)||Ea(ge))&&cl(l)&&(function wg(o){Es.skipHydrationRootTNode=o}(l),cm(ge)),ge}function Sv(o,a,l){const g=Fn(),A=Hi(),U=o+Xi,H=A.firstCreatePass?function PR(o,a,l,g,A){const U=a.consts,H=uo(U,g),se=eh(a,o,8,"ng-container",H);return null!==H&&X_(se,H,!0),ta(a,l,se,uo(U,A)),null!==a.queries&&a.queries.elementStart(a,se),se}(U,A,g,a,l):A.data[U];dl(H,!0);const se=Iv(A,g,H,o);return g[U]=se,Nh()&&vc(A,g,se,H),Ca(se,g),Id(H)&&(R_(A,g,H),iu(A,H,g)),null!=l&&A_(g,H),Sv}function Qp(){let o=ho();const a=Hi();return Jc()?Na():(o=o.parent,dl(o,!1)),a.firstCreatePass&&(Ru(a,o),Cu(o)&&a.queries.elementEnd(o)),Qp}function IE(o,a,l){return Sv(o,a,l),Qp(),IE}let Iv=(o,a,l,g)=>(ul(!0),am(a[cs],""));function RR(o,a,l,g){let A;const U=a[go],H=!U||wd()||rd(U,g)||Mp(l);if(ul(H),H)return am(a[cs],"");const se=Om(U,o,a,l),ge=function K1(o,a){const l=o.data;let g=l[d_]?.[a]??null;return null===g&&l[Qf]?.[a]&&(g=w0(o,a)),g}(U,g);return m_(U,g,se),A=G_(ge,se),A}function PE(){return Fn()}function RE(o,a,l){const g=Fn();return Br(g,Aa(),a)&&kn(Hi(),Go(),g,o,a,g[cs],l,!0),RE}const _h=void 0;var wR=["en",[["a","p"],["AM","PM"],_h],[["AM","PM"],_h,_h],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_h,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_h,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_h,"{1} 'at' {0}",_h],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xR(o){const l=Math.floor(Math.abs(o)),g=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===g?1:5}];let gu={};function Pv(o){const a=function Lw(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=RD(a);if(l)return l;const g=a.split("-")[0];if(l=RD(g),l)return l;if("en"===g)return wR;throw new He(701,!1)}function qm(o){return Pv(o)[Jp.PluralCase]}function RD(o){return o in gu||(gu[o]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[o]),gu[o]}var Jp=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Jp||{});const LR=["zero","one","two","few","many"],Rv="en-US",Av={marker:"element"},xv={marker:"ICU"};var bl=function(o){return o[o.SHIFT=2]="SHIFT",o[o.APPEND_EAGERLY=1]="APPEND_EAGERLY",o[o.COMMENT=2]="COMMENT",o}(bl||{});let AD=Rv,eg=0,tg=0;let ng=(o,a,l,g)=>(ul(!0),function qp(o,a,l){const g=o[cs];switch(l){case Node.COMMENT_NODE:return am(g,a);case Node.TEXT_NODE:return D_(g,a);case Node.ELEMENT_NODE:return gc(g,a,null)}}(o,l,g));function wD(o,a,l,g){const A=l[cs];let H,U=null;for(let se=0;se<a.length;se++){const ge=a[se];if("string"==typeof ge){const Be=a[++se];null===l[Be]&&(l[Be]=ng(l,Be,ge,Node.TEXT_NODE))}else if("number"==typeof ge)switch(1&ge){case 0:const Be=NC(ge);let Qe,Mt;if(null===U&&(U=Be,H=ey(A,g)),Be===U?(Qe=g,Mt=H):(Qe=null,Mt=io(l[Be])),null!==Mt){const Wn=Tm(ge);Ju(A,Mt,l[Wn],Qe,!1);const pi=rh(o,Wn);if(null!==pi&&"object"==typeof pi){const Vn=V_(pi,l);null!==Vn&&wD(o,pi.create[Vn],l,l[pi.anchorIdx])}}break;case 1:const on=a[++se],Dn=a[++se];dy(A,xd(ge>>>1,l),null,null,on,Dn,null)}else switch(ge){case xv:const Be=a[++se],Qe=a[++se];null===l[Qe]&&Ca(l[Qe]=ng(l,Qe,Be,Node.COMMENT_NODE),l);break;case Av:const Mt=a[++se],Qt=a[++se];null===l[Qt]&&Ca(l[Qt]=ng(l,Qt,Mt,Node.ELEMENT_NODE),l)}}}function ig(o,a,l,g,A){for(let U=0;U<l.length;U++){const H=l[U],se=l[++U];if(H&A){let ge="";for(let Be=U+1;Be<=U+se;Be++){const Qe=l[Be];if("string"==typeof Qe)ge+=Qe;else if("number"==typeof Qe)if(Qe<0)ge+=_n(a[g-Qe]);else{const Mt=Qe>>>2;switch(3&Qe){case 1:const Qt=l[++Be],on=l[++Be],Dn=o.data[Mt];"string"==typeof Dn?dy(a[cs],a[Mt],null,Dn,Qt,ge,on):kn(o,Dn,a,Qt,ge,a[cs],on,!1);break;case 0:const Wn=a[Mt];null!==Wn&&J0(a[cs],Wn,ge);break;case 2:Nv(o,rh(o,Mt),a,ge);break;case 3:sg(o,rh(o,Mt),g,a)}}}}else{const ge=l[U+1];if(ge>0&&!(3&~ge)){const Qe=rh(o,ge>>>2);a[Qe.currentCaseLViewIndex]<0&&sg(o,Qe,g,a)}}U+=se}}function sg(o,a,l,g){let A=g[a.currentCaseLViewIndex];if(null!==A){let U=eg;A<0&&(A=g[a.currentCaseLViewIndex]=~A,U=-1),ig(o,g,a.update[A],l,U)}}function Nv(o,a,l,g){const A=function kR(o,a){let l=o.cases.indexOf(a);if(-1===l)switch(o.type){case 1:{const g=function NR(o,a){const l=qm(a)(parseInt(o,10)),g=LR[l];return void 0!==g?g:"other"}(a,function UR(){return AD}());l=o.cases.indexOf(g),-1===l&&"other"!==g&&(l=o.cases.indexOf("other"));break}case 0:l=o.cases.indexOf("other")}return-1===l?null:l}(a,g);if(V_(a,l)!==A&&(AE(o,a,l),l[a.currentCaseLViewIndex]=null===A?null:~A,null!==A)){const H=l[a.anchorIdx];H&&wD(o,a.create[A],l,H),function Pm(o,a,l){$C(o,a,l)}(l,a.anchorIdx,A)}}function AE(o,a,l){let g=V_(a,l);if(null!==g){const A=a.remove[g];for(let U=0;U<A.length;U++){const H=A[U];if(H>0){const se=xd(H,l);null!==se&&lm(l[cs],se)}else AE(o,rh(o,~H),l)}}}const Fv=/\ufffd(\d+):?\d*\ufffd/gi,$R=/\ufffd(\d+)\ufffd/,LD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,_u="\ufffd",ND=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,WR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,GR=/\uE500/g;function LE(o,a,l,g,A,U,H){const se=up(o,g,1,null);let ge=se<<bl.SHIFT,Be=Rh();a===Be&&(Be=null),null===Be&&(ge|=bl.APPEND_EAGERLY),H&&(ge|=bl.COMMENT,function $S(o){void 0===b_&&(b_=o())}(TI)),A.push(ge,null===U?"":U);const Qe=P_(o,se,H?32:1,null===U?"":U,null);j_(l,Qe);const Mt=Qe.index;return dl(Qe,!1),null!==Be&&a!==Be&&function CI(o,a){let l=o.insertBeforeIndex;null===l?(mC(xC,wC),l=o.insertBeforeIndex=[null,a]):(tn(Array.isArray(l),!0,"Expecting array here"),l.push(a))}(Be,Mt),Qe}function KR(o,a,l,g,A,U,H,se){const ge=se.match(Fv),Qe=LE(a,l,g,H,A,ge?null:se,!1).index;ge&&og(U,se,Qe,null,0,null),o.push({kind:0,index:Qe})}function og(o,a,l,g,A,U){const H=o.length,se=H+1;o.push(null,null);const ge=H+2,Be=a.split(Fv);let Qe=0;for(let Mt=0;Mt<Be.length;Mt++){const Qt=Be[Mt];if(1&Mt){const on=A+parseInt(Qt,10);o.push(-1-on),Qe|=Uv(on)}else""!==Qt&&o.push(Qt)}return o.push(l<<2|(g?1:0)),g&&o.push(g,U),o[H]=Qe,o[se]=o.length-ge,Qe}function Uv(o){return 1<<Math.min(o,31)}function UD(o){let a,U,l="",g=0,A=!1;for(;null!==(a=ND.exec(o));)A?a[0]===`${_u}/*${U}${_u}`&&(g=a.index,A=!1):(l+=o.substring(g,a.index+a[0].length),U=a[1],A=!0);return l+=o.slice(g),l}function jD(o,a,l,g,A,U,H){let se=0;const ge={type:U.type,currentCaseLViewIndex:up(a,l,1,null),anchorIdx:H,cases:[],create:[],remove:[],update:[]};(function QR(o,a,l){o.push(Uv(a.mainBinding),2,-1-a.mainBinding,l<<2|2)})(g,U,H),function k_(o,a,l){const g=o.data[a];null===g?o.data[a]=l:g.value=l}(a,H,ge);const Be=U.values,Qe=[];for(let Mt=0;Mt<Be.length;Mt++){const Qt=Be[Mt],on=[];for(let Wn=0;Wn<Qt.length;Wn++){const li=Qt[Wn];if("string"!=typeof li){const pi=on.push(li)-1;Qt[Wn]=`\x3c!--\ufffd${pi}\ufffd--\x3e`}}const Dn=[];Qe.push(Dn),se=BE(Dn,a,ge,l,g,A,U.cases[Mt],Qt.join(""),on)|se}se&&function JR(o,a,l){o.push(a,1,l<<2|3)}(g,se,H),o.push({kind:3,index:H,cases:Qe,currentCaseLViewIndex:ge.currentCaseLViewIndex})}function XR(o){const a=[],l=[];let g=1,A=0;const U=FE(o=o.replace(LD,function(H,se,ge){return g="select"===ge?0:1,A=parseInt(se.slice(1),10),""}));for(let H=0;H<U.length;){let se=U[H++].trim();1===g&&(se=se.replace(/\s*(?:=)?(\w+)\s*/,"$1")),se.length&&a.push(se);const ge=FE(U[H++]);a.length>l.length&&l.push(ge)}return{type:g,mainBinding:A,cases:a,values:l}}function FE(o){if(!o)return[];let a=0;const l=[],g=[],A=/[{}]/g;let U;for(A.lastIndex=0;U=A.exec(o);){const se=U.index;if("}"==U[0]){if(l.pop(),0==l.length){const ge=o.substring(a,se);LD.test(ge)?g.push(XR(ge)):g.push(ge),a=se+1}}else{if(0==l.length){const ge=o.substring(a,se);g.push(ge),a=se+1}l.push("{")}}const H=o.substring(a);return g.push(H),g}function BE(o,a,l,g,A,U,H,se,ge){const Be=[],Qe=[],Mt=[];l.cases.push(H),l.create.push(Be),l.remove.push(Qe),l.update.push(Mt);const on=eC(Yd()).getInertBodyElement(se),Dn=cd(on)||on;return Dn?kD(o,a,l,g,A,Be,Qe,Mt,Dn,U,ge,0):0}function kD(o,a,l,g,A,U,H,se,ge,Be,Qe,Mt){let Qt=0,on=ge.firstChild;for(;on;){const Dn=up(a,g,1,null);switch(on.nodeType){case Node.ELEMENT_NODE:const Wn=on,li=Wn.tagName.toLowerCase();if(ep.hasOwnProperty(li)){rg(U,Av,li,Be,Dn),a.data[Dn]=li;const Js=Wn.attributes;for(let Or=0;Or<Js.length;Or++){const Dl=Js.item(Or),gf=Dl.name.toLowerCase();Dl.value.match(Fv)?k0.hasOwnProperty(gf)&&og(se,Dl.value,Dn,Dl.name,0,Jd[gf]?ad:null):UE(U,Dn,Dl)}const oo={kind:1,index:Dn,children:[]};o.push(oo),Qt=kD(oo.children,a,l,g,A,U,H,se,on,Dn,Qe,Mt+1)|Qt,VD(H,Dn,Mt)}break;case Node.TEXT_NODE:const pi=on.textContent||"",Vn=pi.match(Fv);rg(U,null,Vn?"":pi,Be,Dn),VD(H,Dn,Mt),Vn&&(Qt=og(se,pi,Dn,null,0,null)|Qt),o.push({kind:0,index:Dn});break;case Node.COMMENT_NODE:const bs=$R.exec(on.textContent||"");if(bs){const oo=Qe[parseInt(bs[1],10)];rg(U,xv,"",Be,Dn),jD(o,a,g,A,Be,oo,Dn),YR(H,Dn,Mt)}}on=on.nextSibling}return Qt}function VD(o,a,l){0===l&&o.push(a)}function YR(o,a,l){0===l&&(o.push(~a),o.push(a))}function rg(o,a,l,g,A){null!==a&&o.push(a),o.push(l,A,function DI(o,a,l){return o|a<<17|l<<1}(0,g,A))}function UE(o,a,l){o.push(a<<1|1,l.name,l.value)}function ag(o,a,l=-1){const g=Hi(),A=Fn(),U=Xi+o,H=uo(g.consts,a),se=Rh();g.firstCreatePass&&function BD(o,a,l,g,A,U){const H=Rh(),se=[],ge=[],Be=[[]],Qe=[[]];A=function zR(o,a){if(function FC(o){return-1===o}(a))return UD(o);{const l=o.indexOf(`:${a}${_u}`)+2+a.toString().length,g=o.search(new RegExp(`${_u}\\/\\*\\d+:${a}${_u}`));return UD(o.substring(l,g))}}(A,U);const Mt=function Bv(o){return o.replace(GR," ")}(A).split(WR);for(let Qt=0;Qt<Mt.length;Qt++){let on=Mt[Qt];if(1&Qt){const Dn=47===on.charCodeAt(0),Wn=on.charCodeAt(Dn?1:0),li=Xi+Number.parseInt(on.substring(Dn?2:1));if(Dn)Be.shift(),Qe.shift(),dl(Rh(),!1);else{const pi=bI(o,Be[0],li);Be.unshift([]),dl(pi,!0);const Vn={kind:2,index:li,children:[],type:35===Wn?0:1};Qe[0].push(Vn),Qe.unshift(Vn.children)}}else{const Dn=FE(on);for(let Wn=0;Wn<Dn.length;Wn++){let li=Dn[Wn];if(1&Wn){const pi=li;if("object"!=typeof pi)throw new Error(`Unable to parse ICU expression in "${A}" message.`);const bs=LE(o,H,Be[0],l,se,"",!0).index;jD(Qe[0],o,l,ge,a,pi,bs)}else""!==li&&KR(Qe[0],o,H,Be[0],se,ge,l,li)}}}o.data[g]={create:se,update:ge,ast:Qe[0],parentTNodeIndex:a}}(g,null===se?0:se.index,A,U,H,l),2===g.type?A[No][Bi]|=32:A[Bi]|=32;const ge=g.data[U],Qe=uC(g,se===A[to]?null:se,A),Mt=se&&8&se.type?A[se.index]:null;(function II(o,a,l,g){Ty(o,a,l,g)})(A,U,se,l),function xD(o,a,l,g){const A=o[cs];for(let U=0;U<a.length;U++){const H=a[U++],Be=(H&bl.APPEND_EAGERLY)===bl.APPEND_EAGERLY,Qe=H>>>bl.SHIFT;let Mt=o[Qe],Qt=!1;null===Mt&&(Mt=o[Qe]=ng(o,Qe,a[U],(H&bl.COMMENT)===bl.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Qt=Nh()),Be&&null!==l&&Qt&&Ju(A,l,Mt,g,!1)}}(A,ge.create,Qe,Mt),Zl(!0)}function GD(o,a,l){ag(o,a,l),function WD(){Zl(!1)}()}function ef(o){return function jR(o){o&&(eg|=1<<Math.min(tg,31)),tg++}(Br(Fn(),Aa(),o)),ef}function KD(o){!function Zp(o,a,l){if(tg>0){const g=o.data[l];ig(o,a,Array.isArray(g)?g:g.update,_a()-tg-1,eg)}eg=0,tg=0}(Hi(),Fn(),o+Xi)}let HD=(o,a,l)=>{};function tf(o,a,l,g){const A=Fn(),U=Hi(),H=ho();return jE(U,A,A[cs],H,o,a,g),tf}function jE(o,a,l,g,A,U,H){const se=Id(g),Be=o.firstCreatePass&&CC(o),Qe=a[no],Mt=EC(a);let Qt=!0;if(3&g.type||H){const Wn=fa(g,a),li=H?H(Wn):Wn,pi=Mt.length,Vn=H?Js=>H(io(Js[g.index])):g.index;let bs=null;if(!H&&se&&(bs=function oA(o,a,l,g){const A=o.cleanup;if(null!=A)for(let U=0;U<A.length-1;U+=2){const H=A[U];if(H===l&&A[U+1]===g){const se=a[Do],ge=A[U+2];return se.length>ge?se[ge]:null}"string"==typeof H&&(U+=2)}return null}(o,a,A,g.index)),null!==bs)(bs.__ngLastListenerFn__||bs).__ngNextListenerFn__=U,bs.__ngLastListenerFn__=U,Qt=!1;else{U=dg(g,a,Qe,U),HD(Wn,A,U);const Js=l.listen(li,A,U);Mt.push(U,Js),Be&&Be.push(A,Vn,pi,pi+1)}}else U=dg(g,a,Qe,U);const on=g.outputs;let Dn;if(Qt&&null!==on&&(Dn=on[A])){const Wn=Dn.length;if(Wn)for(let li=0;li<Wn;li+=2){const oo=a[Dn[li]][Dn[li+1]].subscribe(U),Or=Mt.length;Mt.push(U,oo),Be&&Be.push(A,g.index,Or,-(Or+1))}}}function cg(o,a,l,g){const A=m(null);try{return Xl(6,a,l),!1!==l(g)}catch(U){return F_(o,U),!1}finally{Xl(7,a,l),m(A)}}function dg(o,a,l,g){return function A(U){if(U===Function)return g;gm(o.componentOffset>-1?ma(o.index,a):a,5);let se=cg(a,l,g,U),ge=A.__ngNextListenerFn__;for(;ge;)se=cg(a,l,ge,U)&&se,ge=ge.__ngNextListenerFn__;return se}}function XD(o=1){return function w1(o){return(Es.lFrame.contextLView=function Oh(o,a){for(;o>0;)a=a[za],o--;return a}(o,Es.lFrame.contextLView))[no]}(o)}function rA(o,a){let l=null;const g=function gi(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(!(1&l))return a[l+1]}return null}(o);for(let A=0;A<a.length;A++){const U=a[A];if("*"!==U){if(null===g?Ht(o,U,!0):Yo(g,U))return A}else l=A}return l}function ug(o){const a=Fn()[No][to];if(!a.projection){const g=a.projection=function $i(o,a){const l=[];for(let g=0;g<o;g++)l.push(a);return l}(o?o.length:1,null),A=g.slice();let U=a.child;for(;null!==U;){if(128!==U.type){const H=o?rA(U,o):0;null!==H&&(A[H]?A[H].projectionNext=U:g[H]=U,A[H]=U)}U=U.next}}}function kE(o,a=0,l,g,A,U){const H=Fn(),se=Hi(),ge=g?o+1:null;null!==ge&&$m(H,se,ge,g,A,U,null,l);const Be=eh(se,Xi+o,16,null,l||null);null===Be.projection&&(Be.projection=a),Na();const Mt=!H[go]||wd();null===H[No][to].projection[Be.projection]&&null!==ge?function aA(o,a,l){const g=Xi+l,A=a.data[g],U=o[g],H=lh(U,A.tView.ssrId);mp(U,fp(o,A,void 0,{dehydratedView:H}),0,ih(A,H))}(H,se,ge):Mt&&32&~Be.flags&&function gC(o,a,l){sy(a[cs],0,a,l,hd(o,l,a),ty(l.parent||a[to],l,a))}(se,H,Be)}function VE(o,a,l){return yh(o,"",a,"",l),VE}function yh(o,a,l,g,A){const U=Fn(),H=kp(U,a,l,g);return H!==Rs&&kn(Hi(),Go(),U,o,H,U[cs],A,!1),yh}function $E(o,a,l,g,A,U,H){const se=Fn(),ge=Vp(se,a,l,g,A,U);return ge!==Rs&&kn(Hi(),Go(),se,o,ge,se[cs],H,!1),$E}function mg(o,a,l,g){!function ab(o,a,l,g){const A=Hi();if(A.firstCreatePass){const U=ho();lb(A,new kc(a,l,g),U.index),function aP(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(A,o),!(2&~l)&&(A.staticContentQueries=!0)}return ev(A,Fn(),l)}(o,a,l,g)}function qD(o,a,l){!function rb(o,a,l){const g=Hi();return g.firstCreatePass&&(lb(g,new kc(o,a,l),-1),!(2&~a)&&(g.staticViewQueries=!0)),ev(g,Fn(),a)}(o,a,l)}function eT(o){const a=Fn(),l=Hi(),g=Ug();xh(g+1);const A=ky(l,g);if(o.dirty&&function Ig(o){return!(4&~o[Bi])}(a)===!(2&~A.metadata.flags)){if(null===A.matches)o.reset([]);else{const U=cb(a,g);o.reset(U,Ko),o.notifyOnChanges()}return!0}return!1}function WE(){return function jy(o,a){return o[La].queries[a].queryList}(Fn(),Ug())}function tT(o,a,l,g){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),a[l]=g}function cA(o){return Yl(Su(),Xi+o)}function sT(o,a=""){const l=Fn(),g=Hi(),A=o+Xi,U=g.firstCreatePass?eh(g,A,1,a,null):g.data[A],H=oT(g,l,U,a,o);l[A]=H,Nh()&&vc(g,l,H,U),dl(U,!1)}let oT=(o,a,l,g,A)=>(ul(!0),D_(a[cs],g));function yA(o,a,l,g,A){const U=a[go],H=!U||wd()||Mp(l)||rd(U,A);return ul(H),H?D_(a[cs],g):Om(U,o,a,l)}function KE(o){return Eh("",o,""),KE}function Eh(o,a,l){const g=Fn(),A=kp(g,o,a,l);return A!==Rs&&nl(g,va(),A),Eh}function Va(o,a,l,g,A){const U=Fn(),H=Vp(U,o,a,l,g,A);return H!==Rs&&nl(U,va(),H),Va}function HE(o,a,l,g,A,U,H){const se=Fn(),ge=function $p(o,a,l,g,A,U,H,se){const Be=Vm(o,_a(),l,A,H);return Jl(3),Be?a+_n(l)+g+_n(A)+U+_n(H)+se:Rs}(se,o,a,l,g,A,U,H);return ge!==Rs&&nl(se,va(),ge),HE}function zE(o,a,l,g,A,U,H,se,ge){const Be=Fn(),Qe=function Wp(o,a,l,g,A,U,H,se,ge,Be){const Mt=Bl(o,_a(),l,A,H,ge);return Jl(4),Mt?a+_n(l)+g+_n(A)+U+_n(H)+se+_n(ge)+Be:Rs}(Be,o,a,l,g,A,U,H,se,ge);return Qe!==Rs&&nl(Be,va(),Qe),zE}function gg(o,a,l){hb(a)&&(a=a());const g=Fn();return Br(g,Aa(),a)&&kn(Hi(),Go(),g,o,a,g[cs],l,!1),gg}function _g(o,a){const l=hb(o);return l&&o.set(a),l}function XE(o,a){const l=Fn(),g=Hi(),A=ho();return jE(g,l,l[cs],A,o,a),XE}const cT={};function YE(o){const a=Hi(),l=Fn(),g=o+Xi;return dl(eh(a,g,128,null,null),!1),tT(a,l,g,cT),YE}function sf(o){return ka("NgLet"),tT(Hi(),Fn(),va(),o),o}function dT(o){const l=Yl(Su(),Xi+o);if(l===cT)throw new He(314,!1);return l}function QE(o,a,l,g,A){if(o=Le(o),Array.isArray(o))for(let U=0;U<o.length;U++)QE(o[U],a,l,g,A);else{const U=Hi(),H=Fn(),se=ho();let ge=$r(o)?o:Le(o.provide);const Be=eo(o),Qe=1048575&se.providerIndexes,Mt=se.directiveStart,Qt=se.providerIndexes>>20;if($r(o)||!o.multi){const on=new Ud(Be,A,Zu),Dn=yd(ge,a,A?Qe:Qe+Qt,Mt);-1===Dn?(Uf(Nu(se,H),U,ge),rf(U,o,a.length),a.push(ge),se.directiveStart++,se.directiveEnd++,A&&(se.providerIndexes+=1048576),l.push(on),H.push(on)):(l[Dn]=on,H[Dn]=on)}else{const on=yd(ge,a,Qe+Qt,Mt),Dn=yd(ge,a,Qe,Qe+Qt),li=Dn>=0&&l[Dn];if(A&&!li||!A&&!(on>=0&&l[on])){Uf(Nu(se,H),U,ge);const pi=function bA(o,a,l,g,A){const U=new Ud(o,l,Zu);return U.multi=[],U.index=a,U.componentProviders=0,uT(U,A,g&&!l),U}(A?Vv:JE,l.length,A,g,Be);!A&&li&&(l[Dn].providerFactory=pi),rf(U,o,a.length,0),a.push(ge),se.directiveStart++,se.directiveEnd++,A&&(se.providerIndexes+=1048576),l.push(pi),H.push(pi)}else rf(U,o,on>-1?on:Dn,uT(l[A?Dn:on],Be,!A&&g));!A&&g&&li&&l[Dn].componentProviders++}}}function rf(o,a,l,g){const A=$r(a),U=function lc(o){return!!o.useClass}(a);if(A||U){const ge=(U?Le(a.useClass):a).prototype.ngOnDestroy;if(ge){const Be=o.destroyHooks||(o.destroyHooks=[]);if(!A&&a.multi){const Qe=Be.indexOf(l);-1===Qe?Be.push(l,[g,ge]):Be[Qe+1].push(g,ge)}else Be.push(l,ge)}}}function uT(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function yd(o,a,l,g){for(let A=l;A<g;A++)if(a[A]===o)return A;return-1}function JE(o,a,l,g){return ZE(this.multi,[])}function Vv(o,a,l,g){const A=this.multi;let U;if(this.providerFactory){const H=this.providerFactory.componentProviders,se=qc(l,l[ii],this.providerFactory.index,g);U=se.slice(0,H),ZE(A,U);for(let ge=H;ge<se.length;ge++)U.push(se[ge])}else U=[],ZE(A,U);return U}function ZE(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function hT(o,a=[]){return l=>{l.providersResolver=(g,A)=>function CA(o,a,l){const g=Hi();if(g.firstCreatePass){const A=Ya(o);QE(l,g.data,g.blueprint,A,!0),QE(a,g.data,g.blueprint,A,!1)}}(g,A?A(o):o,a)}}let pT=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const g=Wl(0,l.type),A=g.length>0?rv([g],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,A)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=si({token:o,providedIn:"environment",factory:()=>new o(Co(Hn))})}}return o})();function fT(o){ka("NgStandalone"),o.getStandaloneInjector=a=>a.get(pT).getOrCreateStandaloneInjector(o)}function _T(o,a,l){const g=Vi()+o,A=Fn();return A[g]===Rs?El(A,g,l?a.call(l):a()):km(A,g)}function vT(o,a,l,g){return bT(Fn(),Vi(),o,a,l,g)}function MA(o,a,l,g,A){return DT(Fn(),Vi(),o,a,l,g,A)}function yT(o,a,l,g,A,U){return TT(Fn(),Vi(),o,a,l,g,A,U)}function ET(o,a,l,g,A,U,H){return function MT(o,a,l,g,A,U,H,se,ge){const Be=a+l;return Bl(o,Be,A,U,H,se)?El(o,Be+4,ge?g.call(ge,A,U,H,se):g(A,U,H,se)):vg(o,Be+4)}(Fn(),Vi(),o,a,l,g,A,U,H)}function CT(o,a,l,g,A,U,H,se){const ge=Vi()+o,Be=Fn(),Qe=Bl(Be,ge,l,g,A,U);return Br(Be,ge+4,H)||Qe?El(Be,ge+5,se?a.call(se,l,g,A,U,H):a(l,g,A,U,H)):km(Be,ge+5)}function vg(o,a){const l=o[a];return l===Rs?void 0:l}function bT(o,a,l,g,A,U){const H=a+l;return Br(o,H,A)?El(o,H+1,U?g.call(U,A):g(A)):vg(o,H+1)}function DT(o,a,l,g,A,U,H){const se=a+l;return Wc(o,se,A,U)?El(o,se+2,H?g.call(H,A,U):g(A,U)):vg(o,se+2)}function TT(o,a,l,g,A,U,H,se){const ge=a+l;return Vm(o,ge,A,U,H)?El(o,ge+3,se?g.call(se,A,U,H):g(A,U,H)):vg(o,ge+3)}function ST(o,a){const l=Hi();let g;const A=o+Xi;l.firstCreatePass?(g=function RA(o,a){if(a)for(let l=a.length-1;l>=0;l--){const g=a[l];if(o===g.name)return g}}(a,l.pipeRegistry),l.data[A]=g,g.onDestroy&&(l.destroyHooks??=[]).push(A,g.onDestroy)):g=l.data[A];const U=g.factory||(g.factory=ut(g.type)),se=wi(Zu);try{const ge=kd(!1),Be=U();return kd(ge),tT(l,Fn(),A,Be),Be}finally{wi(se)}}function IT(o,a,l){const g=o+Xi,A=Fn(),U=Yl(A,g);return Cd(A,g)?bT(A,Vi(),a,U.transform,l,U):U.transform(l)}function PT(o,a,l,g){const A=o+Xi,U=Fn(),H=Yl(U,A);return Cd(U,A)?DT(U,Vi(),a,H.transform,l,g,H):H.transform(l,g)}function RT(o,a,l,g,A){const U=o+Xi,H=Fn(),se=Yl(H,U);return Cd(H,U)?TT(H,Vi(),a,se.transform,l,g,A,se):se.transform(l,g,A)}function Cd(o,a){return o[ii].data[a].pure}function wA(o,a){return B_(o,a)}class HT{constructor(a){this.full=a;const l=a.split(".");this.major=l[0],this.minor=l[1],this.patch=l.slice(2).join(".")}}let XT=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"platform"})}}return o})();const bx=new It(""),qT=new It("");let o1,Dx=(()=>{class o{constructor(l,g,A){this._ngZone=l,this.registry=g,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,o1||(function Tx(o){o1=o}(A),A.addToWindow(g)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ri.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(l)||(clearTimeout(g.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,g,A){let U=-1;g&&g>0&&(U=setTimeout(()=>{this._callbacks=this._callbacks.filter(H=>H.timeoutId!==U),l()},g)),this._callbacks.push({doneCb:l,timeoutId:U,updateCb:A})}whenStable(l,g,A){if(A&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,g,A),this._runCallbacksIfReady()}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,g,A){return[]}static{this.\u0275fac=function(g){return new(g||o)(Co(Ri),Co(eM),Co(qT))}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac})}}return o})(),eM=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,g){this._applications.set(l,g)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,g=!0){return o1?.findTestabilityInTree(this,l,g)??null}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"platform"})}}return o})();function r1(o){return!!o&&"function"==typeof o.then}function tM(o){return!!o&&"function"==typeof o.subscribe}const nM=new It("");let iM=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,g)=>{this.resolve=l,this.reject=g}),this.appInits=Ei(nM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const A of this.appInits){const U=A();if(r1(U))l.push(U);else if(tM(U)){const H=new Promise((se,ge)=>{U.subscribe({complete:se,error:ge})});l.push(H)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{g()}).catch(A=>{this.reject(A)}),0===l.length&&g(),this.initialized=!0}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const a1=new It("");let Qv,bd=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ei(vi),this.afterRenderManager=Ei(Lb),this.zonelessEnabled=Ei(Fl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new nt.B,this.afterTick=new nt.B,this.componentTypes=[],this.components=[],this.isStable=Ei(uc).hasPendingTasks.pipe((0,at.T)(l=>!l)),this._injector=Ei(Hn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let l;return new Promise(g=>{l=this.isStable.subscribe({next:A=>{A&&g()}})}).finally(()=>{l.unsubscribe()})}get injector(){return this._injector}bootstrap(l,g){const A=l instanceof HC;if(!this._injector.get(iM).done)throw!A&&ro(l),new He(405,!1);let H;H=A?l:this._injector.get(Am).resolveComponentFactory(l),this.componentTypes.push(H.componentType);const se=function oL(o){return o.isBoundToModule}(H)?void 0:this._injector.get(ph),Be=H.create(Ar.NULL,[],g||H.selector,se),Qe=Be.location.nativeElement,Mt=Be.injector.get(bx,null);return Mt?.registerApplication(Qe),Be.onDestroy(()=>{this.detachView(Be.hostView),Yv(this.components,Be),Mt?.unregisterApplication(Qe)}),this._loadComponent(Be),Be}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new He(101,!1);const l=m(null);try{this._runningTick=!0,this.synchronize()}catch(g){this.internalErrorHandler(g)}finally{this._runningTick=!1,m(l),this.afterTick.next()}}synchronize(){let l=null;this._injector.destroyed||(l=this._injector.get(xy,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let g=0;for(;0!==this.dirtyFlags&&g++<10;)this.synchronizeOnce(l)}synchronizeOnce(l){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(g);for(let{_lView:A,notifyErrorHandler:U}of this._views)aL(A,U,g,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else l?.begin?.(),l?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:l})=>Ou(l))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(l){const g=l;this._views.push(g),g.attachToAppRef(this)}detachView(l){const g=l;Yv(this._views,g),g.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const g=this._injector.get(a1,[]);[...this._bootstrapListeners,...g].forEach(A=>A(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Yv(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new He(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function Yv(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}function l1(o){Qv??=new WeakMap;const a=Qv.get(o);if(a)return a;const l=o.isStable.pipe((0,Ke.$)(g=>g)).toPromise().then(()=>{});return Qv.set(o,l),o.onDestroy(()=>Qv?.delete(o)),l}function aL(o,a,l,g){(l||Ou(o))&&sh(o,a,l&&!g?0:1)}class lL{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let cL=(()=>{class o{compileModuleSync(l){return new Xy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const g=this.compileModuleSync(l),U=_l($o(l).declarations).reduce((H,se)=>{const ge=ys(se);return ge&&H.push(new Fm(ge)),H},[]);return new lL(g,U)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),lM=(()=>{class o{constructor(){this.zone=Ei(Ri),this.changeDetectionScheduler=Ei(md),this.applicationRef=Ei(bd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function c1({ngZoneFactory:o,ignoreChangesOutsideZone:a,scheduleInRootZone:l}){return o??=()=>new Ri({...d1(),scheduleInRootZone:l}),[{provide:Ri,useFactory:o},{provide:Po,multi:!0,useFactory:()=>{const g=Ei(lM,{optional:!0});return()=>g.initialize()}},{provide:Po,multi:!0,useFactory:()=>{const g=Ei(dM);return()=>{g.initialize()}}},!0===a?{provide:Ry,useValue:!0}:[],{provide:Ay,useValue:l??kf}]}function d1(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}let dM=(()=>{class o{constructor(){this.subscription=new Ge.yU,this.initialized=!1,this.zone=Ei(Ri),this.pendingTasks=Ei(uc)}initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ri.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ri.assertInAngularZone(),l??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),Dg=(()=>{class o{constructor(){this.appRef=Ei(bd),this.taskService=Ei(uc),this.ngZone=Ei(Ri),this.zonelessEnabled=Ei(Fl),this.disableScheduling=Ei(Ry,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ge.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Os):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ei(Ay,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof rn||!this.zoneIsDefined)}notify(l){if(!this.zonelessEnabled&&5===l)return;switch(l){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const g=this.useMicrotaskScheduler?qg:$f;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>g(()=>this.tick())):this.ngZone.runOutsideAngular(()=>g(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Os+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const l=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(g){throw this.taskService.remove(l),g}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(l)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275prov=si({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const Dd=new It("",{providedIn:"root",factory:()=>Ei(Dd,un.Optional|un.SkipSelf)||function uL(){return typeof $localize<"u"&&$localize.locale||Rv}()}),uf=new It("",{providedIn:"root",factory:()=>"USD"}),Jv=new It("");function Zv(o){return!o.moduleRef}let Eu=null;function Ux(){return!1}function jx(){}let yM=(()=>{class o{static{this.__NG_ELEMENT_ID__=EM}}return o})();function EM(o){return function kx(o,a,l){if(cl(o)&&!l){const g=ma(o.index,a);return new _m(g,g)}return 175&o.type?new _m(a[No],a):null}(ho(),Fn(),!(16&~o))}class DM{constructor(){}supports(a){return av(a)}create(a){return new Xx(a)}}const zx=(o,a)=>a;class Xx{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||zx}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,g=this._removalsHead,A=0,U=null;for(;l||g;){const H=!g||l&&l.currentIndex<MM(g,A,U)?l:g,se=MM(H,A,U),ge=H.currentIndex;if(H===g)A--,g=g._nextRemoved;else if(l=l._next,null==H.previousIndex)A++;else{U||(U=[]);const Be=se-A,Qe=ge-A;if(Be!=Qe){for(let Qt=0;Qt<Be;Qt++){const on=Qt<U.length?U[Qt]:U[Qt]=0,Dn=on+Qt;Qe<=Dn&&Dn<Be&&(U[Qt]=on+1)}U[H.previousIndex]=Qe-Be}}se!==ge&&a(H,se,ge)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!av(a))throw new He(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let A,U,H,l=this._itHead,g=!1;if(Array.isArray(a)){this.length=a.length;for(let se=0;se<this.length;se++)U=a[se],H=this._trackByFn(se,U),null!==l&&Object.is(l.trackById,H)?(g&&(l=this._verifyReinsertion(l,U,H,se)),Object.is(l.item,U)||this._addIdentityChange(l,U)):(l=this._mismatch(l,U,H,se),g=!0),l=l._next}else A=0,function SP(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Symbol.iterator]();let g;for(;!(g=l.next()).done;)a(g.value)}}(a,se=>{H=this._trackByFn(A,se),null!==l&&Object.is(l.trackById,H)?(g&&(l=this._verifyReinsertion(l,se,H,A)),Object.is(l.item,se)||this._addIdentityChange(l,se)):(l=this._mismatch(l,se,H,A),g=!0),l=l._next,A++}),this.length=A;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,g,A){let U;return null===a?U=this._itTail:(U=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,U,A)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(g,A))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,U,A)):a=this._addAfter(new pf(l,g),U,A),a}_verifyReinsertion(a,l,g,A){let U=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==U?a=this._reinsertAfter(U,a._prev,A):a.currentIndex!=A&&(a.currentIndex=A,this._addToMoves(a,A)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const A=a._prevRemoved,U=a._nextRemoved;return null===A?this._removalsHead=U:A._nextRemoved=U,null===U?this._removalsTail=A:U._prevRemoved=A,this._insertAfter(a,l,g),this._addToMoves(a,g),a}_moveAfter(a,l,g){return this._unlink(a),this._insertAfter(a,l,g),this._addToMoves(a,g),a}_addAfter(a,l,g){return this._insertAfter(a,l,g),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,g){const A=null===l?this._itHead:l._next;return a._next=A,a._prev=l,null===A?this._itTail=a:A._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new TM),this._linkedRecords.put(a),a.currentIndex=g,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,g=a._next;return null===l?this._itHead=g:l._next=g,null===g?this._itTail=l:g._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TM),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class pf{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yx{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===l||l<=g.currentIndex)&&Object.is(g.trackById,a))return g;return null}remove(a){const l=a._prevDup,g=a._nextDup;return null===l?this._head=g:l._nextDup=g,null===g?this._tail=l:g._prevDup=l,null===this._head}}class TM{constructor(){this.map=new Map}put(a){const l=a.trackById;let g=this.map.get(l);g||(g=new Yx,this.map.set(l,g)),g.add(a)}get(a,l){const A=this.map.get(a);return A?A.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MM(o,a,l){const g=o.previousIndex;if(null===g)return g;let A=0;return l&&g<l.length&&(A=l[g]),g+a+A}class ff{constructor(){}supports(a){return a instanceof Map||Yy(a)}create(){return new Qx}}class Qx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Yy(a)))throw new He(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(g,A)=>{if(l&&l.key===A)this._maybeAddToChanges(l,g),this._appendAfter=l,l=l._next;else{const U=this._getOrCreateRecordForKey(A,g);l=this._insertBeforeOrAppend(l,U)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let g=l;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const g=a._prev;return l._next=a,l._prev=g,a._prev=l,g&&(g._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const A=this._records.get(a);this._maybeAddToChanges(A,l);const U=A._prev,H=A._next;return U&&(U._next=H),H&&(H._prev=U),A._next=null,A._prev=null,A}const g=new Jx(a);return this._records.set(a,g),g.currentValue=l,this._addToAdditions(g),g}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(g=>l(a[g],g))}}class Jx{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function OM(){return new e0([new DM])}let e0=(()=>{class o{static{this.\u0275prov=si({token:o,providedIn:"root",factory:OM})}constructor(l){this.factories=l}static create(l,g){if(null!=g){const A=g.factories.slice();l=l.concat(A)}return new o(l)}static extend(l){return{provide:o,useFactory:g=>o.create(l,g||OM()),deps:[[o,new rt,new la]]}}find(l){const g=this.factories.find(A=>A.supports(l));if(null!=g)return g;throw new He(901,!1)}}return o})();function SM(){return new E1([new ff])}let E1=(()=>{class o{static{this.\u0275prov=si({token:o,providedIn:"root",factory:SM})}constructor(l){this.factories=l}static create(l,g){if(g){const A=g.factories.slice();l=l.concat(A)}return new o(l)}static extend(l){return{provide:o,useFactory:g=>o.create(l,g||SM()),deps:[[o,new rt,new la]]}}find(l){const g=this.factories.find(A=>A.supports(l));if(g)return g;throw new He(901,!1)}}return o})();function Y(o){try{const{rootComponent:a,appProviders:l,platformProviders:g}=o,A=function Fx(o=[]){if(Eu)return Eu;const a=function _M(o=[],a){return Ar.create({name:a,providers:[{provide:dr,useValue:"platform"},{provide:Jv,useValue:new Set([()=>Eu=null])},...o]})}(o);return Eu=a,function Mx(){!function he(o){ie=o}(()=>{throw new He(600,!1)})}(),function hf(o){o.get(V1,null)?.forEach(l=>l())}(a),a}(g),U=[c1({}),{provide:md,useExisting:Dg},...l||[]];return function fM(o){const a=Zv(o)?o.r3Injector:o.moduleRef.injector,l=a.get(Ri);return l.run(()=>{Zv(o)?o.r3Injector.resolveInjectorInitializers():o.moduleRef.resolveInjectorInitializers();const g=a.get(ei,null);let A;if(l.runOutsideAngular(()=>{A=l.onError.subscribe({next:U=>{g.handleError(U)}})}),Zv(o)){const U=()=>a.destroy(),H=o.platformInjector.get(Jv);H.add(U),a.onDestroy(()=>{A.unsubscribe(),H.delete(U)})}else{const U=()=>o.moduleRef.destroy(),H=o.platformInjector.get(Jv);H.add(U),o.moduleRef.onDestroy(()=>{Yv(o.allPlatformModules,o.moduleRef),A.unsubscribe(),H.delete(U)})}return function Ox(o,a,l){try{const g=l();return r1(g)?g.catch(A=>{throw a.runOutsideAngular(()=>o.handleError(A)),A}):g}catch(g){throw a.runOutsideAngular(()=>o.handleError(g)),g}}(g,l,()=>{const U=a.get(iM);return U.runInitializers(),U.donePromise.then(()=>{if(function BR(o){"string"==typeof o&&(AD=o.toLowerCase().replace(/_/g,"-"))}(a.get(Dd,Rv)||Rv),Zv(o)){const se=a.get(bd);return void 0!==o.rootComponent&&se.bootstrap(o.rootComponent),se}return function wx(o,a){const l=o.injector.get(bd);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(g=>l.bootstrap(g));else{if(!o.instance.ngDoBootstrap)throw new He(-403,!1);o.instance.ngDoBootstrap(l)}a.push(o)}(o.moduleRef,o.allPlatformModules),o.moduleRef})})})}({r3Injector:new jm({providers:U,parent:A,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:A,rootComponent:a})}catch(a){return Promise.reject(a)}}let ls=!1;function Td(){return Fr([{provide:g_,useFactory:()=>{let o=!0;return Kr()&&(o=!!Ei(Yf,{optional:!0})?.get(R0,null)),o&&ka("NgHydration"),o}},{provide:Po,useValue:()=>{(function kC(o){Dy=o})(!1),Kr()&&Ei(g_)&&(function Oa(){const o=Yd();let a;for(const l of o.body.childNodes)if(l.nodeType===Node.COMMENT_NODE&&l.textContent?.trim()===uS){a=l;break}if(!a)throw new He(-507,!1)}(),function Ul(){ls||(ls=!0,function Zf(){$1=W1}(),function IR(){Zm=SR}(),function EA(){oT=yA}(),function AR(){Iv=RR}(),function AP(){Ib=RP}(),function J_(){ib=iP,Fy=nP}(),function kI(){KC=Rm}(),function QS(){ly=su}())}())},multi:!0},{provide:Y1,useFactory:()=>Kr()&&Ei(g_)},{provide:a1,useFactory:()=>{if(Kr()&&Ei(g_)){const o=Ei(bd);return Ei(Ar),()=>{(function So(o){return l1(o)})(o).then(()=>{!function UI(o){const a=o._views;for(const l of a){const g=A0(l);null!==g&&null!==g[Ms]&&(ir(g)?z_(g):GC(g))}}(o)})}}return()=>{}},multi:!0}])}function zr(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function jl(o,a=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?a:Number(o)}function yr(o,a){ka("NgSignals");const l=function z(o){const a=Object.create(Q);a.computation=o;const l=()=>{if(P(a),M(a),a.value===X)throw a.error;return a.value};return l[p]=a,l}(o);return a?.equal&&(l[p].equal=a.equal),l}function m2(o){const a=m(null);try{return o()}finally{m(a)}}const kM=new It("",{providedIn:"root",factory:()=>Ei(VM)});let VM=(()=>{class o{static{this.\u0275prov=si({token:o,providedIn:"root",factory:()=>new g2})}}return o})();class g2{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Ei(uc),this.taskId=null}scheduleEffect(a){if(this.enqueue(a),null===this.taskId){const l=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(l),this.taskId=null})}}enqueue(a){const l=a.creationZone;this.queues.has(l)||this.queues.set(l,new Set);const g=this.queues.get(l);g.has(a)||(this.queuedEffectCount++,g.add(a))}flush(){for(;this.queuedEffectCount>0;)for(const[a,l]of this.queues)null===a?this.flushQueue(l):a.run(()=>this.flushQueue(l))}flushQueue(a){for(const l of a)a.delete(l),this.queuedEffectCount--,l.run()}}class $M{constructor(a,l,g,A,U,H){this.scheduler=a,this.effectFn=l,this.creationZone=g,this.injector=U,this.watcher=function ve(o,a,l){const g=Object.create(Ce);l&&(g.consumerAllowSignalWrites=!0),g.fn=o,g.schedule=a;const A=ge=>{g.cleanupFn=ge};return g.ref={notify:()=>h(g),run:()=>{if(null===g.fn)return;if(function v(){return c}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(g.dirty=!1,g.hasRun&&!L(g))return;g.hasRun=!0;const ge=S(g);try{g.cleanupFn(),g.cleanupFn=_e,g.fn(A)}finally{O(g,ge)}},cleanup:()=>g.cleanupFn(),destroy:()=>function H(ge){(function U(ge){return null===ge.fn&&null===ge.schedule})(ge)||(T(ge),ge.cleanupFn(),ge.fn=null,ge.schedule=null,ge.cleanupFn=_e)}(g),[p]:g},g.ref}(se=>this.runEffect(se),()=>this.schedule(),H),this.unregisterOnDestroy=A?.onDestroy(()=>this.destroy())}runEffect(a){try{this.effectFn(a)}catch(l){this.injector.get(ei,null,{optional:!0})?.handleError(l)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function T1(o,a){ka("NgSignals"),!a?.injector&&wo();const l=a?.injector??Ei(Ar),g=!0!==a?.manualCleanup?l.get(Hd):null,A=new $M(l.get(kM),o,typeof Zone>"u"?null:Zone.current,g,l,a?.allowSignalWrites??!1),U=l.get(yM,null,{optional:!0});return U&&8&U._lView[Bi]?(U._lView[Sd]??=[]).push(A.watcher.notify):A.watcher.notify(),A}function WM(o,a){const l=ys(o),g=a.elementInjector||Pn();return new Fm(l).create(g,a.projectableNodes,a.hostElement,a.environmentInjector)}function GM(o){const a=ys(o);if(!a)return null;const l=new Fm(a);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}function _2(...o){return o.reduce((a,l)=>Object.assign(a,l,{providers:[...a.providers,...l.providers]}),{providers:[]})}},89079:(B,C,n)=>{"use strict";n.d(C,{ot:()=>E,pQ:()=>e});var i=n(54438),t=n(71985),c=n(56977);function e(M){M||((0,i.Af3)(e),M=(0,i.WQX)(i.abz));const b=new t.c(P=>M.onDestroy(P.next.bind(P)));return P=>P.pipe((0,c.Q)(b))}function E(M,b){const P=!b?.manualCleanup;P&&!b?.injector&&(0,i.Af3)(E);const D=P?b?.injector?.get(i.abz)??(0,i.WQX)(i.abz):null,I=function y(M=Object.is){return(b,P)=>1===b.kind&&1===P.kind&&M(b.value,P.value)}(b?.equal);let h;h=(0,i.vPA)(b?.requireSync?{kind:0}:{kind:1,value:b?.initialValue},{equal:I});const S=M.subscribe({next:O=>h.set({kind:1,value:O}),error:O=>{if(b?.rejectErrors)throw O;h.set({kind:2,error:O})}});if(b?.requireSync&&0===h().kind)throw new i.wOt(601,!1);return D?.onDestroy(S.unsubscribe.bind(S)),(0,i.EWP)(()=>{const O=h();switch(O.kind){case 1:return O.value;case 2:throw O.error;case 0:throw new i.wOt(601,!1)}},{equal:b?.equal})}},89417:(B,C,n)=>{"use strict";n.d(C,{$R:()=>ko,BC:()=>Te,Bm:()=>ol,Fm:()=>jo,J3:()=>_t,JD:()=>Lr,MJ:()=>Ss,Q0:()=>wi,R_:()=>gr,VZ:()=>Ci,W0:()=>ot,X1:()=>Bn,Y4:()=>ht,YN:()=>nn,YS:()=>Mo,ZU:()=>Re,Zm:()=>M,cV:()=>ss,cb:()=>pt,cz:()=>O,hs:()=>Ji,j4:()=>fr,k0:()=>x,kq:()=>E,l_:()=>Sr,me:()=>I,ok:()=>qt,pg:()=>L,qT:()=>jn,tU:()=>os,v8:()=>Co,vO:()=>nt,vS:()=>un,wz:()=>Ia,xH:()=>Pa,xh:()=>ca,xq:()=>Qi,y7:()=>ut,zX:()=>Li,ze:()=>Ye});var i=n(54438),t=n(60177),c=n(22806),e=n(27468),p=n(21413),m=n(96354);let f=(()=>{class xe{constructor(Oe,ct){this._renderer=Oe,this._elementRef=ct,this.onChange=Ht=>{},this.onTouched=()=>{}}setProperty(Oe,ct){this._renderer.setProperty(this._elementRef.nativeElement,Oe,ct)}registerOnTouched(Oe){this.onTouched=Oe}registerOnChange(Oe){this.onChange=Oe}setDisabledState(Oe){this.setProperty("disabled",Oe)}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:xe})}}return xe})(),v=(()=>{class xe extends f{static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,features:[i.Vt3]})}}return xe})();const E=new i.nKC(""),y={provide:E,useExisting:(0,i.Rfq)(()=>M),multi:!0};let M=(()=>{class xe extends v{writeValue(Oe){this.setProperty("checked",Oe)}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ct,Ht){1&ct&&i.bIt("change",function(rs){return Ht.onChange(rs.target.checked)})("blur",function(){return Ht.onTouched()})},features:[i.Jv_([y]),i.Vt3]})}}return xe})();const b={provide:E,useExisting:(0,i.Rfq)(()=>I),multi:!0},D=new i.nKC("");let I=(()=>{class xe extends f{constructor(Oe,ct,Ht){super(Oe,ct),this._compositionMode=Ht,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function P(){const xe=(0,t.QT)()?(0,t.QT)().getUserAgent():"";return/android (\d+)/.test(xe.toLowerCase())}())}writeValue(Oe){this.setProperty("value",Oe??"")}_handleInput(Oe){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Oe)}_compositionStart(){this._composing=!0}_compositionEnd(Oe){this._composing=!1,this._compositionMode&&this.onChange(Oe)}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(D,8))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ct,Ht){1&ct&&i.bIt("input",function(rs){return Ht._handleInput(rs.target.value)})("blur",function(){return Ht.onTouched()})("compositionstart",function(){return Ht._compositionStart()})("compositionend",function(rs){return Ht._compositionEnd(rs.target.value)})},features:[i.Jv_([b]),i.Vt3]})}}return xe})();function h(xe){return null==xe||("string"==typeof xe||Array.isArray(xe))&&0===xe.length}function S(xe){return null!=xe&&"number"==typeof xe.length}const O=new i.nKC(""),L=new i.nKC(""),T=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class x{static min(Ve){return N(Ve)}static max(Ve){return j(Ve)}static required(Ve){return $(Ve)}static requiredTrue(Ve){return k(Ve)}static email(Ve){return function K(xe){return h(xe.value)||T.test(xe.value)?null:{email:!0}}(Ve)}static minLength(Ve){return z(Ve)}static maxLength(Ve){return V(Ve)}static pattern(Ve){return G(Ve)}static nullValidator(Ve){return null}static compose(Ve){return re(Ve)}static composeAsync(Ve){return Z(Ve)}}function N(xe){return Ve=>{if(h(Ve.value)||h(xe))return null;const Oe=parseFloat(Ve.value);return!isNaN(Oe)&&Oe<xe?{min:{min:xe,actual:Ve.value}}:null}}function j(xe){return Ve=>{if(h(Ve.value)||h(xe))return null;const Oe=parseFloat(Ve.value);return!isNaN(Oe)&&Oe>xe?{max:{max:xe,actual:Ve.value}}:null}}function $(xe){return h(xe.value)?{required:!0}:null}function k(xe){return!0===xe.value?null:{required:!0}}function z(xe){return Ve=>h(Ve.value)||!S(Ve.value)?null:Ve.value.length<xe?{minlength:{requiredLength:xe,actualLength:Ve.value.length}}:null}function V(xe){return Ve=>S(Ve.value)&&Ve.value.length>xe?{maxlength:{requiredLength:xe,actualLength:Ve.value.length}}:null}function G(xe){if(!xe)return X;let Ve,Oe;return"string"==typeof xe?(Oe="","^"!==xe.charAt(0)&&(Oe+="^"),Oe+=xe,"$"!==xe.charAt(xe.length-1)&&(Oe+="$"),Ve=new RegExp(Oe)):(Oe=xe.toString(),Ve=xe),ct=>{if(h(ct.value))return null;const Ht=ct.value;return Ve.test(Ht)?null:{pattern:{requiredPattern:Oe,actualValue:Ht}}}}function X(xe){return null}function Q(xe){return null!=xe}function ee(xe){return(0,i.jNT)(xe)?(0,c.H)(xe):xe}function ie(xe){let Ve={};return xe.forEach(Oe=>{Ve=null!=Oe?{...Ve,...Oe}:Ve}),0===Object.keys(Ve).length?null:Ve}function te(xe,Ve){return Ve.map(Oe=>Oe(xe))}function ye(xe){return xe.map(Ve=>function he(xe){return!xe.validate}(Ve)?Ve:Oe=>Ve.validate(Oe))}function re(xe){if(!xe)return null;const Ve=xe.filter(Q);return 0==Ve.length?null:function(Oe){return ie(te(Oe,Ve))}}function ce(xe){return null!=xe?re(ye(xe)):null}function Z(xe){if(!xe)return null;const Ve=xe.filter(Q);return 0==Ve.length?null:function(Oe){const ct=te(Oe,Ve).map(ee);return(0,e.p)(ct).pipe((0,m.T)(ie))}}function ne(xe){return null!=xe?Z(ye(xe)):null}function fe(xe,Ve){return null===xe?[Ve]:Array.isArray(xe)?[...xe,Ve]:[xe,Ve]}function ae(xe){return xe._rawValidators}function oe(xe){return xe._rawAsyncValidators}function J(xe){return xe?Array.isArray(xe)?xe:[xe]:[]}function ve(xe,Ve){return Array.isArray(xe)?xe.includes(Ve):xe===Ve}function _e(xe,Ve){const Oe=J(Ve);return J(xe).forEach(Ht=>{ve(Oe,Ht)||Oe.push(Ht)}),Oe}function Ce(xe,Ve){return J(Ve).filter(Oe=>!ve(xe,Oe))}class qe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ve){this._rawValidators=Ve||[],this._composedValidatorFn=ce(this._rawValidators)}_setAsyncValidators(Ve){this._rawAsyncValidators=Ve||[],this._composedAsyncValidatorFn=ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ve){this._onDestroyCallbacks.push(Ve)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ve=>Ve()),this._onDestroyCallbacks=[]}reset(Ve=void 0){this.control&&this.control.reset(Ve)}hasError(Ve,Oe){return!!this.control&&this.control.hasError(Ve,Oe)}getError(Ve,Oe){return this.control?this.control.getError(Ve,Oe):null}}class Re extends qe{get formDirective(){return null}get path(){return null}}class nt extends qe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ge{constructor(Ve){this._cd=Ve}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Te=(()=>{class xe extends Ge{constructor(Oe){super(Oe)}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(nt,2))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ct,Ht){2&ct&&i.AVh("ng-untouched",Ht.isUntouched)("ng-touched",Ht.isTouched)("ng-pristine",Ht.isPristine)("ng-dirty",Ht.isDirty)("ng-valid",Ht.isValid)("ng-invalid",Ht.isInvalid)("ng-pending",Ht.isPending)},features:[i.Vt3]})}}return xe})(),pt=(()=>{class xe extends Ge{constructor(Oe){super(Oe)}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(Re,10))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ct,Ht){2&ct&&i.AVh("ng-untouched",Ht.isUntouched)("ng-touched",Ht.isTouched)("ng-pristine",Ht.isPristine)("ng-dirty",Ht.isDirty)("ng-valid",Ht.isValid)("ng-invalid",Ht.isInvalid)("ng-pending",Ht.isPending)("ng-submitted",Ht.isSubmitted)},features:[i.Vt3]})}}return xe})();const vt="VALID",Jt="INVALID",sn="PENDING",zt="DISABLED";class Gt{}class Je extends Gt{constructor(Ve,Oe){super(),this.value=Ve,this.source=Oe}}class ke extends Gt{constructor(Ve,Oe){super(),this.pristine=Ve,this.source=Oe}}class Le extends Gt{constructor(Ve,Oe){super(),this.touched=Ve,this.source=Oe}}class ze extends Gt{constructor(Ve,Oe){super(),this.status=Ve,this.source=Oe}}class lt extends Gt{constructor(Ve){super(),this.source=Ve}}class Vt extends Gt{constructor(Ve){super(),this.source=Ve}}function fn(xe){return(Lt(xe)?xe.validators:xe)||null}function tn(xe,Ve){return(Lt(Ve)?Ve.asyncValidators:xe)||null}function Lt(xe){return null!=xe&&!Array.isArray(xe)&&"object"==typeof xe}function Rt(xe,Ve,Oe){const ct=xe.controls;if(!(Ve?Object.keys(ct):ct).length)throw new i.wOt(1e3,"");if(!ct[Oe])throw new i.wOt(1001,"")}function Sn(xe,Ve,Oe){xe._forEachChild((ct,Ht)=>{if(void 0===Oe[Ht])throw new i.wOt(1002,"")})}class $n{constructor(Ve,Oe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,i.EWP)(()=>this.statusReactive()),this.statusReactive=(0,i.vPA)(void 0),this._pristine=(0,i.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,i.vPA)(!0),this._touched=(0,i.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,i.vPA)(!1),this._events=new p.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(Ve),this._assignAsyncValidators(Oe)}get validator(){return this._composedValidatorFn}set validator(Ve){this._rawValidators=this._composedValidatorFn=Ve}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ve){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ve}get parent(){return this._parent}get status(){return(0,i.O8t)(this.statusReactive)}set status(Ve){(0,i.O8t)(()=>this.statusReactive.set(Ve))}get valid(){return this.status===vt}get invalid(){return this.status===Jt}get pending(){return this.status==sn}get disabled(){return this.status===zt}get enabled(){return this.status!==zt}get pristine(){return(0,i.O8t)(this.pristineReactive)}set pristine(Ve){(0,i.O8t)(()=>this.pristineReactive.set(Ve))}get dirty(){return!this.pristine}get touched(){return(0,i.O8t)(this.touchedReactive)}set touched(Ve){(0,i.O8t)(()=>this.touchedReactive.set(Ve))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ve){this._assignValidators(Ve)}setAsyncValidators(Ve){this._assignAsyncValidators(Ve)}addValidators(Ve){this.setValidators(_e(Ve,this._rawValidators))}addAsyncValidators(Ve){this.setAsyncValidators(_e(Ve,this._rawAsyncValidators))}removeValidators(Ve){this.setValidators(Ce(Ve,this._rawValidators))}removeAsyncValidators(Ve){this.setAsyncValidators(Ce(Ve,this._rawAsyncValidators))}hasValidator(Ve){return ve(this._rawValidators,Ve)}hasAsyncValidator(Ve){return ve(this._rawAsyncValidators,Ve)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ve={}){const Oe=!1===this.touched;this.touched=!0;const ct=Ve.sourceControl??this;this._parent&&!Ve.onlySelf&&this._parent.markAsTouched({...Ve,sourceControl:ct}),Oe&&!1!==Ve.emitEvent&&this._events.next(new Le(!0,ct))}markAllAsTouched(Ve={}){this.markAsTouched({onlySelf:!0,emitEvent:Ve.emitEvent,sourceControl:this}),this._forEachChild(Oe=>Oe.markAllAsTouched(Ve))}markAsUntouched(Ve={}){const Oe=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ct=Ve.sourceControl??this;this._forEachChild(Ht=>{Ht.markAsUntouched({onlySelf:!0,emitEvent:Ve.emitEvent,sourceControl:ct})}),this._parent&&!Ve.onlySelf&&this._parent._updateTouched(Ve,ct),Oe&&!1!==Ve.emitEvent&&this._events.next(new Le(!1,ct))}markAsDirty(Ve={}){const Oe=!0===this.pristine;this.pristine=!1;const ct=Ve.sourceControl??this;this._parent&&!Ve.onlySelf&&this._parent.markAsDirty({...Ve,sourceControl:ct}),Oe&&!1!==Ve.emitEvent&&this._events.next(new ke(!1,ct))}markAsPristine(Ve={}){const Oe=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ct=Ve.sourceControl??this;this._forEachChild(Ht=>{Ht.markAsPristine({onlySelf:!0,emitEvent:Ve.emitEvent})}),this._parent&&!Ve.onlySelf&&this._parent._updatePristine(Ve,ct),Oe&&!1!==Ve.emitEvent&&this._events.next(new ke(!0,ct))}markAsPending(Ve={}){this.status=sn;const Oe=Ve.sourceControl??this;!1!==Ve.emitEvent&&(this._events.next(new ze(this.status,Oe)),this.statusChanges.emit(this.status)),this._parent&&!Ve.onlySelf&&this._parent.markAsPending({...Ve,sourceControl:Oe})}disable(Ve={}){const Oe=this._parentMarkedDirty(Ve.onlySelf);this.status=zt,this.errors=null,this._forEachChild(Ht=>{Ht.disable({...Ve,onlySelf:!0})}),this._updateValue();const ct=Ve.sourceControl??this;!1!==Ve.emitEvent&&(this._events.next(new Je(this.value,ct)),this._events.next(new ze(this.status,ct)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ve,skipPristineCheck:Oe},this),this._onDisabledChange.forEach(Ht=>Ht(!0))}enable(Ve={}){const Oe=this._parentMarkedDirty(Ve.onlySelf);this.status=vt,this._forEachChild(ct=>{ct.enable({...Ve,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ve.emitEvent}),this._updateAncestors({...Ve,skipPristineCheck:Oe},this),this._onDisabledChange.forEach(ct=>ct(!1))}_updateAncestors(Ve,Oe){this._parent&&!Ve.onlySelf&&(this._parent.updateValueAndValidity(Ve),Ve.skipPristineCheck||this._parent._updatePristine({},Oe),this._parent._updateTouched({},Oe))}setParent(Ve){this._parent=Ve}getRawValue(){return this.value}updateValueAndValidity(Ve={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const ct=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vt||this.status===sn)&&this._runAsyncValidator(ct,Ve.emitEvent)}const Oe=Ve.sourceControl??this;!1!==Ve.emitEvent&&(this._events.next(new Je(this.value,Oe)),this._events.next(new ze(this.status,Oe)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ve.onlySelf&&this._parent.updateValueAndValidity({...Ve,sourceControl:Oe})}_updateTreeValidity(Ve={emitEvent:!0}){this._forEachChild(Oe=>Oe._updateTreeValidity(Ve)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ve.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zt:vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ve,Oe){if(this.asyncValidator){this.status=sn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==Oe};const ct=ee(this.asyncValidator(this));this._asyncValidationSubscription=ct.subscribe(Ht=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ht,{emitEvent:Oe,shouldHaveEmitted:Ve})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const Ve=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,Ve}return!1}setErrors(Ve,Oe={}){this.errors=Ve,this._updateControlsErrors(!1!==Oe.emitEvent,this,Oe.shouldHaveEmitted)}get(Ve){let Oe=Ve;return null==Oe||(Array.isArray(Oe)||(Oe=Oe.split(".")),0===Oe.length)?null:Oe.reduce((ct,Ht)=>ct&&ct._find(Ht),this)}getError(Ve,Oe){const ct=Oe?this.get(Oe):this;return ct&&ct.errors?ct.errors[Ve]:null}hasError(Ve,Oe){return!!this.getError(Ve,Oe)}get root(){let Ve=this;for(;Ve._parent;)Ve=Ve._parent;return Ve}_updateControlsErrors(Ve,Oe,ct){this.status=this._calculateStatus(),Ve&&this.statusChanges.emit(this.status),(Ve||ct)&&this._events.next(new ze(this.status,Oe)),this._parent&&this._parent._updateControlsErrors(Ve,Oe,ct)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?zt:this.errors?Jt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sn)?sn:this._anyControlsHaveStatus(Jt)?Jt:vt}_anyControlsHaveStatus(Ve){return this._anyControls(Oe=>Oe.status===Ve)}_anyControlsDirty(){return this._anyControls(Ve=>Ve.dirty)}_anyControlsTouched(){return this._anyControls(Ve=>Ve.touched)}_updatePristine(Ve,Oe){const ct=!this._anyControlsDirty(),Ht=this.pristine!==ct;this.pristine=ct,this._parent&&!Ve.onlySelf&&this._parent._updatePristine(Ve,Oe),Ht&&this._events.next(new ke(this.pristine,Oe))}_updateTouched(Ve={},Oe){this.touched=this._anyControlsTouched(),this._events.next(new Le(this.touched,Oe)),this._parent&&!Ve.onlySelf&&this._parent._updateTouched(Ve,Oe)}_registerOnCollectionChange(Ve){this._onCollectionChange=Ve}_setUpdateStrategy(Ve){Lt(Ve)&&null!=Ve.updateOn&&(this._updateOn=Ve.updateOn)}_parentMarkedDirty(Ve){return!Ve&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ve){return null}_assignValidators(Ve){this._rawValidators=Array.isArray(Ve)?Ve.slice():Ve,this._composedValidatorFn=function At(xe){return Array.isArray(xe)?ce(xe):xe||null}(this._rawValidators)}_assignAsyncValidators(Ve){this._rawAsyncValidators=Array.isArray(Ve)?Ve.slice():Ve,this._composedAsyncValidatorFn=function dt(xe){return Array.isArray(xe)?ne(xe):xe||null}(this._rawAsyncValidators)}}class Di extends $n{constructor(Ve,Oe,ct){super(fn(Oe),tn(ct,Oe)),this.controls=Ve,this._initObservables(),this._setUpdateStrategy(Oe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ve,Oe){return this.controls[Ve]?this.controls[Ve]:(this.controls[Ve]=Oe,Oe.setParent(this),Oe._registerOnCollectionChange(this._onCollectionChange),Oe)}addControl(Ve,Oe,ct={}){this.registerControl(Ve,Oe),this.updateValueAndValidity({emitEvent:ct.emitEvent}),this._onCollectionChange()}removeControl(Ve,Oe={}){this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),delete this.controls[Ve],this.updateValueAndValidity({emitEvent:Oe.emitEvent}),this._onCollectionChange()}setControl(Ve,Oe,ct={}){this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),delete this.controls[Ve],Oe&&this.registerControl(Ve,Oe),this.updateValueAndValidity({emitEvent:ct.emitEvent}),this._onCollectionChange()}contains(Ve){return this.controls.hasOwnProperty(Ve)&&this.controls[Ve].enabled}setValue(Ve,Oe={}){Sn(this,0,Ve),Object.keys(Ve).forEach(ct=>{Rt(this,!0,ct),this.controls[ct].setValue(Ve[ct],{onlySelf:!0,emitEvent:Oe.emitEvent})}),this.updateValueAndValidity(Oe)}patchValue(Ve,Oe={}){null!=Ve&&(Object.keys(Ve).forEach(ct=>{const Ht=this.controls[ct];Ht&&Ht.patchValue(Ve[ct],{onlySelf:!0,emitEvent:Oe.emitEvent})}),this.updateValueAndValidity(Oe))}reset(Ve={},Oe={}){this._forEachChild((ct,Ht)=>{ct.reset(Ve?Ve[Ht]:null,{onlySelf:!0,emitEvent:Oe.emitEvent})}),this._updatePristine(Oe,this),this._updateTouched(Oe,this),this.updateValueAndValidity(Oe)}getRawValue(){return this._reduceChildren({},(Ve,Oe,ct)=>(Ve[ct]=Oe.getRawValue(),Ve))}_syncPendingControls(){let Ve=this._reduceChildren(!1,(Oe,ct)=>!!ct._syncPendingControls()||Oe);return Ve&&this.updateValueAndValidity({onlySelf:!0}),Ve}_forEachChild(Ve){Object.keys(this.controls).forEach(Oe=>{const ct=this.controls[Oe];ct&&Ve(ct,Oe)})}_setUpControls(){this._forEachChild(Ve=>{Ve.setParent(this),Ve._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ve){for(const[Oe,ct]of Object.entries(this.controls))if(this.contains(Oe)&&Ve(ct))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Oe,ct,Ht)=>((ct.enabled||this.disabled)&&(Oe[Ht]=ct.value),Oe))}_reduceChildren(Ve,Oe){let ct=Ve;return this._forEachChild((Ht,gi)=>{ct=Oe(ct,Ht,gi)}),ct}_allControlsDisabled(){for(const Ve of Object.keys(this.controls))if(this.controls[Ve].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ve){return this.controls.hasOwnProperty(Ve)?this.controls[Ve]:null}}const _t=Di;class Tn extends Di{}const oi=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ai}),ai="always";function ns(xe,Ve){return[...Ve.path,xe]}function is(xe,Ve,Oe=ai){gn(xe,Ve),Ve.valueAccessor.writeValue(xe.value),(xe.disabled||"always"===Oe)&&Ve.valueAccessor.setDisabledState?.(xe.disabled),function Si(xe,Ve){Ve.valueAccessor.registerOnChange(Oe=>{xe._pendingValue=Oe,xe._pendingChange=!0,xe._pendingDirty=!0,"change"===xe.updateOn&&Ai(xe,Ve)})}(xe,Ve),function xi(xe,Ve){const Oe=(ct,Ht)=>{Ve.valueAccessor.writeValue(ct),Ht&&Ve.viewToModelUpdate(ct)};xe.registerOnChange(Oe),Ve._registerOnDestroy(()=>{xe._unregisterOnChange(Oe)})}(xe,Ve),function ms(xe,Ve){Ve.valueAccessor.registerOnTouched(()=>{xe._pendingTouched=!0,"blur"===xe.updateOn&&xe._pendingChange&&Ai(xe,Ve),"submit"!==xe.updateOn&&xe.markAsTouched()})}(xe,Ve),function cn(xe,Ve){if(Ve.valueAccessor.setDisabledState){const Oe=ct=>{Ve.valueAccessor.setDisabledState(ct)};xe.registerOnDisabledChange(Oe),Ve._registerOnDestroy(()=>{xe._unregisterOnDisabledChange(Oe)})}}(xe,Ve)}function si(xe,Ve,Oe=!0){const ct=()=>{};Ve.valueAccessor&&(Ve.valueAccessor.registerOnChange(ct),Ve.valueAccessor.registerOnTouched(ct)),fi(xe,Ve),xe&&(Ve._invokeOnDestroyCallbacks(),xe._registerOnCollectionChange(()=>{}))}function ci(xe,Ve){xe.forEach(Oe=>{Oe.registerOnValidatorChange&&Oe.registerOnValidatorChange(Ve)})}function gn(xe,Ve){const Oe=ae(xe);null!==Ve.validator?xe.setValidators(fe(Oe,Ve.validator)):"function"==typeof Oe&&xe.setValidators([Oe]);const ct=oe(xe);null!==Ve.asyncValidator?xe.setAsyncValidators(fe(ct,Ve.asyncValidator)):"function"==typeof ct&&xe.setAsyncValidators([ct]);const Ht=()=>xe.updateValueAndValidity();ci(Ve._rawValidators,Ht),ci(Ve._rawAsyncValidators,Ht)}function fi(xe,Ve){let Oe=!1;if(null!==xe){if(null!==Ve.validator){const Ht=ae(xe);if(Array.isArray(Ht)&&Ht.length>0){const gi=Ht.filter(rs=>rs!==Ve.validator);gi.length!==Ht.length&&(Oe=!0,xe.setValidators(gi))}}if(null!==Ve.asyncValidator){const Ht=oe(xe);if(Array.isArray(Ht)&&Ht.length>0){const gi=Ht.filter(rs=>rs!==Ve.asyncValidator);gi.length!==Ht.length&&(Oe=!0,xe.setAsyncValidators(gi))}}}const ct=()=>{};return ci(Ve._rawValidators,ct),ci(Ve._rawAsyncValidators,ct),Oe}function Ai(xe,Ve){xe._pendingDirty&&xe.markAsDirty(),xe.setValue(xe._pendingValue,{emitModelToViewChange:!1}),Ve.viewToModelUpdate(xe._pendingValue),xe._pendingChange=!1}function Zt(xe,Ve){gn(xe,Ve)}function Yt(xe,Ve){if(!xe.hasOwnProperty("model"))return!1;const Oe=xe.model;return!!Oe.isFirstChange()||!Object.is(Ve,Oe.currentValue)}function On(xe,Ve){xe._syncPendingControls(),Ve.forEach(Oe=>{const ct=Oe.control;"submit"===ct.updateOn&&ct._pendingChange&&(Oe.viewToModelUpdate(ct._pendingValue),ct._pendingChange=!1)})}function Nn(xe,Ve){if(!Ve)return null;let Oe,ct,Ht;return Array.isArray(Ve),Ve.forEach(gi=>{gi.constructor===I?Oe=gi:function Cn(xe){return Object.getPrototypeOf(xe.constructor)===v}(gi)?ct=gi:Ht=gi}),Ht||ct||Oe||null}const ki={provide:Re,useExisting:(0,i.Rfq)(()=>ss)},Fi=Promise.resolve();let ss=(()=>{class xe extends Re{get submitted(){return(0,i.O8t)(this.submittedReactive)}constructor(Oe,ct,Ht){super(),this.callSetDisabledState=Ht,this._submitted=(0,i.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,i.vPA)(!1),this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new Di({},ce(Oe),ne(ct))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Oe){Fi.then(()=>{const ct=this._findContainer(Oe.path);Oe.control=ct.registerControl(Oe.name,Oe.control),is(Oe.control,Oe,this.callSetDisabledState),Oe.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Oe)})}getControl(Oe){return this.form.get(Oe.path)}removeControl(Oe){Fi.then(()=>{const ct=this._findContainer(Oe.path);ct&&ct.removeControl(Oe.name),this._directives.delete(Oe)})}addFormGroup(Oe){Fi.then(()=>{const ct=this._findContainer(Oe.path),Ht=new Di({});Zt(Ht,Oe),ct.registerControl(Oe.name,Ht),Ht.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Oe){Fi.then(()=>{const ct=this._findContainer(Oe.path);ct&&ct.removeControl(Oe.name)})}getFormGroup(Oe){return this.form.get(Oe.path)}updateModel(Oe,ct){Fi.then(()=>{this.form.get(Oe.path).setValue(ct)})}setValue(Oe){this.control.setValue(Oe)}onSubmit(Oe){return this.submittedReactive.set(!0),On(this.form,this._directives),this.ngSubmit.emit(Oe),"dialog"===Oe?.target?.method}onReset(){this.resetForm()}resetForm(Oe=void 0){this.form.reset(Oe),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Oe){return Oe.pop(),Oe.length?this.form.get(Oe):this.form}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(O,10),i.rXU(L,10),i.rXU(oi,8))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ct,Ht){1&ct&&i.bIt("submit",function(rs){return Ht.onSubmit(rs)})("reset",function(){return Ht.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([ki]),i.Vt3]})}}return xe})();function hs(xe,Ve){const Oe=xe.indexOf(Ve);Oe>-1&&xe.splice(Oe,1)}function gs(xe){return"object"==typeof xe&&null!==xe&&2===Object.keys(xe).length&&"value"in xe&&"disabled"in xe}const Ss=class extends $n{constructor(Ve=null,Oe,ct){super(fn(Oe),tn(ct,Oe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ve),this._setUpdateStrategy(Oe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lt(Oe)&&(Oe.nonNullable||Oe.initialValueIsDefault)&&(this.defaultValue=gs(Ve)?Ve.value:Ve)}setValue(Ve,Oe={}){this.value=this._pendingValue=Ve,this._onChange.length&&!1!==Oe.emitModelToViewChange&&this._onChange.forEach(ct=>ct(this.value,!1!==Oe.emitViewToModelChange)),this.updateValueAndValidity(Oe)}patchValue(Ve,Oe={}){this.setValue(Ve,Oe)}reset(Ve=this.defaultValue,Oe={}){this._applyFormState(Ve),this.markAsPristine(Oe),this.markAsUntouched(Oe),this.setValue(this.value,Oe),this._pendingChange=!1}_updateValue(){}_anyControls(Ve){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ve){this._onChange.push(Ve)}_unregisterOnChange(Ve){hs(this._onChange,Ve)}registerOnDisabledChange(Ve){this._onDisabledChange.push(Ve)}_unregisterOnDisabledChange(Ve){hs(this._onDisabledChange,Ve)}_forEachChild(Ve){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ve){gs(Ve)?(this.value=this._pendingValue=Ve.value,Ve.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ve}},Ji=Ss;let Ft=(()=>{class xe extends Re{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ns(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,features:[i.Vt3]})}}return xe})();const Ue={provide:Re,useExisting:(0,i.Rfq)(()=>ht)};let ht=(()=>{class xe extends Ft{constructor(Oe,ct,Ht){super(),this.name="",this._parent=Oe,this._setValidators(ct),this._setAsyncValidators(Ht)}_checkParentType(){}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(Re,5),i.rXU(O,10),i.rXU(L,10))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","ngModelGroup",""]],inputs:{name:[0,"ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Jv_([Ue]),i.Vt3]})}}return xe})();const Ut={provide:nt,useExisting:(0,i.Rfq)(()=>un)},pn=Promise.resolve();let un=(()=>{class xe extends nt{constructor(Oe,ct,Ht,gi,rs,Pr){super(),this._changeDetectorRef=rs,this.callSetDisabledState=Pr,this.control=new Ss,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=Oe,this._setValidators(ct),this._setAsyncValidators(Ht),this.valueAccessor=Nn(0,gi)}ngOnChanges(Oe){if(this._checkForErrors(),!this._registered||"name"in Oe){if(this._registered&&(this._checkName(),this.formDirective)){const ct=Oe.name.previousValue;this.formDirective.removeControl({name:ct,path:this._getPath(ct)})}this._setUpControl()}"isDisabled"in Oe&&this._updateDisabled(Oe),Yt(Oe,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Oe){this.viewModel=Oe,this.update.emit(Oe)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){is(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Oe){pn.then(()=>{this.control.setValue(Oe,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Oe){const ct=Oe.isDisabled.currentValue,Ht=0!==ct&&(0,i.L39)(ct);pn.then(()=>{Ht&&!this.control.disabled?this.control.disable():!Ht&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Oe){return this._parent?ns(Oe,this._parent):[Oe]}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(Re,9),i.rXU(O,10),i.rXU(L,10),i.rXU(E,10),i.rXU(i.gRc,8),i.rXU(oi,8))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([Ut]),i.Vt3,i.OA$]})}}return xe})(),jn=(()=>{class xe{static{this.\u0275fac=function(ct){return new(ct||xe)}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return xe})();const Zn={provide:E,useExisting:(0,i.Rfq)(()=>wi),multi:!0};let wi=(()=>{class xe extends v{writeValue(Oe){this.setProperty("value",Oe??"")}registerOnChange(Oe){this.onChange=ct=>{Oe(""==ct?null:parseFloat(ct))}}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ct,Ht){1&ct&&i.bIt("input",function(rs){return Ht.onChange(rs.target.value)})("blur",function(){return Ht.onTouched()})},features:[i.Jv_([Zn]),i.Vt3]})}}return xe})();const _s={provide:E,useExisting:(0,i.Rfq)(()=>jo),multi:!0};let pr=(()=>{class xe{constructor(){this._accessors=[]}add(Oe,ct){this._accessors.push([Oe,ct])}remove(Oe){for(let ct=this._accessors.length-1;ct>=0;--ct)if(this._accessors[ct][1]===Oe)return void this._accessors.splice(ct,1)}select(Oe){this._accessors.forEach(ct=>{this._isSameGroup(ct,Oe)&&ct[1]!==Oe&&ct[1].fireUncheck(Oe.value)})}_isSameGroup(Oe,ct){return!!Oe[0].control&&Oe[0]._parent===ct._control._parent&&Oe[1].name===ct.name}static{this.\u0275fac=function(ct){return new(ct||xe)}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})(),jo=(()=>{class xe extends v{constructor(Oe,ct,Ht,gi){super(Oe,ct),this._registry=Ht,this._injector=gi,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(oi,{optional:!0})??ai}ngOnInit(){this._control=this._injector.get(nt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(Oe){this._state=Oe===this.value,this.setProperty("checked",this._state)}registerOnChange(Oe){this._fn=Oe,this.onChange=()=>{Oe(this.value),this._registry.select(this)}}setDisabledState(Oe){(this.setDisabledStateFired||Oe||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",Oe),this.setDisabledStateFired=!0}fireUncheck(Oe){this.writeValue(Oe)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(pr),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ct,Ht){1&ct&&i.bIt("change",function(){return Ht.onChange()})("blur",function(){return Ht.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([_s]),i.Vt3]})}}return xe})();const tr=new i.nKC(""),Cr={provide:nt,useExisting:(0,i.Rfq)(()=>Sr)};let Sr=(()=>{class xe extends nt{set isDisabled(Oe){}static{this._ngModelWarningSentOnce=!1}constructor(Oe,ct,Ht,gi,rs){super(),this._ngModelWarningConfig=gi,this.callSetDisabledState=rs,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(Oe),this._setAsyncValidators(ct),this.valueAccessor=Nn(0,Ht)}ngOnChanges(Oe){if(this._isControlChanged(Oe)){const ct=Oe.form.previousValue;ct&&si(ct,this,!1),is(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Yt(Oe,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&si(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Oe){this.viewModel=Oe,this.update.emit(Oe)}_isControlChanged(Oe){return Oe.hasOwnProperty("form")}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(O,10),i.rXU(L,10),i.rXU(E,10),i.rXU(tr,8),i.rXU(oi,8))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([Cr]),i.Vt3,i.OA$]})}}return xe})();const oa={provide:Re,useExisting:(0,i.Rfq)(()=>fr)};let fr=(()=>{class xe extends Re{get submitted(){return(0,i.O8t)(this._submittedReactive)}set submitted(Oe){this._submittedReactive.set(Oe)}constructor(Oe,ct,Ht){super(),this.callSetDisabledState=Ht,this._submitted=(0,i.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,i.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(Oe),this._setAsyncValidators(ct)}ngOnChanges(Oe){this._checkFormPresent(),Oe.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Oe){const ct=this.form.get(Oe.path);return is(ct,Oe,this.callSetDisabledState),ct.updateValueAndValidity({emitEvent:!1}),this.directives.push(Oe),ct}getControl(Oe){return this.form.get(Oe.path)}removeControl(Oe){si(Oe.control||null,Oe,!1),function Qn(xe,Ve){const Oe=xe.indexOf(Ve);Oe>-1&&xe.splice(Oe,1)}(this.directives,Oe)}addFormGroup(Oe){this._setUpFormContainer(Oe)}removeFormGroup(Oe){this._cleanUpFormContainer(Oe)}getFormGroup(Oe){return this.form.get(Oe.path)}addFormArray(Oe){this._setUpFormContainer(Oe)}removeFormArray(Oe){this._cleanUpFormContainer(Oe)}getFormArray(Oe){return this.form.get(Oe.path)}updateModel(Oe,ct){this.form.get(Oe.path).setValue(ct)}onSubmit(Oe){return this._submittedReactive.set(!0),On(this.form,this.directives),this.ngSubmit.emit(Oe),this.form._events.next(new lt(this.control)),"dialog"===Oe?.target?.method}onReset(){this.resetForm()}resetForm(Oe=void 0){this.form.reset(Oe),this._submittedReactive.set(!1),this.form._events.next(new Vt(this.form))}_updateDomValue(){this.directives.forEach(Oe=>{const ct=Oe.control,Ht=this.form.get(Oe.path);ct!==Ht&&(si(ct||null,Oe),(xe=>xe instanceof Ss)(Ht)&&(is(Ht,Oe,this.callSetDisabledState),Oe.control=Ht))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Oe){const ct=this.form.get(Oe.path);Zt(ct,Oe),ct.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Oe){if(this.form){const ct=this.form.get(Oe.path);ct&&function Ii(xe,Ve){return fi(xe,Ve)}(ct,Oe)&&ct.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gn(this.form,this),this._oldForm&&fi(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(O,10),i.rXU(L,10),i.rXU(oi,8))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formGroup",""]],hostBindings:function(ct,Ht){1&ct&&i.bIt("submit",function(rs){return Ht.onSubmit(rs)})("reset",function(){return Ht.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([oa]),i.Vt3,i.OA$]})}}return xe})();const Xr={provide:Re,useExisting:(0,i.Rfq)(()=>ko)};let ko=(()=>{class xe extends Ft{constructor(Oe,ct,Ht){super(),this.name=null,this._parent=Oe,this._setValidators(ct),this._setAsyncValidators(Ht)}_checkParentType(){Sa(this._parent)}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(Re,13),i.rXU(O,10),i.rXU(L,10))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[i.Jv_([Xr]),i.Vt3]})}}return xe})();const ra={provide:Re,useExisting:(0,i.Rfq)(()=>Co)};let Co=(()=>{class xe extends Re{constructor(Oe,ct,Ht){super(),this.name=null,this._parent=Oe,this._setValidators(ct),this._setAsyncValidators(Ht)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ns(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Sa(this._parent)}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(Re,13),i.rXU(O,10),i.rXU(L,10))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[i.Jv_([ra]),i.Vt3]})}}return xe})();function Sa(xe){return!(xe instanceof ko||xe instanceof fr||xe instanceof Co)}const Ei={provide:nt,useExisting:(0,i.Rfq)(()=>Lr)};let Lr=(()=>{class xe extends nt{set isDisabled(Oe){}static{this._ngModelWarningSentOnce=!1}constructor(Oe,ct,Ht,gi,rs){super(),this._ngModelWarningConfig=rs,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=Oe,this._setValidators(ct),this._setAsyncValidators(Ht),this.valueAccessor=Nn(0,gi)}ngOnChanges(Oe){this._added||this._setUpControl(),Yt(Oe,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Oe){this.viewModel=Oe,this.update.emit(Oe)}get path(){return ns(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(Re,13),i.rXU(O,10),i.rXU(L,10),i.rXU(E,10),i.rXU(tr,8))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([Ei]),i.Vt3,i.OA$]})}}return xe})();const aa={provide:E,useExisting:(0,i.Rfq)(()=>Ia),multi:!0};function Ir(xe,Ve){return null==xe?`${Ve}`:(Ve&&"object"==typeof Ve&&(Ve="Object"),`${xe}: ${Ve}`.slice(0,50))}let Ia=(()=>{class xe extends v{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Oe){this._compareWith=Oe}writeValue(Oe){this.value=Oe;const Ht=Ir(this._getOptionId(Oe),Oe);this.setProperty("value",Ht)}registerOnChange(Oe){this.onChange=ct=>{this.value=this._getOptionValue(ct),Oe(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(Oe){for(const ct of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ct),Oe))return ct;return null}_getOptionValue(Oe){const ct=function Wa(xe){return xe.split(":")[0]}(Oe);return this._optionMap.has(ct)?this._optionMap.get(ct):Oe}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ct,Ht){1&ct&&i.bIt("change",function(rs){return Ht.onChange(rs.target.value)})("blur",function(){return Ht.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([aa]),i.Vt3]})}}return xe})(),Pa=(()=>{class xe{constructor(Oe,ct,Ht){this._element=Oe,this._renderer=ct,this._select=Ht,this._select&&(this.id=this._select._registerOption())}set ngValue(Oe){null!=this._select&&(this._select._optionMap.set(this.id,Oe),this._setElementValue(Ir(this.id,Oe)),this._select.writeValue(this._select.value))}set value(Oe){this._setElementValue(Oe),this._select&&this._select.writeValue(this._select.value)}_setElementValue(Oe){this._renderer.setProperty(this._element.nativeElement,"value",Oe)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Ia,9))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return xe})();const Ga={provide:E,useExisting:(0,i.Rfq)(()=>ot),multi:!0};function la(xe,Ve){return null==xe?`${Ve}`:("string"==typeof Ve&&(Ve=`'${Ve}'`),Ve&&"object"==typeof Ve&&(Ve="Object"),`${xe}: ${Ve}`.slice(0,50))}let ot=(()=>{class xe extends v{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Oe){this._compareWith=Oe}writeValue(Oe){let ct;if(this.value=Oe,Array.isArray(Oe)){const Ht=Oe.map(gi=>this._getOptionId(gi));ct=(gi,rs)=>{gi._setSelected(Ht.indexOf(rs.toString())>-1)}}else ct=(Ht,gi)=>{Ht._setSelected(!1)};this._optionMap.forEach(ct)}registerOnChange(Oe){this.onChange=ct=>{const Ht=[],gi=ct.selectedOptions;if(void 0!==gi){const rs=gi;for(let Pr=0;Pr<rs.length;Pr++){const Tl=this._getOptionValue(rs[Pr].value);Ht.push(Tl)}}else{const rs=ct.options;for(let Pr=0;Pr<rs.length;Pr++){const Yo=rs[Pr];if(Yo.selected){const Tl=this._getOptionValue(Yo.value);Ht.push(Tl)}}}this.value=Ht,Oe(Ht)}}_registerOption(Oe){const ct=(this._idCounter++).toString();return this._optionMap.set(ct,Oe),ct}_getOptionId(Oe){for(const ct of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ct)._value,Oe))return ct;return null}_getOptionValue(Oe){const ct=function Ra(xe){return xe.split(":")[0]}(Oe);return this._optionMap.has(ct)?this._optionMap.get(ct)._value:Oe}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ct,Ht){1&ct&&i.bIt("change",function(rs){return Ht.onChange(rs.target)})("blur",function(){return Ht.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Ga]),i.Vt3]})}}return xe})(),ut=(()=>{class xe{constructor(Oe,ct,Ht){this._element=Oe,this._renderer=ct,this._select=Ht,this._select&&(this.id=this._select._registerOption(this))}set ngValue(Oe){null!=this._select&&(this._value=Oe,this._setElementValue(la(this.id,Oe)),this._select.writeValue(this._select.value))}set value(Oe){this._select?(this._value=Oe,this._setElementValue(la(this.id,Oe)),this._select.writeValue(this._select.value)):this._setElementValue(Oe)}_setElementValue(Oe){this._renderer.setProperty(this._element.nativeElement,"value",Oe)}_setSelected(Oe){this._renderer.setProperty(this._element.nativeElement,"selected",Oe)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ct){return new(ct||xe)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(ot,9))}}static{this.\u0275dir=i.FsC({type:xe,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return xe})();function jt(xe){return"number"==typeof xe?xe:parseInt(xe,10)}function Nt(xe){return"number"==typeof xe?xe:parseFloat(xe)}let Ln=(()=>{class xe{constructor(){this._validator=X}ngOnChanges(Oe){if(this.inputName in Oe){const ct=this.normalizeInput(Oe[this.inputName].currentValue);this._enabled=this.enabled(ct),this._validator=this._enabled?this.createValidator(ct):X,this._onChange&&this._onChange()}}validate(Oe){return this._validator(Oe)}registerOnValidatorChange(Oe){this._onChange=Oe}enabled(Oe){return null!=Oe}static{this.\u0275fac=function(ct){return new(ct||xe)}}static{this.\u0275dir=i.FsC({type:xe,features:[i.OA$]})}}return xe})();const hi={provide:O,useExisting:(0,i.Rfq)(()=>Li),multi:!0};let Li=(()=>{class xe extends Ln{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=Oe=>Nt(Oe),this.createValidator=Oe=>j(Oe)}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ct,Ht){2&ct&&i.BMQ("max",Ht._enabled?Ht.max:null)},inputs:{max:"max"},features:[i.Jv_([hi]),i.Vt3]})}}return xe})();const $i={provide:O,useExisting:(0,i.Rfq)(()=>Ci),multi:!0};let Ci=(()=>{class xe extends Ln{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=Oe=>Nt(Oe),this.createValidator=Oe=>N(Oe)}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ct,Ht){2&ct&&i.BMQ("min",Ht._enabled?Ht.min:null)},inputs:{min:"min"},features:[i.Jv_([$i]),i.Vt3]})}}return xe})();const Ls={provide:O,useExisting:(0,i.Rfq)(()=>Mo),multi:!0},qs={provide:O,useExisting:(0,i.Rfq)(()=>Qi),multi:!0};let Mo=(()=>{class xe extends Ln{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=Oe=>$}enabled(Oe){return Oe}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ct,Ht){2&ct&&i.BMQ("required",Ht._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([Ls]),i.Vt3]})}}return xe})(),Qi=(()=>{class xe extends Mo{constructor(){super(...arguments),this.createValidator=Oe=>k}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(ct,Ht){2&ct&&i.BMQ("required",Ht._enabled?"":null)},features:[i.Jv_([qs]),i.Vt3]})}}return xe})();const Vo={provide:O,useExisting:(0,i.Rfq)(()=>ca),multi:!0};let ca=(()=>{class xe extends Ln{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=Oe=>jt(Oe),this.createValidator=Oe=>z(Oe)}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ct,Ht){2&ct&&i.BMQ("minlength",Ht._enabled?Ht.minlength:null)},inputs:{minlength:"minlength"},features:[i.Jv_([Vo]),i.Vt3]})}}return xe})();const Io={provide:O,useExisting:(0,i.Rfq)(()=>os),multi:!0};let os=(()=>{class xe extends Ln{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=Oe=>jt(Oe),this.createValidator=Oe=>V(Oe)}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(ct,Ht){2&ct&&i.BMQ("maxlength",Ht._enabled?Ht.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Jv_([Io]),i.Vt3]})}}return xe})();const Po={provide:O,useExisting:(0,i.Rfq)(()=>gr),multi:!0};let gr=(()=>{class xe extends Ln{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=Oe=>Oe,this.createValidator=Oe=>G(Oe)}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275dir=i.FsC({type:xe,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(ct,Ht){2&ct&&i.BMQ("pattern",Ht._enabled?Ht.pattern:null)},inputs:{pattern:"pattern"},features:[i.Jv_([Po]),i.Vt3]})}}return xe})(),Nr=(()=>{class xe{static{this.\u0275fac=function(ct){return new(ct||xe)}}static{this.\u0275mod=i.$C({type:xe})}static{this.\u0275inj=i.G2t({})}}return xe})();class lr extends $n{constructor(Ve,Oe,ct){super(fn(Oe),tn(ct,Oe)),this.controls=Ve,this._initObservables(),this._setUpdateStrategy(Oe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ve){return this.controls[this._adjustIndex(Ve)]}push(Ve,Oe={}){this.controls.push(Ve),this._registerControl(Ve),this.updateValueAndValidity({emitEvent:Oe.emitEvent}),this._onCollectionChange()}insert(Ve,Oe,ct={}){this.controls.splice(Ve,0,Oe),this._registerControl(Oe),this.updateValueAndValidity({emitEvent:ct.emitEvent})}removeAt(Ve,Oe={}){let ct=this._adjustIndex(Ve);ct<0&&(ct=0),this.controls[ct]&&this.controls[ct]._registerOnCollectionChange(()=>{}),this.controls.splice(ct,1),this.updateValueAndValidity({emitEvent:Oe.emitEvent})}setControl(Ve,Oe,ct={}){let Ht=this._adjustIndex(Ve);Ht<0&&(Ht=0),this.controls[Ht]&&this.controls[Ht]._registerOnCollectionChange(()=>{}),this.controls.splice(Ht,1),Oe&&(this.controls.splice(Ht,0,Oe),this._registerControl(Oe)),this.updateValueAndValidity({emitEvent:ct.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ve,Oe={}){Sn(this,0,Ve),Ve.forEach((ct,Ht)=>{Rt(this,!1,Ht),this.at(Ht).setValue(ct,{onlySelf:!0,emitEvent:Oe.emitEvent})}),this.updateValueAndValidity(Oe)}patchValue(Ve,Oe={}){null!=Ve&&(Ve.forEach((ct,Ht)=>{this.at(Ht)&&this.at(Ht).patchValue(ct,{onlySelf:!0,emitEvent:Oe.emitEvent})}),this.updateValueAndValidity(Oe))}reset(Ve=[],Oe={}){this._forEachChild((ct,Ht)=>{ct.reset(Ve[Ht],{onlySelf:!0,emitEvent:Oe.emitEvent})}),this._updatePristine(Oe,this),this._updateTouched(Oe,this),this.updateValueAndValidity(Oe)}getRawValue(){return this.controls.map(Ve=>Ve.getRawValue())}clear(Ve={}){this.controls.length<1||(this._forEachChild(Oe=>Oe._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ve.emitEvent}))}_adjustIndex(Ve){return Ve<0?Ve+this.length:Ve}_syncPendingControls(){let Ve=this.controls.reduce((Oe,ct)=>!!ct._syncPendingControls()||Oe,!1);return Ve&&this.updateValueAndValidity({onlySelf:!0}),Ve}_forEachChild(Ve){this.controls.forEach((Oe,ct)=>{Ve(Oe,ct)})}_updateValue(){this.value=this.controls.filter(Ve=>Ve.enabled||this.disabled).map(Ve=>Ve.value)}_anyControls(Ve){return this.controls.some(Oe=>Oe.enabled&&Ve(Oe))}_setUpControls(){this._forEachChild(Ve=>this._registerControl(Ve))}_allControlsDisabled(){for(const Ve of this.controls)if(Ve.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ve){Ve.setParent(this),Ve._registerOnCollectionChange(this._onCollectionChange)}_find(Ve){return this.at(Ve)??null}}const ol=lr;function St(xe){return!!xe&&(void 0!==xe.asyncValidators||void 0!==xe.validators||void 0!==xe.updateOn)}let qt=(()=>{class xe{constructor(){this.useNonNullable=!1}get nonNullable(){const Oe=new xe;return Oe.useNonNullable=!0,Oe}group(Oe,ct=null){const Ht=this._reduceControls(Oe);let gi={};return St(ct)?gi=ct:null!==ct&&(gi.validators=ct.validator,gi.asyncValidators=ct.asyncValidator),new Di(Ht,gi)}record(Oe,ct=null){const Ht=this._reduceControls(Oe);return new Tn(Ht,ct)}control(Oe,ct,Ht){let gi={};return this.useNonNullable?(St(ct)?gi=ct:(gi.validators=ct,gi.asyncValidators=Ht),new Ss(Oe,{...gi,nonNullable:!0})):new Ss(Oe,ct,Ht)}array(Oe,ct,Ht){const gi=Oe.map(rs=>this._createControl(rs));return new lr(gi,ct,Ht)}_reduceControls(Oe){const ct={};return Object.keys(Oe).forEach(Ht=>{ct[Ht]=this._createControl(Oe[Ht])}),ct}_createControl(Oe){return Oe instanceof Ss||Oe instanceof $n?Oe:Array.isArray(Oe)?this.control(Oe[0],Oe.length>1?Oe[1]:null,Oe.length>2?Oe[2]:null):this.control(Oe)}static{this.\u0275fac=function(ct){return new(ct||xe)}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})(),Ye=(()=>{class xe extends qt{group(Oe,ct=null){return super.group(Oe,ct)}control(Oe,ct,Ht){return super.control(Oe,ct,Ht)}array(Oe,ct,Ht){return super.array(Oe,ct,Ht)}static{this.\u0275fac=(()=>{let Oe;return function(Ht){return(Oe||(Oe=i.xGo(xe)))(Ht||xe)}})()}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})(),nn=(()=>{class xe{static withConfig(Oe){return{ngModule:xe,providers:[{provide:oi,useValue:Oe.callSetDisabledState??ai}]}}static{this.\u0275fac=function(ct){return new(ct||xe)}}static{this.\u0275mod=i.$C({type:xe})}static{this.\u0275inj=i.G2t({imports:[Nr]})}}return xe})(),Bn=(()=>{class xe{static withConfig(Oe){return{ngModule:xe,providers:[{provide:tr,useValue:Oe.warnOnNgModelWithFormControl??"always"},{provide:oi,useValue:Oe.callSetDisabledState??ai}]}}static{this.\u0275fac=function(ct){return new(ct||xe)}}static{this.\u0275mod=i.$C({type:xe})}static{this.\u0275inj=i.G2t({imports:[Nr]})}}return xe})()},345:(B,C,n)=>{"use strict";n.d(C,{$x:()=>Gt,B7:()=>K,B8:()=>Z,EZ:()=>Ct,W8:()=>at,hE:()=>Te,kQ:()=>hn,up:()=>mt});var i=n(60177),t=n(54438),c=n(21626);class e extends i.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class p extends e{static makeCurrent(){(0,i.ZD)(new p)}onAndCancel(Le,ze,lt){return Le.addEventListener(ze,lt),()=>{Le.removeEventListener(ze,lt)}}dispatchEvent(Le,ze){Le.dispatchEvent(ze)}remove(Le){Le.remove()}createElement(Le,ze){return(ze=ze||this.getDefaultDocument()).createElement(Le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Le){return Le.nodeType===Node.ELEMENT_NODE}isShadowRoot(Le){return Le instanceof DocumentFragment}getGlobalEventTarget(Le,ze){return"window"===ze?window:"document"===ze?Le:"body"===ze?Le.body:null}getBaseHref(Le){const ze=function f(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==ze?null:function v(ke){return new URL(ke,document.baseURI).pathname}(ze)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(Le){return(0,i._b)(document.cookie,Le)}}let m=null,y=(()=>{class ke{build(){return new XMLHttpRequest}static{this.\u0275fac=function(lt){return new(lt||ke)}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();const M=new t.nKC("");let b=(()=>{class ke{constructor(ze,lt){this._zone=lt,this._eventNameToPlugin=new Map,ze.forEach(Vt=>{Vt.manager=this}),this._plugins=ze.slice().reverse()}addEventListener(ze,lt,Vt){return this._findPluginFor(lt).addEventListener(ze,lt,Vt)}getZone(){return this._zone}_findPluginFor(ze){let lt=this._eventNameToPlugin.get(ze);if(lt)return lt;if(lt=this._plugins.find(fn=>fn.supports(ze)),!lt)throw new t.wOt(5101,!1);return this._eventNameToPlugin.set(ze,lt),lt}static{this.\u0275fac=function(lt){return new(lt||ke)(t.KVO(M),t.KVO(t.SKi))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();class P{constructor(Le){this._doc=Le}}const D="ng-app-id";let I=(()=>{class ke{constructor(ze,lt,Vt,fn={}){this.doc=ze,this.appId=lt,this.nonce=Vt,this.platformId=fn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,i.Vy)(fn),this.resetHostNodes()}addStyles(ze){for(const lt of ze)1===this.changeUsageCount(lt,1)&&this.onStyleAdded(lt)}removeStyles(ze){for(const lt of ze)this.changeUsageCount(lt,-1)<=0&&this.onStyleRemoved(lt)}ngOnDestroy(){const ze=this.styleNodesInDOM;ze&&(ze.forEach(lt=>lt.remove()),ze.clear());for(const lt of this.getAllStyles())this.onStyleRemoved(lt);this.resetHostNodes()}addHost(ze){this.hostNodes.add(ze);for(const lt of this.getAllStyles())this.addStyleToHost(ze,lt)}removeHost(ze){this.hostNodes.delete(ze)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ze){for(const lt of this.hostNodes)this.addStyleToHost(lt,ze)}onStyleRemoved(ze){const lt=this.styleRef;lt.get(ze)?.elements?.forEach(Vt=>Vt.remove()),lt.delete(ze)}collectServerRenderedStyles(){const ze=this.doc.head?.querySelectorAll(`style[${D}="${this.appId}"]`);if(ze?.length){const lt=new Map;return ze.forEach(Vt=>{null!=Vt.textContent&&lt.set(Vt.textContent,Vt)}),lt}return null}changeUsageCount(ze,lt){const Vt=this.styleRef;if(Vt.has(ze)){const fn=Vt.get(ze);return fn.usage+=lt,fn.usage}return Vt.set(ze,{usage:lt,elements:[]}),lt}getStyleElement(ze,lt){const Vt=this.styleNodesInDOM,fn=Vt?.get(lt);if(fn?.parentNode===ze)return Vt.delete(lt),fn.removeAttribute(D),fn;{const At=this.doc.createElement("style");return this.nonce&&At.setAttribute("nonce",this.nonce),At.textContent=lt,this.platformIsServer&&At.setAttribute(D,this.appId),ze.appendChild(At),At}}addStyleToHost(ze,lt){const Vt=this.getStyleElement(ze,lt),fn=this.styleRef,At=fn.get(lt)?.elements;At?At.push(Vt):fn.set(lt,{elements:[Vt],usage:1})}resetHostNodes(){const ze=this.hostNodes;ze.clear(),ze.add(this.doc.head)}static{this.\u0275fac=function(lt){return new(lt||ke)(t.KVO(i.qQ),t.KVO(t.sZ2),t.KVO(t.BIS,8),t.KVO(t.Agw))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();const h={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},S=/%COMP%/g,O="%COMP%",L=`_nghost-${O}`,T=`_ngcontent-${O}`,N=new t.nKC("",{providedIn:"root",factory:()=>!0});function k(ke,Le){return Le.map(ze=>ze.replace(S,ke))}let K=(()=>{class ke{constructor(ze,lt,Vt,fn,At,tn,dt,Lt=null){this.eventManager=ze,this.sharedStylesHost=lt,this.appId=Vt,this.removeStylesOnCompDestroy=fn,this.doc=At,this.platformId=tn,this.ngZone=dt,this.nonce=Lt,this.rendererByCompId=new Map,this.platformIsServer=(0,i.Vy)(tn),this.defaultRenderer=new z(ze,At,dt,this.platformIsServer)}createRenderer(ze,lt){if(!ze||!lt)return this.defaultRenderer;this.platformIsServer&&lt.encapsulation===t.gXe.ShadowDom&&(lt={...lt,encapsulation:t.gXe.Emulated});const Vt=this.getOrCreateRenderer(ze,lt);return Vt instanceof ie?Vt.applyToHost(ze):Vt instanceof ee&&Vt.applyStyles(),Vt}getOrCreateRenderer(ze,lt){const Vt=this.rendererByCompId;let fn=Vt.get(lt.id);if(!fn){const At=this.doc,tn=this.ngZone,dt=this.eventManager,Lt=this.sharedStylesHost,Rt=this.removeStylesOnCompDestroy,Sn=this.platformIsServer;switch(lt.encapsulation){case t.gXe.Emulated:fn=new ie(dt,Lt,lt,this.appId,Rt,At,tn,Sn);break;case t.gXe.ShadowDom:return new Q(dt,Lt,ze,lt,At,tn,this.nonce,Sn);default:fn=new ee(dt,Lt,lt,Rt,At,tn,Sn)}Vt.set(lt.id,fn)}return fn}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(lt){return new(lt||ke)(t.KVO(b),t.KVO(I),t.KVO(t.sZ2),t.KVO(N),t.KVO(i.qQ),t.KVO(t.Agw),t.KVO(t.SKi),t.KVO(t.BIS))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();class z{constructor(Le,ze,lt,Vt){this.eventManager=Le,this.doc=ze,this.ngZone=lt,this.platformIsServer=Vt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Le,ze){return ze?this.doc.createElementNS(h[ze]||ze,Le):this.doc.createElement(Le)}createComment(Le){return this.doc.createComment(Le)}createText(Le){return this.doc.createTextNode(Le)}appendChild(Le,ze){(X(Le)?Le.content:Le).appendChild(ze)}insertBefore(Le,ze,lt){Le&&(X(Le)?Le.content:Le).insertBefore(ze,lt)}removeChild(Le,ze){ze.remove()}selectRootElement(Le,ze){let lt="string"==typeof Le?this.doc.querySelector(Le):Le;if(!lt)throw new t.wOt(-5104,!1);return ze||(lt.textContent=""),lt}parentNode(Le){return Le.parentNode}nextSibling(Le){return Le.nextSibling}setAttribute(Le,ze,lt,Vt){if(Vt){ze=Vt+":"+ze;const fn=h[Vt];fn?Le.setAttributeNS(fn,ze,lt):Le.setAttribute(ze,lt)}else Le.setAttribute(ze,lt)}removeAttribute(Le,ze,lt){if(lt){const Vt=h[lt];Vt?Le.removeAttributeNS(Vt,ze):Le.removeAttribute(`${lt}:${ze}`)}else Le.removeAttribute(ze)}addClass(Le,ze){Le.classList.add(ze)}removeClass(Le,ze){Le.classList.remove(ze)}setStyle(Le,ze,lt,Vt){Vt&(t.czy.DashCase|t.czy.Important)?Le.style.setProperty(ze,lt,Vt&t.czy.Important?"important":""):Le.style[ze]=lt}removeStyle(Le,ze,lt){lt&t.czy.DashCase?Le.style.removeProperty(ze):Le.style[ze]=""}setProperty(Le,ze,lt){null!=Le&&(Le[ze]=lt)}setValue(Le,ze){Le.nodeValue=ze}listen(Le,ze,lt){if("string"==typeof Le&&!(Le=(0,i.QT)().getGlobalEventTarget(this.doc,Le)))throw new Error(`Unsupported event target ${Le} for event ${ze}`);return this.eventManager.addEventListener(Le,ze,this.decoratePreventDefault(lt))}decoratePreventDefault(Le){return ze=>{if("__ngUnwrap__"===ze)return Le;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Le(ze)):Le(ze))&&ze.preventDefault()}}}function X(ke){return"TEMPLATE"===ke.tagName&&void 0!==ke.content}class Q extends z{constructor(Le,ze,lt,Vt,fn,At,tn,dt){super(Le,fn,At,dt),this.sharedStylesHost=ze,this.hostEl=lt,this.shadowRoot=lt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=k(Vt.id,Vt.styles);for(const Rt of Lt){const Sn=document.createElement("style");tn&&Sn.setAttribute("nonce",tn),Sn.textContent=Rt,this.shadowRoot.appendChild(Sn)}}nodeOrShadowRoot(Le){return Le===this.hostEl?this.shadowRoot:Le}appendChild(Le,ze){return super.appendChild(this.nodeOrShadowRoot(Le),ze)}insertBefore(Le,ze,lt){return super.insertBefore(this.nodeOrShadowRoot(Le),ze,lt)}removeChild(Le,ze){return super.removeChild(null,ze)}parentNode(Le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Le)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ee extends z{constructor(Le,ze,lt,Vt,fn,At,tn,dt){super(Le,fn,At,tn),this.sharedStylesHost=ze,this.removeStylesOnCompDestroy=Vt,this.styles=dt?k(dt,lt.styles):lt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ie extends ee{constructor(Le,ze,lt,Vt,fn,At,tn,dt){const Lt=Vt+"-"+lt.id;super(Le,ze,lt,fn,At,tn,dt,Lt),this.contentAttr=function j(ke){return T.replace(S,ke)}(Lt),this.hostAttr=function $(ke){return L.replace(S,ke)}(Lt)}applyToHost(Le){this.applyStyles(),this.setAttribute(Le,this.hostAttr,"")}createElement(Le,ze){const lt=super.createElement(Le,ze);return super.setAttribute(lt,this.contentAttr,""),lt}}let te=(()=>{class ke extends P{constructor(ze){super(ze)}supports(ze){return!0}addEventListener(ze,lt,Vt){return ze.addEventListener(lt,Vt,!1),()=>this.removeEventListener(ze,lt,Vt)}removeEventListener(ze,lt,Vt){return ze.removeEventListener(lt,Vt)}static{this.\u0275fac=function(lt){return new(lt||ke)(t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();const he=["alt","control","meta","shift"],ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},re={alt:ke=>ke.altKey,control:ke=>ke.ctrlKey,meta:ke=>ke.metaKey,shift:ke=>ke.shiftKey};let ce=(()=>{class ke extends P{constructor(ze){super(ze)}supports(ze){return null!=ke.parseEventName(ze)}addEventListener(ze,lt,Vt){const fn=ke.parseEventName(lt),At=ke.eventCallback(fn.fullKey,Vt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,i.QT)().onAndCancel(ze,fn.domEventName,At))}static parseEventName(ze){const lt=ze.toLowerCase().split("."),Vt=lt.shift();if(0===lt.length||"keydown"!==Vt&&"keyup"!==Vt)return null;const fn=ke._normalizeKey(lt.pop());let At="",tn=lt.indexOf("code");if(tn>-1&&(lt.splice(tn,1),At="code."),he.forEach(Lt=>{const Rt=lt.indexOf(Lt);Rt>-1&&(lt.splice(Rt,1),At+=Lt+".")}),At+=fn,0!=lt.length||0===fn.length)return null;const dt={};return dt.domEventName=Vt,dt.fullKey=At,dt}static matchEventFullKeyCode(ze,lt){let Vt=ye[ze.key]||ze.key,fn="";return lt.indexOf("code.")>-1&&(Vt=ze.code,fn="code."),!(null==Vt||!Vt)&&(Vt=Vt.toLowerCase()," "===Vt?Vt="space":"."===Vt&&(Vt="dot"),he.forEach(At=>{At!==Vt&&(0,re[At])(ze)&&(fn+=At+".")}),fn+=Vt,fn===lt)}static eventCallback(ze,lt,Vt){return fn=>{ke.matchEventFullKeyCode(fn,ze)&&Vt.runGuarded(()=>lt(fn))}}static _normalizeKey(ze){return"esc"===ze?"escape":ze}static{this.\u0275fac=function(lt){return new(lt||ke)(t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})();function Z(ke,Le){return(0,t.TL3)({rootComponent:ke,...fe(Le)})}function fe(ke){return{appProviders:[...nt,...ke?.providers??[]],platformProviders:_e}}const _e=[{provide:t.Agw,useValue:i.AJ},{provide:t.PLl,useValue:function oe(){p.makeCurrent()},multi:!0},{provide:i.qQ,useFactory:function ve(){return(0,t.TL$)(document),document},deps:[]}],nt=[{provide:t.H8p,useValue:"root"},{provide:t.zcH,useFactory:function J(){return new t.zcH},deps:[]},{provide:M,useClass:te,multi:!0,deps:[i.qQ,t.SKi,t.Agw]},{provide:M,useClass:ce,multi:!0,deps:[i.qQ]},K,I,b,{provide:t._9s,useExisting:K},{provide:i.N0,useClass:y,deps:[]},[]];let at=(()=>{class ke{constructor(ze){this._doc=ze,this._dom=(0,i.QT)()}addTag(ze,lt=!1){return ze?this._getOrCreateElement(ze,lt):null}addTags(ze,lt=!1){return ze?ze.reduce((Vt,fn)=>(fn&&Vt.push(this._getOrCreateElement(fn,lt)),Vt),[]):[]}getTag(ze){return ze&&this._doc.querySelector(`meta[${ze}]`)||null}getTags(ze){if(!ze)return[];const lt=this._doc.querySelectorAll(`meta[${ze}]`);return lt?[].slice.call(lt):[]}updateTag(ze,lt){if(!ze)return null;lt=lt||this._parseSelector(ze);const Vt=this.getTag(lt);return Vt?this._setMetaElementAttributes(ze,Vt):this._getOrCreateElement(ze,!0)}removeTag(ze){this.removeTagElement(this.getTag(ze))}removeTagElement(ze){ze&&this._dom.remove(ze)}_getOrCreateElement(ze,lt=!1){if(!lt){const At=this._parseSelector(ze),tn=this.getTags(At).filter(dt=>this._containsAttributes(ze,dt))[0];if(void 0!==tn)return tn}const Vt=this._dom.createElement("meta");return this._setMetaElementAttributes(ze,Vt),this._doc.getElementsByTagName("head")[0].appendChild(Vt),Vt}_setMetaElementAttributes(ze,lt){return Object.keys(ze).forEach(Vt=>lt.setAttribute(this._getMetaKeyMap(Vt),ze[Vt])),lt}_parseSelector(ze){const lt=ze.name?"name":"property";return`${lt}="${ze[lt]}"`}_containsAttributes(ze,lt){return Object.keys(ze).every(Vt=>lt.getAttribute(this._getMetaKeyMap(Vt))===ze[Vt])}_getMetaKeyMap(ze){return Ke[ze]||ze}static{this.\u0275fac=function(lt){return new(lt||ke)(t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();const Ke={httpEquiv:"http-equiv"};let Te=(()=>{class ke{constructor(ze){this._doc=ze}getTitle(){return this._doc.title}setTitle(ze){this._doc.title=ze||""}static{this.\u0275fac=function(lt){return new(lt||ke)(t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();const hn=new t.nKC("HammerGestureConfig");let Ct=(()=>{class ke{constructor(){this.events=[],this.overrides={}}buildHammer(ze){const lt=new Hammer(ze,this.options);lt.get("pinch").set({enable:!0}),lt.get("rotate").set({enable:!0});for(const Vt in this.overrides)lt.get(Vt).set(this.overrides[Vt]);return lt}static{this.\u0275fac=function(lt){return new(lt||ke)}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac})}}return ke})(),mt=(()=>{class ke{static{this.\u0275fac=function(lt){return new(lt||ke)}}static{this.\u0275prov=t.jDH({token:ke,factory:function(lt){let Vt=null;return Vt=lt?new(lt||ke):t.KVO(ln),Vt},providedIn:"root"})}}return ke})(),ln=(()=>{class ke extends mt{constructor(ze){super(),this._doc=ze}sanitize(ze,lt){if(null==lt)return null;switch(ze){case t.WPN.NONE:return lt;case t.WPN.HTML:return(0,t.ZF7)(lt,"HTML")?(0,t.rcV)(lt):(0,t.h9k)(this._doc,String(lt)).toString();case t.WPN.STYLE:return(0,t.ZF7)(lt,"Style")?(0,t.rcV)(lt):lt;case t.WPN.SCRIPT:if((0,t.ZF7)(lt,"Script"))return(0,t.rcV)(lt);throw new t.wOt(5200,!1);case t.WPN.URL:return(0,t.ZF7)(lt,"URL")?(0,t.rcV)(lt):(0,t.$MX)(String(lt));case t.WPN.RESOURCE_URL:if((0,t.ZF7)(lt,"ResourceURL"))return(0,t.rcV)(lt);throw new t.wOt(5201,!1);default:throw new t.wOt(5202,!1)}}bypassSecurityTrustHtml(ze){return(0,t.Kcf)(ze)}bypassSecurityTrustStyle(ze){return(0,t.cWb)(ze)}bypassSecurityTrustScript(ze){return(0,t.UyX)(ze)}bypassSecurityTrustUrl(ze){return(0,t.osQ)(ze)}bypassSecurityTrustResourceUrl(ze){return(0,t.e5t)(ze)}static{this.\u0275fac=function(lt){return new(lt||ke)(t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();var we=function(ke){return ke[ke.NoHttpTransferCache=0]="NoHttpTransferCache",ke[ke.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",ke[ke.I18nSupport=2]="I18nSupport",ke[ke.EventReplay=3]="EventReplay",ke}(we||{});function Gt(...ke){const Le=[],ze=new Set,lt=ze.has(we.HttpTransferCacheOptions);for(const{\u0275providers:Vt,\u0275kind:fn}of ke)ze.add(fn),Vt.length&&Le.push(Vt);return(0,t.EmA)([[],(0,t.M8M)(),ze.has(we.NoHttpTransferCache)||lt?[]:(0,c.$m)({}),Le])}},7901:(B,C,n)=>{"use strict";n.d(C,{Bx:()=>xi,D7:()=>ii,Ii:()=>Xa,Ix:()=>mi,L6:()=>Yt,OY:()=>Ji,Sn:()=>Rr,Wk:()=>Hs,Xk:()=>re,Xw:()=>Tt,Z:()=>Ii,Zy:()=>No,gx:()=>Jn,iI:()=>Pl,j5:()=>Xe,lG:()=>ha,ld:()=>Cn,lh:()=>to,n3:()=>Wa,nU:()=>hn,nX:()=>Xr,oH:()=>cs,wF:()=>Xt,wQ:()=>Bs});var i=n(54438),t=n(74402),c=n(22806),e=n(7673),p=n(84412),m=n(84572),f=n(9350),v=n(92688),E=n(59030),y=n(71203),M=n(18810),b=n(983),P=n(30017),D=n(21413),I=n(18359),h=n(60177),S=n(96354),O=n(25558),L=n(96697),T=n(99172),x=n(5964),N=n(73028),j=n(61594),$=n(70274),k=n(88141),K=n(99437),z=n(31943),V=n(39901),G=n(67018),X=n(55109),Q=n(73703),ee=n(70980),ie=n(99898),te=n(56977),he=n(26365),ye=n(345);const re="primary",ce=Symbol("RouteTitle");class Z{constructor(Se){this.params=Se||{}}has(Se){return Object.prototype.hasOwnProperty.call(this.params,Se)}get(Se){if(this.has(Se)){const de=this.params[Se];return Array.isArray(de)?de[0]:de}return null}getAll(Se){if(this.has(Se)){const de=this.params[Se];return Array.isArray(de)?de:[de]}return[]}get keys(){return Object.keys(this.params)}}function ne(le){return new Z(le)}function fe(le,Se,de){const Pe=de.path.split("/");if(Pe.length>le.length||"full"===de.pathMatch&&(Se.hasChildren()||Pe.length<le.length))return null;const Ze={};for(let yt=0;yt<Pe.length;yt++){const Kt=Pe[yt],xn=le[yt];if(":"===Kt[0])Ze[Kt.substring(1)]=xn;else if(Kt!==xn.path)return null}return{consumed:le.slice(0,Pe.length),posParams:Ze}}function oe(le,Se){const de=le?J(le):void 0,Pe=Se?J(Se):void 0;if(!de||!Pe||de.length!=Pe.length)return!1;let Ze;for(let yt=0;yt<de.length;yt++)if(Ze=de[yt],!ve(le[Ze],Se[Ze]))return!1;return!0}function J(le){return[...Object.keys(le),...Object.getOwnPropertySymbols(le)]}function ve(le,Se){if(Array.isArray(le)&&Array.isArray(Se)){if(le.length!==Se.length)return!1;const de=[...le].sort(),Pe=[...Se].sort();return de.every((Ze,yt)=>Pe[yt]===Ze)}return le===Se}function _e(le){return le.length>0?le[le.length-1]:null}function Ce(le){return(0,t.A)(le)?le:(0,i.jNT)(le)?(0,c.H)(Promise.resolve(le)):(0,e.of)(le)}const qe={exact:function at(le,Se,de){if(!je(le.segments,Se.segments)||!He(le.segments,Se.segments,de)||le.numberOfChildren!==Se.numberOfChildren)return!1;for(const Pe in Se.children)if(!le.children[Pe]||!at(le.children[Pe],Se.children[Pe],de))return!1;return!0},subset:Te},Re={exact:function Ge(le,Se){return oe(le,Se)},subset:function Ke(le,Se){return Object.keys(Se).length<=Object.keys(le).length&&Object.keys(Se).every(de=>ve(le[de],Se[de]))},ignored:()=>!0};function nt(le,Se,de){return qe[de.paths](le.root,Se.root,de.matrixParams)&&Re[de.queryParams](le.queryParams,Se.queryParams)&&!("exact"===de.fragment&&le.fragment!==Se.fragment)}function Te(le,Se,de){return pt(le,Se,Se.segments,de)}function pt(le,Se,de,Pe){if(le.segments.length>de.length){const Ze=le.segments.slice(0,de.length);return!(!je(Ze,de)||Se.hasChildren()||!He(Ze,de,Pe))}if(le.segments.length===de.length){if(!je(le.segments,de)||!He(le.segments,de,Pe))return!1;for(const Ze in Se.children)if(!le.children[Ze]||!Te(le.children[Ze],Se.children[Ze],Pe))return!1;return!0}{const Ze=de.slice(0,le.segments.length),yt=de.slice(le.segments.length);return!!(je(le.segments,Ze)&&He(le.segments,Ze,Pe)&&le.children[re])&&pt(le.children[re],Se,yt,Pe)}}function He(le,Se,de){return Se.every((Pe,Ze)=>Re[de](le[Ze].parameters,Pe.parameters))}class Bt{constructor(Se=new it([],{}),de={},Pe=null){this.root=Se,this.queryParams=de,this.fragment=Pe}get queryParamMap(){return this._queryParamMap??=ne(this.queryParams),this._queryParamMap}toString(){return Un.serialize(this)}}class it{constructor(Se,de){this.segments=Se,this.children=de,this.parent=null,Object.values(de).forEach(Pe=>Pe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ct(this)}}class Tt{constructor(Se,de){this.path=Se,this.parameters=de}get parameterMap(){return this._parameterMap??=ne(this.parameters),this._parameterMap}toString(){return vt(this)}}function je(le,Se){return le.length===Se.length&&le.every((de,Pe)=>de.path===Se[Pe].path)}let vn=(()=>{class le{static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275prov=i.jDH({token:le,factory:()=>new hn,providedIn:"root"})}}return le})();class hn{parse(Se){const de=new fn(Se);return new Bt(de.parseRootSegment(),de.parseQueryParams(),de.parseFragment())}serialize(Se){const de=`/${Ot(Se.root,!0)}`,Pe=function sn(le){const Se=Object.entries(le).map(([de,Pe])=>Array.isArray(Pe)?Pe.map(Ze=>`${mt(de)}=${mt(Ze)}`).join("&"):`${mt(de)}=${mt(Pe)}`).filter(de=>de);return Se.length?`?${Se.join("&")}`:""}(Se.queryParams);return`${de}${Pe}${"string"==typeof Se.fragment?`#${function ln(le){return encodeURI(le)}(Se.fragment)}`:""}`}}const Un=new hn;function Ct(le){return le.segments.map(Se=>vt(Se)).join("/")}function Ot(le,Se){if(!le.hasChildren())return Ct(le);if(Se){const de=le.children[re]?Ot(le.children[re],!1):"",Pe=[];return Object.entries(le.children).forEach(([Ze,yt])=>{Ze!==re&&Pe.push(`${Ze}:${Ot(yt,!1)}`)}),Pe.length>0?`${de}(${Pe.join("//")})`:de}{const de=function ft(le,Se){let de=[];return Object.entries(le.children).forEach(([Pe,Ze])=>{Pe===re&&(de=de.concat(Se(Ze,Pe)))}),Object.entries(le.children).forEach(([Pe,Ze])=>{Pe!==re&&(de=de.concat(Se(Ze,Pe)))}),de}(le,(Pe,Ze)=>Ze===re?[Ot(le.children[re],!1)]:[`${Ze}:${Ot(Pe,!1)}`]);return 1===Object.keys(le.children).length&&null!=le.children[re]?`${Ct(le)}/${de[0]}`:`${Ct(le)}/(${de.join("//")})`}}function wt(le){return encodeURIComponent(le).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mt(le){return wt(le).replace(/%3B/gi,";")}function we(le){return wt(le).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Et(le){return decodeURIComponent(le)}function kt(le){return Et(le.replace(/\+/g,"%20"))}function vt(le){return`${we(le.path)}${function Jt(le){return Object.entries(le).map(([Se,de])=>`;${we(Se)}=${we(de)}`).join("")}(le.parameters)}`}const zt=/^[^\/()?;#]+/;function Gt(le){const Se=le.match(zt);return Se?Se[0]:""}const Je=/^[^\/()?;=#]+/,Le=/^[^=?&#]+/,lt=/^[^&#]+/;class fn{constructor(Se){this.url=Se,this.remaining=Se}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new it([],{}):new it([],this.parseChildren())}parseQueryParams(){const Se={};if(this.consumeOptional("?"))do{this.parseQueryParam(Se)}while(this.consumeOptional("&"));return Se}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Se=[];for(this.peekStartsWith("(")||Se.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Se.push(this.parseSegment());let de={};this.peekStartsWith("/(")&&(this.capture("/"),de=this.parseParens(!0));let Pe={};return this.peekStartsWith("(")&&(Pe=this.parseParens(!1)),(Se.length>0||Object.keys(de).length>0)&&(Pe[re]=new it(Se,de)),Pe}parseSegment(){const Se=Gt(this.remaining);if(""===Se&&this.peekStartsWith(";"))throw new i.wOt(4009,!1);return this.capture(Se),new Tt(Et(Se),this.parseMatrixParams())}parseMatrixParams(){const Se={};for(;this.consumeOptional(";");)this.parseParam(Se);return Se}parseParam(Se){const de=function ke(le){const Se=le.match(Je);return Se?Se[0]:""}(this.remaining);if(!de)return;this.capture(de);let Pe="";if(this.consumeOptional("=")){const Ze=Gt(this.remaining);Ze&&(Pe=Ze,this.capture(Pe))}Se[Et(de)]=Et(Pe)}parseQueryParam(Se){const de=function ze(le){const Se=le.match(Le);return Se?Se[0]:""}(this.remaining);if(!de)return;this.capture(de);let Pe="";if(this.consumeOptional("=")){const Kt=function Vt(le){const Se=le.match(lt);return Se?Se[0]:""}(this.remaining);Kt&&(Pe=Kt,this.capture(Pe))}const Ze=kt(de),yt=kt(Pe);if(Se.hasOwnProperty(Ze)){let Kt=Se[Ze];Array.isArray(Kt)||(Kt=[Kt],Se[Ze]=Kt),Kt.push(yt)}else Se[Ze]=yt}parseParens(Se){const de={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Pe=Gt(this.remaining),Ze=this.remaining[Pe.length];if("/"!==Ze&&")"!==Ze&&";"!==Ze)throw new i.wOt(4010,!1);let yt;Pe.indexOf(":")>-1?(yt=Pe.slice(0,Pe.indexOf(":")),this.capture(yt),this.capture(":")):Se&&(yt=re);const Kt=this.parseChildren();de[yt]=1===Object.keys(Kt).length?Kt[re]:new it([],Kt),this.consumeOptional("//")}return de}peekStartsWith(Se){return this.remaining.startsWith(Se)}consumeOptional(Se){return!!this.peekStartsWith(Se)&&(this.remaining=this.remaining.substring(Se.length),!0)}capture(Se){if(!this.consumeOptional(Se))throw new i.wOt(4011,!1)}}function At(le){return le.segments.length>0?new it([],{[re]:le}):le}function tn(le){const Se={};for(const[Pe,Ze]of Object.entries(le.children)){const yt=tn(Ze);if(Pe===re&&0===yt.segments.length&&yt.hasChildren())for(const[Kt,xn]of Object.entries(yt.children))Se[Kt]=xn;else(yt.segments.length>0||yt.hasChildren())&&(Se[Pe]=yt)}return function dt(le){if(1===le.numberOfChildren&&le.children[re]){const Se=le.children[re];return new it(le.segments.concat(Se.segments),Se.children)}return le}(new it(le.segments,Se))}function Lt(le){return le instanceof Bt}function Sn(le){let Se;const Ze=At(function de(yt){const Kt={};for(const Mn of yt.children){const _i=de(Mn);Kt[Mn.outlet]=_i}const xn=new it(yt.url,Kt);return yt===le&&(Se=xn),xn}(le.root));return Se??Ze}function $n(le,Se,de,Pe){let Ze=le;for(;Ze.parent;)Ze=Ze.parent;if(0===Se.length)return _t(Ze,Ze,Ze,de,Pe);const yt=function ni(le){if("string"==typeof le[0]&&1===le.length&&"/"===le[0])return new Tn(!0,0,le);let Se=0,de=!1;const Pe=le.reduce((Ze,yt,Kt)=>{if("object"==typeof yt&&null!=yt){if(yt.outlets){const xn={};return Object.entries(yt.outlets).forEach(([Mn,_i])=>{xn[Mn]="string"==typeof _i?_i.split("/"):_i}),[...Ze,{outlets:xn}]}if(yt.segmentPath)return[...Ze,yt.segmentPath]}return"string"!=typeof yt?[...Ze,yt]:0===Kt?(yt.split("/").forEach((xn,Mn)=>{0==Mn&&"."===xn||(0==Mn&&""===xn?de=!0:".."===xn?Se++:""!=xn&&Ze.push(xn))}),Ze):[...Ze,yt]},[]);return new Tn(de,Se,Pe)}(Se);if(yt.toRoot())return _t(Ze,Ze,new it([],{}),de,Pe);const Kt=function ai(le,Se,de){if(le.isAbsolute)return new oi(Se,!0,0);if(!de)return new oi(Se,!1,NaN);if(null===de.parent)return new oi(de,!0,0);const Pe=Di(le.commands[0])?0:1;return function ns(le,Se,de){let Pe=le,Ze=Se,yt=de;for(;yt>Ze;){if(yt-=Ze,Pe=Pe.parent,!Pe)throw new i.wOt(4005,!1);Ze=Pe.segments.length}return new oi(Pe,!1,Ze-yt)}(de,de.segments.length-1+Pe,le.numberOfDoubleDots)}(yt,Ze,le),xn=Kt.processChildren?ci(Kt.segmentGroup,Kt.index,yt.commands):si(Kt.segmentGroup,Kt.index,yt.commands);return _t(Ze,Kt.segmentGroup,xn,de,Pe)}function Di(le){return"object"==typeof le&&null!=le&&!le.outlets&&!le.segmentPath}function bt(le){return"object"==typeof le&&null!=le&&le.outlets}function _t(le,Se,de,Pe,Ze){let Kt,yt={};Pe&&Object.entries(Pe).forEach(([Mn,_i])=>{yt[Mn]=Array.isArray(_i)?_i.map(ds=>`${ds}`):`${_i}`}),Kt=le===Se?de:En(le,Se,de);const xn=At(tn(Kt));return new Bt(xn,yt,Ze)}function En(le,Se,de){const Pe={};return Object.entries(le.children).forEach(([Ze,yt])=>{Pe[Ze]=yt===Se?de:En(yt,Se,de)}),new it(le.segments,Pe)}class Tn{constructor(Se,de,Pe){if(this.isAbsolute=Se,this.numberOfDoubleDots=de,this.commands=Pe,Se&&Pe.length>0&&Di(Pe[0]))throw new i.wOt(4003,!1);const Ze=Pe.find(bt);if(Ze&&Ze!==_e(Pe))throw new i.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oi{constructor(Se,de,Pe){this.segmentGroup=Se,this.processChildren=de,this.index=Pe}}function si(le,Se,de){if(le??=new it([],{}),0===le.segments.length&&le.hasChildren())return ci(le,Se,de);const Pe=function cn(le,Se,de){let Pe=0,Ze=Se;const yt={match:!1,pathIndex:0,commandIndex:0};for(;Ze<le.segments.length;){if(Pe>=de.length)return yt;const Kt=le.segments[Ze],xn=de[Pe];if(bt(xn))break;const Mn=`${xn}`,_i=Pe<de.length-1?de[Pe+1]:null;if(Ze>0&&void 0===Mn)break;if(Mn&&_i&&"object"==typeof _i&&void 0===_i.outlets){if(!ms(Mn,_i,Kt))return yt;Pe+=2}else{if(!ms(Mn,{},Kt))return yt;Pe++}Ze++}return{match:!0,pathIndex:Ze,commandIndex:Pe}}(le,Se,de),Ze=de.slice(Pe.commandIndex);if(Pe.match&&Pe.pathIndex<le.segments.length){const yt=new it(le.segments.slice(0,Pe.pathIndex),{});return yt.children[re]=new it(le.segments.slice(Pe.pathIndex),le.children),ci(yt,0,Ze)}return Pe.match&&0===Ze.length?new it(le.segments,{}):Pe.match&&!le.hasChildren()?gn(le,Se,de):Pe.match?ci(le,0,Ze):gn(le,Se,de)}function ci(le,Se,de){if(0===de.length)return new it(le.segments,{});{const Pe=function is(le){return bt(le[0])?le[0].outlets:{[re]:le}}(de),Ze={};if(Object.keys(Pe).some(yt=>yt!==re)&&le.children[re]&&1===le.numberOfChildren&&0===le.children[re].segments.length){const yt=ci(le.children[re],Se,de);return new it(le.segments,yt.children)}return Object.entries(Pe).forEach(([yt,Kt])=>{"string"==typeof Kt&&(Kt=[Kt]),null!==Kt&&(Ze[yt]=si(le.children[yt],Se,Kt))}),Object.entries(le.children).forEach(([yt,Kt])=>{void 0===Pe[yt]&&(Ze[yt]=Kt)}),new it(le.segments,Ze)}}function gn(le,Se,de){const Pe=le.segments.slice(0,Se);let Ze=0;for(;Ze<de.length;){const yt=de[Ze];if(bt(yt)){const Mn=fi(yt.outlets);return new it(Pe,Mn)}if(0===Ze&&Di(de[0])){Pe.push(new Tt(le.segments[Se].path,Si(de[0]))),Ze++;continue}const Kt=bt(yt)?yt.outlets[re]:`${yt}`,xn=Ze<de.length-1?de[Ze+1]:null;Kt&&xn&&Di(xn)?(Pe.push(new Tt(Kt,Si(xn))),Ze+=2):(Pe.push(new Tt(Kt,{})),Ze++)}return new it(Pe,{})}function fi(le){const Se={};return Object.entries(le).forEach(([de,Pe])=>{"string"==typeof Pe&&(Pe=[Pe]),null!==Pe&&(Se[de]=gn(new it([],{}),0,Pe))}),Se}function Si(le){const Se={};return Object.entries(le).forEach(([de,Pe])=>Se[de]=`${Pe}`),Se}function ms(le,Se,de){return le==de.path&&oe(Se,de.parameters)}const Ai="imperative";var xi=function(le){return le[le.NavigationStart=0]="NavigationStart",le[le.NavigationEnd=1]="NavigationEnd",le[le.NavigationCancel=2]="NavigationCancel",le[le.NavigationError=3]="NavigationError",le[le.RoutesRecognized=4]="RoutesRecognized",le[le.ResolveStart=5]="ResolveStart",le[le.ResolveEnd=6]="ResolveEnd",le[le.GuardsCheckStart=7]="GuardsCheckStart",le[le.GuardsCheckEnd=8]="GuardsCheckEnd",le[le.RouteConfigLoadStart=9]="RouteConfigLoadStart",le[le.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",le[le.ChildActivationStart=11]="ChildActivationStart",le[le.ChildActivationEnd=12]="ChildActivationEnd",le[le.ActivationStart=13]="ActivationStart",le[le.ActivationEnd=14]="ActivationEnd",le[le.Scroll=15]="Scroll",le[le.NavigationSkipped=16]="NavigationSkipped",le}(xi||{});class Zt{constructor(Se,de){this.id=Se,this.url=de}}class Ii extends Zt{constructor(Se,de,Pe="imperative",Ze=null){super(Se,de),this.type=xi.NavigationStart,this.navigationTrigger=Pe,this.restoredState=Ze}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xt extends Zt{constructor(Se,de,Pe){super(Se,de),this.urlAfterRedirects=Pe,this.type=xi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var It=function(le){return le[le.Redirect=0]="Redirect",le[le.SupersededByNewNavigation=1]="SupersededByNewNavigation",le[le.NoDataFromResolver=2]="NoDataFromResolver",le[le.GuardRejected=3]="GuardRejected",le}(It||{}),Fe=function(le){return le[le.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",le[le.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",le}(Fe||{});class Xe extends Zt{constructor(Se,de,Pe,Ze){super(Se,de),this.reason=Pe,this.code=Ze,this.type=xi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gt extends Zt{constructor(Se,de,Pe,Ze){super(Se,de),this.reason=Pe,this.code=Ze,this.type=xi.NavigationSkipped}}class Yt extends Zt{constructor(Se,de,Pe,Ze){super(Se,de),this.error=Pe,this.target=Ze,this.type=xi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cn extends Zt{constructor(Se,de,Pe,Ze){super(Se,de),this.urlAfterRedirects=Pe,this.state=Ze,this.type=xi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class On extends Zt{constructor(Se,de,Pe,Ze){super(Se,de),this.urlAfterRedirects=Pe,this.state=Ze,this.type=xi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nn extends Zt{constructor(Se,de,Pe,Ze,yt){super(Se,de),this.urlAfterRedirects=Pe,this.state=Ze,this.shouldActivate=yt,this.type=xi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qn extends Zt{constructor(Se,de,Pe,Ze){super(Se,de),this.urlAfterRedirects=Pe,this.state=Ze,this.type=xi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends Zt{constructor(Se,de,Pe,Ze){super(Se,de),this.urlAfterRedirects=Pe,this.state=Ze,this.type=xi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ki{constructor(Se){this.route=Se,this.type=xi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fi{constructor(Se){this.route=Se,this.type=xi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ss{constructor(Se){this.snapshot=Se,this.type=xi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hs{constructor(Se){this.snapshot=Se,this.type=xi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gs{constructor(Se){this.snapshot=Se,this.type=xi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(Se){this.snapshot=Se,this.type=xi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(Se,de,Pe){this.routerEvent=Se,this.position=de,this.anchor=Pe,this.type=xi.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ps{}class Ft{constructor(Se,de){this.url=Se,this.navigationBehaviorOptions=de}}function Zn(le){return le.outlet||re}function _s(le){if(!le)return null;if(le.routeConfig?._injector)return le.routeConfig._injector;for(let Se=le.parent;Se;Se=Se.parent){const de=Se.routeConfig;if(de?._loadedInjector)return de._loadedInjector;if(de?._injector)return de._injector}return null}class Uo{get injector(){return _s(this.route?.snapshot)??this.rootInjector}set injector(Se){}constructor(Se){this.rootInjector=Se,this.outlet=null,this.route=null,this.children=new pr(this.rootInjector),this.attachRef=null}}let pr=(()=>{class le{constructor(de){this.rootInjector=de,this.contexts=new Map}onChildOutletCreated(de,Pe){const Ze=this.getOrCreateContext(de);Ze.outlet=Pe,this.contexts.set(de,Ze)}onChildOutletDestroyed(de){const Pe=this.getContext(de);Pe&&(Pe.outlet=null,Pe.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let Pe=this.getContext(de);return Pe||(Pe=new Uo(this.rootInjector),this.contexts.set(de,Pe)),Pe}getContext(de){return this.contexts.get(de)||null}static{this.\u0275fac=function(Pe){return new(Pe||le)(i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})();class jo{constructor(Se){this._root=Se}get root(){return this._root.value}parent(Se){const de=this.pathFromRoot(Se);return de.length>1?de[de.length-2]:null}children(Se){const de=er(Se,this._root);return de?de.children.map(Pe=>Pe.value):[]}firstChild(Se){const de=er(Se,this._root);return de&&de.children.length>0?de.children[0].value:null}siblings(Se){const de=Zs(Se,this._root);return de.length<2?[]:de[de.length-2].children.map(Ze=>Ze.value).filter(Ze=>Ze!==Se)}pathFromRoot(Se){return Zs(Se,this._root).map(de=>de.value)}}function er(le,Se){if(le===Se.value)return Se;for(const de of Se.children){const Pe=er(le,de);if(Pe)return Pe}return null}function Zs(le,Se){if(le===Se.value)return[Se];for(const de of Se.children){const Pe=Zs(le,de);if(Pe.length)return Pe.unshift(Se),Pe}return[]}class tr{constructor(Se,de){this.value=Se,this.children=de}toString(){return`TreeNode(${this.value})`}}function Cr(le){const Se={};return le&&le.children.forEach(de=>Se[de.value.outlet]=de),Se}class Sr extends jo{constructor(Se,de){super(Se),this.snapshot=de,Sa(this,Se)}toString(){return this.snapshot.toString()}}function oa(le){const Se=function fr(le){const yt=new ra([],{},{},"",{},re,le,null,{});return new Co("",new tr(yt,[]))}(le),de=new p.t([new Tt("",{})]),Pe=new p.t({}),Ze=new p.t({}),yt=new p.t({}),Kt=new p.t(""),xn=new Xr(de,Pe,yt,Kt,Ze,re,le,Se.root);return xn.snapshot=Se.root,new Sr(new tr(xn,[]),Se)}class Xr{constructor(Se,de,Pe,Ze,yt,Kt,xn,Mn){this.urlSubject=Se,this.paramsSubject=de,this.queryParamsSubject=Pe,this.fragmentSubject=Ze,this.dataSubject=yt,this.outlet=Kt,this.component=xn,this._futureSnapshot=Mn,this.title=this.dataSubject?.pipe((0,S.T)(_i=>_i[ce]))??(0,e.of)(void 0),this.url=Se,this.params=de,this.queryParams=Pe,this.fragment=Ze,this.data=yt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,S.T)(Se=>ne(Se))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,S.T)(Se=>ne(Se))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ko(le,Se,de="emptyOnly"){let Pe;const{routeConfig:Ze}=le;return Pe=null===Se||"always"!==de&&""!==Ze?.path&&(Se.component||Se.routeConfig?.loadComponent)?{params:{...le.params},data:{...le.data},resolve:{...le.data,...le._resolvedData??{}}}:{params:{...Se.params,...le.params},data:{...Se.data,...le.data},resolve:{...le.data,...Se.data,...Ze?.data,...le._resolvedData}},Ze&&Ir(Ze)&&(Pe.resolve[ce]=Ze.title),Pe}class ra{get title(){return this.data?.[ce]}constructor(Se,de,Pe,Ze,yt,Kt,xn,Mn,_i){this.url=Se,this.params=de,this.queryParams=Pe,this.fragment=Ze,this.data=yt,this.outlet=Kt,this.component=xn,this.routeConfig=Mn,this._resolve=_i}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ne(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ne(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Pe=>Pe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Co extends jo{constructor(Se,de){super(de),this.url=Se,Sa(this,de)}toString(){return Ei(this._root)}}function Sa(le,Se){Se.value._routerState=le,Se.children.forEach(de=>Sa(le,de))}function Ei(le){const Se=le.children.length>0?` { ${le.children.map(Ei).join(", ")} } `:"";return`${le.value}${Se}`}function Lr(le){if(le.snapshot){const Se=le.snapshot,de=le._futureSnapshot;le.snapshot=de,oe(Se.queryParams,de.queryParams)||le.queryParamsSubject.next(de.queryParams),Se.fragment!==de.fragment&&le.fragmentSubject.next(de.fragment),oe(Se.params,de.params)||le.paramsSubject.next(de.params),function ae(le,Se){if(le.length!==Se.length)return!1;for(let de=0;de<le.length;++de)if(!oe(le[de],Se[de]))return!1;return!0}(Se.url,de.url)||le.urlSubject.next(de.url),oe(Se.data,de.data)||le.dataSubject.next(de.data)}else le.snapshot=le._futureSnapshot,le.dataSubject.next(le._futureSnapshot.data)}function aa(le,Se){const de=oe(le.params,Se.params)&&function Ee(le,Se){return je(le,Se)&&le.every((de,Pe)=>oe(de.parameters,Se[Pe].parameters))}(le.url,Se.url);return de&&!(!le.parent!=!Se.parent)&&(!le.parent||aa(le.parent,Se.parent))}function Ir(le){return"string"==typeof le.title||null===le.title}let Wa=(()=>{class le{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new i.bkB,this.deactivateEvents=new i.bkB,this.attachEvents=new i.bkB,this.detachEvents=new i.bkB,this.parentContexts=(0,i.WQX)(pr),this.location=(0,i.WQX)(i.c1b),this.changeDetector=(0,i.WQX)(i.gRc),this.inputBinder=(0,i.WQX)(Pa,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:Pe,previousValue:Ze}=de.name;if(Pe)return;this.isTrackedInParentContexts(Ze)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ze)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){return this.parentContexts.getContext(de)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);de?.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.wOt(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,Pe){this.activated=de,this._activatedRoute=Pe,this.location.insert(de.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,Pe){if(this.isActivated)throw new i.wOt(4013,!1);this._activatedRoute=de;const Ze=this.location,Kt=de.snapshot.component,xn=this.parentContexts.getOrCreateContext(this.name).children,Mn=new Ia(de,xn,Ze.injector);this.activated=Ze.createComponent(Kt,{index:Ze.length,injector:Mn,environmentInjector:Pe}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275dir=i.FsC({type:le,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[i.OA$]})}}return le})();class Ia{__ngOutletInjector(Se){return new Ia(this.route,this.childContexts,Se)}constructor(Se,de,Pe){this.route=Se,this.childContexts=de,this.parent=Pe}get(Se,de){return Se===Xr?this.route:Se===pr?this.childContexts:this.parent.get(Se,de)}}const Pa=new i.nKC("");let Ga=(()=>{class le{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){this.outletDataSubscriptions.get(de)?.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:Pe}=de,Ze=(0,m.z)([Pe.queryParams,Pe.params,Pe.data]).pipe((0,O.n)(([yt,Kt,xn],Mn)=>(xn={...yt,...Kt,...xn},0===Mn?(0,e.of)(xn):Promise.resolve(xn)))).subscribe(yt=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==Pe||null===Pe.component)return void this.unsubscribeFromRouteData(de);const Kt=(0,i.HJs)(Pe.component);if(Kt)for(const{templateName:xn}of Kt.inputs)de.activatedComponentRef.setInput(xn,yt[xn]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,Ze)}static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac})}}return le})();function Ra(le,Se,de){if(de&&le.shouldReuseRoute(Se.value,de.value.snapshot)){const Pe=de.value;Pe._futureSnapshot=Se.value;const Ze=function rt(le,Se,de){return Se.children.map(Pe=>{for(const Ze of de.children)if(le.shouldReuseRoute(Pe.value,Ze.value.snapshot))return Ra(le,Pe,Ze);return Ra(le,Pe)})}(le,Se,de);return new tr(Pe,Ze)}{if(le.shouldAttach(Se.value)){const yt=le.retrieve(Se.value);if(null!==yt){const Kt=yt.route;return Kt.value._futureSnapshot=Se.value,Kt.children=Se.children.map(xn=>Ra(le,xn)),Kt}}const Pe=function ot(le){return new Xr(new p.t(le.url),new p.t(le.params),new p.t(le.queryParams),new p.t(le.fragment),new p.t(le.data),le.outlet,le.component,le)}(Se.value),Ze=Se.children.map(yt=>Ra(le,yt));return new tr(Pe,Ze)}}class ut{constructor(Se,de){this.redirectTo=Se,this.navigationBehaviorOptions=de}}const jt="ngNavigationCancelingError";function Nt(le,Se){const{redirectTo:de,navigationBehaviorOptions:Pe}=Lt(Se)?{redirectTo:Se,navigationBehaviorOptions:void 0}:Se,Ze=Ln(!1,It.Redirect);return Ze.url=de,Ze.navigationBehaviorOptions=Pe,Ze}function Ln(le,Se){const de=new Error(`NavigationCancelingError: ${le||""}`);return de[jt]=!0,de.cancellationCode=Se,de}function Li(le){return!!le&&le[jt]}class Ls{constructor(Se,de,Pe,Ze,yt){this.routeReuseStrategy=Se,this.futureState=de,this.currState=Pe,this.forwardEvent=Ze,this.inputBindingEnabled=yt}activate(Se){const de=this.futureState._root,Pe=this.currState?this.currState._root:null;this.deactivateChildRoutes(de,Pe,Se),Lr(this.futureState.root),this.activateChildRoutes(de,Pe,Se)}deactivateChildRoutes(Se,de,Pe){const Ze=Cr(de);Se.children.forEach(yt=>{const Kt=yt.value.outlet;this.deactivateRoutes(yt,Ze[Kt],Pe),delete Ze[Kt]}),Object.values(Ze).forEach(yt=>{this.deactivateRouteAndItsChildren(yt,Pe)})}deactivateRoutes(Se,de,Pe){const Ze=Se.value,yt=de?de.value:null;if(Ze===yt)if(Ze.component){const Kt=Pe.getContext(Ze.outlet);Kt&&this.deactivateChildRoutes(Se,de,Kt.children)}else this.deactivateChildRoutes(Se,de,Pe);else yt&&this.deactivateRouteAndItsChildren(de,Pe)}deactivateRouteAndItsChildren(Se,de){Se.value.component&&this.routeReuseStrategy.shouldDetach(Se.value.snapshot)?this.detachAndStoreRouteSubtree(Se,de):this.deactivateRouteAndOutlet(Se,de)}detachAndStoreRouteSubtree(Se,de){const Pe=de.getContext(Se.value.outlet),Ze=Pe&&Se.value.component?Pe.children:de,yt=Cr(Se);for(const Kt of Object.values(yt))this.deactivateRouteAndItsChildren(Kt,Ze);if(Pe&&Pe.outlet){const Kt=Pe.outlet.detach(),xn=Pe.children.onOutletDeactivated();this.routeReuseStrategy.store(Se.value.snapshot,{componentRef:Kt,route:Se,contexts:xn})}}deactivateRouteAndOutlet(Se,de){const Pe=de.getContext(Se.value.outlet),Ze=Pe&&Se.value.component?Pe.children:de,yt=Cr(Se);for(const Kt of Object.values(yt))this.deactivateRouteAndItsChildren(Kt,Ze);Pe&&(Pe.outlet&&(Pe.outlet.deactivate(),Pe.children.onOutletDeactivated()),Pe.attachRef=null,Pe.route=null)}activateChildRoutes(Se,de,Pe){const Ze=Cr(de);Se.children.forEach(yt=>{this.activateRoutes(yt,Ze[yt.value.outlet],Pe),this.forwardEvent(new Ss(yt.value.snapshot))}),Se.children.length&&this.forwardEvent(new hs(Se.value.snapshot))}activateRoutes(Se,de,Pe){const Ze=Se.value,yt=de?de.value:null;if(Lr(Ze),Ze===yt)if(Ze.component){const Kt=Pe.getOrCreateContext(Ze.outlet);this.activateChildRoutes(Se,de,Kt.children)}else this.activateChildRoutes(Se,de,Pe);else if(Ze.component){const Kt=Pe.getOrCreateContext(Ze.outlet);if(this.routeReuseStrategy.shouldAttach(Ze.snapshot)){const xn=this.routeReuseStrategy.retrieve(Ze.snapshot);this.routeReuseStrategy.store(Ze.snapshot,null),Kt.children.onOutletReAttached(xn.contexts),Kt.attachRef=xn.componentRef,Kt.route=xn.route.value,Kt.outlet&&Kt.outlet.attach(xn.componentRef,xn.route.value),Lr(xn.route.value),this.activateChildRoutes(Se,null,Kt.children)}else Kt.attachRef=null,Kt.route=Ze,Kt.outlet&&Kt.outlet.activateWith(Ze,Kt.injector),this.activateChildRoutes(Se,null,Kt.children)}else this.activateChildRoutes(Se,null,Pe)}}class qs{constructor(Se){this.path=Se,this.route=this.path[this.path.length-1]}}class Mo{constructor(Se,de){this.component=Se,this.route=de}}function Qi(le,Se,de){const Pe=le._root;return Vo(Pe,Se?Se._root:null,de,[Pe.value])}function Is(le,Se){const de=Symbol(),Pe=Se.get(le,de);return Pe===de?"function"!=typeof le||(0,i.LfX)(le)?Se.get(le):le:Pe}function Vo(le,Se,de,Pe,Ze={canDeactivateChecks:[],canActivateChecks:[]}){const yt=Cr(Se);return le.children.forEach(Kt=>{(function ca(le,Se,de,Pe,Ze={canDeactivateChecks:[],canActivateChecks:[]}){const yt=le.value,Kt=Se?Se.value:null,xn=de?de.getContext(le.value.outlet):null;if(Kt&&yt.routeConfig===Kt.routeConfig){const Mn=function Io(le,Se,de){if("function"==typeof de)return de(le,Se);switch(de){case"pathParamsChange":return!je(le.url,Se.url);case"pathParamsOrQueryParamsChange":return!je(le.url,Se.url)||!oe(le.queryParams,Se.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aa(le,Se)||!oe(le.queryParams,Se.queryParams);default:return!aa(le,Se)}}(Kt,yt,yt.routeConfig.runGuardsAndResolvers);Mn?Ze.canActivateChecks.push(new qs(Pe)):(yt.data=Kt.data,yt._resolvedData=Kt._resolvedData),Vo(le,Se,yt.component?xn?xn.children:null:de,Pe,Ze),Mn&&xn&&xn.outlet&&xn.outlet.isActivated&&Ze.canDeactivateChecks.push(new Mo(xn.outlet.component,Kt))}else Kt&&os(Se,xn,Ze),Ze.canActivateChecks.push(new qs(Pe)),Vo(le,null,yt.component?xn?xn.children:null:de,Pe,Ze)})(Kt,yt[Kt.value.outlet],de,Pe.concat([Kt.value]),Ze),delete yt[Kt.value.outlet]}),Object.entries(yt).forEach(([Kt,xn])=>os(xn,de.getContext(Kt),Ze)),Ze}function os(le,Se,de){const Pe=Cr(le),Ze=le.value;Object.entries(Pe).forEach(([yt,Kt])=>{os(Kt,Ze.component?Se?Se.children.getContext(yt):null:Se,de)}),de.canDeactivateChecks.push(new Mo(Ze.component&&Se&&Se.outlet&&Se.outlet.isActivated?Se.outlet.component:null,Ze))}function Po(le){return"function"==typeof le}function ol(le){return le instanceof f.G||"EmptyError"===le?.name}const Qr=Symbol("INITIAL_VALUE");function St(){return(0,O.n)(le=>(0,m.z)(le.map(Se=>Se.pipe((0,L.s)(1),(0,T.Z)(Qr)))).pipe((0,S.T)(Se=>{for(const de of Se)if(!0!==de){if(de===Qr)return Qr;if(!1===de||qt(de))return de}return!0}),(0,x.p)(Se=>Se!==Qr),(0,L.s)(1)))}function qt(le){return Lt(le)||le instanceof ut}function Ht(le){return(0,y.F)((0,k.M)(Se=>{if("boolean"!=typeof Se)throw Nt(0,Se)}),(0,S.T)(Se=>!0===Se))}class rs{constructor(Se){this.segmentGroup=Se||null}}class Pr extends Error{constructor(Se){super(),this.urlTree=Se}}function Yo(le){return(0,M.$)(new rs(le))}class kl{constructor(Se,de){this.urlSerializer=Se,this.urlTree=de}lineralizeSegments(Se,de){let Pe=[],Ze=de.root;for(;;){if(Pe=Pe.concat(Ze.segments),0===Ze.numberOfChildren)return(0,e.of)(Pe);if(Ze.numberOfChildren>1||!Ze.children[re])return(0,M.$)(new i.wOt(4e3,!1));Ze=Ze.children[re]}}applyRedirectCommands(Se,de,Pe,Ze,yt){if("string"!=typeof de){const xn=de,{queryParams:Mn,fragment:_i,routeConfig:ds,url:es,outlet:co,params:Rl,data:Dr,title:Kn}=Ze,pa=(0,i.N4e)(yt,()=>xn({params:Rl,data:Dr,queryParams:Mn,fragment:_i,routeConfig:ds,url:es,outlet:co,title:Kn}));if(pa instanceof Bt)throw new Pr(pa);de=pa}const Kt=this.applyRedirectCreateUrlTree(de,this.urlSerializer.parse(de),Se,Pe);if("/"===de[0])throw new Pr(Kt);return Kt}applyRedirectCreateUrlTree(Se,de,Pe,Ze){const yt=this.createSegmentGroup(Se,de.root,Pe,Ze);return new Bt(yt,this.createQueryParams(de.queryParams,this.urlTree.queryParams),de.fragment)}createQueryParams(Se,de){const Pe={};return Object.entries(Se).forEach(([Ze,yt])=>{if("string"==typeof yt&&":"===yt[0]){const xn=yt.substring(1);Pe[Ze]=de[xn]}else Pe[Ze]=yt}),Pe}createSegmentGroup(Se,de,Pe,Ze){const yt=this.createSegments(Se,de.segments,Pe,Ze);let Kt={};return Object.entries(de.children).forEach(([xn,Mn])=>{Kt[xn]=this.createSegmentGroup(Se,Mn,Pe,Ze)}),new it(yt,Kt)}createSegments(Se,de,Pe,Ze){return de.map(yt=>":"===yt.path[0]?this.findPosParam(Se,yt,Ze):this.findOrReturn(yt,Pe))}findPosParam(Se,de,Pe){const Ze=Pe[de.path.substring(1)];if(!Ze)throw new i.wOt(4001,!1);return Ze}findOrReturn(Se,de){let Pe=0;for(const Ze of de){if(Ze.path===Se.path)return de.splice(Pe),Ze;Pe++}return Se}}const bc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dc(le,Se,de,Pe,Ze){const yt=rl(le,Se,de);return yt.matched?(Pe=function We(le,Se){return le.providers&&!le._injector&&(le._injector=(0,i.Ol2)(le.providers,Se,`Route: ${le.path}`)),le._injector??Se}(Se,Pe),function gi(le,Se,de,Pe){const Ze=Se.canMatch;if(!Ze||0===Ze.length)return(0,e.of)(!0);const yt=Ze.map(Kt=>{const xn=Is(Kt,le);return Ce(function lr(le){return le&&Po(le.canMatch)}(xn)?xn.canMatch(Se,de):(0,i.N4e)(le,()=>xn(Se,de)))});return(0,e.of)(yt).pipe(St(),Ht())}(Pe,Se,de).pipe((0,S.T)(Kt=>!0===Kt?yt:{...bc}))):(0,e.of)(yt)}function rl(le,Se,de){if("**"===Se.path)return function Qo(le){return{matched:!0,parameters:le.length>0?_e(le).parameters:{},consumedSegments:le,remainingSegments:[],positionalParamSegments:{}}}(de);if(""===Se.path)return"full"===Se.pathMatch&&(le.hasChildren()||de.length>0)?{...bc}:{matched:!0,consumedSegments:[],remainingSegments:de,parameters:{},positionalParamSegments:{}};const Ze=(Se.matcher||fe)(de,le,Se);if(!Ze)return{...bc};const yt={};Object.entries(Ze.posParams??{}).forEach(([xn,Mn])=>{yt[xn]=Mn.path});const Kt=Ze.consumed.length>0?{...yt,...Ze.consumed[Ze.consumed.length-1].parameters}:yt;return{matched:!0,consumedSegments:Ze.consumed,remainingSegments:de.slice(Ze.consumed.length),parameters:Kt,positionalParamSegments:Ze.posParams??{}}}function Vl(le,Se,de,Pe){return de.length>0&&function ys(le,Se,de){return de.some(Pe=>Ro(le,Se,Pe)&&Zn(Pe)!==re)}(le,de,Pe)?{segmentGroup:new it(Se,Ol(Pe,new it(de,le.children))),slicedSegments:[]}:0===de.length&&function cr(le,Se,de){return de.some(Pe=>Ro(le,Se,Pe))}(le,de,Pe)?{segmentGroup:new it(le.segments,zc(le,de,Pe,le.children)),slicedSegments:de}:{segmentGroup:new it(le.segments,le.children),slicedSegments:de}}function zc(le,Se,de,Pe){const Ze={};for(const yt of de)if(Ro(le,Se,yt)&&!Pe[Zn(yt)]){const Kt=new it([],{});Ze[Zn(yt)]=Kt}return{...Pe,...Ze}}function Ol(le,Se){const de={};de[re]=Se;for(const Pe of le)if(""===Pe.path&&Zn(Pe)!==re){const Ze=new it([],{});de[Zn(Pe)]=Ze}return de}function Ro(le,Se,de){return(!(le.hasChildren()||Se.length>0)||"full"!==de.pathMatch)&&""===de.path}class $o{}class Sl{constructor(Se,de,Pe,Ze,yt,Kt,xn){this.injector=Se,this.configLoader=de,this.rootComponentType=Pe,this.config=Ze,this.urlTree=yt,this.paramsInheritanceStrategy=Kt,this.urlSerializer=xn,this.applyRedirects=new kl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Se){return new i.wOt(4002,`'${Se.segmentGroup}'`)}recognize(){const Se=Vl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Se).pipe((0,S.T)(({children:de,rootSnapshot:Pe})=>{const Ze=new tr(Pe,de),yt=new Co("",Ze),Kt=function Rt(le,Se,de=null,Pe=null){return $n(Sn(le),Se,de,Pe)}(Pe,[],this.urlTree.queryParams,this.urlTree.fragment);return Kt.queryParams=this.urlTree.queryParams,yt.url=this.urlSerializer.serialize(Kt),{state:yt,tree:Kt}}))}match(Se){const de=new ra([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,Se,re,de).pipe((0,S.T)(Pe=>({children:Pe,rootSnapshot:de})),(0,K.W)(Pe=>{if(Pe instanceof Pr)return this.urlTree=Pe.urlTree,this.match(Pe.urlTree.root);throw Pe instanceof rs?this.noMatchError(Pe):Pe}))}processSegmentGroup(Se,de,Pe,Ze,yt){return 0===Pe.segments.length&&Pe.hasChildren()?this.processChildren(Se,de,Pe,yt):this.processSegment(Se,de,Pe,Pe.segments,Ze,!0,yt).pipe((0,S.T)(Kt=>Kt instanceof tr?[Kt]:[]))}processChildren(Se,de,Pe,Ze){const yt=[];for(const Kt of Object.keys(Pe.children))"primary"===Kt?yt.unshift(Kt):yt.push(Kt);return(0,c.H)(yt).pipe((0,$.H)(Kt=>{const xn=Pe.children[Kt],Mn=function wi(le,Se){const de=le.filter(Pe=>Zn(Pe)===Se);return de.push(...le.filter(Pe=>Zn(Pe)!==Se)),de}(de,Kt);return this.processSegmentGroup(Se,Mn,xn,Kt,Ze)}),(0,z.S)((Kt,xn)=>(Kt.push(...xn),Kt)),(0,V.U)(null),(0,G.H)(),(0,N.Z)(Kt=>{if(null===Kt)return Yo(Pe);const xn=Fr(Kt);return function Tc(le){le.sort((Se,de)=>Se.value.outlet===re?-1:de.value.outlet===re?1:Se.value.outlet.localeCompare(de.value.outlet))}(xn),(0,e.of)(xn)}))}processSegment(Se,de,Pe,Ze,yt,Kt,xn){return(0,c.H)(de).pipe((0,$.H)(Mn=>this.processSegmentAgainstRoute(Mn._injector??Se,de,Mn,Pe,Ze,yt,Kt,xn).pipe((0,K.W)(_i=>{if(_i instanceof rs)return(0,e.of)(null);throw _i}))),(0,j.$)(Mn=>!!Mn),(0,K.W)(Mn=>{if(ol(Mn))return function ro(le,Se,de){return 0===Se.length&&!le.children[de]}(Pe,Ze,yt)?(0,e.of)(new $o):Yo(Pe);throw Mn}))}processSegmentAgainstRoute(Se,de,Pe,Ze,yt,Kt,xn,Mn){return Zn(Pe)===Kt||Kt!==re&&Ro(Ze,yt,Pe)?void 0===Pe.redirectTo?this.matchSegmentAgainstRoute(Se,Ze,Pe,yt,Kt,Mn):this.allowRedirects&&xn?this.expandSegmentAgainstRouteUsingRedirect(Se,Ze,de,Pe,yt,Kt,Mn):Yo(Ze):Yo(Ze)}expandSegmentAgainstRouteUsingRedirect(Se,de,Pe,Ze,yt,Kt,xn){const{matched:Mn,parameters:_i,consumedSegments:ds,positionalParamSegments:es,remainingSegments:co}=rl(de,Ze,yt);if(!Mn)return Yo(de);"string"==typeof Ze.redirectTo&&"/"===Ze.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Rl=new ra(yt,_i,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wl(Ze),Zn(Ze),Ze.component??Ze._loadedComponent??null,Ze,al(Ze)),Dr=ko(Rl,xn,this.paramsInheritanceStrategy);Rl.params=Object.freeze(Dr.params),Rl.data=Object.freeze(Dr.data);const Kn=this.applyRedirects.applyRedirectCommands(ds,Ze.redirectTo,es,Rl,Se);return this.applyRedirects.lineralizeSegments(Ze,Kn).pipe((0,N.Z)(pa=>this.processSegment(Se,Pe,de,pa.concat(co),Kt,!1,xn)))}matchSegmentAgainstRoute(Se,de,Pe,Ze,yt,Kt){const xn=Dc(de,Pe,Ze,Se);return"**"===Pe.path&&(de.children={}),xn.pipe((0,O.n)(Mn=>Mn.matched?this.getChildConfig(Se=Pe._injector??Se,Pe,Ze).pipe((0,O.n)(({routes:_i})=>{const ds=Pe._loadedInjector??Se,{parameters:es,consumedSegments:co,remainingSegments:Rl}=Mn,Dr=new ra(co,es,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wl(Pe),Zn(Pe),Pe.component??Pe._loadedComponent??null,Pe,al(Pe)),Kn=ko(Dr,Kt,this.paramsInheritanceStrategy);Dr.params=Object.freeze(Kn.params),Dr.data=Object.freeze(Kn.data);const{segmentGroup:pa,slicedSegments:Rd}=Vl(de,co,Rl,_i);if(0===Rd.length&&pa.hasChildren())return this.processChildren(ds,_i,pa,Dr).pipe((0,S.T)(Qa=>new tr(Dr,Qa)));if(0===_i.length&&0===Rd.length)return(0,e.of)(new tr(Dr,[]));const Th=Zn(Pe)===yt;return this.processSegment(ds,_i,pa,Rd,Th?re:yt,!0,Dr).pipe((0,S.T)(Qa=>new tr(Dr,Qa instanceof tr?[Qa]:[])))})):Yo(de)))}getChildConfig(Se,de,Pe){return de.children?(0,e.of)({routes:de.children,injector:Se}):de.loadChildren?void 0!==de._loadedRoutes?(0,e.of)({routes:de._loadedRoutes,injector:de._loadedInjector}):function ct(le,Se,de,Pe){const Ze=Se.canLoad;if(void 0===Ze||0===Ze.length)return(0,e.of)(!0);const yt=Ze.map(Kt=>{const xn=Is(Kt,le);return Ce(function Yr(le){return le&&Po(le.canLoad)}(xn)?xn.canLoad(Se,de):(0,i.N4e)(le,()=>xn(Se,de)))});return(0,e.of)(yt).pipe(St(),Ht())}(Se,de,Pe).pipe((0,N.Z)(Ze=>Ze?this.configLoader.loadChildren(Se,de).pipe((0,k.M)(yt=>{de._loadedRoutes=yt.routes,de._loadedInjector=yt.injector})):function Md(){return(0,M.$)(Ln(!1,It.GuardRejected))}())):(0,e.of)({routes:[],injector:Se})}}function xa(le){const Se=le.value.routeConfig;return Se&&""===Se.path}function Fr(le){const Se=[],de=new Set;for(const Pe of le){if(!xa(Pe)){Se.push(Pe);continue}const Ze=Se.find(yt=>Pe.value.routeConfig===yt.value.routeConfig);void 0!==Ze?(Ze.children.push(...Pe.children),de.add(Ze)):Se.push(Pe)}for(const Pe of de){const Ze=Fr(Pe.children);Se.push(new tr(Pe.value,Ze))}return Se.filter(Pe=>!de.has(Pe))}function Wl(le){return le.data||{}}function al(le){return le.resolve||{}}function Il(le){const Se=le.children.map(de=>Il(de)).flat();return[le,...Se]}function Wo(le){return(0,O.n)(Se=>{const de=le(Se);return de?(0,c.H)(de).pipe((0,S.T)(()=>Se)):(0,e.of)(Se)})}let $r=(()=>{class le{buildTitle(de){let Pe,Ze=de.root;for(;void 0!==Ze;)Pe=this.getResolvedTitleForRoute(Ze)??Pe,Ze=Ze.children.find(yt=>yt.outlet===re);return Pe}getResolvedTitleForRoute(de){return de.data[ce]}static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275prov=i.jDH({token:le,factory:()=>(0,i.WQX)(lc),providedIn:"root"})}}return le})(),lc=(()=>{class le extends $r{constructor(de){super(),this.title=de}updateTitle(de){const Pe=this.buildTitle(de);void 0!==Pe&&this.title.setTitle(Pe)}static{this.\u0275fac=function(Pe){return new(Pe||le)(i.KVO(ye.hE))}}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})();const dr=new i.nKC("",{providedIn:"root",factory:()=>({})});let Ks=(()=>{class le{static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275cmp=i.VBU({type:le,selectors:[["ng-component"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function(Pe,Ze){1&Pe&&i.nrm(0,"router-outlet")},dependencies:[Wa],encapsulation:2})}}return le})();function $t(le){const Se=le.children&&le.children.map($t),de=Se?{...le,children:Se}:{...le};return!de.component&&!de.loadComponent&&(Se||de.loadChildren)&&de.outlet&&de.outlet!==re&&(de.component=Ks),de}const mn=new i.nKC("");let Pn=(()=>{class le{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,i.WQX)(i.Ql9)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,e.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const Pe=Ce(de.loadComponent()).pipe((0,S.T)(ui),(0,k.M)(yt=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=yt}),(0,ee.j)(()=>{this.componentLoaders.delete(de)})),Ze=new P.G(Pe,()=>new D.B).pipe((0,ie.B)());return this.componentLoaders.set(de,Ze),Ze}loadChildren(de,Pe){if(this.childrenLoaders.get(Pe))return this.childrenLoaders.get(Pe);if(Pe._loadedRoutes)return(0,e.of)({routes:Pe._loadedRoutes,injector:Pe._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Pe);const yt=function Hn(le,Se,de,Pe){return Ce(le.loadChildren()).pipe((0,S.T)(ui),(0,N.Z)(Ze=>Ze instanceof i.Co$||Array.isArray(Ze)?(0,e.of)(Ze):(0,c.H)(Se.compileModuleAsync(Ze))),(0,S.T)(Ze=>{Pe&&Pe(le);let yt,Kt,xn=!1;return Array.isArray(Ze)?(Kt=Ze,!0):(yt=Ze.create(de).injector,Kt=yt.get(mn,[],{optional:!0,self:!0}).flat()),{routes:Kt.map($t),injector:yt}}))}(Pe,this.compiler,de,this.onLoadEndListener).pipe((0,ee.j)(()=>{this.childrenLoaders.delete(Pe)})),Kt=new P.G(yt,()=>new D.B).pipe((0,ie.B)());return this.childrenLoaders.set(Pe,Kt),Kt}static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})();function ui(le){return function di(le){return le&&"object"==typeof le&&"default"in le}(le)?le.default:le}let Zi=(()=>{class le{static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275prov=i.jDH({token:le,factory:()=>(0,i.WQX)(yi),providedIn:"root"})}}return le})(),yi=(()=>{class le{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,Pe){return de}static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})();const eo=new i.nKC(""),xs=new i.nKC("");function bo(le,Se,de){const Pe=le.get(xs),Ze=le.get(h.qQ);return le.get(i.SKi).runOutsideAngular(()=>{if(!Ze.startViewTransition||Pe.skipNextTransition)return Pe.skipNextTransition=!1,new Promise(_i=>setTimeout(_i));let yt;const Kt=new Promise(_i=>{yt=_i}),xn=Ze.startViewTransition(()=>(yt(),function ao(le){return new Promise(Se=>{(0,i.mal)({read:()=>setTimeout(Se)},{injector:le})})}(le))),{onViewTransitionCreated:Mn}=Pe;return Mn&&(0,i.N4e)(le,()=>Mn({transition:xn,from:Se,to:de})),Kt})}const Fs=new i.nKC("");let fo=(()=>{class le{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new D.B,this.transitionAbortSubject=new D.B,this.configLoader=(0,i.WQX)(Pn),this.environmentInjector=(0,i.WQX)(i.uvJ),this.urlSerializer=(0,i.WQX)(vn),this.rootContexts=(0,i.WQX)(pr),this.location=(0,i.WQX)(h.aZ),this.inputBindingEnabled=null!==(0,i.WQX)(Pa,{optional:!0}),this.titleStrategy=(0,i.WQX)($r),this.options=(0,i.WQX)(dr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,i.WQX)(Zi),this.createViewTransition=(0,i.WQX)(eo,{optional:!0}),this.navigationErrorHandler=(0,i.WQX)(Fs,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,e.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ze=>this.events.next(new Fi(Ze)),this.configLoader.onLoadStartListener=Ze=>this.events.next(new ki(Ze))}complete(){this.transitions?.complete()}handleNavigationRequest(de){const Pe=++this.navigationId;this.transitions?.next({...this.transitions.value,...de,id:Pe})}setupNavigations(de,Pe,Ze){return this.transitions=new p.t({id:0,currentUrlTree:Pe,currentRawUrl:Pe,extractedUrl:this.urlHandlingStrategy.extract(Pe),urlAfterRedirects:this.urlHandlingStrategy.extract(Pe),rawUrl:Pe,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ai,restoredState:null,currentSnapshot:Ze.snapshot,targetSnapshot:null,currentRouterState:Ze,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,x.p)(yt=>0!==yt.id),(0,S.T)(yt=>({...yt,extractedUrl:this.urlHandlingStrategy.extract(yt.rawUrl)})),(0,O.n)(yt=>{let Kt=!1,xn=!1;return(0,e.of)(yt).pipe((0,O.n)(Mn=>{if(this.navigationId>yt.id)return this.cancelNavigationTransition(yt,"",It.SupersededByNewNavigation),b.w;this.currentTransition=yt,this.currentNavigation={id:Mn.id,initialUrl:Mn.rawUrl,extractedUrl:Mn.extractedUrl,targetBrowserUrl:"string"==typeof Mn.extras.browserUrl?this.urlSerializer.parse(Mn.extras.browserUrl):Mn.extras.browserUrl,trigger:Mn.source,extras:Mn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const _i=!de.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!_i&&"reload"!==(Mn.extras.onSameUrlNavigation??de.onSameUrlNavigation)){const es="";return this.events.next(new gt(Mn.id,this.urlSerializer.serialize(Mn.rawUrl),es,Fe.IgnoredSameUrlNavigation)),Mn.resolve(!1),b.w}if(this.urlHandlingStrategy.shouldProcessUrl(Mn.rawUrl))return(0,e.of)(Mn).pipe((0,O.n)(es=>{const co=this.transitions?.getValue();return this.events.next(new Ii(es.id,this.urlSerializer.serialize(es.extractedUrl),es.source,es.restoredState)),co!==this.transitions?.getValue()?b.w:Promise.resolve(es)}),function ac(le,Se,de,Pe,Ze,yt){return(0,N.Z)(Kt=>function $l(le,Se,de,Pe,Ze,yt,Kt="emptyOnly"){return new Sl(le,Se,de,Pe,Ze,Kt,yt).recognize()}(le,Se,de,Pe,Kt.extractedUrl,Ze,yt).pipe((0,S.T)(({state:xn,tree:Mn})=>({...Kt,targetSnapshot:xn,urlAfterRedirects:Mn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,k.M)(es=>{yt.targetSnapshot=es.targetSnapshot,yt.urlAfterRedirects=es.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:es.urlAfterRedirects};const co=new Cn(es.id,this.urlSerializer.serialize(es.extractedUrl),this.urlSerializer.serialize(es.urlAfterRedirects),es.targetSnapshot);this.events.next(co)}));if(_i&&this.urlHandlingStrategy.shouldProcessUrl(Mn.currentRawUrl)){const{id:es,extractedUrl:co,source:Rl,restoredState:Dr,extras:Kn}=Mn,pa=new Ii(es,this.urlSerializer.serialize(co),Rl,Dr);this.events.next(pa);const Rd=oa(this.rootComponentType).snapshot;return this.currentTransition=yt={...Mn,targetSnapshot:Rd,urlAfterRedirects:co,extras:{...Kn,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=co,(0,e.of)(yt)}{const es="";return this.events.next(new gt(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),es,Fe.IgnoredByUrlHandlingStrategy)),Mn.resolve(!1),b.w}}),(0,k.M)(Mn=>{const _i=new On(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(_i)}),(0,S.T)(Mn=>(this.currentTransition=yt={...Mn,guards:Qi(Mn.targetSnapshot,Mn.currentSnapshot,this.rootContexts)},yt)),function ue(le,Se){return(0,N.Z)(de=>{const{targetSnapshot:Pe,currentSnapshot:Ze,guards:{canActivateChecks:yt,canDeactivateChecks:Kt}}=de;return 0===Kt.length&&0===yt.length?(0,e.of)({...de,guardsResult:!0}):function Ye(le,Se,de,Pe){return(0,c.H)(le).pipe((0,N.Z)(Ze=>function Oe(le,Se,de,Pe,Ze){const yt=Se&&Se.routeConfig?Se.routeConfig.canDeactivate:null;if(!yt||0===yt.length)return(0,e.of)(!0);const Kt=yt.map(xn=>{const Mn=_s(Se)??Ze,_i=Is(xn,Mn);return Ce(function Nr(le){return le&&Po(le.canDeactivate)}(_i)?_i.canDeactivate(le,Se,de,Pe):(0,i.N4e)(Mn,()=>_i(le,Se,de,Pe))).pipe((0,j.$)())});return(0,e.of)(Kt).pipe(St())}(Ze.component,Ze.route,de,Se,Pe)),(0,j.$)(Ze=>!0!==Ze,!0))}(Kt,Pe,Ze,le).pipe((0,N.Z)(xn=>xn&&function gr(le){return"boolean"==typeof le}(xn)?function Dt(le,Se,de,Pe){return(0,c.H)(Se).pipe((0,$.H)(Ze=>(0,v.x)(function Bn(le,Se){return null!==le&&Se&&Se(new ss(le)),(0,e.of)(!0)}(Ze.route.parent,Pe),function nn(le,Se){return null!==le&&Se&&Se(new gs(le)),(0,e.of)(!0)}(Ze.route,Pe),function Ve(le,Se,de){const Pe=Se[Se.length-1],yt=Se.slice(0,Se.length-1).reverse().map(Kt=>function mr(le){const Se=le.routeConfig?le.routeConfig.canActivateChild:null;return Se&&0!==Se.length?{node:le,guards:Se}:null}(Kt)).filter(Kt=>null!==Kt).map(Kt=>(0,E.v)(()=>{const xn=Kt.guards.map(Mn=>{const _i=_s(Kt.node)??de,ds=Is(Mn,_i);return Ce(function br(le){return le&&Po(le.canActivateChild)}(ds)?ds.canActivateChild(Pe,le):(0,i.N4e)(_i,()=>ds(Pe,le))).pipe((0,j.$)())});return(0,e.of)(xn).pipe(St())}));return(0,e.of)(yt).pipe(St())}(le,Ze.path,de),function xe(le,Se,de){const Pe=Se.routeConfig?Se.routeConfig.canActivate:null;if(!Pe||0===Pe.length)return(0,e.of)(!0);const Ze=Pe.map(yt=>(0,E.v)(()=>{const Kt=_s(Se)??de,xn=Is(yt,Kt);return Ce(function da(le){return le&&Po(le.canActivate)}(xn)?xn.canActivate(Se,le):(0,i.N4e)(Kt,()=>xn(Se,le))).pipe((0,j.$)())}));return(0,e.of)(Ze).pipe(St())}(le,Ze.route,de))),(0,j.$)(Ze=>!0!==Ze,!0))}(Pe,yt,le,Se):(0,e.of)(xn)),(0,S.T)(xn=>({...de,guardsResult:xn})))})}(this.environmentInjector,Mn=>this.events.next(Mn)),(0,k.M)(Mn=>{if(yt.guardsResult=Mn.guardsResult,Mn.guardsResult&&"boolean"!=typeof Mn.guardsResult)throw Nt(0,Mn.guardsResult);const _i=new Nn(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot,!!Mn.guardsResult);this.events.next(_i)}),(0,x.p)(Mn=>!!Mn.guardsResult||(this.cancelNavigationTransition(Mn,"",It.GuardRejected),!1)),Wo(Mn=>{if(Mn.guards.canActivateChecks.length)return(0,e.of)(Mn).pipe((0,k.M)(_i=>{const ds=new Qn(_i.id,this.urlSerializer.serialize(_i.extractedUrl),this.urlSerializer.serialize(_i.urlAfterRedirects),_i.targetSnapshot);this.events.next(ds)}),(0,O.n)(_i=>{let ds=!1;return(0,e.of)(_i).pipe(function Xc(le,Se){return(0,N.Z)(de=>{const{targetSnapshot:Pe,guards:{canActivateChecks:Ze}}=de;if(!Ze.length)return(0,e.of)(de);const yt=new Set(Ze.map(Mn=>Mn.route)),Kt=new Set;for(const Mn of yt)if(!Kt.has(Mn))for(const _i of Il(Mn))Kt.add(_i);let xn=0;return(0,c.H)(Kt).pipe((0,$.H)(Mn=>yt.has(Mn)?function Od(le,Se,de,Pe){const Ze=le.routeConfig,yt=le._resolve;return void 0!==Ze?.title&&!Ir(Ze)&&(yt[ce]=Ze.title),function Gl(le,Se,de,Pe){const Ze=J(le);if(0===Ze.length)return(0,e.of)({});const yt={};return(0,c.H)(Ze).pipe((0,N.Z)(Kt=>function Mc(le,Se,de,Pe){const Ze=_s(Se)??Pe,yt=Is(le,Ze);return Ce(yt.resolve?yt.resolve(Se,de):(0,i.N4e)(Ze,()=>yt(Se,de)))}(le[Kt],Se,de,Pe).pipe((0,j.$)(),(0,k.M)(xn=>{if(xn instanceof ut)throw Nt(new hn,xn);yt[Kt]=xn}))),(0,X.o)(1),(0,Q.u)(yt),(0,K.W)(Kt=>ol(Kt)?b.w:(0,M.$)(Kt)))}(yt,le,Se,Pe).pipe((0,S.T)(Kt=>(le._resolvedData=Kt,le.data=ko(le,le.parent,de).resolve,null)))}(Mn,Pe,le,Se):(Mn.data=ko(Mn,Mn.parent,le).resolve,(0,e.of)(void 0))),(0,k.M)(()=>xn++),(0,X.o)(1),(0,N.Z)(Mn=>xn===Kt.size?(0,e.of)(de):b.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,k.M)({next:()=>ds=!0,complete:()=>{ds||this.cancelNavigationTransition(_i,"",It.NoDataFromResolver)}}))}),(0,k.M)(_i=>{const ds=new Jn(_i.id,this.urlSerializer.serialize(_i.extractedUrl),this.urlSerializer.serialize(_i.urlAfterRedirects),_i.targetSnapshot);this.events.next(ds)}))}),Wo(Mn=>{const _i=ds=>{const es=[];ds.routeConfig?.loadComponent&&!ds.routeConfig._loadedComponent&&es.push(this.configLoader.loadComponent(ds.routeConfig).pipe((0,k.M)(co=>{ds.component=co}),(0,S.T)(()=>{})));for(const co of ds.children)es.push(..._i(co));return es};return(0,m.z)(_i(Mn.targetSnapshot.root)).pipe((0,V.U)(null),(0,L.s)(1))}),Wo(()=>this.afterPreactivation()),(0,O.n)(()=>{const{currentSnapshot:Mn,targetSnapshot:_i}=yt,ds=this.createViewTransition?.(this.environmentInjector,Mn.root,_i.root);return ds?(0,c.H)(ds).pipe((0,S.T)(()=>yt)):(0,e.of)(yt)}),(0,S.T)(Mn=>{const _i=function la(le,Se,de){const Pe=Ra(le,Se._root,de?de._root:void 0);return new Sr(Pe,Se)}(de.routeReuseStrategy,Mn.targetSnapshot,Mn.currentRouterState);return this.currentTransition=yt={...Mn,targetRouterState:_i},this.currentNavigation.targetRouterState=_i,yt}),(0,k.M)(()=>{this.events.next(new ps)}),((le,Se,de,Pe)=>(0,S.T)(Ze=>(new Ls(Se,Ze.targetRouterState,Ze.currentRouterState,de,Pe).activate(le),Ze)))(this.rootContexts,de.routeReuseStrategy,Mn=>this.events.next(Mn),this.inputBindingEnabled),(0,L.s)(1),(0,k.M)({next:Mn=>{Kt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xt(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Mn.targetRouterState.snapshot),Mn.resolve(!0)},complete:()=>{Kt=!0}}),(0,te.Q)(this.transitionAbortSubject.pipe((0,k.M)(Mn=>{throw Mn}))),(0,ee.j)(()=>{!Kt&&!xn&&this.cancelNavigationTransition(yt,"",It.SupersededByNewNavigation),this.currentTransition?.id===yt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,K.W)(Mn=>{if(xn=!0,Li(Mn))this.events.next(new Xe(yt.id,this.urlSerializer.serialize(yt.extractedUrl),Mn.message,Mn.cancellationCode)),function hi(le){return Li(le)&&Lt(le.url)}(Mn)?this.events.next(new Ft(Mn.url,Mn.navigationBehaviorOptions)):yt.resolve(!1);else{const _i=new Yt(yt.id,this.urlSerializer.serialize(yt.extractedUrl),Mn,yt.targetSnapshot??void 0);try{const ds=(0,i.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(_i));if(ds instanceof ut){const{message:es,cancellationCode:co}=Nt(0,ds);this.events.next(new Xe(yt.id,this.urlSerializer.serialize(yt.extractedUrl),es,co)),this.events.next(new Ft(ds.redirectTo,ds.navigationBehaviorOptions))}else{this.events.next(_i);const es=de.errorHandler(Mn);yt.resolve(!!es)}}catch(ds){this.options.resolveNavigationPromiseOnError?yt.resolve(!1):yt.reject(ds)}}return b.w}))}))}cancelNavigationTransition(de,Pe,Ze){const yt=new Xe(de.id,this.urlSerializer.serialize(de.extractedUrl),Pe,Ze);this.events.next(yt),de.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const de=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Pe=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return de.toString()!==Pe?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})();function xo(le){return le!==Ai}let Ps=(()=>{class le{static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275prov=i.jDH({token:le,factory:()=>(0,i.WQX)(wa),providedIn:"root"})}}return le})();class wo{shouldDetach(Se){return!1}store(Se,de){}shouldAttach(Se){return!1}retrieve(Se){return null}shouldReuseRoute(Se,de){return Se.routeConfig===de.routeConfig}}let wa=(()=>{class le extends wo{static{this.\u0275fac=(()=>{let de;return function(Ze){return(de||(de=i.xGo(le)))(Ze||le)}})()}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})(),me=(()=>{class le{static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275prov=i.jDH({token:le,factory:()=>(0,i.WQX)(st),providedIn:"root"})}}return le})(),st=(()=>{class le extends me{constructor(){super(...arguments),this.location=(0,i.WQX)(h.aZ),this.urlSerializer=(0,i.WQX)(vn),this.options=(0,i.WQX)(dr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,i.WQX)(Zi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Bt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oa(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(de){return this.location.subscribe(Pe=>{"popstate"===Pe.type&&de(Pe.url,Pe.state)})}handleRouterEvent(de,Pe){if(de instanceof Ii)this.stateMemento=this.createStateMemento();else if(de instanceof gt)this.rawUrlTree=Pe.initialUrl;else if(de instanceof Cn){if("eager"===this.urlUpdateStrategy&&!Pe.extras.skipLocationChange){const Ze=this.urlHandlingStrategy.merge(Pe.finalUrl,Pe.initialUrl);this.setBrowserUrl(Pe.targetBrowserUrl??Ze,Pe)}}else de instanceof ps?(this.currentUrlTree=Pe.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Pe.finalUrl,Pe.initialUrl),this.routerState=Pe.targetRouterState,"deferred"===this.urlUpdateStrategy&&!Pe.extras.skipLocationChange&&this.setBrowserUrl(Pe.targetBrowserUrl??this.rawUrlTree,Pe)):de instanceof Xe&&(de.code===It.GuardRejected||de.code===It.NoDataFromResolver)?this.restoreHistory(Pe):de instanceof Yt?this.restoreHistory(Pe,!0):de instanceof Xt&&(this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId)}setBrowserUrl(de,Pe){const Ze=de instanceof Bt?this.urlSerializer.serialize(de):de;if(this.location.isCurrentPathEqualTo(Ze)||Pe.extras.replaceUrl){const Kt={...Pe.extras.state,...this.generateNgRouterState(Pe.id,this.browserPageId)};this.location.replaceState(Ze,"",Kt)}else{const yt={...Pe.extras.state,...this.generateNgRouterState(Pe.id,this.browserPageId+1)};this.location.go(Ze,"",yt)}}restoreHistory(de,Pe=!1){if("computed"===this.canceledNavigationResolution){const yt=this.currentPageId-this.browserPageId;0!==yt?this.location.historyGo(yt):this.currentUrlTree===de.finalUrl&&0===yt&&(this.resetState(de),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Pe&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,de.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,Pe){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:Pe}:{navigationId:de}}static{this.\u0275fac=(()=>{let de;return function(Ze){return(de||(de=i.xGo(le)))(Ze||le)}})()}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})();var Ae=function(le){return le[le.COMPLETE=0]="COMPLETE",le[le.FAILED=1]="FAILED",le[le.REDIRECTING=2]="REDIRECTING",le}(Ae||{});function et(le,Se){le.events.pipe((0,x.p)(de=>de instanceof Xt||de instanceof Xe||de instanceof Yt||de instanceof gt),(0,S.T)(de=>de instanceof Xt||de instanceof gt?Ae.COMPLETE:de instanceof Xe&&(de.code===It.Redirect||de.code===It.SupersededByNewNavigation)?Ae.REDIRECTING:Ae.FAILED),(0,x.p)(de=>de!==Ae.REDIRECTING),(0,L.s)(1)).subscribe(()=>{Se()})}function Wt(le){throw le}const Rn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mi=(()=>{class le{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,i.WQX)(i.H3F),this.stateManager=(0,i.WQX)(me),this.options=(0,i.WQX)(dr,{optional:!0})||{},this.pendingTasks=(0,i.WQX)(i.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,i.WQX)(fo),this.urlSerializer=(0,i.WQX)(vn),this.location=(0,i.WQX)(h.aZ),this.urlHandlingStrategy=(0,i.WQX)(Zi),this._events=new D.B,this.errorHandler=this.options.errorHandler||Wt,this.navigated=!1,this.routeReuseStrategy=(0,i.WQX)(Ps),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,i.WQX)(mn,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,i.WQX)(Pa,{optional:!0}),this.eventsSubscription=new I.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:de=>{this.console.warn(de)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const de=this.navigationTransitions.events.subscribe(Pe=>{try{const Ze=this.navigationTransitions.currentTransition,yt=this.navigationTransitions.currentNavigation;if(null!==Ze&&null!==yt)if(this.stateManager.handleRouterEvent(Pe,yt),Pe instanceof Xe&&Pe.code!==It.Redirect&&Pe.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(Pe instanceof Xt)this.navigated=!0;else if(Pe instanceof Ft){const Kt=Pe.navigationBehaviorOptions,xn=this.urlHandlingStrategy.merge(Pe.url,Ze.currentRawUrl),Mn={browserUrl:Ze.extras.browserUrl,info:Ze.extras.info,skipLocationChange:Ze.extras.skipLocationChange,replaceUrl:Ze.extras.replaceUrl||"eager"===this.urlUpdateStrategy||xo(Ze.source),...Kt};this.scheduleNavigation(xn,Ai,null,Mn,{resolve:Ze.resolve,reject:Ze.reject,promise:Ze.promise})}(function mo(le){return!(le instanceof ps||le instanceof Ft)})(Pe)&&this._events.next(Pe)}catch(Ze){this.navigationTransitions.transitionAbortSubject.next(Ze)}});this.eventsSubscription.add(de)}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ai,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((de,Pe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(de,"popstate",Pe)},0)})}navigateToSyncWithBrowser(de,Pe,Ze){const yt={replaceUrl:!0},Kt=Ze?.navigationId?Ze:null;if(Ze){const Mn={...Ze};delete Mn.navigationId,delete Mn.\u0275routerPageId,0!==Object.keys(Mn).length&&(yt.state=Mn)}const xn=this.parseUrl(de);this.scheduleNavigation(xn,Pe,Kt,yt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map($t),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(de,Pe={}){const{relativeTo:Ze,queryParams:yt,fragment:Kt,queryParamsHandling:xn,preserveFragment:Mn}=Pe,_i=Mn?this.currentUrlTree.fragment:Kt;let es,ds=null;switch(xn??this.options.defaultQueryParamsHandling){case"merge":ds={...this.currentUrlTree.queryParams,...yt};break;case"preserve":ds=this.currentUrlTree.queryParams;break;default:ds=yt||null}null!==ds&&(ds=this.removeEmptyProps(ds));try{es=Sn(Ze?Ze.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||"/"!==de[0][0])&&(de=[]),es=this.currentUrlTree.root}return $n(es,de,ds,_i??null)}navigateByUrl(de,Pe={skipLocationChange:!1}){const Ze=Lt(de)?de:this.parseUrl(de),yt=this.urlHandlingStrategy.merge(Ze,this.rawUrlTree);return this.scheduleNavigation(yt,Ai,null,Pe)}navigate(de,Pe={skipLocationChange:!1}){return function Ys(le){for(let Se=0;Se<le.length;Se++)if(null==le[Se])throw new i.wOt(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,Pe),Pe)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){try{return this.urlSerializer.parse(de)}catch{return this.urlSerializer.parse("/")}}isActive(de,Pe){let Ze;if(Ze=!0===Pe?{...Rn}:!1===Pe?{...Gn}:Pe,Lt(de))return nt(this.currentUrlTree,de,Ze);const yt=this.parseUrl(de);return nt(this.currentUrlTree,yt,Ze)}removeEmptyProps(de){return Object.entries(de).reduce((Pe,[Ze,yt])=>(null!=yt&&(Pe[Ze]=yt),Pe),{})}scheduleNavigation(de,Pe,Ze,yt,Kt){if(this.disposed)return Promise.resolve(!1);let xn,Mn,_i;Kt?(xn=Kt.resolve,Mn=Kt.reject,_i=Kt.promise):_i=new Promise((es,co)=>{xn=es,Mn=co});const ds=this.pendingTasks.add();return et(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ds))}),this.navigationTransitions.handleNavigationRequest({source:Pe,restoredState:Ze,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:yt,resolve:xn,reject:Mn,promise:_i,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_i.catch(es=>Promise.reject(es))}static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})(),Hs=(()=>{class le{constructor(de,Pe,Ze,yt,Kt,xn){this.router=de,this.route=Pe,this.tabIndexAttribute=Ze,this.renderer=yt,this.el=Kt,this.locationStrategy=xn,this.href=null,this.onChanges=new D.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Mn=Kt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Mn||"area"===Mn,this.isAnchorElement?this.subscription=de.events.subscribe(_i=>{_i instanceof Xt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null==de?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Lt(de)||Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0"))}onClick(de,Pe,Ze,yt,Kt){const xn=this.urlTree;return!!(null===xn||this.isAnchorElement&&(0!==de||Pe||Ze||yt||Kt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(xn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const de=this.urlTree;this.href=null!==de&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(de)):null;const Pe=null===this.href?null:(0,i.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Pe)}applyAttributeValue(de,Pe){const Ze=this.renderer,yt=this.el.nativeElement;null!==Pe?Ze.setAttribute(yt,de,Pe):Ze.removeAttribute(yt,de)}get urlTree(){return null===this.routerLinkInput?null:Lt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(Pe){return new(Pe||le)(i.rXU(mi),i.rXU(Xr),i.kS0("tabindex"),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(h.hb))}}static{this.\u0275dir=i.FsC({type:le,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Pe,Ze){1&Pe&&i.bIt("click",function(Kt){return Ze.onClick(Kt.button,Kt.ctrlKey,Kt.shiftKey,Kt.altKey,Kt.metaKey)}),2&Pe&&i.BMQ("target",Ze.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",i.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",i.L39],replaceUrl:[2,"replaceUrl","replaceUrl",i.L39],routerLink:"routerLink"},standalone:!0,features:[i.GFd,i.OA$]})}}return le})(),Bs=(()=>{class le{get isActive(){return this._isActive}constructor(de,Pe,Ze,yt,Kt){this.router=de,this.element=Pe,this.renderer=Ze,this.cdr=yt,this.link=Kt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.bkB,this.routerEventsSubscription=de.events.subscribe(xn=>{xn instanceof Xt&&this.update()})}ngAfterContentInit(){(0,e.of)(this.links.changes,(0,e.of)(null)).pipe((0,he.U)()).subscribe(de=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const de=[...this.links.toArray(),this.link].filter(Pe=>!!Pe).map(Pe=>Pe.onChanges);this.linkInputChangesSubscription=(0,c.H)(de).pipe((0,he.U)()).subscribe(Pe=>{this._isActive!==this.isLinkActive(this.router)(Pe)&&this.update()})}set routerLinkActive(de){const Pe=Array.isArray(de)?de:de.split(" ");this.classes=Pe.filter(Ze=>!!Ze)}ngOnChanges(de){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const de=this.hasActiveLinks();this.classes.forEach(Pe=>{de?this.renderer.addClass(this.element.nativeElement,Pe):this.renderer.removeClass(this.element.nativeElement,Pe)}),de&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==de&&(this._isActive=de,this.cdr.markForCheck(),this.isActiveChange.emit(de))})}isLinkActive(de){const Pe=function lo(le){return!!le.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Ze=>{const yt=Ze.urlTree;return!!yt&&de.isActive(yt,Pe)}}hasActiveLinks(){const de=this.isLinkActive(this.router);return this.link&&de(this.link)||this.links.some(de)}static{this.\u0275fac=function(Pe){return new(Pe||le)(i.rXU(mi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.gRc),i.rXU(Hs,8))}}static{this.\u0275dir=i.FsC({type:le,selectors:[["","routerLinkActive",""]],contentQueries:function(Pe,Ze,yt){if(1&Pe&&i.wni(yt,Hs,5),2&Pe){let Kt;i.mGM(Kt=i.lsd())&&(Ze.links=Kt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[i.OA$]})}}return le})();class zs{}let ii=(()=>{class le{preload(de,Pe){return(0,e.of)(null)}static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})(),Bi=(()=>{class le{constructor(de,Pe,Ze,yt,Kt){this.router=de,this.injector=Ze,this.preloadingStrategy=yt,this.loader=Kt}setUpPreloading(){this.subscription=this.router.events.pipe((0,x.p)(de=>de instanceof Xt),(0,$.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,Pe){const Ze=[];for(const yt of Pe){yt.providers&&!yt._injector&&(yt._injector=(0,i.Ol2)(yt.providers,de,`Route: ${yt.path}`));const Kt=yt._injector??de,xn=yt._loadedInjector??Kt;(yt.loadChildren&&!yt._loadedRoutes&&void 0===yt.canLoad||yt.loadComponent&&!yt._loadedComponent)&&Ze.push(this.preloadConfig(Kt,yt)),(yt.children||yt._loadedRoutes)&&Ze.push(this.processRoutes(xn,yt.children??yt._loadedRoutes))}return(0,c.H)(Ze).pipe((0,he.U)())}preloadConfig(de,Pe){return this.preloadingStrategy.preload(Pe,()=>{let Ze;Ze=Pe.loadChildren&&void 0===Pe.canLoad?this.loader.loadChildren(de,Pe):(0,e.of)(null);const yt=Ze.pipe((0,N.Z)(Kt=>null===Kt?(0,e.of)(void 0):(Pe._loadedRoutes=Kt.routes,Pe._loadedInjector=Kt.injector,this.processRoutes(Kt.injector??de,Kt.routes))));if(Pe.loadComponent&&!Pe._loadedComponent){const Kt=this.loader.loadComponent(Pe);return(0,c.H)([yt,Kt]).pipe((0,he.U)())}return yt})}static{this.\u0275fac=function(Pe){return new(Pe||le)(i.KVO(mi),i.KVO(i.Ql9),i.KVO(i.uvJ),i.KVO(zs),i.KVO(Pn))}}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})();const Xs=new i.nKC("");let nr=(()=>{class le{constructor(de,Pe,Ze,yt,Kt={}){this.urlSerializer=de,this.transitions=Pe,this.viewportScroller=Ze,this.zone=yt,this.options=Kt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Kt.scrollPositionRestoration||="disabled",Kt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof Xt?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof gt&&de.code===Fe.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Ji&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,Pe){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ji(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,Pe))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(Pe){i.QTQ()}}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac})}}return le})();function to(le,...Se){return(0,i.EmA)([{provide:mn,multi:!0,useValue:le},[],{provide:Xr,useFactory:go,deps:[mi]},{provide:i.iLQ,multi:!0,useFactory:ll},Se.map(de=>de.\u0275providers)])}function go(le){return le.routerState.root}function Do(le,Se){return{\u0275kind:le,\u0275providers:Se}}function cs(le={}){return Do(4,[{provide:Xs,useFactory:()=>{const de=(0,i.WQX)(h.Xr),Pe=(0,i.WQX)(i.SKi),Ze=(0,i.WQX)(fo),yt=(0,i.WQX)(vn);return new nr(yt,Ze,de,Pe,le)}}])}function ll(){const le=(0,i.WQX)(i.zZn);return Se=>{const de=le.get(i.o8S);if(Se!==de.components[0])return;const Pe=le.get(mi),Ze=le.get(Oc);1===le.get(za)&&Pe.initialNavigation(),le.get(La,null,i.$GK.Optional)?.setUpPreloading(),le.get(Xs,null,i.$GK.Optional)?.init(),Pe.resetRootComponentType(de.componentTypes[0]),Ze.closed||(Ze.next(),Ze.complete(),Ze.unsubscribe())}}const Oc=new i.nKC("",{factory:()=>new D.B}),za=new i.nKC("",{providedIn:"root",factory:()=>1});function No(){return Do(2,[{provide:za,useValue:0},{provide:i.hnV,multi:!0,deps:[i.zZn],useFactory:Se=>{const de=Se.get(h.hj,Promise.resolve());return()=>de.then(()=>new Promise(Pe=>{const Ze=Se.get(mi),yt=Se.get(Oc);et(Ze,()=>{Pe(!0)}),Se.get(fo).afterPreactivation=()=>(Pe(!0),yt.closed?(0,e.of)(void 0):yt),Ze.initialNavigation()}))}}])}const La=new i.nKC("");function Rr(le){return Do(0,[{provide:La,useExisting:Bi},{provide:zs,useExisting:le}])}function Xa(le){return Do(5,[{provide:dr,useValue:le}])}function ha(){return Do(8,[Ga,{provide:Pa,useExisting:Ga}])}function Xi(le){return Do(9,[{provide:eo,useValue:bo},{provide:xs,useValue:{skipNextTransition:!!le?.skipInitialTransition,...le}}])}const To=new i.nKC("ROUTER_FORROOT_GUARD"),Jr=[h.aZ,{provide:vn,useClass:hn},mi,pr,{provide:Xr,useFactory:go,deps:[mi]},Pn,[]];let Pl=(()=>{class le{constructor(de){}static forRoot(de,Pe){return{ngModule:le,providers:[Jr,[],{provide:mn,multi:!0,useValue:de},{provide:To,useFactory:ir,deps:[[mi,new i.Xx1,new i.kdw]]},{provide:dr,useValue:Pe||{}},Pe?.useHash?{provide:h.hb,useClass:h.fw}:{provide:h.hb,useClass:h.Sm},{provide:Xs,useFactory:()=>{const le=(0,i.WQX)(h.Xr),Se=(0,i.WQX)(i.SKi),de=(0,i.WQX)(dr),Pe=(0,i.WQX)(fo),Ze=(0,i.WQX)(vn);return de.scrollOffset&&le.setOffset(de.scrollOffset),new nr(Ze,Pe,le,Se,de)}},Pe?.preloadingStrategy?Rr(Pe.preloadingStrategy).\u0275providers:[],Pe?.initialNavigation?Zr(Pe):[],Pe?.bindToComponentInputs?ha().\u0275providers:[],Pe?.enableViewTransitions?Xi().\u0275providers:[],[{provide:Cu,useFactory:ll},{provide:i.iLQ,multi:!0,useExisting:Cu}]]}}static forChild(de){return{ngModule:le,providers:[{provide:mn,multi:!0,useValue:de}]}}static{this.\u0275fac=function(Pe){return new(Pe||le)(i.KVO(To,8))}}static{this.\u0275mod=i.$C({type:le})}static{this.\u0275inj=i.G2t({})}}return le})();function ir(le){return"guarded"}function Zr(le){return["disabled"===le.initialNavigation?Do(3,[{provide:i.hnV,multi:!0,useFactory:()=>{const Se=(0,i.WQX)(mi);return()=>{Se.setUpLocationChangeListener()}}},{provide:za,useValue:2}]).\u0275providers:[],"enabledBlocking"===le.initialNavigation?No().\u0275providers:[]]}const Cu=new i.nKC("")},23632:(B,C,n)=>{"use strict";n.d(C,{Fv:()=>Te,O7:()=>ve,cz:()=>He});var i=n(54438),t=n(345),c=n(60177),e=n(49969);const p=it=>({"ngx-gallery-active":it});function m(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"div",1),i.bIt("click",function(ft){const vn=i.eBV(Ee).index,hn=i.XpG();return i.Njj(hn.handleChange(ft,vn))}),i.k0s()}if(2&it){const Ee=Tt.index,je=i.XpG();i.Y8G("ngClass",i.eq3(1,p,Ee===je.active))}}const f=["previewImage"];function v(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-arrows",17),i.bIt("prevClick",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.showPrev())})("nextClick",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.showNext())}),i.k0s()}if(2&it){const Ee=i.XpG();i.Y8G("prevDisabled",!Ee.canShowPrev())("nextDisabled",!Ee.canShowNext())("arrowPrevIcon",Ee.arrowPrevIcon)("arrowNextIcon",Ee.arrowNextIcon)}}function E(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",18),i.bIt("closeClick",function(ft){const vn=i.eBV(Ee).$implicit,hn=i.XpG();return i.Njj(vn.onClick(ft,hn.index))}),i.k0s()}if(2&it){const Ee=Tt.$implicit;i.Y8G("icon",Ee.icon)("disabled",Ee.disabled)("titleText",Ee.titleText)}}function y(it,Tt){if(1&it&&(i.j41(0,"a",19),i.nrm(1,"i"),i.k0s()),2&it){const Ee=i.XpG();i.Y8G("href",Ee.src,i.B4B),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Ee.downloadIcon,"")}}function M(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.zoomOut())}),i.k0s()}if(2&it){const Ee=i.XpG();i.Y8G("icon",Ee.zoomOutIcon)("disabled",!Ee.canZoomOut())}}function b(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.zoomIn())}),i.k0s()}if(2&it){const Ee=i.XpG();i.Y8G("icon",Ee.zoomInIcon)("disabled",!Ee.canZoomIn())}}function P(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.rotateLeft())}),i.k0s()}if(2&it){const Ee=i.XpG();i.Y8G("icon",Ee.rotateLeftIcon)}}function D(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.rotateRight())}),i.k0s()}if(2&it){const Ee=i.XpG();i.Y8G("icon",Ee.rotateRightIcon)}}function I(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.manageFullscreen())}),i.k0s()}if(2&it){const Ee=i.XpG();i.Y8G("icon","ngx-gallery-fullscreen "+Ee.fullscreenIcon)}}function h(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"img",21,0),i.bIt("click",function(ft){return i.eBV(Ee),i.Njj(ft.stopPropagation())})("mouseenter",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.imageMouseEnter())})("mouseleave",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.imageMouseLeave())})("mousedown",function(ft){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.mouseDownHandler(ft))})("touchstart",function(ft){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.mouseDownHandler(ft))}),i.k0s()}if(2&it){const Ee=i.XpG();i.xc7("transform",Ee.getTransform())("left",Ee.positionLeft+"px")("top",Ee.positionTop+"px"),i.AVh("ngx-gallery-active",!Ee.loading)("animation",Ee.animation)("ngx-gallery-grab",Ee.canDragOnZoom()),i.Y8G("src",Ee.src,i.B4B)}}function S(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"video",22,0),i.bIt("click",function(ft){return i.eBV(Ee),i.Njj(ft.stopPropagation())})("mouseenter",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.imageMouseEnter())})("mouseleave",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.imageMouseLeave())})("mousedown",function(ft){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.mouseDownHandler(ft))})("touchstart",function(ft){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.mouseDownHandler(ft))}),i.nrm(2,"source",23),i.EFF(3," Your browser does not support the video tag. "),i.k0s()}if(2&it){const Ee=i.XpG();i.xc7("transform",Ee.getTransform())("left",Ee.positionLeft+"px")("top",Ee.positionTop+"px"),i.AVh("ngx-gallery-active",!Ee.loading)("animation",Ee.animation)("ngx-gallery-grab",Ee.canDragOnZoom()),i.R7$(2),i.Y8G("src",Ee.src,i.B4B)}}function O(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-bullets",24),i.bIt("bulletChange",function(ft){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.showAtIndex(ft))}),i.k0s()}if(2&it){const Ee=i.XpG();i.Y8G("count",Ee.images.length)("active",Ee.index)}}function L(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"div",25),i.bIt("click",function(ft){return i.eBV(Ee),i.Njj(ft.stopPropagation())}),i.k0s()}if(2&it){const Ee=i.XpG();i.Y8G("innerHTML",Ee.description,i.npT)}}const T=it=>({"ngx-gallery-clickable":it});function x(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(ft){const vn=i.eBV(Ee).$implicit,hn=i.XpG(2).$implicit;return i.Njj(vn.onClick(ft,hn.index))}),i.k0s()}if(2&it){const Ee=Tt.$implicit;i.Y8G("icon",Ee.icon)("disabled",Ee.disabled)("titleText",Ee.titleText)}}function N(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"div",9),i.bIt("click",function(ft){return i.eBV(Ee),i.Njj(ft.stopPropagation())}),i.k0s()}if(2&it){const Ee=i.XpG(2).$implicit,je=i.XpG();i.Y8G("innerHTML",je.descriptions[Ee.index],i.npT)}}function j(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"div",4),i.bIt("click",function(ft){i.eBV(Ee);const vn=i.XpG().$implicit,hn=i.XpG();return i.Njj(hn.handleClick(ft,vn.index))})("@animation.start",function(ft){i.eBV(Ee);const vn=i.XpG(2);return i.Njj(vn.onStart(ft))})("@animation.done",function(ft){i.eBV(Ee);const vn=i.XpG(2);return i.Njj(vn.onDone(ft))}),i.j41(1,"div",5),i.DNE(2,x,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(3,N,1,1,"div",7),i.k0s()}if(2&it){const Ee=i.XpG().$implicit,je=i.XpG();i.xc7("background-image",je.getSafeUrl(Ee.src)),i.Y8G("ngClass",i.eq3(6,T,je.clickable))("@animation",je.action),i.R7$(2),i.Y8G("ngForOf",je.actions),i.R7$(),i.Y8G("ngIf",je.showDescription&&je.descriptions[Ee.index])}}function $(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(ft){const vn=i.eBV(Ee).$implicit,hn=i.XpG(2).$implicit;return i.Njj(vn.onClick(ft,hn.index))}),i.k0s()}if(2&it){const Ee=Tt.$implicit;i.Y8G("icon",Ee.icon)("disabled",Ee.disabled)("titleText",Ee.titleText)}}function k(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"div",9),i.bIt("click",function(ft){return i.eBV(Ee),i.Njj(ft.stopPropagation())}),i.k0s()}if(2&it){const Ee=i.XpG(2).$implicit,je=i.XpG();i.Y8G("innerHTML",je.descriptions[Ee.index],i.npT)}}function K(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"div",4),i.bIt("click",function(ft){i.eBV(Ee);const vn=i.XpG().$implicit,hn=i.XpG();return i.Njj(hn.handleClick(ft,vn.index))})("@animation.start",function(ft){i.eBV(Ee);const vn=i.XpG(2);return i.Njj(vn.onStart(ft))})("@animation.done",function(ft){i.eBV(Ee);const vn=i.XpG(2);return i.Njj(vn.onDone(ft))}),i.j41(1,"video",10),i.nrm(2,"source",11),i.EFF(3," Your browser does not support the video tag. "),i.k0s(),i.j41(4,"div",5),i.DNE(5,$,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(6,k,1,1,"div",7),i.k0s()}if(2&it){const Ee=i.XpG().$implicit,je=i.XpG();i.xc7("background-image",je.getSafeUrl(Ee.src)),i.Y8G("ngClass",i.eq3(7,T,je.clickable))("@animation",je.action),i.R7$(2),i.Y8G("src",Ee.src,i.B4B),i.R7$(3),i.Y8G("ngForOf",je.actions),i.R7$(),i.Y8G("ngIf",je.showDescription&&je.descriptions[Ee.index])}}function z(it,Tt){if(1&it&&(i.qex(0),i.DNE(1,j,4,8,"div",3)(2,K,7,9,"div",3),i.bVm()),2&it){const Ee=Tt.$implicit,je=i.XpG();i.R7$(),i.Y8G("ngIf","image"===Ee.type&&Ee.index===je._selectedIndex),i.R7$(),i.Y8G("ngIf","video"===Ee.type&&Ee.index===je._selectedIndex)}}function V(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-bullets",12),i.bIt("bulletChange",function(ft){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.show(ft))}),i.k0s()}if(2&it){const Ee=i.XpG();i.Y8G("count",Ee.images.length)("active",Ee._selectedIndex)}}function G(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-arrows",13),i.bIt("prevClick",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.showPrev())})("nextClick",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.showNext())}),i.k0s()}if(2&it){const Ee=i.XpG();i.ZvI("ngx-gallery-image-size-",Ee.size,""),i.Y8G("prevDisabled",!Ee.canShowPrev())("nextDisabled",!Ee.canShowNext())("arrowPrevIcon",Ee.arrowPrevIcon)("arrowNextIcon",Ee.arrowNextIcon)}}const X=(it,Tt)=>({"ngx-gallery-active":it,"ngx-gallery-clickable":Tt});function Q(it,Tt){if(1&it&&i.nrm(0,"div",9),2&it){const Ee=i.XpG(),je=Ee.$implicit,ft=Ee.index,vn=i.XpG();i.xc7("background-image",vn.getSafeUrl(je)),i.Y8G("ngClass",i.l_i(3,X,ft===vn.selectedIndex,vn.clickable))}}function ee(it,Tt){if(1&it&&(i.j41(0,"div",10)(1,"video",11),i.nrm(2,"source",12),i.EFF(3," Your browser does not support the video tag. "),i.k0s()()),2&it){const Ee=i.XpG(),je=Ee.$implicit,ft=Ee.index,vn=i.XpG();i.R7$(),i.Y8G("ngClass",i.l_i(2,X,ft===vn.selectedIndex,vn.clickable)),i.R7$(),i.Y8G("src",je,i.B4B)}}function ie(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-action",13),i.bIt("closeClick",function(ft){const vn=i.eBV(Ee).$implicit,hn=i.XpG().index;return i.Njj(vn.onClick(ft,hn))}),i.k0s()}if(2&it){const Ee=Tt.$implicit;i.Y8G("icon",Ee.icon)("disabled",Ee.disabled)("titleText",Ee.titleText)}}function te(it,Tt){if(1&it&&(i.j41(0,"div",14)(1,"span",15),i.EFF(2),i.k0s()()),2&it){const Ee=i.XpG(2);i.R7$(2),i.SpI("+",Ee.remainingCountValue,"")}}function he(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"a",3),i.bIt("click",function(ft){const vn=i.eBV(Ee).index,hn=i.XpG();return i.Njj(hn.handleClick(ft,vn))}),i.DNE(1,Q,1,6,"div",4)(2,ee,4,5,"div",5),i.j41(3,"div",6),i.DNE(4,ie,1,3,"ngx-gallery-action",7),i.k0s(),i.DNE(5,te,3,1,"div",8),i.k0s()}if(2&it){const Ee=Tt.$implicit,je=Tt.index,ft=i.XpG();i.xc7("width",ft.getThumbnailWidth())("height",ft.getThumbnailHeight())("left",ft.getThumbnailLeft(je))("top",ft.getThumbnailTop(je)),i.Y8G("href",ft.hasLink(je)?ft.links[je]:"#",i.B4B)("target",ft.linkTarget)("ngClass",i.l_i(16,X,je===ft.selectedIndex,ft.clickable)),i.BMQ("aria-label",ft.labels[je]),i.R7$(),i.Y8G("ngIf","image"===ft.getFileType(Ee)),i.R7$(),i.Y8G("ngIf","video"===ft.getFileType(Ee)),i.R7$(2),i.Y8G("ngForOf",ft.actions),i.R7$(),i.Y8G("ngIf",ft.remainingCount&&ft.remainingCountValue&&je===ft.rows*ft.columns-1)}}function ye(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-arrows",16),i.bIt("prevClick",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.moveLeft())})("nextClick",function(){i.eBV(Ee);const ft=i.XpG();return i.Njj(ft.moveRight())}),i.k0s()}if(2&it){const Ee=i.XpG();i.Y8G("prevDisabled",!Ee.canMoveLeft())("nextDisabled",!Ee.canMoveRight())("arrowPrevIcon",Ee.arrowPrevIcon)("arrowNextIcon",Ee.arrowNextIcon)}}const re=()=>[];function ce(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-image",3),i.bIt("imageClick",function(ft){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.openPreview(ft))})("activeChange",function(ft){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.selectFromImage(ft))})("animating",function(ft){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.setAnimating(ft))}),i.k0s()}if(2&it){const Ee=i.XpG();i.xc7("height",Ee.getImageHeight()),i.Y8G("images",Ee.mediumImages)("clickable",null==Ee.currentOptions?null:Ee.currentOptions.preview)("selectedIndex",Ee.selectedIndex)("arrows",null==Ee.currentOptions?null:Ee.currentOptions.imageArrows)("arrowsAutoHide",null==Ee.currentOptions?null:Ee.currentOptions.imageArrowsAutoHide)("arrowPrevIcon",null==Ee.currentOptions?null:Ee.currentOptions.arrowPrevIcon)("arrowNextIcon",null==Ee.currentOptions?null:Ee.currentOptions.arrowNextIcon)("swipe",null==Ee.currentOptions?null:Ee.currentOptions.imageSwipe)("animation",null==Ee.currentOptions?null:Ee.currentOptions.imageAnimation)("size",null==Ee.currentOptions?null:Ee.currentOptions.imageSize)("autoPlay",null==Ee.currentOptions?null:Ee.currentOptions.imageAutoPlay)("autoPlayInterval",null==Ee.currentOptions?null:Ee.currentOptions.imageAutoPlayInterval)("autoPlayPauseOnHover",null==Ee.currentOptions?null:Ee.currentOptions.imageAutoPlayPauseOnHover)("infinityMove",null==Ee.currentOptions?null:Ee.currentOptions.imageInfinityMove)("lazyLoading",null==Ee.currentOptions?null:Ee.currentOptions.lazyLoading)("actions",null==Ee.currentOptions?null:Ee.currentOptions.imageActions)("descriptions",Ee.descriptions)("showDescription",null==Ee.currentOptions?null:Ee.currentOptions.imageDescription)("bullets",null==Ee.currentOptions?null:Ee.currentOptions.imageBullets)}}function Z(it,Tt){if(1&it){const Ee=i.RV6();i.j41(0,"ngx-gallery-thumbnails",4),i.bIt("activeChange",function(ft){i.eBV(Ee);const vn=i.XpG();return i.Njj(vn.selectFromThumbnails(ft))}),i.k0s()}if(2&it){const Ee=i.XpG();i.xc7("margin-top",Ee.getThumbnailsMarginTop())("margin-bottom",Ee.getThumbnailsMarginBottom())("height",Ee.getThumbnailsHeight()),i.Y8G("images",Ee.smallImages)("isAnimating",Ee.isAnimating)("links",null!=Ee.currentOptions&&Ee.currentOptions.thumbnailsAsLinks?Ee.links:i.lJ4(28,re))("labels",Ee.labels)("linkTarget",null==Ee.currentOptions?null:Ee.currentOptions.linkTarget)("selectedIndex",Ee.selectedIndex)("columns",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsColumns)("rows",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsRows)("margin",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailMargin)("arrows",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsArrows)("arrowsAutoHide",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsArrowsAutoHide)("arrowPrevIcon",null==Ee.currentOptions?null:Ee.currentOptions.arrowPrevIcon)("arrowNextIcon",null==Ee.currentOptions?null:Ee.currentOptions.arrowNextIcon)("clickable",(null==Ee.currentOptions?null:Ee.currentOptions.image)||(null==Ee.currentOptions?null:Ee.currentOptions.preview))("swipe",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsSwipe)("size",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailSize)("moveSize",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsMoveSize)("order",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsOrder)("remainingCount",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailsRemainingCount)("lazyLoading",null==Ee.currentOptions?null:Ee.currentOptions.lazyLoading)("actions",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailActions)("ngClass",null==Ee.currentOptions?null:Ee.currentOptions.thumbnailClasses)}}let ne=(()=>{class it{constructor(Ee){this.renderer=Ee,this.swipeHandlers=new Map}manageSwipe(Ee,je,ft,vn,hn){const Un=this.getSwipeHandlers(ft);try{Ee&&!Un?this.swipeHandlers.set(ft,[this.renderer.listen(je.nativeElement,"swipeleft",()=>vn()),this.renderer.listen(je.nativeElement,"swiperight",()=>hn())]):!Ee&&Un&&(Un.map(Ct=>Ct()),this.removeSwipeHandlers(ft))}catch{}}validateUrl(Ee){return Ee.replace?Ee.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):Ee}getBackgroundUrl(Ee){return"url('"+this.validateUrl(Ee)+"')"}getFileType(Ee){const je=Ee.split(".").pop().toLowerCase();return"avi"===je||"flv"===je||"wmv"===je||"mov"===je||"mp4"===je?"video":"image"}getSwipeHandlers(Ee){return this.swipeHandlers.get(Ee)}removeSwipeHandlers(Ee){this.swipeHandlers.delete(Ee)}}return it.\u0275fac=function(Ee){return new(Ee||it)(i.KVO(i.sFG))},it.\u0275prov=i.jDH({token:it,factory:it.\u0275fac,providedIn:"root"}),it})(),fe=(()=>{class it{constructor(){this.prevClick=new i.bkB,this.nextClick=new i.bkB}handlePrevClick(){this.prevClick.emit()}handleNextClick(){this.nextClick.emit()}}return it.\u0275fac=function(Ee){return new(Ee||it)},it.\u0275cmp=i.VBU({type:it,selectors:[["ngx-gallery-arrows"]],inputs:{prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon"},outputs:{prevClick:"prevClick",nextClick:"nextClick"},decls:6,vars:10,consts:[[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-left"],["aria-hidden","true",1,"ngx-gallery-icon","ngx-gallery-arrow",3,"click"],[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-right"]],template:function(Ee,je){1&Ee&&(i.j41(0,"div",0)(1,"div",1),i.bIt("click",function(){return je.handlePrevClick()}),i.nrm(2,"i"),i.k0s()(),i.j41(3,"div",2)(4,"div",1),i.bIt("click",function(){return je.handleNextClick()}),i.nrm(5,"i"),i.k0s()()),2&Ee&&(i.R7$(),i.AVh("ngx-gallery-disabled",je.prevDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",je.arrowPrevIcon,""),i.R7$(2),i.AVh("ngx-gallery-disabled",je.nextDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",je.arrowNextIcon,""))},styles:[".ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{position:absolute;height:100%;width:1px;display:table;table-layout:fixed}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]   .ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{z-index:10001}.ngx-gallery-arrow-left[_ngcontent-%COMP%]{left:0}.ngx-gallery-arrow-right[_ngcontent-%COMP%]{right:0}.ngx-gallery-arrow[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);cursor:pointer}.ngx-gallery-arrow.ngx-gallery-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default}.ngx-gallery-arrow-left[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{left:10px}.ngx-gallery-arrow-right[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{right:10px}"],changeDetection:0}),it})(),ae=(()=>{class it{constructor(){this.disabled=!1,this.titleText="",this.closeClick=new i.bkB}handleClick(Ee){this.disabled||this.closeClick.emit(Ee),Ee.stopPropagation(),Ee.preventDefault()}}return it.\u0275fac=function(Ee){return new(Ee||it)},it.\u0275cmp=i.VBU({type:it,selectors:[["ngx-gallery-action"]],inputs:{icon:"icon",disabled:"disabled",titleText:"titleText"},outputs:{closeClick:"closeClick"},decls:2,vars:6,consts:[["aria-hidden","true",1,"ngx-gallery-icon",3,"click","title"]],template:function(Ee,je){1&Ee&&(i.j41(0,"div",0),i.bIt("click",function(vn){return je.handleClick(vn)}),i.nrm(1,"i"),i.k0s()),2&Ee&&(i.AVh("ngx-gallery-icon-disabled",je.disabled),i.FS9("title",je.titleText),i.R7$(),i.ZvI("ngx-gallery-icon-content ",je.icon,""))},styles:[".ngx-gallery-icon[_ngcontent-%COMP%]{color:#fff;font-size:25px;position:absolute;z-index:2000;display:inline-block}.ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-icon[_ngcontent-%COMP%]   .ngx-gallery-icon-content[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),it})(),oe=(()=>{class it{constructor(){this.active=0,this.bulletChange=new i.bkB}getBullets(){return Array(this.count)}handleChange(Ee,je){this.bulletChange.emit(je)}}return it.\u0275fac=function(Ee){return new(Ee||it)},it.\u0275cmp=i.VBU({type:it,selectors:[["ngx-gallery-bullets"]],inputs:{count:"count",active:"active"},outputs:{bulletChange:"bulletChange"},decls:1,vars:1,consts:[["class","ngx-gallery-bullet",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ngx-gallery-bullet",3,"click","ngClass"]],template:function(Ee,je){1&Ee&&i.DNE(0,m,1,3,"div",0),2&Ee&&i.Y8G("ngForOf",je.getBullets())},dependencies:[c.Sq,c.YU],styles:["[_nghost-%COMP%]{position:absolute;z-index:2000;display:inline-flex;left:50%;transform:translate(-50%);bottom:0;padding:10px}.ngx-gallery-bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;cursor:pointer;background:white}.ngx-gallery-bullet[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.ngx-gallery-bullet[_ngcontent-%COMP%]:hover, .ngx-gallery-bullet.ngx-gallery-active[_ngcontent-%COMP%]{background:black}"],changeDetection:0}),it})(),J=(()=>{class it{constructor(Ee,je,ft,vn,hn){this.sanitization=Ee,this.elementRef=je,this.helperService=ft,this.renderer=vn,this.changeDetectorRef=hn,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.activeChange=new i.bkB,this.isOpen=!1,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1)}ngOnChanges(Ee){Ee.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",()=>this.showNext(),()=>this.showPrev())}ngOnDestroy(){this.keyDownListener&&this.keyDownListener()}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0)}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1)}onKeyDown(Ee){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(Ee)?this.showPrev():this.isKeyboardNext(Ee)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(Ee)&&this.close())}open(Ee){this.previewOpen.emit(),this.index=Ee,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listen("window","keydown",je=>this.onKeyDown(je))}close(){this.isOpen=!1;const Ee=this.previewImage.nativeElement;Ee.currentTime>0&&!Ee.paused&&!Ee.ended&&Ee.readyState>2&&Ee.pause(),this.closeFullscreen(),this.previewClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()}imageMouseEnter(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}imageMouseLeave(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}startAutoPlay(){this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(()=>{this.showNext()||(this.index=-1,this.showNext())},this.autoPlayInterval))}stopAutoPlay(){this.timer&&clearTimeout(this.timer)}showAtIndex(Ee){this.index=Ee,this.show()}showNext(){return!!this.canShowNext()&&(this.index++,this.index===this.images.length&&(this.index=0),this.show(),!0)}showPrev(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.images.length-1),this.show())}canShowNext(){return!this.loading&&!!this.images&&(this.infinityMove||this.index<this.images.length-1)}canShowPrev(){return!this.loading&&!!this.images&&(this.infinityMove||this.index>0)}manageFullscreen(){if(this.fullscreen||this.forceFullscreen){const Ee=document;Ee.fullscreenElement||Ee.mozFullScreenElement||Ee.webkitFullscreenElement||Ee.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}}getSafeUrl(Ee){return this.sanitization.bypassSecurityTrustUrl(Ee)}getFileType(Ee){return this.helperService.getFileType(Ee)}zoomIn(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))}zoomOut(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())}rotateLeft(){this.rotateValue-=90}rotateRight(){this.rotateValue+=90}getTransform(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")}canZoomIn(){return this.zoomValue<this.zoomMax}canZoomOut(){return this.zoomValue>this.zoomMin}canDragOnZoom(){return this.zoom&&this.zoomValue>1}mouseDownHandler(Ee){this.canDragOnZoom()&&(this.initialX=this.getClientX(Ee),this.initialY=this.getClientY(Ee),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,Ee.preventDefault())}mouseUpHandler(Ee){this.isMove=!1}mouseMoveHandler(Ee){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(Ee)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(Ee)-this.initialY))}getClientX(Ee){return Ee.touches&&Ee.touches.length?Ee.touches[0].clientX:Ee.clientX}getClientY(Ee){return Ee.touches&&Ee.touches.length?Ee.touches[0].clientY:Ee.clientY}resetPosition(){this.zoom&&(this.positionLeft=0,this.positionTop=0)}isKeyboardNext(Ee){return 39===Ee.keyCode}isKeyboardPrev(Ee){return 37===Ee.keyCode}isKeyboardEsc(Ee){return 27===Ee.keyCode}openFullscreen(){const Ee=document.documentElement;Ee.requestFullscreen?Ee.requestFullscreen():Ee.msRequestFullscreen?Ee.msRequestFullscreen():Ee.mozRequestFullScreen?Ee.mozRequestFullScreen():Ee.webkitRequestFullscreen&&Ee.webkitRequestFullscreen()}closeFullscreen(){if(this.isFullscreen()){const Ee=document;Ee.exitFullscreen?Ee.exitFullscreen():Ee.msExitFullscreen?Ee.msExitFullscreen():Ee.mozCancelFullScreen?Ee.mozCancelFullScreen():Ee.webkitExitFullscreen&&Ee.webkitExitFullscreen()}}isFullscreen(){const Ee=document;return Ee.fullscreenElement||Ee.webkitFullscreenElement||Ee.mozFullScreenElement||Ee.msFullscreenElement}show(Ee=!1){this.loading=!0,this.stopAutoPlay(),this.activeChange.emit(this.index),Ee||!this.animation?this._show():setTimeout(()=>this._show(),600)}_show(){this.zoomValue=1,this.rotateValue=0,this.resetPosition(),this.src=this.getSafeUrl(this.images[this.index]),this.type=this.getFileType(this.images[this.index]),this.srcIndex=this.index,this.description=this.descriptions[this.index],this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.isLoaded(this.previewImage.nativeElement)||"video"===this.type?(this.loading=!1,this.startAutoPlay(),this.changeDetectorRef.markForCheck()):"video"===this.type||(setTimeout(()=>{this.loading&&(this.showSpinner=!0,this.changeDetectorRef.markForCheck())}),this.previewImage.nativeElement.onload=()=>{this.loading=!1,this.showSpinner=!1,this.previewImage.nativeElement.onload=null,this.startAutoPlay(),this.changeDetectorRef.markForCheck()})})}isLoaded(Ee){return!(!Ee.complete||typeof Ee.naturalWidth<"u"&&0===Ee.naturalWidth)}}return it.\u0275fac=function(Ee){return new(Ee||it)(i.rXU(t.up),i.rXU(i.aKT),i.rXU(ne),i.rXU(i.sFG),i.rXU(i.gRc))},it.\u0275cmp=i.VBU({type:it,selectors:[["ngx-gallery-preview"]],viewQuery:function(Ee,je){if(1&Ee&&i.GBs(f,5),2&Ee){let ft;i.mGM(ft=i.lsd())&&(je.previewImage=ft.first)}},hostBindings:function(Ee,je){1&Ee&&i.bIt("mouseenter",function(){return je.onMouseEnter()})("mouseleave",function(){return je.onMouseLeave()})},inputs:{images:"images",descriptions:"descriptions",showDescription:"showDescription",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",fullscreen:"fullscreen",forceFullscreen:"forceFullscreen",closeOnClick:"closeOnClick",closeOnEsc:"closeOnEsc",keyboardNavigation:"keyboardNavigation",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",closeIcon:"closeIcon",fullscreenIcon:"fullscreenIcon",spinnerIcon:"spinnerIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",zoom:"zoom",zoomStep:"zoomStep",zoomMax:"zoomMax",zoomMin:"zoomMin",zoomInIcon:"zoomInIcon",zoomOutIcon:"zoomOutIcon",animation:"animation",actions:"actions",rotate:"rotate",rotateLeftIcon:"rotateLeftIcon",rotateRightIcon:"rotateRightIcon",download:"download",downloadIcon:"downloadIcon",bullets:"bullets"},outputs:{previewOpen:"previewOpen",previewClose:"previewClose",activeChange:"activeChange"},features:[i.OA$],decls:19,vars:18,consts:[["previewImage",""],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-preview-top"],[1,"ngx-gallery-preview-icons"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-icon","aria-hidden","true","download","",3,"href",4,"ngIf"],[3,"icon","disabled","closeClick",4,"ngIf"],[3,"icon","closeClick",4,"ngIf"],[3,"closeClick","icon"],[1,"ngx-spinner-wrapper","ngx-gallery-center"],["aria-hidden","true"],[1,"ngx-gallery-preview-wrapper",3,"click","mouseup","mousemove","touchend","touchmove"],[1,"ngx-gallery-preview-img-wrapper"],["class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["controls","","style","width: 100%; height: 100%;","class","ngx-gallery-preview-img ngx-gallery-center",3,"ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],[3,"count","active","bulletChange",4,"ngIf"],["class","ngx-gallery-preview-text",3,"innerHTML","click",4,"ngIf"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"],[3,"closeClick","icon","disabled","titleText"],["aria-hidden","true","download","",1,"ngx-gallery-icon",3,"href"],[3,"closeClick","icon","disabled"],[1,"ngx-gallery-preview-img","ngx-gallery-center",3,"click","mouseenter","mouseleave","mousedown","touchstart","src"],["controls","",1,"ngx-gallery-preview-img","ngx-gallery-center",2,"width","100%","height","100%",3,"click","mouseenter","mouseleave","mousedown","touchstart"],[3,"src"],[3,"bulletChange","count","active"],[1,"ngx-gallery-preview-text",3,"click","innerHTML"]],template:function(Ee,je){1&Ee&&(i.DNE(0,v,1,4,"ngx-gallery-arrows",1),i.j41(1,"div",2)(2,"div",3),i.DNE(3,E,1,3,"ngx-gallery-action",4)(4,y,2,4,"a",5)(5,M,1,2,"ngx-gallery-action",6)(6,b,1,2,"ngx-gallery-action",6)(7,P,1,1,"ngx-gallery-action",7)(8,D,1,1,"ngx-gallery-action",7)(9,I,1,1,"ngx-gallery-action",7),i.j41(10,"ngx-gallery-action",8),i.bIt("closeClick",function(){return je.close()}),i.k0s()()(),i.j41(11,"div",9),i.nrm(12,"i",10),i.k0s(),i.j41(13,"div",11),i.bIt("click",function(){return je.closeOnClick&&je.close()})("mouseup",function(vn){return je.mouseUpHandler(vn)})("mousemove",function(vn){return je.mouseMoveHandler(vn)})("touchend",function(vn){return je.mouseUpHandler(vn)})("touchmove",function(vn){return je.mouseMoveHandler(vn)}),i.j41(14,"div",12),i.DNE(15,h,2,13,"img",13)(16,S,4,13,"video",14)(17,O,1,2,"ngx-gallery-bullets",15),i.k0s(),i.DNE(18,L,1,1,"div",16),i.k0s()),2&Ee&&(i.Y8G("ngIf",je.arrows),i.R7$(3),i.Y8G("ngForOf",je.actions),i.R7$(),i.Y8G("ngIf",je.download&&je.src),i.R7$(),i.Y8G("ngIf",je.zoom),i.R7$(),i.Y8G("ngIf",je.zoom),i.R7$(),i.Y8G("ngIf",je.rotate),i.R7$(),i.Y8G("ngIf",je.rotate),i.R7$(),i.Y8G("ngIf",je.fullscreen),i.R7$(),i.Y8G("icon","ngx-gallery-close "+je.closeIcon),i.R7$(),i.AVh("ngx-gallery-active",je.showSpinner),i.R7$(),i.ZvI("ngx-gallery-icon ngx-gallery-spinner ",je.spinnerIcon,""),i.R7$(3),i.Y8G("ngIf",je.src&&"image"===je.type),i.R7$(),i.Y8G("ngIf",je.src&&"video"===je.type),i.R7$(),i.Y8G("ngIf",je.bullets),i.R7$(),i.Y8G("ngIf",je.showDescription&&je.description))},dependencies:[fe,ae,oe,c.bT,c.Sq],styles:[".ngx-gallery-active[_nghost-%COMP%]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block;font-size:50px!important}[_nghost-%COMP%]{display:none;font-size:50px!important}[_nghost-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{font-size:50px!important}ngx-gallery-bullets[_ngcontent-%COMP%]{height:5%;align-items:center;padding:0}.ngx-gallery-preview-img[_ngcontent-%COMP%]{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;user-select:none;transition:transform .5s}.ngx-gallery-preview-img.animation[_ngcontent-%COMP%]{transition:opacity .5s linear,transform .5s}.ngx-gallery-preview-img.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-preview-img.ngx-gallery-grab[_ngcontent-%COMP%]{cursor:grab}.ngx-gallery-icon.ngx-gallery-spinner[_ngcontent-%COMP%]{font-size:50px;left:0;display:inline-block}[_nghost-%COMP%]   .ngx-gallery-preview-top[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-user-select:none;user-select:none;font-size:25px}.ngx-gallery-preview-icons[_ngcontent-%COMP%]{float:right}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon.ngx-gallery-icon-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.ngx-spinner-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;display:none}.ngx-spinner-wrapper.ngx-gallery-active[_ngcontent-%COMP%]{display:inline-block}.ngx-gallery-center[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;margin:auto;top:0}.ngx-gallery-preview-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.ngx-gallery-preview-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}"],changeDetection:0}),it})(),ve=(()=>{class it{}return it.Fade="fade",it.Slide="slide",it.Rotate="rotate",it.Zoom="zoom",it})(),_e=(()=>{class it{constructor(Ee,je,ft,vn){this.sanitization=Ee,this.changeDetectorRef=je,this.elementRef=ft,this.helperService=vn,this.imageClick=new i.bkB,this.activeChange=new i.bkB,this.animating=new i.bkB,this.canChangeImage=!0,this.isAnimating=!1,this.changeDetectorRef=je,this.action="none"}set selectedIndex(Ee){if(Ee>this._selectedIndex){let je;this.animation===ve.Slide?je="slideRight":this.animation===ve.Fade?je="fade":this.animation===ve.Rotate?je="rotateRight":this.animation===ve.Zoom&&(je="zoom"),this.setAction(je)}else if(Ee<this._selectedIndex){let je;this.animation===ve.Slide?je="slideLeft":this.animation===ve.Fade?je="fade":this.animation===ve.Rotate?je="rotateLeft":this.animation===ve.Zoom&&(je="zoom"),this.setAction(je)}this._selectedIndex=Ee}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()}ngOnChanges(Ee){Ee.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",()=>this.showNext(),()=>this.showPrev())}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}reset(Ee){this._selectedIndex=Ee,this.action="none"}getImages(){if(!this.images)return[];if(this.lazyLoading){const Ee=[this._selectedIndex],je=this._selectedIndex-1;-1===je&&this.infinityMove?Ee.push(this.images.length-1):je>=0&&Ee.push(je);const ft=this._selectedIndex+1;return ft===this.images.length&&this.infinityMove?Ee.push(0):ft<this.images.length&&Ee.push(ft),this.images.filter((vn,hn)=>-1!==Ee.indexOf(hn))}return this.images}startAutoPlay(){this.stopAutoPlay(),this.timer=setInterval(()=>{this.showNext()||(this._selectedIndex=-1,this.showNext())},this.autoPlayInterval)}stopAutoPlay(){this.timer&&clearInterval(this.timer)}handleClick(Ee,je){this.clickable&&(this.imageClick.emit(je),Ee.stopPropagation(),Ee.preventDefault())}show(Ee){if(!this.isAnimating){if(Ee>this._selectedIndex){let je;this.animation===ve.Slide?je="slideRight":this.animation===ve.Fade?je="fade":this.animation===ve.Rotate?je="rotateRight":this.animation===ve.Zoom&&(je="zoom"),this.setAction(je)}else{let je;this.animation===ve.Slide?je="slideLeft":this.animation===ve.Fade?je="fade":this.animation===ve.Rotate?je="rotateLeft":this.animation===ve.Zoom&&(je="zoom"),this.setAction(je)}this._selectedIndex=Ee,this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setAction(Ee){this.action=Ee,this.changeDetectorRef.detectChanges()}showNext(){if(this.isAnimating)return!1;if(this.canShowNext()&&this.canChangeImage){let Ee;return this.animation===ve.Slide?Ee="slideRight":this.animation===ve.Fade?Ee="fade":this.animation===ve.Rotate?Ee="rotateRight":this.animation===ve.Zoom&&(Ee="zoom"),this.setAction(Ee),this._selectedIndex++,this._selectedIndex===this.images.length&&(this._selectedIndex=0),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout(),!0}return!1}showPrev(){if(!this.isAnimating&&this.canShowPrev()&&this.canChangeImage){let Ee;this.animation===ve.Slide?Ee="slideLeft":this.animation===ve.Fade?Ee="fade":this.animation===ve.Rotate?Ee="rotateLeft":this.animation===ve.Zoom&&(Ee="zoom"),this.setAction(Ee),this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.images.length-1),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setChangeTimeout(){this.canChangeImage=!1;let Ee=1e3;(this.animation===ve.Slide||this.animation===ve.Fade)&&(Ee=500),setTimeout(()=>{this.canChangeImage=!0},Ee)}canShowNext(){return!!this.images&&(this.infinityMove||this._selectedIndex<this.images.length-1)}canShowPrev(){return!!this.images&&(this.infinityMove||this._selectedIndex>0)}getSafeUrl(Ee){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(Ee.toString()))}getFileType(Ee){return this.helperService.getFileType(Ee)}onStart(Ee){this.isAnimating=!0,this.animating.emit(!0)}onDone(Ee){this.isAnimating=!1,this.animating.emit(!1)}}return it.\u0275fac=function(Ee){return new(Ee||it)(i.rXU(t.up),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(ne))},it.\u0275cmp=i.VBU({type:it,selectors:[["ngx-gallery-image"]],hostBindings:function(Ee,je){1&Ee&&i.bIt("mouseenter",function(){return je.onMouseEnter()})("mouseleave",function(){return je.onMouseLeave()})},inputs:{images:"images",clickable:"clickable",selectedIndex:"selectedIndex",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",animation:"animation",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",lazyLoading:"lazyLoading",actions:"actions",descriptions:"descriptions",showDescription:"showDescription",bullets:"bullets"},outputs:{imageClick:"imageClick",activeChange:"activeChange",animating:"animating"},features:[i.OA$],decls:4,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"count","active","bulletChange",4,"ngIf"],[3,"class","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],["class","ngx-gallery-image",3,"ngClass","background-image","click",4,"ngIf"],[1,"ngx-gallery-image",3,"click","ngClass"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-image-text",3,"innerHTML","click",4,"ngIf"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-image-text",3,"click","innerHTML"],["controls","",2,"width","100%","height","100%","background","#000"],[3,"src"],[3,"bulletChange","count","active"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(Ee,je){1&Ee&&(i.j41(0,"div"),i.DNE(1,z,3,2,"ng-container",0)(2,V,1,2,"ngx-gallery-bullets",1)(3,G,1,7,"ngx-gallery-arrows",2),i.k0s()),2&Ee&&(i.STu("ngx-gallery-image-wrapper ngx-gallery-animation-",je.animation," ngx-gallery-image-size-",je.size,""),i.R7$(),i.Y8G("ngForOf",je.getImages()),i.R7$(),i.Y8G("ngIf",je.bullets),i.R7$(),i.Y8G("ngIf",je.arrows))},dependencies:[ae,oe,fe,c.Sq,c.bT,c.YU],styles:["[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;overflow:hidden}.ngx-gallery-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;height:100%;width:100%;position:absolute;top:0}.ngx-gallery-image-size-cover[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-image-size-contain[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{left:0;opacity:1;transition:.5s ease-in-out}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-animation-rotate[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1) rotate(0);left:0;opacity:1}.ngx-gallery-animation-zoom[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1);left:0;opacity:1}.ngx-gallery-image-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"],data:{animation:[(0,e.hZ)("animation",[(0,e.wk)("slideRight",(0,e.iF)({})),(0,e.wk)("slideLeft",(0,e.iF)({})),(0,e.wk)("fade",(0,e.iF)({})),(0,e.wk)("rotateLeft",(0,e.iF)({})),(0,e.wk)("rotateRight",(0,e.iF)({})),(0,e.wk)("zoom",(0,e.iF)({})),(0,e.kY)("slideRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(-100%)"}))]),(0,e.kY)("void => slideRight",[(0,e.iF)({transform:"translateX(100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("slideLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(100%)"}))]),(0,e.kY)("void => slideLeft",[(0,e.iF)({transform:"translateX(-100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("fade => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"0"}))]),(0,e.kY)("void => fade",[(0,e.iF)({opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"1"}))]),(0,e.kY)("rotateLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateLeft",[(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("rotateRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateRight",[(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("zoom => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}))]),(0,e.kY)("void => zoom",[(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1)",opacity:"1"}))])])]},changeDetection:0}),it})(),Ce=(()=>{class it{}return it.Column=1,it.Row=2,it.Page=3,it})(),qe=(()=>{class it{constructor(Ee,je,ft){this.sanitization=Ee,this.elementRef=je,this.helperService=ft,this.minStopIndex=0,this.activeChange=new i.bkB,this.index=0}ngOnChanges(Ee){Ee.selectedIndex&&this.validateIndex(),Ee.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",()=>this.moveRight(),()=>this.moveLeft()),this.images&&(this.remainingCountValue=this.images.length-this.rows*this.columns)}onMouseEnter(){this.mouseenter=!0}onMouseLeave(){this.mouseenter=!1}reset(Ee){this.selectedIndex=Ee,this.setDefaultPosition(),this.index=0,this.validateIndex()}getImages(){if(!this.images)return[];if(this.remainingCount)return this.images.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==Ce.Row){let Ee=0;return this.order===Ce.Column?Ee=(this.index+this.columns+this.moveSize)*this.rows:this.order===Ce.Page&&(Ee=this.index+this.columns*this.rows*2),Ee<=this.minStopIndex?Ee=this.minStopIndex:this.minStopIndex=Ee,this.images.slice(0,Ee)}return this.images}handleClick(Ee,je){!this.hasLink(je)&&!this.isAnimating&&(this.selectedIndex=je,this.activeChange.emit(je)),Ee.stopPropagation(),Ee.preventDefault()}hasLink(Ee){return!!(this.links&&this.links.length&&this.links[Ee])}moveRight(){if(this.canMoveRight()){this.index+=this.moveSize;const Ee=this.getMaxIndex()-this.columns;this.index>Ee&&(this.index=Ee),this.setThumbnailsPosition()}}moveLeft(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())}canMoveRight(){return this.index+this.columns<this.getMaxIndex()}canMoveLeft(){return 0!==this.index}getThumbnailLeft(Ee){let je;return je=this.order===Ce.Column?Math.floor(Ee/this.rows):this.order===Ce.Page?Ee%this.columns+Math.floor(Ee/(this.rows*this.columns))*this.columns:this.order===Ce.Row&&this.remainingCount?Ee%this.columns:Ee%Math.ceil(this.images.length/this.rows),this.getThumbnailPosition(je,this.columns)}getThumbnailTop(Ee){let je;return je=this.order===Ce.Column?Ee%this.rows:this.order===Ce.Page?Math.floor(Ee/this.columns)-Math.floor(Ee/(this.rows*this.columns))*this.rows:this.order===Ce.Row&&this.remainingCount?Math.floor(Ee/this.columns):Math.floor(Ee/Math.ceil(this.images.length/this.rows)),this.getThumbnailPosition(je,this.rows)}getThumbnailWidth(){return this.getThumbnailDimension(this.columns)}getThumbnailHeight(){return this.getThumbnailDimension(this.rows)}setThumbnailsPosition(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px"}setDefaultPosition(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"}canShowArrows(){return!this.remainingCount&&this.arrows&&this.images&&this.images.length>this.getVisibleCount()&&(!this.arrowsAutoHide||this.mouseenter)}validateIndex(){if(this.images){let Ee;if(Ee=this.order===Ce.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.images.length/this.rows),this.remainingCount&&(Ee=0),Ee<this.index||Ee>=this.index+this.columns){const je=this.getMaxIndex()-this.columns;this.index=Ee>je?je:Ee,this.setThumbnailsPosition()}}}getSafeUrl(Ee){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(Ee.toString()))}getFileType(Ee){return this.helperService.getFileType(Ee.toString())}getThumbnailPosition(Ee,je){return this.getSafeStyle("calc("+100/je*Ee+"% + "+(this.margin-(je-1)*this.margin/je)*Ee+"px)")}getThumbnailDimension(Ee){return this.getSafeStyle(0!==this.margin?"calc("+100/Ee+"% - "+(Ee-1)*this.margin/Ee+"px)":"calc("+100/Ee+"% + 1px)")}getMaxIndex(){if(this.order===Ce.Page){let Ee=Math.floor(this.images.length/this.getVisibleCount())*this.columns;return this.images.length%this.getVisibleCount()>this.columns?Ee+=this.columns:Ee+=this.images.length%this.getVisibleCount(),Ee}return Math.ceil(this.images.length/this.rows)}getVisibleCount(){return this.columns*this.rows}getSafeStyle(Ee){return this.sanitization.bypassSecurityTrustStyle(Ee)}}return it.\u0275fac=function(Ee){return new(Ee||it)(i.rXU(t.up),i.rXU(i.aKT),i.rXU(ne))},it.\u0275cmp=i.VBU({type:it,selectors:[["ngx-gallery-thumbnails"]],hostBindings:function(Ee,je){1&Ee&&i.bIt("mouseenter",function(){return je.onMouseEnter()})("mouseleave",function(){return je.onMouseLeave()})},inputs:{images:"images",isAnimating:"isAnimating",links:"links",labels:"labels",linkTarget:"linkTarget",columns:"columns",rows:"rows",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",margin:"margin",selectedIndex:"selectedIndex",clickable:"clickable",swipe:"swipe",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",moveSize:"moveSize",order:"order",remainingCount:"remainingCount",lazyLoading:"lazyLoading",actions:"actions"},outputs:{activeChange:"activeChange"},features:[i.OA$],decls:4,vars:9,consts:[[1,"ngx-gallery-thumbnails"],["class","ngx-gallery-thumbnail",3,"href","target","width","height","left","top","ngClass","click",4,"ngFor","ngForOf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-thumbnail",3,"click","href","target","ngClass"],["class","ngx-gallery-thumbnail","style","width: 100%; height: 100%; position:absolute;",3,"background-image","ngClass",4,"ngIf"],["class","ngx-gallery-thumbnail-video",4,"ngIf"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-remaining-count-overlay",4,"ngIf"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute",3,"ngClass"],[1,"ngx-gallery-thumbnail-video"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute","left","0","background","#000",3,"ngClass"],[3,"src"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-remaining-count-overlay"],[1,"ngx-gallery-remaining-count"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(Ee,je){1&Ee&&(i.j41(0,"div")(1,"div",0),i.DNE(2,he,6,19,"a",1),i.k0s()(),i.DNE(3,ye,1,4,"ngx-gallery-arrows",2)),2&Ee&&(i.ZvI("ngx-gallery-thumbnails-wrapper ngx-gallery-thumbnail-size-",je.size,""),i.R7$(),i.xc7("transform","translateX("+je.thumbnailsLeft+")")("margin-left",je.thumbnailsMarginLeft),i.R7$(),i.Y8G("ngForOf",je.getImages()),i.R7$(),i.Y8G("ngIf",je.canShowArrows()))},dependencies:[ae,fe,c.Sq,c.YU,c.bT],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-thumbnails-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.ngx-gallery-thumbnails[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0;transform:translate(0);transition:transform .5s ease-in-out;will-change:transform}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{position:absolute;height:100%;background-position:center;background-repeat:no-repeat;text-decoration:none;border:1px double black}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .ngx-gallery-thumbnail-video[_ngcontent-%COMP%]:after{content:"\\f144";display:block;position:absolute;background:#0000;height:100%;width:100%;left:0;top:calc(50% - 20px);font-size:40px;color:#fff;margin:0;padding:0;font-family:fontawesome;text-shadow:0px 4px 3px rgba(0,0,0,.4),0px 8px 13px rgba(0,0,0,.1),0px 18px 23px rgba(0,0,0,.1)}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-size:cover;height:100%}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail.ngx-gallery-active[_ngcontent-%COMP%]{border:1px double #cc4548}.ngx-gallery-thumbnail-size-cover[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-thumbnail-size-contain[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-remaining-count-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#0006}.ngx-gallery-remaining-count[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:30px}'],changeDetection:0}),it})();class Re{constructor(Tt){this.icon=Tt.icon,this.disabled=!!Tt.disabled&&Tt.disabled,this.titleText=Tt.titleText?Tt.titleText:"",this.onClick=Tt.onClick}}let nt=(()=>{class it{}return it.ThumbnailsTop="thumbnails-top",it.ThumbnailsBottom="thumbnails-bottom",it})(),Ge=(()=>{class it{}return it.Cover="cover",it.Contain="contain",it})();class at{constructor(Tt){const Ee=void 0!==Tt.breakpoint;function je(ft,vn){return Tt&&(void 0!==ft||Ee)?ft:vn}this.breakpoint=je(Tt.breakpoint,void 0),this.width=je(Tt.width,"500px"),this.height=je(Tt.height,"400px"),this.fullWidth=je(Tt.fullWidth,!1),this.layout=je(Tt.layout,nt.ThumbnailsBottom),this.startIndex=je(Tt.startIndex,0),this.linkTarget=je(Tt.linkTarget,"_blank"),this.lazyLoading=je(Tt.lazyLoading,!0),this.image=je(Tt.image,!0),this.imagePercent=je(Tt.imagePercent,75),this.imageArrows=je(Tt.imageArrows,!0),this.imageArrowsAutoHide=je(Tt.imageArrowsAutoHide,!1),this.imageSwipe=je(Tt.imageSwipe,!1),this.imageAnimation=je(Tt.imageAnimation,ve.Fade),this.imageSize=je(Tt.imageSize,Ge.Cover),this.imageAutoPlay=je(Tt.imageAutoPlay,!1),this.imageAutoPlayInterval=je(Tt.imageAutoPlayInterval,2e3),this.imageAutoPlayPauseOnHover=je(Tt.imageAutoPlayPauseOnHover,!1),this.imageInfinityMove=je(Tt.imageInfinityMove,!1),Tt&&Tt.imageActions&&Tt.imageActions.length&&(Tt.imageActions=Tt.imageActions.map(ft=>new Re(ft))),this.imageActions=je(Tt.imageActions,[]),this.imageDescription=je(Tt.imageDescription,!1),this.imageBullets=je(Tt.imageBullets,!1),this.thumbnails=je(Tt.thumbnails,!0),this.thumbnailsColumns=je(Tt.thumbnailsColumns,4),this.thumbnailsRows=je(Tt.thumbnailsRows,1),this.thumbnailsPercent=je(Tt.thumbnailsPercent,25),this.thumbnailsMargin=je(Tt.thumbnailsMargin,10),this.thumbnailsArrows=je(Tt.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=je(Tt.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=je(Tt.thumbnailsSwipe,!1),this.thumbnailsMoveSize=je(Tt.thumbnailsMoveSize,1),this.thumbnailsOrder=je(Tt.thumbnailsOrder,Ce.Column),this.thumbnailsRemainingCount=je(Tt.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=je(Tt.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=je(Tt.thumbnailsAutoHide,!1),this.thumbnailMargin=je(Tt.thumbnailMargin,10),this.thumbnailSize=je(Tt.thumbnailSize,Ge.Cover),Tt&&Tt.thumbnailActions&&Tt.thumbnailActions.length&&(Tt.thumbnailActions=Tt.thumbnailActions.map(ft=>new Re(ft))),this.thumbnailActions=je(Tt.thumbnailActions,[]),this.thumbnailClasses=je(Tt.thumbnailClasses,[]),this.preview=je(Tt.preview,!0),this.previewDescription=je(Tt.previewDescription,!0),this.previewArrows=je(Tt.previewArrows,!0),this.previewArrowsAutoHide=je(Tt.previewArrowsAutoHide,!1),this.previewSwipe=je(Tt.previewSwipe,!1),this.previewFullscreen=je(Tt.previewFullscreen,!1),this.previewForceFullscreen=je(Tt.previewForceFullscreen,!1),this.previewCloseOnClick=je(Tt.previewCloseOnClick,!1),this.previewCloseOnEsc=je(Tt.previewCloseOnEsc,!1),this.previewKeyboardNavigation=je(Tt.previewKeyboardNavigation,!1),this.previewAnimation=je(Tt.previewAnimation,!0),this.previewAutoPlay=je(Tt.previewAutoPlay,!1),this.previewAutoPlayInterval=je(Tt.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=je(Tt.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=je(Tt.previewInfinityMove,!1),this.previewZoom=je(Tt.previewZoom,!1),this.previewZoomStep=je(Tt.previewZoomStep,.1),this.previewZoomMax=je(Tt.previewZoomMax,2),this.previewZoomMin=je(Tt.previewZoomMin,.5),this.previewRotate=je(Tt.previewRotate,!1),this.previewDownload=je(Tt.previewDownload,!1),this.previewCustom=je(Tt.previewCustom,void 0),this.previewBullets=je(Tt.previewBullets,!1),this.arrowPrevIcon=je(Tt.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=je(Tt.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=je(Tt.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=je(Tt.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=je(Tt.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=je(Tt.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=je(Tt.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=je(Tt.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=je(Tt.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=je(Tt.downloadIcon,"fa fa-arrow-circle-down"),Tt&&Tt.actions&&Tt.actions.length&&(Tt.actions=Tt.actions.map(ft=>new Re(ft))),this.actions=je(Tt.actions,[])}}class Ke{constructor(Tt){this.src=Tt.src,this.type=Tt.type,this.index=Tt.index}}let Te=(()=>{class it{constructor(Ee,je){this.myElement=Ee,this.helperService=je,this.options=[{}],this.imagesReady=new i.bkB,this.change=new i.bkB,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.previewChange=new i.bkB,this.oldImagesLength=0,this.selectedIndex=0,this.breakpoint=void 0,this.prevBreakpoint=void 0}ngOnInit(){this.options=this.options.map(Ee=>new at(Ee)),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)}ngDoCheck(){(void 0!==this.images&&this.images.length!==this.oldImagesLength||this.images!==this.oldImages)&&(this.oldImagesLength=this.images.length,this.oldImages=this.images,this.setOptions(),this.setImages(),this.images&&this.images.length&&this.imagesReady.emit(),this.image&&this.image.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.images.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.imageArrows=!1),this.resetThumbnails())}ngAfterViewInit(){this.checkFullWidth()}onResize(){this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(()=>{this.checkFullWidth()},200))}getImageHeight(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.imagePercent+"%":"100%"}getThumbnailsHeight(){return this.currentOptions&&this.currentOptions.image?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"}getThumbnailsMarginTop(){return this.currentOptions&&this.currentOptions.layout===nt.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"}getThumbnailsMarginBottom(){return this.currentOptions&&this.currentOptions.layout===nt.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"}openPreview(Ee){this.currentOptions.previewCustom?this.currentOptions.previewCustom(Ee):(this.previewEnabled=!0,this.preview.open(Ee))}onPreviewOpen(){this.previewOpen.emit(),this.image&&this.image.autoPlay&&this.image.stopAutoPlay()}onPreviewClose(){this.previewEnabled=!1,this.previewClose.emit(),this.image&&this.image.autoPlay&&this.image.startAutoPlay()}selectFromImage(Ee){this.select(Ee)}selectFromThumbnails(Ee){this.select(Ee),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.image||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)}show(Ee){this.select(Ee)}showNext(){this.image.showNext()}showPrev(){this.image.showPrev()}canShowNext(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex<this.images.length-1))}canShowPrev(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex>0))}previewSelect(Ee){this.previewChange.emit({index:Ee,image:this.images[Ee]})}moveThumbnailsRight(){this.thumbnails.moveRight()}moveThumbnailsLeft(){this.thumbnails.moveLeft()}canMoveThumbnailsRight(){return this.thumbnails.canMoveRight()}canMoveThumbnailsLeft(){return this.thumbnails.canMoveLeft()}resetThumbnails(){this.thumbnails&&this.thumbnails.reset(this.currentOptions.startIndex)}select(Ee){this.selectedIndex=Ee,this.change.emit({index:Ee,image:this.images[Ee]})}checkFullWidth(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left="translateX("+-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px)")}setImages(){this.images.forEach(Ee=>Ee.type=this.helperService.getFileType(Ee.url||Ee.big||Ee.medium||Ee.small||"")),this.smallImages=this.images.map(Ee=>Ee.small),this.mediumImages=this.images.map((Ee,je)=>new Ke({src:Ee.medium,type:Ee.type,index:je})),this.bigImages=this.images.map(Ee=>Ee.big),this.descriptions=this.images.map(Ee=>Ee.description),this.links=this.images.map(Ee=>Ee.url),this.labels=this.images.map(Ee=>Ee.label)}setBreakpoint(){let Ee;this.prevBreakpoint=this.breakpoint,typeof window<"u"&&(Ee=this.options.filter(je=>je.breakpoint>=window.innerWidth).map(je=>je.breakpoint)),this.breakpoint=Ee&&Ee.length?Ee.pop():void 0}sortOptions(){this.options=[...this.options.filter(Ee=>void 0===Ee.breakpoint),...this.options.filter(Ee=>void 0!==Ee.breakpoint).sort((Ee,je)=>je.breakpoint-Ee.breakpoint)]}setOptions(){this.currentOptions=new at({}),this.options.filter(Ee=>void 0===Ee.breakpoint||Ee.breakpoint>=this.breakpoint).map(Ee=>this.combineOptions(this.currentOptions,Ee)),this.width=this.currentOptions.width,this.height=this.currentOptions.height}combineOptions(Ee,je){Object.keys(je).map(ft=>Ee[ft]=void 0!==je[ft]?je[ft]:Ee[ft])}setAnimating(Ee){this.isAnimating=Ee}}return it.\u0275fac=function(Ee){return new(Ee||it)(i.rXU(i.aKT),i.rXU(ne))},it.\u0275cmp=i.VBU({type:it,selectors:[["ngx-gallery"]],viewQuery:function(Ee,je){if(1&Ee&&(i.GBs(J,5),i.GBs(_e,5),i.GBs(qe,5)),2&Ee){let ft;i.mGM(ft=i.lsd())&&(je.preview=ft.first),i.mGM(ft=i.lsd())&&(je.image=ft.first),i.mGM(ft=i.lsd())&&(je.thumbnails=ft.first)}},hostVars:6,hostBindings:function(Ee,je){1&Ee&&i.bIt("resize",function(){return je.onResize()},!1,i.tSv),2&Ee&&i.xc7("width",je.width)("height",je.height)("transform",je.left)},inputs:{options:"options",images:"images"},outputs:{imagesReady:"imagesReady",change:"change",previewOpen:"previewOpen",previewClose:"previewClose",previewChange:"previewChange"},features:[i.Jv_([ne])],decls:4,vars:41,consts:[[3,"height","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating",4,"ngIf"],[3,"marginTop","marginBottom","height","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange",4,"ngIf"],[3,"previewClose","previewOpen","activeChange","images","descriptions","showDescription","arrowPrevIcon","arrowNextIcon","closeIcon","fullscreenIcon","spinnerIcon","arrows","arrowsAutoHide","swipe","fullscreen","forceFullscreen","closeOnClick","closeOnEsc","keyboardNavigation","animation","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","zoom","zoomStep","zoomMax","zoomMin","zoomInIcon","zoomOutIcon","actions","rotate","rotateLeftIcon","rotateRightIcon","download","downloadIcon","bullets"],[3,"imageClick","activeChange","animating","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets"],[3,"activeChange","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass"]],template:function(Ee,je){1&Ee&&(i.j41(0,"div"),i.DNE(1,ce,1,21,"ngx-gallery-image",0)(2,Z,1,29,"ngx-gallery-thumbnails",1),i.j41(3,"ngx-gallery-preview",2),i.bIt("previewClose",function(){return je.onPreviewClose()})("previewOpen",function(){return je.onPreviewOpen()})("activeChange",function(vn){return je.previewSelect(vn)}),i.k0s()()),2&Ee&&(i.ZvI("ngx-gallery-layout ",null==je.currentOptions?null:je.currentOptions.layout,""),i.R7$(),i.Y8G("ngIf",null==je.currentOptions?null:je.currentOptions.image),i.R7$(),i.Y8G("ngIf",null==je.currentOptions?null:je.currentOptions.thumbnails),i.R7$(),i.AVh("ngx-gallery-active",je.previewEnabled),i.Y8G("images",je.bigImages)("descriptions",je.descriptions)("showDescription",null==je.currentOptions?null:je.currentOptions.previewDescription)("arrowPrevIcon",null==je.currentOptions?null:je.currentOptions.arrowPrevIcon)("arrowNextIcon",null==je.currentOptions?null:je.currentOptions.arrowNextIcon)("closeIcon",null==je.currentOptions?null:je.currentOptions.closeIcon)("fullscreenIcon",null==je.currentOptions?null:je.currentOptions.fullscreenIcon)("spinnerIcon",null==je.currentOptions?null:je.currentOptions.spinnerIcon)("arrows",null==je.currentOptions?null:je.currentOptions.previewArrows)("arrowsAutoHide",null==je.currentOptions?null:je.currentOptions.previewArrowsAutoHide)("swipe",null==je.currentOptions?null:je.currentOptions.previewSwipe)("fullscreen",null==je.currentOptions?null:je.currentOptions.previewFullscreen)("forceFullscreen",null==je.currentOptions?null:je.currentOptions.previewForceFullscreen)("closeOnClick",null==je.currentOptions?null:je.currentOptions.previewCloseOnClick)("closeOnEsc",null==je.currentOptions?null:je.currentOptions.previewCloseOnEsc)("keyboardNavigation",null==je.currentOptions?null:je.currentOptions.previewKeyboardNavigation)("animation",null==je.currentOptions?null:je.currentOptions.previewAnimation)("autoPlay",null==je.currentOptions?null:je.currentOptions.previewAutoPlay)("autoPlayInterval",null==je.currentOptions?null:je.currentOptions.previewAutoPlayInterval)("autoPlayPauseOnHover",null==je.currentOptions?null:je.currentOptions.previewAutoPlayPauseOnHover)("infinityMove",null==je.currentOptions?null:je.currentOptions.previewInfinityMove)("zoom",null==je.currentOptions?null:je.currentOptions.previewZoom)("zoomStep",null==je.currentOptions?null:je.currentOptions.previewZoomStep)("zoomMax",null==je.currentOptions?null:je.currentOptions.previewZoomMax)("zoomMin",null==je.currentOptions?null:je.currentOptions.previewZoomMin)("zoomInIcon",null==je.currentOptions?null:je.currentOptions.zoomInIcon)("zoomOutIcon",null==je.currentOptions?null:je.currentOptions.zoomOutIcon)("actions",null==je.currentOptions?null:je.currentOptions.actions)("rotate",null==je.currentOptions?null:je.currentOptions.previewRotate)("rotateLeftIcon",null==je.currentOptions?null:je.currentOptions.rotateLeftIcon)("rotateRightIcon",null==je.currentOptions?null:je.currentOptions.rotateRightIcon)("download",null==je.currentOptions?null:je.currentOptions.previewDownload)("downloadIcon",null==je.currentOptions?null:je.currentOptions.downloadIcon)("bullets",null==je.currentOptions?null:je.currentOptions.previewBullets))},dependencies:[_e,qe,J,c.bT,c.YU],styles:[":host{display:inline-block}:host>*{float:left}.ngx-gallery-layout{width:100%;height:100%;display:flex;flex-direction:column}.ngx-gallery-layout.thumbnails-top ngx-gallery-image{order:2}.ngx-gallery-layout.thumbnails-top ngx-gallery-thumbnails{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-image{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-thumbnails{order:2}*{box-sizing:border-box}.ngx-gallery-icon{color:#fff;position:absolute;display:inline-block}.ngx-gallery-icon .ngx-gallery-icon-content{display:block}ngx-gallery-preview{font-size:25px}ngx-gallery-preview .ngx-gallery-icon{z-index:2000}.ngx-gallery-clickable{cursor:pointer}.ngx-gallery-icons-wrapper .ngx-gallery-icon{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}.ngx-gallery-icons-wrapper{float:right}\n"],encapsulation:2,changeDetection:0}),it})(),pt=(()=>{class it extends t.EZ{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}return it.\u0275fac=(()=>{let Tt;return function(je){return(Tt||(Tt=i.xGo(it)))(je||it)}})(),it.\u0275prov=i.jDH({token:it,factory:it.\u0275fac}),it})(),He=(()=>{class it{}return it.\u0275fac=function(Ee){return new(Ee||it)},it.\u0275mod=i.$C({type:it}),it.\u0275inj=i.G2t({providers:[{provide:t.kQ,useClass:pt}],imports:[[c.MD]]}),it})()},58003:(B,C,n)=>{"use strict";n.d(C,{W1:()=>mo,_f:()=>lo,Lw:()=>Au,so:()=>Xs,Ll:()=>Lo,b7:()=>nr,$G:()=>Xi,HC:()=>Yc,yB:()=>Th,I5:()=>Mn,IQ:()=>cc,tg:()=>Fd,E5:()=>Pu,_H:()=>If,U0:()=>Pf,zH:()=>ul,do:()=>Lh,cw:()=>bf,Bq:()=>Af,LY:()=>Ud,UN:()=>Ri,X9:()=>Uh,Um:()=>Fh,sy:()=>Bh,Ri:()=>jd,Pv:()=>jh,m_:()=>Nf,QE:()=>wh,s5:()=>Nu,MI:()=>Lu,c9:()=>Fu,CT:()=>mi,t3:()=>Gn,sb:()=>Rn,px:()=>Do,M0:()=>go,hC:()=>E0,Ny:()=>Kh,Pe:()=>C0,Ng:()=>$d,tJ:()=>Za,md:()=>Ar,n8:()=>Jg,$n:()=>fl,h_:()=>uc});var i=n(54438),t=n(60177),c=n(71985),e=n(983),p=n(7673),m=n(21413),f=n(33726),v=n(41584),E=n(1033),y=n(84412),b=(n(84572),n(85343));new c.c(b.l);var I=n(44437),h=n(57786),S=n(92688),L=n(56977),T=n(5964),x=n(96697),N=n(96354),j=n(99172),$=n(23294),k=n(25558),K=n(88141),z=n(53993),V=n(35335),G=n(73028),X=n(65245),Q=n(97647),ee=n(89417),ie={left:"right",right:"left",bottom:"top",top:"bottom"};function te(F){return F.replace(/left|right|bottom|top/g,function(q){return ie[q]})}function he(F){return F.split("-")[0]}var ye={start:"end",end:"start"};function re(F){return F.replace(/start|end/g,function(q){return ye[q]})}var ce="top",Z="bottom",ne="right",fe="left",ae="auto",oe=[ce,Z,ne,fe],J="start",ve="end",Ce="viewport",qe="popper",nt=oe.reduce(function(F,q){return F.concat([q+"-"+J,q+"-"+ve])},[]),Ge=[].concat(oe,[ae]).reduce(function(F,q){return F.concat([q,q+"-"+J,q+"-"+ve])},[]),je=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ft(F){if(null==F)return window;if("[object Window]"!==F.toString()){var q=F.ownerDocument;return q&&q.defaultView||window}return F}function vn(F){return F instanceof ft(F).Element||F instanceof Element}function hn(F){return F instanceof ft(F).HTMLElement||F instanceof HTMLElement}function Un(F){return!(typeof ShadowRoot>"u")&&(F instanceof ft(F).ShadowRoot||F instanceof ShadowRoot)}function Ct(F){return((vn(F)?F.ownerDocument:F.document)||window.document).documentElement}var Ot=Math.max,wt=Math.min,mt=Math.round;function ln(){var F=navigator.userAgentData;return null!=F&&F.brands&&Array.isArray(F.brands)?F.brands.map(function(q){return q.brand+"/"+q.version}).join(" "):navigator.userAgent}function we(){return!/^((?!chrome|android).)*safari/i.test(ln())}function Et(F,q,R){void 0===q&&(q=!1),void 0===R&&(R=!1);var W=F.getBoundingClientRect(),pe=1,Ne=1;q&&hn(F)&&(pe=F.offsetWidth>0&&mt(W.width)/F.offsetWidth||1,Ne=F.offsetHeight>0&&mt(W.height)/F.offsetHeight||1);var rn=(vn(F)?ft(F):window).visualViewport,dn=!we()&&R,wn=(W.left+(dn&&rn?rn.offsetLeft:0))/pe,An=(W.top+(dn&&rn?rn.offsetTop:0))/Ne,bi=W.width/pe,ei=W.height/Ne;return{width:bi,height:ei,top:An,right:wn+bi,bottom:An+ei,left:wn,x:wn,y:An}}function kt(F){var q=ft(F);return{scrollLeft:q.pageXOffset,scrollTop:q.pageYOffset}}function vt(F){return Et(Ct(F)).left+kt(F).scrollLeft}function sn(F){return ft(F).getComputedStyle(F)}function Gt(F){return F?(F.nodeName||"").toLowerCase():null}function Je(F){return"html"===Gt(F)?F:F.assignedSlot||F.parentNode||(Un(F)?F.host:null)||Ct(F)}function ke(F){var q=sn(F);return/auto|scroll|overlay|hidden/.test(q.overflow+q.overflowY+q.overflowX)}function Le(F){return["html","body","#document"].indexOf(Gt(F))>=0?F.ownerDocument.body:hn(F)&&ke(F)?F:Le(Je(F))}function ze(F,q){var R;void 0===q&&(q=[]);var W=Le(F),pe=W===(null==(R=F.ownerDocument)?void 0:R.body),Ne=ft(W),xt=pe?[Ne].concat(Ne.visualViewport||[],ke(W)?W:[]):W,rn=q.concat(xt);return pe?rn:rn.concat(ze(Je(xt)))}function lt(F){return["table","td","th"].indexOf(Gt(F))>=0}function Vt(F){return hn(F)&&"fixed"!==sn(F).position?F.offsetParent:null}function At(F){for(var q=ft(F),R=Vt(F);R&&lt(R)&&"static"===sn(R).position;)R=Vt(R);return R&&("html"===Gt(R)||"body"===Gt(R)&&"static"===sn(R).position)?q:R||function fn(F){var q=/firefox/i.test(ln());if(/Trident/i.test(ln())&&hn(F)&&"fixed"===sn(F).position)return null;var pe=Je(F);for(Un(pe)&&(pe=pe.host);hn(pe)&&["html","body"].indexOf(Gt(pe))<0;){var Ne=sn(pe);if("none"!==Ne.transform||"none"!==Ne.perspective||"paint"===Ne.contain||-1!==["transform","perspective"].indexOf(Ne.willChange)||q&&"filter"===Ne.willChange||q&&Ne.filter&&"none"!==Ne.filter)return pe;pe=pe.parentNode}return null}(F)||q}function tn(F,q){var R=q.getRootNode&&q.getRootNode();if(F.contains(q))return!0;if(R&&Un(R)){var W=q;do{if(W&&F.isSameNode(W))return!0;W=W.parentNode||W.host}while(W)}return!1}function dt(F){return Object.assign({},F,{left:F.x,top:F.y,right:F.x+F.width,bottom:F.y+F.height})}function Rt(F,q,R){return q===Ce?dt(function Jt(F,q){var R=ft(F),W=Ct(F),pe=R.visualViewport,Ne=W.clientWidth,xt=W.clientHeight,rn=0,dn=0;if(pe){Ne=pe.width,xt=pe.height;var wn=we();(wn||!wn&&"fixed"===q)&&(rn=pe.offsetLeft,dn=pe.offsetTop)}return{width:Ne,height:xt,x:rn+vt(F),y:dn}}(F,R)):vn(q)?function Lt(F,q){var R=Et(F,!1,"fixed"===q);return R.top=R.top+F.clientTop,R.left=R.left+F.clientLeft,R.bottom=R.top+F.clientHeight,R.right=R.left+F.clientWidth,R.width=F.clientWidth,R.height=F.clientHeight,R.x=R.left,R.y=R.top,R}(q,R):dt(function zt(F){var q,R=Ct(F),W=kt(F),pe=null==(q=F.ownerDocument)?void 0:q.body,Ne=Ot(R.scrollWidth,R.clientWidth,pe?pe.scrollWidth:0,pe?pe.clientWidth:0),xt=Ot(R.scrollHeight,R.clientHeight,pe?pe.scrollHeight:0,pe?pe.clientHeight:0),rn=-W.scrollLeft+vt(F),dn=-W.scrollTop;return"rtl"===sn(pe||R).direction&&(rn+=Ot(R.clientWidth,pe?pe.clientWidth:0)-Ne),{width:Ne,height:xt,x:rn,y:dn}}(Ct(F)))}function Di(F){return F.split("-")[1]}function bt(F){return["top","bottom"].indexOf(F)>=0?"x":"y"}function _t(F){var dn,q=F.reference,R=F.element,W=F.placement,pe=W?he(W):null,Ne=W?Di(W):null,xt=q.x+q.width/2-R.width/2,rn=q.y+q.height/2-R.height/2;switch(pe){case ce:dn={x:xt,y:q.y-R.height};break;case Z:dn={x:xt,y:q.y+q.height};break;case ne:dn={x:q.x+q.width,y:rn};break;case fe:dn={x:q.x-R.width,y:rn};break;default:dn={x:q.x,y:q.y}}var wn=pe?bt(pe):null;if(null!=wn){var An="y"===wn?"height":"width";switch(Ne){case J:dn[wn]=dn[wn]-(q[An]/2-R[An]/2);break;case ve:dn[wn]=dn[wn]+(q[An]/2-R[An]/2)}}return dn}function Tn(F){return Object.assign({},{top:0,right:0,bottom:0,left:0},F)}function ni(F,q){return q.reduce(function(R,W){return R[W]=F,R},{})}function oi(F,q){void 0===q&&(q={});var W=q.placement,pe=void 0===W?F.placement:W,Ne=q.strategy,xt=void 0===Ne?F.strategy:Ne,rn=q.boundary,dn=void 0===rn?"clippingParents":rn,wn=q.rootBoundary,An=void 0===wn?Ce:wn,bi=q.elementContext,ei=void 0===bi?qe:bi,vi=q.altBoundary,Us=void 0!==vi&&vi,us=q.padding,Gi=void 0===us?0:us,vs=Tn("number"!=typeof Gi?Gi:ni(Gi,oe)),Jo=F.rects.popper,js=F.elements[Us?ei===qe?"reference":qe:ei],ks=function $n(F,q,R,W){var pe="clippingParents"===q?function Sn(F){var q=ze(Je(F)),W=["absolute","fixed"].indexOf(sn(F).position)>=0&&hn(F)?At(F):F;return vn(W)?q.filter(function(pe){return vn(pe)&&tn(pe,W)&&"body"!==Gt(pe)}):[]}(F):[].concat(q),Ne=[].concat(pe,[R]),rn=Ne.reduce(function(dn,wn){var An=Rt(F,wn,W);return dn.top=Ot(An.top,dn.top),dn.right=wt(An.right,dn.right),dn.bottom=wt(An.bottom,dn.bottom),dn.left=Ot(An.left,dn.left),dn},Rt(F,Ne[0],W));return rn.width=rn.right-rn.left,rn.height=rn.bottom-rn.top,rn.x=rn.left,rn.y=rn.top,rn}(vn(js)?js:js.contextElement||Ct(F.elements.popper),dn,An,xt),Qs=Et(F.elements.reference),Ko=_t({reference:Qs,element:Jo,strategy:"absolute",placement:pe}),Zo=dt(Object.assign({},Jo,Ko)),Mr=ei===qe?Zo:Qs,hr={top:ks.top-Mr.top+vs.top,bottom:Mr.bottom-ks.bottom+vs.bottom,left:ks.left-Mr.left+vs.left,right:Mr.right-ks.right+vs.right},ya=F.modifiersData.offset;if(ei===qe&&ya){var ml=ya[pe];Object.keys(hr).forEach(function(Ea){var Al=[ne,Z].indexOf(Ea)>=0?1:-1,xl=[ce,Z].indexOf(Ea)>=0?"y":"x";hr[Ea]+=ml[xl]*Al})}return hr}const si={name:"flip",enabled:!0,phase:"main",fn:function is(F){var q=F.state,R=F.options,W=F.name;if(!q.modifiersData[W]._skip){for(var pe=R.mainAxis,Ne=void 0===pe||pe,xt=R.altAxis,rn=void 0===xt||xt,dn=R.fallbackPlacements,wn=R.padding,An=R.boundary,bi=R.rootBoundary,ei=R.altBoundary,vi=R.flipVariations,Us=void 0===vi||vi,us=R.allowedAutoPlacements,Gi=q.options.placement,vs=he(Gi),Jo=dn||(vs!==Gi&&Us?function ns(F){if(he(F)===ae)return[];var q=te(F);return[re(F),q,re(q)]}(Gi):[te(Gi)]),js=[Gi].concat(Jo).reduce(function(xr,qa){return xr.concat(he(qa)===ae?function ai(F,q){void 0===q&&(q={});var pe=q.boundary,Ne=q.rootBoundary,xt=q.padding,rn=q.flipVariations,dn=q.allowedAutoPlacements,wn=void 0===dn?Ge:dn,An=Di(q.placement),bi=An?rn?nt:nt.filter(function(Us){return Di(Us)===An}):oe,ei=bi.filter(function(Us){return wn.indexOf(Us)>=0});0===ei.length&&(ei=bi);var vi=ei.reduce(function(Us,us){return Us[us]=oi(F,{placement:us,boundary:pe,rootBoundary:Ne,padding:xt})[he(us)],Us},{});return Object.keys(vi).sort(function(Us,us){return vi[Us]-vi[us]})}(q,{placement:qa,boundary:An,rootBoundary:bi,padding:wn,flipVariations:Us,allowedAutoPlacements:us}):qa)},[]),ks=q.rects.reference,Qs=q.rects.popper,Ko=new Map,Zo=!0,Mr=js[0],hr=0;hr<js.length;hr++){var ya=js[hr],ml=he(ya),Ea=Di(ya)===J,Al=[ce,Z].indexOf(ml)>=0,xl=Al?"width":"height",Fa=oi(q,{placement:ya,boundary:An,rootBoundary:bi,altBoundary:ei,padding:wn}),Oi=Al?Ea?ne:fe:Ea?Z:ce;ks[xl]>Qs[xl]&&(Oi=te(Oi));var wc=te(Oi),wl=[];if(Ne&&wl.push(Fa[ml]<=0),rn&&wl.push(Fa[Oi]<=0,Fa[wc]<=0),wl.every(function(xr){return xr})){Mr=ya,Zo=!1;break}Ko.set(ya,wl)}if(Zo)for(var nd=function(qa){var Xd=js.find(function(id){var pc=Ko.get(id);if(pc)return pc.slice(0,qa).every(function(e_){return e_})});if(Xd)return Mr=Xd,"break"},hc=Us?3:1;hc>0&&"break"!==nd(hc);hc--);q.placement!==Mr&&(q.modifiersData[W]._skip=!0,q.placement=Mr,q.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function cn(F,q,R){return Ot(F,wt(q,R))}function fi(F){var q=Et(F),R=F.offsetWidth,W=F.offsetHeight;return Math.abs(q.width-R)<=1&&(R=q.width),Math.abs(q.height-W)<=1&&(W=q.height),{x:F.offsetLeft,y:F.offsetTop,width:R,height:W}}const ms={name:"preventOverflow",enabled:!0,phase:"main",fn:function Si(F){var q=F.state,R=F.options,W=F.name,pe=R.mainAxis,Ne=void 0===pe||pe,xt=R.altAxis,rn=void 0!==xt&&xt,ei=R.tether,vi=void 0===ei||ei,Us=R.tetherOffset,us=void 0===Us?0:Us,Gi=oi(q,{boundary:R.boundary,rootBoundary:R.rootBoundary,padding:R.padding,altBoundary:R.altBoundary}),vs=he(q.placement),Gs=Di(q.placement),Jo=!Gs,js=bt(vs),ks=function ci(F){return"x"===F?"y":"x"}(js),Qs=q.modifiersData.popperOffsets,Ko=q.rects.reference,Zo=q.rects.popper,Mr="function"==typeof us?us(Object.assign({},q.rects,{placement:q.placement})):us,hr="number"==typeof Mr?{mainAxis:Mr,altAxis:Mr}:Object.assign({mainAxis:0,altAxis:0},Mr),ya=q.modifiersData.offset?q.modifiersData.offset[q.placement]:null,ml={x:0,y:0};if(Qs){if(Ne){var Ea,Al="y"===js?ce:fe,xl="y"===js?Z:ne,Fa="y"===js?"height":"width",Oi=Qs[js],wc=Oi+Gi[Al],wl=Oi-Gi[xl],zd=vi?-Zo[Fa]/2:0,nd=Gs===J?Ko[Fa]:Zo[Fa],hc=Gs===J?-Zo[Fa]:-Ko[Fa],ju=q.elements.arrow,xr=vi&&ju?fi(ju):{width:0,height:0},qa=q.modifiersData["arrow#persistent"]?q.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Xd=qa[Al],id=qa[xl],pc=cn(0,Ko[Fa],xr[Fa]),e_=Jo?Ko[Fa]/2-zd-pc-Xd-hr.mainAxis:nd-pc-Xd-hr.mainAxis,Ca=Jo?-Ko[Fa]/2+zd+pc+id+hr.mainAxis:hc+pc+id+hr.mainAxis,Lc=q.elements.arrow&&At(q.elements.arrow),t_=Lc?"y"===js?Lc.clientTop||0:Lc.clientLeft||0:0,Wf=null!=(Ea=ya?.[js])?Ea:0,el=Oi+Ca-Wf,n_=cn(vi?wt(wc,Oi+e_-Wf-t_):wc,Oi,vi?Ot(wl,el):wl);Qs[js]=n_,ml[js]=n_-Oi}if(rn){var Gf,sd=Qs[ks],Vu="y"===ks?"height":"width",s_=sd+Gi["x"===js?ce:fe],o_=sd-Gi["x"===js?Z:ne],Xh=-1!==[ce,fe].indexOf(vs),Kf=null!=(Gf=ya?.[ks])?Gf:0,r_=Xh?s_:sd-Ko[Vu]-Zo[Vu]-Kf+hr.altAxis,$u=Xh?sd+Ko[Vu]+Zo[Vu]-Kf-hr.altAxis:o_,Hf=vi&&Xh?function gn(F,q,R){var W=cn(F,q,R);return W>R?R:W}(r_,sd,$u):cn(vi?r_:s_,sd,vi?$u:o_);Qs[ks]=Hf,ml[ks]=Hf-sd}q.modifiersData[W]=ml}},requiresIfExists:["offset"]},Ii={name:"arrow",enabled:!0,phase:"main",fn:function xi(F){var q,R=F.state,W=F.name,pe=F.options,Ne=R.elements.arrow,xt=R.modifiersData.popperOffsets,rn=he(R.placement),dn=bt(rn),An=[fe,ne].indexOf(rn)>=0?"height":"width";if(Ne&&xt){var bi=function(q,R){return Tn("number"!=typeof(q="function"==typeof q?q(Object.assign({},R.rects,{placement:R.placement})):q)?q:ni(q,oe))}(pe.padding,R),ei=fi(Ne),vi="y"===dn?ce:fe,Us="y"===dn?Z:ne,us=R.rects.reference[An]+R.rects.reference[dn]-xt[dn]-R.rects.popper[An],Gi=xt[dn]-R.rects.reference[dn],vs=At(Ne),Gs=vs?"y"===dn?vs.clientHeight||0:vs.clientWidth||0:0,Qs=Gs/2-ei[An]/2+(us/2-Gi/2),Ko=cn(bi[vi],Qs,Gs-ei[An]-bi[Us]);R.modifiersData[W]=((q={})[dn]=Ko,q.centerOffset=Ko-Qs,q)}},effect:function Zt(F){var q=F.state,W=F.options.element,pe=void 0===W?"[data-popper-arrow]":W;null!=pe&&("string"==typeof pe&&!(pe=q.elements.popper.querySelector(pe))||tn(q.elements.popper,pe)&&(q.elements.arrow=pe))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xe(F,q,R){void 0===R&&(R=!1);var W=hn(q),pe=hn(q)&&function Fe(F){var q=F.getBoundingClientRect(),R=mt(q.width)/F.offsetWidth||1,W=mt(q.height)/F.offsetHeight||1;return 1!==R||1!==W}(q),Ne=Ct(q),xt=Et(F,pe,R),rn={scrollLeft:0,scrollTop:0},dn={x:0,y:0};return(W||!W&&!R)&&(("body"!==Gt(q)||ke(Ne))&&(rn=function It(F){return F!==ft(F)&&hn(F)?function Xt(F){return{scrollLeft:F.scrollLeft,scrollTop:F.scrollTop}}(F):kt(F)}(q)),hn(q)?((dn=Et(q,!0)).x+=q.clientLeft,dn.y+=q.clientTop):Ne&&(dn.x=vt(Ne))),{x:xt.left+rn.scrollLeft-dn.x,y:xt.top+rn.scrollTop-dn.y,width:xt.width,height:xt.height}}function gt(F){var q=new Map,R=new Set,W=[];function pe(Ne){R.add(Ne.name),[].concat(Ne.requires||[],Ne.requiresIfExists||[]).forEach(function(rn){if(!R.has(rn)){var dn=q.get(rn);dn&&pe(dn)}}),W.push(Ne)}return F.forEach(function(Ne){q.set(Ne.name,Ne)}),F.forEach(function(Ne){R.has(Ne.name)||pe(Ne)}),W}function Cn(F){var q;return function(){return q||(q=new Promise(function(R){Promise.resolve().then(function(){q=void 0,R(F())})})),q}}var Nn={placement:"bottom",modifiers:[],strategy:"absolute"};function Qn(){for(var F=arguments.length,q=new Array(F),R=0;R<F;R++)q[R]=arguments[R];return!q.some(function(W){return!(W&&"function"==typeof W.getBoundingClientRect)})}function Jn(F){void 0===F&&(F={});var R=F.defaultModifiers,W=void 0===R?[]:R,pe=F.defaultOptions,Ne=void 0===pe?Nn:pe;return function(rn,dn,wn){void 0===wn&&(wn=Ne);var An={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nn,Ne),modifiersData:{},elements:{reference:rn,popper:dn},attributes:{},styles:{}},bi=[],ei=!1,vi={state:An,setOptions:function(vs){var Gs="function"==typeof vs?vs(An.options):vs;us(),An.options=Object.assign({},Ne,An.options,Gs),An.scrollParents={reference:vn(rn)?ze(rn):rn.contextElement?ze(rn.contextElement):[],popper:ze(dn)};var Jo=function Yt(F){var q=gt(F);return je.reduce(function(R,W){return R.concat(q.filter(function(pe){return pe.phase===W}))},[])}(function On(F){var q=F.reduce(function(R,W){var pe=R[W.name];return R[W.name]=pe?Object.assign({},pe,W,{options:Object.assign({},pe.options,W.options),data:Object.assign({},pe.data,W.data)}):W,R},{});return Object.keys(q).map(function(R){return q[R]})}([].concat(W,An.options.modifiers)));return An.orderedModifiers=Jo.filter(function(js){return js.enabled}),function Us(){An.orderedModifiers.forEach(function(Gi){var Gs=Gi.options,js=Gi.effect;if("function"==typeof js){var ks=js({state:An,name:Gi.name,instance:vi,options:void 0===Gs?{}:Gs});bi.push(ks||function(){})}})}(),vi.update()},forceUpdate:function(){if(!ei){var vs=An.elements,Gs=vs.reference,Jo=vs.popper;if(Qn(Gs,Jo)){An.rects={reference:Xe(Gs,At(Jo),"fixed"===An.options.strategy),popper:fi(Jo)},An.reset=!1,An.placement=An.options.placement,An.orderedModifiers.forEach(function(hr){return An.modifiersData[hr.name]=Object.assign({},hr.data)});for(var js=0;js<An.orderedModifiers.length;js++)if(!0!==An.reset){var ks=An.orderedModifiers[js],Qs=ks.fn,Ko=ks.options;"function"==typeof Qs&&(An=Qs({state:An,options:void 0===Ko?{}:Ko,name:ks.name,instance:vi})||An)}else An.reset=!1,js=-1}}},update:Cn(function(){return new Promise(function(Gi){vi.forceUpdate(),Gi(An)})}),destroy:function(){us(),ei=!0}};if(!Qn(rn,dn))return vi;function us(){bi.forEach(function(Gi){return Gi()}),bi=[]}return vi.setOptions(wn).then(function(Gi){!ei&&wn.onFirstUpdate&&wn.onFirstUpdate(Gi)}),vi}}var Fi={passive:!0},Ji={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ft(F){var q,R=F.popper,W=F.popperRect,pe=F.placement,Ne=F.variation,xt=F.offsets,rn=F.position,dn=F.gpuAcceleration,wn=F.adaptive,An=F.roundOffsets,bi=F.isFixed,ei=xt.x,vi=void 0===ei?0:ei,Us=xt.y,us=void 0===Us?0:Us,Gi="function"==typeof An?An({x:vi,y:us}):{x:vi,y:us};vi=Gi.x,us=Gi.y;var vs=xt.hasOwnProperty("x"),Gs=xt.hasOwnProperty("y"),Jo=fe,js=ce,ks=window;if(wn){var Qs=At(R),Ko="clientHeight",Zo="clientWidth";Qs===ft(R)&&"static"!==sn(Qs=Ct(R)).position&&"absolute"===rn&&(Ko="scrollHeight",Zo="scrollWidth"),(pe===ce||(pe===fe||pe===ne)&&Ne===ve)&&(js=Z,us-=(bi&&Qs===ks&&ks.visualViewport?ks.visualViewport.height:Qs[Ko])-W.height,us*=dn?1:-1),pe!==fe&&(pe!==ce&&pe!==Z||Ne!==ve)||(Jo=ne,vi-=(bi&&Qs===ks&&ks.visualViewport?ks.visualViewport.width:Qs[Zo])-W.width,vi*=dn?1:-1)}var Ea,ya=Object.assign({position:rn},wn&&Ji),ml=!0===An?function ps(F,q){var W=F.y,pe=q.devicePixelRatio||1;return{x:mt(F.x*pe)/pe||0,y:mt(W*pe)/pe||0}}({x:vi,y:us},ft(R)):{x:vi,y:us};return vi=ml.x,us=ml.y,Object.assign({},ya,dn?((Ea={})[js]=Gs?"0":"",Ea[Jo]=vs?"0":"",Ea.transform=(ks.devicePixelRatio||1)<=1?"translate("+vi+"px, "+us+"px)":"translate3d("+vi+"px, "+us+"px, 0)",Ea):((q={})[js]=Gs?us+"px":"",q[Jo]=vs?vi+"px":"",q.transform="",q))}var Ut=Jn({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function ss(F){var q=F.state,R=F.instance,W=F.options,pe=W.scroll,Ne=void 0===pe||pe,xt=W.resize,rn=void 0===xt||xt,dn=ft(q.elements.popper),wn=[].concat(q.scrollParents.reference,q.scrollParents.popper);return Ne&&wn.forEach(function(An){An.addEventListener("scroll",R.update,Fi)}),rn&&dn.addEventListener("resize",R.update,Fi),function(){Ne&&wn.forEach(function(An){An.removeEventListener("scroll",R.update,Fi)}),rn&&dn.removeEventListener("resize",R.update,Fi)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function gs(F){var q=F.state;q.modifiersData[F.name]=_t({reference:q.rects.reference,element:q.rects.popper,strategy:"absolute",placement:q.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function _n(F){var q=F.state,R=F.options,W=R.gpuAcceleration,pe=void 0===W||W,Ne=R.adaptive,xt=void 0===Ne||Ne,rn=R.roundOffsets,dn=void 0===rn||rn,wn={placement:he(q.placement),variation:Di(q.placement),popper:q.elements.popper,popperRect:q.rects.popper,gpuAcceleration:pe,isFixed:"fixed"===q.options.strategy};null!=q.modifiersData.popperOffsets&&(q.styles.popper=Object.assign({},q.styles.popper,Ft(Object.assign({},wn,{offsets:q.modifiersData.popperOffsets,position:q.options.strategy,adaptive:xt,roundOffsets:dn})))),null!=q.modifiersData.arrow&&(q.styles.arrow=Object.assign({},q.styles.arrow,Ft(Object.assign({},wn,{offsets:q.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:dn})))),q.attributes.popper=Object.assign({},q.attributes.popper,{"data-popper-placement":q.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function be(F){var q=F.state;Object.keys(q.elements).forEach(function(R){var W=q.styles[R]||{},pe=q.attributes[R]||{},Ne=q.elements[R];!hn(Ne)||!Gt(Ne)||(Object.assign(Ne.style,W),Object.keys(pe).forEach(function(xt){var rn=pe[xt];!1===rn?Ne.removeAttribute(xt):Ne.setAttribute(xt,!0===rn?"":rn)}))})},effect:function Me(F){var q=F.state,R={popper:{position:q.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(q.elements.popper.style,R.popper),q.styles=R,q.elements.arrow&&Object.assign(q.elements.arrow.style,R.arrow),function(){Object.keys(q.elements).forEach(function(W){var pe=q.elements[W],Ne=q.attributes[W]||{},rn=Object.keys(q.styles.hasOwnProperty(W)?q.styles[W]:R[W]).reduce(function(dn,wn){return dn[wn]="",dn},{});!hn(pe)||!Gt(pe)||(Object.assign(pe.style,rn),Object.keys(Ne).forEach(function(dn){pe.removeAttribute(dn)}))})}},requires:["computeStyles"]}]});const jn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function un(F){var q=F.state,W=F.name,pe=F.options.offset,Ne=void 0===pe?[0,0]:pe,xt=Ge.reduce(function(An,bi){return An[bi]=function pn(F,q,R){var W=he(F),pe=[fe,ce].indexOf(W)>=0?-1:1,Ne="function"==typeof R?R(Object.assign({},q,{placement:F})):R,xt=Ne[0],rn=Ne[1];return xt=xt||0,rn=(rn||0)*pe,[fe,ne].indexOf(W)>=0?{x:rn,y:xt}:{x:xt,y:rn}}(bi,q.rects,Ne),An},{}),rn=xt[q.placement],wn=rn.y;null!=q.modifiersData.popperOffsets&&(q.modifiersData.popperOffsets.x+=rn.x,q.modifiersData.popperOffsets.y+=wn),q.modifiersData[W]=xt}},Zn=(F,q)=>({$implicit:F,opened:q});function wi(F,q){}function _s(F,q){if(1&F&&(i.j41(0,"button",3),i.EFF(1),i.DNE(2,wi,0,0,"ng-template",4),i.k0s()),2&F){const R=q.$implicit;i.Y8G("ngbPanelToggle",R),i.R7$(),i.SpI(" ",R.title,""),i.R7$(),i.Y8G("ngTemplateOutlet",null==R.titleTpl?null:R.titleTpl.templateRef)}}function Uo(F,q){}function pr(F,q){}function jo(F,q){if(1&F){const R=i.RV6();i.j41(0,"div",8),i.bIt("ngbRef",function(pe){i.eBV(R);const Ne=i.XpG().$implicit;return i.Njj(Ne.panelDiv=pe)}),i.j41(1,"div",9),i.DNE(2,pr,0,0,"ng-template",4),i.k0s()()}if(2&F){const R=i.XpG().$implicit;i.FS9("id",R.id),i.BMQ("aria-labelledby",R.id+"-header"),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==R.contentTpl?null:R.contentTpl.templateRef)||null)}}function er(F,q){if(1&F&&(i.j41(0,"div")(1,"div",5),i.DNE(2,Uo,0,0,"ng-template",6),i.k0s(),i.DNE(3,jo,3,3,"div",7),i.k0s()),2&F){const R=q.$implicit,W=i.XpG(),pe=i.sdS(1);i.HbH("accordion-item "+(R.cardClass||"")),i.R7$(),i.HbH("accordion-header "+(R.type?"bg-"+R.type:W.type?"bg-"+W.type:"")),i.Mz_("id","",R.id,"-header"),i.R7$(),i.Y8G("ngTemplateOutlet",(null==R.headerTpl?null:R.headerTpl.templateRef)||pe)("ngTemplateOutletContext",i.l_i(9,Zn,R,R.isOpen)),i.R7$(),i.Y8G("ngIf",!W.destroyOnHide||R.isOpen||R.transitionRunning)}}const Zs=["*"],ko=["ngbDatepickerDayView",""],ra=["month"],Co=["year"];function Sa(F,q){if(1&F&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&F){const R=q.$implicit,W=i.XpG();i.Y8G("value",R),i.BMQ("aria-label",W.i18n.getMonthFullName(R,null==W.date?null:W.date.year)),i.R7$(),i.JRh(W.i18n.getMonthShortName(R,null==W.date?null:W.date.year))}}function Ei(F,q){if(1&F&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&F){const R=q.$implicit,W=i.XpG();i.Y8G("value",R),i.R7$(),i.JRh(W.i18n.getYearNumerals(R))}}function Lr(F,q){if(1&F){const R=i.RV6();i.j41(0,"ngb-datepicker-navigation-select",7),i.bIt("select",function(pe){i.eBV(R);const Ne=i.XpG();return i.Njj(Ne.select.emit(pe))}),i.k0s()}if(2&F){const R=i.XpG();i.Y8G("date",R.date)("disabled",R.disabled)("months",R.selectBoxes.months)("years",R.selectBoxes.years)}}function aa(F,q){1&F&&i.nrm(0,"div",0)}function Ir(F,q){1&F&&i.nrm(0,"div",0)}function Wa(F,q){if(1&F&&(i.DNE(0,aa,1,0,"div",9),i.j41(1,"div",10),i.EFF(2),i.k0s(),i.DNE(3,Ir,1,0,"div",9)),2&F){const R=q.$implicit,W=q.index,pe=i.XpG(2);i.Y8G("ngIf",W>0),i.R7$(2),i.SpI(" ",pe.i18n.getMonthLabel(R.firstDate)," "),i.R7$(),i.Y8G("ngIf",W!==pe.months.length-1)}}function Ia(F,q){if(1&F&&i.DNE(0,Wa,4,3,"ng-template",8),2&F){const R=i.XpG();i.Y8G("ngForOf",R.months)}}const Pa=["defaultDayTemplate"],Ga=["content"];function la(F,q){if(1&F&&i.nrm(0,"div",7),2&F){const W=q.currentMonth,pe=q.selected,Ne=q.disabled,xt=q.focused;i.Y8G("date",q.date)("currentMonth",W)("selected",pe)("disabled",Ne)("focused",xt)}}function Ra(F,q){if(1&F&&(i.j41(0,"div",12),i.EFF(1),i.k0s()),2&F){const R=i.XpG().$implicit,W=i.XpG(2);i.R7$(),i.SpI(" ",W.i18n.getMonthLabel(R.firstDate)," ")}}function rt(F,q){if(1&F&&(i.j41(0,"div",9),i.DNE(1,Ra,2,1,"div",10),i.nrm(2,"ngb-datepicker-month",11),i.k0s()),2&F){const R=q.$implicit,W=i.XpG(2);i.R7$(),i.Y8G("ngIf","none"===W.navigation||W.displayMonths>1&&"select"===W.navigation),i.R7$(),i.Y8G("month",R.firstDate)}}function ot(F,q){if(1&F&&i.DNE(0,rt,3,2,"div",8),2&F){const R=i.XpG();i.Y8G("ngForOf",R.model.months)}}function ut(F,q){if(1&F){const R=i.RV6();i.j41(0,"ngb-datepicker-navigation",13),i.bIt("navigate",function(pe){i.eBV(R);const Ne=i.XpG();return i.Njj(Ne.onNavigateEvent(pe))})("select",function(pe){i.eBV(R);const Ne=i.XpG();return i.Njj(Ne.onNavigateDateSelect(pe))}),i.k0s()}if(2&F){const R=i.XpG();i.Y8G("date",R.model.firstDate)("months",R.model.months)("disabled",R.model.disabled)("showSelect","select"===R.model.navigation)("prevDisabled",R.model.prevDisabled)("nextDisabled",R.model.nextDisabled)("selectBoxes",R.model.selectBoxes)}}function jt(F,q){}function Nt(F,q){}function Ln(F,q){if(1&F&&(i.j41(0,"div",5),i.EFF(1),i.k0s()),2&F){const R=i.XpG(2);i.R7$(),i.JRh(R.i18n.getWeekLabel())}}function hi(F,q){if(1&F&&(i.j41(0,"div",6),i.EFF(1),i.k0s()),2&F){const R=q.$implicit;i.R7$(),i.JRh(R)}}function Li(F,q){if(1&F&&(i.j41(0,"div",2),i.DNE(1,Ln,2,1,"div",3)(2,hi,2,1,"div",4),i.k0s()),2&F){const R=i.XpG();i.R7$(),i.Y8G("ngIf",R.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",R.viewModel.weekdays)}}function $i(F,q){if(1&F&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&F){const R=i.XpG(2).$implicit,W=i.XpG();i.R7$(),i.JRh(W.i18n.getWeekNumerals(R.number))}}function Ci(F,q){}function Ls(F,q){if(1&F&&i.DNE(0,Ci,0,0,"ng-template",14),2&F){const R=i.XpG().$implicit,W=i.XpG(3);i.Y8G("ngTemplateOutlet",W.datepicker.dayTemplate)("ngTemplateOutletContext",R.context)}}function qs(F,q){if(1&F){const R=i.RV6();i.j41(0,"div",12),i.bIt("click",function(pe){const Ne=i.eBV(R).$implicit;return i.XpG(3).doSelect(Ne),i.Njj(pe.preventDefault())}),i.DNE(1,Ls,1,2,"ng-template",13),i.k0s()}if(2&F){const R=q.$implicit;i.AVh("disabled",R.context.disabled)("hidden",R.hidden)("ngb-dp-today",R.context.today),i.Y8G("tabindex",R.tabindex),i.BMQ("aria-label",R.ariaLabel),i.R7$(),i.Y8G("ngIf",!R.hidden)}}function Mo(F,q){if(1&F&&(i.j41(0,"div",8),i.DNE(1,$i,2,1,"div",9)(2,qs,2,9,"div",10),i.k0s()),2&F){const R=i.XpG().$implicit,W=i.XpG();i.R7$(),i.Y8G("ngIf",W.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",R.days)}}function Qi(F,q){1&F&&i.DNE(0,Mo,3,2,"div",7),2&F&&i.Y8G("ngIf",!q.$implicit.collapsed)}const mr=["dialog"],Is=["ngbNavOutlet",""],Vo=F=>({$implicit:F});function ca(F,q){}function Io(F,q){if(1&F&&(i.j41(0,"div",2),i.DNE(1,ca,0,0,"ng-template",3),i.k0s()),2&F){const R=i.XpG().$implicit,W=i.XpG();i.Y8G("item",R)("nav",W.nav)("role",W.paneRole),i.R7$(),i.Y8G("ngTemplateOutlet",(null==R.contentTpl?null:R.contentTpl.templateRef)||null)("ngTemplateOutletContext",i.eq3(5,Vo,R.active||W.isPanelTransitioning(R)))}}function os(F,q){if(1&F&&i.DNE(0,Io,2,7,"div",1),2&F){const R=q.$implicit,W=i.XpG();i.Y8G("ngIf",R.isPanelInDom()||W.isPanelTransitioning(R))}}const Po=(F,q,R)=>({$implicit:F,pages:q,disabled:R}),gr=F=>({disabled:!0,currentPage:F}),Yr=(F,q,R)=>({disabled:F,$implicit:q,currentPage:R}),da=(F,q)=>({disabled:F,currentPage:q}),br=F=>({disabled:F});function Nr(F,q){1&F&&(i.j41(0,"span",13),i.pXf(1,7),i.k0s())}function lr(F,q){1&F&&(i.j41(0,"span",13),i.pXf(1,8),i.k0s())}function ol(F,q){1&F&&(i.j41(0,"span",13),i.pXf(1,9),i.k0s())}function Qr(F,q){1&F&&(i.j41(0,"span",13),i.pXf(1,10),i.k0s())}function St(F,q){1&F&&i.EFF(0,"...")}function qt(F,q){1&F&&(i.j41(0,"span",15),i.EFF(1,"(current)"),i.k0s())}function ue(F,q){if(1&F&&(i.EFF(0),i.DNE(1,qt,2,0,"span",14)),2&F){const R=q.$implicit,W=q.currentPage;i.SpI(" ",R," "),i.R7$(),i.Y8G("ngIf",R===W)}}function Ye(F,q){}function Dt(F,q){if(1&F&&(i.j41(0,"a",20),i.DNE(1,Ye,0,0,"ng-template",12),i.k0s()),2&F){const R=i.XpG(2).$implicit,W=i.XpG(),pe=i.sdS(9);i.R7$(),i.Y8G("ngTemplateOutlet",(null==W.tplEllipsis?null:W.tplEllipsis.templateRef)||pe)("ngTemplateOutletContext",i.eq3(2,gr,R))}}function nn(F,q){}function Bn(F,q){if(1&F){const R=i.RV6();i.j41(0,"a",21),i.bIt("click",function(pe){i.eBV(R);const Ne=i.XpG().$implicit;return i.XpG(2).selectPage(Ne),i.Njj(pe.preventDefault())}),i.DNE(1,nn,0,0,"ng-template",12),i.k0s()}if(2&F){const R=i.XpG().$implicit,W=i.XpG(),pe=W.$implicit,Ne=W.disabled,xt=i.XpG(),rn=i.sdS(11);i.BMQ("tabindex",Ne?"-1":null)("aria-disabled",Ne?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==xt.tplNumber?null:xt.tplNumber.templateRef)||rn)("ngTemplateOutletContext",i.sMw(4,Yr,Ne,R,pe))}}function xe(F,q){if(1&F&&(i.j41(0,"li",17),i.DNE(1,Dt,2,4,"a",18)(2,Bn,2,8,"a",19),i.k0s()),2&F){const R=q.$implicit,W=i.XpG(),pe=W.$implicit,Ne=W.disabled,xt=i.XpG();i.AVh("active",R===pe)("disabled",xt.isEllipsis(R)||Ne),i.BMQ("aria-current",R===pe?"page":null),i.R7$(),i.Y8G("ngIf",xt.isEllipsis(R)),i.R7$(),i.Y8G("ngIf",!xt.isEllipsis(R))}}function Ve(F,q){1&F&&i.DNE(0,xe,3,7,"li",16),2&F&&i.Y8G("ngForOf",q.pages)}function Oe(F,q){}function ct(F,q){if(1&F){const R=i.RV6();i.j41(0,"li",17)(1,"a",22),i.bIt("click",function(pe){return i.eBV(R),i.XpG().selectPage(1),i.Njj(pe.preventDefault())}),i.DNE(2,Oe,0,0,"ng-template",12),i.k0s()()}if(2&F){const R=i.XpG(),W=i.sdS(1);i.AVh("disabled",R.previousDisabled()),i.R7$(),i.BMQ("tabindex",R.previousDisabled()?"-1":null)("aria-disabled",R.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==R.tplFirst?null:R.tplFirst.templateRef)||W)("ngTemplateOutletContext",i.l_i(6,da,R.previousDisabled(),R.page))}}function Ht(F,q){}function gi(F,q){if(1&F){const R=i.RV6();i.j41(0,"li",17)(1,"a",23),i.bIt("click",function(pe){i.eBV(R);const Ne=i.XpG();return Ne.selectPage(Ne.page-1),i.Njj(pe.preventDefault())}),i.DNE(2,Ht,0,0,"ng-template",12),i.k0s()()}if(2&F){const R=i.XpG(),W=i.sdS(3);i.AVh("disabled",R.previousDisabled()),i.R7$(),i.BMQ("tabindex",R.previousDisabled()?"-1":null)("aria-disabled",R.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==R.tplPrevious?null:R.tplPrevious.templateRef)||W)("ngTemplateOutletContext",i.eq3(6,br,R.previousDisabled()))}}function rs(F,q){}function Pr(F,q){}function Yo(F,q){if(1&F){const R=i.RV6();i.j41(0,"li",17)(1,"a",24),i.bIt("click",function(pe){i.eBV(R);const Ne=i.XpG();return Ne.selectPage(Ne.page+1),i.Njj(pe.preventDefault())}),i.DNE(2,Pr,0,0,"ng-template",12),i.k0s()()}if(2&F){const R=i.XpG(),W=i.sdS(5);i.AVh("disabled",R.nextDisabled()),i.R7$(),i.BMQ("tabindex",R.nextDisabled()?"-1":null)("aria-disabled",R.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==R.tplNext?null:R.tplNext.templateRef)||W)("ngTemplateOutletContext",i.l_i(6,da,R.nextDisabled(),R.page))}}function Tl(F,q){}function Ml(F,q){if(1&F){const R=i.RV6();i.j41(0,"li",17)(1,"a",25),i.bIt("click",function(pe){i.eBV(R);const Ne=i.XpG();return Ne.selectPage(Ne.pageCount),i.Njj(pe.preventDefault())}),i.DNE(2,Tl,0,0,"ng-template",12),i.k0s()()}if(2&F){const R=i.XpG(),W=i.sdS(7);i.AVh("disabled",R.nextDisabled()),i.R7$(),i.BMQ("tabindex",R.nextDisabled()?"-1":null)("aria-disabled",R.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==R.tplLast?null:R.tplLast.templateRef)||W)("ngTemplateOutletContext",i.l_i(6,da,R.nextDisabled(),R.page))}}function rl(F,q){1&F&&i.EFF(0),2&F&&i.JRh(100===q.fill?"\u2605":"\u2606")}function Qo(F,q){}function Vl(F,q){if(1&F){const R=i.RV6();i.j41(0,"span",2),i.EFF(1),i.k0s(),i.j41(2,"span",3),i.bIt("mouseenter",function(){const pe=i.eBV(R).index,Ne=i.XpG();return i.Njj(Ne.enter(pe+1))})("click",function(){const pe=i.eBV(R).index,Ne=i.XpG();return i.Njj(Ne.handleClick(pe+1))}),i.DNE(3,Qo,0,0,"ng-template",4),i.k0s()}if(2&F){const R=q.index,W=i.XpG(),pe=i.sdS(1);i.R7$(),i.SpI("(",R<W.nextRate?"*":" ",")"),i.R7$(),i.xc7("cursor",W.isInteractive()?"pointer":"default"),i.R7$(),i.Y8G("ngTemplateOutlet",W.starTemplate||W.starTemplateFromContent||pe)("ngTemplateOutletContext",W.contexts[R])}}function zc(F,q){if(1&F){const R=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(R);const pe=i.XpG();return i.Njj(pe.changeHour(pe.hourStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,1),i.k0s()()}if(2&F){const R=i.XpG();i.AVh("btn-sm",R.isSmallSize)("btn-lg",R.isLargeSize)("disabled",R.disabled),i.Y8G("disabled",R.disabled)}}function Ol(F,q){if(1&F){const R=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(R);const pe=i.XpG();return i.Njj(pe.changeHour(-pe.hourStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,2),i.k0s()()}if(2&F){const R=i.XpG();i.AVh("btn-sm",R.isSmallSize)("btn-lg",R.isLargeSize)("disabled",R.disabled),i.Y8G("disabled",R.disabled)}}function ys(F,q){if(1&F){const R=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(R);const pe=i.XpG();return i.Njj(pe.changeMinute(pe.minuteStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,3),i.k0s()()}if(2&F){const R=i.XpG();i.AVh("btn-sm",R.isSmallSize)("btn-lg",R.isLargeSize)("disabled",R.disabled),i.Y8G("disabled",R.disabled)}}function cr(F,q){if(1&F){const R=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(R);const pe=i.XpG();return i.Njj(pe.changeMinute(-pe.minuteStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,4),i.k0s()()}if(2&F){const R=i.XpG();i.AVh("btn-sm",R.isSmallSize)("btn-lg",R.isLargeSize)("disabled",R.disabled),i.Y8G("disabled",R.disabled)}}function Ro(F,q){1&F&&(i.j41(0,"div",14),i.EFF(1,":"),i.k0s())}function ro(F,q){if(1&F){const R=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(R);const pe=i.XpG(2);return i.Njj(pe.changeSecond(pe.secondStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,5),i.k0s()()}if(2&F){const R=i.XpG(2);i.AVh("btn-sm",R.isSmallSize)("btn-lg",R.isLargeSize)("disabled",R.disabled),i.Y8G("disabled",R.disabled)}}function $o(F,q){if(1&F){const R=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(R);const pe=i.XpG(2);return i.Njj(pe.changeSecond(-pe.secondStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,6),i.k0s()()}if(2&F){const R=i.XpG(2);i.AVh("btn-sm",R.isSmallSize)("btn-lg",R.isLargeSize)("disabled",R.disabled),i.Y8G("disabled",R.disabled)}}function $l(F,q){if(1&F){const R=i.RV6();i.j41(0,"div",24),i.DNE(1,ro,4,7,"button",12),i.j41(2,"input",25),i.bIt("change",function(pe){i.eBV(R);const Ne=i.XpG();return i.Njj(Ne.updateSecond(pe.target.value))})("blur",function(){i.eBV(R);const pe=i.XpG();return i.Njj(pe.handleBlur())})("input",function(pe){i.eBV(R);const Ne=i.XpG();return i.Njj(Ne.formatInput(pe.target))})("keydown.ArrowUp",function(pe){i.eBV(R);const Ne=i.XpG();return Ne.changeSecond(Ne.secondStep),i.Njj(pe.preventDefault())})("keydown.ArrowDown",function(pe){i.eBV(R);const Ne=i.XpG();return Ne.changeSecond(-Ne.secondStep),i.Njj(pe.preventDefault())}),i.k0s(),i.DNE(3,$o,4,7,"button",12),i.k0s()}if(2&F){const R=i.XpG();i.R7$(),i.Y8G("ngIf",R.spinners),i.R7$(),i.AVh("form-control-sm",R.isSmallSize)("form-control-lg",R.isLargeSize),i.Y8G("value",R.formatMinSec(null==R.model?null:R.model.second))("readOnly",R.readonlyInputs)("disabled",R.disabled),i.R7$(),i.Y8G("ngIf",R.spinners)}}function Ka(F,q){1&F&&i.nrm(0,"div",14)}function Sl(F,q){if(1&F&&(i.qex(0),i.pXf(1,7),i.bVm()),2&F){const R=i.XpG(2);i.R7$(),i.uP7(R.i18n.getAfternoonPeriod()),i.nnv(1)}}function Tc(F,q){if(1&F&&i.pXf(0,8),2&F){const R=i.XpG(2);i.uP7(R.i18n.getMorningPeriod()),i.nnv(0)}}function xa(F,q){if(1&F){const R=i.RV6();i.j41(0,"div",26)(1,"button",27),i.bIt("click",function(){i.eBV(R);const pe=i.XpG();return i.Njj(pe.toggleMeridian())}),i.DNE(2,Sl,2,1,"ng-container",28)(3,Tc,1,1,"ng-template",null,0,i.C5r),i.k0s()()}if(2&F){const R=i.sdS(4),W=i.XpG();i.R7$(),i.AVh("btn-sm",W.isSmallSize)("btn-lg",W.isLargeSize)("disabled",W.disabled),i.Y8G("disabled",W.disabled),i.R7$(),i.Y8G("ngIf",W.model&&W.model.hour>=12)("ngIfElse",R)}}function al(F,q){if(1&F&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&F){const R=i.XpG().$implicit,W=i.XpG();i.HbH(W.highlightClass),i.R7$(),i.JRh(R)}}function ac(F,q){if(1&F&&i.EFF(0),2&F){const R=i.XpG().$implicit;i.JRh(R)}}function Xc(F,q){if(1&F&&i.DNE(0,al,2,3,"span",2)(1,ac,1,1,"ng-template",null,0,i.C5r),2&F){const R=q.odd,W=i.sdS(2);i.Y8G("ngIf",R)("ngIfElse",W)}}const Il=(F,q,R)=>({result:F,term:q,formatter:R});function Od(F,q){if(1&F&&i.nrm(0,"ngb-highlight",2),2&F){const W=q.term;i.Y8G("result",(0,q.formatter)(q.result))("term",W)}}function Gl(F,q){}function Mc(F,q){if(1&F){const R=i.RV6();i.j41(0,"button",3),i.bIt("mouseenter",function(){const pe=i.eBV(R).index,Ne=i.XpG();return i.Njj(Ne.markActive(pe))})("click",function(){const pe=i.eBV(R).$implicit,Ne=i.XpG();return i.Njj(Ne.select(pe))}),i.DNE(1,Gl,0,0,"ng-template",4),i.k0s()}if(2&F){const R=q.$implicit,W=q.index,pe=i.XpG(),Ne=i.sdS(1);i.AVh("active",W===pe.activeIdx),i.Y8G("id",pe.id+"-"+W),i.R7$(),i.Y8G("ngTemplateOutlet",pe.resultTemplate||Ne)("ngTemplateOutletContext",i.sMw(5,Il,R,pe.term,pe.formatter))}}function Wo(F){return parseInt(`${F}`,10)}function $r(F){return null!=F?`${F}`:""}function lc(F,q,R=0){return Math.max(Math.min(F,q),R)}function dr(F){return"string"==typeof F}function Ks(F){return!isNaN(Wo(F))}function $t(F){return"number"==typeof F&&isFinite(F)&&Math.floor(F)===F}function mn(F){return null!=F}function Hn(F){return Ks(F)?`0${F}`.slice(-2):""}function ui(F,q){return F&&F.className&&F.className.split&&F.className.split(/\s+/).indexOf(q)>=0}function yi(F){return(F||document.body).getBoundingClientRect()}function xs(F){return F.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const ao={animation:!0,transitionTimerDelayMs:5},Fs=()=>{},{transitionTimerDelayMs:fo}=ao,xo=new Map,Ps=(F,q,R,W)=>{let pe=W.context||{};const Ne=xo.get(q);if(Ne)switch(W.runningTransition){case"continue":return e.w;case"stop":F.run(()=>Ne.transition$.complete()),pe=Object.assign(Ne.context,pe),xo.delete(q)}const xt=R(q,W.animation,pe)||Fs;if(!W.animation||"none"===window.getComputedStyle(q).transitionProperty)return F.run(()=>xt()),(0,p.of)(void 0).pipe(function eo(F){return q=>new c.c(R=>q.subscribe({next:xt=>F.run(()=>R.next(xt)),error:xt=>F.run(()=>R.error(xt)),complete:()=>F.run(()=>R.complete())}))}(F));const rn=new m.B,dn=new m.B,wn=rn.pipe(function O(...F){return q=>(0,S.x)(q,(0,p.of)(...F))}(!0));xo.set(q,{transition$:rn,complete:()=>{dn.next(),dn.complete()},context:pe});const An=function bo(F){const{transitionDelay:q,transitionDuration:R}=window.getComputedStyle(F);return 1e3*(parseFloat(q)+parseFloat(R))}(q);return F.runOutsideAngular(()=>{const bi=(0,f.R)(q,"transitionend").pipe((0,L.Q)(wn),(0,T.p)(({target:vi})=>vi===q)),ei=(0,v.O)(An+fo).pipe((0,L.Q)(wn));(0,E.O)(ei,bi,dn).pipe((0,L.Q)(wn)).subscribe(()=>{xo.delete(q),F.run(()=>{xt(),rn.next(),rn.complete()})})}),rn.asObservable()},me=(F,q,R)=>{let{direction:W,maxHeight:pe}=R;const{classList:Ne}=F;function xt(){Ne.add("collapse"),"show"===W?Ne.add("show"):Ne.remove("show")}if(q)return pe||(pe=function wa(F){if(typeof navigator>"u")return"0px";const{classList:q}=F,R=q.contains("show");R||q.add("show"),F.style.height="";const W=F.getBoundingClientRect().height+"px";return R||q.remove("show"),W}(F),R.maxHeight=pe,F.style.height="show"!==W?pe:"0px",Ne.remove("collapse"),Ne.remove("collapsing"),Ne.remove("show"),yi(F),Ne.add("collapsing")),F.style.height="show"===W?pe:"0px",()=>{xt(),Ne.remove("collapsing"),F.style.height=""};xt()};let st=(()=>{class F{constructor(){this.animation=ao.animation}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Ae=(()=>{class F{constructor(R){this._ngbConfig=R,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(R){this._animation=R}}return F.\u0275fac=function(R){return new(R||F)(i.KVO(st))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),et=0,Wt=(()=>{class F{constructor(R){this.templateRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPanelHeader",""]]}),F})(),Rn=(()=>{class F{constructor(R){this.templateRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPanelTitle",""]]}),F})(),Gn=(()=>{class F{constructor(R){this.templateRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPanelContent",""]]}),F})(),mi=(()=>{class F{constructor(){this.disabled=!1,this.id="ngb-panel-"+et++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new i.bkB,this.hidden=new i.bkB}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275dir=i.FsC({type:F,selectors:[["ngb-panel"]],contentQueries:function(R,W,pe){if(1&R&&(i.wni(pe,Rn,4),i.wni(pe,Wt,4),i.wni(pe,Gn,4)),2&R){let Ne;i.mGM(Ne=i.lsd())&&(W.titleTpls=Ne),i.mGM(Ne=i.lsd())&&(W.headerTpls=Ne),i.mGM(Ne=i.lsd())&&(W.contentTpls=Ne)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),F})(),Ys=(()=>{class F{constructor(R){this._El=R,this.ngbRef=new i.bkB}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),F})(),mo=(()=>{class F{constructor(R,W,pe){this._ngZone=W,this._changeDetector=pe,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=R.animation,this.type=R.type,this.closeOtherPanels=R.closeOthers}isExpanded(R){return this.activeIds.indexOf(R)>-1}expand(R){this._changeOpenState(this._findPanelById(R),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(R=>this._changeOpenState(R,!0))}collapse(R){this._changeOpenState(this._findPanelById(R),!1)}collapseAll(){this.panels.forEach(R=>{this._changeOpenState(R,!1)})}toggle(R){const W=this._findPanelById(R);W&&this._changeOpenState(W,!W.isOpen)}ngAfterContentChecked(){dr(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(R=>{R.isOpen=!R.disabled&&this.activeIds.indexOf(R.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,x.s)(1)).subscribe(()=>{this.panels.forEach(R=>{const W=R.panelDiv;W?R.initClassDone||(R.initClassDone=!0,Ps(this._ngZone,W,me,{animation:!1,runningTransition:"continue",context:{direction:R.isOpen?"show":"hide"}})):R.initClassDone=!1})})}_changeOpenState(R,W){if(null!=R&&!R.disabled&&R.isOpen!==W){let pe=!1;this.panelChange.emit({panelId:R.id,nextState:W,preventDefault:()=>{pe=!0}}),pe||(R.isOpen=W,R.transitionRunning=!0,W&&this.closeOtherPanels&&this._closeOthers(R.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(R,W=!0){this.panels.forEach(pe=>{pe.id!==R&&pe.isOpen&&(pe.isOpen=!1,pe.transitionRunning=W)})}_findPanelById(R){return this.panels.find(W=>W.id===R)||null}_updateActiveIds(){this.activeIds=this.panels.filter(R=>R.isOpen&&!R.disabled).map(R=>R.id)}_runTransitions(R){this._changeDetector.detectChanges(),this.panels.forEach(W=>{W.transitionRunning&&Ps(this._ngZone,W.panelDiv,me,{animation:R,runningTransition:"stop",context:{direction:W.isOpen?"show":"hide"}}).subscribe(()=>{W.transitionRunning=!1;const{id:Ne}=W;W.isOpen?(W.shown.emit(),this.shown.emit(Ne)):(W.hidden.emit(),this.hidden.emit(Ne))})})}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(Ae),i.rXU(i.SKi),i.rXU(i.gRc))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-accordion"]],contentQueries:function(R,W,pe){if(1&R&&i.wni(pe,mi,4),2&R){let Ne;i.mGM(Ne=i.lsd())&&(W.panels=Ne)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(R,W){2&R&&i.BMQ("aria-multiselectable",!W.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:[0,"closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["t",""],["ngbPanelHeader",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"ngbRef","id"],[1,"accordion-body"]],template:function(R,W){1&R&&i.DNE(0,_s,3,3,"ng-template",1,0,i.C5r)(2,er,4,12,"ng-template",2),2&R&&(i.R7$(2),i.Y8G("ngForOf",W.panels))},dependencies:()=>[Wt,Hs,t.T3,t.Sq,t.bT,Ys],encapsulation:2}),F})(),Hs=(()=>{class F{constructor(R,W){this.accordion=R,this.panel=W}set ngbPanelToggle(R){R&&(this.panel=R)}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(mo),i.rXU(mi,9))},F.\u0275dir=i.FsC({type:F,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(R,W){1&R&&i.bIt("click",function(){return W.accordion.toggle(W.panel.id)}),2&R&&(i.Mr5("disabled",W.panel.disabled),i.BMQ("aria-expanded",W.panel.isOpen)("aria-controls",W.panel.id),i.AVh("collapsed",!W.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),F})(),lo=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),Bi=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),Xs=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(R,W){2&R&&i.AVh("btn",!0)("active",W.active)("disabled",W.disabled)("focus",W.focused)}}),F})(),nr=(()=>{class F{constructor(R,W){this._label=R,this._cd=W,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=pe=>{},this.onTouched=()=>{}}set focused(R){this._label.focused=R,R||this.onTouched()}onInputChange(R){const W=R.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(W),this.onTouched(),this.writeValue(W)}registerOnChange(R){this.onChange=R}registerOnTouched(R){this.onTouched=R}setDisabledState(R){this.disabled=R,this._label.disabled=R}writeValue(R){this.checked=R===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(Xs),i.rXU(i.gRc))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(R,W){1&R&&i.bIt("change",function(Ne){return W.onInputChange(Ne)})("focus",function(){return W.focused=!0})("blur",function(){return W.focused=!1}),2&R&&i.Mr5("checked",W.checked)("disabled",W.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[i.Jv_([{provide:ee.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0}])]}),F})(),to=0,go=(()=>{class F{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+to++,this.onChange=R=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(R){this.setDisabledState(R)}onRadioChange(R){this.writeValue(R.value),this.onChange(R.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(R){this._radios.add(R)}registerOnChange(R){this.onChange=R}registerOnTouched(R){this.onTouched=R}setDisabledState(R){this._disabled=R,this._updateRadiosDisabled()}unregister(R){this._radios.delete(R)}writeValue(R){this._value=R,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(R=>R.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(R=>R.updateDisabled())}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[i.Jv_([{provide:ee.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0}])]}),F})(),Do=(()=>{class F{constructor(R,W,pe,Ne,xt){this._group=R,this._label=W,this._renderer=pe,this._element=Ne,this._cd=xt,this._value=null,this._group.register(this),this.updateDisabled()}set value(R){this._value=R;const W=R?R.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",W),this._group.onRadioValueUpdate()}set disabled(R){this._disabled=!1!==R,this.updateDisabled()}set focused(R){this._label&&(this._label.focused=R),R||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(R){this.value!==R&&this._cd.markForCheck(),this._checked=this.value===R,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(go),i.rXU(Xs),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(i.gRc))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(R,W){1&R&&i.bIt("change",function(){return W.onChange()})("focus",function(){return W.focused=!0})("blur",function(){return W.focused=!1}),2&R&&i.Mr5("checked",W.checked)("disabled",W.disabled)("name",W.nameAttr)},inputs:{name:"name",value:"value",disabled:"disabled"}}),F})(),Lo=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({}),F})(),Sd=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),ha=(()=>{class F{constructor(R){this._ngbConfig=R}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(R){this._animation=R}}return F.\u0275fac=function(R){return new(R||F)(i.KVO(st))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Xi=(()=>{class F{constructor(R,W,pe){this._element=R,this._zone=pe,this.collapsed=!1,this.ngbCollapseChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=W.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:R}){R.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(R=this.collapsed){this.collapsed=!R,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(R,W){return Ps(this._zone,this._element.nativeElement,me,{animation:W,runningTransition:"stop",context:{direction:R?"hide":"show"}})}_runTransitionWithEvents(R,W){this._runTransition(R,W).subscribe(()=>{R?this.hidden.emit():this.shown.emit()})}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.aKT),i.rXU(ha),i.rXU(i.SKi))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[i.OA$]}),F})(),Yc=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({}),F})();class To{constructor(q,R,W){this.year=$t(q)?q:null,this.month=$t(R)?R:null,this.day=$t(W)?W:null}static from(q){return q instanceof To?q:q?new To(q.year,q.month,q.day):null}equals(q){return null!=q&&this.year===q.year&&this.month===q.month&&this.day===q.day}before(q){return!!q&&(this.year===q.year?this.month===q.month?this.day!==q.day&&this.day<q.day:this.month<q.month:this.year<q.year)}after(q){return!!q&&(this.year===q.year?this.month===q.month?this.day!==q.day&&this.day>q.day:this.month>q.month:this.year>q.year)}}function Jr(F,q){return!function Hl(F,q){return!F&&!q||!!F&&!!q&&F.equals(q)}(F,q)}function Pl(F,q){return!(!F&&!q||F&&q&&F.year===q.year&&F.month===q.month)}function zl(F,q,R){return F&&q&&F.before(q)?q:F&&R&&F.after(R)?R:F||null}function ir(F,q){const{minDate:R,maxDate:W,disabled:pe,markDisabled:Ne}=q;return!(null==F||pe||Ne&&Ne(F,{year:F.year,month:F.month})||R&&F.before(R)||W&&F.after(W))}function yf(F){return new To(F.getFullYear(),F.getMonth()+1,F.getDate())}function Qc(F){const q=new Date(F.year,F.month-1,F.day,12);return isNaN(q.getTime())||q.setFullYear(F.year),q}let Se=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:()=>function le(){return new de}(),providedIn:"root"}),F})(),de=(()=>{class F extends Se{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(R,W="d",pe=1){let Ne=Qc(R),xt=!0,rn=Ne.getMonth();switch(W){case"y":Ne.setFullYear(Ne.getFullYear()+pe);break;case"m":rn+=pe,Ne.setMonth(rn),rn%=12,rn<0&&(rn+=12);break;case"d":Ne.setDate(Ne.getDate()+pe),xt=!1;break;default:return R}return xt&&Ne.getMonth()!==rn&&Ne.setDate(0),yf(Ne)}getPrev(R,W="d",pe=1){return this.getNext(R,W,-pe)}getWeekday(R){let pe=Qc(R).getDay();return 0===pe?7:pe}getWeekNumber(R,W){7===W&&(W=0);const xt=Qc(R[(11-W)%7]);xt.setDate(xt.getDate()+4-(xt.getDay()||7));const rn=xt.getTime();return xt.setMonth(0),xt.setDate(1),Math.floor(Math.round((rn-xt.getTime())/864e5)/7)+1}getToday(){return yf(new Date)}isValid(R){if(!(R&&$t(R.year)&&$t(R.month)&&$t(R.day)&&0!==R.year))return!1;const W=Qc(R);return!isNaN(W.getTime())&&W.getFullYear()===R.year&&W.getMonth()+1===R.month&&W.getDate()===R.day}}return F.\u0275fac=(()=>{let q;return function(W){return(q||(q=i.xGo(F)))(W||F)}})(),F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})(),Ze=(()=>{class F{getMonthLabel(R){return`${this.getMonthFullName(R.month,R.year)} ${this.getYearNumerals(R.year)}`}getDayNumerals(R){return`${R.day}`}getWeekNumerals(R){return`${R}`}getYearNumerals(R){return`${R}`}getWeekLabel(){return""}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:function(R){let W=null;return W=R?new R:function Pe(F){return new yt(F)}(i.KVO(i.xe9)),W},providedIn:"root"}),F})(),yt=(()=>{class F extends Ze{constructor(R){super(),this._locale=R,this._monthsShort=(0,t.tL)(R,t.oV.Standalone,t.cH.Abbreviated),this._monthsFull=(0,t.tL)(R,t.oV.Standalone,t.cH.Wide)}getWeekdayLabel(R,W){const pe=(0,t.XO)(this._locale,t.oV.Standalone,void 0===W?t.cH.Short:W);return pe.map((xt,rn)=>pe[(rn+1)%7])[R-1]||""}getMonthShortName(R){return this._monthsShort[R-1]||""}getMonthFullName(R){return this._monthsFull[R-1]||""}getDayAriaLabel(R){const W=new Date(R.year,R.month-1,R.day);return(0,t.Yq)(W,"fullDate",this._locale)}}return F.\u0275fac=function(R){return new(R||F)(i.KVO(i.xe9))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})(),Kt=(()=>{class F{constructor(R,W){this._calendar=R,this._i18n=W,this._VALIDATORS={dayTemplateData:pe=>{if(this._state.dayTemplateData!==pe)return{dayTemplateData:pe}},displayMonths:pe=>{if($t(pe=Wo(pe))&&pe>0&&this._state.displayMonths!==pe)return{displayMonths:pe}},disabled:pe=>{if(this._state.disabled!==pe)return{disabled:pe}},firstDayOfWeek:pe=>{if($t(pe=Wo(pe))&&pe>=0&&this._state.firstDayOfWeek!==pe)return{firstDayOfWeek:pe}},focusVisible:pe=>{if(this._state.focusVisible!==pe&&!this._state.disabled)return{focusVisible:pe}},markDisabled:pe=>{if(this._state.markDisabled!==pe)return{markDisabled:pe}},maxDate:pe=>{const Ne=this.toValidDate(pe,null);if(Jr(this._state.maxDate,Ne))return{maxDate:Ne}},minDate:pe=>{const Ne=this.toValidDate(pe,null);if(Jr(this._state.minDate,Ne))return{minDate:Ne}},navigation:pe=>{if(this._state.navigation!==pe)return{navigation:pe}},outsideDays:pe=>{if(this._state.outsideDays!==pe)return{outsideDays:pe}},weekdays:pe=>{const Ne=!0===pe||!1===pe?t.cH.Short:pe,xt=!0!==pe&&!1!==pe||pe;if(this._state.weekdayWidth!==Ne||this._state.weekdaysVisible!==xt)return{weekdayWidth:Ne,weekdaysVisible:xt}}},this._model$=new m.B,this._dateSelect$=new m.B,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:t.cH.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,T.p)(R=>R.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,T.p)(R=>null!==R))}set(R){let W=Object.keys(R).map(pe=>this._VALIDATORS[pe](R[pe])).reduce((pe,Ne)=>({...pe,...Ne}),{});Object.keys(W).length>0&&this._nextState(W)}focus(R){const W=this.toValidDate(R,null);null!=W&&!this._state.disabled&&Jr(this._state.focusDate,W)&&this._nextState({focusDate:R})}focusSelect(){ir(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(R){const W=this.toValidDate(R,this._calendar.getToday());null!=W&&!this._state.disabled&&(!this._state.firstDate||Pl(this._state.firstDate,W))&&this._nextState({firstDate:W})}select(R,W={}){const pe=this.toValidDate(R,null);null!=pe&&!this._state.disabled&&(Jr(this._state.selectedDate,pe)&&this._nextState({selectedDate:pe}),W.emitEvent&&ir(pe,this._state)&&this._dateSelect$.next(pe))}toValidDate(R,W){const pe=To.from(R);return void 0===W&&(W=this._calendar.getToday()),this._calendar.isValid(pe)?pe:W}getMonth(R){for(let W of this._state.months)if(R.month===W.number&&R.year===W.year)return W;throw new Error(`month ${R.month} of year ${R.year} not found`)}_nextState(R){const W=this._updateState(R);this._patchContexts(W),this._state=W,this._model$.next(this._state)}_patchContexts(R){const{months:W,displayMonths:pe,selectedDate:Ne,focusDate:xt,focusVisible:rn,disabled:dn,outsideDays:wn}=R;R.months.forEach(An=>{An.weeks.forEach(bi=>{bi.days.forEach(ei=>{xt&&(ei.context.focused=xt.equals(ei.date)&&rn),ei.tabindex=!dn&&xt&&ei.date.equals(xt)&&xt.month===An.number?0:-1,!0===dn&&(ei.context.disabled=!0),void 0!==Ne&&(ei.context.selected=null!==Ne&&Ne.equals(ei.date)),An.number!==ei.date.month&&(ei.hidden="hidden"===wn||"collapsed"===wn||pe>1&&ei.date.after(W[0].firstDate)&&ei.date.before(W[pe-1].lastDate))})})})}_updateState(R){const W=Object.assign({},this._state,R);let pe=W.firstDate;if(("minDate"in R||"maxDate"in R)&&(function ur(F,q){if(q&&F&&q.before(F))throw new Error(`'maxDate' ${q} should be greater than 'minDate' ${F}`)}(W.minDate,W.maxDate),W.focusDate=zl(W.focusDate,W.minDate,W.maxDate),W.firstDate=zl(W.firstDate,W.minDate,W.maxDate),pe=W.focusDate),"disabled"in R&&(W.focusVisible=!1),"selectedDate"in R&&0===this._state.months.length&&(pe=W.selectedDate),"focusVisible"in R||"focusDate"in R&&(W.focusDate=zl(W.focusDate,W.minDate,W.maxDate),pe=W.focusDate,0!==W.months.length&&W.focusDate&&!W.focusDate.before(W.firstDate)&&!W.focusDate.after(W.lastDate)))return W;if("firstDate"in R&&(W.firstDate=zl(W.firstDate,W.minDate,W.maxDate),pe=W.firstDate),pe){const xt=function Ya(F,q,R,W,pe){const{displayMonths:Ne,months:xt}=R,rn=xt.splice(0,xt.length);return Array.from({length:Ne},(wn,An)=>{const bi=Object.assign(F.getNext(q,"m",An),{day:1});if(xt[An]=null,!pe){const ei=rn.findIndex(vi=>vi.firstDate.equals(bi));-1!==ei&&(xt[An]=rn.splice(ei,1)[0])}return bi}).forEach((wn,An)=>{null===xt[An]&&(xt[An]=function Pd(F,q,R,W,pe={}){const{dayTemplateData:Ne,minDate:xt,maxDate:rn,firstDayOfWeek:dn,markDisabled:wn,outsideDays:An,weekdayWidth:bi,weekdaysVisible:ei}=R,vi=F.getToday();pe.firstDate=null,pe.lastDate=null,pe.number=q.month,pe.year=q.year,pe.weeks=pe.weeks||[],pe.weekdays=pe.weekdays||[],q=function vf(F,q,R){const W=F.getDaysPerWeek(),pe=new To(q.year,q.month,1),Ne=F.getWeekday(pe)%W;return F.getPrev(pe,"d",(W+Ne-R)%W)}(F,q,dn),ei||(pe.weekdays.length=0);for(let Us=0;Us<F.getWeeksPerMonth();Us++){let us=pe.weeks[Us];us||(us=pe.weeks[Us]={number:0,days:[],collapsed:!0});const Gi=us.days;for(let vs=0;vs<F.getDaysPerWeek();vs++){0===Us&&ei&&(pe.weekdays[vs]=W.getWeekdayLabel(F.getWeekday(q),bi));const Gs=new To(q.year,q.month,q.day),Jo=F.getNext(Gs),js=W.getDayAriaLabel(Gs);let ks=!!(xt&&Gs.before(xt)||rn&&Gs.after(rn));!ks&&wn&&(ks=wn(Gs,{month:pe.number,year:pe.year}));let Qs=Gs.equals(vi),Ko=Ne?Ne(Gs,{month:pe.number,year:pe.year}):void 0;null===pe.firstDate&&Gs.month===pe.number&&(pe.firstDate=Gs),Gs.month===pe.number&&Jo.month!==pe.number&&(pe.lastDate=Gs);let Zo=Gi[vs];Zo||(Zo=Gi[vs]={}),Zo.date=Gs,Zo.context=Object.assign(Zo.context||{},{$implicit:Gs,date:Gs,data:Ko,currentMonth:pe.number,currentYear:pe.year,disabled:ks,focused:!1,selected:!1,today:Qs}),Zo.tabindex=-1,Zo.ariaLabel=js,Zo.hidden=!1,q=Jo}us.number=F.getWeekNumber(Gi.map(vs=>vs.date),dn),us.collapsed="collapsed"===An&&Gi[0].date.month!==pe.number&&Gi[Gi.length-1].date.month!==pe.number}return pe}(F,wn,R,W,rn.shift()||{}))}),xt}(this._calendar,pe,W,this._i18n,"dayTemplateData"in R||"firstDayOfWeek"in R||"markDisabled"in R||"minDate"in R||"maxDate"in R||"disabled"in R||"outsideDays"in R||"weekdaysVisible"in R);W.months=xt,W.firstDate=xt[0].firstDate,W.lastDate=xt[xt.length-1].lastDate,"selectedDate"in R&&!ir(W.selectedDate,W)&&(W.selectedDate=null),"firstDate"in R&&(!W.focusDate||W.focusDate.before(W.firstDate)||W.focusDate.after(W.lastDate))&&(W.focusDate=pe);const rn=!this._state.firstDate||this._state.firstDate.year!==W.firstDate.year,dn=!this._state.firstDate||this._state.firstDate.month!==W.firstDate.month;"select"===W.navigation?(("minDate"in R||"maxDate"in R||0===W.selectBoxes.years.length||rn)&&(W.selectBoxes.years=function Cu(F,q,R){if(!F)return[];const W=q?Math.max(q.year,F.year-500):F.year-10,Ne=(R?Math.min(R.year,F.year+500):F.year+10)-W+1,xt=Array(Ne);for(let rn=0;rn<Ne;rn++)xt[rn]=W+rn;return xt}(W.firstDate,W.minDate,W.maxDate)),("minDate"in R||"maxDate"in R||0===W.selectBoxes.months.length||rn)&&(W.selectBoxes.months=function Zr(F,q,R,W){if(!q)return[];let pe=F.getMonths(q.year);if(R&&q.year===R.year){const Ne=pe.findIndex(xt=>xt===R.month);pe=pe.slice(Ne)}if(W&&q.year===W.year){const Ne=pe.findIndex(xt=>xt===W.month);pe=pe.slice(0,Ne+1)}return pe}(this._calendar,W.firstDate,W.minDate,W.maxDate))):W.selectBoxes={years:[],months:[]},("arrows"===W.navigation||"select"===W.navigation)&&(dn||rn||"minDate"in R||"maxDate"in R||"disabled"in R)&&(W.prevDisabled=W.disabled||function Id(F,q,R){const W=Object.assign(F.getPrev(q,"m"),{day:1});return null!=R&&(W.year===R.year&&W.month<R.month||W.year<R.year&&1===R.month)}(this._calendar,W.firstDate,W.minDate),W.nextDisabled=W.disabled||function cl(F,q,R){const W=Object.assign(F.getNext(q,"m"),{day:1});return null!=R&&W.after(R)}(this._calendar,W.lastDate,W.maxDate))}return W}}return F.\u0275fac=function(R){return new(R||F)(i.KVO(Se),i.KVO(Ze))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})();var xn=function(F){return F[F.PREV=0]="PREV",F[F.NEXT=1]="NEXT",F}(xn||{});let Mn=(()=>{class F{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=t.cH.Short}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),ds=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:()=>function _i(){return new es}(),providedIn:"root"}),F})(),es=(()=>{class F extends ds{fromModel(R){return R&&$t(R.year)&&$t(R.month)&&$t(R.day)?{year:R.year,month:R.month,day:R.day}:null}toModel(R){return R&&$t(R.year)&&$t(R.month)&&$t(R.day)?{year:R.year,month:R.month,day:R.day}:null}}return F.\u0275fac=(()=>{let q;return function(W){return(q||(q=i.xGo(F)))(W||F)}})(),F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})(),co=(()=>{class F{constructor(R){this.i18n=R}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(Ze))},F.\u0275cmp=i.VBU({type:F,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(R,W){2&R&&i.AVh("bg-primary",W.selected)("text-white",W.selected)("text-muted",W.isMuted())("outside",W.isMuted())("active",W.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:ko,decls:1,vars:1,template:function(R,W){1&R&&i.EFF(0),2&R&&i.JRh(W.i18n.getDayNumerals(W.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),F})(),Rl=(()=>{class F{constructor(R,W){this.i18n=R,this._renderer=W,this.select=new i.bkB,this._month=-1,this._year=-1}changeMonth(R){this.select.emit(new To(this.date.year,Wo(R),1))}changeYear(R){this.select.emit(new To(Wo(R),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(Ze),i.rXU(i.sFG))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(R,W){if(1&R&&(i.GBs(ra,7,i.aKT),i.GBs(Co,7,i.aKT)),2&R){let pe;i.mGM(pe=i.lsd())&&(W.monthSelect=pe.first),i.mGM(pe=i.lsd())&&(W.yearSelect=pe.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:()=>{let q,R,W,pe;return q=$localize`:@@ngb.datepicker.select-month:Select month`,R=$localize`:@@ngb.datepicker.select-month:Select month`,W=$localize`:@@ngb.datepicker.select-year:Select year`,pe=$localize`:@@ngb.datepicker.select-year:Select year`,[["month",""],["year",""],["aria-label",q,"title",R,1,"form-select",3,"change","disabled"],[3,"value",4,"ngFor","ngForOf"],["aria-label",W,"title",pe,1,"form-select",3,"change","disabled"],[3,"value"]]},template:function(R,W){if(1&R){const pe=i.RV6();i.j41(0,"select",2,0),i.bIt("change",function(xt){return i.eBV(pe),i.Njj(W.changeMonth(xt.target.value))}),i.DNE(2,Sa,2,3,"option",3),i.k0s(),i.j41(3,"select",4,1),i.bIt("change",function(xt){return i.eBV(pe),i.Njj(W.changeYear(xt.target.value))}),i.DNE(5,Ei,2,2,"option",3),i.k0s()}2&R&&(i.Y8G("disabled",W.disabled),i.R7$(2),i.Y8G("ngForOf",W.months),i.R7$(),i.Y8G("disabled",W.disabled),i.R7$(2),i.Y8G("ngForOf",W.years))},dependencies:[t.Sq,ee.xH,ee.y7],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),F})(),Dr=(()=>{class F{constructor(R){this.i18n=R,this.navigation=xn,this.months=[],this.navigate=new i.bkB,this.select=new i.bkB}onClickPrev(R){R.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(R){R.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(Ze))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:()=>{let q,R,W,pe;return q=$localize`:@@ngb.datepicker.previous-month:Previous month`,R=$localize`:@@ngb.datepicker.previous-month:Previous month`,W=$localize`:@@ngb.datepicker.next-month:Next month`,pe=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",q,"title",R,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",W,"title",pe,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(R,W){1&R&&(i.j41(0,"div",0)(1,"button",1),i.bIt("click",function(Ne){return W.onClickPrev(Ne)}),i.nrm(2,"span",2),i.k0s()(),i.DNE(3,Lr,1,4,"ngb-datepicker-navigation-select",3)(4,Ia,1,1,null,4),i.j41(5,"div",5)(6,"button",6),i.bIt("click",function(Ne){return W.onClickNext(Ne)}),i.nrm(7,"span",2),i.k0s()()),2&R&&(i.R7$(),i.Y8G("disabled",W.prevDisabled),i.R7$(2),i.Y8G("ngIf",W.showSelect),i.R7$(),i.Y8G("ngIf",!W.showSelect),i.R7$(2),i.Y8G("disabled",W.nextDisabled))},dependencies:[Rl,t.bT,t.Sq],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),F})();var Kn=function(F){return F[F.Tab=9]="Tab",F[F.Enter=13]="Enter",F[F.Escape=27]="Escape",F[F.Space=32]="Space",F[F.PageUp=33]="PageUp",F[F.PageDown=34]="PageDown",F[F.End=35]="End",F[F.Home=36]="Home",F[F.ArrowLeft=37]="ArrowLeft",F[F.ArrowUp=38]="ArrowUp",F[F.ArrowRight=39]="ArrowRight",F[F.ArrowDown=40]="ArrowDown",F}(Kn||{});let pa=(()=>{class F{processKey(R,W){const{state:pe,calendar:Ne}=W;switch(R.which){case Kn.PageUp:W.focusDate(Ne.getPrev(pe.focusedDate,R.shiftKey?"y":"m",1));break;case Kn.PageDown:W.focusDate(Ne.getNext(pe.focusedDate,R.shiftKey?"y":"m",1));break;case Kn.End:W.focusDate(R.shiftKey?pe.maxDate:pe.lastDate);break;case Kn.Home:W.focusDate(R.shiftKey?pe.minDate:pe.firstDate);break;case Kn.ArrowLeft:W.focusDate(Ne.getPrev(pe.focusedDate,"d",1));break;case Kn.ArrowUp:W.focusDate(Ne.getPrev(pe.focusedDate,"d",Ne.getDaysPerWeek()));break;case Kn.ArrowRight:W.focusDate(Ne.getNext(pe.focusedDate,"d",1));break;case Kn.ArrowDown:W.focusDate(Ne.getNext(pe.focusedDate,"d",Ne.getDaysPerWeek()));break;case Kn.Enter:case Kn.Space:W.focusSelect();break;default:return}R.preventDefault(),R.stopPropagation()}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Rd=(()=>{class F{constructor(R){this.templateRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbDatepickerContent",""]]}),F})(),Th=(()=>{class F{constructor(R,W,pe,Ne,xt,rn,dn,wn){this._service=R,this._calendar=W,this.i18n=pe,this._elementRef=rn,this._ngbDateAdapter=dn,this._ngZone=wn,this._controlValue=null,this._destroyed$=new m.B,this._publicState={},this.navigate=new i.bkB,this.dateSelect=new i.bkB,this.onChange=An=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(An=>this[An]=Ne[An]),R.dateSelect$.pipe((0,L.Q)(this._destroyed$)).subscribe(An=>{this.dateSelect.emit(An)}),R.model$.pipe((0,L.Q)(this._destroyed$)).subscribe(An=>{const bi=An.firstDate,ei=this.model?this.model.firstDate:null;this._publicState={maxDate:An.maxDate,minDate:An.minDate,firstDate:An.firstDate,lastDate:An.lastDate,focusedDate:An.focusDate,months:An.months.map(vs=>vs.firstDate)};let vi=!1;if(!bi.equals(ei)&&(this.navigate.emit({current:ei?{year:ei.year,month:ei.month}:null,next:{year:bi.year,month:bi.month},preventDefault:()=>vi=!0}),vi&&null!==ei))return void this._service.open(ei);const Us=An.selectedDate,us=An.focusDate,Gi=this.model?this.model.focusDate:null;this.model=An,Jr(Us,this._controlValue)&&(this._controlValue=Us,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(Us))),Jr(us,Gi)&&Gi&&An.focusVisible&&this.focus(),xt.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(R){this._service.focus(To.from(R))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,x.s)(1)).subscribe(()=>{const R=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');R&&R.focus()})}navigateTo(R){this._service.open(To.from(R?R.day?R:{...R,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const R=(0,f.R)(this._contentEl.nativeElement,"focusin"),W=(0,f.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:pe}=this._elementRef;(0,h.h)(R,W).pipe((0,T.p)(({target:Ne,relatedTarget:xt})=>!(ui(Ne,"ngb-dp-day")&&ui(xt,"ngb-dp-day")&&pe.contains(Ne)&&pe.contains(xt))),(0,L.Q)(this._destroyed$)).subscribe(({type:Ne})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===Ne})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const R={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(W=>R[W]=this[W]),this._service.set(R),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(R){const W={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(pe=>pe in R).forEach(pe=>W[pe]=this[pe]),this._service.set(W),"startDate"in R){const{currentValue:pe,previousValue:Ne}=R.startDate;Pl(Ne,pe)&&this.navigateTo(this.startDate)}}onDateSelect(R){this._service.focus(R),this._service.select(R,{emitEvent:!0})}onNavigateDateSelect(R){this._service.open(R)}onNavigateEvent(R){switch(R){case xn.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case xn.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(R){this.onChange=R}registerOnTouched(R){this.onTouched=R}setDisabledState(R){this._service.set({disabled:R})}writeValue(R){this._controlValue=To.from(this._ngbDateAdapter.fromModel(R)),this._service.select(this._controlValue)}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(Kt),i.rXU(Se),i.rXU(Ze),i.rXU(Mn),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(ds),i.rXU(i.SKi))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-datepicker"]],contentQueries:function(R,W,pe){if(1&R&&i.wni(pe,Rd,7),2&R){let Ne;i.mGM(Ne=i.lsd())&&(W.contentTemplate=Ne.first)}},viewQuery:function(R,W){if(1&R&&(i.GBs(Pa,7),i.GBs(Ga,7)),2&R){let pe;i.mGM(pe=i.lsd())&&(W._defaultDayTemplate=pe.first),i.mGM(pe=i.lsd())&&(W._contentEl=pe.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:ee.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0},Kt]),i.OA$],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(R,W){if(1&R&&(i.DNE(0,la,1,5,"ng-template",null,0,i.C5r)(2,ot,1,1,"ng-template",null,1,i.C5r),i.j41(4,"div",3),i.DNE(5,ut,1,7,"ngb-datepicker-navigation",4),i.k0s(),i.j41(6,"div",5,2),i.DNE(8,jt,0,0,"ng-template",6),i.k0s(),i.DNE(9,Nt,0,0,"ng-template",6)),2&R){const pe=i.sdS(3);i.R7$(5),i.Y8G("ngIf","none"!==W.navigation),i.R7$(),i.AVh("ngb-dp-months",!W.contentTemplate),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==W.contentTemplate?null:W.contentTemplate.templateRef)||pe),i.R7$(),i.Y8G("ngTemplateOutlet",W.footerTemplate)}},dependencies:()=>[co,Qa,Dr,t.Sq,t.bT,t.T3],styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),F})(),Qa=(()=>{class F{constructor(R,W,pe,Ne){this.i18n=R,this.datepicker=W,this._keyboardService=pe,this._service=Ne}set month(R){this.viewModel=this._service.getMonth(R)}onKeyDown(R){this._keyboardService.processKey(R,this.datepicker)}doSelect(R){!R.context.disabled&&!R.hidden&&this.datepicker.onDateSelect(R.date)}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(Ze),i.rXU(Th),i.rXU(pa),i.rXU(Kt))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(R,W){1&R&&i.bIt("keydown",function(Ne){return W.onKeyDown(Ne)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(R,W){1&R&&i.DNE(0,Li,3,2,"div",0)(1,Qi,1,1,"ng-template",1),2&R&&(i.Y8G("ngIf",W.viewModel.weekdays.length>0),i.R7$(),i.Y8G("ngForOf",W.viewModel.weeks))},dependencies:[t.bT,t.Sq,t.T3],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#0dcaf0;color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),F})();const Mh=(F,q)=>!!q&&q.some(R=>R.contains(F)),Ad=(F,q)=>!q||null!=function Zi(F,q){return!q||typeof F.closest>"u"?null:F.closest(q)}(F,q),Pc=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function In(F,q,R,W,pe,Ne,xt,rn){R&&F.runOutsideAngular((F=>Pc?()=>setTimeout(()=>F(),100):F)(()=>{const wn=(0,f.R)(q,"keydown").pipe((0,L.Q)(pe),(0,T.p)(ei=>ei.which===Kn.Escape),(0,K.M)(ei=>ei.preventDefault())),An=(0,f.R)(q,"mousedown").pipe((0,N.T)(ei=>{const vi=ei.target;return 2!==ei.button&&!Mh(vi,xt)&&("inside"===R?Mh(vi,Ne)&&Ad(vi,rn):"outside"===R?!Mh(vi,Ne):Ad(vi,rn)||!Mh(vi,Ne))}),(0,L.Q)(pe)),bi=(0,f.R)(q,"mouseup").pipe((0,z.E)(An),(0,T.p)(([ei,vi])=>vi),(0,V.c)(0),(0,L.Q)(pe));(0,E.O)([wn.pipe((0,N.T)(ei=>0)),bi.pipe((0,N.T)(ei=>1))]).subscribe(ei=>F.run(()=>W(ei)))}))}const Ao=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function _o(F){const q=Array.from(F.querySelectorAll(Ao)).filter(R=>-1!==R.tabIndex);return[q[0],q[q.length-1]]}const bu=(F,q,R,W=!1)=>{F.runOutsideAngular(()=>{const pe=(0,f.R)(q,"focusin").pipe((0,L.Q)(R),(0,N.T)(Ne=>Ne.target));(0,f.R)(q,"keydown").pipe((0,L.Q)(R),(0,T.p)(Ne=>Ne.which===Kn.Tab),(0,z.E)(pe)).subscribe(([Ne,xt])=>{const[rn,dn]=_o(q);(xt===rn||xt===q)&&Ne.shiftKey&&(dn.focus(),Ne.preventDefault()),xt===dn&&!Ne.shiftKey&&(rn.focus(),Ne.preventDefault())}),W&&(0,f.R)(q,"click").pipe((0,L.Q)(R),(0,z.E)(pe),(0,N.T)(Ne=>Ne[1])).subscribe(Ne=>Ne.focus())})},Cf=/\s+/,Tr=/  +/gi,Du=/^start/,a0=/^end/,Xl=/-(top|left)$/,Tu=/-(bottom|right)$/,io=/^left/,Sg=/^right/,xd=/^start/,fa=/^end/;function Rc({placement:F,baseClass:q}){let R=Array.isArray(F)?F:F.split(Cf),pe=R.findIndex(dn=>"auto"===dn);pe>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(dn){null==R.find(wn=>-1!==wn.search("^"+dn))&&R.splice(pe++,1,dn)});const Ne=R.map(dn=>function Ti(F){return F.replace(Du,"left").replace(a0,"right").replace(Xl,"-start").replace(Tu,"-end")}(dn));return{placement:Ne.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!q,phase:"write",fn({state:dn}){const wn=new RegExp(q+"(-[a-z]+)*","gi"),An=dn.elements.popper,bi=dn.placement;let ei=An.className;ei=ei.replace(wn,""),ei+=` ${function l0(F,q){let[R,W]=q.split("-");const pe=R.replace(io,"start").replace(Sg,"end");let Ne=[pe];if(W){let xt=W;("left"===R||"right"===R)&&(xt=xt.replace(xd,"top").replace(fa,"bottom")),Ne.push(`${pe}-${xt}`)}return F&&(Ne=Ne.map(xt=>`${F}-${xt}`)),Ne.join(" ")}(q,bi)}`,ei=ei.trim().replace(Tr," "),An.className=ei}},si,ms,Ii,{enabled:!0,name:"flip",options:{fallbackPlacements:Ne}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Yl(F){return F}function ma(){let F=null;return{createPopper(q){if(!F){let W=(q.updatePopperOptions||Yl)(Rc(q));F=Ut(q.hostElement,q.targetElement,W)}},update(){F&&F.update()},setOptions(q){if(F){let W=(q.updatePopperOptions||Yl)(Rc(q));F.setOptions(W)}},destroy(){F&&(F.destroy(),F=null)}}}let Ig=(()=>{class F extends Mn{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.restoreFocus=!0}}return F.\u0275fac=(()=>{let q;return function(W){return(q||(q=i.xGo(F)))(W||F)}})(),F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function Mu(F){return q=>(q.modifiers.push(jn,{name:"offset",options:{offset:()=>F}}),q)}let uo=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:()=>function Pg(){return new Pi}(),providedIn:"root"}),F})(),Pi=(()=>{class F extends uo{parse(R){if(null!=R){const W=R.trim().split("-");if(1===W.length&&Ks(W[0]))return{year:Wo(W[0]),month:null,day:null};if(2===W.length&&Ks(W[0])&&Ks(W[1]))return{year:Wo(W[0]),month:Wo(W[1]),day:null};if(3===W.length&&Ks(W[0])&&Ks(W[1])&&Ks(W[2]))return{year:Wo(W[0]),month:Wo(W[1]),day:Wo(W[2])}}return null}format(R){return R?`${R.year}-${Ks(R.month)?Hn(R.month):""}-${Ks(R.day)?Hn(R.day):""}`:""}}return F.\u0275fac=(()=>{let q;return function(W){return(q||(q=i.xGo(F)))(W||F)}})(),F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})(),bf=(()=>{class F{constructor(R,W,pe,Ne,xt,rn,dn,wn,An,bi){this._parserFormatter=R,this._elRef=W,this._vcRef=pe,this._renderer=Ne,this._ngZone=xt,this._calendar=rn,this._dateAdapter=dn,this._document=wn,this._changeDetector=An,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=ma(),this._destroyCloseHandlers$=new m.B,this.dateSelect=new i.bkB,this.navigate=new i.bkB,this.closed=new i.bkB,this._onChange=ei=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(ei=>this[ei]=bi[ei])}get disabled(){return this._disabled}set disabled(R){this._disabled=""===R||R&&"false"!==R,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(R){this._onChange=R}registerOnTouched(R){this._onTouched=R}registerOnValidatorChange(R){this._validatorChange=R}setDisabledState(R){this.disabled=R}validate(R){const{value:W}=R;if(null!=W){const pe=this._fromDateStruct(this._dateAdapter.fromModel(W));if(!pe)return{ngbDate:{invalid:W}};if(this.minDate&&pe.before(To.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:W}}};if(this.maxDate&&pe.after(To.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:W}}}}return null}writeValue(R){this._model=this._fromDateStruct(this._dateAdapter.fromModel(R)),this._writeModelValue(this._model)}manualDateChange(R,W=!1){const pe=R!==this._inputValue;pe&&(this._inputValue=R,this._model=this._fromDateStruct(this._parserFormatter.parse(R))),(pe||!W)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===R?null:R),W&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let R;if(this._cRef=this._vcRef.createComponent(Th),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(W=>{this.writeValue(W),this._onChange(W),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,bu(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus()),R=dr(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this._ngZone.runOutsideAngular(()=>{this._cRef&&(this._positioning.createPopper({hostElement:R,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:Mu([0,2])}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this.positionTarget&&!R)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let R=this._elWithFocus;dr(this.restoreFocus)?R=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(R=this.restoreFocus),R&&R.focus?R.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(R){this.isOpen()&&this._cRef.instance.navigateTo(R)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(R){if((R.minDate||R.maxDate)&&(this._validatorChange(),this.isOpen()&&(R.minDate&&(this._cRef.instance.minDate=this.minDate),R.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(R))),R.datepickerClass){const{currentValue:W,previousValue:pe}=R.datepickerClass;this._applyPopupClass(W,pe)}R.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(R){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(W=>{void 0!==this[W]&&(R[W]=this[W])}),R.startDate=this.startDate||this._model}_applyPopupClass(R,W){const pe=this._cRef?.location.nativeElement;pe&&(R&&this._renderer.addClass(pe,R),W&&this._renderer.removeClass(pe,W))}_applyPopupStyling(R){this._renderer.addClass(R,"dropdown-menu"),this._renderer.addClass(R,"show"),"body"===this.container&&this._renderer.addClass(R,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(R){R.navigate.subscribe(W=>this.navigate.emit(W)),R.dateSelect.subscribe(W=>{this.dateSelect.emit(W),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(R){const W=this._parserFormatter.format(R);this._inputValue=W,this._renderer.setProperty(this._elRef.nativeElement,"value",W),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(R)),this._onTouched())}_fromDateStruct(R){const W=R?new To(R.year,R.month,R.day):null;return this._calendar.isValid(W)?W:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),In(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(uo),i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.SKi),i.rXU(Se),i.rXU(ds),i.rXU(t.qQ),i.rXU(i.gRc),i.rXU(Ig))},F.\u0275dir=i.FsC({type:F,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(R,W){1&R&&i.bIt("input",function(Ne){return W.manualDateChange(Ne.target.value)})("change",function(Ne){return W.manualDateChange(Ne.target.value,!0)})("focus",function(){return W.onFocus()})("blur",function(){return W.onBlur()}),2&R&&i.Mr5("disabled",W.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:ee.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0},{provide:ee.cz,useExisting:(0,i.Rfq)(()=>F),multi:!0},{provide:Mn,useExisting:Ig}]),i.OA$]}),F})();new Date(1882,10,12),new Date(2174,10,25);let cc=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD,ee.YN]]}),F})(),Go=(()=>{class F{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),wh=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275dir=i.FsC({type:F,selectors:[["",8,"navbar"]]}),F})(),If=(()=>{class F{constructor(R,W){this.elementRef=R,this._renderer=W,this._disabled=!1}set disabled(R){this._disabled=""===R||!0===R,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.aKT),i.rXU(i.sFG))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(R,W){2&R&&(i.Mr5("tabIndex",W.disabled?-1:0),i.AVh("disabled",W.disabled))},inputs:{disabled:"disabled"}}),F})(),Pf=(()=>{class F{constructor(R,W){this.dropdown=R,this.placement="bottom",this.isOpen=!1,this.nativeElement=W.nativeElement}}return F.\u0275fac=function(R){return new(R||F)(i.rXU((0,i.Rfq)(()=>Fd)),i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(R,W,pe){if(1&R&&i.wni(pe,If,4),2&R){let Ne;i.mGM(Ne=i.lsd())&&(W.menuItems=Ne)}},hostVars:4,hostBindings:function(R,W){1&R&&i.bIt("keydown.ArrowUp",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.ArrowDown",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Home",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.End",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Enter",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Space",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Tab",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Shift.Tab",function(Ne){return W.dropdown.onKeyDown(Ne)}),2&R&&i.AVh("dropdown-menu",!0)("show",W.dropdown.isOpen())}}),F})(),Pu=(()=>{class F{constructor(R,W){this.dropdown=R,this.nativeElement=W.nativeElement}}return F.\u0275fac=function(R){return new(R||F)(i.rXU((0,i.Rfq)(()=>Fd)),i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(R,W){2&R&&i.BMQ("aria-expanded",W.dropdown.isOpen())}}),F})(),Lh=(()=>{class F extends Pu{constructor(R,W){super(R,W)}}return F.\u0275fac=function(R){return new(R||F)(i.rXU((0,i.Rfq)(()=>Fd)),i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(R,W){1&R&&i.bIt("click",function(){return W.dropdown.toggle()})("keydown.ArrowUp",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.ArrowDown",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Home",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.End",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Tab",function(Ne){return W.dropdown.onKeyDown(Ne)})("keydown.Shift.Tab",function(Ne){return W.dropdown.onKeyDown(Ne)}),2&R&&i.BMQ("aria-expanded",W.dropdown.isOpen())},features:[i.Jv_([{provide:Pu,useExisting:(0,i.Rfq)(()=>F)}]),i.Vt3]}),F})(),Fd=(()=>{class F{constructor(R,W,pe,Ne,xt,rn,dn){this._changeDetector=R,this._document=pe,this._ngZone=Ne,this._elementRef=xt,this._renderer=rn,this._destroyCloseHandlers$=new m.B,this._bodyContainer=null,this._positioning=ma(),this._open=!1,this.openChange=new i.bkB,this.placement=W.placement,this.container=W.container,this.autoClose=W.autoClose,this.display=dn?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe((0,x.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(R){if(R.container&&this._open&&this._applyContainer(this.container),R.placement&&!R.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),R.dropdownClass){const{currentValue:W,previousValue:pe}=R.dropdownClass;this._applyCustomDropdownClass(W,pe)}R.autoClose&&this._open&&(this.autoClose=R.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:Mu([0,2])}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),In(this._ngZone,this._document,this.autoClose,R=>{this.close(),0===R&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(R){const W=R.which,pe=this._getMenuElements();let Ne=-1,xt=null;const rn=this._isEventFromToggle(R);if(!rn&&pe.length&&pe.forEach((dn,wn)=>{dn.contains(R.target)&&(xt=dn),dn===this._document.activeElement&&(Ne=wn)}),W!==Kn.Space&&W!==Kn.Enter){if(W!==Kn.Tab){if(rn||xt){if(this.open(),pe.length){switch(W){case Kn.ArrowDown:Ne=Math.min(Ne+1,pe.length-1);break;case Kn.ArrowUp:if(this._isDropup()&&-1===Ne){Ne=pe.length-1;break}Ne=Math.max(Ne-1,0);break;case Kn.Home:Ne=0;break;case Kn.End:Ne=pe.length-1}pe[Ne].focus()}R.preventDefault()}}else if(R.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===R.target)return void("body"!==this.container||R.shiftKey?R.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const dn=this._menu.nativeElement.querySelectorAll(Ao);R.shiftKey&&R.target===dn[0]?(this._anchor.nativeElement.focus(),R.preventDefault()):!R.shiftKey&&R.target===dn[dn.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,f.R)(R.target,"focusout").pipe((0,x.s)(1)).subscribe(({relatedTarget:dn})=>{this._elementRef.nativeElement.contains(dn)||this.close()})}}else xt&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,f.R)(xt,"click").pipe((0,x.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(R){return this._anchor.nativeElement.contains(R.target)}_getMenuElements(){const R=this._menu;return null==R?[]:R.menuItems.filter(W=>!W.disabled).map(W=>W.elementRef.nativeElement)}_positionMenu(){const R=this._menu;this.isOpen()&&R&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(R){return Array.isArray(R)?R[0]:R.split(" ")[0]}_resetContainer(){const R=this._renderer;this._menu&&R.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(R.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(R=null){if(this._resetContainer(),"body"===R){const W=this._renderer,pe=this._menu.nativeElement,Ne=this._bodyContainer=this._bodyContainer||W.createElement("div");W.setStyle(Ne,"position","absolute"),W.setStyle(pe,"position","static"),W.setStyle(Ne,"z-index","1055"),W.appendChild(Ne,pe),W.appendChild(this._document.body,Ne)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(R,W){const pe="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;pe&&(W&&this._renderer.removeClass(pe,W),R&&this._renderer.addClass(pe,R))}_applyPlacementClasses(R){const W=this._menu;if(W){R||(R=this._getFirstPlacement(this.placement));const pe=this._renderer,Ne=this._elementRef.nativeElement;pe.removeClass(Ne,"dropup"),pe.removeClass(Ne,"dropdown");const{nativeElement:xt}=W;"static"===this.display?(W.placement=null,pe.setAttribute(xt,"data-bs-popper","static")):(W.placement=R,pe.removeAttribute(xt,"data-bs-popper"));const rn=-1!==R.search("^top")?"dropup":"dropdown";pe.addClass(Ne,rn);const dn=this._bodyContainer;dn&&(pe.removeClass(dn,"dropup"),pe.removeClass(dn,"dropdown"),pe.addClass(dn,rn))}}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.gRc),i.rXU(Go),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(wh,8))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbDropdown",""]],contentQueries:function(R,W,pe){if(1&R&&(i.wni(pe,Pf,5),i.wni(pe,Pu,5)),2&R){let Ne;i.mGM(Ne=i.lsd())&&(W._menu=Ne.first),i.mGM(Ne=i.lsd())&&(W._anchor=Ne.first)}},hostVars:2,hostBindings:function(R,W){2&R&&i.AVh("show",W.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[0,"open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[i.OA$]}),F})(),ul=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({}),F})();class Bd{constructor(q,R,W){this.nodes=q,this.viewRef=R,this.componentRef=W}}class Ru{constructor(q,R,W,pe,Ne,xt){this._type=q,this._injector=R,this._viewContainerRef=W,this._renderer=pe,this._ngZone=Ne,this._applicationRef=xt,this._windowRef=null,this._contentRef=null}open(q,R,W=!1){this._windowRef||(this._contentRef=this._getContentRef(q,R),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:pe}=this._windowRef.location,Ne=this._ngZone.onStable.pipe((0,x.s)(1),(0,G.Z)(()=>Ps(this._ngZone,pe,({classList:xt})=>xt.add("show"),{animation:W,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:Ne}}close(q=!1){return this._windowRef?Ps(this._ngZone,this._windowRef.location.nativeElement,({classList:R})=>R.remove("show"),{animation:q,runningTransition:"stop"}).pipe((0,K.M)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,p.of)(void 0)}_getContentRef(q,R){if(q){if(q instanceof i.C4Q){const W=q.createEmbeddedView(R);return this._applicationRef.attachView(W),new Bd([W.rootNodes],W)}return new Bd([[this._renderer.createText(`${q}`)]])}return new Bd([])}}let Rf=(()=>{class F{constructor(R,W){this._el=R,this._zone=W}ngOnInit(){this._zone.onStable.asObservable().pipe((0,x.s)(1)).subscribe(()=>{Ps(this._zone,this._el.nativeElement,(R,W)=>{W&&yi(R),R.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ps(this._zone,this._el.nativeElement,({classList:R})=>R.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.aKT),i.rXU(i.SKi))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(R,W){2&R&&(i.HbH("modal-backdrop"+(W.backdropClass?" "+W.backdropClass:"")),i.AVh("show",!W.animation)("fade",W.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(R,W){},encapsulation:2}),F})();class Au{close(q){}dismiss(q){}}class zi{constructor(q,R,W,pe){this._windowCmptRef=q,this._contentRef=R,this._backdropCmptRef=W,this._beforeDismiss=pe,this._closed=new m.B,this._dismissed=new m.B,this._hidden=new m.B,q.instance.dismissEvent.subscribe(Ne=>{this.dismiss(Ne)}),this.result=new Promise((Ne,xt)=>{this._resolve=Ne,this._reject=xt}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,L.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,L.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(q){this._windowCmptRef&&(this._closed.next(q),this._resolve(q),this._removeModalElements())}_dismiss(q){this._dismissed.next(q),this._reject(q),this._removeModalElements()}dismiss(q){if(this._windowCmptRef)if(this._beforeDismiss){const R=this._beforeDismiss();!function Pn(F){return F&&F.then}(R)?!1!==R&&this._dismiss(q):R.then(W=>{!1!==W&&this._dismiss(q)},()=>{})}else this._dismiss(q)}_removeModalElements(){const q=this._windowCmptRef.instance.hide(),R=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,p.of)(void 0);q.subscribe(()=>{const{nativeElement:W}=this._windowCmptRef.location;W.parentNode.removeChild(W),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),R.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:W}=this._backdropCmptRef.location;W.parentNode.removeChild(W),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,I.y)(q,R).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ac=function(F){return F[F.BACKDROP_CLICK=0]="BACKDROP_CLICK",F[F.ESC=1]="ESC",F}(Ac||{});let kg=(()=>{class F{constructor(R,W,pe){this._document=R,this._elRef=W,this._zone=pe,this._closed$=new m.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.bkB,this.shown=new m.B,this.hidden=new m.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":dr(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(R){this.dismissEvent.emit(R)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,x.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:R}=this._elRef,W={animation:this.animation,runningTransition:"stop"},pe=Ps(this._zone,R,()=>R.classList.remove("show"),W),Ne=Ps(this._zone,this._dialogEl.nativeElement,()=>{},W),xt=(0,I.y)(pe,Ne);return xt.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),xt}_show(){const R={animation:this.animation,runningTransition:"continue"},W=Ps(this._zone,this._elRef.nativeElement,(Ne,xt)=>{xt&&yi(Ne),Ne.classList.add("show")},R),pe=Ps(this._zone,this._dialogEl.nativeElement,()=>{},R);(0,I.y)(W,pe).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:R}=this._elRef;this._zone.runOutsideAngular(()=>{(0,f.R)(R,"keydown").pipe((0,L.Q)(this._closed$),(0,T.p)(pe=>pe.which===Kn.Escape)).subscribe(pe=>{this.keyboard?requestAnimationFrame(()=>{pe.defaultPrevented||this._zone.run(()=>this.dismiss(Ac.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let W=!1;(0,f.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,L.Q)(this._closed$),(0,K.M)(()=>W=!1),(0,k.n)(()=>(0,f.R)(R,"mouseup").pipe((0,L.Q)(this._closed$),(0,x.s)(1))),(0,T.p)(({target:pe})=>R===pe)).subscribe(()=>{W=!0}),(0,f.R)(R,"click").pipe((0,L.Q)(this._closed$)).subscribe(({target:pe})=>{R===pe&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!W&&this._zone.run(()=>this.dismiss(Ac.BACKDROP_CLICK))),W=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:R}=this._elRef;if(!R.contains(document.activeElement)){const W=R.querySelector("[ngbAutofocus]"),pe=_o(R)[0];(W||pe||R).focus()}}_restoreFocus(){const R=this._document.body,W=this._elWithFocus;let pe;pe=W&&W.focus&&R.contains(W)?W:R,this._zone.runOutsideAngular(()=>{setTimeout(()=>pe.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ps(this._zone,this._elRef.nativeElement,({classList:R})=>(R.add("modal-static"),()=>R.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(t.qQ),i.rXU(i.aKT),i.rXU(i.SKi))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-modal-window"]],viewQuery:function(R,W){if(1&R&&i.GBs(mr,7),2&R){let pe;i.mGM(pe=i.lsd())&&(W._dialogEl=pe.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(R,W){2&R&&(i.BMQ("aria-modal",!0)("aria-labelledby",W.ariaLabelledBy)("aria-describedby",W.ariaDescribedBy),i.HbH("modal d-block"+(W.windowClass?" "+W.windowClass:"")),i.AVh("fade",W.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Zs,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(R,W){1&R&&(i.NAR(),i.j41(0,"div",1,0)(2,"div",2),i.SdG(3),i.k0s()()),2&R&&i.HbH("modal-dialog"+(W.size?" modal-"+W.size:"")+(W.centered?" modal-dialog-centered":"")+W.fullscreenClass+(W.scrollable?" modal-dialog-scrollable":"")+(W.modalDialogClass?" "+W.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),F})(),Vg=(()=>{class F{constructor(R){this._document=R}hide(){const R=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),W=this._document.body,pe=W.style,{overflow:Ne,paddingRight:xt}=pe;if(R>0){const rn=parseFloat(window.getComputedStyle(W).paddingRight);pe.paddingRight=`${rn+R}px`}return pe.overflow="hidden",()=>{R>0&&(pe.paddingRight=xt),pe.overflow=Ne}}}return F.\u0275fac=function(R){return new(R||F)(i.KVO(t.qQ))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),vo=(()=>{class F{constructor(R,W,pe,Ne,xt,rn){this._applicationRef=R,this._injector=W,this._document=pe,this._scrollBar=Ne,this._rendererFactory=xt,this._ngZone=rn,this._activeWindowCmptHasChanged=new m.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.bkB,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const dn=this._windowCmpts[this._windowCmpts.length-1];bu(this._ngZone,dn.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(dn.location.nativeElement)}})}_restoreScrollBar(){const R=this._scrollBarRestoreFn;R&&(this._scrollBarRestoreFn=null,R())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(R,W,pe,Ne){const xt=Ne.container instanceof HTMLElement?Ne.container:mn(Ne.container)?this._document.querySelector(Ne.container):this._document.body,rn=this._rendererFactory.createRenderer(null,null);if(!xt)throw new Error(`The specified modal container "${Ne.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const dn=new Au,wn=this._getContentRef(R,Ne.injector||W,pe,dn,Ne);let An=!1!==Ne.backdrop?this._attachBackdrop(R,xt):void 0,bi=this._attachWindowComponent(R,xt,wn),ei=new zi(bi,wn,An,Ne.beforeDismiss);return this._registerModalRef(ei),this._registerWindowCmpt(bi),ei.hidden.pipe((0,x.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(rn.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),dn.close=vi=>{ei.close(vi)},dn.dismiss=vi=>{ei.dismiss(vi)},this._applyWindowOptions(bi.instance,Ne),1===this._modalRefs.length&&rn.addClass(this._document.body,"modal-open"),An&&An.instance&&(this._applyBackdropOptions(An.instance,Ne),An.changeDetectorRef.detectChanges()),bi.changeDetectorRef.detectChanges(),ei}get activeInstances(){return this._activeInstances}dismissAll(R){this._modalRefs.forEach(W=>W.dismiss(R))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(R,W){let Ne=R.resolveComponentFactory(Rf).create(this._injector);return this._applicationRef.attachView(Ne.hostView),W.appendChild(Ne.location.nativeElement),Ne}_attachWindowComponent(R,W,pe){let xt=R.resolveComponentFactory(kg).create(this._injector,pe.nodes);return this._applicationRef.attachView(xt.hostView),W.appendChild(xt.location.nativeElement),xt}_applyWindowOptions(R,W){this._windowAttributes.forEach(pe=>{mn(W[pe])&&(R[pe]=W[pe])})}_applyBackdropOptions(R,W){this._backdropAttributes.forEach(pe=>{mn(W[pe])&&(R[pe]=W[pe])})}_getContentRef(R,W,pe,Ne,xt){return pe?pe instanceof i.C4Q?this._createFromTemplateRef(pe,Ne):dr(pe)?this._createFromString(pe):this._createFromComponent(R,W,pe,Ne,xt):new Bd([])}_createFromTemplateRef(R,W){const Ne=R.createEmbeddedView({$implicit:W,close(xt){W.close(xt)},dismiss(xt){W.dismiss(xt)}});return this._applicationRef.attachView(Ne),new Bd([Ne.rootNodes],Ne)}_createFromString(R){const W=this._document.createTextNode(`${R}`);return new Bd([[W]])}_createFromComponent(R,W,pe,Ne,xt){const rn=R.resolveComponentFactory(pe),dn=i.zZn.create({providers:[{provide:Au,useValue:Ne}],parent:W}),wn=rn.create(dn),An=wn.location.nativeElement;return xt.scrollable&&An.classList.add("component-host-scrollable"),this._applicationRef.attachView(wn.hostView),new Bd([[An]],wn.hostView,wn)}_setAriaHidden(R){const W=R.parentElement;W&&R!==this._document.body&&(Array.from(W.children).forEach(pe=>{pe!==R&&"SCRIPT"!==pe.nodeName&&(this._ariaHiddenValues.set(pe,pe.getAttribute("aria-hidden")),pe.setAttribute("aria-hidden","true"))}),this._setAriaHidden(W))}_revertAriaHidden(){this._ariaHiddenValues.forEach((R,W)=>{R?W.setAttribute("aria-hidden",R):W.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(R){const W=()=>{const pe=this._modalRefs.indexOf(R);pe>-1&&(this._modalRefs.splice(pe,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(R),this._activeInstances.emit(this._modalRefs),R.result.then(W,W)}_registerWindowCmpt(R){this._windowCmpts.push(R),this._activeWindowCmptHasChanged.next(),R.onDestroy(()=>{const W=this._windowCmpts.indexOf(R);W>-1&&(this._windowCmpts.splice(W,1),this._activeWindowCmptHasChanged.next())})}}return F.\u0275fac=function(R){return new(R||F)(i.KVO(i.o8S),i.KVO(i.zZn),i.KVO(t.qQ),i.KVO(Vg),i.KVO(i._9s),i.KVO(i.SKi))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Ud=(()=>{class F{constructor(R){this._ngbConfig=R,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(R){this._animation=R}}return F.\u0275fac=function(R){return new(R||F)(i.KVO(st))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Af=(()=>{class F{constructor(R,W,pe,Ne){this._moduleCFR=R,this._injector=W,this._modalStack=pe,this._config=Ne}open(R,W={}){const pe={...this._config,animation:this._config.animation,...W};return this._modalStack.open(this._moduleCFR,this._injector,R,pe)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(R){this._modalStack.dismissAll(R)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return F.\u0275fac=function(R){return new(R||F)(i.KVO(i.OM3),i.KVO(i.zZn),i.KVO(vo),i.KVO(Ud))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),xu=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({providers:[Af]}),F})(),xf=(()=>{class F{constructor(R){this._ngbConfig=R,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(R){this._animation=R}}return F.\u0275fac=function(R){return new(R||F)(i.KVO(st))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const wf=F=>mn(F)&&""!==F;let $g=0,Fh=(()=>{class F{constructor(R){this.templateRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbNavContent",""]]}),F})(),Bh=(()=>{class F{constructor(R,W){this.elementRef=W,this.disabled=!1,this.shown=new i.bkB,this.hidden=new i.bkB,this._nav=R}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){mn(this.domId)||(this.domId="ngb-nav-"+$g++)}get active(){return this._nav.activeId===this.id}get id(){return wf(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(mn(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return F.\u0275fac=function(R){return new(R||F)(i.rXU((0,i.Rfq)(()=>Uh)),i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbNavItem",""]],contentQueries:function(R,W,pe){if(1&R&&i.wni(pe,Fh,4),2&R){let Ne;i.mGM(Ne=i.lsd())&&(W.contentTpls=Ne)}},hostVars:2,hostBindings:function(R,W){2&R&&i.AVh("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[0,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),F})(),Uh=(()=>{class F{constructor(R,W,pe,Ne){this.role=R,this._cd=pe,this._document=Ne,this.activeIdChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.destroy$=new m.B,this.navItemChange$=new m.B,this.navChange=new i.bkB,this.animation=W.animation,this.destroyOnHide=W.destroyOnHide,this.orientation=W.orientation,this.roles=W.roles,this.keyboard=W.keyboard}click(R){R.disabled||this._updateActiveId(R.id)}onKeyDown(R){if("tablist"!==this.roles||!this.keyboard)return;const W=R.which,pe=this.links.filter(rn=>!rn.navItem.disabled),{length:Ne}=pe;let xt=-1;if(pe.forEach((rn,dn)=>{rn.elRef.nativeElement===this._document.activeElement&&(xt=dn)}),Ne){switch(W){case Kn.ArrowLeft:if("vertical"===this.orientation)return;xt=(xt-1+Ne)%Ne;break;case Kn.ArrowRight:if("vertical"===this.orientation)return;xt=(xt+1)%Ne;break;case Kn.ArrowDown:if("horizontal"===this.orientation)return;xt=(xt+1)%Ne;break;case Kn.ArrowUp:if("horizontal"===this.orientation)return;xt=(xt-1+Ne)%Ne;break;case Kn.Home:xt=0;break;case Kn.End:xt=Ne-1}"changeWithArrows"===this.keyboard&&this.select(pe[xt].navItem.id),pe[xt].elRef.nativeElement.focus(),R.preventDefault()}}select(R){this._updateActiveId(R,!1)}ngAfterContentInit(){if(!mn(this.activeId)){const R=this.items.first?this.items.first.id:null;wf(R)&&(this._updateActiveId(R,!1),this._cd.detectChanges())}this.items.changes.pipe((0,L.Q)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:R}){R&&!R.firstChange&&this._notifyItemChanged(R.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(R,W=!0){if(this.activeId!==R){let pe=!1;W&&this.navChange.emit({activeId:this.activeId,nextId:R,preventDefault:()=>{pe=!0}}),pe||(this.activeId=R,this.activeIdChange.emit(R),this._notifyItemChanged(R))}}_notifyItemChanged(R){this.navItemChange$.next(this._getItemById(R))}_getItemById(R){return this.items&&this.items.find(W=>W.id===R)||null}}return F.\u0275fac=function(R){return new(R||F)(i.kS0("role"),i.rXU(xf),i.rXU(i.gRc),i.rXU(t.qQ))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbNav",""]],contentQueries:function(R,W,pe){if(1&R&&(i.wni(pe,Bh,4),i.wni(pe,jd,5)),2&R){let Ne;i.mGM(Ne=i.lsd())&&(W.items=Ne),i.mGM(Ne=i.lsd())&&(W.links=Ne)}},hostVars:6,hostBindings:function(R,W){1&R&&i.bIt("keydown.arrowLeft",function(Ne){return W.onKeyDown(Ne)})("keydown.arrowRight",function(Ne){return W.onKeyDown(Ne)})("keydown.arrowDown",function(Ne){return W.onKeyDown(Ne)})("keydown.arrowUp",function(Ne){return W.onKeyDown(Ne)})("keydown.Home",function(Ne){return W.onKeyDown(Ne)})("keydown.End",function(Ne){return W.onKeyDown(Ne)}),2&R&&(i.BMQ("aria-orientation","vertical"===W.orientation&&"tablist"===W.roles?"vertical":void 0)("role",W.role?W.role:W.roles?"tablist":void 0),i.AVh("nav",!0)("flex-column","vertical"===W.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[i.OA$]}),F})(),jd=(()=>{class F{constructor(R,W,pe,Ne){this.role=R,this.navItem=W,this.nav=pe,this.elRef=Ne}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return F.\u0275fac=function(R){return new(R||F)(i.kS0("role"),i.rXU(Bh),i.rXU(Uh),i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(R,W){1&R&&i.bIt("click",function(Ne){return W.nav.click(W.navItem),Ne.preventDefault()}),2&R&&(i.Mr5("id",W.navItem.domId),i.BMQ("role",W.role?W.role:W.nav.roles?"tab":void 0)("tabindex",W.navItem.disabled?-1:void 0)("aria-controls",W.navItem.isPanelInDom()?W.navItem.panelDomId:null)("aria-selected",W.navItem.active)("aria-disabled",W.navItem.disabled),i.AVh("nav-link",!0)("nav-item",W.hasNavItemClass())("active",W.navItem.active)("disabled",W.navItem.disabled))}}),F})();const Zc=({classList:F})=>(F.remove("show"),()=>F.remove("active")),Lf=(F,q)=>{q&&yi(F),F.classList.add("show")};let dc=(()=>{class F{constructor(R){this.elRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.aKT))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(R,W){2&R&&(i.Mr5("id",W.item.panelDomId),i.BMQ("role",W.role?W.role:W.nav.roles?"tabpanel":void 0)("aria-labelledby",W.item.domId),i.AVh("fade",W.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),F})(),Nf=(()=>{class F{constructor(R,W){this._cd=R,this._ngZone=W,this._activePane=null}isPanelTransitioning(R){return this._activePane?.item===R}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,L.Q)(this.nav.destroy$),(0,j.Z)(this._activePane?.item||null),(0,$.F)(),(0,X.i)(1)).subscribe(R=>{const W={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Ps(this._ngZone,this._activePane.elRef.nativeElement,Zc,W).subscribe(()=>{const pe=this._activePane?.item;this._activePane=this._getPaneForItem(R),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Ps(this._ngZone,this._activePane.elRef.nativeElement,Lf,W).subscribe(()=>{R&&(R.shown.emit(),this.nav.shown.emit(R.id))})),pe&&(pe.hidden.emit(),this.nav.hidden.emit(pe.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(R){return this._panes&&this._panes.find(W=>W.item===R)||null}_getActivePane(){return this._panes&&this._panes.find(R=>R.item.active)||null}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.gRc),i.rXU(i.SKi))},F.\u0275cmp=i.VBU({type:F,selectors:[["","ngbNavOutlet",""]],viewQuery:function(R,W){if(1&R&&i.GBs(dc,5),2&R){let pe;i.mGM(pe=i.lsd())&&(W._panes=pe)}},hostVars:2,hostBindings:function(R,W){2&R&&i.AVh("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[0,"ngbNavOutlet","nav"]},attrs:Is,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(R,W){1&R&&i.DNE(0,os,1,1,"ng-template",0),2&R&&i.Y8G("ngForOf",W.nav.items)},dependencies:[t.Sq,t.bT,dc,t.T3],encapsulation:2,changeDetection:0}),F})(),jh=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),Lu=(()=>{class F{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),kd=(()=>{class F{constructor(R){this.templateRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),F})(),Wg=(()=>{class F{constructor(R){this.templateRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationFirst",""]]}),F})(),Ff=(()=>{class F{constructor(R){this.templateRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationLast",""]]}),F})(),Bf=(()=>{class F{constructor(R){this.templateRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationNext",""]]}),F})(),kh=(()=>{class F{constructor(R){this.templateRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationNumber",""]]}),F})(),hl=(()=>{class F{constructor(R){this.templateRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationPrevious",""]]}),F})(),Gg=(()=>{class F{constructor(R){this.templateRef=R}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.C4Q))},F.\u0275dir=i.FsC({type:F,selectors:[["ng-template","ngbPaginationPages",""]]}),F})(),Nu=(()=>{class F{constructor(R){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new i.bkB(!0),this.disabled=R.disabled,this.boundaryLinks=R.boundaryLinks,this.directionLinks=R.directionLinks,this.ellipses=R.ellipses,this.maxSize=R.maxSize,this.pageSize=R.pageSize,this.rotate=R.rotate,this.size=R.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(R){this._updatePages(R)}ngOnChanges(R){this._updatePages(this.page)}isEllipsis(R){return-1===R}_applyEllipses(R,W){this.ellipses&&(R>0&&(R>2?this.pages.unshift(-1):2===R&&this.pages.unshift(2),this.pages.unshift(1)),W<this.pageCount&&(W<this.pageCount-2?this.pages.push(-1):W===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let R=0,W=this.pageCount,pe=Math.floor(this.maxSize/2);return this.page<=pe?W=this.maxSize:this.pageCount-this.page<pe?R=this.pageCount-this.maxSize:(R=this.page-pe-1,W=this.page+(this.maxSize%2==0?pe-1:pe)),[R,W]}_applyPagination(){let W=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[W,W+this.maxSize]}_setPageInRange(R){const W=this.page;this.page=lc(R,this.pageCount,1),this.page!==W&&Ks(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(R){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Ks(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let W=1;W<=this.pageCount;W++)this.pages.push(W);if(this._setPageInRange(R),this.maxSize>0&&this.pageCount>this.maxSize){let W=0,pe=this.pageCount;[W,pe]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(W,pe),this._applyEllipses(W,pe)}}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(Lu))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-pagination"]],contentQueries:function(R,W,pe){if(1&R&&(i.wni(pe,kd,5),i.wni(pe,Wg,5),i.wni(pe,Ff,5),i.wni(pe,Bf,5),i.wni(pe,kh,5),i.wni(pe,hl,5),i.wni(pe,Gg,5)),2&R){let Ne;i.mGM(Ne=i.lsd())&&(W.tplEllipsis=Ne.first),i.mGM(Ne=i.lsd())&&(W.tplFirst=Ne.first),i.mGM(Ne=i.lsd())&&(W.tplLast=Ne.first),i.mGM(Ne=i.lsd())&&(W.tplNext=Ne.first),i.mGM(Ne=i.lsd())&&(W.tplNumber=Ne.first),i.mGM(Ne=i.lsd())&&(W.tplPrevious=Ne.first),i.mGM(Ne=i.lsd())&&(W.tplPages=Ne.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[i.OA$],decls:20,vars:12,consts:()=>{let q,R,W,pe,Ne,xt,rn,dn;return q=$localize`:@@ngb.pagination.first:`,R=$localize`:@@ngb.pagination.previous:`,W=$localize`:@@ngb.pagination.next:`,pe=$localize`:@@ngb.pagination.last:`,Ne=$localize`:@@ngb.pagination.first-aria:First`,xt=$localize`:@@ngb.pagination.previous-aria:Previous`,rn=$localize`:@@ngb.pagination.next-aria:Next`,dn=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],q,R,W,pe,["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",Ne,"href","",1,"page-link",3,"click"],["aria-label",xt,"href","",1,"page-link",3,"click"],["aria-label",rn,"href","",1,"page-link",3,"click"],["aria-label",dn,"href","",1,"page-link",3,"click"]]},template:function(R,W){if(1&R&&(i.DNE(0,Nr,2,0,"ng-template",null,0,i.C5r)(2,lr,2,0,"ng-template",null,1,i.C5r)(4,ol,2,0,"ng-template",null,2,i.C5r)(6,Qr,2,0,"ng-template",null,3,i.C5r)(8,St,1,0,"ng-template",null,4,i.C5r)(10,ue,2,2,"ng-template",null,5,i.C5r)(12,Ve,1,1,"ng-template",null,6,i.C5r),i.j41(14,"ul"),i.DNE(15,ct,3,9,"li",11)(16,gi,3,8,"li",11)(17,rs,0,0,"ng-template",12)(18,Yo,3,9,"li",11)(19,Ml,3,9,"li",11),i.k0s()),2&R){const pe=i.sdS(13);i.R7$(14),i.HbH("pagination"+(W.size?" pagination-"+W.size:"")),i.R7$(),i.Y8G("ngIf",W.boundaryLinks),i.R7$(),i.Y8G("ngIf",W.directionLinks),i.R7$(),i.Y8G("ngTemplateOutlet",(null==W.tplPages?null:W.tplPages.templateRef)||pe)("ngTemplateOutletContext",i.sMw(8,Po,W.page,W.pages,W.disabled)),i.R7$(),i.Y8G("ngIf",W.directionLinks),i.R7$(),i.Y8G("ngIf",W.boundaryLinks)}},dependencies:[t.bT,t.Sq,t.T3],encapsulation:2,changeDetection:0}),F})(),Fu=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})();class $h{constructor(q,R){this.open=q,this.close=R,R||(this.close=q)}isManual(){return"manual"===this.open||"manual"===this.close}}const Uf={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},jf=F=>F>0?(0,V.c)(F):q=>q;let Gh=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),xc=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),Wr=(()=>{class F{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),E0=(()=>{class F{constructor(R,W){this._changeDetectorRef=W,this.contexts=[],this.disabled=!1,this.hover=new i.bkB,this.leave=new i.bkB,this.rateChange=new i.bkB(!0),this.onChange=pe=>{},this.onTouched=()=>{},this.max=R.max,this.readonly=R.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(R){this.isInteractive()&&this._updateState(R),this.hover.emit(R)}handleBlur(){this.onTouched()}handleClick(R){this.isInteractive()&&this.update(this.resettable&&this.rate===R?0:R)}handleKeyDown(R){switch(R.which){case Kn.ArrowDown:case Kn.ArrowLeft:this.update(this.rate-1);break;case Kn.ArrowUp:case Kn.ArrowRight:this.update(this.rate+1);break;case Kn.Home:this.update(0);break;case Kn.End:this.update(this.max);break;default:return}R.preventDefault()}ngOnChanges(R){R.rate&&this.update(this.rate),R.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(R){this.onChange=R}registerOnTouched(R){this.onTouched=R}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(R){this.disabled=R}update(R,W=!0){const pe=lc(R,this.max,0);this.isInteractive()&&this.rate!==pe&&(this.rate=pe,this.rateChange.emit(this.rate)),W&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(R){this.update(R,!1),this._changeDetectorRef.markForCheck()}_updateState(R){this.nextRate=R,this.contexts.forEach((W,pe)=>W.fill=Math.round(100*lc(R-pe,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(R,W)=>({fill:0,index:W}))}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(Wr),i.rXU(i.gRc))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-rating"]],contentQueries:function(R,W,pe){if(1&R&&i.wni(pe,i.C4Q,5),2&R){let Ne;i.mGM(Ne=i.lsd())&&(W.starTemplateFromContent=Ne.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(R,W){1&R&&i.bIt("blur",function(){return W.handleBlur()})("keydown",function(Ne){return W.handleKeyDown(Ne)})("mouseleave",function(){return W.reset()}),2&R&&(i.Mr5("tabindex",W.disabled?-1:0),i.BMQ("aria-valuemax",W.max)("aria-valuenow",W.nextRate)("aria-valuetext",W.ariaValueText())("aria-disabled",!!W.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[i.Jv_([{provide:ee.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0}]),i.OA$],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(R,W){1&R&&i.DNE(0,rl,1,1,"ng-template",null,0,i.C5r)(2,Vl,4,5,"ng-template",1),2&R&&(i.R7$(2),i.Y8G("ngForOf",W.contexts))},dependencies:[t.Sq,t.T3],encapsulation:2,changeDetection:0}),F})(),Kh=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})();class Bu{constructor(q,R,W){this.hour=Wo(q),this.minute=Wo(R),this.second=Wo(W)}changeHour(q=1){this.updateHour((isNaN(this.hour)?0:this.hour)+q)}updateHour(q){this.hour=Ks(q)?(q<0?24+q:q)%24:NaN}changeMinute(q=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+q)}updateMinute(q){Ks(q)?(this.minute=q%60<0?60+q%60:q%60,this.changeHour(Math.floor(q/60))):this.minute=NaN}changeSecond(q=1){this.updateSecond((isNaN(this.second)?0:this.second)+q)}updateSecond(q){Ks(q)?(this.second=q<0?60+q%60:q%60,this.changeMinute(Math.floor(q/60))):this.second=NaN}isValid(q=!0){return Ks(this.hour)&&Ks(this.minute)&&(!q||Ks(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let $d=(()=>{class F{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),pl=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:()=>function Wd(){return new Hh}(),providedIn:"root"}),F})(),Hh=(()=>{class F extends pl{fromModel(R){return R&&$t(R.hour)&&$t(R.minute)?{hour:R.hour,minute:R.minute,second:$t(R.second)?R.second:null}:null}toModel(R){return R&&$t(R.hour)&&$t(R.minute)?{hour:R.hour,minute:R.minute,second:$t(R.second)?R.second:null}:null}}return F.\u0275fac=(()=>{let q;return function(W){return(q||(q=i.xGo(F)))(W||F)}})(),F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})(),Ja=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:function(R){let W=null;return W=R?new R:function Yg(F){return new ql(F)}(i.KVO(i.xe9)),W},providedIn:"root"}),F})(),ql=(()=>{class F extends Ja{constructor(R){super(),this._periods=(0,t.rd)(R,t.oV.Standalone,t.cH.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return F.\u0275fac=function(R){return new(R||F)(i.KVO(i.xe9))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac}),F})();const ed=/[^0-9]/g;let C0=(()=>{class F{constructor(R,W,pe,Ne){this._config=R,this._ngbTimeAdapter=W,this._cd=pe,this.i18n=Ne,this.onChange=xt=>{},this.onTouched=()=>{},this.meridian=R.meridian,this.spinners=R.spinners,this.seconds=R.seconds,this.hourStep=R.hourStep,this.minuteStep=R.minuteStep,this.secondStep=R.secondStep,this.disabled=R.disabled,this.readonlyInputs=R.readonlyInputs,this.size=R.size}set hourStep(R){this._hourStep=$t(R)?R:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(R){this._minuteStep=$t(R)?R:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(R){this._secondStep=$t(R)?R:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(R){const W=this._ngbTimeAdapter.fromModel(R);this.model=W?new Bu(W.hour,W.minute,W.second):new Bu,!this.seconds&&(!W||!Ks(W.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(R){this.onChange=R}registerOnTouched(R){this.onTouched=R}setDisabledState(R){this.disabled=R}changeHour(R){this.model.changeHour(R),this.propagateModelChange()}changeMinute(R){this.model.changeMinute(R),this.propagateModelChange()}changeSecond(R){this.model.changeSecond(R),this.propagateModelChange()}updateHour(R){const W=this.model.hour>=12,pe=Wo(R);this.model.updateHour(this.meridian&&(W&&pe<12||!W&&12===pe)?pe+12:pe),this.propagateModelChange()}updateMinute(R){this.model.updateMinute(Wo(R)),this.propagateModelChange()}updateSecond(R){this.model.updateSecond(Wo(R)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(R){R.value=R.value.replace(ed,"")}formatHour(R){return Ks(R)?Hn(this.meridian?R%12==0?12:R%12:R%24):Hn(NaN)}formatMinSec(R){return Hn(Ks(R)?R:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(R){R.seconds&&!this.seconds&&this.model&&!Ks(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(R=!0){R&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return F.\u0275fac=function(R){return new(R||F)(i.rXU($d),i.rXU(pl),i.rXU(i.gRc),i.rXU(Ja))},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[i.Jv_([{provide:ee.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0}]),i.OA$],decls:16,vars:25,consts:()=>{let q,R,W,pe,Ne,xt,rn,dn,wn,An,bi,ei,vi,Us;return q=$localize`:@@ngb.timepicker.HH:HH`,R=$localize`:@@ngb.timepicker.hours:Hours`,W=$localize`:@@ngb.timepicker.MM:MM`,pe=$localize`:@@ngb.timepicker.minutes:Minutes`,Ne=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,xt=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,rn=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,dn=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,wn=$localize`:@@ngb.timepicker.SS:SS`,An=$localize`:@@ngb.timepicker.seconds:Seconds`,bi=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,ei=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,vi=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,Us=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["am",""],Ne,xt,rn,dn,bi,ei,vi,Us,[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",q,"aria-label",R,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",W,"aria-label",pe,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"click","disabled"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],[1,"chevron","ngb-tp-chevron","bottom"],[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",wn,"aria-label",An,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],[4,"ngIf","ngIfElse"]]},template:function(R,W){1&R&&(i.j41(0,"fieldset",9)(1,"div",10)(2,"div",11),i.DNE(3,zc,4,7,"button",12),i.j41(4,"input",13),i.bIt("change",function(Ne){return W.updateHour(Ne.target.value)})("blur",function(){return W.handleBlur()})("input",function(Ne){return W.formatInput(Ne.target)})("keydown.ArrowUp",function(Ne){return W.changeHour(W.hourStep),Ne.preventDefault()})("keydown.ArrowDown",function(Ne){return W.changeHour(-W.hourStep),Ne.preventDefault()}),i.k0s(),i.DNE(5,Ol,4,7,"button",12),i.k0s(),i.j41(6,"div",14),i.EFF(7,":"),i.k0s(),i.j41(8,"div",15),i.DNE(9,ys,4,7,"button",12),i.j41(10,"input",16),i.bIt("change",function(Ne){return W.updateMinute(Ne.target.value)})("blur",function(){return W.handleBlur()})("input",function(Ne){return W.formatInput(Ne.target)})("keydown.ArrowUp",function(Ne){return W.changeMinute(W.minuteStep),Ne.preventDefault()})("keydown.ArrowDown",function(Ne){return W.changeMinute(-W.minuteStep),Ne.preventDefault()}),i.k0s(),i.DNE(11,cr,4,7,"button",12),i.k0s(),i.DNE(12,Ro,2,0,"div",17)(13,$l,4,9,"div",18)(14,Ka,1,0,"div",17)(15,xa,5,9,"div",19),i.k0s()()),2&R&&(i.AVh("disabled",W.disabled),i.Y8G("disabled",W.disabled),i.R7$(3),i.Y8G("ngIf",W.spinners),i.R7$(),i.AVh("form-control-sm",W.isSmallSize)("form-control-lg",W.isLargeSize),i.Y8G("value",W.formatHour(null==W.model?null:W.model.hour))("readOnly",W.readonlyInputs)("disabled",W.disabled),i.R7$(),i.Y8G("ngIf",W.spinners),i.R7$(4),i.Y8G("ngIf",W.spinners),i.R7$(),i.AVh("form-control-sm",W.isSmallSize)("form-control-lg",W.isLargeSize),i.Y8G("value",W.formatMinSec(null==W.model?null:W.model.minute))("readOnly",W.readonlyInputs)("disabled",W.disabled),i.R7$(),i.Y8G("ngIf",W.spinners),i.R7$(),i.Y8G("ngIf",W.seconds),i.R7$(),i.Y8G("ngIf",W.seconds),i.R7$(),i.Y8G("ngIf",W.meridian),i.R7$(),i.Y8G("ngIf",W.meridian))},dependencies:[t.bT],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),F})(),Za=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),Gd=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),as=(()=>{class F{constructor(R){this._ngbConfig=R,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(R){this._animation=R}}return F.\u0275fac=function(R){return new(R||F)(i.KVO(st))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Kd=0,Qg=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(R,W){2&R&&(i.Mr5("id",W.id),i.HbH("tooltip"+(W.tooltipClass?" "+W.tooltipClass:"")),i.AVh("fade",W.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:Zs,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(R,W){1&R&&(i.NAR(),i.nrm(0,"div",0),i.j41(1,"div",1),i.SdG(2),i.k0s())},encapsulation:2,changeDetection:0}),F})(),Ar=(()=>{class F{constructor(R,W,pe,Ne,xt,rn,dn,wn,An){this._elementRef=R,this._renderer=W,this._ngZone=rn,this._document=dn,this._changeDetector=wn,this.shown=new i.bkB,this.hidden=new i.bkB,this._ngbTooltipWindowId="ngb-tooltip-"+Kd++,this._windowRef=null,this._positioning=ma(),this.animation=xt.animation,this.autoClose=xt.autoClose,this.placement=xt.placement,this.triggers=xt.triggers,this.container=xt.container,this.disableTooltip=xt.disableTooltip,this.tooltipClass=xt.tooltipClass,this.openDelay=xt.openDelay,this.closeDelay=xt.closeDelay,this._popupService=new Ru(Qg,pe,Ne,W,this._ngZone,An)}set ngbTooltip(R){this._ngbTooltip=R,!R&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(R){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:W,transition$:pe}=this._popupService.open(this._ngbTooltip,R,this.animation);this._windowRef=W,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),In(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),pe.subscribe(()=>this.shown.emit())}}close(R=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(R).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function zg(F,q,R,W,pe,Ne,xt=0,rn=0){const dn=function Wh(F,q=Uf){const R=(F||"").trim();if(0===R.length)return[];const W=R.split(/\s+/).map(Ne=>Ne.split(":")).map(Ne=>{let xt=q[Ne[0]]||Ne;return new $h(xt[0],xt[1])}),pe=W.filter(Ne=>Ne.isManual());if(pe.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===pe.length&&W.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return W}(R);if(1===dn.length&&dn[0].isManual())return()=>{};const wn=function Kg(F,q,R,W){return new c.c(pe=>{const Ne=[],xt=()=>pe.next(!0),rn=()=>pe.next(!1),dn=()=>pe.next(!W());return R.forEach(wn=>{wn.open===wn.close?Ne.push(F.listen(q,wn.open,dn)):Ne.push(F.listen(q,wn.open,xt),F.listen(q,wn.close,rn))}),()=>{Ne.forEach(wn=>wn())}})}(F,q,dn,W).pipe(function Hg(F,q,R){return W=>{let pe=null;const Ne=W.pipe((0,N.T)(dn=>({open:dn})),(0,T.p)(dn=>{const wn=R();return wn===dn.open||pe&&pe.open!==wn?(pe&&pe.open!==dn.open&&(pe=null),!1):(pe=dn,!0)}),(0,Q.u)()),xt=Ne.pipe((0,T.p)(dn=>dn.open),jf(F)),rn=Ne.pipe((0,T.p)(dn=>!dn.open),jf(q));return(0,h.h)(xt,rn).pipe((0,T.p)(dn=>dn===pe&&(pe=null,dn.open!==R())),(0,N.T)(dn=>dn.open))}}(xt,rn,W)).subscribe(An=>An?pe():Ne());return()=>wn.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:R}){R&&this.isOpen()&&(this._windowRef.instance.tooltipClass=R.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(i.c1b),i.rXU(as),i.rXU(i.SKi),i.rXU(t.qQ),i.rXU(i.gRc),i.rXU(i.o8S))},F.\u0275dir=i.FsC({type:F,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[i.OA$]}),F})(),Jg=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({}),F})(),D0=(()=>{class F{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(R){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const W=$r(this.result),pe=Array.isArray(this.term)?this.term:[this.term],Ne=wn=>this.accentSensitive?wn:xs(wn),xt=pe.map(wn=>function di(F){return F.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(Ne($r(wn)))).filter(wn=>wn),rn=this.accentSensitive?W:xs(W),dn=xt.length?rn.split(new RegExp(`(${xt.join("|")})`,"gmi")):[W];if(this.accentSensitive)this.parts=dn;else{let wn=0;this.parts=dn.map(An=>W.substring(wn,wn+=An.length))}}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[i.OA$],decls:1,vars:1,consts:[["even",""],["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"]],template:function(R,W){1&R&&i.DNE(0,Xc,3,2,"ng-template",1),2&R&&i.Y8G("ngForOf",W.parts)},dependencies:[t.Sq,t.bT],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),F})(),L1=(()=>{class F{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=$r,this.selectEvent=new i.bkB,this.activeChangeEvent=new i.bkB}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(R){this.activeIdx=R,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(R){this.selectEvent.emit(R)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275cmp=i.VBU({type:F,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(R,W){1&R&&i.bIt("mousedown",function(Ne){return Ne.preventDefault()}),2&R&&(i.Mr5("id",W.id),i.HbH("dropdown-menu show"+(W.popupClass?" "+W.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"mouseenter","click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(R,W){1&R&&i.DNE(0,Od,1,2,"ng-template",null,0,i.C5r)(2,Mc,2,9,"ng-template",1),2&R&&(i.R7$(2),i.Y8G("ngForOf",W.results))},dependencies:[D0,t.Sq,t.T3],encapsulation:2}),F})(),Zg=(()=>{class F{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const N1=new i.nKC("live announcer delay",{providedIn:"root",factory:function zh(){return 100}});function kf(F,q=!1){let R=F.body.querySelector("#ngb-live");return null==R&&q&&(R=F.createElement("div"),R.setAttribute("id","ngb-live"),R.setAttribute("aria-live","polite"),R.setAttribute("aria-atomic","true"),R.classList.add("visually-hidden"),F.body.appendChild(R)),R}let Hd=(()=>{class F{constructor(R,W){this._document=R,this._delay=W}ngOnDestroy(){const R=kf(this._document);R&&R.parentElement.removeChild(R)}say(R){const W=kf(this._document,!0),pe=this._delay;if(null!=W){W.textContent="";const Ne=()=>W.textContent=R;null===pe?Ne():setTimeout(Ne,pe)}}}return F.\u0275fac=function(R){return new(R||F)(i.KVO(t.qQ),i.KVO(N1))},F.\u0275prov=i.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Uu=0,fl=(()=>{class F{constructor(R,W,pe,Ne,xt,rn,dn,wn,An,bi,ei){this._elementRef=R,this._renderer=pe,this._live=dn,this._document=wn,this._ngZone=An,this._changeDetector=bi,this._subscription=null,this._closed$=new m.B,this._inputValueBackup=null,this._windowRef=null,this._positioning=ma(),this.autocomplete="off",this.placement="bottom-start",this.selectItem=new i.bkB,this.activeDescendant=null,this.popupId="ngb-typeahead-"+Uu++,this._onTouched=()=>{},this._onChange=vi=>{},this.container=xt.container,this.editable=xt.editable,this.focusFirst=xt.focusFirst,this.showHint=xt.showHint,this.placement=xt.placement,this._valueChanges=(0,f.R)(R.nativeElement,"input").pipe((0,N.T)(vi=>vi.target.value)),this._resubscribeTypeahead=new y.t(null),this._popupService=new Ru(L1,Ne,W,pe,this._ngZone,ei)}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:R}){R&&!R.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput()}registerOnChange(R){this._onChange=R}registerOnTouched(R){this._onTouched=R}writeValue(R){this._writeInputValue(this._formatItemForInput(R)),this.showHint&&(this._inputValueBackup=R)}setDisabledState(R){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",R)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(R){if(this.isPopupOpen())switch(R.which){case Kn.ArrowDown:R.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case Kn.ArrowUp:R.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case Kn.Enter:case Kn.Tab:{const W=this._windowRef.instance.getActive();mn(W)&&(R.preventDefault(),R.stopPropagation(),this._selectResult(W)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._elementRef.nativeElement.value;const{windowRef:R}=this._popupService.open();this._windowRef=R,this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(W=>this._selectResultClosePopup(W)),this._windowRef.instance.activeChangeEvent.subscribe(W=>this.activeDescendant=W),this._windowRef.instance.popupClass=this.popupClass,"body"===this.container&&(this._renderer.setStyle(this._windowRef.location.nativeElement,"z-index","1055"),this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement)),this._changeDetector.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._windowRef&&(this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:Mu([0,2])}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),In(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(R){let W=!1;this.selectItem.emit({item:R,preventDefault:()=>{W=!0}}),this._resubscribeTypeahead.next(null),W||(this.writeValue(R),this._onChange(R))}_selectResultClosePopup(R){this._selectResult(R),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&null!=this._inputValueBackup){const R=this._inputValueBackup.toLowerCase(),W=this._formatItemForInput(this._windowRef.instance.getActive());R===W.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+W.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,W.length])):this._writeInputValue(W)}}_formatItemForInput(R){return null!=R&&this.inputFormatter?this.inputFormatter(R):$r(R)}_writeInputValue(R){this._renderer.setProperty(this._elementRef.nativeElement,"value",$r(R))}_subscribeToUserInput(){const R=this._valueChanges.pipe((0,K.M)(W=>{this._inputValueBackup=this.showHint?W:null,this._onChange(this.editable?W:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>(0,p.of)([]));this._subscription=this._resubscribeTypeahead.pipe((0,k.n)(()=>R)).subscribe(W=>{W&&0!==W.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=W,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const pe=W?W.length:0;this._live.say(0===pe?"No results available":`${pe} result${1===pe?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return F.\u0275fac=function(R){return new(R||F)(i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(Zg),i.rXU(i.SKi),i.rXU(Hd),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.gRc),i.rXU(i.o8S))},F.\u0275dir=i.FsC({type:F,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(R,W){1&R&&i.bIt("blur",function(){return W.handleBlur()})("keydown",function(Ne){return W.handleKeyDown(Ne)}),2&R&&(i.Mr5("autocomplete",W.autocomplete),i.BMQ("aria-autocomplete",W.showHint?"both":"list")("aria-activedescendant",W.activeDescendant)("aria-owns",W.isPopupOpen()?W.popupId:null)("aria-expanded",W.isPopupOpen()),i.AVh("open",W.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",showHint:"showHint",placement:"placement",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[i.Jv_([{provide:ee.kq,useExisting:(0,i.Rfq)(()=>F),multi:!0}]),i.OA$]}),F})(),uc=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[[t.MD]]}),F})(),Os=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({}),F})();const tc=[lo,Bi,Lo,Sd,Yc,cc,ul,xu,jh,Os,Fu,Gh,xc,Kh,Za,Gd,Jg,uc];let Ri=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=i.$C({type:F}),F.\u0275inj=i.G2t({imports:[tc,lo,Bi,Lo,Sd,Yc,cc,ul,xu,jh,Os,Fu,Gh,xc,Kh,Za,Gd,Jg,uc]}),F})()},1473:(B,C,n)=>{"use strict";n.d(C,{fcY:()=>Xt,DAG:()=>hs,P3:()=>ln,Fdw:()=>V,WlY:()=>ne,eU4:()=>oe,W25:()=>vt,fQD:()=>Je,wnr:()=>Et,FlA:()=>_e,KMD:()=>dt,PTN:()=>$n,TwG:()=>ni,CTm:()=>is,_sU:()=>Fe,A0q:()=>Qn,JVJ:()=>Jt,M7d:()=>J,eGm:()=>Gt,dku:()=>ke,mEL:()=>K,fHx:()=>Z,UqU:()=>fe,f4U:()=>X,cYz:()=>G,S6A:()=>k,R7k:()=>ki,HkG:()=>Q,iO5:()=>kt,fpj:()=>Un,$eO:()=>Jn,J9r:()=>fi,STK:()=>we,EET:()=>Qr,rA_:()=>ft,Vne:()=>ss,X7I:()=>tn,tK_:()=>Lt,z4z:()=>Di,vJF:()=>hn,Zex:()=>ns,AjF:()=>ms,zUr:()=>Ii,fXj:()=>It,hDs:()=>ee,zno:()=>gn,sU3:()=>te});var i=n(54438),t=n(31635),c=n(84412),e=n(74402),p=n(7673),m=n(57786),v=(n(52165),n(88141)),E=n(96354),y=n(99172),M=n(23294),b=n(39974),P=n(54360),D=n(57908),h=n(5964),S=n(85188),O=n(89417),L=n(60177);function T(St){return"boolean"==typeof St}function x(St){return"function"==typeof St}function N(St){return"number"==typeof St}function j(St){return"object"==typeof St&&null!==St}function $(St){return"string"==typeof St}class k{constructor(qt,ue){this.layoutService=qt,this.validationService=ue,this._hasFocus=!1}get control(){const qt=this.group.get(this.model.id);if(null===qt)throw new Error(`form group does not contain an abstract control with id ${this.model.id}`);return qt}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}getClass(qt,ue,Ye=this.model){const Dt=Ye===this.model?this.layout:this.layoutService.findByModel(Ye,this.formLayout)??Ye.layout;return this.layoutService.getClass(Dt,qt,ue)}onBlur(qt){qt instanceof Event&&qt.stopPropagation(),this._hasFocus=!1,this.blur.emit(qt)}onChange(qt){qt instanceof Event&&qt.stopPropagation(),this.change.emit(qt)}onCustomEvent(qt,ue=null,Ye=!1){Ye?this.customEvent?.emit(qt):$(ue)&&this.customEvent?.emit({customEvent:qt,customEventType:ue})}onFocus(qt){qt instanceof Event&&qt.stopPropagation(),this._hasFocus=!0,this.focus.emit(qt)}}class K extends k{get array(){return this.control}get startTemplate(){return this.layoutService.getStartTemplate(this.model,this.templates)}get endTemplate(){return this.layoutService.getEndTemplate(this.model,this.templates)}markForCheck(){this.components instanceof i.rOR&&this.components.forEach(qt=>qt.markForCheck())}}class z extends k{markForCheck(){this.components instanceof i.rOR&&this.components.forEach(qt=>qt.markForCheck())}}const V=new i.nKC("DYNAMIC_FORM_CONTROL_MAP_FN");let G=(()=>{class St{constructor(ue){this.DYNAMIC_FORM_CONTROL_MAP_FN=ue,this.forms=[],this.formControls={},this.DYNAMIC_FORM_CONTROL_MAP_FN=ue}getForms(){return this.forms.values()}registerForm(ue){this.forms.push(ue)}unregisterForm(ue){const Ye=this.forms.indexOf(ue);-1!==Ye&&this.forms.splice(Ye,1)}getFormControlRef(ue,Ye){const Dt=this.formControls[ue];return N(Ye)?Array.isArray(Dt)?Dt[Ye]:void 0:Dt}registerFormControl(ue,Ye,Dt){if(N(Dt)){const nn=this.formControls[ue.id]||[];Array.isArray(nn)?(nn.splice(Dt,0,Ye),this.formControls[ue.id]=nn):console.warn(`registerFormControlRef is called with index for a non-array form control: ${ue.id}`)}else this.formControls[ue.id]=Ye}unregisterFormControl(ue,Ye){const Dt=this.formControls[ue];N(Ye)?Array.isArray(Dt)&&void 0!==Dt[Ye]&&Dt.splice(Ye,1):void 0!==Dt&&delete this.formControls[ue]}getCustomComponentType(ue){return x(this.DYNAMIC_FORM_CONTROL_MAP_FN)?this.DYNAMIC_FORM_CONTROL_MAP_FN(ue):null}}return St.\u0275fac=function(ue){return new(ue||St)(i.KVO(V,8))},St.\u0275prov=i.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),St})(),X=(()=>{class St{constructor(ue,Ye){this.changeDetectorRef=ue,this.componentService=Ye}ngOnInit(){this.componentService.registerForm(this)}ngOnDestroy(){this.componentService.unregisterForm(this)}trackByFn(ue,Ye){return Ye.id}markForCheck(){this.changeDetectorRef.markForCheck(),this.components instanceof i.rOR&&this.components.forEach(ue=>ue.markForCheck())}detectChanges(){this.changeDetectorRef.detectChanges()}onBlur(ue){this.blur?.emit(ue)}onChange(ue){this.change?.emit(ue)}onFocus(ue){this.focus?.emit(ue)}onCustomEvent(ue,Ye){Ye.emit(ue)}}return St.\u0275fac=function(ue){return new(ue||St)(i.rXU(i.gRc),i.rXU(G))},St.\u0275dir=i.FsC({type:St}),St})();var Q=function(St){return St.Blur="blur",St.Change="change",St.Focus="focus",St}(Q||{});function ee(St){return j(St)&&St.hasOwnProperty("$event")}const ie="SERIALIZABLE";function te(St){return(qt,ue)=>{Reflect.defineMetadata(ie,{key:ue,name:St||ue},qt,ue)}}function ye(St,qt){return function he(St){const qt=[];for(const ue in St){const Ye=Reflect.getMetadata(ie,St,ue);Ye&&qt.push(Ye)}return qt}(qt||St).reduce((ue,Ye)=>(ue[Ye.name]=St[Ye.key],ue),{})}let re=(()=>{class St{constructor(ue,Ye=null){this.parent=null,this.asyncValidators=ue.asyncValidators??null,this.errorMessages=ue.errorMessages??null,this.hidden=!!T(ue.hidden)&&ue.hidden,this.id=ue.id,this.label=ue.label??null,this.labelTooltip=ue.labelTooltip??null,this.controlTooltip=ue.controlTooltip??null,this.layout=Ye,this.name=ue.name??ue.id,this.relations=Array.isArray(ue.relations)?ue.relations:[],this.updateOn=$(ue.updateOn)?ue.updateOn:null,this.validators=ue.validators??null,this._disabled=!!T(ue.disabled)&&ue.disabled,this.disabled$=new c.t(this._disabled),this.disabled$.subscribe(Dt=>this._disabled=Dt),this.disabledChanges=this.disabled$.asObservable()}get disabled(){return this.disabled$.getValue()}set disabled(ue){this.disabled$.next(ue)}get hasErrorMessages(){return j(this.errorMessages)}toJSON(){return ye(this)}}return(0,t.Cg)([te()],St.prototype,"asyncValidators",void 0),(0,t.Cg)([te("disabled")],St.prototype,"_disabled",void 0),(0,t.Cg)([te()],St.prototype,"errorMessages",void 0),(0,t.Cg)([te()],St.prototype,"hidden",void 0),(0,t.Cg)([te()],St.prototype,"id",void 0),(0,t.Cg)([te()],St.prototype,"label",void 0),(0,t.Cg)([te()],St.prototype,"labelTooltip",void 0),(0,t.Cg)([te()],St.prototype,"controlTooltip",void 0),(0,t.Cg)([te()],St.prototype,"layout",void 0),(0,t.Cg)([te()],St.prototype,"name",void 0),(0,t.Cg)([te()],St.prototype,"relations",void 0),(0,t.Cg)([te()],St.prototype,"updateOn",void 0),(0,t.Cg)([te()],St.prototype,"validators",void 0),St})(),ce=(()=>{class St extends re{constructor(ue,Ye){super(ue,Ye),this.additional=j(ue.additional)?ue.additional:null,this.hint=ue.hint??null,this.required=!!T(ue.required)&&ue.required,this.tabIndex=ue.tabIndex??null,this._value=ue.value??null,this.value$=new c.t(this._value),this.value$.subscribe(Dt=>this._value=Dt),this.valueChanges=this.value$.asObservable()}get value(){return this.value$.getValue()}set value(ue){this.value$.next(ue)}getAdditional(ue,Ye){return null!==this.additional&&this.additional.hasOwnProperty(ue)?this.additional[ue]:Ye}}return(0,t.Cg)([te()],St.prototype,"additional",void 0),(0,t.Cg)([te()],St.prototype,"hint",void 0),(0,t.Cg)([te()],St.prototype,"required",void 0),(0,t.Cg)([te()],St.prototype,"tabIndex",void 0),(0,t.Cg)([te("value")],St.prototype,"_value",void 0),St})(),Z=(()=>{class St{constructor(ue,Ye=[],Dt=-1){this.$implicit=this,this.context=ue,this.group=Ye,this.index=Dt}get parent(){return this.context}get(ue){return this.group[ue]}toJSON(){return ye(this)}}return(0,t.Cg)([te()],St.prototype,"group",void 0),(0,t.Cg)([te()],St.prototype,"index",void 0),St})();const ne="ARRAY";let fe=(()=>{class St extends re{constructor(ue,Ye){if(super(ue,Ye),this.groups=[],this.type=ne,!x(ue.groupFactory))throw new Error("group factory function must be specified for DynamicFormArrayModel");if(this.groupFactory=ue.groupFactory,this.groupAsyncValidators=ue.groupAsyncValidators??null,this.groupPrototype=this.groupFactory(),this.groupValidators=ue.groupValidators??null,this.initialCount=N(ue.initialCount)?ue.initialCount:1,Array.isArray(ue.groups))ue.groups.forEach((Dt,nn)=>{this.groups.push(new Z(this,Dt.group,Dt.index??nn))});else for(let Dt=0;Dt<this.initialCount;Dt++)this.addGroup()}updateGroupIndex(){this.groups.forEach((ue,Ye)=>ue.index=Ye)}get size(){return this.groups.length}get(ue){return this.groups[ue]}addGroup(){return this.insertGroup(this.groups.length)}insertGroup(ue){const Ye=new Z(this,this.groupFactory());return this.groups.splice(ue,0,Ye),this.updateGroupIndex(),Ye}moveGroup(ue,Ye){this.groups.splice(ue+Ye,0,...this.groups.splice(ue,1)),this.updateGroupIndex()}removeGroup(ue){this.groups.splice(ue,1),this.updateGroupIndex()}clear(){this.groups.splice(0),this.updateGroupIndex()}}return(0,t.Cg)([te()],St.prototype,"groupAsyncValidators",void 0),(0,t.Cg)([te()],St.prototype,"groupValidators",void 0),(0,t.Cg)([te()],St.prototype,"groups",void 0),(0,t.Cg)([te()],St.prototype,"initialCount",void 0),(0,t.Cg)([te()],St.prototype,"groupPrototype",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})(),ae=(()=>{class St extends ce{constructor(ue,Ye){super(ue,Ye),this.labelPosition=ue.labelPosition??null,this.checked=!!T(this.value)&&this.value}get checked(){return this.value??!1}set checked(ue){this.value=ue}toggle(){this.checked=!this.checked}}return(0,t.Cg)([te()],St.prototype,"labelPosition",void 0),St})();const oe="CHECKBOX";let J=(()=>{class St extends ae{constructor(ue,Ye){super(ue,Ye),this.type=oe,this.indeterminate=!!T(ue.indeterminate)&&ue.indeterminate}}return(0,t.Cg)([te()],St.prototype,"indeterminate",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})(),ve=(()=>{class St extends ce{constructor(ue,Ye){super(ue,Ye),this.autoComplete=ue.autoComplete??"on",this.autoFocus=!!T(ue.autoFocus)&&ue.autoFocus,this.maxLength=N(ue.maxLength)?ue.maxLength:null,this.minLength=N(ue.minLength)?ue.minLength:null,this.placeholder=ue.placeholder??"",this.prefix=ue.prefix??null,this.readOnly=!!T(ue.readOnly)&&ue.readOnly,this.spellCheck=!!T(ue.spellCheck)&&ue.spellCheck,this.suffix=ue.suffix??null}}return(0,t.Cg)([te()],St.prototype,"autoComplete",void 0),(0,t.Cg)([te()],St.prototype,"autoFocus",void 0),(0,t.Cg)([te()],St.prototype,"maxLength",void 0),(0,t.Cg)([te()],St.prototype,"minLength",void 0),(0,t.Cg)([te()],St.prototype,"placeholder",void 0),(0,t.Cg)([te()],St.prototype,"prefix",void 0),(0,t.Cg)([te()],St.prototype,"readOnly",void 0),(0,t.Cg)([te()],St.prototype,"spellCheck",void 0),(0,t.Cg)([te()],St.prototype,"suffix",void 0),St})();const _e="INPUT";let ft=(()=>{class St extends ve{constructor(ue,Ye){super(ue,Ye),this.files=null,this.list$=null,this._list=null,this._listId=null,this.type=_e,this.accept=ue.accept??null,this.inputType=ue.inputType??"text",this.mask=ue.mask??"",this.maskConfig=ue.maskConfig?{...S.Dz,...ue.maskConfig}:S.Dz,this.max=void 0!==ue.max?ue.max:null,this.min=void 0!==ue.min?ue.min:null,this.multiple=T(ue.multiple)?ue.multiple:null,this.pattern=ue.pattern??null,this.step=N(ue.step)?ue.step:null,void 0!==ue.list&&(this.list=ue.list,this._listId=`${this.id}List`)}get listId(){return this._listId}get hasList(){return(0,e.A)(this.list$)}set list(ue){Array.isArray(ue)?(this._list=ue,this.list$=(0,p.of)(this._list)):(0,e.A)(ue)?this.list$=ue.pipe((0,v.M)(Ye=>this._list=Ye)):(this._list=null,this.list$=null)}}return(0,t.Cg)([te()],St.prototype,"accept",void 0),(0,t.Cg)([te()],St.prototype,"inputType",void 0),(0,t.Cg)([te()],St.prototype,"mask",void 0),(0,t.Cg)([te()],St.prototype,"maskConfig",void 0),(0,t.Cg)([te()],St.prototype,"max",void 0),(0,t.Cg)([te()],St.prototype,"min",void 0),(0,t.Cg)([te()],St.prototype,"multiple",void 0),(0,t.Cg)([te()],St.prototype,"pattern",void 0),(0,t.Cg)([te()],St.prototype,"step",void 0),(0,t.Cg)([te("list")],St.prototype,"_list",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})();var vn=function(St){return St.Start="START",St.End="END",St}(vn||{});let hn=(()=>{class St{constructor(ue){this.templateRef=ue,this.align=vn.End,this.as=null}}return St.\u0275fac=function(ue){return new(ue||St)(i.rXU(i.C4Q))},St.\u0275dir=i.FsC({type:St,selectors:[["ng-template","modelId",""],["ng-template","modelType",""]],inputs:{align:"align",as:"as",index:"index",modelId:"modelId",modelType:"modelType"}}),St})(),Un=(()=>{class St{findById(ue,Ye){if(j(Ye))for(const Dt of Object.keys(Ye))if(Dt===ue)return Ye[Dt];return null}findByModel(ue,Ye){let Dt=null;if(j(Ye))for(const nn of Object.keys(Ye))nn.split(",").forEach(Bn=>{const xe=Bn.trim();(xe===ue.id||xe===ue.type)&&(Dt=Ye[nn])});return Dt}filterTemplatesByModel(ue,Ye){return Ye instanceof i.rOR||Array.isArray(Ye)?Ye.filter(nn=>nn.modelId===ue.id||nn.modelType===ue.type):[]}getAlignedTemplate(ue,Ye,Dt){return this.filterTemplatesByModel(ue,Ye).find(nn=>null===nn.as&&nn.align===Dt)}getStartTemplate(ue,Ye){return this.getAlignedTemplate(ue,Ye,vn.Start)}getEndTemplate(ue,Ye){return this.getAlignedTemplate(ue,Ye,vn.End)}getClass(ue,Ye,Dt){if(j(ue)&&ue.hasOwnProperty(Ye)){const nn=ue[Ye];if(nn.hasOwnProperty(Dt))return nn[Dt]}return""}getHostClass(ue){let Dt="";return j(ue)&&["element","grid"].forEach(nn=>{j(ue[nn])&&$(ue[nn]?.host)&&(Dt+=` ${ue[nn]?.host}`)}),Dt}getElementId(ue){let Ye=ue.id,Dt=ue.parent;for(;null!==Dt;){if(Dt instanceof Z){Ye=`${Dt.context.id}-${Dt.index}-${ue.id}`;break}Dt=Dt.parent}return Ye}}return St.\u0275fac=function(ue){return new(ue||St)},St.\u0275prov=i.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),St})();var Ct=function(St){return St.Blur="blur",St.Change="change",St.Submit="submit",St}(Ct||{});const Ot=new i.nKC("DYNAMIC_VALIDATORS"),ln=new i.nKC("DYNAMIC_ERROR_MESSAGES_MATCHER");let we=(()=>{class St{constructor(ue,Ye,Dt,nn){this._NG_VALIDATORS=ue,this._NG_ASYNC_VALIDATORS=Ye,this._DYNAMIC_VALIDATORS=Dt,this._DYNAMIC_ERROR_MESSAGES_MATCHER=nn}getValidatorFn(ue,Ye=null,Dt=this._NG_VALIDATORS){let nn;if(O.k0.hasOwnProperty(ue)?nn=O.k0[ue]:this._DYNAMIC_VALIDATORS&&this._DYNAMIC_VALIDATORS.has(ue)?nn=this._DYNAMIC_VALIDATORS.get(ue):Dt&&(nn=Dt.find(Bn=>Bn.name===ue)),void 0===nn)throw new Error(`validator "${ue}" is not provided via NG_VALIDATORS, NG_ASYNC_VALIDATORS or DYNAMIC_FORM_VALIDATORS`);return null!==Ye?nn(Ye):nn}getValidatorFns(ue,Ye=this._NG_VALIDATORS){let Dt=[];return j(ue)&&(Dt=Object.keys(ue).map(nn=>{const Bn=ue[nn];return this.isValidatorDescriptor(Bn)?this.getValidatorFn(Bn.name,Bn.args,Ye):this.getValidatorFn(nn,Bn,Ye)})),Dt}getValidator(ue,Ye=null){return this.getValidatorFn(ue,Ye)}getAsyncValidator(ue,Ye=null){return this.getValidatorFn(ue,Ye,this._NG_ASYNC_VALIDATORS)}getValidators(ue){return this.getValidatorFns(ue)}getAsyncValidators(ue){return this.getValidatorFns(ue,this._NG_ASYNC_VALIDATORS)}updateValidators(ue,Ye,Dt){Dt.validators=ue,null===ue?Ye.clearValidators():Ye.setValidators(this.getValidators(ue)),Ye.updateValueAndValidity()}updateAsyncValidators(ue,Ye,Dt){Dt.asyncValidators=ue,null===ue?Ye.clearAsyncValidators():Ye.setAsyncValidators(this.getAsyncValidators(ue)),Ye.updateValueAndValidity()}showErrorMessages(ue,Ye,Dt){const nn=ue.invalid&&Ye.hasErrorMessages,Bn=this._DYNAMIC_ERROR_MESSAGES_MATCHER?this._DYNAMIC_ERROR_MESSAGES_MATCHER(ue,Ye,Dt):((St,qt,ue)=>St.touched&&!ue)(ue,0,Dt);return nn&&Bn}parseErrorMessageConfig(ue,Ye,Dt=null){return ue.replace(/{{\s*(.+?)\s*}}/gm,(nn,Bn)=>{let xe=Ye,Ve=Bn;return Bn.indexOf("validator.")>=0&&Dt&&(xe=Dt,Ve=Bn.replace("validator.","")),null!=xe[Ve]?xe[Ve]:null})}createErrorMessages(ue,Ye){const Dt=[];if(Ye.hasErrorMessages){const nn=Ye.errorMessages;Object.keys(ue.errors||{}).forEach(Bn=>{let xe=Bn;if(("minlength"===Bn||"maxlength"===Bn)&&(xe=xe.replace("length","Length")),nn.hasOwnProperty(xe)){const Ve=ue.getError(Bn);Dt.push(this.parseErrorMessageConfig(nn[xe],Ye,Ve))}})}return Dt}isFormHook(ue){return $(ue)&&Object.values(Ct).includes(ue)}isValidatorDescriptor(ue){return!!j(ue)&&ue.hasOwnProperty("name")&&ue.hasOwnProperty("args")}}return St.\u0275fac=function(ue){return new(ue||St)(i.KVO(O.cz,8),i.KVO(O.pg,8),i.KVO(Ot,8),i.KVO(ln,8))},St.\u0275prov=i.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),St})();const Et="GROUP";let kt=(()=>{class St extends re{constructor(ue,Ye){super(ue,Ye),this.type=Et,this.group=Array.isArray(ue.group)?ue.group:[],this.legend=ue.legend??null}get(ue){return this.group[ue]}set(ue,Ye){this.group[ue]=Ye}add(ue){this.group.push(ue)}insert(ue,Ye){this.group.splice(ue,0,Ye)}move(ue,Ye){this.group.splice(ue+Ye,0,...this.group.splice(ue,1))}remove(ue){this.group.splice(ue,1)}size(){return this.group.length}}return(0,t.Cg)([te()],St.prototype,"group",void 0),(0,t.Cg)([te()],St.prototype,"legend",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})();const vt="CHECKBOX_GROUP";let Jt=(()=>{class St extends kt{constructor(ue,Ye){super(ue,Ye),this.type=vt}check(...ue){ue.forEach(Ye=>this.group[Ye].checked=!0)}uncheck(...ue){ue.forEach(Ye=>this.group[Ye].checked=!1)}checkAll(){this.group.forEach(ue=>ue.checked=!0)}uncheckAll(){this.group.forEach(ue=>ue.checked=!1)}}return(0,t.Cg)([te()],St.prototype,"group",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})();const sn="COLORPICKER";let zt=(()=>{class St extends ce{constructor(ue,Ye){super(ue,Ye),this.type=sn,this.format=$(ue.format)?ue.format:null,this.inline=!!T(ue.inline)&&ue.inline}}return(0,t.Cg)([te()],St.prototype,"format",void 0),(0,t.Cg)([te()],St.prototype,"inline",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})(),Gt=(()=>{class St extends ce{constructor(ue,Ye){super(ue,Ye),this.format=ue.format??null,this.max=ue.max??null,this.min=ue.min??null,this.placeholder=ue.placeholder??null}}return(0,t.Cg)([te()],St.prototype,"format",void 0),(0,t.Cg)([te()],St.prototype,"max",void 0),(0,t.Cg)([te()],St.prototype,"min",void 0),(0,t.Cg)([te()],St.prototype,"placeholder",void 0),St})();const Je="DATEPICKER";let ke=(()=>{class St extends Gt{constructor(ue,Ye){super(ue,Ye),this.type=Je,this.autoFocus=!!T(ue.autoFocus)&&ue.autoFocus,this.focusedDate=ue.focusedDate??null,this.inline=!!T(ue.inline)&&ue.inline,this.prefix=ue.prefix??null,this.readOnly=!!T(ue.readOnly)&&ue.readOnly,this.toggleIcon=$(ue.toggleIcon)?ue.toggleIcon:null,this.toggleLabel=$(ue.toggleLabel)?ue.toggleLabel:null,this.suffix=ue.suffix??null}}return(0,t.Cg)([te()],St.prototype,"autoFocus",void 0),(0,t.Cg)([te()],St.prototype,"focusedDate",void 0),(0,t.Cg)([te()],St.prototype,"inline",void 0),(0,t.Cg)([te()],St.prototype,"prefix",void 0),(0,t.Cg)([te()],St.prototype,"readOnly",void 0),(0,t.Cg)([te()],St.prototype,"suffix",void 0),(0,t.Cg)([te()],St.prototype,"toggleIcon",void 0),(0,t.Cg)([te()],St.prototype,"toggleLabel",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})(),ze=(()=>{class St extends ve{constructor(ue,Ye){super(ue,Ye),this.type="EDITOR"}}return(0,t.Cg)([te()],St.prototype,"type",void 0),St})(),lt=(()=>{class St extends ce{constructor(ue,Ye){super(ue,Ye),this.multiple=!!T(ue.multiple)&&ue.multiple}}return(0,t.Cg)([te()],St.prototype,"multiple",void 0),St})();const Vt="FILE_UPLOAD";let fn=(()=>{class St extends lt{constructor(ue,Ye){super(ue,Ye),this.type=Vt,this.accept=Array.isArray(ue.accept)?ue.accept:null,this.autoUpload=!T(ue.autoUpload)||ue.autoUpload,this.maxSize=N(ue.maxSize)?ue.maxSize:null,this.minSize=N(ue.minSize)?ue.minSize:null,this.removeUrl=ue.removeUrl??null,this.showFileList=!T(ue.showFileList)||ue.showFileList,this.url=ue.url??null}}return(0,t.Cg)([te()],St.prototype,"accept",void 0),(0,t.Cg)([te()],St.prototype,"autoUpload",void 0),(0,t.Cg)([te()],St.prototype,"maxSize",void 0),(0,t.Cg)([te()],St.prototype,"minSize",void 0),(0,t.Cg)([te()],St.prototype,"removeUrl",void 0),(0,t.Cg)([te()],St.prototype,"showFileList",void 0),(0,t.Cg)([te()],St.prototype,"url",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})(),At=(()=>{class St{constructor(ue){this.disabled=!!T(ue.disabled)&&ue.disabled,this.label=ue.label??null,this.value=ue.value}get text(){return this.label}set text(ue){this.label=ue}toJSON(){return ye(this)}}return(0,t.Cg)([te()],St.prototype,"disabled",void 0),(0,t.Cg)([te()],St.prototype,"label",void 0),(0,t.Cg)([te()],St.prototype,"value",void 0),St})(),tn=(()=>{class St extends ce{constructor(ue,Ye){super(ue,Ye),this._options=[],this.options=ue.options}updateOptions$(){this.options$=(0,p.of)(this.options)}set options(ue){Array.isArray(ue)?(this._options=ue.map(Ye=>new At(Ye)),this.updateOptions$()):(0,e.A)(ue)?this.options$=ue.pipe((0,E.T)(Ye=>(this._options=Ye.map(Dt=>new At(Dt)),this._options))):this.updateOptions$()}get options(){return this._options}add(ue){return this.insert(this.options.length,ue)}get(ue){return this.options[ue]}insert(ue,Ye){const Dt=new At(Ye);return this.options.splice(ue,0,Dt),this.updateOptions$(),Dt}remove(...ue){ue.forEach(Ye=>this.options.splice(Ye,1)),this.updateOptions$()}}return(0,t.Cg)([te("options")],St.prototype,"_options",void 0),St})();const dt="RADIO_GROUP";let Lt=(()=>{class St extends tn{constructor(ue,Ye){super(ue,Ye),this.type=dt,this.legend=ue.legend??null}select(ue){this.value=this.get(ue).value}}return(0,t.Cg)([te()],St.prototype,"legend",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})(),Sn=(()=>{class St extends ce{constructor(ue,Ye){super(ue,Ye),this.type="RATING",this.max=N(ue.max)?ue.max:10}}return(0,t.Cg)([te()],St.prototype,"max",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})();const $n="SELECT";let Di=(()=>{class St extends tn{constructor(ue,Ye){super(ue,Ye),this.type=$n,this.compareWithFn=x(ue.compareWithFn)?ue.compareWithFn:Object.is,this.filterable=!!T(ue.filterable)&&ue.filterable,this.multiple=!!T(ue.multiple)&&ue.multiple,this.placeholder=ue.placeholder??"",this.prefix=ue.prefix??null,this.suffix=ue.suffix??null}select(...ue){this.value=this.multiple?ue.map(Ye=>this.get(Ye).value):this.get(ue[0]).value}}return(0,t.Cg)([te()],St.prototype,"filterable",void 0),(0,t.Cg)([te()],St.prototype,"multiple",void 0),(0,t.Cg)([te()],St.prototype,"placeholder",void 0),(0,t.Cg)([te()],St.prototype,"prefix",void 0),(0,t.Cg)([te()],St.prototype,"suffix",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})(),_t=(()=>{class St extends ce{constructor(ue,Ye){super(ue,Ye),this.type="SLIDER",this.max=N(ue.max)?ue.max:10,this.min=N(ue.min)?ue.min:0,this.step=N(ue.step)?ue.step:1,this.vertical=!!T(ue.vertical)&&ue.vertical}}return(0,t.Cg)([te()],St.prototype,"max",void 0),(0,t.Cg)([te()],St.prototype,"min",void 0),(0,t.Cg)([te()],St.prototype,"step",void 0),(0,t.Cg)([te()],St.prototype,"vertical",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})(),Tn=(()=>{class St extends ae{constructor(ue,Ye){super(ue,Ye),this.type="SWITCH",this.offLabel=ue.offLabel??null,this.onLabel=ue.onLabel??null}}return(0,t.Cg)([te()],St.prototype,"offLabel",void 0),(0,t.Cg)([te()],St.prototype,"onLabel",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})();const ni="TEXTAREA";let ns=(()=>{class St extends ve{constructor(ue,Ye){super(ue,Ye),this.type=ni,this.cols=N(ue.cols)?ue.cols:20,this.rows=N(ue.rows)?ue.rows:2,this.wrap=ue.wrap??"soft"}}return(0,t.Cg)([te()],St.prototype,"cols",void 0),(0,t.Cg)([te()],St.prototype,"rows",void 0),(0,t.Cg)([te()],St.prototype,"wrap",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})();const is="TIMEPICKER";let si=(()=>{class St extends Gt{constructor(ue,Ye){super(ue,Ye),this.type=is,this.meridian=!!T(ue.meridian)&&ue.meridian,this.showSeconds=!!T(ue.showSeconds)&&ue.showSeconds}}return(0,t.Cg)([te()],St.prototype,"meridian",void 0),(0,t.Cg)([te()],St.prototype,"showSeconds",void 0),(0,t.Cg)([te()],St.prototype,"type",void 0),St})();function gn(St,qt){return $(qt)&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|([+\-])([\d|:]*))?$/.test(qt)?new Date(qt):qt}let fi=(()=>{class St{constructor(ue,Ye){this.componentService=ue,this.validationService=Ye}createAbstractControlOptions(ue=null,Ye=null,Dt=null){return{asyncValidators:null!==Ye?this.validationService.getAsyncValidators(Ye):null,validators:null!==ue?this.validationService.getValidators(ue):null,updateOn:null!==Dt&&this.validationService.isFormHook(Dt)?Dt:Ct.Change}}createFormArray(ue){const Ye=[],Dt=this.createAbstractControlOptions(ue.validators,ue.asyncValidators,ue.updateOn);for(let nn=0;nn<ue.size;nn++){const Bn=ue.get(nn),xe=this.createAbstractControlOptions(ue.groupValidators,ue.groupAsyncValidators,ue.updateOn);Ye.push(this.createFormGroup(Bn.group,xe,Bn))}return new O.Bm(Ye,Dt)}createFormGroup(ue,Ye=null,Dt=null){const nn={};return ue.forEach(Bn=>{switch(Bn.parent=Dt,Bn.type){case ne:nn[Bn.id]=this.createFormArray(Bn);break;case Et:case vt:const xe=Bn,Ve=this.createAbstractControlOptions(xe.validators,xe.asyncValidators,xe.updateOn);nn[Bn.id]=this.createFormGroup(xe.group,Ve,xe);break;default:const ct={value:Bn.value,disabled:Bn.disabled},Ht=this.createAbstractControlOptions(Bn.validators,Bn.asyncValidators,Bn.updateOn);nn[Bn.id]=new O.hs(ct,Ht)}}),new O.J3(nn,Ye)}getPathSegment(ue){return ue instanceof Z?ue.index.toString():ue.id}getPath(ue,Ye=!1){const Dt=[this.getPathSegment(ue)];let nn=ue.parent;for(;nn;)Dt.unshift(this.getPathSegment(nn)),nn=nn.parent;return Ye?Dt.join("."):Dt}addFormGroupControl(ue,Ye,...Dt){Ye instanceof kt?this.insertFormGroupControl(Ye.size(),ue,Ye,...Dt):this.insertFormGroupControl(Ye.length,ue,Ye,...Dt)}moveFormGroupControl(ue,Ye,Dt){Dt instanceof kt?Dt.move(ue,Ye):Dt.splice(ue+Ye,0,...Dt.splice(ue,1))}insertFormGroupControl(ue,Ye,Dt,...nn){const xe=this.createFormGroup(nn,null,Dt instanceof kt?Dt:null).controls;Object.keys(xe).forEach((Ve,Oe)=>{const ct=nn[Oe];Dt instanceof kt?Dt.insert(ue,ct):Dt.splice(ue,0,ct),Ye.addControl(Ve,xe[Ve])})}removeFormGroupControl(ue,Ye,Dt){Dt instanceof kt?(Ye.removeControl(Dt.get(ue).id),Dt.remove(ue)):(Ye.removeControl(Dt[ue].id),Dt.splice(ue,1))}addFormArrayGroup(ue,Ye){const Dt=Ye.addGroup();ue.push(this.createFormGroup(Dt.group,null,Dt))}insertFormArrayGroup(ue,Ye,Dt){const nn=Dt.insertGroup(ue);Ye.insert(ue,this.createFormGroup(nn.group,null,nn))}moveFormArrayGroup(ue,Ye,Dt,nn){const Bn=ue+Ye,xe=Ye>=0;if(!(ue>=0&&ue<nn.size&&Bn>=0&&Bn<nn.size))throw new Error("form array group cannot be moved due to index or new index being out of bounds");{const Ve=[];for(let Oe=xe?ue:Bn;Oe<=(xe?Bn:ue);Oe++)Ve.push(Dt.at(Oe));Ve.forEach((Oe,ct)=>{let Ht;Ht=xe?0===ct?Bn:ue+ct-1:ct===Ve.length-1?Bn:Bn+ct+1,Dt.setControl(Ht,Oe)}),nn.moveGroup(ue,Ye)}}removeFormArrayGroup(ue,Ye,Dt){Ye.removeAt(ue),Dt.removeGroup(ue)}clearFormArray(ue,Ye){ue.clear(),Ye.clear()}findById(ue,Ye){const Dt=(Bn,xe)=>{for(const Ve of xe){if(Ve.id===Bn){nn=Ve;break}Ve instanceof kt&&Dt(Bn,Ve.group)}};let nn=null;return Dt(ue,Ye),nn}findModelById(ue,Ye){return this.findById(ue,Ye)}findControlByModel(ue,Ye){return Ye.root.get(this.getPath(ue,!0))}detectChanges(ue){if(ue instanceof X)ue.markForCheck(),ue.detectChanges();else for(const Ye of this.componentService.getForms())Ye.markForCheck(),Ye.detectChanges()}fromJSON(ue){const Ye=$(ue)?JSON.parse(ue,gn):ue,Dt=[];return Ye.forEach(nn=>{const Bn=nn.layout??null;switch(nn.type){case ne:const xe=nn;Array.isArray(xe.groups)&&xe.groups.forEach(Ve=>{Ve.group=this.fromJSON(Ve.group)}),xe.groupFactory=()=>this.fromJSON(xe.groupPrototype),Dt.push(new fe(nn,Bn));break;case oe:Dt.push(new J(nn,Bn));break;case vt:nn.group=this.fromJSON(nn.group),Dt.push(new Jt(nn,Bn));break;case sn:Dt.push(new zt(nn,Bn));break;case Je:Dt.push(new ke(nn,Bn));break;case"EDITOR":Dt.push(new ze(nn,Bn));break;case Vt:nn.value=null,Dt.push(new fn(nn,Bn));break;case Et:nn.group=this.fromJSON(nn.group),Dt.push(new kt(nn,Bn));break;case _e:Dt.push(new ft(nn,Bn));break;case dt:Dt.push(new Lt(nn,Bn));break;case"RATING":Dt.push(new Sn(nn,Bn));break;case $n:Dt.push(new Di(nn,Bn));break;case"SLIDER":Dt.push(new _t(nn,Bn));break;case"SWITCH":Dt.push(new Tn(nn,Bn));break;case ni:Dt.push(new ns(nn,Bn));break;case is:Dt.push(new si(nn,Bn));break;default:throw new Error(`unknown form control model type defined on JSON object with id "${nn.id}"`)}}),Dt}}return St.\u0275fac=function(ue){return new(ue||St)(i.KVO(G),i.KVO(we))},St.\u0275prov=i.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),St})();const ms="ENABLED",Ii="VISIBLE",Xt="AND",It="OR",Fe=new i.nKC("DYNAMIC_MATCHERS"),Qn=[{provide:Fe,useValue:{match:"DISABLED",opposingMatch:ms,onChange(St,qt){qt.disabled=St}},multi:!0},{provide:Fe,useValue:{match:"HIDDEN",opposingMatch:Ii,onChange(St,qt){qt.hidden=St}},multi:!0},{provide:Fe,useValue:{match:"REQUIRED",opposingMatch:"OPTIONAL",onChange(St,qt,ue,Ye){let Dt=null;St?Dt=j(qt.validators)?{...qt.validators,required:null}:{required:null}:j(qt.validators)&&(delete qt.validators.required,Dt={...qt.validators}),Ye.get(we).updateValidators(Dt,ue,qt),Ye.get(fi).detectChanges()}},multi:!0}];let Jn=(()=>{class St{constructor(ue,Ye){this.MATCHERS=ue,this.injector=Ye}getRelatedFormControls(ue,Ye){const Dt=(Bn,xe)=>{const Ve=xe.rootPath??xe.id;if($(Ve)&&!Bn.hasOwnProperty(Ve)){const Oe=xe.rootPath?Ye.root.get(xe.rootPath):Ye.get(xe.id);Oe instanceof O.hs?Bn[Ve]=Oe:console.warn(`No related form control with id ${xe.id} could be found`)}return Bn};return ue.relations.reduce((Bn,xe)=>xe.when.reduce(Dt,Bn),{})}findRelationByMatcher(ue,Ye){return ue.find(Dt=>[Ye.match,Ye.opposingMatch].includes(Dt.match))}matchesCondition(ue,Ye,Dt){const nn=ue.operator??It;return ue.when.reduce((Bn,xe,Ve)=>{const Oe=xe.rootPath??xe.id;let ct;for(const[Ht,gi]of Object.entries(Ye))if(Ht===Oe){ct=gi;break}return ct&&ue.match===Dt.match?!(Ve>0&&nn===Xt&&!Bn||!(Ve>0&&nn===It&&Bn)&&xe.value!==ct.value&&xe.status!==ct.status):!(!ct||ue.match!==Dt.opposingMatch||!(Ve>0&&nn===Xt&&Bn)&&(Ve>0&&nn===It&&!Bn||xe.value===ct.value||xe.status===ct.status))},!1)}subscribeRelations(ue,Ye,Dt){const nn=this.getRelatedFormControls(ue,Ye),Bn=[];return Object.values(nn).forEach(xe=>{const Ve=xe.valueChanges.pipe((0,y.Z)(xe.value),(0,M.F)()),Oe=xe.statusChanges.pipe((0,y.Z)(xe.status),(0,M.F)());Bn.push((0,m.h)(Ve,Oe).subscribe(()=>{this.MATCHERS.forEach(ct=>{const Ht=this.findRelationByMatcher(ue.relations,ct);if(void 0!==Ht){const gi=this.matchesCondition(Ht,nn,ct);ct.onChange(gi,ue,Dt,this.injector)}})}))}),Bn}}return St.\u0275fac=function(ue){return new(ue||St)(i.KVO(Fe,8),i.KVO(i.zZn))},St.\u0275prov=i.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),St})(),ki=(()=>{class St{constructor(ue,Ye,Dt,nn,Bn,xe){this.changeDetectorRef=ue,this.componentFactoryResolver=Ye,this.layoutService=Dt,this.validationService=nn,this.componentService=Bn,this.relationService=xe,this._hasFocus=!1,this.context=null,this.componentSubscriptions=[],this.subscriptions=[]}ngOnChanges(ue){const Ye=ue.group,nn=ue.model;(ue.layout||nn)&&this.onLayoutOrModelChange(),nn&&this.onModelChange(),(Ye||nn)&&this.onGroupOrModelChange()}ngOnInit(){this.subscriptions.push(this.control.statusChanges.pipe(function I(St,qt=null){return qt=qt??St,(0,b.N)((ue,Ye)=>{let Dt=[],nn=0;ue.subscribe((0,P._)(Ye,Bn=>{let xe=null;nn++%qt==0&&Dt.push([]);for(const Ve of Dt)Ve.push(Bn),St<=Ve.length&&(xe=xe??[],xe.push(Ve));if(xe)for(const Ve of xe)(0,D.o)(Dt,Ve),Ye.next(Ve)},()=>{for(const Bn of Dt)Ye.next(Bn);Ye.complete()},void 0,()=>{Dt=null}))})}(2,1),(0,E.T)(ue=>ue[0]),(0,h.p)(ue=>"PENDING"===ue)).subscribe(ue=>this.markForCheck()))}ngOnDestroy(){this.destroyFormControlComponent(),this.unsubscribe()}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}get hasLabel(){return $(this.model.label)}get hasHint(){return $(this.model.hint)}get hint(){return this.model.hint??null}get isCheckbox(){return this.model.type===oe}get templates(){return void 0!==this.inputTemplateList?this.inputTemplateList:this.contentTemplateList}get startTemplate(){return this.model.type!==ne?this.layoutService.getStartTemplate(this.model,this.templates):void 0}get endTemplate(){return this.model.type!==ne?this.layoutService.getEndTemplate(this.model,this.templates):void 0}getClass(ue,Ye){return this.layoutService.getClass(this.controlLayout,ue,Ye)}markForCheck(){this.changeDetectorRef.markForCheck();const ue=this.componentRef&&this.componentRef.instance;ue&&(ue instanceof z||ue instanceof K)&&ue.markForCheck()}createFormControlComponent(){const ue=this.componentType;if(null!==ue){const Ye=this.componentFactoryResolver.resolveComponentFactory(ue);this.componentViewContainerRef.clear(),this.componentRef=this.componentViewContainerRef.createComponent(Ye);const Dt=this.componentRef.instance;Dt.formLayout=this.layout,Dt.group=this.group,Dt.layout=this.controlLayout,Dt.model=this.model,this.templates&&(Dt.templates=this.templates),this.componentSubscriptions.push(Dt.blur.subscribe(nn=>this.onBlur(nn))),this.componentSubscriptions.push(Dt.change.subscribe(nn=>this.onChange(nn))),this.componentSubscriptions.push(Dt.focus.subscribe(nn=>this.onFocus(nn))),void 0!==Dt.customEvent&&this.componentSubscriptions.push(Dt.customEvent.subscribe(nn=>this.onCustomEvent(nn))),this.registerFormControlComponentRef(this.componentRef)}}destroyFormControlComponent(){this.componentRef&&(this.componentSubscriptions.forEach(ue=>ue.unsubscribe()),this.componentSubscriptions=[],this.unregisterFormControlComponentRef(),this.componentRef.destroy())}createDynamicFormControlEvent(ue,Ye){return{$event:ue,context:this.context,control:this.control,group:this.group,model:this.model,type:Ye}}unsubscribe(){this.subscriptions.forEach(ue=>ue.unsubscribe()),this.subscriptions=[]}onControlValueChanges(ue){this.model instanceof ce&&this.model.value!==ue&&(this.model.value=ue)}onModelValueUpdates(ue){this.control.value!==ue&&this.control.setValue(ue)}onModelDisabledUpdates(ue){ue?this.control.disable():this.control.enable()}onLayoutOrModelChange(){this.controlLayout=this.layoutService.findByModel(this.model,this.layout)??this.model.layout,this.klass=`${Array.isArray(this.hostClass)?this.hostClass.join(" "):""} ${this.layoutService.getHostClass(this.controlLayout)}`}onModelChange(){this.destroyFormControlComponent(),this.createFormControlComponent()}onGroupOrModelChange(){this.model&&(this.unsubscribe(),this.group&&(this.control=this.group.get(this.model.id),this.subscriptions.push(this.control.valueChanges.subscribe(ue=>this.onControlValueChanges(ue)))),this.subscriptions.push(this.model.disabledChanges.subscribe(ue=>this.onModelDisabledUpdates(ue))),this.model instanceof ce&&this.subscriptions.push(this.model.valueChanges.subscribe(Ye=>this.onModelValueUpdates(Ye))),this.model.relations.length>0&&this.subscriptions.push(...this.relationService.subscribeRelations(this.model,this.group,this.control)))}onChange(ue){if(ue instanceof Event){if(this.model.type===_e){const Ye=this.model;"file"===Ye.inputType&&(Ye.files=ue.target.files)}this.change.emit(this.createDynamicFormControlEvent(ue,Q.Change))}else ee(ue)?this.change.emit(ue):this.change.emit(this.createDynamicFormControlEvent(ue,Q.Change))}onBlur(ue){ee(ue)?this.blur.emit(ue):(this._hasFocus=!1,this.blur.emit(this.createDynamicFormControlEvent(ue,Q.Blur)))}onFocus(ue){ee(ue)?this.focus.emit(ue):(this._hasFocus=!0,this.focus.emit(this.createDynamicFormControlEvent(ue,Q.Focus)))}onCustomEvent(ue){const Ye=this.customEvent;ee(ue)?Ye.emit(ue):Ye.emit(this.createDynamicFormControlEvent(ue.customEvent,ue.customEventType))}registerFormControlComponentRef(ue){this.context instanceof Z?this.componentService.registerFormControl(this.model,ue,this.context.index):this.componentService.registerFormControl(this.model,ue)}unregisterFormControlComponentRef(){this.context instanceof Z?this.componentService.unregisterFormControl(this.model.id,this.context.index):this.componentService.unregisterFormControl(this.model.id)}}return St.\u0275fac=function(ue){return new(ue||St)(i.rXU(i.gRc),i.rXU(i.OM3),i.rXU(Un),i.rXU(we),i.rXU(G),i.rXU(Jn))},St.\u0275dir=i.FsC({type:St,features:[i.OA$]}),St})(),ss=(()=>{class St{constructor(ue,Ye){this.elementRef=ue,this.renderer=Ye}ngAfterViewInit(){$(this.listId)&&this.renderer.setAttribute(this.elementRef.nativeElement,"list",this.listId)}}return St.\u0275fac=function(ue){return new(ue||St)(i.rXU(i.aKT),i.rXU(i.sFG))},St.\u0275dir=i.FsC({type:St,selectors:[["","dynamicList",""]],inputs:{listId:[0,"dynamicList","listId"]}}),St})();const hs="off";let Qr=(()=>{class St{static forRoot(){return{ngModule:St,providers:[fi,Un,we,G,Jn]}}}return St.\u0275fac=function(ue){return new(ue||St)},St.\u0275mod=i.$C({type:St}),St.\u0275inj=i.G2t({imports:[L.MD,O.X1]}),St})()},20766:(B,C,n)=>{"use strict";n.d(C,{C_:()=>I,hO:()=>X,hr:()=>f,jr:()=>$});var i=n(59640),t=n(54438),c=n(7901),e=n(53993);const p="@ngrx/router-store/request",f=((0,i.VP)(p,(0,i.xk)()),"@ngrx/router-store/navigation"),E=((0,i.VP)(f,(0,i.xk)()),"@ngrx/router-store/cancel"),M=((0,i.VP)(E,(0,i.xk)()),"@ngrx/router-store/error"),P=((0,i.VP)(M,(0,i.xk)()),"@ngrx/router-store/navigated");function I(ie,te){const he=te;switch(he.type){case f:case M:case E:return{state:he.payload.routerState,navigationId:he.payload.event.id};default:return ie}}(0,i.VP)(P,(0,i.xk)());class h{serialize(te){return{root:this.serializeRoute(te.root),url:te.url}}serializeRoute(te){const he=te.children.map(ye=>this.serializeRoute(ye));return{params:te.params,data:te.data,url:te.url,outlet:te.outlet,title:te.title,routeConfig:te.routeConfig?{path:te.routeConfig.path,pathMatch:te.routeConfig.pathMatch,redirectTo:te.routeConfig.redirectTo,outlet:te.routeConfig.outlet,title:"string"==typeof te.routeConfig.title?te.routeConfig.title:void 0}:null,queryParams:te.queryParams,fragment:te.fragment,firstChild:he[0],children:he}}}var S=function(ie){return ie[ie.PreActivation=1]="PreActivation",ie[ie.PostActivation=2]="PostActivation",ie}(S||{});const O="router",L=new t.nKC("@ngrx/router-store Internal Configuration"),T=new t.nKC("@ngrx/router-store Configuration");var x=function(ie){return ie[ie.Full=0]="Full",ie[ie.Minimal=1]="Minimal",ie}(x||{});function N(ie){return{stateKey:O,serializer:h,navigationActionTiming:S.PreActivation,...ie}}class j{serialize(te){return{root:this.serializeRoute(te.root),url:te.url}}serializeRoute(te){const he=te.children.map(ye=>this.serializeRoute(ye));return{params:te.params,paramMap:te.paramMap,data:te.data,url:te.url,outlet:te.outlet,title:te.title,routeConfig:te.routeConfig?{component:te.routeConfig.component,path:te.routeConfig.path,pathMatch:te.routeConfig.pathMatch,redirectTo:te.routeConfig.redirectTo,outlet:te.routeConfig.outlet,title:te.routeConfig.title}:null,queryParams:te.queryParams,queryParamMap:te.queryParamMap,fragment:te.fragment,component:te.routeConfig?te.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:he[0],pathFromRoot:void 0,children:he}}}class ${}var k=function(ie){return ie[ie.NONE=1]="NONE",ie[ie.ROUTER=2]="ROUTER",ie[ie.STORE=3]="STORE",ie}(k||{});let K=(()=>{class ie{constructor(he,ye,re,ce,Z,ne){this.store=he,this.router=ye,this.serializer=re,this.errorHandler=ce,this.config=Z,this.activeRuntimeChecks=ne,this.lastEvent=null,this.routerState=null,this.trigger=k.NONE,this.stateKey=this.config.stateKey,!(0,i.Lg)()&&(0,t.naY)()&&(ne?.strictActionSerializability||ne?.strictStateSerializability)&&this.serializer instanceof j&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,i.Lt)(this.stateKey),(0,e.E)(this.store)).subscribe(([he,ye])=>{this.navigateIfNeeded(he,ye)})}navigateIfNeeded(he,ye){if(!he||!he.state||this.trigger===k.ROUTER||this.lastEvent instanceof c.Z)return;const re=he.state.url;(function z(ie,te){return V(ie)===V(te)})(this.router.url,re)||(this.storeState=ye,this.trigger=k.STORE,this.router.navigateByUrl(re).catch(ce=>{this.errorHandler.handleError(ce)}))}setUpRouterEventsListener(){const he=this.config.navigationActionTiming===S.PostActivation;let ye;this.router.events.pipe((0,e.E)(this.store)).subscribe(([re,ce])=>{this.lastEvent=re,re instanceof c.Z?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==k.STORE&&(this.storeState=ce,this.dispatchRouterRequest(re))):re instanceof c.ld?(ye=re,!he&&this.trigger!==k.STORE&&this.dispatchRouterNavigation(re)):re instanceof c.j5?(this.dispatchRouterCancel(re),this.reset()):re instanceof c.L6?(this.dispatchRouterError(re),this.reset()):re instanceof c.wF&&(this.trigger!==k.STORE&&(he&&this.dispatchRouterNavigation(ye),this.dispatchRouterNavigated(re)),this.reset())})}dispatchRouterRequest(he){this.dispatchRouterAction(p,{event:he})}dispatchRouterNavigation(he){const ye=this.serializer.serialize(he.state);this.dispatchRouterAction(f,{routerState:ye,event:new c.ld(he.id,he.url,he.urlAfterRedirects,ye)})}dispatchRouterCancel(he){this.dispatchRouterAction(E,{storeState:this.storeState,event:he})}dispatchRouterError(he){this.dispatchRouterAction(M,{storeState:this.storeState,event:new c.L6(he.id,he.url,`${he}`)})}dispatchRouterNavigated(he){const ye=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(P,{event:he,routerState:ye})}dispatchRouterAction(he,ye){this.trigger=k.ROUTER;try{this.store.dispatch({type:he,payload:{routerState:this.routerState,...ye,event:this.config.routerState===x.Full?ye.event:{id:ye.event.id,url:ye.event.url,urlAfterRedirects:ye.event.urlAfterRedirects}}})}finally{this.trigger=k.NONE}}reset(){this.trigger=k.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(ye){return new(ye||ie)(t.KVO(i.il),t.KVO(c.Ix),t.KVO($),t.KVO(t.zcH),t.KVO(T),t.KVO(i.A5))}}static{this.\u0275prov=t.jDH({token:ie,factory:ie.\u0275fac})}}return ie})();function V(ie){return ie?.length>0&&"/"===ie[ie.length-1]?ie.substring(0,ie.length-1):ie}function G(ie={}){return(0,t.EmA)([{provide:L,useValue:ie},{provide:T,useFactory:N,deps:[L]},{provide:$,useClass:ie.serializer?ie.serializer:ie.routerState===x.Full?j:h},{provide:t.Z63,multi:!0,useFactory:()=>()=>(0,t.WQX)(K)},K])}let X=(()=>{class ie{static forRoot(he={}){return{ngModule:ie,providers:[G(he)]}}static{this.\u0275fac=function(ye){return new(ye||ie)}}static{this.\u0275mod=t.$C({type:ie})}static{this.\u0275inj=t.G2t({})}}return ie})()},59640:(B,C,n)=>{"use strict";n.d(C,{A5:()=>Ce,sA:()=>je,il:()=>Ot,ae:()=>gs,md:()=>Ss,wc:()=>hs,iK:()=>ae,VP:()=>I,UX:()=>Di,Mz:()=>Rt,Lg:()=>fn,xk:()=>h,Lt:()=>mt});var i=n(54438),t=n(84412),c=n(71985),e=n(21413),p=n(47242),m=n(40941),f=n(53993),v=n(31943),E=n(96354),M=n(23294),b=n(89079);const P={};function I(Ft,_n){if(P[Ft]=(P[Ft]||0)+1,"function"==typeof _n)return O(Ft,(...be)=>({..._n(...be),type:Ft}));switch(_n?_n._as:"empty"){case"empty":return O(Ft,()=>({type:Ft}));case"props":return O(Ft,be=>({...be,type:Ft}));default:throw new Error("Unexpected config.")}}function h(){return{_as:"props",_p:void 0}}function O(Ft,_n){return Object.defineProperty(_n,"type",{value:Ft,writable:!1})}const k="@ngrx/store/init";let K=(()=>{class Ft extends t.t{constructor(){super({type:k})}next(We){if("function"==typeof We)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof We>"u")throw new TypeError("Actions must be objects");if(typeof We.type>"u")throw new TypeError("Actions must have a type property");super.next(We)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(be){return new(be||Ft)}}static{this.\u0275prov=i.jDH({token:Ft,factory:Ft.\u0275fac})}}return Ft})();const z=[K],V=new i.nKC("@ngrx/store Internal Root Guard"),G=new i.nKC("@ngrx/store Internal Initial State"),X=new i.nKC("@ngrx/store Initial State"),Q=new i.nKC("@ngrx/store Reducer Factory"),ee=new i.nKC("@ngrx/store Internal Reducer Factory Provider"),ie=new i.nKC("@ngrx/store Initial Reducers"),te=new i.nKC("@ngrx/store Internal Initial Reducers"),he=new i.nKC("@ngrx/store Store Features"),ye=new i.nKC("@ngrx/store Internal Store Reducers"),re=new i.nKC("@ngrx/store Internal Feature Reducers"),ce=new i.nKC("@ngrx/store Internal Feature Configs"),Z=new i.nKC("@ngrx/store Internal Store Features"),ne=new i.nKC("@ngrx/store Internal Feature Reducers Token"),fe=new i.nKC("@ngrx/store Feature Reducers"),ae=new i.nKC("@ngrx/store User Provided Meta Reducers"),oe=new i.nKC("@ngrx/store Meta Reducers"),J=new i.nKC("@ngrx/store Internal Resolved Meta Reducers"),ve=new i.nKC("@ngrx/store User Runtime Checks Config"),_e=new i.nKC("@ngrx/store Internal User Runtime Checks Config"),Ce=new i.nKC("@ngrx/store Internal Runtime Checks"),qe=new i.nKC("@ngrx/store Check if Action types are unique");function Ge(Ft,_n={}){const We=Object.keys(Ft),be={};for(let Ue=0;Ue<We.length;Ue++){const ht=We[Ue];"function"==typeof Ft[ht]&&(be[ht]=Ft[ht])}const Me=Object.keys(be);return function(ht,Ut){ht=void 0===ht?_n:ht;let pn=!1;const un={};for(let jn=0;jn<Me.length;jn++){const Zn=Me[jn],_s=ht[Zn],Uo=(0,be[Zn])(_s,Ut);un[Zn]=Uo,pn=pn||Uo!==_s}return pn?un:ht}}function Ke(...Ft){return function(_n){if(0===Ft.length)return _n;const We=Ft[Ft.length-1];return Ft.slice(0,-1).reduceRight((Me,Ue)=>Ue(Me),We(_n))}}function Te(Ft,_n){return Array.isArray(_n)&&_n.length>0&&(Ft=Ke.apply(null,[..._n,Ft])),(We,be)=>{const Me=Ft(We);return(Ue,ht)=>Me(Ue=void 0===Ue?be:Ue,ht)}}new i.nKC("@ngrx/store Root Store Provider"),new i.nKC("@ngrx/store Feature State Provider");class He extends c.c{}class Bt extends K{}let Tt=(()=>{class Ft extends t.t{get currentReducers(){return this.reducers}constructor(We,be,Me,Ue){super(Ue(Me,be)),this.dispatcher=We,this.initialState=be,this.reducers=Me,this.reducerFactory=Ue}addFeature(We){this.addFeatures([We])}addFeatures(We){const be=We.reduce((Me,{reducers:Ue,reducerFactory:ht,metaReducers:Ut,initialState:pn,key:un})=>{const jn="function"==typeof Ue?function pt(Ft){const _n=Array.isArray(Ft)&&Ft.length>0?Ke(...Ft):We=>We;return(We,be)=>(We=_n(We),(Me,Ue)=>We(Me=void 0===Me?be:Me,Ue))}(Ut)(Ue,pn):Te(ht,Ut)(Ue,pn);return Me[un]=jn,Me},{});this.addReducers(be)}removeFeature(We){this.removeFeatures([We])}removeFeatures(We){this.removeReducers(We.map(be=>be.key))}addReducer(We,be){this.addReducers({[We]:be})}addReducers(We){this.reducers={...this.reducers,...We},this.updateReducers(Object.keys(We))}removeReducer(We){this.removeReducers([We])}removeReducers(We){We.forEach(be=>{this.reducers=function at(Ft,_n){return Object.keys(Ft).filter(We=>We!==_n).reduce((We,be)=>Object.assign(We,{[be]:Ft[be]}),{})}(this.reducers,be)}),this.updateReducers(We)}updateReducers(We){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:We})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(be){return new(be||Ft)(i.KVO(Bt),i.KVO(X),i.KVO(ie),i.KVO(Q))}}static{this.\u0275prov=i.jDH({token:Ft,factory:Ft.\u0275fac})}}return Ft})();const Ee=[Tt,{provide:He,useExisting:Tt},{provide:Bt,useExisting:K}];let je=(()=>{class Ft extends e.B{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let We;return function(Me){return(We||(We=i.xGo(Ft)))(Me||Ft)}})()}static{this.\u0275prov=i.jDH({token:Ft,factory:Ft.\u0275fac})}}return Ft})();const ft=[je];class vn extends c.c{}let hn=(()=>{class Ft extends t.t{static{this.INIT=k}constructor(We,be,Me,Ue){super(Ue);const un=We.pipe((0,m.Q)(p.T)).pipe((0,f.E)(be)).pipe((0,v.S)(Un,{state:Ue}));this.stateSubscription=un.subscribe(({state:jn,action:Zn})=>{this.next(jn),Me.next(Zn)}),this.state=(0,b.ot)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(be){return new(be||Ft)(i.KVO(K),i.KVO(He),i.KVO(je),i.KVO(X))}}static{this.\u0275prov=i.jDH({token:Ft,factory:Ft.\u0275fac})}}return Ft})();function Un(Ft={state:void 0},[_n,We]){const{state:be}=Ft;return{state:We(be,_n),action:_n}}const Ct=[hn,{provide:vn,useExisting:hn}];let Ot=(()=>{class Ft extends c.c{constructor(We,be,Me){super(),this.actionsObserver=be,this.reducerManager=Me,this.source=We,this.state=We.state}select(We,...be){return mt.call(null,We,...be)(this)}selectSignal(We,be){return(0,i.EWP)(()=>We(this.state()),be)}lift(We){const be=new Ft(this,this.actionsObserver,this.reducerManager);return be.operator=We,be}dispatch(We){this.actionsObserver.next(We)}next(We){this.actionsObserver.next(We)}error(We){this.actionsObserver.error(We)}complete(){this.actionsObserver.complete()}addReducer(We,be){this.reducerManager.addReducer(We,be)}removeReducer(We){this.reducerManager.removeReducer(We)}static{this.\u0275fac=function(be){return new(be||Ft)(i.KVO(vn),i.KVO(K),i.KVO(Tt))}}static{this.\u0275prov=i.jDH({token:Ft,factory:Ft.\u0275fac})}}return Ft})();const wt=[Ot];function mt(Ft,_n,...We){return function(Me){let Ue;if("string"==typeof Ft){const ht=[_n,...We].filter(Boolean);Ue=Me.pipe(function y(...Ft){const _n=Ft.length;if(0===_n)throw new Error("list of properties cannot be empty.");return(0,E.T)(We=>{let be=We;for(let Me=0;Me<_n;Me++){const Ue=be?.[Ft[Me]];if(!(typeof Ue<"u"))return;be=Ue}return be})}(Ft,...ht))}else{if("function"!=typeof Ft)throw new TypeError(`Unexpected type '${typeof Ft}' in select operator, expected 'string' or 'function'`);Ue=Me.pipe((0,E.T)(ht=>Ft(ht,_n)))}return Ue.pipe((0,M.F)())}}const ln="https://ngrx.io/guide/store/configuration/runtime-checks";function we(Ft){return void 0===Ft}function Et(Ft){return null===Ft}function kt(Ft){return Array.isArray(Ft)}function zt(Ft){return"object"==typeof Ft&&null!==Ft}function ke(Ft){return"function"==typeof Ft}let lt=!1;function fn(){return lt}function At(Ft,_n){return Ft===_n}function Lt(Ft,_n=At,We=At){let Ue,be=null,Me=null;return{memoized:function un(){if(void 0!==Ue)return Ue.result;if(!be)return Me=Ft.apply(null,arguments),be=arguments,Me;if(!function tn(Ft,_n,We){for(let be=0;be<Ft.length;be++)if(!We(Ft[be],_n[be]))return!0;return!1}(arguments,be,_n))return Me;const jn=Ft.apply(null,arguments);return be=arguments,We(Me,jn)?Me:(Me=jn,jn)},reset:function ht(){be=null,Me=null},setResult:function Ut(jn=void 0){Ue={result:jn}},clearResult:function pn(){Ue=void 0}}}function Rt(...Ft){return function $n(Ft,_n={stateFn:Sn}){return function(...We){let be=We;if(Array.isArray(be[0])){const[jn,...Zn]=be;be=[...jn,...Zn]}else 1===be.length&&function bt(Ft){return!!Ft&&"object"==typeof Ft&&Object.values(Ft).every(_n=>"function"==typeof _n)}(be[0])&&(be=function _t(Ft){const _n=Object.values(Ft),We=Object.keys(Ft);return[..._n,(...Me)=>We.reduce((Ue,ht,Ut)=>({...Ue,[ht]:Me[Ut]}),{})]}(be[0]));const Me=be.slice(0,be.length-1),Ue=be[be.length-1],ht=Me.filter(jn=>jn.release&&"function"==typeof jn.release),Ut=Ft(function(...jn){return Ue.apply(null,jn)}),pn=Lt(function(jn,Zn){return _n.stateFn.apply(null,[jn,Me,Zn,Ut])});return Object.assign(pn.memoized,{release:function un(){pn.reset(),Ut.reset(),ht.forEach(jn=>jn.release())},projector:Ut.memoized,setResult:pn.setResult,clearResult:pn.clearResult})}}(Lt)(...Ft)}function Sn(Ft,_n,We,be){if(void 0===We){const Ue=_n.map(ht=>ht(Ft));return be.memoized.apply(null,Ue)}const Me=_n.map(Ue=>Ue(Ft,We));return be.memoized.apply(null,[...Me,We])}function Di(Ft){return Rt(_n=>{const We=_n[Ft];return!fn()&&(0,i.naY)()&&!(Ft in _n)&&console.warn(`@ngrx/store: The feature name "${Ft}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Ft}', ...) or StoreModule.forFeature('${Ft}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),We},_n=>_n)}function oi(Ft){return Ft instanceof i.nKC?(0,i.WQX)(Ft):Ft}function ai(Ft,_n){return _n.map((We,be)=>{if(Ft[be]instanceof i.nKC){const Me=(0,i.WQX)(Ft[be]);return{key:We.key,reducerFactory:Me.reducerFactory?Me.reducerFactory:Ge,metaReducers:Me.metaReducers?Me.metaReducers:[],initialState:Me.initialState}}return We})}function ns(Ft){return Ft.map(_n=>_n instanceof i.nKC?(0,i.WQX)(_n):_n)}function is(Ft){return"function"==typeof Ft?Ft():Ft}function si(Ft,_n){return Ft.concat(_n)}function ci(){if((0,i.WQX)(Ot,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function gn(Ft){Object.freeze(Ft);const _n=ke(Ft);return Object.getOwnPropertyNames(Ft).forEach(We=>{if(!We.startsWith("\u0275")&&function ze(Ft,_n){return Object.prototype.hasOwnProperty.call(Ft,_n)}(Ft,We)&&(!_n||"caller"!==We&&"callee"!==We&&"arguments"!==We)){const be=Ft[We];(zt(be)||ke(be))&&!Object.isFrozen(be)&&gn(be)}}),Ft}function Si(Ft,_n=[]){return(we(Ft)||Et(Ft))&&0===_n.length?{path:["root"],value:Ft}:Object.keys(Ft).reduce((be,Me)=>{if(be)return be;const Ue=Ft[Me];return function Le(Ft){return ke(Ft)&&Ft.hasOwnProperty("\u0275cmp")}(Ue)?be:!(we(Ue)||Et(Ue)||function sn(Ft){return"number"==typeof Ft}(Ue)||function Jt(Ft){return"boolean"==typeof Ft}(Ue)||function vt(Ft){return"string"==typeof Ft}(Ue)||kt(Ue))&&(function Je(Ft){if(!function Gt(Ft){return zt(Ft)&&!kt(Ft)}(Ft))return!1;const _n=Object.getPrototypeOf(Ft);return _n===Object.prototype||null===_n}(Ue)?Si(Ue,[..._n,Me]):{path:[..._n,Me],value:Ue})},!1)}function ms(Ft,_n){if(!1===Ft)return;const We=Ft.path.join("."),be=new Error(`Detected unserializable ${_n} at "${We}". ${ln}#strict${_n}serializability`);throw be.value=Ft.value,be.unserializablePath=We,be}function xi(Ft){return(0,i.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Ft}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Zt({strictActionSerializability:Ft,strictStateSerializability:_n}){return We=>Ft||_n?function fi(Ft,_n){return function(We,be){_n.action(be)&&ms(Si(be),"action");const Me=Ft(We,be);return _n.state()&&ms(Si(Me),"state"),Me}}(We,{action:be=>Ft&&!Xt(be),state:()=>_n}):We}function Ii({strictActionImmutability:Ft,strictStateImmutability:_n}){return We=>Ft||_n?function cn(Ft,_n){return function(We,be){const Me=_n.action(be)?gn(be):be,Ue=Ft(We,Me);return _n.state()?gn(Ue):Ue}}(We,{action:be=>Ft&&!Xt(be),state:()=>_n}):We}function Xt(Ft){return Ft.type.startsWith("@ngrx")}function It({strictActionWithinNgZone:Ft}){return _n=>Ft?function Ai(Ft,_n){return function(We,be){if(_n.action(be)&&!i.SKi.isInAngularZone())throw new Error(`Action '${be.type}' running outside NgZone. ${ln}#strictactionwithinngzone`);return Ft(We,be)}}(_n,{action:We=>Ft&&!Xt(We)}):_n}function Fe(Ft){return[{provide:_e,useValue:Ft},{provide:ve,useFactory:gt,deps:[_e]},{provide:Ce,deps:[ve],useFactory:xi},{provide:oe,multi:!0,deps:[Ce],useFactory:Ii},{provide:oe,multi:!0,deps:[Ce],useFactory:Zt},{provide:oe,multi:!0,deps:[Ce],useFactory:It}]}function Xe(){return[{provide:qe,multi:!0,deps:[Ce],useFactory:Yt}]}function gt(Ft){return Ft}function Yt(Ft){if(!Ft.strictActionTypeUniqueness)return;const _n=Object.entries(P).filter(([,We])=>We>1).map(([We])=>We);if(_n.length)throw new Error(`Action types are registered more than once, ${_n.map(We=>`"${We}"`).join(", ")}. ${ln}#strictactiontypeuniqueness`)}function On(Ft={},_n={}){return[{provide:V,useFactory:ci},{provide:G,useValue:_n.initialState},{provide:X,useFactory:is,deps:[G]},{provide:te,useValue:Ft},{provide:ye,useExisting:Ft instanceof i.nKC?Ft:te},{provide:ie,deps:[te,[new i.y_5(ye)]],useFactory:oi},{provide:ae,useValue:_n.metaReducers?_n.metaReducers:[]},{provide:J,deps:[oe,ae],useFactory:si},{provide:ee,useValue:_n.reducerFactory?_n.reducerFactory:Ge},{provide:Q,deps:[ee,J],useFactory:Te},z,Ee,ft,Ct,wt,Fe(_n.runtimeChecks),Xe()]}function ss(Ft,_n,We={}){return[{provide:ce,multi:!0,useValue:Ft instanceof Object?{}:We},{provide:he,multi:!0,useValue:{key:Ft instanceof Object?Ft.name:Ft,reducerFactory:We instanceof i.nKC||!We.reducerFactory?Ge:We.reducerFactory,metaReducers:We instanceof i.nKC||!We.metaReducers?[]:We.metaReducers,initialState:We instanceof i.nKC||!We.initialState?void 0:We.initialState}},{provide:Z,deps:[ce,he],useFactory:ai},{provide:re,multi:!0,useValue:Ft instanceof Object?Ft.reducer:_n},{provide:ne,multi:!0,useExisting:_n instanceof i.nKC?_n:re},{provide:fe,multi:!0,deps:[re,[new i.y_5(ne)]],useFactory:ns},Xe()]}let hs=(()=>{class Ft{constructor(We,be,Me,Ue,ht,Ut){}static{this.\u0275fac=function(be){return new(be||Ft)(i.KVO(K),i.KVO(He),i.KVO(je),i.KVO(Ot),i.KVO(V,8),i.KVO(qe,8))}}static{this.\u0275mod=i.$C({type:Ft})}static{this.\u0275inj=i.G2t({})}}return Ft})(),gs=(()=>{class Ft{constructor(We,be,Me,Ue,ht){this.features=We,this.featureReducers=be,this.reducerManager=Me;const Ut=We.map((pn,un)=>{const Zn=be.shift()[un];return{...pn,reducers:Zn,initialState:is(pn.initialState)}});Me.addFeatures(Ut)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(be){return new(be||Ft)(i.KVO(Z),i.KVO(fe),i.KVO(Tt),i.KVO(hs),i.KVO(qe,8))}}static{this.\u0275mod=i.$C({type:Ft})}static{this.\u0275inj=i.G2t({})}}return Ft})(),Ss=(()=>{class Ft{static forRoot(We,be){return{ngModule:hs,providers:[...On(We,be)]}}static forFeature(We,be,Me={}){return{ngModule:gs,providers:[...ss(We,be,Me)]}}static{this.\u0275fac=function(be){return new(be||Ft)}}static{this.\u0275mod=i.$C({type:Ft})}static{this.\u0275inj=i.G2t({})}}return Ft})()},68018:(B,C,n)=>{"use strict";n.d(C,{D9:()=>ce,Wr:()=>b,c$:()=>ye,er:()=>D,h:()=>fe});var i=n(54438),t=n(7673),c=n(74402),e=n(27468),p=n(92688),m=n(59030),f=n(96697),v=n(44668),E=n(96354),y=n(70274),M=n(25558);class b{}let P=(()=>{class ae extends b{getTranslation(J){return(0,t.of)({})}static \u0275fac=(()=>{let J;return function(_e){return(J||(J=i.xGo(ae)))(_e||ae)}})();static \u0275prov=i.jDH({token:ae,factory:ae.\u0275fac})}return ae})();class D{}let I=(()=>{class ae{handle(J){return J.key}static \u0275fac=function(ve){return new(ve||ae)};static \u0275prov=i.jDH({token:ae,factory:ae.\u0275fac})}return ae})();function h(ae,oe){if(ae===oe)return!0;if(null===ae||null===oe)return!1;if(ae!=ae&&oe!=oe)return!0;const J=typeof ae;let _e,Ce,qe;if(J==typeof oe&&"object"==J){if(!Array.isArray(ae)){if(Array.isArray(oe))return!1;for(Ce in qe=Object.create(null),ae){if(!h(ae[Ce],oe[Ce]))return!1;qe[Ce]=!0}for(Ce in oe)if(!(Ce in qe)&&typeof oe[Ce]<"u")return!1;return!0}if(!Array.isArray(oe))return!1;if((_e=ae.length)==oe.length){for(Ce=0;Ce<_e;Ce++)if(!h(ae[Ce],oe[Ce]))return!1;return!0}}return!1}function S(ae){return typeof ae<"u"&&null!==ae}function O(ae){return L(ae)&&!T(ae)&&null!==ae}function L(ae){return"object"==typeof ae}function T(ae){return Array.isArray(ae)}function x(ae){return"string"==typeof ae}function j(ae,oe){const J=Object.assign({},ae);return L(ae)?(L(ae)&&L(oe)&&Object.keys(oe).forEach(ve=>{O(oe[ve])?ve in ae?J[ve]=j(ae[ve],oe[ve]):Object.assign(J,{[ve]:oe[ve]}):Object.assign(J,{[ve]:oe[ve]})}),J):j({},oe)}function $(ae,oe){const J=oe.split(".");oe="";do{oe+=J.shift(),S(ae)&&S(ae[oe])&&(O(ae[oe])||T(ae[oe])||!J.length)?(ae=ae[oe],oe=""):J.length?oe+=".":ae=void 0}while(J.length);return ae}class K{}let z=(()=>{class ae extends K{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(J,ve){return x(J)?this.interpolateString(J,ve):function N(ae){return"function"==typeof ae}(J)?this.interpolateFunction(J,ve):void 0}interpolateFunction(J,ve){return J(ve)}interpolateString(J,ve){return ve?J.replace(this.templateMatcher,(_e,Ce)=>{const qe=$(ve,Ce);return S(qe)?qe:_e}):J}static \u0275fac=(()=>{let J;return function(_e){return(J||(J=i.xGo(ae)))(_e||ae)}})();static \u0275prov=i.jDH({token:ae,factory:ae.\u0275fac})}return ae})();class V{}let G=(()=>{class ae extends V{compile(J,ve){return J}compileTranslations(J,ve){return J}static \u0275fac=(()=>{let J;return function(_e){return(J||(J=i.xGo(ae)))(_e||ae)}})();static \u0275prov=i.jDH({token:ae,factory:ae.\u0275fac})}return ae})();class X{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new i.bkB;onLangChange=new i.bkB;onDefaultLangChange=new i.bkB}const Q=new i.nKC("ISOLATE_TRANSLATE_SERVICE"),ee=new i.nKC("USE_DEFAULT_LANG"),ie=new i.nKC("DEFAULT_LANGUAGE"),te=new i.nKC("USE_EXTEND"),he=ae=>(0,c.A)(ae)?ae:(0,t.of)(ae);let ye=(()=>{class ae{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(J){this.store.defaultLang=J}get currentLang(){return this.store.currentLang}set currentLang(J){this.store.currentLang=J}get langs(){return this.store.langs}set langs(J){this.store.langs=J}get translations(){return this.store.translations}set translations(J){this.store.translations=J}constructor(J,ve,_e,Ce,qe,Re=!0,nt=!1,Ge=!1,at){this.store=J,this.currentLoader=ve,this.compiler=_e,this.parser=Ce,this.missingTranslationHandler=qe,this.useDefaultLang=Re,this.extend=Ge,nt&&(this.store=new X),at&&this.setDefaultLang(at)}setDefaultLang(J){if(J===this.defaultLang)return;const ve=this.retrieveTranslations(J);typeof ve<"u"?(null==this.defaultLang&&(this.defaultLang=J),ve.pipe((0,f.s)(1)).subscribe(()=>{this.changeDefaultLang(J)})):this.changeDefaultLang(J)}getDefaultLang(){return this.defaultLang}use(J){if(this.lastUseLanguage=J,J===this.currentLang)return(0,t.of)(this.translations[J]);this.currentLang||(this.currentLang=J);const ve=this.retrieveTranslations(J);return(0,c.A)(ve)?(ve.pipe((0,f.s)(1)).subscribe(()=>{this.changeLang(J)}),ve):(this.changeLang(J),(0,t.of)(this.translations[J]))}changeLang(J){J===this.lastUseLanguage&&(this.currentLang=J,this.onLangChange.emit({lang:J,translations:this.translations[J]}),null==this.defaultLang&&this.changeDefaultLang(J))}retrieveTranslations(J){if(typeof this.translations[J]>"u"||this.extend)return this._translationRequests[J]=this._translationRequests[J]||this.loadAndCompileTranslations(J),this._translationRequests[J]}getTranslation(J){return this.loadAndCompileTranslations(J)}loadAndCompileTranslations(J){this.pending=!0;const ve=this.currentLoader.getTranslation(J).pipe((0,v.t)(1),(0,f.s)(1));return this.loadingTranslations=ve.pipe((0,E.T)(_e=>this.compiler.compileTranslations(_e,J)),(0,v.t)(1),(0,f.s)(1)),this.loadingTranslations.subscribe({next:_e=>{this.translations[J]=this.extend&&this.translations[J]?{..._e,...this.translations[J]}:_e,this.updateLangs(),this.pending=!1},error:_e=>{this.pending=!1}}),ve}setTranslation(J,ve,_e=!1){const Ce=this.compiler.compileTranslations(ve,J);this.translations[J]=(_e||this.extend)&&this.translations[J]?j(this.translations[J],Ce):Ce,this.updateLangs(),this.onTranslationChange.emit({lang:J,translations:this.translations[J]})}getLangs(){return this.langs}addLangs(J){const ve=J.filter(_e=>!this.langs.includes(_e));ve.length>0&&(this.langs=[...this.langs,...ve])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(J,ve,_e){let Ce;if(J&&(Ce=this.runInterpolation($(J,ve),_e)),void 0===Ce&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Ce=this.runInterpolation($(this.translations[this.defaultLang],ve),_e)),void 0===Ce){const qe={key:ve,translateService:this};typeof _e<"u"&&(qe.interpolateParams=_e),Ce=this.missingTranslationHandler.handle(qe)}return void 0!==Ce?Ce:ve}runInterpolation(J,ve){if(T(J))return J.map(_e=>this.runInterpolation(_e,ve));if(O(J)){const _e={};for(const Ce in J){const qe=this.runInterpolation(J[Ce],ve);void 0!==qe&&(_e[Ce]=qe)}return _e}return this.parser.interpolate(J,ve)}getParsedResult(J,ve,_e){if(ve instanceof Array){const Ce={};let qe=!1;for(const nt of ve)Ce[nt]=this.getParsedResultForKey(J,nt,_e),qe=qe||(0,c.A)(Ce[nt]);if(!qe)return Ce;const Re=ve.map(nt=>he(Ce[nt]));return(0,e.p)(Re).pipe((0,E.T)(nt=>{const Ge={};return nt.forEach((at,Ke)=>{Ge[ve[Ke]]=at}),Ge}))}return this.getParsedResultForKey(J,ve,_e)}get(J,ve){if(!S(J)||!J.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe((0,y.H)(_e=>he(this.getParsedResult(_e,J,ve)))):he(this.getParsedResult(this.translations[this.currentLang],J,ve))}getStreamOnTranslationChange(J,ve){if(!S(J)||!J.length)throw new Error('Parameter "key" is required and cannot be empty');return(0,p.x)((0,m.v)(()=>this.get(J,ve)),this.onTranslationChange.pipe((0,M.n)(_e=>{const Ce=this.getParsedResult(_e.translations,J,ve);return he(Ce)})))}stream(J,ve){if(!S(J)||!J.length)throw new Error('Parameter "key" required');return(0,p.x)((0,m.v)(()=>this.get(J,ve)),this.onLangChange.pipe((0,M.n)(_e=>{const Ce=this.getParsedResult(_e.translations,J,ve);return he(Ce)})))}instant(J,ve){if(!S(J)||0===J.length)throw new Error('Parameter "key" is required and cannot be empty');const _e=this.getParsedResult(this.translations[this.currentLang],J,ve);return(0,c.A)(_e)?Array.isArray(J)?J.reduce((Ce,qe)=>(Ce[qe]=qe,Ce),{}):J:_e}set(J,ve,_e=this.currentLang){(function k(ae,oe,J){const ve=oe.split(".");let _e=ae;for(let Ce=0;Ce<ve.length;Ce++){const qe=ve[Ce];Ce===ve.length-1?_e[qe]=J:((!_e[qe]||!O(_e[qe]))&&(_e[qe]={}),_e=_e[qe])}})(this.translations[_e],J,x(ve)?this.compiler.compile(ve,_e):this.compiler.compileTranslations(ve,_e)),this.updateLangs(),this.onTranslationChange.emit({lang:_e,translations:this.translations[_e]})}changeDefaultLang(J){this.defaultLang=J,this.onDefaultLangChange.emit({lang:J,translations:this.translations[J]})}reloadLang(J){return this.resetLang(J),this.loadAndCompileTranslations(J)}resetLang(J){delete this._translationRequests[J],delete this.translations[J]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const J=this.getBrowserCultureLang();return J?J.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(ve){return new(ve||ae)(i.KVO(X),i.KVO(b),i.KVO(V),i.KVO(K),i.KVO(D),i.KVO(ee),i.KVO(Q),i.KVO(te),i.KVO(ie))};static \u0275prov=i.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),ce=(()=>{class ae{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(J,ve){this.translate=J,this._ref=ve}updateValue(J,ve,_e){const Ce=qe=>{this.value=void 0!==qe?qe:J,this.lastKey=J,this._ref.markForCheck()};if(_e){const qe=this.translate.getParsedResult(_e,J,ve);(0,c.A)(qe)?qe.subscribe(Ce):Ce(qe)}this.translate.get(J,ve).subscribe(Ce)}transform(J,...ve){if(!J||!J.length)return J;if(h(J,this.lastKey)&&h(ve,this.lastParams))return this.value;let _e;if(S(ve[0])&&ve.length)if(x(ve[0])&&ve[0].length){const Ce=ve[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{_e=JSON.parse(Ce)}catch(qe){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${ve[0]}`)}}else O(ve[0])&&(_e=ve[0]);return this.lastKey=J,this.lastParams=ve,this.updateValue(J,_e),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Ce=>{this.lastKey&&Ce.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(J,_e,Ce.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Ce=>{this.lastKey&&(this.lastKey=null,this.updateValue(J,_e,Ce.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(J,_e))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(ve){return new(ve||ae)(i.rXU(ye,16),i.rXU(i.gRc,16))};static \u0275pipe=i.EJ8({name:"translate",type:ae,pure:!1,standalone:!0});static \u0275prov=i.jDH({token:ae,factory:ae.\u0275fac})}return ae})(),fe=(()=>{class ae{static forRoot(J={}){return{ngModule:ae,providers:[J.loader||{provide:b,useClass:P},J.compiler||{provide:V,useClass:G},J.parser||{provide:K,useClass:z},J.missingTranslationHandler||{provide:D,useClass:I},X,{provide:Q,useValue:J.isolate},{provide:ee,useValue:J.useDefaultLang},{provide:te,useValue:J.extend},{provide:ie,useValue:J.defaultLanguage},ye]}}static forChild(J={}){return{ngModule:ae,providers:[J.loader||{provide:b,useClass:P},J.compiler||{provide:V,useClass:G},J.parser||{provide:K,useClass:z},J.missingTranslationHandler||{provide:D,useClass:I},{provide:Q,useValue:J.isolate},{provide:ee,useValue:J.useDefaultLang},{provide:te,useValue:J.extend},{provide:ie,useValue:J.defaultLanguage},ye]}}static \u0275fac=function(ve){return new(ve||ae)};static \u0275mod=i.$C({type:ae});static \u0275inj=i.G2t({})}return ae})()},53588:(B,C,n)=>{"use strict";n.d(C,{WY:()=>I,xG:()=>S});var i=n(54438),t=n(60177),c=n(92771),e=n(18810);const p={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},m={easeInQuad:O=>O*O,easeOutQuad:O=>O*(2-O),easeInOutQuad:O=>O<.5?2*O*O:(4-2*O)*O-1,easeInCubic:O=>O*O*O,easeOutCubic:O=>--O*O*O+1,easeInOutCubic:O=>O<.5?4*O*O*O:(O-1)*(2*O-2)*(2*O-2)+1,easeInQuart:O=>O*O*O*O,easeOutQuart:O=>1- --O*O*O*O,easeInOutQuart:O=>O<.5?8*O*O*O*O:1-8*--O*O*O*O,easeInQuint:O=>O*O*O*O*O,easeOutQuint:O=>1+--O*O*O*O*O,easeInOutQuint:O=>O<.5?16*O*O*O*O*O:1+16*--O*O*O*O*O,easeOutElastic:O=>Math.pow(2,-10*O)*Math.sin((O-1/4)*(2*Math.PI)/1)+1};function y(O){return O===window}class D{constructor(L,T,x,N,j,$){this.container=L,this.listenerTarget=T,this.isWindow=x,this.to=N,this.options=j,this.isBrowser=$,this.loop=()=>{this.timeLapsed+=this.tick,this.percentage=this.timeLapsed/this.options.duration,this.percentage=this.percentage>1?1:this.percentage,this.position=this.startPosition+(this.startPosition-this.to<=0?1:-1)*this.distance*m[this.options.easing](this.percentage),null!==this.lastPosition&&this.position===this.lastPosition?this.stop():(this.source$.next(this.position),this.isWindow?this.listenerTarget.scrollTo(0,Math.floor(this.position)):this.container.scrollTop=Math.floor(this.position),this.lastPosition=this.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.startPosition=this.container?this.isWindow?this.windowScrollTop:this.container.scrollTop:this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);const k=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach((K,z)=>this.mappedOffset=window.innerWidth>z?K:this.mappedOffset),this.distance+=this.mappedOffset*(k<=0?1:-1),this.source$=new c.m}start(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()}stop(){clearInterval(this.interval),this.interval=null,this.source$.complete()}}let I=(()=>{class O{constructor(T,x){this.document=T,this.platformId=x,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}scrollTo(T){return(0,t.UE)(this.platformId)?this.start(T):(new c.m).asObservable()}start(T){const x={...p,...T};this.animation&&this.animation.stop();const N=this.getNode(x.target);if(x.target&&!N)return(0,e.$)(()=>new Error("Unable to find Target Element"));const j=this.getContainer(x,N);if(x.container&&!j)return(0,e.$)(()=>new Error("Unable to find Container Element"));const $=this.getListenerTarget(j)||window;let k=j?j.getBoundingClientRect().top:0;N&&(k=y($)?window.scrollY+N.getBoundingClientRect().top:N.getBoundingClientRect().top),this.animation=new D(j,$,y($),k,x,(0,t.UE)(this.platformId));const K=()=>this.animation.stop();this.addInterruptiveEventListeners($,K);const z=this.animation.start();return this.subscribeToAnimation(z,$,K),z}subscribeToAnimation(T,x,N){const j=T.subscribe({complete:()=>{this.removeInterruptiveEventListeners(this.interruptiveEvents,x,N),j.unsubscribe()}})}getContainer(T,x){let N=null;return T.container?N=this.getNode(T.container,!0):x&&(N=this.getFirstScrollableParent(x)),N}addInterruptiveEventListeners(T,x){T||(T=window),this.interruptiveEvents.forEach(N=>T.addEventListener(N,x,!!this.supportPassive()&&{passive:!0}))}supportPassive(){let T=!1;try{const x=Object.defineProperty({},"passive",{get:()=>{T=!0}});window.addEventListener("testPassive",null,x),window.removeEventListener("testPassive",null,x)}catch{}return T}removeInterruptiveEventListeners(T,x,N){x||(x=window),T.forEach(j=>x.removeEventListener(j,N))}getFirstScrollableParent(T){let x=window.getComputedStyle(T);const N=/(auto|scroll|overlay)/;if("fixed"===x.position)return null;let j=T;for(;j.parentElement;)if(j=j.parentElement,x=window.getComputedStyle(j),"absolute"!==x.position&&"hidden"!==x.overflow&&"hidden"!==x.overflowY&&(N.test(x.overflow+x.overflowY)||"BODY"===j.tagName))return j;return null}getNode(T,x=!1){let N;return function E(O){return"string"==typeof O||O instanceof String}(T)?N=!x||"body"!==T&&"BODY"!==T?this.document.getElementById(function v(O){return"#"===O.substring(0,1)?O.substring(1):O}(T)):this.document.body:function P(O){return!isNaN(parseFloat(O))&&isFinite(O)}(T)?N=this.document.getElementById(String(T)):function M(O){return O instanceof i.aKT}(T)?N=T.nativeElement:function b(O){return O instanceof HTMLElement}(T)&&(N=T),N}getListenerTarget(T){return T?this.isDocumentBody(T)?window:T:null}isDocumentBody(T){return"BODY"===T.tagName.toUpperCase()}}return O.\u0275fac=function(T){return new(T||O)(i.KVO(t.qQ),i.KVO(i.Agw))},O.\u0275prov=i.jDH({token:O,factory:O.\u0275fac}),O})(),S=(()=>{class O{static forRoot(){return{ngModule:O,providers:[I]}}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=i.$C({type:O}),O.\u0275inj=i.G2t({}),O})()},97324:(B,C,n)=>{"use strict";n.d(C,{RH:()=>K,Z1:()=>x,eB:()=>$,il:()=>v,ok:()=>P});var i=n(54438),t=n(84412),c=n(92771),e=n(5964);class p{constructor(){this.pageTracking={autoTrackVirtualPages:!0,basePath:"",excludedRoutes:[],clearIds:!1,clearHash:!1,clearQueryParams:!1,idsRegExp:/^\d+$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/},this.developerMode=!1,this.ga={},this.appInsights={},this.gtm={},this.gst={}}}const m=new i.nKC("ANGULARTICS2");class f{trackLocation(ae){return new t.t({url:"/"})}prepareExternalUrl(ae){return ae}}let v=(()=>{class fe{constructor(oe,J){this.tracker=oe,this.pageTrack=new c.m(10),this.eventTrack=new c.m(10),this.exceptionTrack=new c.m(10),this.setAlias=new c.m(10),this.setUsername=new c.m(10),this.setUserProperties=new c.m(10),this.setUserPropertiesOnce=new c.m(10),this.setSuperProperties=new c.m(10),this.setSuperPropertiesOnce=new c.m(10),this.userTimings=new c.m(10);const ve=new p;this.settings={...ve,...J.settings},this.settings.pageTracking={...ve.pageTracking,...J.settings.pageTracking},this.tracker.trackLocation(this.settings).subscribe(_e=>this.trackUrlChange(_e.url))}filterDeveloperMode(){return(0,e.p)((oe,J)=>!this.settings.developerMode)}trackUrlChange(oe){if(this.settings.pageTracking.autoTrackVirtualPages&&!this.matchesExcludedRoute(oe)){const J=this.clearUrl(oe);let ve;ve=this.settings.pageTracking.basePath.length?this.settings.pageTracking.basePath+J:this.tracker.prepareExternalUrl(J),this.pageTrack.next({path:ve})}}matchesExcludedRoute(oe){for(const J of this.settings.pageTracking.excludedRoutes)if(J instanceof RegExp&&J.test(oe)||-1!==oe.indexOf(J))return!0;return!1}clearUrl(oe){return this.settings.pageTracking.clearIds||this.settings.pageTracking.clearQueryParams||this.settings.pageTracking.clearHash?oe.split("/").map(J=>this.settings.pageTracking.clearQueryParams?J.split("?")[0]:J).map(J=>this.settings.pageTracking.clearHash?J.split("#")[0]:J).filter(J=>!this.settings.pageTracking.clearIds||!J.match(this.settings.pageTracking.idsRegExp)).join("/"):oe}}return fe.\u0275fac=function(oe){return new(oe||fe)(i.KVO(f),i.KVO(m))},fe.\u0275prov=i.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),M=(()=>{class fe{}return fe.\u0275fac=function(oe){return new(oe||fe)},fe.\u0275mod=i.$C({type:fe}),fe.\u0275inj=i.G2t({}),fe})(),P=(()=>{class fe{static forRoot(oe={}){return{ngModule:fe,providers:[{provide:m,useValue:{settings:oe}},f,v]}}}return fe.\u0275fac=function(oe){return new(oe||fe)},fe.\u0275mod=i.$C({type:fe}),fe.\u0275inj=i.G2t({imports:[[M]]}),fe})();class T{constructor(){this.additionalAccountNames=[],this.userId=null,this.transport="",this.anonymizeIp=!1}}let x=(()=>{class fe{constructor(oe){this.angulartics2=oe,this.dimensionsAndMetrics=[];const J=new T;this.angulartics2.settings.ga={...J,...this.angulartics2.settings.ga},this.settings=this.angulartics2.settings.ga,this.angulartics2.setUsername.subscribe(ve=>this.setUsername(ve)),this.angulartics2.setUserProperties.subscribe(ve=>this.setUserProperties(ve))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.pageTrack(oe.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.eventTrack(oe.action,oe.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.exceptionTrack(oe)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.userTimings(oe))}pageTrack(oe){if(typeof _gaq<"u"&&_gaq){_gaq.push(["_trackPageview",oe]);for(const J of this.angulartics2.settings.ga.additionalAccountNames)_gaq.push([J+"._trackPageview",oe])}if(typeof ga<"u"&&ga){if(this.angulartics2.settings.ga.userId){ga("set","&uid",this.angulartics2.settings.ga.userId);for(const J of this.angulartics2.settings.ga.additionalAccountNames)ga(J+".set","&uid",this.angulartics2.settings.ga.userId)}if(this.angulartics2.settings.ga.anonymizeIp){ga("set","anonymizeIp",!0);for(const J of this.angulartics2.settings.ga.additionalAccountNames)ga(J+".set","anonymizeIp",!0)}ga("send","pageview",oe);for(const J of this.angulartics2.settings.ga.additionalAccountNames)ga(J+".send","pageview",oe)}}eventTrack(oe,J){if((!J||!J.category)&&((J=J||{}).category="Event"),J.value){const ve=parseInt(J.value,10);J.value=isNaN(ve)?0:ve}if(typeof ga<"u"){const ve={eventCategory:J.category,eventAction:oe,eventLabel:J.label,eventValue:J.value,nonInteraction:J.noninteraction,page:J.page||location.hash.substring(1)||location.pathname,userId:this.angulartics2.settings.ga.userId,hitCallback:J.hitCallback,...this.angulartics2.settings.ga.transport&&{transport:this.angulartics2.settings.ga.transport}};this.setDimensionsAndMetrics(J),ga("send","event",ve);for(const _e of this.angulartics2.settings.ga.additionalAccountNames)ga(_e+".send","event",ve)}else typeof _gaq<"u"&&_gaq.push(["_trackEvent",J.category,oe,J.label,J.value,J.noninteraction])}exceptionTrack(oe){void 0===oe.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),oe.fatal=!0),oe.exDescription=oe.description;const J={exFatal:oe.fatal,exDescription:oe.description};ga("send","exception",J);for(const ve of this.angulartics2.settings.ga.additionalAccountNames)ga(ve+".send","exception",J)}userTimings(oe){if(oe&&oe.timingCategory&&oe.timingVar&&oe.timingValue){if(typeof ga<"u"){ga("send","timing",oe);for(const J of this.angulartics2.settings.ga.additionalAccountNames)ga(J+".send","timing",oe)}}else console.error("Properties timingCategory, timingVar, and timingValue are required to be set.")}setUsername(oe){this.angulartics2.settings.ga.userId=oe,!(typeof ga>"u")&&ga("set","userId",oe)}setUserProperties(oe){this.setDimensionsAndMetrics(oe)}setDimensionsAndMetrics(oe){typeof ga>"u"||(this.dimensionsAndMetrics.forEach(J=>{oe.hasOwnProperty(J)||(ga("set",J,void 0),this.angulartics2.settings.ga.additionalAccountNames.forEach(ve=>{ga(`${ve}.set`,J,void 0)}))}),this.dimensionsAndMetrics=[],Object.keys(oe).forEach(J=>{(0===J.lastIndexOf("dimension",0)||0===J.lastIndexOf("metric",0))&&(ga("set",J,oe[J]),this.angulartics2.settings.ga.additionalAccountNames.forEach(ve=>{ga(`${ve}.set`,J,oe[J])}),this.dimensionsAndMetrics.push(J))}))}}return fe.\u0275fac=function(oe){return new(oe||fe)(i.KVO(v))},fe.\u0275prov=i.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();class j{constructor(){this.userId=null}}let $=(()=>{class fe{constructor(oe){this.angulartics2=oe,typeof dataLayer<"u"&&dataLayer&&(dataLayer=window.dataLayer=window.dataLayer||[]);const J=new j;this.angulartics2.settings.gtm={...J,...this.angulartics2.settings.gtm},this.angulartics2.setUsername.subscribe(ve=>this.setUsername(ve))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.pageTrack(oe.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.eventTrack(oe.action,oe.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.exceptionTrack(oe))}pageTrack(oe){this.pushLayer({event:"Page View","content-name":oe,userId:this.angulartics2.settings.gtm.userId})}pushLayer(oe){typeof dataLayer<"u"&&dataLayer&&dataLayer.push(oe)}eventTrack(oe,J){this.pushLayer({event:(J=J||{}).event||"interaction",target:J.category||"Event",action:oe,label:J.label,value:J.value,interactionType:J.noninteraction,userId:this.angulartics2.settings.gtm.userId,...J.gtmCustom})}exceptionTrack(oe){oe&&oe.appId&&oe.appName&&oe.appVersion?(void 0===oe.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),oe.exFatal=!0),oe.exDescription=oe.event?oe.event.stack:oe.description,this.eventTrack(`Exception thrown for ${oe.appName} <${oe.appId}@${oe.appVersion}>`,{category:"Exception",label:oe.exDescription})):console.error("Must be setted appId, appName and appVersion.")}setUsername(oe){this.angulartics2.settings.gtm.userId=oe}}return fe.\u0275fac=function(oe){return new(oe||fe)(i.KVO(v))},fe.\u0275prov=i.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();class k{constructor(){this.trackingIds=[],typeof ga<"u"&&ga&&ga(()=>{ga.getAll().forEach(ae=>{const oe=ae.get("trackingId");void 0!==oe&&-1===this.trackingIds.indexOf(oe)&&this.trackingIds.push(oe)})})}}let K=(()=>{class fe{constructor(oe){this.angulartics2=oe,this.dimensionsAndMetrics={};const J=new k;this.angulartics2.settings.gst={...J,...this.angulartics2.settings.gst}}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.pageTrack(oe.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.eventTrack(oe.action,oe.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.exceptionTrack(oe)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.userTimings(this.convertTimings(oe))),this.angulartics2.setUsername.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.setUsername(oe)),this.angulartics2.setUserProperties.pipe(this.angulartics2.filterDeveloperMode()).subscribe(oe=>this.setUserProperties(oe))}pageTrack(oe){if(typeof gtag<"u"&&gtag){const J={page_path:oe,page_location:window.location.protocol+"//"+window.location.host+oe,...this.dimensionsAndMetrics};this.angulartics2.settings.gst.customMap&&(J.custom_map=this.angulartics2.settings.gst.customMap),this.angulartics2.settings.gst.userId&&(J.user_id=this.angulartics2.settings.gst.userId),this.angulartics2.settings.gst.anonymizeIp&&(J.anonymize_ip=this.angulartics2.settings.gst.anonymizeIp);for(const ve of this.angulartics2.settings.gst.trackingIds)gtag("config",ve,J)}}eventTrack(oe,J={}){this.eventTrackInternal(oe,{event_category:J.category||"interaction",event_label:J.label,value:J.value,non_interaction:J.noninteraction,...J.gstCustom})}exceptionTrack(oe){void 0===oe.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),oe.fatal=!0),oe.exDescription=oe.event?oe.event.stack:oe.description,this.eventTrack("exception",{gstCustom:{description:oe.exDescription,fatal:oe.fatal,...oe.gstCustom}})}userTimings(oe){oe?this.eventTrackInternal("timing_complete",{name:oe.name,value:oe.value,event_category:oe.category,event_label:oe.label}):console.error('User timings - "properties" parameter is required to be set.')}convertTimings(oe){return{name:oe.timingVar,value:oe.timingValue,category:oe.timingCategory,label:oe.timingLabel}}setUsername(oe){this.angulartics2.settings.gst.userId=oe,typeof gtag<"u"&&gtag&&gtag("set",{user_id:"string"!=typeof oe&&oe?oe.userId:oe})}setUserProperties(oe){this.setDimensionsAndMetrics(oe)}setDimensionsAndMetrics(oe){this.dimensionsAndMetrics={...this.dimensionsAndMetrics,...oe},Object.keys(this.dimensionsAndMetrics).forEach(J=>{null==this.dimensionsAndMetrics[J]&&delete this.dimensionsAndMetrics[J]}),typeof gtag<"u"&&gtag&&gtag("set",this.dimensionsAndMetrics)}eventTrackInternal(oe,J={}){this.cleanProperties(J),typeof gtag<"u"&&gtag&&gtag("event",oe,J)}cleanProperties(oe){if(oe.value){const J=parseInt(oe.value,10);oe.value=isNaN(J)?0:J}}}return fe.\u0275fac=function(oe){return new(oe||fe)(i.KVO(v))},fe.\u0275prov=i.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})()},93583:(B,C,n)=>{"use strict";n.d(C,{X6:()=>N,UD:()=>re,Go:()=>f});var i={};n.r(i),n.d(i,{JsonPatchError:()=>h,_areEquals:()=>K,applyOperation:()=>x,applyPatch:()=>N,applyReducer:()=>j,deepClone:()=>S,getValueByPointer:()=>T,validate:()=>k,validator:()=>$});var t={};n.r(t),n.d(t,{compare:()=>re,generate:()=>he,observe:()=>te,unobserve:()=>ie});var c=function(){var Z=function(ne,fe){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,oe){ae.__proto__=oe}||function(ae,oe){for(var J in oe)oe.hasOwnProperty(J)&&(ae[J]=oe[J])})(ne,fe)};return function(ne,fe){function ae(){this.constructor=ne}Z(ne,fe),ne.prototype=null===fe?Object.create(fe):(ae.prototype=fe.prototype,new ae)}}(),e=Object.prototype.hasOwnProperty;function p(Z,ne){return e.call(Z,ne)}function m(Z){if(Array.isArray(Z)){for(var ne=new Array(Z.length),fe=0;fe<ne.length;fe++)ne[fe]=""+fe;return ne}if(Object.keys)return Object.keys(Z);var ae=[];for(var oe in Z)p(Z,oe)&&ae.push(oe);return ae}function f(Z){switch(typeof Z){case"object":return JSON.parse(JSON.stringify(Z));case"undefined":return null;default:return Z}}function v(Z){for(var ae,ne=0,fe=Z.length;ne<fe;){if(!((ae=Z.charCodeAt(ne))>=48&&ae<=57))return!1;ne++}return!0}function E(Z){return-1===Z.indexOf("/")&&-1===Z.indexOf("~")?Z:Z.replace(/~/g,"~0").replace(/\//g,"~1")}function y(Z){return Z.replace(/~1/g,"/").replace(/~0/g,"~")}function P(Z){if(void 0===Z)return!0;if(Z)if(Array.isArray(Z)){for(var ne=0,fe=Z.length;ne<fe;ne++)if(P(Z[ne]))return!0}else if("object"==typeof Z)for(var ae=m(Z),oe=ae.length,J=0;J<oe;J++)if(P(Z[ae[J]]))return!0;return!1}function D(Z,ne){var fe=[Z];for(var ae in ne){var oe="object"==typeof ne[ae]?JSON.stringify(ne[ae],null,2):ne[ae];typeof oe<"u"&&fe.push(ae+": "+oe)}return fe.join("\n")}var I=function(Z){function ne(fe,ae,oe,J,ve){var _e=this.constructor,Ce=Z.call(this,D(fe,{name:ae,index:oe,operation:J,tree:ve}))||this;return Ce.name=ae,Ce.index=oe,Ce.operation=J,Ce.tree=ve,Object.setPrototypeOf(Ce,_e.prototype),Ce.message=D(fe,{name:ae,index:oe,operation:J,tree:ve}),Ce}return c(ne,Z),ne}(Error),h=I,S=f,O={add:function(Z,ne,fe){return Z[ne]=this.value,{newDocument:fe}},remove:function(Z,ne,fe){var ae=Z[ne];return delete Z[ne],{newDocument:fe,removed:ae}},replace:function(Z,ne,fe){var ae=Z[ne];return Z[ne]=this.value,{newDocument:fe,removed:ae}},move:function(Z,ne,fe){var ae=T(fe,this.path);ae&&(ae=f(ae));var oe=x(fe,{op:"remove",path:this.from}).removed;return x(fe,{op:"add",path:this.path,value:oe}),{newDocument:fe,removed:ae}},copy:function(Z,ne,fe){var ae=T(fe,this.from);return x(fe,{op:"add",path:this.path,value:f(ae)}),{newDocument:fe}},test:function(Z,ne,fe){return{newDocument:fe,test:K(Z[ne],this.value)}},_get:function(Z,ne,fe){return this.value=Z[ne],{newDocument:fe}}},L={add:function(Z,ne,fe){return v(ne)?Z.splice(ne,0,this.value):Z[ne]=this.value,{newDocument:fe,index:ne}},remove:function(Z,ne,fe){return{newDocument:fe,removed:Z.splice(ne,1)[0]}},replace:function(Z,ne,fe){var ae=Z[ne];return Z[ne]=this.value,{newDocument:fe,removed:ae}},move:O.move,copy:O.copy,test:O.test,_get:O._get};function T(Z,ne){if(""==ne)return Z;var fe={op:"_get",path:ne};return x(Z,fe),fe.value}function x(Z,ne,fe,ae,oe,J){if(void 0===fe&&(fe=!1),void 0===ae&&(ae=!0),void 0===oe&&(oe=!0),void 0===J&&(J=0),fe&&("function"==typeof fe?fe(ne,0,Z,ne.path):$(ne,0)),""===ne.path){var ve={newDocument:Z};if("add"===ne.op)return ve.newDocument=ne.value,ve;if("replace"===ne.op)return ve.newDocument=ne.value,ve.removed=Z,ve;if("move"===ne.op||"copy"===ne.op)return ve.newDocument=T(Z,ne.from),"move"===ne.op&&(ve.removed=Z),ve;if("test"===ne.op){if(ve.test=K(Z,ne.value),!1===ve.test)throw new h("Test operation failed","TEST_OPERATION_FAILED",J,ne,Z);return ve.newDocument=Z,ve}if("remove"===ne.op)return ve.removed=Z,ve.newDocument=null,ve;if("_get"===ne.op)return ne.value=Z,ve;if(fe)throw new h("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",J,ne,Z);return ve}ae||(Z=f(Z));var Ce=(ne.path||"").split("/"),qe=Z,Re=1,nt=Ce.length,Ge=void 0,at=void 0,Ke=void 0;for(Ke="function"==typeof fe?fe:$;;){if((at=Ce[Re])&&-1!=at.indexOf("~")&&(at=y(at)),oe&&("__proto__"==at||"prototype"==at&&Re>0&&"constructor"==Ce[Re-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(fe&&void 0===Ge&&(void 0===qe[at]?Ge=Ce.slice(0,Re).join("/"):Re==nt-1&&(Ge=ne.path),void 0!==Ge&&Ke(ne,0,Z,Ge)),Re++,Array.isArray(qe)){if("-"===at)at=qe.length;else{if(fe&&!v(at))throw new h("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",J,ne,Z);v(at)&&(at=~~at)}if(Re>=nt){if(fe&&"add"===ne.op&&at>qe.length)throw new h("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",J,ne,Z);if(!1===(ve=L[ne.op].call(ne,qe,at,Z)).test)throw new h("Test operation failed","TEST_OPERATION_FAILED",J,ne,Z);return ve}}else if(Re>=nt){if(!1===(ve=O[ne.op].call(ne,qe,at,Z)).test)throw new h("Test operation failed","TEST_OPERATION_FAILED",J,ne,Z);return ve}if(qe=qe[at],fe&&Re<nt&&(!qe||"object"!=typeof qe))throw new h("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",J,ne,Z)}}function N(Z,ne,fe,ae,oe){if(void 0===ae&&(ae=!0),void 0===oe&&(oe=!0),fe&&!Array.isArray(ne))throw new h("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");ae||(Z=f(Z));for(var J=new Array(ne.length),ve=0,_e=ne.length;ve<_e;ve++)J[ve]=x(Z,ne[ve],fe,!0,oe,ve),Z=J[ve].newDocument;return J.newDocument=Z,J}function j(Z,ne,fe){var ae=x(Z,ne);if(!1===ae.test)throw new h("Test operation failed","TEST_OPERATION_FAILED",fe,ne,Z);return ae.newDocument}function $(Z,ne,fe,ae){if("object"!=typeof Z||null===Z||Array.isArray(Z))throw new h("Operation is not an object","OPERATION_NOT_AN_OBJECT",ne,Z,fe);if(!O[Z.op])throw new h("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",ne,Z,fe);if("string"!=typeof Z.path)throw new h("Operation `path` property is not a string","OPERATION_PATH_INVALID",ne,Z,fe);if(0!==Z.path.indexOf("/")&&Z.path.length>0)throw new h('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ne,Z,fe);if(("move"===Z.op||"copy"===Z.op)&&"string"!=typeof Z.from)throw new h("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ne,Z,fe);if(("add"===Z.op||"replace"===Z.op||"test"===Z.op)&&void 0===Z.value)throw new h("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",ne,Z,fe);if(("add"===Z.op||"replace"===Z.op||"test"===Z.op)&&P(Z.value))throw new h("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",ne,Z,fe);if(fe)if("add"==Z.op){var oe=Z.path.split("/").length,J=ae.split("/").length;if(oe!==J+1&&oe!==J)throw new h("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",ne,Z,fe)}else if("replace"===Z.op||"remove"===Z.op||"_get"===Z.op){if(Z.path!==ae)throw new h("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ne,Z,fe)}else if("move"===Z.op||"copy"===Z.op){var _e=k([{op:"_get",path:Z.from,value:void 0}],fe);if(_e&&"OPERATION_PATH_UNRESOLVABLE"===_e.name)throw new h("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ne,Z,fe)}}function k(Z,ne,fe){try{if(!Array.isArray(Z))throw new h("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ne)N(f(ne),f(Z),fe||!0);else{fe=fe||$;for(var ae=0;ae<Z.length;ae++)fe(Z[ae],ae,ne,void 0)}}catch(oe){if(oe instanceof h)return oe;throw oe}}function K(Z,ne){if(Z===ne)return!0;if(Z&&ne&&"object"==typeof Z&&"object"==typeof ne){var oe,J,ve,fe=Array.isArray(Z),ae=Array.isArray(ne);if(fe&&ae){if((J=Z.length)!=ne.length)return!1;for(oe=J;0!=oe--;)if(!K(Z[oe],ne[oe]))return!1;return!0}if(fe!=ae)return!1;var _e=Object.keys(Z);if((J=_e.length)!==Object.keys(ne).length)return!1;for(oe=J;0!=oe--;)if(!ne.hasOwnProperty(_e[oe]))return!1;for(oe=J;0!=oe--;)if(!K(Z[ve=_e[oe]],ne[ve]))return!1;return!0}return Z!=Z&&ne!=ne}var z=new WeakMap,V=function(){return function Z(ne){this.observers=new Map,this.obj=ne}}(),G=function(){return function Z(ne,fe){this.callback=ne,this.observer=fe}}();function ie(Z,ne){ne.unobserve()}function te(Z,ne){var ae,oe=function X(Z){return z.get(Z)}(Z);if(oe){var J=function Q(Z,ne){return Z.observers.get(ne)}(oe,ne);ae=J&&J.observer}else oe=new V(Z),z.set(Z,oe);if(ae)return ae;if(ae={},oe.value=f(Z),ne){ae.callback=ne,ae.next=null;var ve=function(){he(ae)},_e=function(){clearTimeout(ae.next),ae.next=setTimeout(ve)};typeof window<"u"&&(window.addEventListener("mouseup",_e),window.addEventListener("keyup",_e),window.addEventListener("mousedown",_e),window.addEventListener("keydown",_e),window.addEventListener("change",_e))}return ae.patches=[],ae.object=Z,ae.unobserve=function(){he(ae),clearTimeout(ae.next),function ee(Z,ne){Z.observers.delete(ne.callback)}(oe,ae),typeof window<"u"&&(window.removeEventListener("mouseup",_e),window.removeEventListener("keyup",_e),window.removeEventListener("mousedown",_e),window.removeEventListener("keydown",_e),window.removeEventListener("change",_e))},oe.observers.set(ne,new G(ne,ae)),ae}function he(Z,ne){void 0===ne&&(ne=!1);var fe=z.get(Z.object);ye(fe.value,Z.object,Z.patches,"",ne),Z.patches.length&&N(fe.value,Z.patches);var ae=Z.patches;return ae.length>0&&(Z.patches=[],Z.callback&&Z.callback(ae)),ae}function ye(Z,ne,fe,ae,oe){if(ne!==Z){"function"==typeof ne.toJSON&&(ne=ne.toJSON());for(var J=m(ne),ve=m(Z),Ce=!1,qe=ve.length-1;qe>=0;qe--){var nt=Z[Re=ve[qe]];if(!p(ne,Re)||void 0===ne[Re]&&void 0!==nt&&!1===Array.isArray(ne))Array.isArray(Z)===Array.isArray(ne)?(oe&&fe.push({op:"test",path:ae+"/"+E(Re),value:f(nt)}),fe.push({op:"remove",path:ae+"/"+E(Re)}),Ce=!0):(oe&&fe.push({op:"test",path:ae,value:Z}),fe.push({op:"replace",path:ae,value:ne}));else{var Ge=ne[Re];"object"==typeof nt&&null!=nt&&"object"==typeof Ge&&null!=Ge&&Array.isArray(nt)===Array.isArray(Ge)?ye(nt,Ge,fe,ae+"/"+E(Re),oe):nt!==Ge&&(oe&&fe.push({op:"test",path:ae+"/"+E(Re),value:f(nt)}),fe.push({op:"replace",path:ae+"/"+E(Re),value:f(Ge)}))}}if(Ce||J.length!=ve.length)for(qe=0;qe<J.length;qe++){var Re;!p(Z,Re=J[qe])&&void 0!==ne[Re]&&fe.push({op:"add",path:ae+"/"+E(Re),value:f(ne[Re])})}}}function re(Z,ne,fe){void 0===fe&&(fe=!1);var ae=[];return ye(Z,ne,ae,"",fe),ae}Object.assign({},i,t,{JsonPatchError:I,deepClone:f,escapePathComponent:E,unescapePathComponent:y})},27200:(B,C,n)=>{"use strict";n.d(C,{Ff:()=>v,UJ:()=>E,eB:()=>y,l0:()=>f});var i=n(54438),t=n(60177);class c{constructor(b){this.rawFile=b;const P=b instanceof HTMLInputElement?b.value:b;this["_createFrom"+("string"==typeof P?"FakePath":"Object")](P)}_createFromFakePath(b){this.lastModifiedDate=void 0,this.size=void 0,this.type=`like/${b.slice(b.lastIndexOf(".")+1).toLowerCase()}`,this.name=b.slice(b.lastIndexOf("/")+b.lastIndexOf("\\")+2)}_createFromObject(b){this.size=b.size,this.type=b.type,this.name=b.name}}class e{constructor(b,P,D){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.uploader=b,this.some=P,this.options=D,this.file=new c(P),this._file=P,b.options&&(this.method=b.options.method||"POST",this.alias=b.options.itemAlias||"file"),this.url=b.options.url}upload(){try{this.uploader.uploadItem(this)}catch{this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(b){return{form:b}}onProgress(b){return{progress:b}}onSuccess(b,P,D){return{response:b,status:P,headers:D}}onError(b,P,D){return{response:b,status:P,headers:D}}onCancel(b,P,D){return{response:b,status:P,headers:D}}onComplete(b,P,D){return{response:b,status:P,headers:D}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(b){this.onBuildForm(b)}_onProgress(b){this.progress=b,this.onProgress(b)}_onSuccess(b,P,D){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(b,P,D)}_onError(b,P,D){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(b,P,D)}_onCancel(b,P,D){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(b,P,D)}_onComplete(b,P,D){this.onComplete(b,P,D),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let p=(()=>{class M{static{this.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"]}static{this.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"]}static{this.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"]}static{this.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"]}static{this.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"]}static getMimeClass(P){let D="application";return P?.type&&-1!==this.mime_psd.indexOf(P.type)||P?.type?.match("image.*")?D="image":P?.type?.match("video.*")?D="video":P?.type?.match("audio.*")?D="audio":"application/pdf"===P?.type?D="pdf":P?.type&&-1!==this.mime_compress.indexOf(P.type)?D="compress":P?.type&&-1!==this.mime_doc.indexOf(P.type)?D="doc":P?.type&&-1!==this.mime_xsl.indexOf(P.type)?D="xls":P?.type&&-1!==this.mime_ppt.indexOf(P.type)&&(D="ppt"),"application"===D&&P?.name&&(D=this.fileTypeDetection(P.name)),D}static fileTypeDetection(P){const D={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},I=P.split(".");if(I.length<2)return"application";const h=I[I.length-1].toLowerCase();return void 0===D[h]?"application":D[h]}}return M})();class f{constructor(b){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:P=>P._file,formatDataFunctionIsAsync:!1,url:""},this.setOptions(b),this.response=new i.bkB}setOptions(b){this.options=Object.assign(this.options,b),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters?.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters?.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters?.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters?.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let P=0;P<this.queue.length;P++)this.queue[P].url=this.options.url}addToQueue(b,P,D){let I=P;const h=[];for(const T of b)h.push(T);const S=this._getFilters(D),O=this.queue.length,L=[];h.map(T=>{I||(I=this.options);const x=new c(T);if(this._isValidFile(x,S,I)){const N=new e(this,T,I);L.push(N),this.queue.push(N),this._onAfterAddingFile(N)}else"number"==typeof this._failFilterIndex&&this._failFilterIndex>=0&&this._onWhenAddingFileFailed(x,S[this._failFilterIndex],I)}),this.queue.length!==O&&(this._onAfterAddingAll(L),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(b){const P=this.getIndexOfItem(b),D=this.queue[P];D.isUploading&&D.cancel(),this.queue.splice(P,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(b){const P=this.getIndexOfItem(b),D=this.queue[P],I=this.options.isHTML5?"_xhrTransport":"_iframeTransport";D._prepareToUploading(),!this.isUploading&&(this.isUploading=!0,this[I](D))}cancelItem(b){const P=this.getIndexOfItem(b),D=this.queue[P];D&&D.isUploading&&(this.options.isHTML5?D._xhr:D._form).abort()}uploadAll(){const b=this.getNotUploadedItems().filter(P=>!P.isUploading);b.length&&(b.map(P=>P._prepareToUploading()),b[0].upload())}cancelAll(){this.getNotUploadedItems().map(P=>P.cancel())}isFile(b){return function m(M){return File&&M instanceof File}(b)}isFileLikeObject(b){return b instanceof c}getIndexOfItem(b){return"number"==typeof b?b:this.queue.indexOf(b)}getNotUploadedItems(){return this.queue.filter(b=>!b.isUploaded)}getReadyItems(){return this.queue.filter(b=>b.isReady&&!b.isUploading).sort((b,P)=>b.index-P.index)}onAfterAddingAll(b){return{fileItems:b}}onBuildItemForm(b,P){return{fileItem:b,form:P}}onAfterAddingFile(b){return{fileItem:b}}onWhenAddingFileFailed(b,P,D){return{item:b,filter:P,options:D}}onBeforeUploadItem(b){return{fileItem:b}}onProgressItem(b,P){return{fileItem:b,progress:P}}onProgressAll(b){return{progress:b}}onSuccessItem(b,P,D,I){return{item:b,response:P,status:D,headers:I}}onErrorItem(b,P,D,I){return{item:b,response:P,status:D,headers:I}}onCancelItem(b,P,D,I){return{item:b,response:P,status:D,headers:I}}onCompleteItem(b,P,D,I){return{item:b,response:P,status:D,headers:I}}onCompleteAll(){}_mimeTypeFilter(b){return!(b?.type&&this.options.allowedMimeType&&-1===this.options.allowedMimeType?.indexOf(b.type))}_fileSizeFilter(b){return!(this.options.maxFileSize&&b.size>this.options.maxFileSize)}_fileTypeFilter(b){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(p.getMimeClass(b)))}_onErrorItem(b,P,D,I){b._onError(P,D,I),this.onErrorItem(b,P,D,I)}_onCompleteItem(b,P,D,I){b._onComplete(P,D,I),this.onCompleteItem(b,P,D,I);const h=this.getReadyItems()[0];this.isUploading=!1,h?h.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(b){return P=>P?b[P.toLowerCase()]||void 0:b}_xhrTransport(b){const P=this,D=b._xhr=new XMLHttpRequest;let I;if(this._onBeforeUploadItem(b),"number"!=typeof b._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)this.options.formatDataFunction&&(I=this.options.formatDataFunction(b));else{I=new FormData,this._onBuildItemForm(b,I);const h=()=>I.append(b.alias,b._file,b.file.name);this.options.parametersBeforeFiles||h(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(S=>{let O=this.options.additionalParameter?.[S];"string"==typeof O&&O.indexOf("{{file_name}}")>=0&&b.file?.name&&(O=O.replace("{{file_name}}",b.file.name)),I.append(S,O)}),h&&this.options.parametersBeforeFiles&&h()}if(D.upload.onprogress=h=>{const S=Math.round(h.lengthComputable?100*h.loaded/h.total:0);this._onProgressItem(b,S)},D.onload=()=>{const h=this._parseHeaders(D.getAllResponseHeaders()),S=this._transformResponse(D.response);this[`_on${this._isSuccessCode(D.status)?"Success":"Error"}Item`](b,S,D.status,h),this._onCompleteItem(b,S,D.status,h)},D.onerror=()=>{const h=this._parseHeaders(D.getAllResponseHeaders()),S=this._transformResponse(D.response);this._onErrorItem(b,S,D.status,h),this._onCompleteItem(b,S,D.status,h)},D.onabort=()=>{const h=this._parseHeaders(D.getAllResponseHeaders()),S=this._transformResponse(D.response);this._onCancelItem(b,S,D.status,h),this._onCompleteItem(b,S,D.status,h)},b.method&&b.url&&D.open(b.method,b.url,!0),D.withCredentials=b.withCredentials,this.options.headers)for(const h of this.options.headers)D.setRequestHeader(h.name,h.value);if(b.headers.length)for(const h of b.headers)D.setRequestHeader(h.name,h.value);this.authToken&&this.authTokenHeader&&D.setRequestHeader(this.authTokenHeader,this.authToken),D.onreadystatechange=function(){D.readyState==XMLHttpRequest.DONE&&P.response.emit(D.responseText)},this.options.formatDataFunctionIsAsync?I.then(h=>D.send(JSON.stringify(h))):D.send(I),this._render()}_getTotalProgress(b=0){if(this.options.removeAfterUpload)return b;const P=this.getNotUploadedItems().length,I=100/this.queue.length;return Math.round((P?this.queue.length-P:this.queue.length)*I+b*I/100)}_getFilters(b){if(!b)return this.options?.filters||[];if(Array.isArray(b))return b;if("string"==typeof b){const P=b.match(/[^\s,]+/g);return this.options?.filters||[].filter(D=>-1!==P?.indexOf(D.name))}return this.options?.filters||[]}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(b,P,D){return this._failFilterIndex=-1,!P.length||P.every(I=>("number"==typeof this._failFilterIndex&&this._failFilterIndex++,I.fn.call(this,b,D)))}_isSuccessCode(b){return b>=200&&b<300||304===b}_transformResponse(b){return b}_parseHeaders(b){const P={};let D,I,h;return b&&b.split("\n").map(S=>{h=S.indexOf(":"),D=S.slice(0,h).trim().toLowerCase(),I=S.slice(h+1).trim(),D&&(P[D]=P[D]?P[D]+", "+I:I)}),P}_onWhenAddingFileFailed(b,P,D){this.onWhenAddingFileFailed(b,P,D)}_onAfterAddingFile(b){this.onAfterAddingFile(b)}_onAfterAddingAll(b){this.onAfterAddingAll(b)}_onBeforeUploadItem(b){b._onBeforeUpload(),this.onBeforeUploadItem(b)}_onBuildItemForm(b,P){b._onBuildForm(P),this.onBuildItemForm(b,P)}_onProgressItem(b,P){const D=this._getTotalProgress(P);this.progress=D,b._onProgress(P),this.onProgressItem(b,P),this.onProgressAll(D),this._render()}_onSuccessItem(b,P,D,I){b._onSuccess(P,D,I),this.onSuccessItem(b,P,D,I)}_onCancelItem(b,P,D,I){b._onCancel(P,D,I),this.onCancelItem(b,P,D,I)}}let v=(()=>{class M{constructor(P){this.fileOver=new i.bkB,this.onFileDrop=new i.bkB,this.element=P}getOptions(){return this.uploader?.options}getFilters(){return""}onDrop(P){const D=this._getTransfer(P);if(!D)return;const I=this.getOptions(),h=this.getFilters();this._preventAndStop(P),I&&this.uploader?.addToQueue(D.files,I,h),this.fileOver.emit(!1),this.onFileDrop.emit(D.files)}onDragOver(P){const D=this._getTransfer(P);this._haveFiles(D.types)&&(D.dropEffect="copy",this._preventAndStop(P),this.fileOver.emit(!0))}onDragLeave(P){this.element&&P.currentTarget===this.element[0]||(this._preventAndStop(P),this.fileOver.emit(!1))}_getTransfer(P){return P.dataTransfer?P.dataTransfer:P.originalEvent.dataTransfer}_preventAndStop(P){P.preventDefault(),P.stopPropagation()}_haveFiles(P){return!!P&&(P.indexOf?-1!==P.indexOf("Files"):!!P.contains&&P.contains("Files"))}static{this.\u0275fac=function(D){return new(D||M)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:M,selectors:[["","ng2FileDrop",""]],hostBindings:function(D,I){1&D&&i.bIt("drop",function(S){return I.onDrop(S)})("dragover",function(S){return I.onDragOver(S)})("dragleave",function(S){return I.onDragLeave(S)})},inputs:{uploader:"uploader"},outputs:{fileOver:"fileOver",onFileDrop:"onFileDrop"}})}}return M})(),E=(()=>{class M{constructor(P){this.onFileSelected=new i.bkB,this.element=P}getOptions(){return this.uploader?.options}getFilters(){return""}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){const P=this.element.nativeElement.files,D=this.getOptions(),I=this.getFilters();this.uploader?.addToQueue(P,D,I),this.onFileSelected.emit(P),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}static{this.\u0275fac=function(D){return new(D||M)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:M,selectors:[["","ng2FileSelect",""]],hostBindings:function(D,I){1&D&&i.bIt("change",function(){return I.onChange()})},inputs:{uploader:"uploader"},outputs:{onFileSelected:"onFileSelected"}})}}return M})(),y=(()=>{class M{static{this.\u0275fac=function(D){return new(D||M)}}static{this.\u0275mod=i.$C({type:M})}static{this.\u0275inj=i.G2t({imports:[t.MD]})}}return M})()},86820:(B,C,n)=>{"use strict";n.d(C,{D:()=>nt,e:()=>at});var i=n(54438),t=n(7673),c=n(33726),e=n(73028),p=n(96354),m=n(88141),f=n(5964),v=n(43236),E=n(39974),y=n(54360),M=n(58750),P=n(41584);function I(Ke,Te,pt,He){const Bt=window&&!!window.document&&window.document.documentElement;let it=Bt&&Te?window:pt;if(Ke&&(it=Ke&&Bt&&"string"==typeof Ke?function h(Ke,Te,pt){return(pt?window.document:Te).querySelector(Ke)}(Ke,pt.nativeElement,He):Ke,!it))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return it}function S(Ke){return Ke&&!Ke.firstChange}const L={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},T={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class x{constructor(Te=!0){this.vertical=Te,this.propsMap=Te?L:T}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function k(Ke){return["Window","global"].some(pt=>Object.prototype.toString.call(Ke).includes(pt))}function K(Ke,Te){return Ke?Te.document.documentElement:null}function z(Ke,Te){const pt=function Q({container:Ke,isWindow:Te,axis:pt}){const{offsetHeightKey:He,clientHeightKey:Bt}=X(pt);return ee(Ke,Te,He,Bt)}(Te);return Te.isWindow?function V(Ke,Te,pt){const{axis:He,container:Bt,isWindow:it}=pt,{offsetHeightKey:Tt,clientHeightKey:Ee}=X(He),je=Ke+te(K(it,Bt),He,it),ft=ee(Te.nativeElement,it,Tt,Ee),vn=function ie(Ke,Te,pt){const He=Te.topKey();if(Ke.getBoundingClientRect)return Ke.getBoundingClientRect()[He]+te(Ke,Te,pt)}(Te.nativeElement,He,it)+ft;return{height:Ke,scrolled:je,totalToScroll:vn,isWindow:it}}(pt,Ke,Te):function G(Ke,Te,pt){const{axis:He,container:Bt}=pt;return{height:Ke,scrolled:Bt[He.scrollTopKey()],totalToScroll:Bt[He.scrollHeightKey()],isWindow:!1}}(pt,0,Te)}function X(Ke){return{offsetHeightKey:Ke.offsetHeightKey(),clientHeightKey:Ke.clientHeightKey()}}function ee(Ke,Te,pt,He){if(isNaN(Ke[pt])){const Bt=K(Te,Ke);return Bt?Bt[He]:0}return Ke[pt]}function te(Ke,Te,pt){const He=Te.pageYOffsetKey(),Bt=Te.scrollTopKey(),it=Te.offsetTopKey();return isNaN(window.pageYOffset)?K(pt,Ke)[Bt]:Ke.ownerDocument?Ke.ownerDocument.defaultView[He]:Ke[it]}function he(Ke,Te={down:0,up:0},pt){let He,Bt;if(Ke.totalToScroll<=0)return!1;const it=Ke.isWindow?Ke.scrolled:Ke.height+Ke.scrolled;return pt?(He=(Ke.totalToScroll-it)/Ke.totalToScroll,Bt=(Te?.down?Te.down:0)/10):(He=Ke.scrolled/(Ke.scrolled+(Ke.totalToScroll-it)),Bt=(Te?.up?Te.up:0)/10),He<=Bt}class J{constructor(Te){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},Object.assign(this,Te)}updateScrollPosition(Te){return this.lastScrollPosition=Te}updateTotalToScroll(Te){this.lastTotalToScroll!==Te&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=Te)}updateScroll(Te,pt){this.updateScrollPosition(Te),this.updateTotalToScroll(pt)}updateTriggeredFlag(Te,pt){pt?this.triggered.down=Te:this.triggered.up=Te}isTriggeredScroll(Te,pt){return pt?this.triggered.down===Te:this.triggered.up===Te}}function ve(Ke){const{scrollContainer:Te,scrollWindow:pt,element:He,fromRoot:Bt}=Ke,it=function j({windowElement:Ke,axis:Te}){return function $(Ke,Te){const pt=Ke.isWindow||Te&&!Te.nativeElement?Te:Te.nativeElement;return{...Ke,container:pt}}({axis:Te,isWindow:k(Ke)},Ke)}({axis:new x(!Ke.horizontal),windowElement:I(Te,pt,He,Bt)}),Tt=new J({totalToScroll:z(He,it).totalToScroll}),je={up:Ke.upDistance,down:Ke.downDistance};return function _e(Ke){let Te=(0,c.R)(Ke.container,"scroll");return Ke.throttle&&(Te=Te.pipe(function D(Ke,Te=v.E,pt){const He=(0,P.O)(Ke,Te);return function b(Ke,Te){return(0,E.N)((pt,He)=>{const{leading:Bt=!0,trailing:it=!1}=Te??{};let Tt=!1,Ee=null,je=null,ft=!1;const vn=()=>{je?.unsubscribe(),je=null,it&&(Ct(),ft&&He.complete())},hn=()=>{je=null,ft&&He.complete()},Un=Ot=>je=(0,M.Tg)(Ke(Ot)).subscribe((0,y._)(He,vn,hn)),Ct=()=>{if(Tt){Tt=!1;const Ot=Ee;Ee=null,He.next(Ot),!ft&&Un(Ot)}};pt.subscribe((0,y._)(He,Ot=>{Tt=!0,Ee=Ot,(!je||je.closed)&&(Bt?Ct():Un(Ot))},()=>{ft=!0,(!(it&&Tt&&je)||je.closed)&&He.complete()}))})}(()=>He,pt)}(Ke.throttle,void 0,{leading:!0,trailing:!0}))),Te}({container:it.container,throttle:Ke.throttle}).pipe((0,e.Z)(()=>(0,t.of)(z(He,it))),(0,p.T)(ft=>function Ce(Ke,Te,pt){const{scrollDown:He,fire:Bt}=function re(Ke,Te,pt){const He=function ye(Ke,Te){return Ke<Te.scrolled}(Ke,Te);return{fire:he(Te,pt,He),scrollDown:He}}(Ke,Te,pt);return{scrollDown:He,fire:Bt,stats:Te}}(Tt.lastScrollPosition,ft,je)),(0,m.M)(({stats:ft})=>Tt.updateScroll(ft.scrolled,ft.totalToScroll)),(0,f.p)(({fire:ft,scrollDown:vn,stats:{totalToScroll:hn}})=>function N(Ke,Te,pt){return!!(Ke&&Te||!pt&&Te)}(Ke.alwaysCallback,ft,Tt.isTriggeredScroll(hn,vn))),(0,m.M)(({scrollDown:ft,stats:{totalToScroll:vn}})=>{Tt.updateTriggeredFlag(vn,ft)}),(0,p.T)(Re))}const qe={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function Re(Ke){const{scrollDown:Te,stats:{scrolled:pt}}=Ke;return{type:Te?qe.DOWN:qe.UP,payload:{currentScrollPosition:pt}}}let nt=(()=>{class Ke{constructor(pt,He){this.element=pt,this.zone=He,this.scrolled=new i.bkB,this.scrolledUp=new i.bkB,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:pt,infiniteScrollDisabled:He,infiniteScrollDistance:Bt}){const it=S(pt),Tt=S(He),Ee=S(Bt),je=!Tt&&!this.infiniteScrollDisabled||Tt&&!He.currentValue||Ee;(it||Tt||Ee)&&(this.destroyScroller(),je&&this.setup())}ngOnDestroy(){this.destroyScroller()}setup(){(function O(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=ve({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(pt=>this.handleOnScroll(pt))})}handleOnScroll({type:pt,payload:He}){const Bt=pt===qe.DOWN?this.scrolled:this.scrolledUp;(function Ge(Ke){return Ke.observed??Ke.observers.length>0})(Bt)&&this.zone.run(()=>Bt.emit(He))}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}static{this.\u0275fac=function(He){return new(He||Ke)(i.rXU(i.aKT),i.rXU(i.SKi))}}static{this.\u0275dir=i.FsC({type:Ke,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},standalone:!0,features:[i.OA$]})}}return Ke})(),at=(()=>{class Ke{static{this.\u0275fac=function(He){return new(He||Ke)}}static{this.\u0275mod=i.$C({type:Ke})}static{this.\u0275inj=i.G2t({})}}return Ke})()},85188:(B,C,n)=>{"use strict";n.d(C,{Dz:()=>v,I0:()=>P,mB:()=>h});var i=n(74523),t=n(54438),c=n(89417),e=n(60177);const p=new t.nKC("ngx-mask config"),m=new t.nKC("new ngx-mask config"),f=new t.nKC("initial ngx-mask config"),v={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new t.bkB,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},E=["Hh:m0:s0","Hh:m0","m0:s0"],y=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let M=(()=>{class O{constructor(T){this._config=T,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(x,N,j,$)=>{let k=[],K="";if(Array.isArray(j)){const Q=new RegExp(j.map(ee=>"[\\^$.|?*+()".indexOf(ee)>=0?`\\${ee}`:ee).join("|"));k=x.split(Q),K=x.match(Q)?.[0]??""}else k=x.split(j),K=j;const z=k.length>1?`${K}${k[1]}`:"";let V=k[0]??"";const G=this.separatorLimit.replace(/\s/g,"");G&&+G&&(V="-"===V[0]?`-${V.slice(1,V.length).slice(0,G.length)}`:V.slice(0,G.length));const X=/(\d+)(\d{3})/;for(;N&&X.test(V);)V=V.replace(X,"$1"+N+"$2");return void 0===$?V+z:0===$?V:V+z.substring(0,$+1)},this.percentage=x=>Number(x)>=0&&Number(x)<=100,this.getPrecision=x=>{const N=x.split(".");return N.length>1?Number(N[N.length-1]):1/0},this.checkAndRemoveSuffix=x=>{for(let N=this.suffix?.length-1;N>=0;N--){const j=this.suffix.substring(N,this.suffix?.length);if(x.includes(j)&&N!==this.suffix?.length-1&&(N-1<0||!x.includes(this.suffix.substring(N-1,this.suffix?.length))))return x.replace(j,"")}return x},this.checkInputPrecision=(x,N,j)=>{if(N<1/0){if(Array.isArray(j)){const z=j.find(V=>V!==this.thousandSeparator);j=z||j[0]}const $=new RegExp(this._charToRegExpExpression(j)+`\\d{${N}}.*$`),K=(x.match($)??[])[0]?.length??0;K-1>N&&(x=x.substring(0,x.length-(K-1-N))),0===N&&this._compareOrIncludes(x[x.length-1],j,this.thousandSeparator)&&(x=x.substring(0,x.length-1))}return x},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(T,x){const[N,j]=x;return this.customPattern=j,this.applyMask(T,N)}applyMask(T,x,N=0,j=!1,$=!1,k=()=>{}){if(!x||"string"!=typeof T)return"";let K=0,z="",V=!1,G=!1,X=1,Q=!1;T.slice(0,this.prefix.length)===this.prefix&&(T=T.slice(this.prefix.length,T.length)),this.suffix&&T?.length>0&&(T=this.checkAndRemoveSuffix(T));const ee=T.toString().split("");if("IP"===x){const ce=T.split(".");this.ipError=this._validIP(ce),x="099.099.099.099"}const ie=[];for(let ce=0;ce<T.length;ce++)T[ce]?.match("\\d")&&ie.push(T[ce]??"");if("CPF_CNPJ"===x&&(this.cpfCnpjError=11!==ie.length&&14!==ie.length,x=ie.length>11?"00.000.000/0000-00":"000.000.000-00"),x.startsWith("percent")){if(T.match("[a-z]|[A-Z]")||T.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){T=this._stripToDecimal(T);const ce=this.getPrecision(x);T=this.checkInputPrecision(T,ce,this.decimalMarker)}T.indexOf(".")>0&&!this.percentage(T.substring(0,T.indexOf(".")))&&(T=`${T.substring(0,T.indexOf(".")-1)}${T.substring(T.indexOf("."),T.length)}`),z=this.percentage(T)?T:T.substring(0,T.length-1)}else if(x.startsWith("separator")){(T.match("[w\u0430-\u044f\u0410-\u042f]")||T.match("[\u0401\u0451\u0410-\u044f]")||T.match("[a-z]|[A-Z]")||T.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\]:";<>.?/]/)||T.match("[^A-Za-z0-9,]"))&&(T=this._stripToDecimal(T)),T=T.length>1&&"0"===T[0]&&T[1]!==this.thousandSeparator&&!this._compareOrIncludes(T[1],this.decimalMarker,this.thousandSeparator)&&!$?T.slice(0,T.length-1):T,$&&(T=this._compareOrIncludes(T[T.length-1],this.decimalMarker,this.thousandSeparator)?T.slice(0,T.length-1):T);const ce=this._charToRegExpExpression(this.thousandSeparator);let Z='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(ce,"");if(Array.isArray(this.decimalMarker))for(const ve of this.decimalMarker)Z=Z.replace(this._charToRegExpExpression(ve),"");else Z=Z.replace(this._charToRegExpExpression(this.decimalMarker),"");const ne=new RegExp("["+Z+"]");(T.match(ne)||1===T.length&&this._compareOrIncludes(T,this.decimalMarker,this.thousandSeparator))&&(T=T.substring(0,T.length-1));const fe=this.getPrecision(x),ae=(T=this.checkInputPrecision(T,fe,this.decimalMarker)).replace(new RegExp(ce,"g"),"");z=this._formatWithSeparators(ae,this.thousandSeparator,this.decimalMarker,fe);const oe=z.indexOf(",")-T.indexOf(","),J=z.length-T.length;if(J>0&&","!==z[N]){G=!0;let ve=0;do{this._shift.add(N+ve),ve++}while(ve<J)}else 0!==oe&&N>0&&!(z.indexOf(",")>=N&&N>3)||!(z.indexOf(".")>=N&&N>3)&&J<=0?(this._shift.clear(),G=!0,X=J,this._shift.add(N+=J)):this._shift.clear()}else for(let ce=0,Z=ee[0];ce<ee.length&&K!==x.length;ce++,Z=ee[ce]??"")if(this._checkSymbolMask(Z,x[K]??"")&&"?"===x[K+1])z+=Z,K+=2;else if("*"===x[K+1]&&V&&this._checkSymbolMask(Z,x[K+2]??""))z+=Z,K+=3,V=!1;else if(this._checkSymbolMask(Z,x[K]??"")&&"*"===x[K+1])z+=Z,V=!0;else if("?"===x[K+1]&&this._checkSymbolMask(Z,x[K+2]??""))z+=Z,K+=3;else if(this._checkSymbolMask(Z,x[K]??"")){if("H"===x[K]&&Number(Z)>2){K+=1,this._shiftStep(x,K,ee.length),ce--,this.leadZeroDateTime&&(z+="0");continue}if("h"===x[K]&&"2"===z&&Number(Z)>3){K+=1,ce--;continue}if("m"===x[K]&&Number(Z)>5){K+=1,this._shiftStep(x,K,ee.length),ce--,this.leadZeroDateTime&&(z+="0");continue}if("s"===x[K]&&Number(Z)>5){K+=1,this._shiftStep(x,K,ee.length),ce--,this.leadZeroDateTime&&(z+="0");continue}const ne=31;if("d"===x[K]&&(Number(Z)>3&&this.leadZeroDateTime||Number(T.slice(K,K+2))>ne||"/"===T[K+1])){K+=1,this._shiftStep(x,K,ee.length),ce--,this.leadZeroDateTime&&(z+="0");continue}if("M"===x[K]){const ae=0===K&&(Number(Z)>2||Number(T.slice(K,K+2))>12||"/"===T[K+1]),oe=T.slice(K-3,K-1).includes("/")&&("/"===T[K-2]&&Number(T.slice(K-1,K+1))>12&&"/"!==T[K]||"/"===T[K]||"/"===T[K-3]&&Number(T.slice(K-2,K))>12&&"/"!==T[K-1]||"/"===T[K-1]),J=Number(T.slice(K-3,K-1))<=ne&&!T.slice(K-3,K-1).includes("/")&&"/"===T[K-1]&&(Number(T.slice(K,K+2))>12||"/"===T[K+1]),ve=Number(T.slice(K-3,K-1))>ne&&!T.slice(K-3,K-1).includes("/")&&!T.slice(K-2,K).includes("/")&&Number(T.slice(K-2,K))>12,_e=Number(T.slice(K-3,K-1))<=ne&&!T.slice(K-3,K-1).includes("/")&&"/"!==T[K-1]&&Number(T.slice(K-1,K+1))>12;if(Number(Z)>1&&this.leadZeroDateTime||ae||oe||J||ve||_e){K+=1,this._shiftStep(x,K,ee.length),ce--,this.leadZeroDateTime&&(z+="0");continue}}z+=Z,K++}else" "===Z&&" "===x[K]?(z+=Z,K++):-1!==this.maskSpecialCharacters.indexOf(x[K]??"")?(z+=x[K],K++,this._shiftStep(x,K,ee.length),ce--):this.maskSpecialCharacters.indexOf(Z)>-1&&this.maskAvailablePatterns[x[K]??""]&&this.maskAvailablePatterns[x[K]??""]?.optional?(ee[K]&&"099.099.099.099"!==x&&"000.000.000-00"!==x&&"00.000.000/0000-00"!==x&&!x.match(/^9+\.0+$/)&&(z+=ee[K]),K++,ce--):"*"===this.maskExpression[K+1]&&this._findSpecialChar(this.maskExpression[K+2]??"")&&this._findSpecialChar(Z)===this.maskExpression[K+2]&&V||"?"===this.maskExpression[K+1]&&this._findSpecialChar(this.maskExpression[K+2]??"")&&this._findSpecialChar(Z)===this.maskExpression[K+2]&&V?(K+=3,z+=Z):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(Z)<0&&Z!==this.placeHolderCharacter&&(Q=!0);z.length+1===x.length&&-1!==this.maskSpecialCharacters.indexOf(x[x.length-1]??"")&&(z+=x[x.length-1]);let te=N+1;for(;this._shift.has(te);)X++,te++;let he=j&&!x.startsWith("separator")?K:this._shift.has(N)?X:0;Q&&he--,k(he,G),X<0&&this._shift.clear();let ye=!1;$&&(ye=ee.every(ce=>this.maskSpecialCharacters.includes(ce)));let re=`${this.prefix}${ye?"":z}${this.suffix}`;return 0===z.length&&(re=`${this.prefix}${z}`),re}_findSpecialChar(T){return this.maskSpecialCharacters.find(x=>x===T)}_checkSymbolMask(T,x){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,(this.maskAvailablePatterns[x]?.pattern&&this.maskAvailablePatterns[x]?.pattern.test(T))??!1}_stripToDecimal(T){return T.split("").filter((x,N)=>{const j="string"==typeof this.decimalMarker?x===this.decimalMarker:this.decimalMarker.includes(x);return x.match("^-?\\d")||x===this.thousandSeparator||j||"-"===x&&0===N&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(T){return T&&(" "===T?"\\s":"[\\^$.|?*+()".indexOf(T)>=0?`\\${T}`:T)}_shiftStep(T,x,N){const j=/[*?]/g.test(T.slice(0,x))?N:x;this._shift.add(j+this.prefix.length||0)}_compareOrIncludes(T,x,N){return Array.isArray(x)?x.filter(j=>j!==N).includes(T):T===x}_validIP(T){return!(4===T.length&&!T.some((x,N)=>T.length!==N+1?""===x||Number(x)>255:""===x||Number(x.substring(0,3))>255))}}return O.\u0275fac=function(T){return new(T||O)(t.KVO(p))},O.\u0275prov=t.jDH({token:O,factory:O.\u0275fac}),O})(),b=(()=>{class O extends M{constructor(T,x,N,j){super(x),this.document=T,this._config=x,this._elementRef=N,this._renderer=j,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=$=>{}}applyMask(T,x,N=0,j=!1,$=!1,k=()=>{}){if(!x)return T!==this.actualValue?this.actualValue:T;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(T||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(T||"#")),!T&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const K=T&&"number"==typeof this.selStart?T[this.selStart]??"":"";let z="";if(void 0!==this.hiddenInput&&!this.writingValue){let Q=this.actualValue.split("");""!==T&&Q.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(T.length>Q.length?Q.splice(this.selStart,0,K):T.length<Q.length&&(Q.length-T.length==1?Q.splice(this.selStart-1,1):Q.splice(this.selStart,this.selEnd-this.selStart))):Q=[],this.showMaskTyped&&(T=this.removeMask(T)),z=this.actualValue.length&&Q.length<=T.length?this.shiftTypedSymbols(Q.join("")):T}this.showMaskTyped&&(T=this.removeMask(T)),z=z&&z.length?z:T;const V=super.applyMask(z,x,N,j,$,k);if(this.actualValue=this.getActualValue(V),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(Q=>!this._compareOrIncludes(Q,this.decimalMarker,this.thousandSeparator))),this.formControlResult(V),!this.showMaskTyped)return this.hiddenInput&&V&&V.length?this.hideInput(V,this.maskExpression):V;const G=V.length,X=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const Q=this._numberSkipedSymbols(V);return V+X.slice(G+Q)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?V+X:V+X.slice(G)}_numberSkipedSymbols(T){const x=/(^|\D)(\d\D)/g;let N=x.exec(T),j=0;for(;null!=N;)j+=1,N=x.exec(T);return j}applyValueChanges(T,x,N,j=()=>{}){const $=this._elementRef.nativeElement;$.value=this.applyMask($.value,this.maskExpression,T,x,N,j),$!==this._getActiveElement()&&this.clearIfNotMatchFn()}hideInput(T,x){return T.split("").map((N,j)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[x[j]??""]&&this.maskAvailablePatterns[x[j]??""]?.symbol?this.maskAvailablePatterns[x[j]??""]?.symbol:N).join("")}getActualValue(T){const x=T.split("").filter((N,j)=>{const $=this.maskExpression[j]??"";return this._checkSymbolMask(N,$)||this.maskSpecialCharacters.includes($)&&N===$});return x.join("")===T?x.join(""):T}shiftTypedSymbols(T){let x="";return(T&&T.split("").map((j,$)=>{if(this.maskSpecialCharacters.includes(T[$+1]??"")&&T[$+1]!==this.maskExpression[$+1])return x=j,T[$+1];if(x.length){const k=x;return x="",k}return j})||[]).join("")}numberToString(T){return T||0===T?Number(T).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(T)}showMaskInInput(T){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(T){if("IP"===this.maskExpression)return this._checkForIp(T);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(T)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const T=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==T.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(T.value,this.maskExpression))}set formElementProperty([T,x]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,T,x))}checkSpecialCharAmount(T){return T.split("").filter(N=>this._findSpecialChar(N)).length}removeMask(T){return this._removeMask(this._removeSuffix(this._removePrefix(T)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(T){if("#"===T)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const x=[];for(let N=0;N<T.length;N++){const j=T[N]??"";j&&j.match("\\d")&&x.push(j)}return x.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:x.length>3&&x.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:x.length>6&&x.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(T){const x=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,N=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===T)return x;const j=[];for(let $=0;$<T.length;$++){const k=T[$]??"";k&&k.match("\\d")&&j.push(k)}return j.length<=3?x.slice(j.length,x.length):j.length>3&&j.length<=6?x.slice(j.length+1,x.length):j.length>6&&j.length<=9?x.slice(j.length+2,x.length):j.length>9&&j.length<11?x.slice(j.length+3,x.length):11===j.length?"":12===j.length?N.slice(17===T.length?16:15,N.length):j.length>12&&j.length<=14?N.slice(j.length+4,N.length):""}_getActiveElement(T=this.document){const x=T?.activeElement?.shadowRoot;return x?.activeElement?this._getActiveElement(x):T.activeElement}formControlResult(T){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(T)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(T)):this._removeSuffix(T))}_toNumber(T){if(!this.isNumberValue||""===T)return T;const x=Number(T);return Number.isNaN(x)?T:x}_removeMask(T,x){return T&&T.replace(this._regExpForRemove(x),"")}_removePrefix(T){return this.prefix?T&&T.replace(this.prefix,""):T}_removeSuffix(T){return this.suffix?T&&T.replace(this.suffix,""):T}_retrieveSeparatorValue(T){return this._removeMask(this._removeSuffix(this._removePrefix(T)),this.maskSpecialCharacters)}_regExpForRemove(T){return new RegExp(T.map(x=>`\\${x}`).join("|"),"gi")}_replaceDecimalMarkerToDot(T){const x=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return T.replace(this._regExpForRemove(x),".")}_checkSymbols(T){if(""===T)return T;const x=this._retrieveSeparatorPrecision(this.maskExpression),N=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(T));return this.isNumberValue?x?T===this.decimalMarker?null:this._checkPrecision(this.maskExpression,N):Number(N):N}_retrieveSeparatorPrecision(T){const x=T.match(new RegExp("^separator\\.([^d]*)"));return x?Number(x[1]):null}_checkPrecision(T,x){return T.indexOf("2")>0?Number(x).toFixed(2):Number(x)}}return O.\u0275fac=function(T){return new(T||O)(t.KVO(e.qQ),t.KVO(p),t.KVO(t.aKT),t.KVO(t.sFG))},O.\u0275prov=t.jDH({token:O,factory:O.\u0275fac}),O})(),P=(()=>{class O{constructor(T,x,N){this.document=T,this._maskService=x,this._config=N,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new t.bkB,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=j=>{},this.onTouch=()=>{}}ngOnChanges(T){const{maskExpression:x,specialCharacters:N,patterns:j,prefix:$,suffix:k,thousandSeparator:K,decimalMarker:z,dropSpecialCharacters:V,hiddenInput:G,showMaskTyped:X,placeHolderCharacter:Q,shownMaskExpression:ee,showTemplate:ie,clearIfNotMatch:te,validation:he,separatorLimit:ye,allowNegativeNumbers:re,leadZeroDateTime:ce,triggerOnMaskChange:Z}=T;if(x&&(x.currentValue!==x.previousValue&&!x.firstChange&&(this._maskService.maskChanged=!0),x.currentValue&&x.currentValue.split("||").length>1?(this._maskExpressionArray=x.currentValue.split("||").sort((ne,fe)=>ne.length-fe.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=x.currentValue||"",this._maskService.maskExpression=this._maskValue)),N){if(!N.currentValue||!Array.isArray(N.currentValue))return;this._maskService.maskSpecialCharacters=N.currentValue||[]}j&&j.currentValue&&(this._maskService.maskAvailablePatterns=j.currentValue),$&&(this._maskService.prefix=$.currentValue),k&&(this._maskService.suffix=k.currentValue),K&&(this._maskService.thousandSeparator=K.currentValue),z&&(this._maskService.decimalMarker=z.currentValue),V&&(this._maskService.dropSpecialCharacters=V.currentValue),G&&(this._maskService.hiddenInput=G.currentValue),X&&(this._maskService.showMaskTyped=X.currentValue),Q&&(this._maskService.placeHolderCharacter=Q.currentValue),ee&&(this._maskService.shownMaskExpression=ee.currentValue),ie&&(this._maskService.showTemplate=ie.currentValue),te&&(this._maskService.clearIfNotMatch=te.currentValue),he&&(this._maskService.validation=he.currentValue),ye&&(this._maskService.separatorLimit=ye.currentValue),re&&(this._maskService.allowNegativeNumbers=re.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(ne=>"-"!==ne))),ce&&(this._maskService.leadZeroDateTime=ce.currentValue),Z&&(this._maskService.triggerOnMaskChange=Z.currentValue),this._applyMask()}validate({value:T}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(T);if(this._maskService.cpfCnpjError)return this._createValidationError(T);if(this._maskValue.startsWith("separator")||y.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(E.includes(this._maskValue))return this._validateTime(T);if(T&&T.toString().length>=1){let x=0;for(const N in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[N]?.optional&&(this._maskValue.indexOf(N)!==this._maskValue.lastIndexOf(N)?x+=this._maskValue.split("").filter($=>$===N).join("").length:-1!==this._maskValue.indexOf(N)&&x++,-1!==this._maskValue.indexOf(N)&&T.toString().length>=this._maskValue.indexOf(N)||x===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&T.toString().length===this._maskValue.length+Number((this._maskValue.split("{")[1]??"").split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&T.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&T.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(T);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const N=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-x:this._maskValue.length-x;if(T.toString().length<N)return this._createValidationError(T)}}return T&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(T){(""===T||null==T)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(T){const x=T.target;if(this._inputValue=x.value,this._setMask(),!this._maskValue)return void this.onChange(x.value);const N=1===x.selectionStart?x.selectionStart+this._maskService.prefix.length:x.selectionStart;let j=0,$=!1;if(this._maskService.applyValueChanges(N,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(K,z)=>{this._justPasted=!1,j=K,$=z}),this._getActiveElement()!==x)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let k=this._position?this._inputValue.length+N+j:N+("Backspace"!==this._code||$?j:0);k>this._getActualInputLength()&&(k=this._getActualInputLength()),k<0&&(k=0),x.setSelectionRange(k,k),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(T){if(!this._maskValue)return;const x=T.target;null!==x&&null!==x.selectionStart&&x.selectionStart===x.selectionEnd&&x.selectionStart>this._maskService.prefix.length&&38!==T.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),x.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===x.value?(x.focus(),x.setSelectionRange(0,0)):x.selectionStart>this._maskService.actualValue.length&&x.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const $=x&&(x.value&&x.value!==this._maskService.prefix?x.value:this._maskService.prefix+this._maskService.maskIsShown);x&&x.value!==$&&(x.value=$),x&&(x.selectionStart||x.selectionEnd)<=this._maskService.prefix.length?x.selectionStart=this._maskService.prefix.length:x&&x.selectionEnd>this._getActualInputLength()&&(x.selectionEnd=this._getActualInputLength())}onKeyDown(T){if(!this._maskValue)return;this._code=T.code?T.code:T.key;const x=T.target;if(this._inputValue=x.value,this._setMask(),38===T.keyCode&&T.preventDefault(),37===T.keyCode||8===T.keyCode||46===T.keyCode){if(8===T.keyCode&&0===x.value.length&&(x.selectionStart=x.selectionEnd),8===T.keyCode&&0!==x.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&x.selectionStart<=this.prefix.length)x.setSelectionRange(this.prefix.length,x.selectionEnd);else if(this._inputValue.length!==x.selectionStart&&1!==x.selectionStart)for(;this.specialCharacters.includes((this._inputValue[x.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&x.selectionStart>this.prefix.length||0===this.prefix.length);)x.setSelectionRange(x.selectionStart-1,x.selectionEnd);this.checkSelectionOnDeletion(x),this._maskService.prefix.length&&x.selectionStart<=this._maskService.prefix.length&&x.selectionEnd<=this._maskService.prefix.length&&T.preventDefault(),8===T.keyCode&&!x.readOnly&&0===x.selectionStart&&x.selectionEnd===x.value.length&&0!==x.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<x.selectionStart?x.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===T.keyCode&&T.ctrlKey||65===T.keyCode&&T.metaKey)&&(x.setSelectionRange(0,this._getActualInputLength()),T.preventDefault()),this._maskService.selStart=x.selectionStart,this._maskService.selEnd=x.selectionEnd}writeValue(T){var x=this;return(0,i.A)(function*(){"object"==typeof T&&null!==T&&"value"in T&&("disable"in T&&x.setDisabledState(!!T.disable),T=T.value),("number"==typeof T||x._maskValue.startsWith("separator"))&&(T=x._maskService.numberToString(T),Array.isArray(x.decimalMarker)||(T="."!==x.decimalMarker?T.replace(".",x.decimalMarker):T),x._maskService.isNumberValue=!0),"string"!=typeof T&&(T=""),x._inputValue=T,x._setMask(),T&&x._maskService.maskExpression||x._maskService.maskExpression&&(x._maskService.prefix||x._maskService.showMaskTyped)?(x._maskService.writingValue=!0,x._maskService.formElementProperty=["value",x._maskService.applyMask(T,x._maskService.maskExpression)],x._maskService.writingValue=!1):x._maskService.formElementProperty=["value",T],x._inputValue=T})()}registerOnChange(T){this._maskService.onChange=this.onChange=T}registerOnTouched(T){this.onTouch=T}_getActiveElement(T=this.document){const x=T?.activeElement?.shadowRoot;return x?.activeElement?this._getActiveElement(x):T.activeElement}checkSelectionOnDeletion(T){T.selectionStart=Math.min(Math.max(this.prefix.length,T.selectionStart),this._inputValue.length-this.suffix.length),T.selectionEnd=Math.min(Math.max(this.prefix.length,T.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(T){this._maskService.formElementProperty=["disabled",T]}_repeatPatternSymbols(T){return T.match(/{[0-9]+}/)&&T.split("").reduce((x,N,j)=>{if(this._start="{"===N?j:this._start,"}"!==N)return this._maskService._findSpecialChar(N)?x+N:x;this._end=j;const $=Number(T.slice(this._start+1,this._end));return x+new Array($+1).join(T[this._start-1])},"")||T}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(T){const x=this._maskValue.split("").filter(N=>":"!==N).length;return T&&(0==+(T[T.length-1]??-1)&&T.length<x||T.length<=x-2)?this._createValidationError(T):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(T){return{mask:{requiredMask:this._maskValue,actualValue:T}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(T=>{const x=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(T)?.length;if(this._inputValue&&x)return this._maskValue=T,this.maskExpression=T,this._maskService.maskExpression=T,x;this._maskValue=this.maskExpression=this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]??""})}}return O.\u0275fac=function(T){return new(T||O)(t.rXU(e.qQ),t.rXU(b),t.rXU(p))},O.\u0275dir=t.FsC({type:O,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(T,x){1&T&&t.bIt("paste",function(){return x.onPaste()})("ngModelChange",function(j){return x.onModelChange(j)})("input",function(j){return x.onInput(j)})("blur",function(){return x.onBlur()})("click",function(j){return x.onClick(j)})("keydown",function(j){return x.onKeyDown(j)})},inputs:{maskExpression:[0,"mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[t.Jv_([{provide:c.kq,useExisting:(0,t.Rfq)(()=>O),multi:!0},{provide:c.cz,useExisting:(0,t.Rfq)(()=>O),multi:!0},b]),t.OA$]}),O})();function I(O,L){return L instanceof Function?{...O,...L()}:{...O,...L}}let h=(()=>{class O{static forRoot(T){return{ngModule:O,providers:[{provide:m,useValue:T},{provide:f,useValue:v},{provide:p,useFactory:I,deps:[f,m]},M]}}static forChild(){return{ngModule:O}}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=t.$C({type:O}),O.\u0275inj=t.G2t({}),O})();const S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};S.KeyboardEvent||(S.KeyboardEvent=function(O,L){})},37542:(B,C,n)=>{"use strict";n.d(C,{$z:()=>at,Gc:()=>L,HU:()=>S,MH:()=>E,TV:()=>qe,kA:()=>fe,rm:()=>Ge});var i=n(74523),t=n(60177),c=n(54438),e=n(21413);function E(mt,ln){const we=ln?function v(mt){return"string"==typeof mt?()=>{throw new Error(mt)}:mt}(ln):()=>{};let Et=!1;return(...kt)=>Et?we(...kt):(Et=!0,mt(...kt))}function y(mt){return mt.endsWith("/")?mt:`${mt}/`}n(33726),n(57786),n(345);const M=(mt,ln)=>{const we=ln.createElement("script");return we.type="text/javascript",we.defer=!0,we.async=!0,we.src=mt,we},b=new c.nKC("MATOMO_SCRIPT_FACTORY",{providedIn:"root",factory:()=>M});function P(mt,ln){if(null==mt)throw new Error("Unexpected "+mt+" value: "+ln);return mt}let I=(()=>{class mt{constructor(){this.scriptFactory=(0,c.WQX)(b),this.injector=(0,c.WQX)(c.duS),this.document=(0,c.WQX)(t.qQ)}injectDOMScript(we){const Et=(0,c.N4e)(this.injector,()=>this.scriptFactory(we,this.document)),kt=P(this.document.getElementsByTagName("script")[0],"no existing script found");P(kt.parentNode,"no script's parent node found").insertBefore(Et,kt)}static{this.\u0275fac=function(Et){return new(Et||mt)}}static{this.\u0275prov=c.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})}}return mt})();const S=new c.nKC("MATOMO_ROUTER_ENABLED",{factory:()=>!1}),O=new c.nKC("MATOMO_CONFIGURATION"),L=new c.nKC("INTERNAL_MATOMO_CONFIGURATION",{factory(){const{mode:mt,requireConsent:ln,...we}=P((0,c.WQX)(O,{optional:!0}),"No Matomo configuration found! Have you included Matomo module using MatomoModule.forRoot() or provideMatomo()?");return{mode:mt?j(mt):void 0,disabled:!1,enableLinkTracking:!0,trackAppInitialLoad:!(0,c.WQX)(S),requireConsent:ln?k(ln):"none",enableJSErrorTracking:!1,runOutsideAngularZone:!1,disableCampaignParameters:!1,acceptDoNotTrack:!1,...we}}}),T=new c.nKC("DEFERRED_INTERNAL_MATOMO_CONFIGURATION",{factory:()=>{const mt=(0,c.WQX)(L);let ln;return{configuration:new Promise(Et=>ln=Et),markReady(Et){P(ln,"resolveFn")({...mt,...Et})}}}});new c.nKC("ASYNC_INTERNAL_MATOMO_CONFIGURATION",{factory:()=>(0,c.WQX)(T).configuration});var N=function(mt){return mt[mt.AUTO=0]="AUTO",mt[mt.MANUAL=1]="MANUAL",mt[mt.AUTO_DEFERRED=2]="AUTO_DEFERRED",mt}(N||{});function j(mt){switch(mt){case N.AUTO:return"auto";case N.MANUAL:return"manual";case N.AUTO_DEFERRED:return"deferred";default:return mt}}var $=function(mt){return mt[mt.NONE=0]="NONE",mt[mt.COOKIE=1]="COOKIE",mt[mt.TRACKING=2]="TRACKING",mt}($||{});function k(mt){switch(mt){case $.NONE:return"none";case $.COOKIE:return"cookie";case $.TRACKING:return"tracking";default:return mt}}function z(mt){return null!=mt.siteId&&null!=mt.trackerUrl}function X(mt){return Array.isArray(mt.trackers)}function ee(){window._paq=window._paq||[]}function ie(mt){const ln=[...mt];for(;ln.length>0&&void 0===ln[ln.length-1];)ln.pop();return ln}let he=(()=>{class mt{constructor(){this.ngZone=(0,c.WQX)(c.SKi),this.config=(0,c.WQX)(L),ee()}get(we){return this.pushFn(Et=>Et[we]())}pushFn(we){return new Promise(Et=>{this.push([function(){Et(we(this))}])})}push(we){this.config.runOutsideAngularZone?this.ngZone.runOutsideAngular(()=>{window._paq.push(ie(we))}):window._paq.push(ie(we))}static{this.\u0275fac=function(Et){return new(Et||mt)}}static{this.\u0275prov=c.jDH({token:mt,factory:()=>function te(){const mt=(0,c.WQX)(L).disabled,ln=(0,t.UE)((0,c.WQX)(c.Agw));return mt||!ln?new ye:new he}(),providedIn:"root"})}}return mt})();class ye{get(ln){return(0,i.A)(function*(){return Promise.reject("MatomoTracker is disabled")})()}push(ln){}pushFn(ln){return(0,i.A)(function*(){return Promise.reject("MatomoTracker is disabled")})()}}let fe=(()=>{class mt{constructor(){this.delegate=(0,c.WQX)(he),this._pageViewTracked=new e.B,this.pageViewTracked=this._pageViewTracked.asObservable(),(0,c.WQX)(c.abz).onDestroy(()=>this._pageViewTracked.complete())}trackPageView(we){this.delegate.push(["trackPageView",we]),this._pageViewTracked.next()}trackEvent(we,Et,kt,vt,Jt){this.delegate.push(["trackEvent",we,Et,kt,vt,Jt])}trackSiteSearch(we,Et,kt,vt){this.delegate.push(["trackSiteSearch",we,Et,kt,vt])}trackGoal(we,Et,kt){this.delegate.push(["trackGoal",we,Et,kt])}trackLink(we,Et,kt){this.delegate.push(["trackLink",we,Et,kt])}trackAllContentImpressions(){this.delegate.push(["trackAllContentImpressions"])}trackVisibleContentImpressions(we,Et){this.delegate.push(["trackVisibleContentImpressions",we,Et])}trackContentImpressionsWithinNode(we){this.delegate.push(["trackContentImpressionsWithinNode",we])}trackContentInteractionNode(we,Et){this.delegate.push(["trackContentInteractionNode",we,Et])}trackContentImpression(we,Et,kt){this.delegate.push(["trackContentImpression",we,Et,kt])}trackContentInteraction(we,Et,kt,vt){this.delegate.push(["trackContentInteraction",we,Et,kt,vt])}logAllContentBlocksOnPage(){this.delegate.push(["logAllContentBlocksOnPage"])}ping(){this.delegate.push(["ping"])}enableHeartBeatTimer(we){this.delegate.push(["enableHeartBeatTimer",we])}enableLinkTracking(we=!1){this.delegate.push(["enableLinkTracking",we])}disablePerformanceTracking(){this.delegate.push(["disablePerformanceTracking"])}enableCrossDomainLinking(){this.delegate.push(["enableCrossDomainLinking"])}setCrossDomainLinkingTimeout(we){this.delegate.push(["setCrossDomainLinkingTimeout",we])}getCrossDomainLinkingUrlParameter(){return this.delegate.get("getCrossDomainLinkingUrlParameter")}setDocumentTitle(we){this.delegate.push(["setDocumentTitle",we])}setDomains(we){this.delegate.push(["setDomains",we])}setCustomUrl(we){this.delegate.push(["setCustomUrl",we])}setReferrerUrl(we){this.delegate.push(["setReferrerUrl",we])}setSiteId(we){this.delegate.push(["setSiteId",we])}setApiUrl(we){this.delegate.push(["setApiUrl",we])}setTrackerUrl(we){this.delegate.push(["setTrackerUrl",we])}addTracker(we,Et){this.delegate.push(["addTracker",we,Et])}getMatomoUrl(){return this.delegate.get("getMatomoUrl")}getPiwikUrl(){return this.delegate.get("getPiwikUrl")}getCurrentUrl(){return this.delegate.get("getCurrentUrl")}setDownloadClasses(we){this.delegate.push(["setDownloadClasses",we])}setDownloadExtensions(we){this.delegate.push(["setDownloadExtensions",we])}addDownloadExtensions(we){this.delegate.push(["addDownloadExtensions",we])}removeDownloadExtensions(we){this.delegate.push(["removeDownloadExtensions",we])}setIgnoreClasses(we){this.delegate.push(["setIgnoreClasses",we])}setLinkClasses(we){this.delegate.push(["setLinkClasses",we])}setLinkTrackingTimer(we){this.delegate.push(["setLinkTrackingTimer",we])}getLinkTrackingTimer(){return this.delegate.get("getLinkTrackingTimer")}discardHashTag(we){this.delegate.push(["discardHashTag",we])}setGenerationTimeMs(we){this.delegate.push(["setGenerationTimeMs",we])}setPagePerformanceTiming(we,Et,kt,vt,Jt,sn){let zt;"object"==typeof we&&we?(zt=we.networkTimeInMs,Et=we.serverTimeInMs,kt=we.transferTimeInMs,vt=we.domProcessingTimeInMs,Jt=we.domCompletionTimeInMs,sn=we.onloadTimeInMs):zt=we,this.delegate.push(["setPagePerformanceTiming",zt,Et,kt,vt,Jt,sn])}getCustomPagePerformanceTiming(){return this.delegate.get("getCustomPagePerformanceTiming")}appendToTrackingUrl(we){this.delegate.push(["appendToTrackingUrl",we])}setDoNotTrack(we){this.delegate.push(["setDoNotTrack",we])}killFrame(){this.delegate.push(["killFrame"])}redirectFile(we){this.delegate.push(["redirectFile",we])}setHeartBeatTimer(we,Et){this.delegate.push(["setHeartBeatTimer",we,Et])}getVisitorId(){return this.delegate.get("getVisitorId")}setVisitorId(we){this.delegate.push(["setVisitorId",we])}getVisitorInfo(){return this.delegate.get("getVisitorInfo")}getAttributionInfo(){return this.delegate.get("getAttributionInfo")}getAttributionCampaignName(){return this.delegate.get("getAttributionCampaignName")}getAttributionCampaignKeyword(){return this.delegate.get("getAttributionCampaignKeyword")}getAttributionReferrerTimestamp(){return this.delegate.get("getAttributionReferrerTimestamp")}getAttributionReferrerUrl(){return this.delegate.get("getAttributionReferrerUrl")}getUserId(){return this.delegate.get("getUserId")}setUserId(we){this.delegate.push(["setUserId",we])}resetUserId(){this.delegate.push(["resetUserId"])}setPageViewId(we){this.delegate.push(["setPageViewId",we])}getPageViewId(){return this.delegate.get("getPageViewId")}setCustomData(...we){this.delegate.push(["setCustomData",...we])}getCustomData(){return this.delegate.get("getCustomData")}setCustomVariable(we,Et,kt,vt){this.delegate.push(["setCustomVariable",we,Et,kt,vt])}deleteCustomVariable(we,Et){this.delegate.push(["deleteCustomVariable",we,Et])}deleteCustomVariables(we){this.delegate.push(["deleteCustomVariables",we])}getCustomVariable(we,Et){return this.delegate.pushFn(kt=>kt.getCustomVariable(we,Et))}storeCustomVariablesInCookie(){this.delegate.push(["storeCustomVariablesInCookie"])}setCustomDimension(we,Et){this.delegate.push(["setCustomDimension",we,Et])}deleteCustomDimension(we){this.delegate.push(["deleteCustomDimension",we])}getCustomDimension(we){return this.delegate.pushFn(Et=>Et.getCustomDimension(we))}setCampaignNameKey(we){this.delegate.push(["setCampaignNameKey",we])}setCampaignKeywordKey(we){this.delegate.push(["setCampaignKeywordKey",we])}setConversionAttributionFirstReferrer(we){this.delegate.push(["setConversionAttributionFirstReferrer",we])}setEcommerceView(we,Et,kt,vt){!function Z(mt){return"object"==typeof mt&&1===Object.keys(mt).length&&null!=mt.productCategory}(we)?function ne(mt){return"object"==typeof mt&&"productSKU"in mt}(we)?this.delegate.push(["setEcommerceView",we.productSKU,we.productName,we.productCategory,we.price]):this.delegate.push(["setEcommerceView",we,Et,kt,vt]):this.delegate.push(["setEcommerceView",!1,!1,we.productCategory])}addEcommerceItem(we,Et,kt,vt,Jt){this.delegate.push("string"==typeof we?["addEcommerceItem",we,Et,kt,vt,Jt]:["addEcommerceItem",we.productSKU,we.productName,we.productCategory,we.price,we.quantity])}removeEcommerceItem(we){this.delegate.push(["removeEcommerceItem",we])}clearEcommerceCart(){this.delegate.push(["clearEcommerceCart"])}getEcommerceItems(){return this.delegate.get("getEcommerceItems")}trackEcommerceCartUpdate(we){this.delegate.push(["trackEcommerceCartUpdate",we])}trackEcommerceOrder(we,Et,kt,vt,Jt,sn){this.delegate.push(["trackEcommerceOrder",we,Et,kt,vt,Jt,sn])}requireConsent(){this.delegate.push(["requireConsent"])}setConsentGiven(){this.delegate.push(["setConsentGiven"])}rememberConsentGiven(we){this.delegate.push(["rememberConsentGiven",we])}forgetConsentGiven(){this.delegate.push(["forgetConsentGiven"])}hasRememberedConsent(){return this.delegate.get("hasRememberedConsent")}getRememberedConsent(){return this.delegate.get("getRememberedConsent")}isConsentRequired(){return this.delegate.get("isConsentRequired")}requireCookieConsent(){this.delegate.push(["requireCookieConsent"])}setCookieConsentGiven(){this.delegate.push(["setCookieConsentGiven"])}rememberCookieConsentGiven(we){this.delegate.push(["rememberCookieConsentGiven",we])}forgetCookieConsentGiven(){this.delegate.push(["forgetCookieConsentGiven"])}getRememberedCookieConsent(){return this.delegate.get("getRememberedCookieConsent")}areCookiesEnabled(){return this.delegate.get("areCookiesEnabled")}optUserOut(){this.delegate.push(["optUserOut"])}forgetUserOptOut(){this.delegate.push(["forgetUserOptOut"])}isUserOptedOut(){return this.delegate.get("isUserOptedOut")}disableCookies(){this.delegate.push(["disableCookies"])}deleteCookies(){this.delegate.push(["deleteCookies"])}hasCookies(){return this.delegate.get("hasCookies")}setCookieNamePrefix(we){this.delegate.push(["setCookieNamePrefix",we])}setCookieDomain(we){this.delegate.push(["setCookieDomain",we])}setCookiePath(we){this.delegate.push(["setCookiePath",we])}setSecureCookie(we){this.delegate.push(["setSecureCookie",we])}setCookieSameSite(we){this.delegate.push(["setCookieSameSite",we])}setVisitorCookieTimeout(we){this.delegate.push(["setVisitorCookieTimeout",we])}setReferralCookieTimeout(we){this.delegate.push(["setReferralCookieTimeout",we])}setSessionCookieTimeout(we){this.delegate.push(["setSessionCookieTimeout",we])}addListener(we){this.delegate.push(["addListener",we])}setRequestMethod(we){this.delegate.push(["setRequestMethod",we])}setCustomRequestProcessing(we){this.delegate.push(["setCustomRequestProcessing",we])}setRequestContentType(we){this.delegate.push(["setRequestContentType",we])}disableQueueRequest(){this.delegate.push(["disableQueueRequest"])}setRequestQueueInterval(we){this.delegate.push(["setRequestQueueInterval",we])}disableAlwaysUseSendBeacon(){this.delegate.push(["disableAlwaysUseSendBeacon"])}alwaysUseSendBeacon(){this.delegate.push(["alwaysUseSendBeacon"])}enableJSErrorTracking(){this.delegate.push(["enableJSErrorTracking"])}enableFileTracking(){this.delegate.push(["enableFileTracking"])}setExcludedReferrers(...we){const Et=we.flat();this.delegate.push(["setExcludedReferrers",Et])}getExcludedReferrers(){return this.delegate.get("getExcludedReferrers")}disableBrowserFeatureDetection(){this.delegate.push(["disableBrowserFeatureDetection"])}enableBrowserFeatureDetection(){this.delegate.push(["enableBrowserFeatureDetection"])}disableCampaignParameters(){this.delegate.push(["disableCampaignParameters"])}static{this.\u0275fac=function(Et){return new(Et||mt)}}static{this.\u0275prov=c.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})}}return mt})();function ae(mt){return`${mt}`}function oe(mt,ln){return null==ln?y(mt)+J:mt+ln}const J="matomo.php";class Ce{initialize(){}init(){}initializeTracker(ln){}}let qe=(()=>{class mt{constructor(){this.config=(0,c.WQX)(L),this.deferredConfig=(0,c.WQX)(T),this.tracker=(0,c.WQX)(fe),this.scriptInjector=(0,c.WQX)(I),this.initialize=E(()=>{this.runPreInitTasks(),function K(mt){return null==mt.mode||"auto"===mt.mode||mt.mode===N.AUTO}(this.config)&&this.injectMatomoScript(this.config)},"Matomo has already been initialized"),this.injectMatomoScript=E(we=>{if(function G(mt){return z(mt)||X(mt)}(we)){const{scriptUrl:Et}=we,[kt,...vt]=function Q(mt){return X(mt)?mt.trackers:[{trackerUrl:mt.trackerUrl,siteId:mt.siteId,trackerUrlSuffix:mt.trackerUrlSuffix}]}(we),Jt=Et??y(kt.trackerUrl)+"matomo.js";this.registerMainTracker(kt),this.registerAdditionalTrackers(vt),this.scriptInjector.injectDOMScript(Jt)}else if(function V(mt){return null!=mt.scriptUrl&&!z(mt)}(we)){const{scriptUrl:Et,trackers:kt}={trackers:[],...we};this.registerAdditionalTrackers(kt),this.scriptInjector.injectDOMScript(Et)}this.deferredConfig.markReady(we)},"Matomo trackers have already been initialized"),ee()}init(){this.initialize()}initializeTracker(we){this.injectMatomoScript(we)}registerMainTracker(we){const Et=oe(we.trackerUrl,we.trackerUrlSuffix),kt=ae(we.siteId);this.tracker.setTrackerUrl(Et),this.tracker.setSiteId(kt)}registerAdditionalTrackers(we){we.forEach(({trackerUrl:Et,siteId:kt,trackerUrlSuffix:vt})=>{const Jt=oe(Et,vt),sn=ae(kt);this.tracker.addTracker(Jt,sn)})}runPreInitTasks(){this.config.acceptDoNotTrack&&this.tracker.setDoNotTrack(!0),"cookie"===this.config.requireConsent?this.tracker.requireCookieConsent():"tracking"===this.config.requireConsent&&this.tracker.requireConsent(),this.config.enableJSErrorTracking&&this.tracker.enableJSErrorTracking(),this.config.disableCampaignParameters&&this.tracker.disableCampaignParameters(),this.config.trackAppInitialLoad&&this.tracker.trackPageView(),this.config.enableLinkTracking&&this.tracker.enableLinkTracking("enable-pseudo"===this.config.enableLinkTracking)}static{this.\u0275fac=function(Et){return new(Et||mt)}}static{this.\u0275prov=c.jDH({token:mt,factory:()=>function _e(){const mt=(0,c.WQX)(L).disabled,ln=(0,t.UE)((0,c.WQX)(c.Agw));return mt||!ln?new Ce:new qe}(),providedIn:"root"})}}return mt})();const Re=Symbol("MATOMO_PROVIDERS"),nt=Symbol("MATOMO_CHECKS");function Ge(mt,ln,we){return{kind:mt,[Re]:ln,[nt]:we}}function at(mt,...ln){const we=[{provide:c.Z63,multi:!0,useValue(){(0,c.WQX)(qe).initialize()}}],Et=[];we.push("function"==typeof mt?{provide:O,useFactory:mt}:{provide:O,useValue:mt});for(const kt of ln)we.push(...kt[Re]),Et.push(kt.kind);for(const kt of ln)kt[nt]?.(Et);return(0,c.EmA)(we)}},72234:(B,C,n)=>{"use strict";n.d(C,{Yq:()=>E,Zm:()=>v});var i=n(54438),t=n(60177);const c=["*"],e=(y,M,b,P,D)=>({"custom-content":y,circle:M,progress:b,"progress-dark":P,pulse:D});function p(y,M){1&y&&i.SdG(0)}function m(y,M){if(1&y&&(i.j41(0,"div",0),i.DNE(1,p,1,0),i.k0s()),2&y){const b=i.XpG();i.Y8G("ngClass",i.s1E(5,e,"custom-content"===b.appearance,"circle"===b.appearance,"progress"===b.animation,"progress-dark"===b.animation,"pulse"===b.animation))("ngStyle",b.theme),i.BMQ("aria-label",b.ariaLabel)("aria-valuetext",b.loadingText),i.R7$(),i.vxM("custom-content"===b.appearance?1:-1)}}const f=new i.nKC("ngx-skeleton-loader.config");let v=(()=>{class y{constructor(b){this.config=b;const{appearance:P="line",animation:D="progress",theme:I=null,loadingText:h="Loading...",count:S=1,ariaLabel:O="loading"}=b||{};this.appearance=P,this.animation=D,this.theme=I,this.loadingText=h,this.count=S,this.items=[],this.ariaLabel=O}ngOnInit(){this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,i.naY)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),"custom-content"===this.appearance&&(0,i.naY)()&&1!==this.count&&(console.error('`NgxSkeletonLoaderComponent` enforces elements with "custom-content" appearance as DOM nodes. Forcing "count" to "1".'),this.count=1),this.items.length=this.count;const b=["progress","progress-dark","pulse","false"];-1===b.indexOf(String(this.animation))&&((0,i.naY)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${b.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line","custom-content",""].indexOf(String(this.appearance))&&((0,i.naY)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or custom-content or empty string. Forcing default to \"''\"."),this.appearance="");const{theme:P}=this.config||{};P&&P.extendsFromRoot&&null!==this.theme&&(this.theme={...this.config.theme,...this.theme})}ngOnChanges(b){["count","animation","appearance"].find(P=>b[P]&&(b[P].isFirstChange()||b[P].previousValue===b[P].currentValue))||this.validateInputValues()}static{this.\u0275fac=function(P){return new(P||y)(i.rXU(f,8))}}static{this.\u0275cmp=i.VBU({type:y,selectors:[["ngx-skeleton-loader"]],inputs:{count:"count",loadingText:"loadingText",appearance:"appearance",animation:"animation",ariaLabel:"ariaLabel",theme:"theme"},features:[i.OA$],ngContentSelectors:c,decls:2,vars:0,consts:[["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",1,"skeleton-loader",3,"ngClass","ngStyle"]],template:function(P,D){1&P&&(i.NAR(),i.Z7z(0,m,2,11,"div",0,i.fX1)),2&P&&i.Dyx(D.items)},dependencies:[t.YU,t.B3],styles:['.skeleton-loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:#eff1f6 no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,#fff0,#fff9,#fff0)}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]:before{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@media screen and (min-device-width: 1200px){.skeleton-loader[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:wait}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0})}}return y})(),E=(()=>{class y{static forRoot(b){return{ngModule:y,providers:[{provide:f,useValue:b}]}}static{this.\u0275fac=function(P){return new(P||y)}}static{this.\u0275mod=i.$C({type:y})}static{this.\u0275inj=i.G2t({imports:[t.MD]})}}return y})()},31635:(B,C,n)=>{"use strict";function p(ye,re,ce,Z){var ae,ne=arguments.length,fe=ne<3?re:null===Z?Z=Object.getOwnPropertyDescriptor(re,ce):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)fe=Reflect.decorate(ye,re,ce,Z);else for(var oe=ye.length-1;oe>=0;oe--)(ae=ye[oe])&&(fe=(ne<3?ae(fe):ne>3?ae(re,ce,fe):ae(re,ce))||fe);return ne>3&&fe&&Object.defineProperty(re,ce,fe),fe}function m(ye,re){return function(ce,Z){re(ce,Z,ye)}}function M(ye,re){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ye,re)}function b(ye,re,ce,Z){return new(ce||(ce=Promise))(function(fe,ae){function oe(_e){try{ve(Z.next(_e))}catch(Ce){ae(Ce)}}function J(_e){try{ve(Z.throw(_e))}catch(Ce){ae(Ce)}}function ve(_e){_e.done?fe(_e.value):function ne(fe){return fe instanceof ce?fe:new ce(function(ae){ae(fe)})}(_e.value).then(oe,J)}ve((Z=Z.apply(ye,re||[])).next())})}function x(ye){return this instanceof x?(this.v=ye,this):new x(ye)}function N(ye,re,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,Z=ce.apply(ye,re||[]),fe=[];return ne={},oe("next"),oe("throw"),oe("return",function ae(Re){return function(nt){return Promise.resolve(nt).then(Re,Ce)}}),ne[Symbol.asyncIterator]=function(){return this},ne;function oe(Re,nt){Z[Re]&&(ne[Re]=function(Ge){return new Promise(function(at,Ke){fe.push([Re,Ge,at,Ke])>1||J(Re,Ge)})},nt&&(ne[Re]=nt(ne[Re])))}function J(Re,nt){try{!function ve(Re){Re.value instanceof x?Promise.resolve(Re.value.v).then(_e,Ce):qe(fe[0][2],Re)}(Z[Re](nt))}catch(Ge){qe(fe[0][3],Ge)}}function _e(Re){J("next",Re)}function Ce(Re){J("throw",Re)}function qe(Re,nt){Re(nt),fe.shift(),fe.length&&J(fe[0][0],fe[0][1])}}function $(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,re=ye[Symbol.asyncIterator];return re?re.call(ye):(ye=function h(ye){var re="function"==typeof Symbol&&Symbol.iterator,ce=re&&ye[re],Z=0;if(ce)return ce.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Z>=ye.length&&(ye=void 0),{value:ye&&ye[Z++],done:!ye}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),ce={},Z("next"),Z("throw"),Z("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function Z(fe){ce[fe]=ye[fe]&&function(ae){return new Promise(function(oe,J){!function ne(fe,ae,oe,J){Promise.resolve(J).then(function(ve){fe({value:ve,done:oe})},ae)}(oe,J,(ae=ye[fe](ae)).done,ae.value)})}}}n.d(C,{AQ:()=>N,Cg:()=>p,N3:()=>x,Qj:()=>m,Sn:()=>M,sH:()=>b,xN:()=>$}),"function"==typeof SuppressedError&&SuppressedError}},B=>{B(B.s=14758)}]);