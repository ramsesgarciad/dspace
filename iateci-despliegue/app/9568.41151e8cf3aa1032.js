"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[9568],{89568:(F,_,o)=>{o.r(_),o.d(_,{DsoEditMetadataComponent:()=>j});var r=o(60177),l=o(68018),c=o(76148),m=o(20439),p=o(5051),b=o(46878),u=o(19795),M=o(30003),T=o(64972),v=o(79104),C=o(15202),t=o(54438);function f(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",17),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.reinstate())}),t.nrm(4,"i",18),t.j41(5,"span",4),t.EFF(6),t.nI1(7,"translate"),t.k0s()()}if(2&a){const e=t.XpG(2);t.Y8G("dsBtnDisabled",t.bMT(1,4,e.saving$))("title",t.bMT(2,6,e.dsoType+".edit.metadata.reinstate-button")),t.BMQ("aria-label",t.bMT(3,8,e.dsoType+".edit.metadata.reinstate-button")),t.R7$(6),t.SpI("\xa0",t.bMT(7,10,e.dsoType+".edit.metadata.reinstate-button"),"")}}function E(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",19),t.nI1(1,"translate"),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.discard())}),t.nrm(4,"i",20),t.j41(5,"span",4),t.EFF(6),t.nI1(7,"translate"),t.k0s()()}if(2&a){const e=t.XpG(2);t.Y8G("title",t.bMT(1,4,e.dsoType+".edit.metadata.discard-button"))("dsBtnDisabled",!e.hasChanges||t.bMT(2,6,e.saving$)),t.BMQ("aria-label",t.bMT(3,8,e.dsoType+".edit.metadata.discard-button")),t.R7$(6),t.SpI("\xa0",t.bMT(7,10,e.dsoType+".edit.metadata.discard-button"),"")}}function D(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",11)(1,"div",21)(2,"ds-metadata-field-selector",22),t.mxI("mdFieldChange",function(n){t.eBV(e);const s=t.XpG(2);return t.DH7(s.newMdField,n)||(s.newMdField=n),t.Njj(n)}),t.k0s()(),t.j41(3,"div",23)(4,"div",9),t.nrm(5,"ds-dso-edit-metadata-value-headers",24),t.j41(6,"ds-dso-edit-metadata-value",25),t.bIt("confirm",function(n){t.eBV(e);const s=t.XpG(2);return t.Njj(s.confirmNewValue(n))})("remove",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.form.newValue=void 0)})("undo",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.form.newValue=void 0)}),t.k0s()()()()}if(2&a){const e=t.XpG(2);t.R7$(2),t.Y8G("dsoType",e.dsoType),t.R50("mdField",e.newMdField),t.Y8G("autofocus",!0),t.R7$(3),t.Y8G("dsoType",e.dsoType),t.R7$(),t.Y8G("dso",e.dso)("context",e.Context.AddMetadata)("mdValue",e.form.newValue)("dsoType",e.dsoType)("saving$",e.savingOrLoadingFieldValidation$)("isOnlyValue",!0)("mdField",e.newMdField)}}function g(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",30),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,s=t.XpG(2);return s.form.resetOrder(n),t.Njj(s.onValueSaved())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&a){const e=t.XpG(3);t.R7$(),t.SpI(" ",t.bMT(2,1,e.dsoType+".edit.metadata.reset-order-button")," ")}}function y(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",11)(1,"div",26)(2,"span",27),t.EFF(3),t.k0s(),t.DNE(4,g,3,3,"div",28),t.k0s(),t.j41(5,"ds-dso-edit-metadata-field-values",29),t.bIt("valueSaved",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.onValueSaved())}),t.k0s()()}if(2&a){const e=i.$implicit,d=t.XpG(2);t.R7$(3),t.JRh(e),t.R7$(),t.vxM(d.form.hasOrderChanges(e)?4:-1),t.R7$(),t.Y8G("dso",d.dso)("form",d.form)("dsoType",d.dsoType)("saving$",d.saving$)("draggingMdField$",d.draggingMdField$)("mdField",e)}}function I(a,i){if(1&a&&(t.j41(0,"div"),t.nrm(1,"ds-alert",31),t.k0s()),2&a){const e=t.XpG(2);t.R7$(),t.Y8G("content",e.dsoType+".edit.metadata.empty")("type",e.AlertTypeEnum.Info)}}function x(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",32),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.reinstate())}),t.nrm(4,"i",18),t.EFF(5),t.nI1(6,"translate"),t.k0s()}if(2&a){const e=t.XpG(2);t.Y8G("dsBtnDisabled",t.bMT(1,4,e.saving$))("title",t.bMT(2,6,e.dsoType+".edit.metadata.reinstate-button")),t.BMQ("aria-label",t.bMT(3,8,e.dsoType+".edit.metadata.reinstate-button")),t.R7$(5),t.SpI(" ",t.bMT(6,10,e.dsoType+".edit.metadata.reinstate-button")," ")}}function R(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",33),t.nI1(1,"translate"),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.discard())}),t.nrm(4,"i",20),t.EFF(5),t.nI1(6,"translate"),t.k0s()}if(2&a){const e=t.XpG(2);t.Y8G("title",t.bMT(1,4,e.dsoType+".edit.metadata.discard-button"))("dsBtnDisabled",!e.hasChanges||t.bMT(2,6,e.saving$)),t.BMQ("aria-label",t.bMT(3,8,e.dsoType+".edit.metadata.discard-button")),t.R7$(5),t.SpI(" ",t.bMT(6,10,e.dsoType+".edit.metadata.discard-button")," ")}}function B(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"button",2),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.add())}),t.nrm(6,"i",3),t.j41(7,"span",4),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.DNE(10,f,8,12,"button",5),t.j41(11,"button",6),t.nI1(12,"async"),t.nI1(13,"translate"),t.nI1(14,"translate"),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.submit())}),t.nrm(15,"i",7),t.j41(16,"span",4),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.DNE(19,E,8,12,"button",8),t.k0s(),t.j41(20,"div",9),t.nI1(21,"translate"),t.nrm(22,"ds-dso-edit-metadata-headers",10),t.DNE(23,D,7,11,"div",11),t.Z7z(24,y,6,8,"div",11,t.fX1),t.k0s(),t.DNE(26,I,2,2,"div"),t.j41(27,"div",12)(28,"div",13),t.DNE(29,x,7,12,"button",14),t.j41(30,"button",15),t.nI1(31,"async"),t.nI1(32,"translate"),t.nI1(33,"translate"),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.submit())}),t.nrm(34,"i",7),t.EFF(35),t.nI1(36,"translate"),t.k0s(),t.DNE(37,R,7,12,"button",16),t.k0s()()()}if(2&a){const e=t.XpG();t.R7$(2),t.Y8G("dsBtnDisabled",e.form.newValue||t.bMT(3,20,e.saving$))("title",t.bMT(4,22,e.dsoType+".edit.metadata.add-button")),t.BMQ("aria-label",t.bMT(5,24,e.dsoType+".edit.metadata.add-button")),t.R7$(6),t.SpI("\xa0",t.bMT(9,26,e.dsoType+".edit.metadata.add-button"),""),t.R7$(2),t.vxM(e.isReinstatable?10:-1),t.R7$(),t.Y8G("dsBtnDisabled",!e.hasChanges||t.bMT(12,28,e.saving$))("title",t.bMT(13,30,e.dsoType+".edit.metadata.save-button")),t.BMQ("aria-label",t.bMT(14,32,e.dsoType+".edit.metadata.save-button")),t.R7$(6),t.SpI("\xa0",t.bMT(18,34,e.dsoType+".edit.metadata.save-button"),""),t.R7$(2),t.vxM(e.isReinstatable?-1:19),t.R7$(),t.BMQ("aria-label",t.bMT(21,36,"item.edit.head")),t.R7$(2),t.Y8G("dsoType",e.dsoType),t.R7$(),t.vxM(e.form.newValue?23:-1),t.R7$(),t.Dyx(e.form.fieldKeys),t.R7$(2),t.vxM(e.isEmpty&&!e.form.newValue?26:-1),t.R7$(3),t.vxM(e.isReinstatable?29:-1),t.R7$(),t.Y8G("dsBtnDisabled",!e.hasChanges||t.bMT(31,38,e.saving$))("title",t.bMT(32,40,e.dsoType+".edit.metadata.save-button")),t.BMQ("aria-label",t.bMT(33,42,e.dsoType+".edit.metadata.save-button")),t.R7$(5),t.SpI(" ",t.bMT(36,44,e.dsoType+".edit.metadata.save-button")," "),t.R7$(2),t.vxM(e.isReinstatable?-1:37)}}function h(a,i){1&a&&t.nrm(0,"ds-loading")}let j=(()=>{class a extends c.DsoEditMetadataComponent{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=t.xGo(a)))(n||a)}})()}static{this.\u0275cmp=t.VBU({type:a,selectors:[["ds-themed-dso-edit-metadata"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:2,consts:[[1,"item-metadata"],[1,"button-row","top","d-flex","my-2","space-children-mr","ms-gap"],["id","dso-add-btn",1,"me-auto","btn","btn-success",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fas","fa-plus"],[1,"d-none","d-sm-inline"],["id","dso-reinstate-btn",1,"btn","btn-warning","ms-1",3,"dsBtnDisabled","title"],["id","dso-save-btn",1,"btn","btn-primary","ms-1",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fas","fa-save"],["id","dso-discard-btn",1,"btn","btn-danger","ms-1",3,"title","dsBtnDisabled"],["role","table"],[3,"dsoType"],["role","row",1,"d-flex","flex-row","ds-field-row"],[1,"button-row","bottom","d-inline-block","w-100"],[1,"mt-2","float-end","space-children-mr","ms-gap"],[1,"btn","btn-warning",3,"dsBtnDisabled","title"],[1,"btn","btn-primary",3,"click","dsBtnDisabled","title"],[1,"btn","btn-danger",3,"title","dsBtnDisabled"],["id","dso-reinstate-btn",1,"btn","btn-warning","ms-1",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fas","fa-undo-alt"],["id","dso-discard-btn",1,"btn","btn-danger","ms-1",3,"click","title","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-times"],["role","rowheader",1,"lbl-cell","ds-success"],[3,"mdFieldChange","dsoType","mdField","autofocus"],["role","cell",1,"flex-grow-1","ds-drop-list"],["role","presentation",3,"dsoType"],[3,"confirm","remove","undo","dso","context","mdValue","dsoType","saving$","isOnlyValue","mdField"],["role","rowheader",1,"lbl-cell"],[1,"dont-break-out","preserve-line-breaks"],[1,"btn","btn-warning","reset-order-button","mt-2","w-100"],["role","cell",1,"flex-grow-1",3,"valueSaved","dso","form","dsoType","saving$","draggingMdField$","mdField"],[1,"btn","btn-warning","reset-order-button","mt-2","w-100",3,"click"],[3,"content","type"],[1,"btn","btn-warning",3,"click","dsBtnDisabled","title"],[1,"btn","btn-danger",3,"click","title","dsBtnDisabled"]],template:function(d,n){1&d&&t.DNE(0,B,38,46,"div",0)(1,h,1,0,"ds-loading"),2&d&&(t.vxM(n.form?0:-1),t.R7$(),t.vxM(n.form?-1:1))},dependencies:[T.C,r.Jj,v.A,m.t,p.L,b.o,u.c,M.g,C.v,l.h,l.D9],styles:[".lbl-cell[_ngcontent-%COMP%]{min-width:var(--ds-dso-edit-field-width);max-width:var(--ds-dso-edit-field-width);background-color:var(--bs-gray-100);font-weight:700;padding:1rem;border:1px solid var(--bs-gray-200)}.lbl-cell.ds-success[_ngcontent-%COMP%]{background-color:var(--ds-success-bg);border:1px solid var(--bs-success)}.ds-field-row[_ngcontent-%COMP%]{border:1px solid var(--bs-gray-400)}.reset-order-button[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}}return a})()}}]);