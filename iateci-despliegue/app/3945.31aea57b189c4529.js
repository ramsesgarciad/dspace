(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[3945],{22749:(Y,U,e)=>{"use strict";e.d(U,{q:()=>H});var O=e(60177),v=e(1473),g=e(68018),t=e(89777),R=e(94196),I=e(81948),W=e(69295),X=e(67685),G=e(3601),b=e(48145),F=e(81711),V=e(4093),j=e(17650),f=e(18235),N=e(86332),a=e(9847),x=e(84780),y=e(50186),p=e(78544);const C={id:"entityType",name:"dspace.entity.type",disabled:!1},D=[new v.rA_({id:"title",name:"dc.title",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this title"}}),new v.Zex({id:"description",name:"dc.description",spellCheck:p.c.form.spellCheck}),new v.Zex({id:"abstract",name:"dc.description.abstract",spellCheck:p.c.form.spellCheck}),new v.Zex({id:"rights",name:"dc.rights",spellCheck:p.c.form.spellCheck}),new v.Zex({id:"tableofcontents",name:"dc.description.tableofcontents",spellCheck:p.c.form.spellCheck}),new v.Zex({id:"license",name:"dc.rights.license",spellCheck:p.c.form.spellCheck})];var o=e(54438),B=e(58003);function m(h,$){if(1&h){const c=o.RV6();o.j41(0,"div",10)(1,"button",11),o.bIt("click",function(){o.eBV(c);const l=o.XpG(3);return o.Njj(l.confirmLogoDeleteWithModal())}),o.EFF(2),o.nI1(3,"translate"),o.k0s()()}2&h&&(o.R7$(2),o.SpI("",o.bMT(3,1,"community.edit.logo.delete.title")," "))}function A(h,$){if(1&h&&(o.j41(0,"div",6)(1,"div",1)(2,"div",7),o.nrm(3,"ds-comcol-page-logo",8),o.k0s(),o.j41(4,"div",9),o.DNE(5,m,4,3,"div",10),o.k0s()()()),2&h){const c=o.XpG().ngVar,u=o.XpG();o.R7$(3),o.Y8G("alternateText",u.type.value+".logo.alt")("logo",c),o.R7$(2),o.vxM(c?5:-1)}}function n(h,$){if(1&h){const c=o.RV6();o.j41(0,"ds-uploader",13),o.bIt("onCompleteItem",function(){o.eBV(c);const l=o.XpG(3);return o.Njj(l.onCompleteItem())})("onUploadError",function(){o.eBV(c);const l=o.XpG(3);return o.Njj(l.onUploadError())}),o.k0s()}if(2&h){const c=o.XpG(3);o.Y8G("ariaLabel",c.type.value+".browse.logo")("dropMsg",c.type.value+".edit.logo.upload")("dropOverDocumentMsg",c.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",c.uploadFilesOptions)}}function P(h,$){if(1&h&&(o.j41(0,"div",2),o.DNE(1,n,1,5,"ds-uploader",12),o.nI1(2,"async"),o.k0s()),2&h){const c=o.XpG(2);o.R7$(),o.vxM(o.bMT(2,1,c.initializedUploaderOptions)?1:-1)}}function L(h,$){if(1&h&&(o.qex(0),o.DNE(1,A,6,3,"div",6)(2,P,3,3,"div",2),o.bVm()),2&h){const c=$.ngVar;o.R7$(),o.vxM(c?1:-1),o.R7$(),o.vxM(c?-1:2)}}function z(h,$){if(1&h){const c=o.RV6();o.j41(0,"ds-form",14),o.bIt("submitForm",function(){o.eBV(c);const l=o.XpG();return o.Njj(l.onSubmit())}),o.j41(1,"button",15),o.bIt("click",function(){o.eBV(c);const l=o.XpG();return o.Njj(l.back.emit())}),o.nrm(2,"i",16),o.EFF(3),o.nI1(4,"translate"),o.k0s()()}if(2&h){const c=o.XpG();o.Y8G("formId","comcol-form-id")("formModel",c.formModel)("displayCancel",!1),o.R7$(3),o.SpI(" ",o.bMT(4,4,c.type.value+".edit.return")," ")}}let H=(()=>{class h extends j.V{constructor(c,u,l,E,s,M,S,J,Q,w){super(c,u,l,E,M,S,w),this.formService=c,this.translate=u,this.notificationsService=l,this.authService=E,this.dsoService=s,this.requestService=M,this.objectCache=S,this.entityTypeService=J,this.chd=Q,this.modalService=w,this.dso=new b.p,this.type=b.p.type,this.entityTypeSelection=new v.z4z(C)}ngOnInit(){(0,t.Tn)(this.formModel)&&(0,t.Pe)(this.dso)&&this.initializeForm()}ngOnChanges(c){const u=c.dso;this.dso&&u&&!u.isFirstChange()&&this.initializeForm()}initializeForm(){let c;this.dso&&this.dso.metadata&&(c=this.dso.metadata["dspace.entity.type"]),this.entityTypeService.findAll({elementsPerPage:100,currentPage:1}).pipe((0,V.Ar)()).subscribe(l=>{(l=l.filter(E=>E.label!==F.k)).forEach((E,s)=>{this.entityTypeSelection.add({disabled:!1,label:E.label,value:E.label}),c&&c.length>0&&c[0].value===E.label&&(this.entityTypeSelection.select(s),this.entityTypeSelection.disabled=!0)}),this.formModel=0===l.length?D:[...D,this.entityTypeSelection],super.ngOnInit(),this.chd.detectChanges()})}static{this.\u0275fac=function(u){return new(u||h)(o.rXU(v.J9r),o.rXU(g.c$),o.rXU(a.I),o.rXU(R.uR),o.rXU(W.CollectionDataService),o.rXU(G.B),o.rXU(I.$),o.rXU(X.f),o.rXU(o.gRc),o.rXU(B.Bq))}}static{this.\u0275cmp=o.VBU({type:h,selectors:[["ds-collection-form"]],inputs:{dso:"dso"},standalone:!0,features:[o.Vt3,o.OA$,o.aNF],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block"],[1,"form-label"],[4,"ngVar"],[3,"formId","formModel","displayCancel"],["id","logo-section",1,"col-12","d-inline-block","alert"],[1,"col-8","d-inline-block"],[3,"alternateText","logo"],[1,"col-4","d-inline-block"],[1,"float-end"],["type","button",1,"btn","btn-danger",3,"click"],[3,"ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"onCompleteItem","onUploadError","ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"submitForm","formId","formModel","displayCancel"],["before","","type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"]],template:function(u,l){if(1&u&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),o.EFF(4),o.nI1(5,"translate"),o.k0s()(),o.DNE(6,L,3,2,"ng-container",4),o.nI1(7,"async"),o.k0s()(),o.DNE(8,z,5,6,"ds-form",5)),2&u){let E;o.R7$(4),o.JRh(o.bMT(5,3,l.type.value+".edit.logo.label")),o.R7$(2),o.Y8G("ngVar",null==(E=o.bMT(7,5,null==l.dso?null:l.dso.logo))?null:E.payload),o.R7$(2),o.vxM(l.formModel?8:-1)}},dependencies:[O.Jj,f.X,N.s,g.h,g.D9,x.y,y.r]})}}return h})()},13945:(Y,U,e)=>{"use strict";e.r(U),e.d(U,{ROUTES:()=>ut});var O=e(45585),v=e(42108),g=e(85643),t=e(54438),R=e(20625),I=e(69295),W=e(74593),X=e(46541),b=e(35130),F=e(59072),V=e(95551),j=e(72509),f=e(10686),N=e(66423),a=e(7673),x=e(85360),y=e(6170);const p=(0,x.L)(()=>R.Q,()=>(0,a.of)(y._.AdministratorOf));var C=e(47067),D=e(60177),o=e(68018),B=e(43446),m=e(30684),A=e(3601),n=e(87507),P=e(48145),L=e(38836),z=e(15202),H=e(9847),h=e(22749),$=e(7901);const c=i=>({parent:i});function u(i,K){if(1&i){const d=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t.EFF(4),t.nI1(5,"async"),t.nI1(6,"translate"),t.k0s()()(),t.j41(7,"ds-collection-form",4),t.bIt("submitForm",function(_){t.eBV(d);const T=t.XpG();return t.Njj(T.onSubmit(_))})("back",function(){t.eBV(d);const _=t.XpG();return t.Njj(_.navigateToHome())}),t.k0s()()}if(2&i){let d;const r=t.XpG();t.R7$(4),t.JRh(t.i5U(6,4,"collection.create.sub-head",t.eq3(7,c,r.dsoNameService.getName(null==(d=t.bMT(5,2,r.parentRD$))?null:d.payload)))),t.R7$(3),t.Y8G("isCreation",!0)}}function l(i,K){1&i&&t.nrm(0,"ds-loading")}let E=(()=>{class i extends L.Q{constructor(d,r,_,T,Z,k,tt,et){super(_,d,r,T,Z,k,tt,et),this.dsoNameService=d,this.communityDataService=r,this.collectionDataService=_,this.routeService=T,this.router=Z,this.notificationsService=k,this.translate=tt,this.requestService=et,this.frontendURL="/collections/",this.type=P.p.type}static{this.\u0275fac=function(r){return new(r||i)(t.rXU(B.f),t.rXU(m.CommunityDataService),t.rXU(I.CollectionDataService),t.rXU(n.v$),t.rXU($.Ix),t.rXU(H.I),t.rXU(o.c$),t.rXU(A.B))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["ds-create-collection"]],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-12","pb-4"],["id","sub-header",1,"border-bottom","pb-2"],[3,"submitForm","back","isCreation"]],template:function(r,_){1&r&&(t.DNE(0,u,8,9,"div",0),t.nI1(1,"async"),t.j41(2,"div",0),t.DNE(3,l,1,0,"ds-loading"),t.nI1(4,"async"),t.k0s()),2&r&&(t.vxM(!1===t.bMT(1,2,_.isLoading$)?0:-1),t.R7$(3),t.vxM(t.bMT(4,4,_.isLoading$)?3:-1))},dependencies:[D.Jj,h.q,z.v,o.h,o.D9]})}}return i})();var s=e(96354),M=e(88141),S=e(4093),J=e(89777),w=e(79104),ot=e(93302),nt=e(50186);const at=i=>({dso:i});function lt(i,K){1&i&&(t.j41(0,"span"),t.nrm(1,"i",11),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"collection.delete.processing"),""))}function it(i,K){1&i&&(t.j41(0,"span"),t.nrm(1,"i",12),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&i&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"collection.delete.confirm"),""))}function st(i,K){if(1&i){const d=t.RV6();t.qex(0),t.j41(1,"div",3)(2,"h1",4),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p",5),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",6)(9,"div",7)(10,"button",8),t.nI1(11,"async"),t.bIt("click",function(){const _=t.eBV(d).ngVar,T=t.XpG();return t.Njj(T.onCancel(_))}),t.nrm(12,"i",9),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"button",10),t.nI1(16,"async"),t.bIt("click",function(){const _=t.eBV(d).ngVar,T=t.XpG();return t.Njj(T.onConfirm(_))}),t.DNE(17,lt,4,3,"span"),t.nI1(18,"async"),t.DNE(19,it,4,3,"span"),t.nI1(20,"async"),t.k0s()()()(),t.bVm()}if(2&i){const d=K.ngVar,r=t.XpG();t.R7$(3),t.JRh(t.bMT(4,7,"collection.delete.head")),t.R7$(3),t.JRh(t.i5U(7,9,"collection.delete.text",t.eq3(22,at,r.dsoNameService.getName(d)))),t.R7$(4),t.Y8G("dsBtnDisabled",t.bMT(11,12,r.processing$)),t.R7$(3),t.SpI(" ",t.bMT(14,14,"collection.delete.cancel")," "),t.R7$(2),t.Y8G("dsBtnDisabled",t.bMT(16,16,r.processing$)),t.R7$(2),t.vxM(t.bMT(18,18,r.processing$)?17:-1),t.R7$(2),t.vxM(!0!==t.bMT(20,20,r.processing$)?19:-1)}}let ct=(()=>{class i extends ot.D{constructor(d,r,_,T,Z,k){super(d,r,_,T,Z,k),this.dsoDataService=d,this.dsoNameService=r,this.router=_,this.route=T,this.notifications=Z,this.translate=k,this.frontendURL="/collections/"}static{this.\u0275fac=function(r){return new(r||i)(t.rXU(I.CollectionDataService),t.rXU(B.f),t.rXU($.Ix),t.rXU($.nX),t.rXU(H.I),t.rXU(o.c$))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["ds-delete-collection"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:3,consts:[[1,"container"],[1,"row"],[4,"ngVar"],[1,"col-12","pb-4"],["id","header",1,"border-bottom","pb-2"],[1,"pb-2"],[1,"mb-3","row"],[1,"col","text-end","space-children-mr"],[1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],[1,"fas","fa-times"],[1,"btn","btn-danger",3,"click","dsBtnDisabled"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash"]],template:function(r,_){if(1&r&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,st,21,24,"ng-container",2),t.nI1(3,"async"),t.k0s()()),2&r){let T;t.R7$(2),t.Y8G("ngVar",null==(T=t.bMT(3,1,_.dsoRD$))?null:T.payload)}},dependencies:[D.Jj,w.A,o.h,o.D9,nt.r]})}}return i})();var rt=e(58939),dt=e(4600),q=e(29710);e(94999);const pt=["*"];function _t(i,K){}let vt=(()=>{class i extends q.J{getComponentName(){return"EditItemTemplatePageComponent"}importThemedComponent(d){return e(46563)(`./${d}/app/collection-page/edit-item-template-page/edit-item-template-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,94999))}static{this.\u0275fac=(()=>{let d;return function(_){return(d||(d=t.xGo(i)))(_||i)}})()}static{this.\u0275cmp=t.VBU({type:i,selectors:[["ds-edit-item-template-page"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:pt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(r,_){1&r&&(t.NAR(),t.DNE(0,_t,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return i})();e(50344);const ht=["*"];function gt(i,K){}const ut=[{path:C.gj,canActivate:[g.t,(i,K,d=(0,t.WQX)(m.CommunityDataService),r=(0,t.WQX)($.Ix))=>{const _=i.queryParams.parent;return(0,J.Tn)(_)?(r.navigate(["/404"]),(0,a.of)(!1)):d.findById(_).pipe((0,S.qD)(),(0,s.T)(T=>(0,J.a4)(T)&&T.hasSucceeded&&(0,J.a4)(T.payload)),(0,M.M)(T=>{T||r.navigate(["/404"])}))}],children:[{path:"",component:E,resolve:{breadcrumb:F.S},data:{breadcrumbKey:"collection.create"}}],data:{breadcrumbQueryParam:"parent"},resolve:{breadcrumb:b.V},runGuardsAndResolvers:"always"},{path:":id",resolve:{dso:R.Q,breadcrumb:(i,K,d=(0,t.WQX)(X.U),r=(0,t.WQX)(I.CollectionDataService))=>(0,W.G)(i,K,d,r,...R.R)},runGuardsAndResolvers:"always",children:[{path:C._,loadChildren:()=>Promise.all([e.e(2313),e.e(1200),e.e(2033),e.e(372),e.e(2076),e.e(4028)]).then(e.bind(e,4028)).then(i=>i.ROUTES),canActivate:[p]},{path:"delete",pathMatch:"full",component:ct,canActivate:[g.t]},{path:C.WJ,component:vt,canActivate:[g.t],resolve:{item:(i,K,d=(0,t.WQX)(rt.d))=>d.findByCollectionID(i.params.id,!0,!1,(0,dt.s)("templateItemOf")).pipe((0,S.qD)()),breadcrumb:F.S},data:{title:"collection.edit.template.title",breadcrumbKey:"collection.edit.template"}},{path:"",component:(()=>{class i extends q.J{getComponentName(){return"CollectionPageComponent"}importThemedComponent(d){return e(19862)(`./${d}/app/collection-page/collection-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,50344))}static{this.\u0275fac=(()=>{let d;return function(_){return(d||(d=t.xGo(i)))(_||i)}})()}static{this.\u0275cmp=t.VBU({type:i,selectors:[["ds-collection-page"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:ht,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(r,_){1&r&&(t.NAR(),t.DNE(0,gt,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return i})(),data:{menuRoute:f.r.COLLECTION_PAGE},children:[{path:"",pathMatch:"full",component:j.E},{path:"search",pathMatch:"full",component:j.E,resolve:{breadcrumb:F.S},data:{breadcrumbKey:"collection.search",menuRoute:f.r.COLLECTION_PAGE,enableRSS:!0}},{path:"browse/:id",pathMatch:"full",component:V.O,canActivate:[O.h],resolve:{breadcrumb:v.p},data:{breadcrumbKey:"browse.metadata",menuRoute:f.r.COLLECTION_PAGE}}],resolve:{tracking:N.Y}}]}]},50344:(Y,U,e)=>{"use strict";e.r(U),e.d(U,{CollectionPageComponent:()=>u});var O=e(60177),v=e(7901),g=e(68018),t=e(96354),R=e(96697),I=e(5964),W=e(73028),X=e(94196),G=e(43446),b=e(11873),F=e(6170),V=e(19548),j=e(4093),f=e(2180),N=e(2690),a=e(31696),x=e(30792),y=e(2172),p=e(18235),C=e(44087),D=e(89777),o=e(14744),B=e(15202),m=e(50186),A=e(47067),n=e(54438);function P(l,E){if(1&l&&(n.nrm(0,"ds-comcol-page-logo",7),n.nI1(1,"async"),n.nI1(2,"translate")),2&l){let s;const M=n.XpG(4);n.Y8G("logo",null==(s=n.bMT(1,2,M.logoRD$))?null:s.payload)("alternateText",n.bMT(2,4,"collection.logo"))}}function L(l,E){if(1&l&&(n.j41(0,"footer",13),n.nrm(1,"ds-comcol-page-content",9),n.k0s()),2&l){const s=n.XpG();n.R7$(),n.Y8G("content",s.copyrightText)("hasInnerHtml",!0)}}function z(l,E){if(1&l&&(n.j41(0,"div")(1,"div",4)(2,"header",5),n.nrm(3,"ds-comcol-page-header",6),n.DNE(4,P,3,6,"ds-comcol-page-logo",7),n.nrm(5,"ds-comcol-page-handle",8)(6,"ds-comcol-page-content",9)(7,"ds-comcol-page-content",10),n.k0s(),n.nrm(8,"ds-dso-edit-menu"),n.k0s(),n.j41(9,"section",11),n.nrm(10,"ds-comcol-page-browse-by",12)(11,"router-outlet"),n.k0s(),n.DNE(12,L,2,2,"footer",13),n.k0s()),2&l){const s=E,M=n.XpG(3);n.R7$(3),n.Y8G("name",M.dsoNameService.getName(s)),n.R7$(),n.vxM(M.logoRD$?4:-1),n.R7$(),n.Y8G("content",s.handle)("title","collection.page.handle"),n.R7$(),n.Y8G("content",s.introductoryText)("hasInnerHtml",!0),n.R7$(),n.Y8G("content",s.sidebarText)("hasInnerHtml",!0)("title","collection.page.news"),n.R7$(3),n.Y8G("id",s.id)("contentType",s.type),n.R7$(2),n.vxM(s.copyrightText?12:-1)}}function H(l,E){if(1&l&&(n.j41(0,"div"),n.DNE(1,z,13,12,"div"),n.k0s()),2&l){let s;const M=n.XpG().ngVar;n.Y8G("@fadeInOut",void 0),n.R7$(),n.vxM((s=null==M?null:M.payload)?1:-1,s)}}function h(l,E){1&l&&(n.nrm(0,"ds-error",3),n.nI1(1,"translate")),2&l&&n.FS9("message",n.bMT(1,1,"error.collection"))}function $(l,E){1&l&&(n.nrm(0,"ds-loading",3),n.nI1(1,"translate")),2&l&&n.FS9("message",n.bMT(1,1,"loading.collection"))}function c(l,E){if(1&l&&(n.j41(0,"div",2),n.DNE(1,H,2,2,"div")(2,h,2,3,"ds-error",3)(3,$,2,3,"ds-loading",3),n.k0s()),2&l){const s=E.ngVar;n.R7$(),n.vxM(null!=s&&s.hasSucceeded?1:-1),n.R7$(),n.vxM(null!=s&&s.hasFailed?2:-1),n.R7$(),n.vxM(null!=s&&s.isLoading?3:-1)}}let u=(()=>{class l{constructor(s,M,S,J,Q){this.route=s,this.router=M,this.authService=S,this.authorizationDataService=J,this.dsoNameService=Q}ngOnInit(){this.collectionRD$=this.route.data.pipe((0,t.T)(s=>s.dso),(0,V.QD)(this.router,this.authService),(0,R.s)(1)),this.logoRD$=this.collectionRD$.pipe((0,t.T)(s=>s.payload),(0,I.p)(s=>(0,D.a4)(s)),(0,W.Z)(s=>s.logo)),this.isCollectionAdmin$=this.authorizationDataService.isAuthorized(F._.IsCollectionAdmin),this.collectionPageRoute$=this.collectionRD$.pipe((0,j.Hz)(),(0,t.T)(s=>(0,A.JW)(s.id)))}isNotEmpty(s){return(0,D.hj)(s)}static{this.\u0275fac=function(M){return new(M||l)(n.rXU(v.nX),n.rXU(v.Ix),n.rXU(X.uR),n.rXU(b.AuthorizationDataService),n.rXU(G.f))}}static{this.\u0275cmp=n.VBU({type:l,selectors:[["ds-base-collection-page"]],standalone:!0,features:[n.aNF],decls:3,vars:3,consts:[[1,"container"],["class","collection-page",4,"ngVar"],[1,"collection-page"],[3,"message"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","me-auto"],[3,"name"],[3,"logo","alternateText"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"comcol-page-browse-section"],[3,"id","contentType"],[1,"border-top","my-5","pt-4"]],template:function(M,S){1&M&&(n.j41(0,"div",0),n.DNE(1,c,4,3,"div",1),n.nI1(2,"async"),n.k0s()),2&M&&(n.R7$(),n.Y8G("ngVar",n.bMT(2,1,S.collectionRD$)))},dependencies:[O.Jj,y.H,p.X,C.T,o.A,v.n3,N.g,a.s,x.T,B.v,g.h,g.D9,m.r],data:{animation:[f.qG,f.Ws]},changeDetection:0})}}return l})()},94999:(Y,U,e)=>{"use strict";e.r(U),e.d(U,{EditItemTemplatePageComponent:()=>B});var O=e(60177),v=e(7901),g=e(68018),t=e(61594),R=e(96354),I=e(25558),W=e(43446),X=e(58939),G=e(4093),b=e(92307),F=e(64972),V=e(74082),j=e(15202),f=e(50186),N=e(47067),a=e(54438);const x=m=>({collection:m});function y(m,A){if(1&m&&(a.j41(0,"h1",7),a.EFF(1),a.nI1(2,"translate"),a.k0s(),a.nrm(3,"ds-dso-edit-metadata",8),a.j41(4,"button",9),a.EFF(5),a.nI1(6,"translate"),a.k0s()),2&m){const n=a.XpG().ngVar,P=a.XpG().ngVar,L=a.XpG();a.R7$(),a.JRh(a.i5U(2,5,"collection.edit.template.head",a.eq3(10,x,L.dsoNameService.getName(P)))),a.R7$(2),a.Y8G("updateDataService",L.itemTemplateService)("dso",null==n?null:n.payload),a.R7$(),a.Y8G("routerLink",L.getCollectionEditUrl(P)),a.R7$(),a.JRh(a.bMT(6,8,"collection.edit.template.cancel"))}}function p(m,A){1&m&&(a.nrm(0,"ds-loading",5),a.nI1(1,"translate")),2&m&&a.Y8G("message",a.bMT(1,1,"collection.edit.template.loading"))}function C(m,A){if(1&m&&(a.nrm(0,"ds-alert",6),a.nI1(1,"translate")),2&m){const n=a.XpG(3);a.Y8G("type",n.AlertTypeEnum.Error)("content",a.bMT(1,2,"collection.edit.template.error"))}}function D(m,A){if(1&m&&(a.j41(0,"div",4),a.DNE(1,y,7,12)(2,p,2,3,"ds-loading",5)(3,C,2,4,"ds-alert",6),a.k0s()),2&m){const n=A.ngVar;a.R7$(),a.vxM(null!=n&&n.hasSucceeded?1:-1),a.R7$(),a.vxM(null!=n&&n.isLoading?2:-1),a.R7$(),a.vxM(null!=n&&n.hasFailed?3:-1)}}function o(m,A){if(1&m&&(a.j41(0,"div",1)(1,"div",2),a.DNE(2,D,4,3,"div",3),a.nI1(3,"async"),a.k0s()()),2&m){const n=a.XpG();a.R7$(2),a.Y8G("ngVar",a.bMT(3,1,n.itemRD$))}}let B=(()=>{class m{constructor(n,P,L){this.route=n,this.itemTemplateService=P,this.dsoNameService=L,this.AlertTypeEnum=V.v}ngOnInit(){this.collectionRD$=this.route.parent.data.pipe((0,t.$)(),(0,R.T)(n=>n.dso)),this.itemRD$=this.collectionRD$.pipe((0,G.ak)(),(0,I.n)(n=>this.itemTemplateService.findByCollectionID(n.id)))}getCollectionEditUrl(n){return n?(0,N._E)(n.uuid):""}static{this.\u0275fac=function(P){return new(P||m)(a.rXU(v.nX),a.rXU(X.d),a.rXU(W.f))}}static{this.\u0275cmp=a.VBU({type:m,selectors:[["ds-base-edit-item-template-page"]],standalone:!0,features:[a.aNF],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"row"],["class","col-12",4,"ngVar"],[1,"col-12"],[3,"message"],[3,"type","content"],[1,"border-bottom"],[3,"updateDataService","dso"],[1,"btn","btn-outline-secondary",3,"routerLink"]],template:function(P,L){if(1&P&&(a.DNE(0,o,4,3,"div",0),a.nI1(1,"async")),2&P){let z;a.Y8G("ngVar",null==(z=a.bMT(1,1,L.collectionRD$))?null:z.payload)}},dependencies:[F.C,O.Jj,v.Wk,b.Q,j.v,g.h,g.D9,f.r],encapsulation:2})}}return m})()},58939:(Y,U,e)=>{"use strict";e.d(U,{d:()=>a});var O=e(25558),v=e(9847),g=e(57168),t=e(57775),R=e(81948),I=e(7094),W=e(18328),X=e(20881),G=e(37419),b=e(69295),F=e(73054),V=e(61206),j=e(3601),f=e(54438);class N extends X.W{constructor(y,p,C,D,o,B){super("itemtemplates",y,p,C,D,void 0),this.requestService=y,this.rdbService=p,this.objectCache=C,this.halService=D,this.notificationsService=o,this.collectionService=B,this.createData=new W.V(void 0,y,p,C,D,o,this.responseMsToLive)}getIDHrefObs(y){return this.collectionService.getIDHrefObs(y).pipe((0,O.n)(p=>this.halService.getEndpoint("itemtemplate",p)))}createTemplate(y,p){return this.createData.createOnEndpoint(y,this.getIDHrefObs(p))}}let a=(()=>{class x extends V.BaseItemDataService{constructor(p,C,D,o,B,m,A,n,P){super("itemtemplates",p,C,D,o,B,m,A,n),this.requestService=p,this.rdbService=C,this.objectCache=D,this.halService=o,this.notificationsService=B,this.comparator=m,this.browseService=A,this.bundleService=n,this.collectionService=P,this.byCollection=new N(p,C,D,o,B,P)}findByCollectionID(p,C=!0,D=!0,...o){return this.byCollection.findById(p,C,D,...o)}createByCollectionID(p,C){return this.byCollection.createTemplate(p,C)}getCollectionEndpoint(p){return this.byCollection.getIDHrefObs(p)}static{this.\u0275fac=function(C){return new(C||x)(f.KVO(j.B),f.KVO(t.o),f.KVO(R.$),f.KVO(I.Y),f.KVO(v.I),f.KVO(F.j),f.KVO(g.q),f.KVO(G.BundleDataService),f.KVO(b.CollectionDataService))}}static{this.\u0275prov=f.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})()},19862:(Y,U,e)=>{var O={"./custom/app/collection-page/collection-page.component":[364,7983]};function v(g){if(!e.o(O,g))return Promise.resolve().then(()=>{var I=new Error("Cannot find module '"+g+"'");throw I.code="MODULE_NOT_FOUND",I});var t=O[g],R=t[0];return e.e(t[1]).then(()=>e(R))}v.keys=()=>Object.keys(O),v.id=19862,Y.exports=v},46563:(Y,U,e)=>{var O={"./custom/app/collection-page/edit-item-template-page/edit-item-template-page.component":[5024,5024]};function v(g){if(!e.o(O,g))return Promise.resolve().then(()=>{var I=new Error("Cannot find module '"+g+"'");throw I.code="MODULE_NOT_FOUND",I});var t=O[g],R=t[0];return e.e(t[1]).then(()=>e(R))}v.keys=()=>Object.keys(O),v.id=46563,Y.exports=v}}]);