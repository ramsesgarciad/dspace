(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[2963],{80495:(g,u,t)=>{"use strict";t.d(u,{Q:()=>i});class i{constructor(n,r){this.text=n,this.url=r}}},45585:(g,u,t)=>{"use strict";t.d(u,{h:()=>D});var i=t(54438),e=t(7901),n=t(68018),r=t(7673),c=t(96354),l=t(25558),_=t(15343),o=t(54009),d=t(4093),m=t(89777);const D=(p,v,P=(0,i.WQX)(o.BrowseDefinitionDataService),O=(0,i.WQX)(e.Ix),B=(0,i.WQX)(n.c$))=>{const a=p.data.title,L=p.params.id||p.queryParams.id||p.data.id;let A;A=(0,m.Tn)(p.data.browseDefinition)&&(0,m.a4)(L)?P.findById(L).pipe((0,d.qD)(),(0,c.T)(R=>R.payload)):(0,r.of)(p.data.browseDefinition);const K=p.queryParams.scope??p.parent?.params.id,F=p.queryParams.value,T=B.instant(`browse.metadata.${L}`);return A.pipe((0,l.n)(R=>(0,m.a4)(R)?(p.data=function f(p,v,P,O,B,a,L){return Object.assign({},a.data,{title:p,id:v,browseDefinition:P,field:O,value:(0,m.a4)(B)?`"${B}"`:"",scope:L})}(a,L,R,T,F,p,K),(0,r.of)(!0)):(O.navigate([_.RD]),(0,r.of)(!1))))}},42108:(g,u,t)=>{"use strict";t.d(u,{p:()=>e});var i=t(59072);const e=(n,r)=>(n.data=Object.assign({},n.data,{breadcrumbKey:n.data.breadcrumbKey+"."+n.params.id}),(0,i.S)(n,r))},37345:(g,u,t)=>{"use strict";t.d(u,{e:()=>_}),t(40940);var e=t(43764),n=t(60163),r=t(29297),c=t(54438);function l(o,d){}let _=(()=>{class o extends e.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["context","browseByType"],this.inputNames=["context","browseByType","displayTitle","scope"]}getComponent(){return(0,r.cv)(this.browseByType.type,this.context,this.themeService.getThemeName())}static{this.\u0275fac=(()=>{let m;return function(f){return(m||(m=c.xGo(o)))(f||o)}})()}static{this.\u0275cmp=c.VBU({type:o,selectors:[["ds-browse-by-switcher"]],inputs:{context:"context",browseByType:"browseByType",displayTitle:"displayTitle",scope:"scope"},standalone:!0,features:[c.Vt3,c.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(D,f){1&D&&c.DNE(0,l,0,0,"ng-template",1,0,c.C5r)},dependencies:[n.z],encapsulation:2})}}return o})()},3925:(g,u,t)=>{"use strict";t.d(u,{D:()=>o,w:()=>_});var i=t(54438),e=t(59640),n=t(30684),r=t(10817),c=t(4093),l=t(4600);const _=[(0,l.s)("logo"),(0,l.s)("subcommunities"),(0,l.s)("collections"),(0,l.s)("parentCommunity")],o=(d,m,D=(0,i.WQX)(n.CommunityDataService),f=(0,i.WQX)(e.il))=>{const p=D.findById(d.params.id,!0,!1,..._).pipe((0,c.qD)());return p.subscribe(v=>{f.dispatch(new r.j(m.url,v.payload))}),p}},35130:(g,u,t)=>{"use strict";t.d(u,{V:()=>_});var i=t(54438),e=t(3925),n=t(89777),r=t(30684),c=t(74593),l=t(46541);const _=(o,d,m=(0,i.WQX)(l.U),D=(0,i.WQX)(r.CommunityDataService))=>{const f=e.w;return(0,n.a4)(o.data.breadcrumbQueryParam)&&(0,n.a4)(o.queryParams[o.data.breadcrumbQueryParam])?(0,c.o)(o,d,o.queryParams[o.data.breadcrumbQueryParam],m,D,...f):(0,c.G)(o,d,m,D,...f)}},74593:(g,u,t)=>{"use strict";t.d(u,{G:()=>c,o:()=>l});var i=t(96354),e=t(15343),n=t(89777),r=t(4093);const c=(_,o,d,m,...D)=>l(_,o,_.params.id,d,m,...D),l=(_,o,d,m,D,...f)=>D.findById(d,!0,!1,...f).pipe((0,r.qD)(),(0,r.Bo)(),(0,i.T)(p=>{if((0,n.a4)(p))return{provider:m,key:p,url:(0,e.wN)(p)}}))},46541:(g,u,t)=>{"use strict";t.d(u,{U:()=>f});var i=t(7673),e=t(47677),n=t(25558),r=t(96354),c=t(15343),l=t(80495),_=t(89777),o=t(4600),d=t(8177),m=t(43446),D=t(54438);let f=(()=>{class p{constructor(P,O){this.linkService=P,this.dsoNameService=O}getBreadcrumbs(P,O){const B=this.dsoNameService.getName(P),a=new l.Q(B,O),L=P.getParentLinkKey();return this.linkService.resolveLink(P,(0,o.s)(L))[L].pipe((0,e.I)(A=>A.hasSucceeded||204===A.statusCode),(0,n.n)(A=>{if((0,_.a4)(A)&&(0,_.a4)(A.payload)){const K=A.payload;return this.getBreadcrumbs(K,(0,c.wN)(K))}return(0,i.of)([])}),(0,r.T)(A=>[...A,a]))}static{this.\u0275fac=function(O){return new(O||p)(D.KVO(d._),D.KVO(m.f))}}static{this.\u0275prov=D.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},85360:(g,u,t)=>{"use strict";t.d(u,{L:()=>n});var i=t(96354),e=t(69944);const n=(r,c)=>(0,e.FO)(r,(l,_)=>c(l,_).pipe((0,i.T)(o=>[o])))},69944:(g,u,t)=>{"use strict";t.d(u,{FO:()=>_});var i=t(96354),e=t(89777),n=t(4093),r=t(8245);const l=o=>(d,m)=>{const D=(o=>{let d=o;for(;(0,e.Tn)(d.params.id)&&(0,e.a4)(d.parent);)d=d.parent;return d})(d);return o(D,m).pipe((0,n.Hz)(),(0,i.T)(f=>f.self))},_=(o,d,m=l,D)=>(0,r.h)((f,p)=>d(f,p),m(o()),D)},10817:(g,u,t)=>{"use strict";t.d(u,{j:()=>n});const e={RESOLVED:(0,t(6800).N)("dspace/resolver/RESOLVED")};class n{constructor(c,l){this.type=e.RESOLVED,this.payload={url:c,dso:l}}}},17650:(g,u,t)=>{"use strict";t.d(u,{V:()=>N});var i=t(60177),e=t(54438),n=t(68018),r=t(27200),c=t(84412),l=t(84572),_=t(25558),o=t(5964),d=t(96697),m=t(94196),D=t(81948),f=t(3601),p=t(10406),v=t(4093),P=t(3116),O=t(89777),B=t(86332),a=t(9847),L=t(84780),A=t(89291),K=t(4600),F=t(50186),T=t(18235),R=t(1473),C=t(58003);function E(I,b){if(1&I){const s=e.RV6();e.j41(0,"div",10)(1,"button",11),e.bIt("click",function(){e.eBV(s);const U=e.XpG(3);return e.Njj(U.confirmLogoDeleteWithModal())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&I&&(e.R7$(2),e.SpI("",e.bMT(3,1,"community.edit.logo.delete.title")," "))}function h(I,b){if(1&I&&(e.j41(0,"div",6)(1,"div",1)(2,"div",7),e.nrm(3,"ds-comcol-page-logo",8),e.k0s(),e.j41(4,"div",9),e.DNE(5,E,4,3,"div",10),e.k0s()()()),2&I){const s=e.XpG().ngVar,M=e.XpG();e.R7$(3),e.Y8G("alternateText",M.type.value+".logo.alt")("logo",s),e.R7$(2),e.vxM(s?5:-1)}}function y(I,b){if(1&I){const s=e.RV6();e.j41(0,"ds-uploader",13),e.bIt("onCompleteItem",function(){e.eBV(s);const U=e.XpG(3);return e.Njj(U.onCompleteItem())})("onUploadError",function(){e.eBV(s);const U=e.XpG(3);return e.Njj(U.onUploadError())}),e.k0s()}if(2&I){const s=e.XpG(3);e.Y8G("ariaLabel",s.type.value+".browse.logo")("dropMsg",s.type.value+".edit.logo.upload")("dropOverDocumentMsg",s.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",s.uploadFilesOptions)}}function x(I,b){if(1&I&&(e.j41(0,"div",2),e.DNE(1,y,1,5,"ds-uploader",12),e.nI1(2,"async"),e.k0s()),2&I){const s=e.XpG(2);e.R7$(),e.vxM(e.bMT(2,1,s.initializedUploaderOptions)?1:-1)}}function j(I,b){if(1&I&&(e.qex(0),e.DNE(1,h,6,3,"div",6)(2,x,3,3,"div",2),e.bVm()),2&I){const s=b.ngVar;e.R7$(),e.vxM(s?1:-1),e.R7$(),e.vxM(s?-1:2)}}function $(I,b){if(1&I){const s=e.RV6();e.j41(0,"ds-form",14),e.bIt("submitForm",function(){e.eBV(s);const U=e.XpG();return e.Njj(U.onSubmit())}),e.j41(1,"button",15),e.bIt("click",function(){e.eBV(s);const U=e.XpG();return e.Njj(U.back.emit())}),e.nrm(2,"i",16),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&I){const s=e.XpG();e.Y8G("formId","comcol-form-id")("formModel",s.formModel)("displayCancel",!1),e.R7$(3),e.SpI(" ",e.bMT(4,4,s.type.value+".edit.return")," ")}}let N=(()=>{class I{constructor(s,M,U,W,S,X,V){this.formService=s,this.translate=M,this.notificationsService=U,this.authService=W,this.requestService=S,this.objectCache=X,this.modalService=V,this.LABEL_KEY_PREFIX=".form.",this.ERROR_KEY_PREFIX=".form.errors.",this.uploadFilesOptions=Object.assign(new A.H,{autoUpload:!1}),this.submitForm=new e.bkB,this.back=new e.bkB,this.finish=new e.bkB,this.initializedUploaderOptions=new c.t(!1),this.subs=[],this.uploader=new r.l0(this.uploadFilesOptions),this.refreshDSO$=new e.bkB}ngOnInit(){this.uploadFilesOptions.autoUpload=!this.isCreation,(0,O.a4)(this.formModel)&&(this.formModel.forEach(s=>{s.value=this.dso.firstMetadataValue(s.name)}),this.formGroup=this.formService.createFormGroup(this.formModel),this.updateFieldTranslations(),this.translate.onLangChange.subscribe(()=>{this.updateFieldTranslations()}),(0,O.a4)(this.dso.id)?this.subs.push((0,l.z)([this.dsoService.getLogoEndpoint(this.dso.id),this.dso.logo]).subscribe(([s,M])=>{this.uploadFilesOptions.url=s,this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.initializedUploaderOptions.next(!0)})):(this.uploadFilesOptions.url="placeholder",this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.initializedUploaderOptions.next(!0))),this.subs.push(this.refreshDSO$.pipe((0,_.n)(()=>this.refreshDsoCache()),(0,o.p)(s=>s.hasSucceeded)).subscribe(({payload:s})=>this.dso=s))}onSubmit(){const s={};this.formModel.forEach(W=>{const S={value:W.value,language:null};s.hasOwnProperty(W.name)?s[W.name].push(S):s[W.name]=[S]});const M=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...s},type:p.E.type}),U=[];this.formModel.forEach(W=>{W.value!==this.dso.firstMetadataValue(W.name)&&U.push({op:"replace",path:`/metadata/${W.name}`,value:{value:W.value,language:null}})}),this.submitForm.emit(this.isCreation?{dso:M,uploader:(0,O.a4)(this.uploaderComponent)?this.uploaderComponent.uploader:void 0,operations:U}:{dso:M,operations:U})}updateFieldTranslations(){this.formModel.forEach(s=>{s.label=this.translate.instant(this.type.value+this.LABEL_KEY_PREFIX+s.id),(0,O.hj)(s.validators)&&(s.errorMessages={},Object.keys(s.validators).forEach(M=>{s.errorMessages[M]=this.translate.instant(this.type.value+this.ERROR_KEY_PREFIX+s.id+"."+M)}))})}confirmLogoDeleteWithModal(){const s=this.createConfirmationModal();this.subscribeToConfirmationResponse(s)}createConfirmationModal(){const s=this.modalService.open(P.M);return s.componentInstance.headerLabel="community-collection.edit.logo.delete.title",s.componentInstance.infoLabel="confirmation-modal.delete-community-collection-logo.info",s.componentInstance.cancelLabel="form.cancel",s.componentInstance.confirmLabel="community-collection.edit.logo.delete.title",s.componentInstance.confirmIcon="fas fa-trash",s.componentInstance.brandColor="danger",s}subscribeToConfirmationResponse(s){s.componentInstance.response.pipe((0,d.s)(1)).subscribe(M=>{M&&this.handleLogoDeletion()})}handleLogoDeletion(){(0,O.a4)(this.dso.id)&&(0,O.a4)(this.dso._links.logo)&&this.dsoService.deleteLogo(this.dso).pipe((0,v.qD)()).subscribe(s=>{const U=`${this.type.value}.edit.logo.notifications.delete.error`;s.hasSucceeded?this.handleSuccessfulDeletion(`${this.type.value}.edit.logo.notifications.delete.success`):this.handleFailedDeletion(U,s.errorMessage)})}handleSuccessfulDeletion(s){this.refreshDSO$.next(),this.notificationsService.success(this.translate.get(`${s}.title`),this.translate.get(`${s}.content`))}handleFailedDeletion(s,M){this.notificationsService.error(this.translate.get(`${s}.title`),M)}refreshDsoCache(){return this.clearDsoCache(),this.fetchUpdatedDso()}clearDsoCache(){this.requestService.setStaleByHrefSubstring(this.dso.id),this.objectCache.remove(this.dso._links.self.href)}fetchUpdatedDso(){return this.dsoService.findById(this.dso.id,!1,!0,(0,K.s)("logo")).pipe((0,v.qD)())}onCompleteItem(){(0,O.a4)(this.dso.id)&&this.refreshDSO$.next(),this.isCreation&&this.finish.emit(),this.notificationsService.success(null,this.translate.get(this.type.value+".edit.logo.notifications.add.success"))}onUploadError(){this.notificationsService.error(null,this.translate.get(this.type.value+".edit.logo.notifications.add.error"))}ngOnDestroy(){this.refreshDSO$.complete(),this.subs.filter(s=>(0,O.a4)(s)).forEach(s=>s.unsubscribe())}static{this.\u0275fac=function(M){return new(M||I)(e.rXU(R.J9r),e.rXU(n.c$),e.rXU(a.I),e.rXU(m.uR),e.rXU(f.B),e.rXU(D.$),e.rXU(C.Bq))}}static{this.\u0275cmp=e.VBU({type:I,selectors:[["ds-comcol-form"]],viewQuery:function(M,U){if(1&M&&e.GBs(L.y,5),2&M){let W;e.mGM(W=e.lsd())&&(U.uploaderComponent=W.first)}},inputs:{dso:"dso",isCreation:"isCreation"},outputs:{submitForm:"submitForm",back:"back",finish:"finish"},standalone:!0,features:[e.aNF],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block"],[1,"form-label"],[4,"ngVar"],[3,"formId","formModel","displayCancel"],["id","logo-section",1,"col-12","d-inline-block","alert"],[1,"col-8","d-inline-block"],[3,"alternateText","logo"],[1,"col-4","d-inline-block"],[1,"float-end"],["type","button",1,"btn","btn-danger",3,"click"],[3,"ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"onCompleteItem","onUploadError","ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"submitForm","formId","formModel","displayCancel"],["before","","type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"]],template:function(M,U){if(1&M&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.DNE(6,j,3,2,"ng-container",4),e.nI1(7,"async"),e.k0s()(),e.DNE(8,$,5,6,"ds-form",5)),2&M){let W;e.R7$(4),e.JRh(e.bMT(5,3,U.type.value+".edit.logo.label")),e.R7$(2),e.Y8G("ngVar",null==(W=e.bMT(7,5,null==U.dso?null:U.dso.logo))?null:W.payload),e.R7$(2),e.vxM(U.formModel?8:-1)}},dependencies:[i.Jj,T.X,B.s,n.h,n.D9,L.y,F.r]})}}return I})()},38836:(g,u,t)=>{"use strict";t.d(u,{Q:()=>A});var i=t(84412),e=t(7673),n=t(96697),r=t(73028),c=t(88141),l=t(96354),_=t(15343),o=t(43446),d=t(10186),m=t(54104),D=t(30684),f=t(3601),p=t(87507),v=t(4093),P=t(89777),O=t(9847),B=t(54438),a=t(7901),L=t(68018);let A=(()=>{class K{constructor(T,R,C,E,h,y,x,j){this.dsoDataService=T,this.dsoNameService=R,this.parentDataService=C,this.routeService=E,this.router=h,this.notificationsService=y,this.translate=x,this.requestService=j,this.isLoading$=new i.t(!1)}ngOnInit(){this.parentUUID$=this.routeService.getQueryParameterValue("parent"),this.parentUUID$.pipe((0,n.s)(1)).subscribe(T=>{(0,P.hj)(T)&&(this.parentRD$=this.parentDataService.findById(T))})}onSubmit(T){this.isLoading$.next(!0);const R=T.dso,C=T.uploader;this.parentUUID$.pipe((0,n.s)(1),(0,r.Z)(E=>{const h=E?[new d.x("parent",E)]:[];return this.dsoDataService.create(R,...h).pipe((0,v.ak)())}),(0,r.Z)(E=>{if((0,P.EA)(E))return this.newUUID=E.uuid,C.queue.length>0?this.dsoDataService.getLogoEndpoint(this.newUUID).pipe((0,n.s)(1),(0,c.M)(h=>{C.options.url=h,C.onCompleteAll=()=>{this.isLoading$.next(!1),this.navigateToNewPage(),this.notificationsService.success(null,this.translate.get(this.type.value+".create.notifications.success"))},C.uploadAll()}),(0,l.T)(()=>!1)):(this.dsoDataService.refreshCache(E),(0,e.of)(!0))})).subscribe(E=>{E&&(this.isLoading$.next(!1),this.navigateToNewPage(),this.notificationsService.success(null,this.translate.get(this.type.value+".create.notifications.success")))})}navigateToHome(){this.router.navigate([(0,_.sB)()])}navigateToNewPage(){(0,P.a4)(this.newUUID)&&this.router.navigate([this.frontendURL+this.newUUID])}static{this.\u0275fac=function(R){return new(R||K)(B.rXU(m.x),B.rXU(o.f),B.rXU(D.CommunityDataService),B.rXU(p.v$),B.rXU(a.Ix),B.rXU(O.I),B.rXU(L.c$),B.rXU(f.B))}}static{this.\u0275cmp=B.VBU({type:K,selectors:[["ds-create-comcol"]],standalone:!0,features:[B.aNF],decls:0,vars:0,template:function(R,C){},encapsulation:2})}}return K})()},93302:(g,u,t)=>{"use strict";t.d(u,{D:()=>D});var i=t(84412),e=t(61594),n=t(96354),r=t(43446),c=t(54104),l=t(4093),_=t(9847),o=t(54438),d=t(7901),m=t(68018);let D=(()=>{class f{constructor(v,P,O,B,a,L){this.dsoDataService=v,this.dsoNameService=P,this.router=O,this.route=B,this.notifications=a,this.translate=L,this.processing$=new i.t(!1)}ngOnInit(){this.dsoRD$=this.route.data.pipe((0,e.$)(),(0,n.T)(v=>v.dso))}onConfirm(v){this.processing$.next(!0),this.dsoDataService.delete(v.id).pipe((0,l.qD)()).subscribe(P=>{if(P.hasSucceeded){const O=this.translate.instant(v.type+".delete.notification.success");this.notifications.success(O)}else{const O=this.translate.instant(v.type+".delete.notification.fail");this.notifications.error(O)}this.router.navigate(["/"])})}onCancel(v){this.router.navigate([this.frontendURL+"/"+v.uuid+"/edit"])}static{this.\u0275fac=function(P){return new(P||f)(o.rXU(c.x),o.rXU(r.f),o.rXU(d.Ix),o.rXU(d.nX),o.rXU(_.I),o.rXU(m.c$))}}static{this.\u0275cmp=o.VBU({type:f,selectors:[["ds-delete-comcol"]],standalone:!0,features:[o.aNF],decls:0,vars:0,template:function(P,O){},encapsulation:2})}}return f})()},16044:(g,u,t)=>{"use strict";t.r(u),t.d(u,{ComcolPageBrowseByComponent:()=>F});var i=t(60177),e=t(89417),n=t(7901),r=t(68018),c=t(84412),l=t(84572),_=t(96354),o=t(99172),d=t(5964),m=t(23294),D=t(96697),f=t(79096),p=t(47067),v=t(39015),P=t(57168),O=t(4093),B=t(89777),a=t(54438);function L(T,R){if(1&T&&(a.j41(0,"a",8),a.nI1(1,"async"),a.nI1(2,"async"),a.EFF(3),a.nI1(4,"translate"),a.k0s()),2&T){let C,E;const h=R.$implicit,y=a.XpG(2);a.AVh("active",(null==(C=a.bMT(1,6,y.currentOption$))?null:C.id)===h.id),a.Y8G("routerLink",h.routerLink)("queryParams",h.params),a.BMQ("aria-current",(null==(E=a.bMT(2,8,y.currentOption$))?null:E.id)===h.id),a.R7$(3),a.SpI(" ",a.bMT(4,10,h.label)," ")}}function A(T,R){if(1&T&&(a.j41(0,"option",7),a.nI1(1,"async"),a.EFF(2),a.nI1(3,"translate"),a.k0s()),2&T){let C;const E=R.$implicit,h=a.XpG(2);a.Y8G("value",E.id),a.BMQ("selected",(null==(C=a.bMT(1,3,h.currentOption$))?null:C.id)===E.id?"selected":null),a.R7$(2),a.SpI(" ",a.bMT(3,5,E.label)," ")}}function K(T,R){if(1&T){const C=a.RV6();a.j41(0,"nav",1)(1,"div",2)(2,"div",3),a.Z7z(3,L,5,12,"a",4,a.fX1),a.k0s()(),a.j41(5,"div",5)(6,"select",6),a.bIt("change",function(h){a.eBV(C);const y=a.XpG();return a.Njj(y.onSelectChange(h))}),a.Z7z(7,A,4,7,"option",7,a.fX1),a.k0s()()()}if(2&T){const C=R;a.R7$(3),a.Dyx(C),a.R7$(4),a.Dyx(C)}}let F=(()=>{class T{constructor(C,E,h){this.appConfig=C,this.router=E,this.browseService=h,this.currentOption$=new c.t(void 0),this.subs=[]}ngOnInit(){let C;this.allOptions$=this.browseService.getBrowseDefinitions().pipe((0,O.qD)(),(0,_.T)(E=>{const h=[];if(E.hasSucceeded){let y;"collection"===this.contentType?(y=(0,p.JW)(this.id),h.push({id:"search",label:"collection.page.browse.search.head",routerLink:`${y}/search`})):"community"===this.contentType&&(y=(0,v.c5)(this.id),h.push({id:"search",label:"collection.page.browse.search.head",routerLink:`${y}/search`}),h.push({id:"comcols",label:"community.all-lists.head",routerLink:`${y}/subcoms-cols`})),h.push(...E.payload.page.map(x=>({id:`browse_${x.id}`,label:`browse.comcol.by.${x.id}`,routerLink:`${y}/browse/${x.id}`}))),"search"!==this.appConfig[this.contentType].defaultBrowseTab&&h.push(h.shift())}return h})),"collection"===this.contentType?C=(0,p.JW)(this.id):"community"===this.contentType&&(C=(0,v.c5)(this.id)),this.subs.push((0,l.z)([this.allOptions$,this.router.events.pipe((0,o.Z)(this.router),(0,d.p)(E=>(0,B.hj)(E?.url)||E?.type===n.Bx.Scroll),(0,_.T)(E=>E?.url||E.routerEvent.urlAfterRedirects),(0,m.F)())]).subscribe(([E,h])=>{for(const y of E){if(h?.split("?")[0]===C&&y.id===this.appConfig[this.contentType].defaultBrowseTab){this.router.navigate([y.routerLink],{queryParams:y.params,replaceUrl:!0});break}if(y.routerLink===h?.split("?")[0]){this.currentOption$.next(y);break}}})),this.router.url?.split("?")[0]===C&&this.allOptions$.pipe((0,D.s)(1)).subscribe(E=>{for(const h of E)if(h.id===this.appConfig[this.contentType].defaultBrowseTab){this.currentOption$.next(h[0]),this.router.navigate([h.routerLink],{queryParams:h.params});break}})}ngOnDestroy(){this.subs.forEach(C=>C.unsubscribe())}onSelectChange(C){this.allOptions$.pipe((0,D.s)(1)).subscribe(E=>{for(const h of E)if(h.id===C.target.value){this.currentOption$.next(h[0]),this.router.navigate([h.routerLink],{queryParams:h.params});break}})}static{this.\u0275fac=function(E){return new(E||T)(a.rXU(f.vQ),a.rXU(n.Ix),a.rXU(P.q))}}static{this.\u0275cmp=a.VBU({type:T,selectors:[["ds-base-comcol-page-browse-by"]],inputs:{id:"id",contentType:"contentType"},standalone:!0,features:[a.aNF],decls:5,vars:6,consts:[[1,"comcol-browse-label"],["aria-label","Browse Community or Collection",1,"comcol-browse","mb-4"],[1,"d-none","d-sm-block"],["role","tablist",1,"list-group","list-group-horizontal"],["role","tab","role","tab","tabindex","0",1,"list-group-item",3,"routerLink","queryParams","active"],[1,"d-block","d-sm-none"],["name","browse-type","aria-label","Browse Community or Collection",1,"form-select",3,"change"],[3,"value"],["role","tab","role","tab","tabindex","0",1,"list-group-item",3,"routerLink","queryParams"]],template:function(E,h){if(1&E&&(a.j41(0,"h2",0),a.EFF(1),a.nI1(2,"translate"),a.k0s(),a.DNE(3,K,9,0,"nav",1),a.nI1(4,"async")),2&E){let y;a.R7$(),a.JRh(a.bMT(2,2,"browse.comcol.head")),a.R7$(2),a.vxM((y=a.bMT(4,4,h.allOptions$))?3:-1,y)}},dependencies:[i.Jj,e.YN,e.xH,e.y7,n.Wk,r.h,r.D9]})}}return T})()},2690:(g,u,t)=>{"use strict";t.d(u,{g:()=>l});var i=t(29710),n=(t(16044),t(54438));const r=["*"];function c(_,o){}let l=(()=>{class _ extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["id","contentType"]}getComponentName(){return"ComcolPageBrowseByComponent"}importThemedComponent(d){return t(7754)(`./${d}/app/shared/comcol/comcol-page-browse-by/comcol-page-browse-by.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,16044))}static{this.\u0275fac=(()=>{let d;return function(D){return(d||(d=n.xGo(_)))(D||_)}})()}static{this.\u0275cmp=n.VBU({type:_,selectors:[["ds-comcol-page-browse-by"]],inputs:{id:"id",contentType:"contentType"},standalone:!0,features:[n.Vt3,n.aNF],ngContentSelectors:r,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(m,D){1&m&&(n.NAR(),n.DNE(0,c,0,0,"ng-template",null,0,n.C5r),n.j41(2,"div",null,1),n.SdG(4),n.k0s())},encapsulation:2})}}return _})()},31696:(g,u,t)=>{"use strict";t.d(u,{s:()=>c});var i=t(29710),e=t(54438);const n=["*"];function r(l,_){}let c=(()=>{class l extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["title","content","hasInnerHtml"]}getComponentName(){return"ComcolPageContentComponent"}importThemedComponent(o){return t(41454)(`./${o}/app/shared/comcol/comcol-page-content/comcol-page-content.component`)}importUnthemedComponent(){return t.e(2076).then(t.bind(t,52488))}static{this.\u0275fac=(()=>{let o;return function(m){return(o||(o=e.xGo(l)))(m||l)}})()}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ds-comcol-page-content"]],inputs:{title:"title",content:"content",hasInnerHtml:"hasInnerHtml"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:n,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,m){1&d&&(e.NAR(),e.DNE(0,r,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return l})()},30792:(g,u,t)=>{"use strict";t.d(u,{T:()=>c});var i=t(29710),e=t(54438);const n=["*"];function r(l,_){}let c=(()=>{class l extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["title","content"]}getComponentName(){return"ComcolPageHandleComponent"}importThemedComponent(o){return t(85830)(`./${o}/app/shared/comcol/comcol-page-handle/comcol-page-handle.component`)}importUnthemedComponent(){return t.e(2076).then(t.bind(t,33362))}static{this.\u0275fac=(()=>{let o;return function(m){return(o||(o=e.xGo(l)))(m||l)}})()}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ds-comcol-page-handle"]],inputs:{title:"title",content:"content"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:n,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,m){1&d&&(e.NAR(),e.DNE(0,r,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return l})()},2172:(g,u,t)=>{"use strict";t.d(u,{H:()=>n});var i=t(54438);function e(r,c){if(1&r&&(i.j41(0,"h1"),i.EFF(1),i.k0s()),2&r){const l=i.XpG();i.R7$(),i.JRh(l.name)}}let n=(()=>{class r{static{this.\u0275fac=function(_){return new(_||r)}}static{this.\u0275cmp=i.VBU({type:r,selectors:[["ds-comcol-page-header"]],inputs:{name:"name"},standalone:!0,features:[i.aNF],decls:1,vars:1,template:function(_,o){1&_&&i.DNE(0,e,2,1,"h1"),2&_&&i.vxM(o.name?0:-1)}})}}return r})()},18235:(g,u,t)=>{"use strict";t.d(u,{X:()=>r}),t(21832);var e=t(54438);function n(c,l){if(1&c){const _=e.RV6();e.j41(0,"div",0)(1,"img",1),e.bIt("error",function(d){e.eBV(_);const m=e.XpG();return e.Njj(m.errorHandler(d))}),e.k0s()()}if(2&c){const _=e.XpG();e.R7$(),e.Y8G("src",_.logo._links.content.href,e.B4B),e.BMQ("alt",_.alternateText?_.alternateText:null)}}let r=(()=>{class c{constructor(){this.holderSource="data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2293%22%20height%3D%22120%22%20viewBox%3D%220%200%2093%20120%22%20preserveAspectRatio%3D%22none%22%3E%3C!--%0ASource%20URL%3A%20holder.js%2F93x120%3Ftext%3DNo%20Thumbnail%0ACreated%20with%20Holder.js%202.8.2.%0ALearn%20more%20at%20http%3A%2F%2Fholderjs.com%0A(c)%202012-2015%20Ivan%20Malopinsky%20-%20http%3A%2F%2Fimsky.co%0A--%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%3C!%5BCDATA%5B%23holder_1543e460b05%20text%20%7B%20fill%3A%23AAAAAA%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A10pt%20%7D%20%5D%5D%3E%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_1543e460b05%22%3E%3Crect%20width%3D%2293%22%20height%3D%22120%22%20fill%3D%22%23EEEEEE%22%2F%3E%3Cg%3E%3Ctext%20x%3D%2235.6171875%22%20y%3D%2257%22%3ENo%3C%2Ftext%3E%3Ctext%20x%3D%2210.8125%22%20y%3D%2272%22%3EThumbnail%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"}errorHandler(_){_.currentTarget.src=this.holderSource}static{this.\u0275fac=function(o){return new(o||c)}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["ds-comcol-page-logo"]],inputs:{logo:"logo",alternateText:"alternateText"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[[1,"dso-logo","mb-3"],[1,"w-100","img-fluid",3,"error","src"]],template:function(o,d){1&o&&e.DNE(0,n,2,2,"div",0),2&o&&e.vxM(d.logo?0:-1)},styles:["img[_ngcontent-%COMP%]{max-width:var(--ds-comcol-logo-max-width);max-height:var(--ds-comcol-logo-max-height)}"]})}}return c})()},95551:(g,u,t)=>{"use strict";t.d(u,{O:()=>l});var i=t(60177),e=t(96354),n=t(37345),r=t(54438),c=t(7901);let l=(()=>{class _{constructor(d){this.route=d}ngOnInit(){this.browseByType$=this.route.data.pipe((0,e.T)(d=>({type:d.browseDefinition.getRenderType()}))),this.scope$=this.route.data.pipe((0,e.T)(d=>d.scope))}static{this.\u0275fac=function(m){return new(m||_)(r.rXU(c.nX))}}static{this.\u0275cmp=r.VBU({type:_,selectors:[["ds-comcol-browse-by"]],standalone:!0,features:[r.aNF],decls:3,vars:7,consts:[[3,"browseByType","displayTitle","scope"]],template:function(m,D){1&m&&(r.nrm(0,"ds-browse-by-switcher",0),r.nI1(1,"async"),r.nI1(2,"async")),2&m&&r.Y8G("browseByType",r.bMT(1,3,D.browseByType$))("displayTitle",!1)("scope",r.bMT(2,5,D.scope$))},dependencies:[i.Jj,n.e]})}}return _})()},72509:(g,u,t)=>{"use strict";t.d(u,{E:()=>m});var i=t(60177),e=t(96354),n=t(79096),r=t(82584),c=t(50553),l=t(89777),_=t(89336),o=t(54438),d=t(7901);let m=(()=>{class D{constructor(p,v){this.appConfig=p,this.route=v}ngOnInit(){this.comcol$=this.route.parent.data.pipe((0,e.T)(p=>p.dso.payload)),this.showSidebar$=this.comcol$.pipe((0,e.T)(p=>(0,l.a4)(p)&&this.appConfig[p.type].searchSection.showSidebar))}static{this.\u0275fac=function(v){return new(v||D)(o.rXU(n.vQ),o.rXU(d.nX))}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["ds-comcol-search-section"]],standalone:!0,features:[o.Jv_([{provide:c.EN,useClass:r.g}]),o.aNF],decls:4,vars:11,consts:[[3,"configuration","showSidebar","showScopeSelector","hideScopeInUrl","scope"]],template:function(v,P){if(1&v&&(o.nrm(0,"ds-search",0),o.nI1(1,"async"),o.nI1(2,"async"),o.nI1(3,"async")),2&v){let O,B;o.Y8G("configuration",null==(O=o.bMT(1,5,P.comcol$))?null:O.type)("showSidebar",o.bMT(2,7,P.showSidebar$))("showScopeSelector",!1)("hideScopeInUrl",!0)("scope",null==(B=o.bMT(3,9,P.comcol$))?null:B.id)}},dependencies:[i.Jj,_.N]})}}return D})()},7754:(g,u,t)=>{var i={"./custom/app/shared/comcol/comcol-page-browse-by/comcol-page-browse-by.component":[24163,4163]};function e(n){if(!t.o(i,n))return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l});var r=i[n],c=r[0];return t.e(r[1]).then(()=>t(c))}e.keys=()=>Object.keys(i),e.id=7754,g.exports=e},41454:(g,u,t)=>{var i={"./custom/app/shared/comcol/comcol-page-content/comcol-page-content.component":[719,2076,719]};function e(n){if(!t.o(i,n))return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l});var r=i[n],c=r[0];return Promise.all(r.slice(1).map(t.e)).then(()=>t(c))}e.keys=()=>Object.keys(i),e.id=41454,g.exports=e},85830:(g,u,t)=>{var i={"./custom/app/shared/comcol/comcol-page-handle/comcol-page-handle.component":[13457,2076,3457]};function e(n){if(!t.o(i,n))return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l});var r=i[n],c=r[0];return Promise.all(r.slice(1).map(t.e)).then(()=>t(c))}e.keys=()=>Object.keys(i),e.id=85830,g.exports=e}}]);