"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[2973],{80495:(R,u,s)=>{s.d(u,{Q:()=>f});class f{constructor(r,i){this.text=r,this.url=i}}},59072:(R,u,s)=>{s.d(u,{S:()=>v});var f=s(54438),C=s(89777),r=s(54034),i=s(7673),p=s(80495);let g=(()=>{class c{getBreadcrumbs(m,h){return(0,i.of)([new p.Q(m+".breadcrumbs",h)])}static{this.\u0275fac=function(h){return new(h||c)}}static{this.\u0275prov=f.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();const v=(c,I,m=(0,f.WQX)(g))=>{const h=c.data.breadcrumbKey;if((0,C.Tn)(h))throw new Error('You provided an i18nBreadcrumbResolver for url "'+c.url+"\" but no breadcrumbKey in the route's data");return{provider:m,key:h,url:(0,r.F)(c)}}},22973:(R,u,s)=>{s.r(u),s.d(u,{ROUTES:()=>lt});var f=s(59072),C=s(42657),r=s(60177),i=s(58003),p=s(68018),_=s(84412),g=s(96697),v=s(64972),c=s(74082),I=s(96354),m=s(25558),h=s(32506),y=s(7094),t=s(54438);let F=(()=>{class n{constructor(e,o){this.halService=e,this.restService=o}getHealth(){return this.halService.getEndpoint("/actuator").pipe((0,I.T)(e=>e+"/health"),(0,m.n)(e=>this.restService.get(e)))}getInfo(){return this.halService.getEndpoint("/actuator").pipe((0,I.T)(e=>e+"/info"),(0,m.n)(e=>this.restService.get(e)))}static{this.\u0275fac=function(o){return new(o||n)(t.KVO(y.Y),t.KVO(h.Y))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var b=s(18902),T=function(n){return n.UP="UP",n.UP_WITH_ISSUES="UP_WITH_ISSUES",n.DOWN="DOWN",n}(T||{});function $(n,l){1&n&&(t.nrm(0,"i",0),t.nI1(1,"translate")),2&n&&t.FS9("ngbTooltip",t.bMT(1,1,"health-page.status.ok.info"))}function N(n,l){1&n&&(t.nrm(0,"i",1),t.nI1(1,"translate")),2&n&&t.FS9("ngbTooltip",t.bMT(1,1,"health-page.status.warning.info"))}function j(n,l){1&n&&(t.nrm(0,"i",2),t.nI1(1,"translate")),2&n&&t.FS9("ngbTooltip",t.bMT(1,1,"health-page.status.error.info"))}let x=(()=>{class n{constructor(){this.HealthStatus=T}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["ds-health-status"]],inputs:{status:"status"},standalone:!0,features:[t.aNF],decls:3,vars:1,consts:[["container","body",1,"fa","fa-check-circle","text-success","ms-2","mt-1",3,"ngbTooltip"],["container","body",1,"fa","fa-exclamation-triangle","text-warning","ms-2","mt-1",3,"ngbTooltip"],["container","body",1,"fa","fa-times-circle","text-danger","ms-2","mt-1",3,"ngbTooltip"]],template:function(o,a){if(1&o&&t.DNE(0,$,2,3,"i",0)(1,N,2,3,"i",1)(2,j,2,3,"i",2),2&o){let d;t.vxM((d=a.status)===a.HealthStatus.UP?0:d===a.HealthStatus.UP_WITH_ISSUES?1:d===a.HealthStatus.DOWN?2:-1)}},dependencies:[i.n8,i.md,p.h,p.D9],styles:["[_nghost-%COMP%]{display:flex}"]})}}return n})();function H(n,l){1&n&&t.nrm(0,"span",6)}function M(n,l){1&n&&t.nrm(0,"span",7)}function S(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",2)(1,"div",3),t.bIt("click",function(){t.eBV(e);const a=t.sdS(9);return t.Njj(a.toggle())}),t.j41(2,"button",4),t.bIt("click",function(a){return t.eBV(e),t.Njj(a.preventDefault())}),t.EFF(3),t.nI1(4,"titlecase"),t.k0s(),t.j41(5,"div",5),t.DNE(6,H,1,0,"span",6)(7,M,1,0,"span",7),t.k0s()(),t.j41(8,"div",8,0)(10,"div",9)(11,"div",10),t.nrm(12,"ds-health-component",11),t.k0s()()()()}if(2&n){const e=l.$implicit,o=t.sdS(9),a=t.XpG(2);t.R7$(2),t.BMQ("aria-expanded",!o.collapsed)("aria-controls","health-component-"+e.key+"content"),t.R7$(),t.SpI(" ",t.bMT(4,9,e.key)," "),t.R7$(3),t.vxM(o.collapsed?6:-1),t.R7$(),t.vxM(o.collapsed?-1:7),t.R7$(),t.Y8G("id","health-component-"+e.key+"content")("ngbCollapse",a.isCollapsed),t.R7$(4),t.Y8G("healthComponent",e.value)("healthComponentName",e.key)}}function G(n,l){if(1&n&&(t.Z7z(0,S,13,11,"div",2,t.fX1),t.nI1(2,"dsObjNgFor")),2&n){const e=t.XpG();t.Dyx(t.bMT(2,0,null==e.healthComponent?null:e.healthComponent.components))}}function P(n,l){if(1&n&&(t.j41(0,"div",12)(1,"p",13)(2,"span",14),t.EFF(3),t.nI1(4,"titlecase"),t.k0s(),t.EFF(5),t.k0s()()),2&n){const e=l.$implicit,o=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,2,o.getPropertyLabel(e.key))),t.R7$(2),t.SpI(" : ",e.value,"")}}function E(n,l){if(1&n&&(t.Z7z(0,P,6,4,"div",12,t.fX1),t.nI1(2,"dsObjNgFor")),2&n){const e=t.XpG();t.Dyx(t.bMT(2,0,null==e.healthComponent?null:e.healthComponent.details))}}function X(n,l){if(1&n&&t.nrm(0,"ds-alert",1),2&n){const e=t.XpG();t.Y8G("content","health-page.section.no-issues")("type",e.AlertTypeEnum.Info)}}let k=(()=>{class n{constructor(e){this.translate=e,this.AlertTypeEnum=c.v,this.isCollapsed=!1}getPropertyLabel(e){const o=`health-page.property.${e}`,a=this.translate.instant(o);return a===o?e:a}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(p.c$))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["ds-health-component"]],inputs:{healthComponent:"healthComponent",healthComponentName:"healthComponentName"},standalone:!0,features:[t.aNF],decls:3,vars:3,consts:[["collapse","ngbCollapse"],[3,"content","type"],["data-test","collapse",1,"mb-3","border-bottom"],[1,"w-100","d-flex","gap-3","justify-content-between","collapse-toggle",3,"click"],["type","button",1,"btn","btn-link","p-0",3,"click"],[1,"d-flex","my-auto"],[1,"fas","fa-chevron-down"],[1,"fas","fa-chevron-up"],[3,"id","ngbCollapse"],[1,"card","border-0"],[1,"card-body"],[3,"healthComponent","healthComponentName"],["data-test","details"],["data-test","property"],[1,"fw-bold"]],template:function(o,a){1&o&&t.DNE(0,G,3,2)(1,E,3,2)(2,X,1,2,"ds-alert",1),2&o&&(t.vxM(null!=a.healthComponent&&a.healthComponent.components?0:-1),t.R7$(),t.vxM(null!=a.healthComponent&&a.healthComponent.details?1:-1),t.R7$(),t.vxM(null!=a.healthComponent&&a.healthComponent.details||null!=a.healthComponent&&a.healthComponent.components?-1:2))},dependencies:[n,v.C,i.HC,i.$G,b.U,r.PV],styles:[".collapse-toggle[_ngcontent-%COMP%]{cursor:pointer}"]})}}return n})();function D(n,l){1&n&&t.nrm(0,"span",7)}function U(n,l){1&n&&t.nrm(0,"span",8)}function B(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",2)(1,"div",4),t.bIt("click",function(){t.eBV(e);const a=t.sdS(9);return t.Njj(a.toggle())}),t.j41(2,"button",5),t.bIt("click",function(a){return t.eBV(e),t.Njj(a.preventDefault())}),t.EFF(3),t.nI1(4,"titlecase"),t.k0s(),t.j41(5,"div",6),t.DNE(6,D,1,0,"span",7)(7,U,1,0,"span",8),t.k0s()(),t.j41(8,"div",9,0)(10,"div",10)(11,"div",11),t.nrm(12,"ds-health-info-component",12),t.k0s()()()()}if(2&n){const e=t.sdS(9),o=t.XpG().$implicit,a=t.XpG();t.R7$(2),t.BMQ("aria-expanded",!e.collapsed)("aria-controls","health-info-component-"+o.key+"-content"),t.R7$(),t.SpI(" ",t.bMT(4,10,o.key)," "),t.R7$(3),t.vxM(e.collapsed?6:-1),t.R7$(),t.vxM(e.collapsed?-1:7),t.R7$(),t.Y8G("id","health-info-component-"+o.key+"-content")("ngbCollapse",a.isCollapsed),t.R7$(4),t.Y8G("healthInfoComponent",o.value)("healthInfoComponentName",o.key)("isNested",!0)}}function O(n,l){if(1&n&&(t.j41(0,"p",3)(1,"span",13),t.EFF(2),t.nI1(3,"titlecase"),t.k0s(),t.EFF(4),t.k0s()),2&n){const e=t.XpG().$implicit,o=t.XpG();t.R7$(2),t.JRh(t.bMT(3,2,o.getPropertyLabel(e.key))),t.R7$(2),t.SpI(" : ",e.value,"")}}function V(n,l){if(1&n&&(t.j41(0,"div",1),t.DNE(1,B,13,12,"div",2)(2,O,5,4,"p",3),t.k0s()),2&n){const e=l.$implicit,o=t.XpG();t.R7$(),t.vxM(e&&!o.isPlainProperty(e.value)?1:-1),t.R7$(),t.vxM(e&&o.isPlainProperty(e.value)?2:-1)}}let Y=(()=>{class n extends k{constructor(){super(...arguments),this.isNested=!1,this.isCollapsed=!1}isPlainProperty(e){return"string"==typeof e}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})()}static{this.\u0275cmp=t.VBU({type:n,selectors:[["ds-health-info-component"]],inputs:{healthInfoComponent:"healthInfoComponent",healthInfoComponentName:"healthInfoComponentName",isNested:"isNested"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["collapse","ngbCollapse"],["data-test","collapse"],[1,"mb-3","border-bottom"],["data-test","property"],[1,"w-100","d-flex","gap-3","justify-content-between","collapse-toggle",3,"click"],["type","button",1,"btn","btn-link","p-0",3,"click"],[1,"d-flex","my-auto"],[1,"fas","fa-chevron-down"],[1,"fas","fa-chevron-up"],[3,"id","ngbCollapse"],[1,"card","border-0"],[1,"card-body"],["data-test","info-component",3,"healthInfoComponent","healthInfoComponentName","isNested"],[1,"fw-bold"]],template:function(o,a){1&o&&(t.Z7z(0,V,3,2,"div",1,t.fX1),t.nI1(2,"dsObjNgFor")),2&o&&t.Dyx(t.bMT(2,0,a.healthInfoComponent))},dependencies:[n,i.HC,i.$G,b.U,r.PV],styles:[".collapse-toggle[_ngcontent-%COMP%]{cursor:pointer}"]})}}return n})();function w(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",5),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit;t.XpG();const d=t.sdS(1);return t.Njj(d.toggle(a.key))}),t.j41(1,"button",6),t.bIt("click",function(a){return t.eBV(e),t.Njj(a.preventDefault())}),t.EFF(2),t.nI1(3,"titlecase"),t.k0s(),t.j41(4,"div",7),t.nrm(5,"ds-health-status",8),t.k0s()()}if(2&n){const e=t.XpG().$implicit;t.XpG();const o=t.sdS(1),a=t.XpG();t.R7$(),t.BMQ("aria-expanded",o.isExpanded(e.key))("aria-controls","health-info-"+e.key+"-content"),t.R7$(),t.SpI(" ",t.bMT(3,4,a.getPanelLabel(e.key))," "),t.R7$(3),t.Y8G("status",null==e.value?null:e.value.status)}}function A(n,l){if(1&n&&t.nrm(0,"ds-health-info-component",9),2&n){const e=t.XpG().$implicit;t.Y8G("healthInfoComponentName",e.key)("healthInfoComponent",e.value)("id","health-info-"+e.key+"-content")}}function L(n,l){1&n&&(t.j41(0,"ngb-panel",2),t.DNE(1,w,6,6,"ng-template",3)(2,A,1,3,"ng-template",4),t.k0s()),2&n&&t.Y8G("id",l.$implicit.key)}function W(n,l){if(1&n&&(t.j41(0,"ngb-accordion",1,0),t.Z7z(2,L,3,1,"ngb-panel",2,t.fX1),t.nI1(4,"dsObjNgFor"),t.k0s()),2&n){const e=t.XpG();t.Y8G("activeIds",e.activeId),t.R7$(2),t.Dyx(t.bMT(4,1,e.healthInfoResponse))}}let Q=(()=>{class n{constructor(e){this.translate=e}ngOnInit(){this.activeId=Object.keys(this.healthInfoResponse)[0]}getPanelLabel(e){const o=`health-page.section-info.${e}.title`,a=this.translate.instant(o);return a===o?e:a}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(p.c$))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["ds-health-info"]],inputs:{healthInfoResponse:"healthInfoResponse"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["acc","ngbAccordion"],[3,"activeIds"],[3,"id"],["ngbPanelTitle",""],["ngbPanelContent",""],["data-test","info-component",1,"w-100","d-flex","gap-3","justify-content-between","collapse-toggle",3,"click"],["type","button",1,"btn","btn-link","p-0",3,"click"],[1,"text-end","d-flex","gap-2"],[1,"me-2",3,"status"],[3,"healthInfoComponentName","healthInfoComponent","id"]],template:function(o,a){1&o&&t.DNE(0,W,5,3,"ngb-accordion",1),2&o&&t.vxM(a.healthInfoResponse?0:-1)},dependencies:[Y,x,i._f,i.W1,i.CT,i.sb,i.t3,b.U,r.PV],styles:[".collapse-toggle[_ngcontent-%COMP%]{cursor:pointer}"]})}}return n})();function J(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",7),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit;t.XpG();const d=t.sdS(5);return t.Njj(d.toggle(a.key))}),t.j41(1,"button",8),t.bIt("click",function(a){return t.eBV(e),t.Njj(a.preventDefault())}),t.EFF(2),t.nI1(3,"titlecase"),t.k0s(),t.j41(4,"div",9),t.nrm(5,"ds-health-status",10),t.k0s()()}if(2&n){const e=t.XpG().$implicit,o=t.XpG(),a=t.sdS(5);t.R7$(),t.BMQ("aria-expanded",a.isExpanded(e.key))("aria-controls","health-panel-"+e.key+"-content"),t.R7$(),t.SpI(" ",t.bMT(3,4,o.getPanelLabel(e.key))," "),t.R7$(3),t.Y8G("status",null==e.value?null:e.value.status)}}function K(n,l){if(1&n&&t.nrm(0,"ds-health-component",11),2&n){const e=t.XpG().$implicit;t.Y8G("healthComponent",e.value)("healthComponentName",e.key)("id","health-panel-"+e.key+"-content")}}function z(n,l){1&n&&(t.j41(0,"ngb-panel",4),t.DNE(1,J,6,6,"ng-template",5)(2,K,1,3,"ng-template",6),t.k0s()),2&n&&t.Y8G("id",l.$implicit.key)}let Z=(()=>{class n{constructor(e){this.translate=e}ngOnInit(){this.activeId=Object.keys(this.healthResponse.components)[0]}getPanelLabel(e){const o=`health-page.section.${e}.title`,a=this.translate.instant(o);return a===o?e:a}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(p.c$))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["ds-health-panel"]],inputs:{healthResponse:"healthResponse"},standalone:!0,features:[t.aNF],decls:9,vars:7,consts:[["acc","ngbAccordion"],[1,"h4"],[1,"d-inline-flex",3,"status"],[3,"activeIds"],[3,"id"],["ngbPanelTitle",""],["ngbPanelContent",""],["data-test","component",1,"w-100","d-flex","gap-3","justify-content-between","collapse-toggle",3,"click"],["type","button",1,"btn","btn-link","p-0",3,"click"],[1,"text-end","d-flex","gap-2"],[1,"me-2",3,"status"],["role","presentation",3,"healthComponent","healthComponentName","id"]],template:function(o,a){1&o&&(t.j41(0,"p",1),t.EFF(1),t.nI1(2,"translate"),t.nrm(3,"ds-health-status",2),t.k0s(),t.j41(4,"ngb-accordion",3,0),t.Z7z(6,z,3,1,"ngb-panel",4,t.fX1),t.nI1(8,"dsObjNgFor"),t.k0s()),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,3,"health-page.status"),": "),t.R7$(2),t.Y8G("status",a.healthResponse.status),t.R7$(),t.Y8G("activeIds",a.activeId),t.R7$(2),t.Dyx(t.bMT(8,5,a.healthResponse.components)))},dependencies:[k,x,i._f,i.W1,i.CT,i.sb,i.t3,b.U,r.PV,p.h,p.D9],styles:[".collapse-toggle[_ngcontent-%COMP%]{cursor:pointer}"]})}}return n})();function q(n,l){if(1&n&&(t.j41(0,"div",9),t.nrm(1,"ds-health-panel",10),t.nI1(2,"async"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.Y8G("healthResponse",t.bMT(2,1,e.healthResponse))}}function tt(n,l){if(1&n&&(t.j41(0,"div",11),t.nrm(1,"ds-health-info",12),t.nI1(2,"async"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.Y8G("healthInfoResponse",t.bMT(2,1,e.healthInfoResponse))}}function et(n,l){if(1&n&&(t.j41(0,"div")(1,"ul",3,0)(3,"li",4)(4,"a",5),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.DNE(7,q,3,3,"ng-template",6),t.k0s(),t.j41(8,"li",4)(9,"a",7),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.DNE(12,tt,3,3,"ng-template",6),t.k0s()(),t.nrm(13,"div",8),t.k0s()),2&n){const e=t.sdS(2);t.R7$(),t.Y8G("activeId","status"),t.R7$(2),t.Y8G("ngbNavItem","status"),t.R7$(2),t.JRh(t.bMT(6,6,"health-page.status-tab")),t.R7$(3),t.Y8G("ngbNavItem","info"),t.R7$(2),t.JRh(t.bMT(11,8,"health-page.info-tab")),t.R7$(3),t.Y8G("ngbNavOutlet",e)}}function nt(n,l){if(1&n&&t.nrm(0,"ds-alert",2),2&n){const e=t.XpG(2);t.Y8G("type",e.AlertType.Error)("content","health-page.error.msg")}}function ot(n,l){if(1&n&&(t.j41(0,"div",1)(1,"h1"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,et,14,10,"div"),t.nI1(5,"async"),t.nI1(6,"async"),t.DNE(7,nt,1,2,"ds-alert",2),t.nI1(8,"async"),t.nI1(9,"async"),t.k0s()),2&n){const e=t.XpG();t.R7$(2),t.JRh(t.bMT(3,3,"health-page.heading")),t.R7$(2),t.vxM(t.bMT(5,5,e.healthResponse)&&t.bMT(6,7,e.healthInfoResponse)?4:-1),t.R7$(3),t.vxM(null===t.bMT(8,9,e.healthResponse)||null===t.bMT(9,11,e.healthInfoResponse)?7:-1)}}const lt=[{path:"",resolve:{breadcrumb:f.S},data:{breadcrumbKey:"health",title:"health-page.title"},canActivate:[C.Y],component:(()=>{class n{constructor(e){this.healthDataService=e,this.healthInfoResponse=new _.t(null),this.healthResponse=new _.t(null),this.healthResponseInitialised=new _.t(!1),this.healthInfoResponseInitialised=new _.t(!1),this.AlertType=c.v}ngOnInit(){this.healthDataService.getHealth().pipe((0,g.s)(1)).subscribe({next:e=>{this.healthResponse.next(e.payload),this.healthResponseInitialised.next(!0)},error:()=>{this.healthResponse.next(null),this.healthResponseInitialised.next(!0)}}),this.healthDataService.getInfo().pipe((0,g.s)(1)).subscribe({next:e=>{this.healthInfoResponse.next(e.payload),this.healthInfoResponseInitialised.next(!0)},error:()=>{this.healthInfoResponse.next(null),this.healthInfoResponseInitialised.next(!0)}})}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(F))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["ds-health-page"]],standalone:!0,features:[t.aNF],decls:3,vars:5,consts:[["nav","ngbNav"],[1,"container"],[3,"type","content"],["ngbNav","",1,"nav-tabs",3,"activeId"],["role","presentation",3,"ngbNavItem"],["data-test","health-page.status-tab","ngbNavLink",""],["ngbNavContent",""],["data-test","health-page.info-tab","ngbNavLink",""],[1,"mt-2",3,"ngbNavOutlet"],["id","status"],[3,"healthResponse"],["id","info"],[3,"healthInfoResponse"]],template:function(o,a){1&o&&(t.DNE(0,ot,10,13,"div",1),t.nI1(1,"async"),t.nI1(2,"async")),2&o&&t.vxM(t.bMT(1,1,a.healthResponseInitialised)&&t.bMT(2,3,a.healthInfoResponseInitialised)?0:-1)},dependencies:[v.C,r.Jj,Q,Z,i.Pv,i.Um,i.X9,i.sy,i.Ri,i.m_,p.h,p.D9]})}}return n})()}]}}]);