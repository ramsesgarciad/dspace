(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[857],{20120:(E,c,o)=>{"use strict";o.r(c),o.d(c,{ForgotEmailComponent:()=>s});var i=o(35118),r=o(19532),a=o(54438);let s=(()=>{class l{constructor(){this.typeRequest=r.TYPE_REQUEST_FORGOT}static{this.\u0275fac=function(h){return new(h||l)}}static{this.\u0275cmp=a.VBU({type:l,selectors:[["ds-base-forgot-email"]],standalone:!0,features:[a.aNF],decls:1,vars:2,consts:[[3,"MESSAGE_PREFIX","typeRequest"]],template:function(h,v){1&h&&a.nrm(0,"ds-register-email-form",0),2&h&&a.Y8G("MESSAGE_PREFIX","forgot-email.form")("typeRequest",v.typeRequest)},dependencies:[i.I]})}}return l})()},22330:(E,c,o)=>{"use strict";o.r(c),o.d(c,{ForgotPasswordFormComponent:()=>m});var i=o(60177),r=o(68018),a=o(96354),s=o(45124),l=o(13817),p=o(4093),g=o(22082),h=o(79104),v=o(9847),P=o(33745),t=o(54438),C=o(59640),n=o(7901);function I(d,_){if(1&d){const e=t.RV6();t.j41(0,"div",0)(1,"h1",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",2)(5,"div",3),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",4)(9,"div",5)(10,"div",6)(11,"span",7),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"span"),t.nI1(15,"dsBrowserOnly"),t.EFF(16),t.nI1(17,"async"),t.k0s()()()()(),t.j41(18,"div",2)(19,"div",3),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"div",4)(23,"ds-profile-page-security-form",8),t.bIt("isInvalid",function(u){t.eBV(e);const F=t.XpG();return t.Njj(F.setInValid(u))})("passwordValue",function(u){t.eBV(e);const F=t.XpG();return t.Njj(F.setPasswordValue(u))}),t.k0s()()(),t.j41(24,"div",5)(25,"div",6)(26,"button",9),t.bIt("click",function(){t.eBV(e);const u=t.XpG();return t.Njj(u.submit())}),t.EFF(27),t.nI1(28,"translate"),t.k0s()()()()}if(2&d){const e=t.XpG();t.R7$(2),t.JRh(t.bMT(3,10,"forgot-password.form.head")),t.R7$(4),t.JRh(t.bMT(7,12,"forgot-password.form.identification.header")),t.R7$(6),t.SpI("",t.bMT(13,14,"forgot-password.form.identification.email")," "),t.R7$(2),t.BMQ("data-test",t.bMT(15,16,"email")),t.R7$(2),t.JRh(t.bMT(17,18,e.registration$).email),t.R7$(4),t.JRh(t.bMT(21,20,"forgot-password.form.card.security")),t.R7$(3),t.Y8G("passwordCanBeEmpty",!1)("FORM_PREFIX","forgot-password.form."),t.R7$(3),t.Y8G("dsBtnDisabled",e.isInValid),t.R7$(),t.JRh(t.bMT(28,22,"forgot-password.form.submit"))}}let m=(()=>{class d{constructor(e,f,u,F,T,O){this.ePersonDataService=e,this.translateService=f,this.notificationsService=u,this.store=F,this.router=T,this.route=O,this.isInValid=!0,this.NOTIFICATIONS_PREFIX="forgot-password.form.notification"}ngOnInit(){this.registration$=this.route.data.pipe((0,a.T)(e=>e.registration),(0,p.ak)()),this.registration$.subscribe(e=>{this.email=e.email,this.token=e.token,this.user=e.user})}setInValid(e){this.isInValid=e}setPasswordValue(e){this.password=e}submit(){this.isInValid||this.ePersonDataService.patchPasswordWithToken(this.user,this.token,this.password).pipe((0,p.qD)()).subscribe(e=>{e.hasSucceeded?(this.notificationsService.success(this.translateService.instant(this.NOTIFICATIONS_PREFIX+".success.title"),this.translateService.instant(this.NOTIFICATIONS_PREFIX+".success.content")),this.store.dispatch(new s.Sn(this.email,this.password)),this.router.navigate(["/home"])):this.notificationsService.error(this.translateService.instant(this.NOTIFICATIONS_PREFIX+".error.title"),e.errorMessage)})}static{this.\u0275fac=function(f){return new(f||d)(t.rXU(l.EPersonDataService),t.rXU(r.c$),t.rXU(v.I),t.rXU(C.il),t.rXU(n.Ix),t.rXU(n.nX))}}static{this.\u0275cmp=t.VBU({type:d,selectors:[["ds-base-forgot-password-form"]],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[1,"container"],[1,"mb-4"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12"],[1,"fw-bold","form-label"],[3,"isInvalid","passwordValue","passwordCanBeEmpty","FORM_PREFIX"],[1,"btn","btn-default","btn-primary",3,"click","dsBtnDisabled"]],template:function(f,u){1&f&&(t.DNE(0,I,29,24,"div",0),t.nI1(1,"async")),2&f&&t.vxM(t.bMT(1,1,u.registration$)?0:-1)},dependencies:[i.Jj,P.L,h.A,g.q,r.h,r.D9]})}}return d})()},80857:(E,c,o)=>{"use strict";o.r(c),o.d(c,{ROUTES:()=>C});var i=o(32006),r=o(29710),s=(o(20120),o(54438));const l=["*"];function p(n,I){}let g=(()=>{class n extends r.J{getComponentName(){return"ForgotEmailComponent"}importThemedComponent(m){return o(67646)(`./${m}/app/forgot-password/forgot-password-email/forgot-email.component`)}importUnthemedComponent(){return Promise.resolve().then(o.bind(o,20120))}static{this.\u0275fac=(()=>{let m;return function(_){return(m||(m=s.xGo(n)))(_||n)}})()}static{this.\u0275cmp=s.VBU({type:n,selectors:[["ds-forgot-email"]],standalone:!0,features:[s.Vt3,s.aNF],ngContentSelectors:l,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,_){1&d&&(s.NAR(),s.DNE(0,p,0,0,"ng-template",null,0,s.C5r),s.j41(2,"div",null,1),s.SdG(4),s.k0s())},encapsulation:2})}}return n})();o(22330);const v=["*"];function P(n,I){}const C=[{path:"",component:g,data:{title:"forgot-password.title"}},{path:":token",component:(()=>{class n extends r.J{getComponentName(){return"ForgotPasswordFormComponent"}importThemedComponent(m){return o(15706)(`./${m}/app/forgot-password/forgot-password-form/forgot-password-form.component`)}importUnthemedComponent(){return Promise.resolve().then(o.bind(o,22330))}static{this.\u0275fac=(()=>{let m;return function(_){return(m||(m=s.xGo(n)))(_||n)}})()}static{this.\u0275cmp=s.VBU({type:n,selectors:[["ds-forgot-password-form"]],standalone:!0,features:[s.Vt3,s.aNF],ngContentSelectors:v,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,_){1&d&&(s.NAR(),s.DNE(0,P,0,0,"ng-template",null,0,s.C5r),s.j41(2,"div",null,1),s.SdG(4),s.k0s())},encapsulation:2})}}return n})(),canActivate:[i.r]}]},67646:(E,c,o)=>{var i={"./custom/app/forgot-password/forgot-password-email/forgot-email.component":[73729,3729]};function r(a){if(!o.o(i,a))return Promise.resolve().then(()=>{var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p});var s=i[a],l=s[0];return o.e(s[1]).then(()=>o(l))}r.keys=()=>Object.keys(i),r.id=67646,E.exports=r},15706:(E,c,o)=>{var i={"./custom/app/forgot-password/forgot-password-form/forgot-password-form.component":[76801,6801]};function r(a){if(!o.o(i,a))return Promise.resolve().then(()=>{var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p});var s=i[a],l=s[0];return o.e(s[1]).then(()=>o(l))}r.keys=()=>Object.keys(i),r.id=15706,E.exports=r}}]);