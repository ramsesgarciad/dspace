(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[5338],{67044:(b,D,n)=>{"use strict";n.d(D,{p:()=>l});var v=n(60177),u=n(1473),C=n(68018),h=n(78544),f=n(94196),y=n(81948),U=n(30684),I=n(3601),P=n(10406),x=n(17650),T=n(18235),O=n(86332),B=n(9847),W=n(84780),A=n(50186),e=n(54438),i=n(58003);function S(o,r){if(1&o){const s=e.RV6();e.j41(0,"div",10)(1,"button",11),e.bIt("click",function(){e.eBV(s);const p=e.XpG(3);return e.Njj(p.confirmLogoDeleteWithModal())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&o&&(e.R7$(2),e.SpI("",e.bMT(3,1,"community.edit.logo.delete.title")," "))}function L(o,r){if(1&o&&(e.j41(0,"div",6)(1,"div",1)(2,"div",7),e.nrm(3,"ds-comcol-page-logo",8),e.k0s(),e.j41(4,"div",9),e.DNE(5,S,4,3,"div",10),e.k0s()()()),2&o){const s=e.XpG().ngVar,t=e.XpG();e.R7$(3),e.Y8G("alternateText",t.type.value+".logo.alt")("logo",s),e.R7$(2),e.vxM(s?5:-1)}}function K(o,r){if(1&o){const s=e.RV6();e.j41(0,"ds-uploader",13),e.bIt("onCompleteItem",function(){e.eBV(s);const p=e.XpG(3);return e.Njj(p.onCompleteItem())})("onUploadError",function(){e.eBV(s);const p=e.XpG(3);return e.Njj(p.onUploadError())}),e.k0s()}if(2&o){const s=e.XpG(3);e.Y8G("ariaLabel",s.type.value+".browse.logo")("dropMsg",s.type.value+".edit.logo.upload")("dropOverDocumentMsg",s.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",s.uploadFilesOptions)}}function $(o,r){if(1&o&&(e.j41(0,"div",2),e.DNE(1,K,1,5,"ds-uploader",12),e.nI1(2,"async"),e.k0s()),2&o){const s=e.XpG(2);e.R7$(),e.vxM(e.bMT(2,1,s.initializedUploaderOptions)?1:-1)}}function j(o,r){if(1&o&&(e.qex(0),e.DNE(1,L,6,3,"div",6)(2,$,3,3,"div",2),e.bVm()),2&o){const s=r.ngVar;e.R7$(),e.vxM(s?1:-1),e.R7$(),e.vxM(s?-1:2)}}function G(o,r){if(1&o){const s=e.RV6();e.j41(0,"ds-form",14),e.bIt("submitForm",function(){e.eBV(s);const p=e.XpG();return e.Njj(p.onSubmit())}),e.j41(1,"button",15),e.bIt("click",function(){e.eBV(s);const p=e.XpG();return e.Njj(p.back.emit())}),e.nrm(2,"i",16),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&o){const s=e.XpG();e.Y8G("formId","comcol-form-id")("formModel",s.formModel)("displayCancel",!1),e.R7$(3),e.SpI(" ",e.bMT(4,4,s.type.value+".edit.return")," ")}}let l=(()=>{class o extends x.V{constructor(s,t,p,X,z,N,V,g){super(s,t,p,X,N,V,g),this.formService=s,this.translate=t,this.notificationsService=p,this.authService=X,this.dsoService=z,this.requestService=N,this.objectCache=V,this.modalService=g,this.dso=new P.E,this.type=P.E.type,this.formModel=[new u.rA_({id:"title",name:"dc.title",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this title"}}),new u.Zex({id:"description",name:"dc.description",spellCheck:h.c.form.spellCheck}),new u.Zex({id:"abstract",name:"dc.description.abstract",spellCheck:h.c.form.spellCheck}),new u.Zex({id:"rights",name:"dc.rights",spellCheck:h.c.form.spellCheck}),new u.Zex({id:"tableofcontents",name:"dc.description.tableofcontents",spellCheck:h.c.form.spellCheck})]}ngOnChanges(s){const t=s.dso;this.dso&&t&&!t.isFirstChange()&&super.ngOnInit()}static{this.\u0275fac=function(t){return new(t||o)(e.rXU(u.J9r),e.rXU(C.c$),e.rXU(B.I),e.rXU(f.uR),e.rXU(U.CommunityDataService),e.rXU(I.B),e.rXU(y.$),e.rXU(i.Bq))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["ds-community-form"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block"],[1,"form-label"],[4,"ngVar"],[3,"formId","formModel","displayCancel"],["id","logo-section",1,"col-12","d-inline-block","alert"],[1,"col-8","d-inline-block"],[3,"alternateText","logo"],[1,"col-4","d-inline-block"],[1,"float-end"],["type","button",1,"btn","btn-danger",3,"click"],[3,"ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"onCompleteItem","onUploadError","ariaLabel","dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions"],[3,"submitForm","formId","formModel","displayCancel"],["before","","type","button",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-arrow-left"]],template:function(t,p){if(1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.DNE(6,j,3,2,"ng-container",4),e.nI1(7,"async"),e.k0s()(),e.DNE(8,G,5,6,"ds-form",5)),2&t){let X;e.R7$(4),e.JRh(e.bMT(5,3,p.type.value+".edit.logo.label")),e.R7$(2),e.Y8G("ngVar",null==(X=e.bMT(7,5,null==p.dso?null:p.dso.logo))?null:X.payload),e.R7$(2),e.vxM(p.formModel?8:-1)}},dependencies:[v.Jj,T.X,O.s,C.h,C.D9,W.y,A.r]})}}return o})()},35338:(b,D,n)=>{"use strict";n.r(D),n.d(D,{ROUTES:()=>vt});var v=n(45585),u=n(42108),C=n(85643),h=n(35130),f=n(59072),y=n(95551),U=n(72509),I=n(10686),P=n(66423),x=n(3925),T=n(7673),O=n(85360),B=n(6170);const W=(0,O.L)(()=>x.D,()=>(0,T.of)(B._.AdministratorOf));var A=n(39015),e=n(60177),i=n(68018),S=n(43446),L=n(30684),K=n(3601),$=n(87507),j=n(10406),G=n(38836),l=n(15202),o=n(9847),r=n(50186),s=n(67044),t=n(54438),p=n(7901);const X=a=>({parent:a});function z(a,R){1&a&&(t.j41(0,"h1",5),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"community.create.head")))}function N(a,R){if(1&a&&(t.j41(0,"h1",6),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a){const m=t.XpG().ngVar,c=t.XpG(2);t.R7$(),t.JRh(t.i5U(2,1,"community.create.sub-head",t.eq3(4,X,c.dsoNameService.getName(m))))}}function V(a,R){if(1&a&&(t.qex(0),t.DNE(1,z,3,3,"h1",5)(2,N,3,6,"h1",6),t.bVm()),2&a){const m=R.ngVar;t.R7$(),t.vxM(m?2:1)}}function g(a,R){if(1&a){const m=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.DNE(3,V,3,1,"ng-container",3),t.nI1(4,"async"),t.k0s()(),t.j41(5,"ds-community-form",4),t.bIt("submitForm",function(_){t.eBV(m);const E=t.XpG();return t.Njj(E.onSubmit(_))})("back",function(){t.eBV(m);const _=t.XpG();return t.Njj(_.navigateToHome())}),t.k0s()()}if(2&a){let m;const c=t.XpG();t.R7$(3),t.Y8G("ngVar",null==(m=t.bMT(4,2,c.parentRD$))?null:m.payload),t.R7$(2),t.Y8G("isCreation",!0)}}function F(a,R){1&a&&t.nrm(0,"ds-loading")}let d=(()=>{class a extends G.Q{constructor(m,c,_,E,H,Q,w){super(m,c,m,_,E,H,Q,w),this.communityDataService=m,this.dsoNameService=c,this.routeService=_,this.router=E,this.notificationsService=H,this.translate=Q,this.requestService=w,this.frontendURL="/communities/",this.type=j.E.type}static{this.\u0275fac=function(c){return new(c||a)(t.rXU(L.CommunityDataService),t.rXU(S.f),t.rXU($.v$),t.rXU(p.Ix),t.rXU(o.I),t.rXU(i.c$),t.rXU(K.B))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["ds-create-community"]],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-12","pb-4"],[4,"ngVar"],[3,"submitForm","back","isCreation"],["id","header",1,"border-bottom","p-2"],["id","sub-header",1,"border-bottom","pb-2"]],template:function(c,_){1&c&&(t.DNE(0,g,6,4,"div",0),t.nI1(1,"async"),t.j41(2,"div",0),t.DNE(3,F,1,0,"ds-loading"),t.nI1(4,"async"),t.k0s()),2&c&&(t.vxM(!1===t.bMT(1,2,_.isLoading$)?0:-1),t.R7$(3),t.vxM(t.bMT(4,4,_.isLoading$)?3:-1))},dependencies:[e.Jj,s.p,l.v,i.h,i.D9,r.r]})}}return a})();var M=n(96354),Y=n(88141),Z=n(4093),J=n(89777),tt=n(79104),nt=n(93302);const ot=a=>({dso:a});function et(a,R){1&a&&(t.j41(0,"span"),t.nrm(1,"i",11),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&a&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"community.delete.processing"),""))}function it(a,R){1&a&&(t.j41(0,"span"),t.nrm(1,"i",12),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&a&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"community.delete.confirm"),""))}function at(a,R){if(1&a){const m=t.RV6();t.qex(0),t.j41(1,"div",3)(2,"h1",4),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p",5),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",6)(9,"div",7)(10,"button",8),t.nI1(11,"async"),t.bIt("click",function(){const _=t.eBV(m).ngVar,E=t.XpG();return t.Njj(E.onCancel(_))}),t.nrm(12,"i",9),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"button",10),t.nI1(16,"async"),t.bIt("click",function(){const _=t.eBV(m).ngVar,E=t.XpG();return t.Njj(E.onConfirm(_))}),t.DNE(17,et,4,3,"span"),t.nI1(18,"async"),t.DNE(19,it,4,3,"span"),t.nI1(20,"async"),t.k0s()()()(),t.bVm()}if(2&a){const m=R.ngVar,c=t.XpG();t.R7$(3),t.JRh(t.bMT(4,7,"community.delete.head")),t.R7$(3),t.JRh(t.i5U(7,9,"community.delete.text",t.eq3(22,ot,c.dsoNameService.getName(m)))),t.R7$(4),t.Y8G("dsBtnDisabled",t.bMT(11,12,c.processing$)),t.R7$(3),t.SpI(" ",t.bMT(14,14,"community.delete.cancel")," "),t.R7$(2),t.Y8G("dsBtnDisabled",t.bMT(16,16,c.processing$)),t.R7$(2),t.vxM(t.bMT(18,18,c.processing$)?17:-1),t.R7$(2),t.vxM(!0!==t.bMT(20,20,c.processing$)?19:-1)}}let st=(()=>{class a extends nt.D{constructor(m,c,_,E,H,Q){super(m,c,_,E,H,Q),this.dsoDataService=m,this.dsoNameService=c,this.router=_,this.route=E,this.notifications=H,this.translate=Q,this.frontendURL="/communities/"}static{this.\u0275fac=function(c){return new(c||a)(t.rXU(L.CommunityDataService),t.rXU(S.f),t.rXU(p.Ix),t.rXU(p.nX),t.rXU(o.I),t.rXU(i.c$))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["ds-delete-community"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:3,consts:[[1,"container"],[1,"row"],[4,"ngVar"],[1,"col-12","pb-4"],["id","header",1,"border-bottom","pb-2"],[1,"pb-2"],[1,"mb-3","row"],[1,"col","text-end","space-children-mr"],[1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"btn","btn-danger",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin"],["aria-hidden","true",1,"fas","fa-trash"]],template:function(c,_){if(1&c&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,at,21,24,"ng-container",2),t.nI1(3,"async"),t.k0s()()),2&c){let E;t.R7$(2),t.Y8G("ngVar",null==(E=t.bMT(3,1,_.dsoRD$))?null:E.payload)}},dependencies:[e.Jj,tt.A,i.h,i.D9,r.r]})}}return a})();var k=n(29710);n(32931);const mt=["*"];function rt(a,R){}let ct=(()=>{class a extends k.J{constructor(){super(...arguments),this.inAndOutputNames=["community","pageSize"]}getComponentName(){return"CommunityPageSubCollectionListComponent"}importThemedComponent(m){return n(60771)(`./${m}/app/community-page/sections/sub-com-col-section/sub-collection-list/community-page-sub-collection-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,32931))}static{this.\u0275fac=(()=>{let m;return function(_){return(m||(m=t.xGo(a)))(_||a)}})()}static{this.\u0275cmp=t.VBU({type:a,selectors:[["ds-community-page-sub-collection-list"]],inputs:{community:"community",pageSize:"pageSize"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:mt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,_){1&c&&(t.NAR(),t.DNE(0,rt,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return a})();n(24173);const lt=["*"];function dt(a,R){}let ut=(()=>{class a extends k.J{constructor(){super(...arguments),this.inAndOutputNames=["community","pageSize"]}getComponentName(){return"CommunityPageSubCommunityListComponent"}importThemedComponent(m){return n(24427)(`./${m}/app/community-page/sections/sub-com-col-section/sub-community-list/community-page-sub-community-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,24173))}static{this.\u0275fac=(()=>{let m;return function(_){return(m||(m=t.xGo(a)))(_||a)}})()}static{this.\u0275cmp=t.VBU({type:a,selectors:[["ds-community-page-sub-community-list"]],inputs:{community:"community",pageSize:"pageSize"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:lt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,_){1&c&&(t.NAR(),t.DNE(0,dt,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return a})();function _t(a,R){if(1&a&&t.nrm(0,"ds-community-page-sub-community-list",0)(1,"ds-community-page-sub-collection-list",0),2&a){const m=R;t.Y8G("community",m),t.R7$(),t.Y8G("community",m)}}let pt=(()=>{class a{constructor(m){this.route=m}ngOnInit(){this.community$=this.route.parent.data.pipe((0,M.T)(m=>m.dso.payload))}static{this.\u0275fac=function(c){return new(c||a)(t.rXU(p.nX))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["ds-sub-com-col-section"]],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[3,"community"]],template:function(c,_){if(1&c&&(t.DNE(0,_t,2,2),t.nI1(1,"async")),2&c){let E;t.vxM((E=t.bMT(1,1,_.community$))?0:-1,E)}},dependencies:[e.Jj,ct,ut]})}}return a})();n(63588);const gt=["*"];function Ct(a,R){}const vt=[{path:A.D6,children:[{path:"",component:d,resolve:{breadcrumb:f.S},data:{breadcrumbKey:"community.create"}}],canActivate:[C.t,(a,R,m=(0,t.WQX)(L.CommunityDataService),c=(0,t.WQX)(p.Ix))=>{const _=a.queryParams.parent;return(0,J.Tn)(_)?(0,T.of)(!0):m.findById(_).pipe((0,Z.qD)(),(0,M.T)(E=>(0,J.a4)(E)&&E.hasSucceeded&&(0,J.a4)(E.payload)),(0,Y.M)(E=>{E||c.navigate(["/404"])}))}],data:{breadcrumbQueryParam:"parent"},resolve:{breadcrumb:h.V},runGuardsAndResolvers:"always"},{path:":id",resolve:{dso:x.D,breadcrumb:h.V},runGuardsAndResolvers:"always",children:[{path:A.zQ,loadChildren:()=>Promise.all([n.e(2313),n.e(1200),n.e(372),n.e(8173)]).then(n.bind(n,8173)).then(a=>a.ROUTES),canActivate:[W]},{path:"delete",pathMatch:"full",component:st,canActivate:[C.t]},{path:"",component:(()=>{class a extends k.J{getComponentName(){return"CommunityPageComponent"}importThemedComponent(m){return n(76098)(`./${m}/app/community-page/community-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,63588))}static{this.\u0275fac=(()=>{let m;return function(_){return(m||(m=t.xGo(a)))(_||a)}})()}static{this.\u0275cmp=t.VBU({type:a,selectors:[["ds-community-page"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:gt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,_){1&c&&(t.NAR(),t.DNE(0,Ct,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return a})(),data:{menuRoute:I.r.COMMUNITY_PAGE},resolve:{tracking:P.Y},children:[{path:"",pathMatch:"full",component:U.E},{path:"search",pathMatch:"full",component:U.E,resolve:{breadcrumb:f.S},data:{breadcrumbKey:"community.search",menuRoute:I.r.COMMUNITY_PAGE,enableRSS:!0}},{path:"subcoms-cols",pathMatch:"full",component:pt,resolve:{breadcrumb:f.S},data:{breadcrumbKey:"community.subcoms-cols",menuRoute:I.r.COMMUNITY_PAGE}},{path:"browse/:id",pathMatch:"full",component:y.O,canActivate:[v.h],resolve:{breadcrumb:u.p},data:{breadcrumbKey:"browse.metadata",menuRoute:I.r.COMMUNITY_PAGE}}]}]}]},63588:(b,D,n)=>{"use strict";n.r(D),n.d(D,{CommunityPageComponent:()=>V});var v=n(60177),u=n(7901),C=n(68018),h=n(96354),f=n(5964),y=n(73028),U=n(94196),I=n(43446),P=n(11873),x=n(6170),T=n(19548),O=n(4093),B=n(2180),W=n(2690),A=n(31696),e=n(30792),i=n(2172),S=n(18235),L=n(44087),K=n(89777),$=n(14744),j=n(15202),G=n(50186),l=n(39015),o=n(54438);function r(g,F){if(1&g&&(o.nrm(0,"ds-comcol-page-logo",7),o.nI1(1,"async"),o.nI1(2,"translate")),2&g){let d;const M=o.XpG(4);o.Y8G("logo",null==(d=o.bMT(1,2,M.logoRD$))?null:d.payload)("alternateText",o.bMT(2,4,"community.logo"))}}function s(g,F){if(1&g&&(o.j41(0,"footer",13),o.nrm(1,"ds-comcol-page-content",9),o.k0s()),2&g){const d=o.XpG();o.R7$(),o.Y8G("content",d.copyrightText)("hasInnerHtml",!0)}}function t(g,F){if(1&g&&(o.j41(0,"div")(1,"div",4)(2,"header",5),o.nrm(3,"ds-comcol-page-header",6),o.DNE(4,r,3,6,"ds-comcol-page-logo",7),o.nrm(5,"ds-comcol-page-handle",8)(6,"ds-comcol-page-content",9)(7,"ds-comcol-page-content",10),o.k0s(),o.nrm(8,"ds-dso-edit-menu"),o.k0s(),o.j41(9,"section",11),o.nrm(10,"ds-comcol-page-browse-by",12)(11,"router-outlet"),o.k0s(),o.DNE(12,s,2,2,"footer",13),o.k0s()),2&g){const d=F,M=o.XpG(3);o.R7$(3),o.Y8G("name",M.dsoNameService.getName(d)),o.R7$(),o.vxM(M.logoRD$?4:-1),o.R7$(),o.Y8G("content",d.handle)("title","community.page.handle"),o.R7$(),o.Y8G("content",d.introductoryText)("hasInnerHtml",!0),o.R7$(),o.Y8G("content",d.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),o.R7$(3),o.Y8G("id",d.id)("contentType",d.type),o.R7$(2),o.vxM(d.copyrightText?12:-1)}}function p(g,F){if(1&g&&(o.j41(0,"div",2),o.DNE(1,t,13,12,"div"),o.k0s()),2&g){let d;const M=o.XpG().ngVar;o.Y8G("@fadeInOut",void 0),o.R7$(),o.vxM((d=null==M?null:M.payload)?1:-1,d)}}function X(g,F){1&g&&(o.nrm(0,"ds-error",3),o.nI1(1,"translate")),2&g&&o.FS9("message",o.bMT(1,1,"error.community"))}function z(g,F){1&g&&(o.nrm(0,"ds-loading",3),o.nI1(1,"translate")),2&g&&o.FS9("message",o.bMT(1,1,"loading.community"))}function N(g,F){if(1&g&&(o.j41(0,"div",1),o.DNE(1,p,2,2,"div",2)(2,X,2,3,"ds-error",3)(3,z,2,3,"ds-loading",3),o.k0s()),2&g){const d=F.ngVar;o.R7$(),o.vxM(null!=d&&d.hasSucceeded?1:-1),o.R7$(),o.vxM(null!=d&&d.hasFailed?2:-1),o.R7$(),o.vxM(null!=d&&d.isLoading?3:-1)}}let V=(()=>{class g{constructor(d,M,Y,Z,J){this.route=d,this.router=M,this.authService=Y,this.authorizationDataService=Z,this.dsoNameService=J}ngOnInit(){this.communityRD$=this.route.data.pipe((0,h.T)(d=>d.dso),(0,T.QD)(this.router,this.authService)),this.logoRD$=this.communityRD$.pipe((0,h.T)(d=>d.payload),(0,f.p)(d=>(0,K.a4)(d)),(0,y.Z)(d=>d.logo)),this.communityPageRoute$=this.communityRD$.pipe((0,O.Hz)(),(0,h.T)(d=>(0,l.c5)(d.id))),this.isCommunityAdmin$=this.authorizationDataService.isAuthorized(x._.IsCommunityAdmin)}static{this.\u0275fac=function(M){return new(M||g)(o.rXU(u.nX),o.rXU(u.Ix),o.rXU(U.uR),o.rXU(P.AuthorizationDataService),o.rXU(I.f))}}static{this.\u0275cmp=o.VBU({type:g,selectors:[["ds-base-community-page"]],standalone:!0,features:[o.aNF],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"community-page"],[3,"message"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","me-auto"],[3,"name"],[3,"logo","alternateText"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"comcol-page-browse-section"],[3,"id","contentType"],[1,"border-top","my-5","pt-4"]],template:function(M,Y){1&M&&(o.DNE(0,N,4,3,"div",0),o.nI1(1,"async")),2&M&&o.Y8G("ngVar",o.bMT(1,1,Y.communityRD$))},dependencies:[v.Jj,i.H,S.X,L.T,$.A,u.iI,u.n3,W.g,A.s,e.T,j.v,C.h,C.D9,G.r],data:{animation:[B.Ws]},changeDetection:0})}}return g})()},32931:(b,D,n)=>{"use strict";n.r(D),n.d(D,{CommunityPageSubCollectionListComponent:()=>G});var v=n(60177),u=n(68018),C=n(84412),h=n(84572),f=n(25558),y=n(70998),U=n(69295),I=n(31),x=(n(10406),n(2180)),T=n(89777),O=n(14744),B=n(15202),W=n(52186),A=n(8417),e=n(50186),i=n(54438),S=n(7901);function L(l,o){if(1&l&&(i.j41(0,"div")(1,"h3"),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.nrm(4,"ds-viewable-collection",2),i.k0s()),2&l){const r=i.XpG().ngVar,s=i.XpG();i.Y8G("@fadeIn",void 0),i.R7$(2),i.JRh(i.bMT(3,6,"community.sub-collection-list.head")),i.R7$(2),i.Y8G("config",s.config)("sortConfig",s.sortConfig)("objects",r)("hideGear",!1)}}function K(l,o){1&l&&(i.nrm(0,"ds-error",1),i.nI1(1,"translate")),2&l&&i.FS9("message",i.bMT(1,1,"error.sub-collections"))}function $(l,o){1&l&&(i.nrm(0,"ds-loading",1),i.nI1(1,"translate")),2&l&&i.FS9("message",i.bMT(1,1,"loading.sub-collections"))}function j(l,o){if(1&l&&(i.qex(0),i.DNE(1,L,5,8,"div")(2,K,2,3,"ds-error",1)(3,$,2,3,"ds-loading",1),i.bVm()),2&l){const r=o.ngVar;i.R7$(),i.vxM(null!=r&&r.hasSucceeded&&(null==r?null:r.payload.totalElements)>0?1:-1),i.R7$(),i.vxM(null!=r&&r.hasFailed?2:-1),i.R7$(),i.vxM(null!=r&&r.isLoading?3:-1)}}let G=(()=>{class l{constructor(r,s,t){this.cds=r,this.paginationService=s,this.route=t,this.pageId="cmcl",this.subCollectionsRDObs=new C.t({}),this.subscriptions=[]}ngOnInit(){this.config=new A.W,this.config.id=this.pageId,this.config.pageSize=(0,T.a4)(this.pageSize)?this.pageSize:this.route.snapshot.queryParams[this.pageId+".rpp"]??this.config.pageSize,this.config.currentPage=this.route.snapshot.queryParams[this.pageId+".page"]??1,this.sortConfig=new y.z("dc.title",y.U[this.route.snapshot.queryParams[this.pageId+".sd"]]??y.U.ASC),this.initPage()}initPage(){const r=this.paginationService.getCurrentPagination(this.config.id,this.config),s=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);this.subscriptions.push((0,h.z)([r,s]).pipe((0,f.n)(([t,p])=>this.cds.findByParent(this.community.id,{currentPage:t.currentPage,elementsPerPage:t.pageSize,sort:{field:p.field,direction:p.direction}}))).subscribe(t=>{this.subCollectionsRDObs.next(t)}))}ngOnDestroy(){this.paginationService.clearPagination(this.config?.id),this.subscriptions.map(r=>r.unsubscribe())}static{this.\u0275fac=function(s){return new(s||l)(i.rXU(U.CollectionDataService),i.rXU(I.m),i.rXU(S.nX))}}static{this.\u0275cmp=i.VBU({type:l,selectors:[["ds-base-community-page-sub-collection-list"]],inputs:{community:"community",pageSize:"pageSize"},standalone:!0,features:[i.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"message"],[3,"config","sortConfig","objects","hideGear"]],template:function(s,t){1&s&&(i.DNE(0,j,4,3,"ng-container",0),i.nI1(1,"async")),2&s&&i.Y8G("ngVar",i.bMT(1,1,t.subCollectionsRDObs))},dependencies:[v.Jj,O.A,W.h,B.v,u.h,u.D9,e.r],data:{animation:[x.qG]}})}}return l})()},24173:(b,D,n)=>{"use strict";n.r(D),n.d(D,{CommunityPageSubCommunityListComponent:()=>G});var v=n(60177),u=n(68018),C=n(84412),h=n(84572),f=n(25558),y=n(70998),U=n(30684),I=n(31),x=(n(10406),n(2180)),T=n(89777),O=n(14744),B=n(15202),W=n(52186),A=n(8417),e=n(50186),i=n(54438),S=n(7901);function L(l,o){if(1&l&&(i.j41(0,"div")(1,"h3"),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.nrm(4,"ds-viewable-collection",2),i.k0s()),2&l){const r=i.XpG().ngVar,s=i.XpG();i.Y8G("@fadeIn",void 0),i.R7$(2),i.JRh(i.bMT(3,6,"community.sub-community-list.head")),i.R7$(2),i.Y8G("config",s.config)("sortConfig",s.sortConfig)("objects",r)("hideGear",!1)}}function K(l,o){1&l&&(i.nrm(0,"ds-error",1),i.nI1(1,"translate")),2&l&&i.FS9("message",i.bMT(1,1,"error.sub-communities"))}function $(l,o){1&l&&(i.nrm(0,"ds-loading",1),i.nI1(1,"translate")),2&l&&i.FS9("message",i.bMT(1,1,"loading.sub-communities"))}function j(l,o){if(1&l&&(i.qex(0),i.DNE(1,L,5,8,"div")(2,K,2,3,"ds-error",1)(3,$,2,3,"ds-loading",1),i.bVm()),2&l){const r=o.ngVar;i.R7$(),i.vxM(null!=r&&r.hasSucceeded&&(null==r?null:r.payload.totalElements)>0?1:-1),i.R7$(),i.vxM(null!=r&&r.hasFailed?2:-1),i.R7$(),i.vxM(null!=r&&r.isLoading?3:-1)}}let G=(()=>{class l{constructor(r,s,t){this.cds=r,this.paginationService=s,this.route=t,this.pageId="cmscm",this.subCommunitiesRDObs=new C.t({}),this.subscriptions=[]}ngOnInit(){this.config=new A.W,this.config.id=this.pageId,this.config.pageSize=(0,T.a4)(this.pageSize)?this.pageSize:this.route.snapshot.queryParams[this.pageId+".rpp"]??this.config.pageSize,this.config.currentPage=this.route.snapshot.queryParams[this.pageId+".page"]??1,this.sortConfig=new y.z("dc.title",y.U[this.route.snapshot.queryParams[this.pageId+".sd"]]??y.U.ASC),this.initPage()}initPage(){const r=this.paginationService.getCurrentPagination(this.config.id,this.config),s=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);this.subscriptions.push((0,h.z)([r,s]).pipe((0,f.n)(([t,p])=>this.cds.findByParent(this.community.id,{currentPage:t.currentPage,elementsPerPage:t.pageSize,sort:{field:p.field,direction:p.direction}}))).subscribe(t=>{this.subCommunitiesRDObs.next(t)}))}ngOnDestroy(){this.paginationService.clearPagination(this.config?.id),this.subscriptions.map(r=>r.unsubscribe())}static{this.\u0275fac=function(s){return new(s||l)(i.rXU(U.CommunityDataService),i.rXU(I.m),i.rXU(S.nX))}}static{this.\u0275cmp=i.VBU({type:l,selectors:[["ds-base-community-page-sub-community-list"]],inputs:{community:"community",pageSize:"pageSize"},standalone:!0,features:[i.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"message"],[3,"config","sortConfig","objects","hideGear"]],template:function(s,t){1&s&&(i.DNE(0,j,4,3,"ng-container",0),i.nI1(1,"async")),2&s&&i.Y8G("ngVar",i.bMT(1,1,t.subCommunitiesRDObs))},dependencies:[v.Jj,O.A,W.h,B.v,u.h,u.D9,e.r],data:{animation:[x.qG]}})}}return l})()},59072:(b,D,n)=>{"use strict";n.d(D,{S:()=>I});var v=n(54438),u=n(89777),C=n(54034),h=n(7673),f=n(80495);let U=(()=>{class P{getBreadcrumbs(T,O){return(0,h.of)([new f.Q(T+".breadcrumbs",O)])}static{this.\u0275fac=function(O){return new(O||P)}}static{this.\u0275prov=v.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})();const I=(P,x,T=(0,v.WQX)(U))=>{const O=P.data.breadcrumbKey;if((0,u.Tn)(O))throw new Error('You provided an i18nBreadcrumbResolver for url "'+P.url+"\" but no breadcrumbKey in the route's data");return{provider:T,key:O,url:(0,C.F)(P)}}},76098:(b,D,n)=>{var v={"./custom/app/community-page/community-page.component":[31887,1887]};function u(C){if(!n.o(v,C))return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+C+"'");throw y.code="MODULE_NOT_FOUND",y});var h=v[C],f=h[0];return n.e(h[1]).then(()=>n(f))}u.keys=()=>Object.keys(v),u.id=76098,b.exports=u},60771:(b,D,n)=>{var v={"./custom/app/community-page/sections/sub-com-col-section/sub-collection-list/community-page-sub-collection-list.component":[67682,7682]};function u(C){if(!n.o(v,C))return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+C+"'");throw y.code="MODULE_NOT_FOUND",y});var h=v[C],f=h[0];return n.e(h[1]).then(()=>n(f))}u.keys=()=>Object.keys(v),u.id=60771,b.exports=u},24427:(b,D,n)=>{var v={"./custom/app/community-page/sections/sub-com-col-section/sub-community-list/community-page-sub-community-list.component":[70348,348]};function u(C){if(!n.o(v,C))return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+C+"'");throw y.code="MODULE_NOT_FOUND",y});var h=v[C],f=h[0];return n.e(h[1]).then(()=>n(f))}u.keys=()=>Object.keys(v),u.id=24427,b.exports=u}}]);