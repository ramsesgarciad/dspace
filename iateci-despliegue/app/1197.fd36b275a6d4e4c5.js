(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[1197],{15458:(P,E,t)=>{"use strict";t.r(E),t.d(E,{MetadataImportPageComponent:()=>h});var n=t(89417),o=t(68018),d=t(60696),e=t(4093),g=t(44280),v=t(34010),R=t(89777),f=t(9847),T=t(77208),a=t(54438),i=t(60177),s=t(7901);let h=(()=>{class C{constructor(M,m,D,u,O){this.location=M,this.translate=m,this.notificationsService=D,this.scriptDataService=u,this.router=O,this.validateOnly=!0}setFile(M){this.fileObject=M}onReturn(){this.location.back()}importMetadata(){if(null==this.fileObject)this.notificationsService.error(this.translate.get("admin.metadata-import.page.error.addFile"));else{const M=[Object.assign(new v.p,{name:"-f",value:this.fileObject.name})];this.validateOnly&&M.push(Object.assign(new v.p,{name:"-v",value:!0})),this.scriptDataService.invoke(d.METADATA_IMPORT_SCRIPT_NAME,M,[this.fileObject]).pipe((0,e.qD)()).subscribe(m=>{if(m.hasSucceeded){const D=this.translate.get("process.new.notification.success.title"),u=this.translate.get("process.new.notification.success.content");this.notificationsService.success(D,u),(0,R.hj)(m.payload)&&this.router.navigateByUrl((0,g.yJ)(m.payload.processId))}else{const D=this.translate.get("process.new.notification.error.title"),u=this.translate.get("process.new.notification.error.content");this.notificationsService.error(D,u)}})}}static{this.\u0275fac=function(m){return new(m||C)(a.rXU(i.aZ),a.rXU(o.c$),a.rXU(f.I),a.rXU(d.ScriptDataService),a.rXU(s.Ix))}}static{this.\u0275cmp=a.VBU({type:C,selectors:[["ds-base-metadata-import-page"]],standalone:!0,features:[a.aNF],decls:24,vars:21,consts:[[1,"container"],["id","header"],[1,"mb-3"],[1,"form-check"],["type","checkbox","id","validateOnly",1,"form-check-input",3,"ngModelChange","ngModel"],["for","validateOnly",1,"form-check-label"],["id","validateOnlyHelpBlock",1,"form-text","text-muted"],[3,"onFileAdded","dropMessageLabel","dropMessageLabelReplacement"],[1,"space-children-mr"],["id","backButton",1,"btn","btn-secondary",3,"click"],["id","proceedButton",1,"btn","btn-primary",3,"click"]],template:function(m,D){1&m&&(a.j41(0,"div",0)(1,"h1",1),a.EFF(2),a.nI1(3,"translate"),a.k0s(),a.j41(4,"p"),a.EFF(5),a.nI1(6,"translate"),a.k0s(),a.j41(7,"div",2)(8,"div",3)(9,"input",4),a.mxI("ngModelChange",function(O){return a.DH7(D.validateOnly,O)||(D.validateOnly=O),O}),a.k0s(),a.j41(10,"label",5),a.EFF(11),a.nI1(12,"translate"),a.k0s()(),a.j41(13,"small",6),a.EFF(14),a.nI1(15,"translate"),a.k0s()(),a.j41(16,"ds-file-dropzone-no-uploader",7),a.bIt("onFileAdded",function(O){return D.setFile(O)}),a.k0s(),a.j41(17,"div",8)(18,"button",9),a.bIt("click",function(){return D.onReturn()}),a.EFF(19),a.nI1(20,"translate"),a.k0s(),a.j41(21,"button",10),a.bIt("click",function(){return D.importMetadata()}),a.EFF(22),a.nI1(23,"translate"),a.k0s()()()),2&m&&(a.R7$(2),a.JRh(a.bMT(3,9,"admin.metadata-import.page.header")),a.R7$(3),a.JRh(a.bMT(6,11,"admin.metadata-import.page.help")),a.R7$(4),a.R50("ngModel",D.validateOnly),a.R7$(2),a.SpI(" ",a.bMT(12,13,"admin.metadata-import.page.validateOnly")," "),a.R7$(3),a.SpI(" ",a.bMT(15,15,"admin.metadata-import.page.validateOnly.hint")," "),a.R7$(2),a.Y8G("dropMessageLabel","admin.metadata-import.page.dropMsg")("dropMessageLabelReplacement","admin.metadata-import.page.dropMsgReplace"),a.R7$(3),a.JRh(a.bMT(20,17,"admin.metadata-import.page.button.return")),a.R7$(3),a.JRh(a.bMT(23,19,"admin.metadata-import.page.button.proceed")))},dependencies:[T.i,n.YN,n.Zm,n.BC,n.vS,o.h,o.D9],encapsulation:2})}}return C})()},61197:(P,E,t)=>{"use strict";t.r(E),t.d(E,{ROUTES:()=>Z});var n=t(59072),o=t(68018),d=t(1144),e=t(54438);let g=(()=>{class r{static{this.\u0275fac=function(p){return new(p||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ds-admin-curation-task"]],standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[1,"container"]],template:function(p,c){1&p&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"ds-curation-form"),e.k0s()),2&p&&(e.R7$(2),e.JRh(e.bMT(3,1,"admin.curation-tasks.header")))},dependencies:[d.X,o.h,o.D9],encapsulation:2})}}return r})();var v=t(89417),R=t(84786),f=t(96697),T=t(43446),a=t(60696),i=t(4093),s=t(44280),h=t(34010),C=t(7673),b=t(48145),M=t(93136),m=t(16903),D=t(44905),u=t(58003),O=t(7901);function _(r,y){if(1&r&&(e.j41(0,"span",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const l=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,l.header))}}let F=(()=>{class r extends D.${constructor(l,p){super(l,p),this.activeModal=l,this.route=p,this.objectType=M.W.DSPACEOBJECT,this.selectorTypes=[M.W.COLLECTION],this.action=D.u.IMPORT_BATCH,this.response=new e.bkB}navigate(l){return l instanceof b.p?(this.response.emit(l),(0,C.of)(null)):(this.response.emit(null),(0,C.of)(null))}static{this.\u0275fac=function(p){return new(p||r)(e.rXU(u.Lw),e.rXU(O.nX))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ds-import-batch-selector"]],outputs:{response:"response"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"]],template:function(p,c){1&p&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return c.close()}),e.k0s()(),e.j41(5,"div",2),e.DNE(6,_,3,3,"span",3),e.j41(7,"ds-dso-selector",4),e.bIt("onSelect",function(U){return c.selectObject(U)}),e.k0s()()()),2&p&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+c.action+"."+c.objectType.toString().toLowerCase()+".head")," "),e.R7$(4),e.vxM(c.header?6:-1),e.R7$(),e.Y8G("currentDSOId",null==c.dsoRD?null:c.dsoRD.payload.uuid)("types",c.selectorTypes)("sort",c.defaultSort))},dependencies:[m.x,o.h,o.D9],encapsulation:2})}}return r})();var B=t(89777),S=t(9847),j=t(77208),A=t(60177);function x(r,y){if(1&r){const l=e.RV6();e.j41(0,"p"),e.EFF(1," selected collection: "),e.j41(2,"b"),e.EFF(3),e.k0s(),e.EFF(4,"\xa0 "),e.j41(5,"a",15),e.bIt("click",function(){e.eBV(l);const c=e.XpG();return e.Njj(c.removeDspaceObject())}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()}if(2&r){const l=e.XpG();e.R7$(3),e.JRh(l.getDspaceObjectName()),e.R7$(3),e.JRh(e.bMT(7,2,"admin.batch-import.page.remove"))}}function N(r,y){if(1&r){const l=e.RV6();e.j41(0,"ds-file-dropzone-no-uploader",16),e.bIt("onFileAdded",function(c){e.eBV(l);const I=e.XpG();return e.Njj(I.setFile(c))}),e.k0s()}2&r&&e.Y8G("dropMessageLabel","admin.batch-import.page.dropMsg")("dropMessageLabelReplacement","admin.batch-import.page.dropMsgReplace")}function z(r,y){if(1&r){const l=e.RV6();e.j41(0,"div",11)(1,"input",17),e.nI1(2,"translate"),e.mxI("ngModelChange",function(c){e.eBV(l);const I=e.XpG();return e.DH7(I.fileURL,c)||(I.fileURL=c),e.Njj(c)}),e.k0s()()}if(2&r){const l=e.XpG();e.R7$(),e.FS9("placeholder",e.bMT(2,2,"admin.metadata-import.page.urlMsg")),e.R50("ngModel",l.fileURL)}}let W=(()=>{class r{constructor(l,p,c,I,U,Q,q){this.location=l,this.translate=p,this.notificationsService=c,this.scriptDataService=I,this.router=U,this.modalService=Q,this.dsoNameService=q,this.validateOnly=!0,this.dso=null,this.isUpload=!0}setFile(l){this.fileObject=l}onReturn(){this.location.back()}selectCollection(){this.modalService.open(F).componentInstance.response.pipe((0,f.s)(1)).subscribe(p=>{this.dso=p||null})}importMetadata(){if(null==this.fileObject&&(0,B.Im)(this.fileURL))this.notificationsService.error(this.translate.get(this.isUpload?"admin.metadata-import.page.error.addFile":"admin.metadata-import.page.error.addFileUrl"));else{const l=[Object.assign(new h.p,{name:"--add"})];this.isUpload?l.push(Object.assign(new h.p,{name:"--zip",value:this.fileObject.name})):(this.fileObject=null,l.push(Object.assign(new h.p,{name:"--url",value:this.fileURL}))),this.dso&&l.push(Object.assign(new h.p,{name:"--collection",value:this.dso.uuid})),this.validateOnly&&l.push(Object.assign(new h.p,{name:"-v",value:!0})),this.scriptDataService.invoke(a.BATCH_IMPORT_SCRIPT_NAME,l,[this.fileObject]).pipe((0,i.qD)()).subscribe(p=>{if(p.hasSucceeded){const c=this.translate.get("process.new.notification.success.title"),I=this.translate.get("process.new.notification.success.content");this.notificationsService.success(c,I),(0,B.hj)(p.payload)&&this.router.navigateByUrl((0,s.yJ)(p.payload.processId))}else if(413===p.statusCode){const c=this.translate.get("process.new.notification.error.title"),I=this.translate.get("process.new.notification.error.max-upload.content");this.notificationsService.error(c,I)}else{const c=this.translate.get("process.new.notification.error.title"),I=this.translate.get("process.new.notification.error.content");this.notificationsService.error(c,I)}})}}getDspaceObjectName(){return this.dso?this.dsoNameService.getName(this.dso):null}removeDspaceObject(){this.dso=null}toggleUpload(){this.isUpload=!this.isUpload}static{this.\u0275fac=function(p){return new(p||r)(e.rXU(A.aZ),e.rXU(o.c$),e.rXU(S.I),e.rXU(a.ScriptDataService),e.rXU(O.Ix),e.rXU(u.Bq),e.rXU(T.f))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ds-batch-import-page"]],standalone:!0,features:[e.aNF],decls:36,vars:35,consts:[[1,"container"],["id","header"],[1,"btn","btn-primary",3,"click"],[1,"mb-3"],[1,"form-check"],["type","checkbox","id","validateOnly",1,"form-check-input",3,"ngModelChange","ngModel"],["for","validateOnly",1,"form-check-label"],["id","validateOnlyHelpBlock",1,"form-text","text-muted"],["color","#ebebeb",3,"change","checkedLabel","uncheckedLabel","checked"],[1,"form-text","text-muted","d-block"],["data-test","file-dropzone",3,"dropMessageLabel","dropMessageLabelReplacement"],[1,"mb-3","mt-2"],[1,"space-children-mr"],["id","backButton",1,"btn","btn-secondary",3,"click"],["id","proceedButton",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)",3,"click"],["data-test","file-dropzone",3,"onFileAdded","dropMessageLabel","dropMessageLabelReplacement"],["type","text","data-test","file-url-input",1,"form-control",3,"ngModelChange","placeholder","ngModel"]],template:function(p,c){1&p&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,x,8,4,"p"),e.j41(8,"p")(9,"button",2),e.bIt("click",function(){return c.selectCollection()}),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"div",3)(13,"div",4)(14,"input",5),e.mxI("ngModelChange",function(U){return e.DH7(c.validateOnly,U)||(c.validateOnly=U),U}),e.k0s(),e.j41(15,"label",6),e.EFF(16),e.nI1(17,"translate"),e.k0s()(),e.j41(18,"small",7),e.EFF(19),e.nI1(20,"translate"),e.k0s()(),e.j41(21,"ui-switch",8),e.nI1(22,"translate"),e.nI1(23,"translate"),e.bIt("change",function(){return c.toggleUpload()}),e.k0s(),e.j41(24,"small",9),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.DNE(27,N,1,2,"ds-file-dropzone-no-uploader",10)(28,z,3,4,"div",11),e.j41(29,"div",12)(30,"button",13),e.bIt("click",function(){return c.onReturn()}),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"button",14),e.bIt("click",function(){return c.importMetadata()}),e.EFF(34),e.nI1(35,"translate"),e.k0s()()()),2&p&&(e.R7$(2),e.JRh(e.bMT(3,15,"admin.batch-import.page.header")),e.R7$(3),e.JRh(e.bMT(6,17,"admin.batch-import.page.help")),e.R7$(2),e.vxM(c.dso?7:-1),e.R7$(3),e.JRh(e.bMT(11,19,"admin.metadata-import.page.button.select-collection")),e.R7$(4),e.R50("ngModel",c.validateOnly),e.R7$(2),e.SpI(" ",e.bMT(17,21,"admin.metadata-import.page.validateOnly")," "),e.R7$(3),e.SpI(" ",e.bMT(20,23,"admin.batch-import.page.validateOnly.hint")," "),e.R7$(2),e.Y8G("checkedLabel",e.bMT(22,25,"admin.metadata-import.page.toggle.upload"))("uncheckedLabel",e.bMT(23,27,"admin.metadata-import.page.toggle.url"))("checked",c.isUpload),e.R7$(4),e.SpI(" ",e.bMT(26,29,"admin.batch-import.page.toggle.help")," "),e.R7$(2),e.vxM(c.isUpload?27:-1),e.R7$(),e.vxM(c.isUpload?-1:28),e.R7$(3),e.JRh(e.bMT(32,31,"admin.metadata-import.page.button.return")),e.R7$(3),e.JRh(e.bMT(35,33,"admin.metadata-import.page.button.proceed")))},dependencies:[j.i,v.YN,v.me,v.Zm,v.BC,v.vS,o.h,o.D9,R.z,R.S],encapsulation:2})}}return r})();var L=t(29710);t(15458);const $=["*"];function K(r,y){}let X=(()=>{class r extends L.J{getComponentName(){return"MetadataImportPageComponent"}importThemedComponent(l){return t(63324)(`./${l}/app/admin/admin-import-metadata-page/metadata-import-page.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,15458))}static{this.\u0275fac=(()=>{let l;return function(c){return(l||(l=e.xGo(r)))(c||r)}})()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ds-metadata-import-page"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:$,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,c){1&p&&(e.NAR(),e.DNE(0,K,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return r})();var k=t(83);t(24232);const V=["*"];function G(r,y){}let H=(()=>{class r extends L.J{getComponentName(){return"AdminSearchPageComponent"}importThemedComponent(l){return t(86658)(`./${l}/app/admin/admin-search-page/admin-search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,24232))}static{this.\u0275fac=(()=>{let l;return function(c){return(l||(l=e.xGo(r)))(c||r)}})()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ds-admin-search-page"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:V,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,c){1&p&&(e.NAR(),e.DNE(0,G,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return r})();t(69112);const J=["*"];function w(r,y){}const Z=[{path:k.uD,loadChildren:()=>Promise.all([t.e(6958),t.e(3026)]).then(t.bind(t,63026)).then(r=>r.ROUTES)},{path:k.jE,loadChildren:()=>Promise.all([t.e(7502),t.e(1967)]).then(t.bind(t,11967)).then(r=>r.ROUTES)},{path:"search",resolve:{breadcrumb:n.S},component:H,data:{title:"admin.search.title",breadcrumbKey:"admin.search"}},{path:"workflow",resolve:{breadcrumb:n.S},component:(()=>{class r extends L.J{getComponentName(){return"AdminWorkflowPageComponent"}importThemedComponent(l){return t(12212)(`./${l}/app/admin/admin-workflow-page/admin-workflow-page.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,69112))}static{this.\u0275fac=(()=>{let l;return function(c){return(l||(l=e.xGo(r)))(c||r)}})()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ds-admin-workflow-page"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:J,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,c){1&p&&(e.NAR(),e.DNE(0,w,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return r})(),data:{title:"admin.workflow.title",breadcrumbKey:"admin.workflow"}},{path:"curation-tasks",resolve:{breadcrumb:n.S},component:g,data:{title:"admin.curation-tasks.title",breadcrumbKey:"admin.curation-tasks"}},{path:"metadata-import",resolve:{breadcrumb:n.S},component:X,data:{title:"admin.metadata-import.title",breadcrumbKey:"admin.metadata-import"}},{path:"batch-import",resolve:{breadcrumb:n.S},component:W,data:{title:"admin.batch-import.title",breadcrumbKey:"admin.batch-import"}},{path:"system-wide-alert",resolve:{breadcrumb:n.S},loadChildren:()=>t.e(4584).then(t.bind(t,4584)).then(r=>r.ROUTES),data:{title:"admin.system-wide-alert.title",breadcrumbKey:"admin.system-wide-alert"}},{path:k.z$,children:[{path:"",pathMatch:"full",redirectTo:"services"},{path:"services",loadChildren:()=>Promise.all([t.e(2076),t.e(3918)]).then(t.bind(t,33918)).then(r=>r.ROUTES)}]},{path:k.p8,loadChildren:()=>t.e(7264).then(t.bind(t,77264)).then(r=>r.ROUTES)},{path:k.iF,loadChildren:()=>Promise.all([t.e(2076),t.e(5524)]).then(t.bind(t,45524)).then(r=>r.ROUTES)}]},24232:(P,E,t)=>{"use strict";t.r(E),t.d(E,{AdminSearchPageComponent:()=>e});var n=t(40940),o=t(10653),d=t(54438);let e=(()=>{class g{constructor(){this.context=n.o.AdminSearch}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275cmp=d.VBU({type:g,selectors:[["ds-base-admin-search-page"]],standalone:!0,features:[d.aNF],decls:1,vars:1,consts:[["configuration","administrativeView",3,"context"]],template:function(f,T){1&f&&d.nrm(0,"ds-configuration-search-page",0),2&f&&d.Y8G("context",T.context)},dependencies:[o.M]})}}return g})()},69112:(P,E,t)=>{"use strict";t.r(E),t.d(E,{AdminWorkflowPageComponent:()=>e});var n=t(40940),o=t(10653),d=t(54438);let e=(()=>{class g{constructor(){this.context=n.o.AdminWorkflowSearch}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275cmp=d.VBU({type:g,selectors:[["ds-base-admin-workflow-page"]],standalone:!0,features:[d.aNF],decls:1,vars:1,consts:[["configuration","supervision",3,"context"]],template:function(f,T){1&f&&d.nrm(0,"ds-configuration-search-page",0),2&f&&d.Y8G("context",T.context)},dependencies:[o.M]})}}return g})()},80495:(P,E,t)=>{"use strict";t.d(E,{Q:()=>n});class n{constructor(d,e){this.text=d,this.url=e}}},59072:(P,E,t)=>{"use strict";t.d(E,{S:()=>f});var n=t(54438),o=t(89777),d=t(54034),e=t(7673),g=t(80495);let R=(()=>{class T{getBreadcrumbs(i,s){return(0,e.of)([new g.Q(i+".breadcrumbs",s)])}static{this.\u0275fac=function(s){return new(s||T)}}static{this.\u0275prov=n.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();const f=(T,a,i=(0,n.WQX)(R))=>{const s=T.data.breadcrumbKey;if((0,o.Tn)(s))throw new Error('You provided an i18nBreadcrumbResolver for url "'+T.url+"\" but no breadcrumbKey in the route's data");return{provider:i,key:s,url:(0,d.F)(T)}}},1144:(P,E,t)=>{"use strict";t.d(E,{X:()=>M});var n=t(89417),o=t(68018),d=t(96354),e=t(94925),g=t(60696),v=t(4093),R=t(44280),f=t(89777),T=t(74511),a=t(9847),i=t(54438),s=t(7901);function h(m,D){if(1&m&&(i.j41(0,"option",6),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&m){const u=D.$implicit;i.Y8G("value",u),i.R7$(),i.SpI(" ",i.bMT(2,2,"curation-task.task."+u+".label")," ")}}function C(m,D){1&m&&(i.j41(0,"div",3)(1,"label",8),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.nrm(4,"input",9),i.j41(5,"small",10),i.EFF(6),i.nI1(7,"translate"),i.k0s()()),2&m&&(i.R7$(2),i.JRh(i.bMT(3,2,"curation.form.handle.label")),i.R7$(4),i.JRh(i.bMT(7,4,"curation.form.handle.hint")))}let M=(()=>{class m{constructor(u,O,_,F,B,S,j){this.scriptDataService=u,this.configurationDataService=O,this.notificationsService=_,this.translateService=F,this.handleService=B,this.router=S,this.cdr=j,this.subs=[]}ngOnDestroy(){this.subs.forEach(u=>u.unsubscribe())}ngOnInit(){this.form=new n.J3({task:new n.hs(""),handle:new n.hs("")}),this.config=this.configurationDataService.findByPropertyName("plugin.named.org.dspace.curate.CurationTask"),this.subs.push(this.config.pipe((0,v.ak)()).subscribe(u=>{this.tasks=u.values.filter(O=>(0,f.hj)(O)&&O.includes("=")).map(O=>O.split("=")[1].trim()),this.form.get("task").patchValue(this.tasks[0]),this.cdr.detectChanges()}))}hasHandleValue(){return(0,f.a4)(this.dsoHandle)}submit(){const u=this.form.get("task").value;let O;O=this.hasHandleValue()?this.handleService.normalizeHandle(this.dsoHandle).pipe((0,d.T)(_=>((0,f.Im)(_)&&this.notificationsService.error(this.translateService.get("curation.form.submit.error.head"),this.translateService.get("curation.form.submit.error.invalid-handle")),_))):this.handleService.normalizeHandle(this.form.get("handle").value).pipe((0,d.T)(_=>(0,f.Im)(_)?"all":_)),this.subs.push(O.subscribe(_=>{(0,f.a4)(_)&&this.subs.push(this.scriptDataService.invoke("curate",[{name:"-t",value:u},{name:"-i",value:_}],[]).pipe((0,v.qD)()).subscribe(F=>{F.hasSucceeded?(this.notificationsService.success(this.translateService.get("curation.form.submit.success.head"),this.translateService.get("curation.form.submit.success.content")),this.router.navigateByUrl((0,R.yJ)(F.payload.processId))):this.notificationsService.error(this.translateService.get("curation.form.submit.error.head"),this.translateService.get("curation.form.submit.error.content"))}))}))}static{this.\u0275fac=function(O){return new(O||m)(i.rXU(g.ScriptDataService),i.rXU(e.ConfigurationDataService),i.rXU(a.I),i.rXU(o.c$),i.rXU(T.e),i.rXU(s.Ix),i.rXU(i.gRc))}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ds-curation-form"]],inputs:{dsoHandle:"dsoHandle"},standalone:!0,features:[i.aNF],decls:14,vars:8,consts:[[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row","mb-2"],[1,"col-12","col-sm-6"],["for","task",1,"fw-bold","form-label"],["id","task","formControlName","task",1,"form-select"],[3,"value"],["type","submit",1,"btn","btn-default","btn-primary"],["for","handle",1,"fw-bold","form-label"],["id","handle","formControlName","handle",1,"form-control"],[1,"text-muted"]],template:function(O,_){1&O&&(i.j41(0,"form",0),i.bIt("ngSubmit",function(){return _.submit()}),i.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),i.EFF(5),i.nI1(6,"translate"),i.k0s(),i.j41(7,"select",5),i.Z7z(8,h,3,4,"option",6,i.fX1),i.k0s()(),i.DNE(10,C,8,6,"div",3),i.k0s(),i.j41(11,"button",7),i.EFF(12),i.nI1(13,"translate"),i.k0s()()()),2&O&&(i.Y8G("formGroup",_.form),i.R7$(5),i.JRh(i.bMT(6,4,"curation.form.task-select.label")),i.R7$(3),i.Dyx(_.tasks),i.R7$(2),i.vxM(_.hasHandleValue()?-1:10),i.R7$(2),i.JRh(i.bMT(13,6,"curation.form.submit")))},dependencies:[n.YN,n.qT,n.xH,n.y7,n.me,n.wz,n.BC,n.cb,n.X1,n.j4,n.JD,o.h,o.D9],encapsulation:2})}}return m})()},77208:(P,E,t)=>{"use strict";t.d(E,{i:()=>s});var n=t(60177),o=t(54438),d=t(89417),e=t(68018),g=t(59519),v=t.n(g),R=t(27200),f=t(7673),T=t(89291);function a(h,C){if(1&h&&(o.j41(0,"div",1)(1,"div",7)(2,"p",8),o.EFF(3),o.nI1(4,"translate"),o.k0s()()()),2&h){const b=o.XpG();o.R7$(3),o.JRh(o.bMT(4,1,b.dropMessageLabel))}}function i(h,C){if(1&h&&(o.j41(0,"p",3),o.EFF(1),o.k0s()),2&h){const b=o.XpG();o.R7$(),o.SpI(" ",null==b.fileObject?null:b.fileObject.name," ")}}let s=(()=>{class h{constructor(){this.onFileAdded=new o.bkB,this.uploadFilesOptions=Object.assign(new T.H,{url:"placeholder"})}ngOnInit(){this.uploaderId="ds-drag-and-drop-uploader"+v()(),this.isOverDocumentDropZone=(0,f.of)(!1),this.uploader=new R.l0({url:"placeholder"})}onDrop(b){b.preventDefault(),b.stopPropagation()}onDragOver(b){b.preventDefault(),b.stopPropagation(),"HTML"!==b.target.tagName&&(this.isOverDocumentDropZone=(0,f.of)(!0))}fileOverDocument(b){b||(this.isOverDocumentDropZone=(0,f.of)(b))}handleFileInput(b){const M=b.target;M.files&&M.files.length>0&&this.setFile(M.files)}setFile(b){this.fileObject=b.length>0?b[0]:void 0,this.onFileAdded.emit(this.fileObject)}static{this.\u0275fac=function(M){return new(M||h)}}static{this.\u0275cmp=o.VBU({type:h,selectors:[["ds-file-dropzone-no-uploader"]],hostBindings:function(M,m){1&M&&o.bIt("drop",function(u){return m.onDrop(u)},!1,o.tSv)("dragover",function(u){return m.onDragOver(u)},!1,o.tSv)},inputs:{dropMessageLabel:"dropMessageLabel",dropMessageLabelReplacement:"dropMessageLabelReplacement"},outputs:{onFileAdded:"onFileAdded"},standalone:!0,features:[o.aNF],decls:16,vars:18,consts:[["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"onFileDrop","fileOver","uploader"],[1,"ds-document-drop-zone-inner","position-fixed","h-100","w-100","p-2"],[1,"well","ds-base-drop-zone","mt-1","mb-3","text-muted","p-2"],[1,"text-center","m-0","p-0","d-flex","justify-content-center","align-items-center"],["aria-hidden","true",1,"fas","fa-cloud-upload"],[1,"btn","btn-link","m-0","p-0","ms-1"],["type","file","name","file-upload","id","file-upload",1,"form-control","d-none",3,"change"],[1,"ds-document-drop-zone-inner-content","position-relative","d-flex","flex-column","justify-content-center","text-center","h-100","w-100"],[1,"text-primary"]],template:function(M,m){1&M&&(o.j41(0,"div",0),o.nI1(1,"async"),o.bIt("onFileDrop",function(u){return m.setFile(u)})("fileOver",function(u){return m.fileOverDocument(u)}),o.k0s(),o.DNE(2,a,5,3,"div",1),o.nI1(3,"async"),o.j41(4,"div",2),o.DNE(5,i,2,1,"p",3),o.j41(6,"p",3)(7,"span"),o.nrm(8,"i",4),o.EFF(9),o.nI1(10,"translate"),o.nI1(11,"translate"),o.k0s(),o.j41(12,"label",5)(13,"input",6),o.bIt("change",function(u){return m.handleFileInput(u)}),o.k0s(),o.EFF(14),o.nI1(15,"translate"),o.k0s()()()),2&M&&(o.AVh("ds-document-drop-zone-active",o.bMT(1,8,m.isOverDocumentDropZone)),o.Y8G("uploader",m.uploader),o.R7$(2),o.vxM(o.bMT(3,10,m.isOverDocumentDropZone)?2:-1),o.R7$(3),o.vxM(m.fileObject?5:-1),o.R7$(4),o.Lme(" ",o.bMT(10,12,null==m.fileObject?m.dropMessageLabel:m.dropMessageLabelReplacement)," ",o.bMT(11,14,"uploader.or"),""),o.R7$(5),o.SpI(" ",o.bMT(15,16,"uploader.browse")," "))},dependencies:[n.MD,n.Jj,R.eB,R.Ff,d.YN,e.h,e.D9],styles:[".ds-base-drop-zone[_ngcontent-%COMP%]{border:2px dashed var(--bs-gray-600)}.ds-document-drop-zone[_ngcontent-%COMP%]{top:0;left:0;z-index:-1;display:block;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.ds-document-drop-zone-active[_ngcontent-%COMP%]{z-index:var(--ds-drop-zone-area-z-index)!important;opacity:1;visibility:visible}.ds-document-drop-zone-inner[_ngcontent-%COMP%]{background-color:#ffffffb3;z-index:var(--ds-drop-zone-area-inner-z-index);top:0;left:0}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]{border:4px dashed var(--bs-primary);z-index:var(--ds-drop-zone-area-inner-z-index)}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--bs-font-size-lg) * 2.5)}"]})}}return h})()},63324:(P,E,t)=>{var n={"./custom/app/admin/admin-import-metadata-page/metadata-import-page.component":[68797,8797]};function o(d){if(!t.o(n,d))return Promise.resolve().then(()=>{var v=new Error("Cannot find module '"+d+"'");throw v.code="MODULE_NOT_FOUND",v});var e=n[d],g=e[0];return t.e(e[1]).then(()=>t(g))}o.keys=()=>Object.keys(n),o.id=63324,P.exports=o},86658:(P,E,t)=>{var n={"./custom/app/admin/admin-search-page/admin-search-page.component":[98635,8635]};function o(d){if(!t.o(n,d))return Promise.resolve().then(()=>{var v=new Error("Cannot find module '"+d+"'");throw v.code="MODULE_NOT_FOUND",v});var e=n[d],g=e[0];return t.e(e[1]).then(()=>t(g))}o.keys=()=>Object.keys(n),o.id=86658,P.exports=o},12212:(P,E,t)=>{var n={"./custom/app/admin/admin-workflow-page/admin-workflow-page.component":[79515,9515]};function o(d){if(!t.o(n,d))return Promise.resolve().then(()=>{var v=new Error("Cannot find module '"+d+"'");throw v.code="MODULE_NOT_FOUND",v});var e=n[d],g=e[0];return t.e(e[1]).then(()=>t(g))}o.keys=()=>Object.keys(n),o.id=12212,P.exports=o},84786:(P,E,t)=>{"use strict";t.d(E,{S:()=>f,z:()=>T});var n=t(54438),o=t(89417),d=t(60177);const e=["*"];function g(a,i){if(1&a&&(n.j41(0,"label",2)(1,"span",3),n.EFF(2),n.k0s(),n.j41(3,"span",4),n.EFF(4),n.k0s()()),2&a){const s=n.XpG();n.R7$(),n.xc7("color",s.getColor("checkedTextColor")),n.BMQ("aria-label",s.checkedLabel),n.R7$(),n.JRh(s.checkedLabel),n.R7$(),n.xc7("color",s.getColor("uncheckedTextColor")),n.BMQ("aria-label",s.uncheckedLabel),n.R7$(),n.JRh(s.uncheckedLabel)}}const v=new n.nKC("UI_SWITCH_OPTIONS"),R={provide:o.kq,useExisting:(0,n.Rfq)(()=>f),multi:!0};let f=(()=>{class a{cdr;_checked;_disabled;_reverse;_loading;_beforeChange;size;color;switchOffColor;switchColor;defaultBgColor;defaultBoColor;checkedLabel;uncheckedLabel;checkedTextColor;uncheckedTextColor;beforeChange;ariaLabel;set checked(s){this._checked=!1!==s}get checked(){return this._checked}set disabled(s){this._disabled=!1!==s}get disabled(){return this._disabled}set reverse(s){this._reverse=!1!==s}get reverse(){return this._reverse}set loading(s){this._loading=!1!==s}get loading(){return this._loading}change=new n.bkB;changeEvent=new n.bkB;valueChange=new n.bkB;constructor(s={},h){this.cdr=h,this.size=s&&s.size||"medium",this.color=s&&s.color,this.switchOffColor=s&&s.switchOffColor,this.switchColor=s&&s.switchColor,this.defaultBgColor=s&&s.defaultBgColor,this.defaultBoColor=s&&s.defaultBoColor,this.checkedLabel=s&&s.checkedLabel,this.uncheckedLabel=s&&s.uncheckedLabel,this.checkedTextColor=s&&s.checkedTextColor,this.uncheckedTextColor=s&&s.uncheckedTextColor}getColor(s=""){return"borderColor"===s?this.defaultBoColor:"switchColor"===s?this.reverse?this.checked&&this.switchOffColor||this.switchColor:this.checked?this.switchColor:this.switchOffColor||this.switchColor:"checkedTextColor"===s?this.reverse?this.uncheckedTextColor:this.checkedTextColor:"uncheckedTextColor"===s?this.reverse?this.checkedTextColor:this.uncheckedTextColor:this.reverse?this.checked?this.defaultBgColor:this.color:this.checked?this.color:this.defaultBgColor}onClick(s){this.disabled||(this.checked=!this.checked,this.change.emit(this.checked),this.valueChange.emit(this.checked),this.changeEvent.emit(s),this.onChangeCallback(this.checked),this.onTouchedCallback(this.checked),this.cdr.markForCheck())}onToggle(s){this.disabled||(this.beforeChange?this._beforeChange=this.beforeChange.subscribe(h=>{h&&this.onClick(s)}):this.onClick(s))}writeValue(s){s!==this.checked&&(this.checked=!!s),this.onChangeCallback(this.checked),this.cdr&&this.cdr.markForCheck()}registerOnChange(s){this.onChangeCallback=s}registerOnTouched(s){this.onTouchedCallback=s}setDisabledState(s){this.disabled=s}onTouchedCallback=s=>{};onChangeCallback=s=>{};ngOnDestroy(){this._beforeChange&&this._beforeChange.unsubscribe()}static \u0275fac=function(h){return new(h||a)(n.rXU(v,8),n.rXU(n.gRc))};static \u0275cmp=n.VBU({type:a,selectors:[["ui-switch"]],hostBindings:function(h,C){1&h&&n.bIt("click",function(M){return C.onToggle(M)})},inputs:{size:"size",color:"color",switchOffColor:"switchOffColor",switchColor:"switchColor",defaultBgColor:"defaultBgColor",defaultBoColor:"defaultBoColor",checkedLabel:"checkedLabel",uncheckedLabel:"uncheckedLabel",checkedTextColor:"checkedTextColor",uncheckedTextColor:"uncheckedTextColor",beforeChange:"beforeChange",ariaLabel:"ariaLabel",checked:"checked",disabled:"disabled",reverse:"reverse",loading:"loading"},outputs:{change:"change",changeEvent:"changeEvent",valueChange:"valueChange"},features:[n.Jv_([R])],ngContentSelectors:e,decls:4,vars:21,consts:[["type","button","role","switch",1,"switch"],["class","switch-pane",4,"ngIf"],[1,"switch-pane"],[1,"switch-label-checked"],[1,"switch-label-unchecked"]],template:function(h,C){1&h&&(n.NAR(),n.j41(0,"button",0),n.DNE(1,g,5,8,"label",1),n.j41(2,"small"),n.SdG(3),n.k0s()()),2&h&&(n.xc7("background-color",C.getColor())("border-color",C.getColor("borderColor")),n.AVh("checked",C.checked)("disabled",C.disabled)("loading",C.loading)("switch-large","large"===C.size)("switch-medium","medium"===C.size)("switch-small","small"===C.size),n.BMQ("aria-checked",C.checked)("aria-label",C.ariaLabel),n.R7$(),n.Y8G("ngIf",C.checkedLabel||C.uncheckedLabel),n.R7$(),n.xc7("background",C.getColor("switchColor")))},dependencies:[d.bT],encapsulation:2})}return a})(),T=(()=>{class a{static forRoot(s){return{ngModule:a,providers:[{provide:v,useValue:s||{}}]}}static \u0275fac=function(h){return new(h||a)};static \u0275mod=n.$C({type:a});static \u0275inj=n.G2t({imports:[d.MD,o.YN,o.YN]})}return a})()}}]);